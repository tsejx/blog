{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/favicon.ico","path":"images/favicon.ico","modified":1,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.jpeg","path":"images/avatar.jpeg","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"7b66274c41242c16c7c8801a7e5db64e796a5e57","modified":1629255132879},{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1629255060834},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1629255060835},{"_id":"themes/next/.DS_Store","hash":"1281139b003f6c7767a6f8fb1eb898dabfa6d9f6","modified":1629255060832},{"_id":"themes/next/.eslintrc.json","hash":"cc5f297f0322672fe3f684f823bc4659e4a54c41","modified":1629255060835},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1629255060836},{"_id":"themes/next/.travis.yml","hash":"3d1dc928c4a97933e64379cfde749dedf62f252c","modified":1629255060837},{"_id":"themes/next/LICENSE.md","hash":"fc7227c508af3351120181cbf2f9b99dc41f063e","modified":1629255060838},{"_id":"themes/next/bower.json","hash":"a8c832da6aad5245052aed7ff26c246f85d68c6c","modified":1629255060841},{"_id":"themes/next/README.md","hash":"c1d6d1c6b75736b892e179865833ea58da5ca9d2","modified":1629255060839},{"_id":"themes/next/crowdin.yml","hash":"e026078448c77dcdd9ef50256bb6635a8f83dca6","modified":1629255060842},{"_id":"themes/next/gulpfile.coffee","hash":"48d2f9fa88a4210308fc41cc7d3f6d53989f71b7","modified":1629255060868},{"_id":"themes/next/package.json","hash":"11a0b27f92da8abf1efbea6e7a0af4271d7bff9e","modified":1629255061039},{"_id":"themes/next/_config.yml","hash":"c5c6d76ae69593b0c7fa3e51b3f5d85c3aa7c796","modified":1632975584789},{"_id":"source/_posts/about-content-delivery-network.md","hash":"b031d7962a1ce3998accabcc0cf04438a5919e8d","modified":1632938886163},{"_id":"source/_posts/analysis-of-vue-responsive-systrm.md","hash":"57ed24f776c8c8cc49ae6d234a8d16cbb7017d50","modified":1632938920183},{"_id":"source/_posts/architect-design-based-on-rbac.md","hash":"0897bd4e28e39594d07e359746ed01189ea20a5c","modified":1632938898070},{"_id":"source/_posts/building-performance-optimization-based-on-roadhog.md","hash":"47c2ce4e18b9cf83294cb62367618504a87ef0bc","modified":1632938935519},{"_id":"source/_posts/business-experience-summary-of-lading-page.md","hash":"74b3f8f7fff2245179e38caf3a61af0eda6e7f89","modified":1632938947559},{"_id":"source/_posts/form-business-design-pratice-in-antd.md","hash":"bbec19c24b19ef0316e506eaf8aff896c2429ac9","modified":1632938978554},{"_id":"source/_posts/event-chain-based-automatic-test-scheme-of-totorox.md","hash":"80845481d9f324b41c60749b8f04671ae73fd29e","modified":1632938968988},{"_id":"source/_posts/means-for-performance-optimization.md","hash":"b2c6a444978a476a44650fe82f30be31b8a49104","modified":1629257486484},{"_id":"source/_posts/practice-of-page-batch-update-tool-in-visual-configuration-system.md","hash":"2a0bf2544f0fca0b0187f503f2f5a99b8b4048e6","modified":1632938986264},{"_id":"source/_posts/summary-of-common-development-and-debugging-methods-of-mobile-front-end.md","hash":"7f066e80f7edab675ba6baf6871bc189bcd8c64b","modified":1632939010873},{"_id":"source/_posts/rich-text-and-base64.md","hash":"523acbe5b66ff9afab51ac37502ba8ae946f3b1c","modified":1632938998492},{"_id":"source/_posts/web-video-editor-infra.md","hash":"0d42e61410da0767abdcd279d07590993e3ee844","modified":1632939028816},{"_id":"source/about/index.md","hash":"53423ce48047e7954e2e0501807ac3d1b07c04ab","modified":1632973993868},{"_id":"source/images/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1629255132885},{"_id":"source/_posts/web-video-editor-practise.md","hash":"5a04ab614dc267711f42c6d5758b384b8fe2f793","modified":1632938745709},{"_id":"source/tags/index.md","hash":"c038a75a44098c0e3aa4b8b03607265a8a42094d","modified":1629255132886},{"_id":"themes/next/docs/AGPL3.md","hash":"0d2b8c5fa8a614723be0767cc3bca39c49578036","modified":1629255060844},{"_id":"themes/next/docs/ALGOLIA-SEARCH.md","hash":"141e989844d0b5ae2e09fb162a280715afb39b0d","modified":1629255060845},{"_id":"themes/next/docs/AUTHORS.md","hash":"7b24be2891167bdedb9284a682c2344ec63e50b5","modified":1629255060846},{"_id":"themes/next/docs/DATA-FILES.md","hash":"8e1962dd3e1b700169b3ae5bba43992f100651ce","modified":1629255060847},{"_id":"themes/next/docs/INSTALLATION.md","hash":"2bbdd6c1751b2b42ce9b9335da420c6026a483e9","modified":1629255060848},{"_id":"themes/next/docs/LEANCLOUD-COUNTER-SECURITY.md","hash":"120750c03ec30ccaa470b113bbe39f3d423c67f0","modified":1629255060850},{"_id":"themes/next/docs/LICENSE","hash":"fe607fe22fc9308f6434b892a7f2d2c5514b8f0d","modified":1629255060851},{"_id":"themes/next/docs/UPDATE-FROM-5.1.X.md","hash":"ad57c168d12ba01cf144a1ea0627b2ffd1847d3e","modified":1629255060853},{"_id":"themes/next/docs/MATH.md","hash":"0ae4258950de01a457ea8123a8d13ec6db496e53","modified":1629255060852},{"_id":"themes/next/languages/de.yml","hash":"fb478c5040a4e58a4c1ad5fb52a91e5983d65a3a","modified":1629255060869},{"_id":"themes/next/languages/default.yml","hash":"c540c3a0d7db2d4239293c8783881962640b6c34","modified":1629255060872},{"_id":"themes/next/languages/en.yml","hash":"c540c3a0d7db2d4239293c8783881962640b6c34","modified":1629255060872},{"_id":"themes/next/languages/fr.yml","hash":"0162a85ae4175e66882a9ead1249fedb89200467","modified":1629255060880},{"_id":"themes/next/languages/id.yml","hash":"e7fb582e117a0785036dcdbb853a6551263d6aa6","modified":1629255060886},{"_id":"themes/next/languages/it.yml","hash":"62ef41d0a9a3816939cb4d93a524e6930ab9c517","modified":1629255060888},{"_id":"themes/next/languages/ko.yml","hash":"fae155018ae0efdf68669b2c7dd3f959c2e45cc9","modified":1629255060892},{"_id":"themes/next/languages/ja.yml","hash":"5f8e54c666393d1ca2e257f6b1e3b4116f6657d8","modified":1629255060891},{"_id":"themes/next/languages/pt-BR.yml","hash":"bfc80c8a363fa2e8dde38ea2bc85cd19e15ab653","modified":1629255060896},{"_id":"themes/next/languages/nl.yml","hash":"bb9ce8adfa5ee94bc6b5fac6ad24ba4605d180d3","modified":1629255060893},{"_id":"themes/next/languages/pt.yml","hash":"3cb51937d13ff12fcce747f972ccb664840a9ef3","modified":1629255060903},{"_id":"themes/next/languages/ru.yml","hash":"db0644e738d2306ac38567aa183ca3e859a3980f","modified":1629255060905},{"_id":"themes/next/languages/tr.yml","hash":"c5f0c20743b1dd52ccb256050b1397d023e6bcd9","modified":1629255060906},{"_id":"themes/next/languages/vi.yml","hash":"8da921dd8335dd676efce31bf75fdd4af7ce6448","modified":1629255060907},{"_id":"themes/next/languages/zh-CN.yml","hash":"fbbf3a0b664ae8e927c700b0a813692b94345156","modified":1629255060908},{"_id":"themes/next/languages/zh-HK.yml","hash":"7903b96912c605e630fb695534012501b2fad805","modified":1629255060909},{"_id":"themes/next/languages/zh-TW.yml","hash":"6e6d2cd8f4244cb1b349b94904cb4770935acefd","modified":1629255060910},{"_id":"themes/next/layout/_layout.swig","hash":"1b59036ccb2ad571503b94587f458fad46775642","modified":1629255060917},{"_id":"themes/next/layout/category.swig","hash":"5d955284a42f802a48560b4452c80906a5d1da02","modified":1629255061034},{"_id":"themes/next/layout/archive.swig","hash":"00348e37bff100ce1f538c4de2880c344403fa54","modified":1629256500053},{"_id":"themes/next/layout/index.swig","hash":"c2a3896c64e96790edc10426ef586b6186a87f46","modified":1629255061035},{"_id":"themes/next/layout/page.swig","hash":"79040bae5ec14291441b33eea341a24a7c0e9f93","modified":1629255061036},{"_id":"themes/next/layout/post.swig","hash":"318249db246a57e9422875a2457c6acfce974ba5","modified":1629255061037},{"_id":"themes/next/layout/schedule.swig","hash":"3e9cba5313bf3b98a38ccb6ef78b56ffa11d66ee","modified":1629255061038},{"_id":"themes/next/layout/tag.swig","hash":"ba402ce8fd55e80b240e019e8d8c48949b194373","modified":1629255061038},{"_id":"themes/next/scripts/helpers.js","hash":"a70bfad3efda76738dab12e28e8b75e3989ee3da","modified":1629255061040},{"_id":"themes/next/scripts/merge-configs.js","hash":"33afe97284d34542015d358a720823feeebef120","modified":1629255061041},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1629255061042},{"_id":"themes/next/source/.DS_Store","hash":"71fbfc7b99778a7affb4e31551c3bf7dbb20d65a","modified":1629255061054},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1629255061225},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1629255061225},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1629255061226},{"_id":"source/_posts/docker-deploy-pratice.md","hash":"fe08efe77aba06e260c0631533eb58a300adb59d","modified":1632938957819},{"_id":"source/_posts/authentication.md","hash":"06e4d0c20e44965a17559cde2b7d507e418cc622","modified":1632938908439},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1629255061169},{"_id":"themes/next/docs/ru/DATA-FILES.md","hash":"d6d20f60f77a76c77f8e65d0c9adbd79d0274557","modified":1629255060854},{"_id":"themes/next/docs/ru/INSTALLATION.md","hash":"6c5d69e94961c793da156217ecf1179e868d7ba1","modified":1629255060855},{"_id":"themes/next/docs/ru/README.md","hash":"edfe0cfb8b2c9f0effd3beb868af9bfd0fabb3a6","modified":1629255060856},{"_id":"themes/next/docs/ru/UPDATE-FROM-5.1.X.md","hash":"b1dd18d9b890b21718883ea1832e7e02a773104a","modified":1629255060857},{"_id":"themes/next/docs/zh-CN/ALGOLIA-SEARCH.md","hash":"6855402e2ef59aae307e8bd2a990647d3a605eb8","modified":1629255060858},{"_id":"themes/next/docs/zh-CN/CODE_OF_CONDUCT.md","hash":"a45a791b49954331390d548ac34169d573ea5922","modified":1629255060859},{"_id":"themes/next/docs/zh-CN/DATA-FILES.md","hash":"f3eec572a7d83542e2710a7404082014aaa1a5e7","modified":1629255060862},{"_id":"themes/next/docs/zh-CN/INSTALLATION.md","hash":"b19a6e0ae96eb7c756fb5b1ba03934c7f9cbb3c3","modified":1629255060863},{"_id":"themes/next/docs/zh-CN/CONTRIBUTING.md","hash":"44e4fb7ce2eca20dfa98cdd1700b50d6def4086f","modified":1629255060861},{"_id":"themes/next/docs/zh-CN/LEANCLOUD-COUNTER-SECURITY.md","hash":"24cf2618d164440b047bb9396263de83bee5b993","modified":1629255060864},{"_id":"themes/next/docs/zh-CN/README.md","hash":"46b264623af21211a0a9c4ba0cf1318a80eeb9fb","modified":1629255060866},{"_id":"themes/next/docs/zh-CN/MATH.md","hash":"e03607b608db4aa7d46f6726827c51ac16623339","modified":1629255060865},{"_id":"themes/next/docs/zh-CN/UPDATE-FROM-5.1.X.md","hash":"5da70d7fa0c988a66a469b9795d33d471a4a4433","modified":1629255060867},{"_id":"themes/next/layout/_custom/head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1629255060911},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1629255060913},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1629255060913},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1629255060921},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"0790ddbc349508d7ece45a9a4391d0a1cd7263cc","modified":1629255060922},{"_id":"themes/next/layout/_macro/post-related.swig","hash":"08fe30ce8909b920540231e36c97e28cfbce62b6","modified":1629255060923},{"_id":"themes/next/layout/_macro/reward.swig","hash":"bd5778d509c51f4b1d8da3a2bc35462929f08c75","modified":1629255060925},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"a9e1346b83cf99e06bed59a53fc069279751e52a","modified":1629255060927},{"_id":"themes/next/layout/_partials/breadcrumb.swig","hash":"6994d891e064f10607bce23f6e2997db7994010e","modified":1629255060929},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"7cbe5e496de8755634528acdde18d453b6851a78","modified":1629258948984},{"_id":"themes/next/layout/_partials/comments.swig","hash":"eafff2d623af8991844f34819a60e37ac11ef245","modified":1629255060930},{"_id":"themes/next/layout/_partials/footer.swig","hash":"cf8fe76993b513b97f379832222b6ec7e41a1c15","modified":1629255060935},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1aaf32bed57b976c4c1913fd801be34d4838cc72","modified":1629255060943},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"dbe321bcf3cf45917cc11a3e3f50d8572bac2c70","modified":1629255060944},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"6fc63d5da49cb6157b8792f39c7305b55a0d1593","modified":1629255060955},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"0a0129e926c27fffc6e7ef87fe370016bc7a4564","modified":1629255060955},{"_id":"themes/next/layout/_scripts/noscript.swig","hash":"ac3ad2c0eccdf16edaa48816d111aaf51200a54b","modified":1629255060956},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"e0bdc723d1dc858b41fd66e44e2786e6519f259f","modified":1629255060968},{"_id":"themes/next/layout/_third-party/bookmark.swig","hash":"60001c8e08b21bf3a7afaf029839e1455340e95d","modified":1629255060990},{"_id":"themes/next/layout/_third-party/copy-code.swig","hash":"a8ab2035654dd06d94faf11a35750529e922d719","modified":1629255061000},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"f532ce257fca6108e84b8f35329c53f272c2ce84","modified":1629255061001},{"_id":"themes/next/layout/_third-party/github-banner.swig","hash":"cabd9640dc3027a0b3ac06f5ebce777e50754065","modified":1629255061013},{"_id":"themes/next/layout/_third-party/needsharebutton.swig","hash":"927f19160ae14e7030df306fc7114ba777476282","modified":1629255061020},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1629255061021},{"_id":"themes/next/layout/_third-party/pangu.swig","hash":"6b75c5fd76ae7cf0a7b04024510bd5221607eab3","modified":1629255061020},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"b0ca46e0d1ff4c08cb0a3a8c1994f20d0260cef9","modified":1629255061023},{"_id":"themes/next/scripts/tags/button.js","hash":"4b12c376bea894d23cca0f9fcb3d6518b6db279d","modified":1629255061044},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"f13430d9d1c9773b390787c2f046bb1f12a79878","modified":1629255061045},{"_id":"themes/next/scripts/tags/exturl.js","hash":"1412ce2ef59fa4137b697a507fd759ff067a2398","modified":1629255061046},{"_id":"themes/next/scripts/tags/full-image.js","hash":"e282bf5a7c70b3d354001e8f66d3bef1a4fbb79e","modified":1629255061047},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"1d59b968af4b8d147f8bc9bc295d596e41be8348","modified":1629255061047},{"_id":"themes/next/scripts/tags/include-raw.js","hash":"545102e3aa3ce494f7046abf71cefb7aaf671559","modified":1629255061050},{"_id":"themes/next/scripts/tags/label.js","hash":"f0ecd3b5773b19a6bd93a819dfe0c49ee418e4de","modified":1629255061051},{"_id":"themes/next/scripts/tags/note.js","hash":"adb945ba93ac487d46b969ca4e59d3681b8f8d1c","modified":1629255061052},{"_id":"themes/next/scripts/tags/tabs.js","hash":"e37761253d68a29593fe9ed2fe403f49b6e971de","modified":1629255061053},{"_id":"themes/next/source/css/main.styl","hash":"c26ca6e7b5bd910b9046d6722c8e00be672890e0","modified":1629255061168},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1629255061170},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1629255061171},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1629255061172},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1629255061173},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1629255061174},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1629255061176},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1629255061177},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1629255061178},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1629255061179},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1629255061180},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1629255061180},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1629255061184},{"_id":"themes/next/source/images/favicon.ico","hash":"12c44eb7d5b9ba501ba51554c337a9c85b528871","modified":1629255061185},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1629255061186},{"_id":"themes/next/source/images/logo.svg","hash":"d29cacbae1bdc4bbccb542107ee0524fe55ad6de","modified":1629255061186},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1629255061187},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1629255061188},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1629255061188},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1629255061189},{"_id":"themes/next/layout/_macro/post.swig","hash":"27922af64ecb9db9a28bcf1c98fb68b26bf0b67a","modified":1629255060924},{"_id":"themes/next/source/images/avatar.jpeg","hash":"c2cb171a5aec9d9d9d0853bdc191a32793c9bfa3","modified":1629255061173},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1629255061022},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1629255060960},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1629255060959},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1629255061136},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1629255061136},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1629255061138},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1629255061162},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1629255061164},{"_id":"themes/next/layout/_macro/menu/menu-badge.swig","hash":"65c5e585982dae7ae1542cada71858b4ea1f73d6","modified":1629255060919},{"_id":"themes/next/layout/_macro/menu/menu-item.swig","hash":"d1b73c926109145e52605929b75914cc8b60fb89","modified":1629255060920},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1629255060936},{"_id":"themes/next/layout/_partials/header/brand.swig","hash":"fd780171713aada5eb4f4ffed8e714617c8ae6be","modified":1629255060940},{"_id":"themes/next/layout/_partials/head/head.swig","hash":"00bf33b3c557b8f7e9faf49b226ea6ff7df5cda0","modified":1629255060939},{"_id":"themes/next/layout/_partials/header/index.swig","hash":"2082f5077551123e695e8afec471c9c44b436acb","modified":1629255060941},{"_id":"themes/next/layout/_partials/header/sub-menu.swig","hash":"88b4b6051592d26bff59788acb76346ce4e398c2","modified":1629255060943},{"_id":"themes/next/layout/_partials/header/menu.swig","hash":"3db735d0cd2d449edf2674310ac1e7c0043cb357","modified":1629255060942},{"_id":"themes/next/layout/_partials/search/index.swig","hash":"a33b29ccbdc2248aedff23b04e0627f435824406","modified":1629255060946},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1629255060947},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1629255060950},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1629255060949},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1629255060951},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1629255060952},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1629255060953},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"cc865af4a3cb6d25a0be171b7fc919ade306bb50","modified":1629255060957},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"ea03fe9c98ddcfcc0ecfdbe5a2b622f9cde3b3a1","modified":1629255060959},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"ea03fe9c98ddcfcc0ecfdbe5a2b622f9cde3b3a1","modified":1629255060963},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"98df9d72e37dd071e882f2d5623c9d817815b139","modified":1629255060972},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1629255060973},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1629255060974},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"67f0cb55e6702c492e99a9f697827629da036a0c","modified":1629255060975},{"_id":"themes/next/layout/_third-party/analytics/firestore.swig","hash":"94b26dfbcd1cf2eb87dd9752d58213338926af27","modified":1629255060980},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1629255060976},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1629255060979},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1629255060987},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"5e9bb24c750b49513d9a65799e832f07410002ac","modified":1629255060984},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"beb53371c035b62e1a2c7bb76c63afbb595fe6e5","modified":1629255060983},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1629255060989},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1629255060988},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"43f70cdc999c66b9c7889a13150ec63e99b1fdd0","modified":1629255060986},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"8878241797f8494a70968756c57cacdfc77b61c7","modified":1629255060992},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1629255060991},{"_id":"themes/next/layout/_third-party/comments/gitment.swig","hash":"fe8177e4698df764e470354b6acde8292a3515e0","modified":1629255060995},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"03e83f1311faafb7dddc2899042ed1cacd5c995e","modified":1629255060996},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"88b5a808b6b254c6122444e9dc180d5cc459cb19","modified":1629255060997},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"34421679cae6581697cd3ab7c3729eb220e3e3f5","modified":1629255060999},{"_id":"themes/next/layout/_third-party/math/katex.swig","hash":"97dbc2035bcb5aa7eafb80a4202dc827cce34983","modified":1629255061017},{"_id":"themes/next/layout/_third-party/math/index.swig","hash":"a6fc00ec7f5642aabd66aa1cf51c6acc5b10e012","modified":1629255061016},{"_id":"themes/next/layout/_third-party/math/mathjax.swig","hash":"9b9ff4cc6d5474ab03f09835a2be80e0dba9fe89","modified":1629255061019},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1629255061027},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"b15e10abe85b4270860a56c970b559baa258b2a8","modified":1629255061028},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1629255061029},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1629255061030},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1629255061134},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1629255061135},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"51c2907e5c50c2614419b670fbdec183ae7f7f5d","modified":1629255061138},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"2640a54fa63bdd4c547eab7ce2fc1192cf0ccec8","modified":1629255061137},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"e1f6f59ad6e562dfe640ee4ed5d1ac9b6aba4114","modified":1629255061160},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"be087dcc060e8179f7e7f60ab4feb65817bd3d9f","modified":1629255061161},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"c167eeb6b736f7b021fba98c38c2c21032ee1255","modified":1629255061162},{"_id":"themes/next/source/css/_variables/base.styl","hash":"0b43ddd92e395342703550f629699c5e591fd68b","modified":1629255061163},{"_id":"themes/next/source/js/src/affix.js","hash":"a2aab233d99297435a5274bf512c3c753fe08e80","modified":1629255061191},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"1f7f10c579e7703d0f6acb8b73f3d78a07d0c623","modified":1629255061191},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"1c41508b83cb0c4512e64b4d63afa1be954ce8ef","modified":1629255061192},{"_id":"themes/next/source/js/src/exturl.js","hash":"54825acc8de4793feac415be227b965428f4e97d","modified":1629255061193},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1629255061193},{"_id":"themes/next/source/js/src/motion.js","hash":"52fd093cb96b68229b38436c9b8ebcefc7e12cb2","modified":1629255061194},{"_id":"themes/next/source/js/src/post-details.js","hash":"9e9b078d7ec2505c15157c9fc588e042e34465fe","modified":1629261129900},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"d07b3776708d4ae79ed2037c4c7391d5c9b06b19","modified":1629255061196},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fa3c92968bcdbcb8d95a1729f7659d9753cbd077","modified":1629255061197},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1629255061203},{"_id":"themes/next/source/js/src/utils.js","hash":"e829806d054991d0324a339993082206ca6026e5","modified":1629255061200},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1629255061202},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1629255061204},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1629255061204},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1629255061205},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1629255061223},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1629255061224},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1629255061224},{"_id":"themes/next/layout/_partials/head/head-unique.swig","hash":"a7e376b087ae77f2e2a61ba6af81cde5af693174","modified":1629255060938},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1629255061216},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"6958a97fde63e03983ec2394a4f8e408860fb42b","modified":1629255061025},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1629255061026},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"4719ce717962663c5c33ef97b1119a0b3a4ecdc3","modified":1629255061056},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"7e509c7c28c59f905b847304dd3d14d94b6f3b8e","modified":1629255061062},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1629255061063},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1629255061066},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"c5d48863f332ff8ce7c88dec2c893f709d7331d3","modified":1629255061086},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1629255061111},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"aebbd86500d819c4532ab290c62b6f432bc2f878","modified":1629255061127},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"18309b68ff33163a6f76a39437e618bb6ed411f8","modified":1629255061128},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1629255061129},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"47a46583a1f3731157a3f53f80ed1ed5e2753e8e","modified":1629255061130},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1629255061131},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"0810e7c43d6c8adc8434a8fa66eabe0436ab8178","modified":1629255061132},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"0bef9f0dc134215bc4d0984ba3a16a1a0b6f87ec","modified":1629255061141},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"fca5320e2644edcd663888863899d1b80352439b","modified":1629255061140},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1629255061141},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1629255061142},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"f43c821ea272f80703862260b140932fe4aa0e1f","modified":1629255061143},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"2212511ae14258d93bec57993c0385e5ffbb382b","modified":1629255061143},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1629255061144},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"5e12572b18846250e016a872a738026478ceef37","modified":1629255061145},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1629255061150},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1629255061151},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"35f093fe4c1861661ac1542d6e8ea5a9bbfeb659","modified":1629255061151},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1629255061152},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"d5e8ea6336bc2e237d501ed0d5bbcbbfe296c832","modified":1629255061153},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1629255061155},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"876b5d99061025cf485a3cac440624ded5734319","modified":1629255061156},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"05a5abf02e84ba8f639b6f9533418359f0ae4ecb","modified":1629255061157},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1629255061157},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"41f9cdafa00e256561c50ae0b97ab7fcd7c1d6a2","modified":1629255061158},{"_id":"themes/next/source/css/_schemes/Pisces/_sub-menu.styl","hash":"ffa870c3fa37a48b01dc6f967e66f5df508d02bf","modified":1629255061159},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"5779cc8086b1cfde9bc4f1afdd85223bdc45f0a0","modified":1629255061159},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"ab6f13fae0513a9b39f8d8c4c3a4e3928014f046","modified":1629255061195},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1629255061209},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1629255061219},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1629255061220},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1629255061061},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1629255061208},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1629255061207},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1629255061130},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1629255061213},{"_id":"themes/next/source/css/_common/components/header/github-banner.styl","hash":"ee37e6c465b9b2a7e39175fccfcbed14f2db039b","modified":1629255061070},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"7cc3f36222494c9a1325c5347d7eb9ae53755a32","modified":1629255061071},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1629255061072},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1629255061072},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1629255061073},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1629255061074},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1629255061076},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"17b95828f9db7f131ec0361a8c0e89b0b5c9bff5","modified":1629255061077},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"f5aa2ba3bfffc15475e7e72a55b5c9d18609fdf5","modified":1629255061079},{"_id":"themes/next/source/css/_common/components/pages/breadcrumb.styl","hash":"7dd9a0378ccff3e4a2003f486b1a34e74c20dac6","modified":1629255061080},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1629255061081},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1629255061078},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"fb451dc4cc0355b57849c27d3eb110c73562f794","modified":1629255061083},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1629255061084},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1629255061085},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"e72a89e0f421444453e149ba32c77a64bd8e44e8","modified":1629255061089},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"39dee82d481dd9d44e33658960ec63e47cd0a715","modified":1629255061068},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1629255061090},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1629255061091},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1629255061092},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1629255061094},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"ca89b167d368eac50a4f808fa53ba67e69cbef94","modified":1629255061093},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"417f05ff12a2aaca6ceeac8b7e7eb26e9440c4c3","modified":1629255061095},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"36332c8a91f089f545f3c3e8ea90d08aa4d6e60c","modified":1629255061097},{"_id":"themes/next/source/css/_common/components/post/post-reading_progress.styl","hash":"f4e9f870baa56eae423a123062f00e24cc780be1","modified":1629255061096},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1629255061095},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1629255061098},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1629255061099},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"c0ac49fadd33ca4a9a0a04d5ff2ac6560d0ecd9e","modified":1629255061100},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1629255061101},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"578bb2d5f24cad39205bbafb4c39c7e9962b9fa9","modified":1629255061101},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"ed9608d2740a33664eb703f806c218a4fc520087","modified":1629255061102},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"bbe0d111f6451fc04e52719fd538bd0753ec17f9","modified":1629255061104},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"35c0350096921dd8e2222ec41b6c17a4ea6b44f2","modified":1629255061104},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"89dd4f8b1f1cce3ad46cf2256038472712387d02","modified":1629255061105},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1629255061106},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1629255061107},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1629255061107},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"4427ed3250483ed5b7baad74fa93474bd1eda729","modified":1629255061108},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1629255061109},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"43bc58daa8d35d5d515dc787ceb21dd77633fe49","modified":1629255061109},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1629255061110},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1629255061112},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"cf2185a0ea170fd8450f592e859a6c941141e5ee","modified":1629255061113},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"6ec8ea7b11a146777b6b8da0f71f0cc1dbd129df","modified":1629255061114},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1629255061116},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1629255061117},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"ee7528900578ef4753effe05b346381c40de5499","modified":1629255061118},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1629255061118},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1629255061119},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1629255061120},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"10e9bb3392826a5a8f4cabfc14c6d81645f33fe6","modified":1629255061121},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1629255061122},{"_id":"themes/next/source/css/_common/components/third-party/gitment.styl","hash":"34935b40237c074be5f5e8818c14ccfd802b7439","modified":1629255061123},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1629255061123},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1629255061124},{"_id":"themes/next/source/css/_common/components/third-party/needsharebutton.styl","hash":"a5e3e6b4b4b814a9fe40b34d784fed67d6d977fa","modified":1629255061125},{"_id":"themes/next/source/css/_common/components/third-party/related-posts.styl","hash":"76937db9702053d772f6758d9cea4088c2a6e2a3","modified":1629255061125},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"1c18c91ab3c60169ebe654c80c968fd8458786a3","modified":1629255061126},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1629255061146},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1629255061148},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1629255061154},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1629255061222},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1629255061212},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1629255061211}],"Category":[],"Data":[],"Page":[{"title":"ÁÆÄ‰ªã","date":"2021-09-30T03:53:13.000Z","_content":"\nüìç ÂπøÂ∑û\n\nüçâ ÂæÆ‰ø°ÔºömrsingsingÔºàËØ∑Ê≥®ÊòéÊù•ÊÑèÔºâ\n\nüíª GithubÔºö[https://github.com/tsejx](https://github.com/tsejx)\n\nüèÑüèª‚Äç‚ôÇÔ∏è Ê∑±ËÄï‰∫íËÅîÁΩë‰∫ß‰∏öÔºåÁÉ≠Áà±Êé¢ÂØªÂÖ∑ÊúâÊåëÊàòÊÄßÁöÑÂ∑•Á®ãÈ°πÁõÆ\n","source":"about/index.md","raw":"---\ntitle: ÁÆÄ‰ªã\ndate: 2021-09-30 11:53:13\n---\n\nüìç ÂπøÂ∑û\n\nüçâ ÂæÆ‰ø°ÔºömrsingsingÔºàËØ∑Ê≥®ÊòéÊù•ÊÑèÔºâ\n\nüíª GithubÔºö[https://github.com/tsejx](https://github.com/tsejx)\n\nüèÑüèª‚Äç‚ôÇÔ∏è Ê∑±ËÄï‰∫íËÅîÁΩë‰∫ß‰∏öÔºåÁÉ≠Áà±Êé¢ÂØªÂÖ∑ÊúâÊåëÊàòÊÄßÁöÑÂ∑•Á®ãÈ°πÁõÆ\n","updated":"2021-10-01T10:04:52.391Z","path":"about/index.html","_id":"cku867nby0008bmjdub7kq9gq","comments":1,"layout":"page","content":"<p>üìç ÂπøÂ∑û</p>\n<p>üçâ ÂæÆ‰ø°ÔºömrsingsingÔºàËØ∑Ê≥®ÊòéÊù•ÊÑèÔºâ</p>\n<p>üíª GithubÔºö<a href=\"https://github.com/tsejx\" target=\"_blank\" rel=\"noopener\">https://github.com/tsejx</a></p>\n<p>üèÑüèª‚Äç‚ôÇÔ∏è Ê∑±ËÄï‰∫íËÅîÁΩë‰∫ß‰∏öÔºåÁÉ≠Áà±Êé¢ÂØªÂÖ∑ÊúâÊåëÊàòÊÄßÁöÑÂ∑•Á®ãÈ°πÁõÆ</p>\n","site":{"data":{}},"excerpt":"","more":"<p>üìç ÂπøÂ∑û</p>\n<p>üçâ ÂæÆ‰ø°ÔºömrsingsingÔºàËØ∑Ê≥®ÊòéÊù•ÊÑèÔºâ</p>\n<p>üíª GithubÔºö<a href=\"https://github.com/tsejx\" target=\"_blank\" rel=\"noopener\">https://github.com/tsejx</a></p>\n<p>üèÑüèª‚Äç‚ôÇÔ∏è Ê∑±ËÄï‰∫íËÅîÁΩë‰∫ß‰∏öÔºåÁÉ≠Áà±Êé¢ÂØªÂÖ∑ÊúâÊåëÊàòÊÄßÁöÑÂ∑•Á®ãÈ°πÁõÆ</p>\n"},{"title":"tags","date":"2018-07-24T07:01:57.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2018-07-24 15:01:57\ntype: \"tags\"\ncomments: false\n---\n","updated":"2021-08-18T02:52:12.886Z","path":"tags/index.html","layout":"page","_id":"cku867nc1000abmjddr5qn9fs","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"ÂÖ≥‰∫é CDN ÂÜÖÂÆπÂàÜÂèëÁΩëÁªú","date":"2020-08-20T00:00:00.000Z","_content":"\n**ÂÖßÂÆπÂàÜÂèëÁΩëÁªúÔºàContent Delivery Network Êàñ Content Distribution NetworkÔºåÁÆÄÁß∞ CDNÔºâ** ÈÄöËøáÂ∞ÜÊ∫êÁ´ôÂÜÖÂÆπÂàÜÂèëËá≥ **ÊúÄÊé•ËøëÁî®Êà∑** ÁöÑËäÇÁÇπÔºå‰ªéËÄå **Èôç‰ΩéÊ†∏ÂøÉÁ≥ªÁªüË¥üËΩΩÔºàÁ≥ªÁªü„ÄÅÁΩëÁªúÔºâ**Ôºå‰ΩøÁî®Êà∑ÂèØÂ∞±ËøëÂèñÂæóÊâÄÈúÄÂÜÖÂÆπÔºå**ÊèêÈ´òÁî®Êà∑ËÆøÈóÆÁöÑÂìçÂ∫îÈÄüÂ∫¶**„ÄÇËøôÁßçÊäÄÊúØÊñπÊ°àËß£ÂÜ≥‰∫ÜÂõ†ÂàÜÂ∏É„ÄÅÂ∏¶ÂÆΩ„ÄÅÊúçÂä°Âô®ÊÄßËÉΩÂ∏¶Êù•ÁöÑËÆøÈóÆÂª∂ËøüÈóÆÈ¢òÔºåÈÄÇÁî®‰∫éÂõæÁâáÂ∞èÊñá‰ª∂„ÄÅÂ§ßÊñá‰ª∂‰∏ãËΩΩ„ÄÅÈü≥ËßÜÈ¢ëÁÇπÊí≠„ÄÅÂÖ®Á´ôÂä†ÈÄüÂíåÂÆâÂÖ®Âä†ÈÄüÁ≠âÂú∫ÊôØ„ÄÇ\n\n## Â∑•‰ΩúÂéüÁêÜ\n\nÈÄöËøáÂú®ÁΩëÁªúÂêÑÂ§ÑÊîæÁΩÆËäÇÁÇπÊúçÂä°Âô®ÊâÄÊûÑÊàêÁöÑÂú®Áé∞ÊúâÁöÑ‰∫íËÅîÁΩëÂü∫Á°Ä‰πã‰∏äÁöÑ‰∏ÄÂ±ÇÊô∫ËÉΩËôöÊãüÁΩëÁªúÔºåCDN Á≥ªÁªüËÉΩÂ§üÂÆûÊó∂Âú∞Ê†πÊçÆ **ÁΩëÁªúÊµÅÈáè** Âíå **ÂêÑËäÇÁÇπÁöÑËøûÊé•**„ÄÅ**Ë¥üËΩΩÁä∂ÂÜµ** ‰ª•Âèä **Âà∞Áî®Êà∑ÁöÑË∑ùÁ¶ª** Âíå **ÂìçÂ∫îÊó∂Èó¥** Á≠âÁªºÂêà‰ø°ÊÅØÂ∞ÜÁî®Êà∑ÁöÑËØ∑Ê±ÇÈáçÊñ∞ÂØºÂêëÁ¶ªÁî®Êà∑ÊúÄËøëÁöÑÊúçÂä°ËäÇÁÇπ‰∏ä„ÄÇ\n\nÂà©Áî®ÂÖ¨ÂºèÁÆÄËø∞ CDN ÂèØË°®Á§∫‰∏∫Ôºö\n\n```js\nCDN = Êõ¥Êô∫ËÉΩÁöÑÈïúÂÉè + ÁºìÂ≠ò + ÊµÅÈáèÂØºÊµÅ;\n```\n\nÁÆÄÂçïÂú∞ËØ¥ÔºåCDN ÊòØ‰∏Ä‰∏™ÁªèÁ≠ñÁï•ÊÄßÈÉ®ÁΩ≤ÁöÑÊï¥‰ΩìÁ≥ªÁªüÔºåÂåÖÊã¨**ÂàÜÂ∏ÉÂºèÂ≠òÂÇ®**„ÄÅ**Ë¥üËΩΩÂùáË°°**„ÄÅ**ÁΩëÁªúËØ∑Ê±ÇÁöÑÈáçÂÆöÂêë** Âíå **ÂÜÖÂÆπÁÆ°ÁêÜ** 4 ‰∏™Ë¶Å‰ª∂ÔºåËÄåÂÜÖÂÆπÁÆ°ÁêÜÂíåÂÖ®Â±ÄÁöÑÁΩëÁªúÊµÅÈáèÁÆ°ÁêÜÔºàTraffic ManagementÔºâÊòØ CDN ÁöÑÊ†∏ÂøÉÊâÄÂú®„ÄÇ\n\n## Â∑•‰ΩúÊµÅÁ®ã\n\nÁî®Êà∑ÁªàÁ´ØËÆøÈóÆ CDN ÁöÑËøáÁ®ãÂàÜ‰∏∫‰∏§‰∏™Ê≠•È™§Ôºå‰∏ÄÊòØÁî®Êà∑ÈÄöËøá DNS ÊâæÂà∞ÊúÄËøëÁöÑ CDN ËæπÁºòËäÇÁÇπ IPÔºå‰∫åÊòØÊï∞ÊçÆÂú®ÁΩëÁªú‰∏≠ÈÄÅËææÁî®Êà∑ÁªàÁ´Ø„ÄÇ\n\nÊúÄÁÆÄÂçïÁöÑ CDN ÁΩëÁªúÁî±‰∏Ä‰∏™ DNS ÊúçÂä°Âô®ÂíåÂá†Âè∞ÁºìÂ≠òÊúçÂä°Âô®ÁªÑÊàêÔºåÂÅáËÆæÊÇ®ÁöÑÂä†ÈÄüÂüüÂêç‰∏∫ `www.taobao.com`ÔºåÊé•ÂÖ• CDN ÁΩëÁªúÔºåÂºÄÂßã‰ΩøÁî®Âä†ÈÄüÊúçÂä°ÂêéÔºåÂΩìÁªàÁ´ØÁî®Êà∑ÔºàÂπøÂ∑ûÔºâÂèëËµ∑ HTTP ËØ∑Ê±ÇÊó∂ÔºåÂ§ÑÁêÜÊµÅÁ®ãÂ¶Ç‰∏ãÔºö\n\n![CDN Workflow](https://img.mrsingsing.com/about-cdn-cdn-workflow.jpg)\n\n<!-- more -->\n\n1. ÂΩìÁªàÁ´ØÁî®Êà∑ÔºàÂπøÂ∑ûÔºâÂêë `www.taobao.com` ‰∏ãÁöÑÊüêËµÑÊ∫êÂèëËµ∑ËØ∑Ê±ÇÊó∂ÔºåÈ¶ñÂÖàÂêë LDNSÔºàÊú¨Âú∞ DNSÔºâÂèëËµ∑ÂüüÂêçËß£ÊûêËØ∑Ê±Ç„ÄÇ\n2. LDNS Ê£ÄÊü•ÁºìÂ≠ò‰∏≠ÊòØÂê¶Êúâ `www.taobao.com` ÁöÑ IP Âú∞ÂùÄËÆ∞ÂΩï„ÄÇÂ¶ÇÊûúÊúâÔºåÂàôÁõ¥Êé•ËøîÂõûÁªôÁªàÁ´ØÁî®Êà∑ÔºõÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàôÂêëÊéàÊùÉ DNS Êü•ËØ¢„ÄÇ\n3. ÂΩìÊéàÊùÉ DNS Ëß£Êûê `www.taobao.com` Êó∂ÔºåËøîÂõûÂüüÂêç CNAME `www.taobao.alicdn.com` ÂØπÂ∫î IP Âú∞ÂùÄ„ÄÇ\n4. ÂüüÂêçËß£ÊûêËØ∑Ê±ÇÂèëÈÄÅËá≥ DNS Ë∞ÉÂ∫¶Á≥ªÁªüÔºåÂπ∂‰∏∫ËØ∑Ê±ÇÂàÜÈÖçÊúÄ‰Ω≥ËäÇÁÇπ IP Âú∞ÂùÄ„ÄÇ\n5. LDNS Ëé∑Âèñ DNS ËøîÂõûÁöÑËß£Êûê IP Âú∞ÂùÄ„ÄÇ\n6. Áî®Êà∑Ëé∑ÂèñËß£Êûê IP Âú∞ÂùÄ„ÄÇ\n7. Áî®Êà∑ÂêëËé∑ÂèñÁöÑ IP Âú∞ÂùÄÂèëËµ∑ÂØπËØ•ËµÑÊ∫êÁöÑËÆøÈóÆËØ∑Ê±Ç„ÄÇ\n   - Â¶ÇÊûúËØ• IP Âú∞ÂùÄÂØπÂ∫îÁöÑËäÇÁÇπÂ∑≤ÁºìÂ≠òËØ•ËµÑÊ∫êÔºåÂàô‰ºöÂ∞ÜÊï∞ÊçÆÁõ¥Êé•ËøîÂõûÁªôÁî®Êà∑Ôºå‰æãÂ¶ÇÔºåÂõæ‰∏≠Ê≠•È™§ 7 Âíå 8ÔºåËØ∑Ê±ÇÁªìÊùü„ÄÇ\n   - Â¶ÇÊûúËØ• IP Âú∞ÂùÄÂØπÂ∫îÁöÑËäÇÁÇπÊú™ÁºìÂ≠òËØ•ËµÑÊ∫êÔºåÂàôËäÇÁÇπÂêëÂÆÉÁöÑ‰∏äÁ∫ßÁºìÂ≠òÊúçÂä°Âô®ËØ∑Ê±ÇÂÜÖÂÆπÔºåÁõ¥Ëá≥ËøΩÊ∫ØÂà∞ÁΩëÁ´ôÁöÑÊ∫êÁ´ôÂèëËµ∑ÂØπËØ•ËµÑÊ∫êÁöÑËØ∑Ê±Ç„ÄÇËé∑ÂèñËµÑÊ∫êÂêéÔºåÁªìÂêàÁî®Êà∑Ëá™ÂÆö‰πâÈÖçÁΩÆÁöÑÁºìÂ≠òÁ≠ñÁï•ÔºåÂ∞ÜËµÑÊ∫êÁºìÂ≠òËá≥ËäÇÁÇπÔºå‰æãÂ¶ÇÔºåÈÄî‰∏≠ÁöÑÊù≠Â∑ûËäÇÁÇπÔºåÂπ∂ËøîÂõûÁªôÁî®Êà∑ÔºåËØ∑Ê±ÇÁªìÊùü„ÄÇ\n\n> Local DNS ÈÄöÂ∏∏ÊòØ‰Ω†ÁöÑËøêËê•ÂïÜÊèê‰æõÁöÑ DNSÔºå‰∏ÄËà¨ÂüüÂêçËß£ÊûêÁöÑÁ¨¨‰∏ÄÁ´ô‰ºöÂà∞ËøôÈáå\n> ÂõûÊ∫ê HOST ÊòØÊåá CDN ËäÇÁÇπÂú®ÂõûÊ∫êËøáÁ®ã‰∏≠ÔºåÂú®Ê∫êÁ´ôËÆøÈóÆÁöÑÁ´ôÁÇπÂüüÂêç„ÄÇ\n\nÂú®Ê≠•È™§Âõõ‰∏≠ÔºåDNS Ë∞ÉÂ∫¶Á≥ªÁªüÂèØ‰ª•ÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÂäüËÉΩÔºåË¥üËΩΩÂùáË°°ÂàÜ‰∏∫ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ÂíåÂå∫ÂüüË¥üËΩΩÂùáË°°ÔºåÂÖ∂ÂÜÖÈÉ®ÈÄªËæëÂ§ßËá¥Â¶Ç‰∏ãÔºö\n\n1. CDN ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ËÆæÂ§á‰ºöÊ†πÊçÆÁî®Êà∑ IP Âú∞ÂùÄÔºå‰ª•ÂèäÁî®Êà∑ËØ∑Ê±ÇÁöÑÂÜÖÂÆπ URLÔºåÈÄâÊã©‰∏ÄÂè∞Áî®Êà∑ÊâÄÂ±ûÂå∫ÂüüÁöÑ**Âå∫ÂüüË¥üËΩΩÂùáË°°ËÆæÂ§á**ÔºåÂëäËØâÁî®Êà∑ÂêëËøôÂè∞ËÆæÂ§áÂèëËµ∑ËØ∑Ê±Ç„ÄÇ\n2. Âå∫ÂüüË¥üËΩΩÂùáË°°ËÆæÂ§á‰ºö‰∏∫Áî®Êà∑ÈÄâÊã©‰∏ÄÂè∞ÂêàÈÄÇÁöÑ**ÁºìÂ≠òÊúçÂä°Âô®**Êèê‰æõÊúçÂä°ÔºåÈÄâÊã©ÁöÑ‰æùÊçÆÂåÖÊã¨Ôºö\n   - Ê†πÊçÆÁî®Êà∑ IP Âú∞ÂùÄÔºåÂà§Êñ≠Âì™‰∏ÄÂè∞ÊúçÂä°Âô®Ë∑ùÁî®Êà∑ÊúÄËøëÔºõ\n   - Áî®Êà∑ÊâÄÂ§ÑÁöÑËøêËê•ÂïÜÔºõ\n   - Ê†πÊçÆÁî®Êà∑ÊâÄËØ∑Ê±ÇÁöÑ URL ‰∏≠Êê∫Â∏¶ÁöÑÂÜÖÂÆπÂêçÁß∞ÔºåÂà§Êñ≠Âì™‰∏ÄÂè∞ÊúçÂä°Âô®‰∏äÊúâÁî®Êà∑ÊâÄÈúÄÂÜÖÂÆπÔºõ\n   - Êü•ËØ¢ÂêÑ‰∏™ÊúçÂä°Âô®ÂΩìÂâçÁöÑË¥üËΩΩÊÉÖÂÜµÔºåÂà§Êñ≠Âì™‰∏ÄÂè∞ÊúçÂä°Âô®Â∞öÊúâÊúçÂä°ËÉΩÂäõ„ÄÇ\n     Âü∫‰∫é‰ª•‰∏äËøô‰∫õÊù°‰ª∂ÁöÑÁªºÂêàÂàÜÊûê‰πãÂêéÔºåÂå∫ÂüüË¥üËΩΩÂùáË°°ËÆæÂ§á‰ºöÂêëÂÖ®Â±ÄË¥üËΩΩÂùáË°°ËÆæÂ§áËøîÂõû‰∏ÄÂè∞ÁºìÂ≠òÊúçÂä°Âô®ÁöÑ IP Âú∞ÂùÄ„ÄÇ\n3. ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ËÆæÂ§áÊääÊúçÂä°Âô®ÁöÑ IP Âú∞ÂùÄËøîÂõûÁªôÁî®Êà∑„ÄÇ\n\n## ÁªÑÊàêÈÉ®ÂàÜ\n\nÂÖ∏ÂûãÁöÑ CDN Á≥ªÁªüÁî±‰∏ãÈù¢‰∏â‰∏™ÈÉ®ÂàÜÁªÑÊàêÔºö\n\n- **ÂàÜÂèëÊúçÂä°Á≥ªÁªü**ÔºöÊúÄÂü∫Êú¨ÁöÑÂ∑•‰ΩúÂçïÂÖÉÂ∞±ÊòØ Cache ËÆæÂ§áÔºåCacheÔºàËæπÁºò CacheÔºâË¥üË¥£Áõ¥Êé•ÂìçÂ∫îÊúÄÁªàÁî®Êà∑ÁöÑËÆøÈóÆËØ∑Ê±ÇÔºåÊääÁºìÂ≠òÂú®Êú¨Âú∞ÁöÑÂÜÖÂÆπÂø´ÈÄüÂú∞Êèê‰æõÁªôÁî®Êà∑„ÄÇÂêåÊó∂ Cache ËøòË¥üË¥£‰∏éÊ∫êÁ´ôÁÇπËøõË°åÂÜÖÂÆπÂêåÊ≠•ÔºåÊääÊõ¥Êñ∞ÁöÑÂÜÖÂÆπ‰ª•ÂèäÊú¨Âú∞Ê≤°ÊúâÁöÑÂÜÖÂÆπ‰ªéÊ∫êÁ´ôÁÇπËé∑ÂèñÂπ∂‰øùÂ≠òÂú®Êú¨Âú∞„ÄÇCache ËÆæÂ§áÁöÑÊï∞Èáè„ÄÅËßÑÊ®°„ÄÅÊÄªÊúçÂä°ËÉΩÂäõÊòØË°°Èáè‰∏Ä‰∏™ CDN Á≥ªÁªüÊúçÂä°ËÉΩÂäõÁöÑÊúÄÂü∫Êú¨ÁöÑÊåáÊ†á„ÄÇ\n- **Ë¥üËΩΩÂùáË°°Á≥ªÁªü**Ôºö‰∏ªË¶ÅÂäüËÉΩÊòØË¥üË¥£ÂØπÊâÄÊúâÂèëËµ∑ÊúçÂä°ËØ∑Ê±ÇÁöÑÁî®Êà∑ËøõË°åËÆøÈóÆË∞ÉÂ∫¶ÔºåÁ°ÆÂÆöÊèê‰æõÁªôÁî®Êà∑ÁöÑÊúÄÁªàÂÆûÈôÖËÆøÈóÆÂú∞ÂùÄ„ÄÇ‰∏§Á∫ßË∞ÉÂ∫¶‰ΩìÁ≥ªÂàÜ‰∏∫ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ÔºàGSLBÔºâÂíåÊú¨Âú∞Ë¥üËΩΩÂùáË°°ÔºàSLBÔºâ„ÄÇGSLB ‰∏ªË¶ÅÊ†πÊçÆÁî®Êà∑Â∞±ËøëÊÄßÂéüÂàôÔºåÈÄöËøáÂØπÊØè‰∏™ÊúçÂä°ËäÇÁÇπËøõË°å‚ÄùÊúÄ‰ºò‚ÄúÂà§Êñ≠ÔºåÁ°ÆÂÆöÂêëÁî®Êà∑Êèê‰æõÊúçÂä°ÁöÑ Cache ÁöÑÁâ©ÁêÜ‰ΩçÁΩÆ„ÄÇSLB ‰∏ªË¶ÅË¥üË¥£ËäÇÁÇπÂÜÖÈÉ®ÁöÑËÆæÂ§áË¥üËΩΩÂùáË°°\n- **ËøêËê•ÁÆ°ÁêÜÁ≥ªÁªü**ÔºöÂàÜ‰∏∫ËøêËê•ÁÆ°ÁêÜÂíåÁΩëÁªúÁÆ°ÁêÜÂ≠êÁ≥ªÁªüÔºåË¥üË¥£Â§ÑÁêÜ‰∏öÂä°Â±ÇÈù¢ÁöÑ‰∏éÂ§ñÁïåÁ≥ªÁªü‰∫§‰∫íÊâÄÂøÖÈ°ªÁöÑÊî∂ÈõÜ„ÄÅÊï¥ÁêÜ„ÄÅ‰∫§‰ªòÂ∑•‰ΩúÔºåÂåÖÂê´ÂÆ¢Êà∑ÁÆ°ÁêÜ„ÄÅ‰∫ßÂìÅÁÆ°ÁêÜ„ÄÅËÆ°Ë¥πÁÆ°ÁêÜ„ÄÅÁªüËÆ°ÂàÜÊûêÁ≠âÂäüËÉΩ„ÄÇ\n\nCDN ÈÄöÂ∏∏Áî±Ê∫êÁ´ôË¥üË¥£ÂÜÖÂÆπÁîü‰∫ßÔºå‰∏ªÂπ≤ËäÇÁÇπË¥üË¥£‰∫åÁ∫ßÁºìÂ≠òÂíåÂä†ÈÄüÔºåÈÄöÂ∏∏Âú® BGP ÁΩëÁªú„ÄÇ\n\nÂπø‰πâ‰∏äÁöÑÂÜÖÂÆπÂàÜÂèëÁΩëÁªúÂèØ‰ª•ÂåÖÂê´Ê∫êÁ´ô‰∏ÄËµ∑ÔºåÁîöËá≥Â§öÂ™í‰ΩìÂàÜÂèëÔºàËßÜÈ¢ëÔºâ„ÄÇÂïÜ‰∏öÊÑè‰πâ‰∏äÁöÑ CDN Âè™ÂåÖÂê´ CDN Êèê‰æõÂïÜÁöÑÁΩëÁªúÔºå‰∏çÂåÖÂê´Ê∫êÁ´ô„ÄÇÈÉ®ÂàÜ CDN ÊîØÊåÅÂõæÁâáÂèäÂ§öÂ™í‰ΩìÂ§ÑÁêÜÊâ©Â±ïÁ≠âÈôÑÂä†ÂäüËÉΩÔºöÂéãÁº©„ÄÅÂâ™Âàá„ÄÅÊ∞¥Âç∞„ÄÅÈâ¥ÈªÑ„ÄÇ\n\n**CDN ÂàáÈù¢**\n\n![CDN ÂàáÈù¢](https://img.mrsingsing.com/about-cdn-section.jpg)\n\n**CDN Êï∞ÊçÆÊµÅÂêë**\n\n![CDN ÂàáÈù¢](https://img.mrsingsing.com/about-cdn-data-flow.jpg)\n\n## Â∫îÁî®Âú∫ÊôØ\n\n### ÁΩëÁ´ôÂä†ÈÄü\n\nÁ´ôÁÇπÊàñËÄÖÂ∫îÁî®‰∏≠Â§ßÈáèÈùôÊÄÅËµÑÊ∫êÁöÑÂä†ÈÄüÂàÜÂèëÔºåÂª∫ËÆÆÂ∞ÜÁ´ôÁÇπÂÜÖÂÆπËøõË°åÂä®ÈùôÂàÜÁ¶ªÔºåÂä®ÊÄÅÊñá‰ª∂ÂèØ‰ª•ÁªìÂêà‰∫ëÊúçÂä°Âô® ECSÔºåÈùôÊÄÅËµÑÊ∫êÂ¶ÇÂêÑÁ±ªÂûã HTML„ÄÅCSS„ÄÅJS„ÄÅÂõæÁâá„ÄÅÊñá‰ª∂„ÄÅÁü≠ËßÜÈ¢ëÁ≠âÔºåÂª∫ËÆÆÁªìÂêàÂØπË±°Â≠òÂÇ® OSS Â≠òÂÇ®Êµ∑ÈáèÈùôÊÄÅËµÑÊ∫êÔºåÂèØ‰ª•ÊúâÊïàÂä†ÈÄüÂÜÖÂÆπÂä†ËΩΩÈÄüÂ∫¶ÔºåËΩªÊùæÊêûÂÆöÁΩëÁ´ôÂõæÁâá„ÄÅÁü≠ËßÜÈ¢ëÁ≠âÂÜÖÂÆπÂàÜÂèë„ÄÇ\n\n![‰∏ÉÁâõ‰∫ëÁΩëÁ´ôÂä†ÈÄü](https://img.mrsingsing.com/about-cdn-qiniu-accelerate.png)\n\nÂª∫ËÆÆÂ∞Ü CDN ‰∫ßÂìÅ‰∏é OSS ‰∫ßÂìÅÁªìÂêà‰ΩøÁî®ÔºåÂèØ‰ª•Âä†ÈÄüËµÑÊ∫êÁöÑÂä†ËΩΩÈÄüÂ∫¶ÔºåÊèêÈ´òÁΩëÁ´ôÂõæÁâá„ÄÅÁü≠ËßÜÈ¢ëÁ≠âÂàÜÂèëÊïàÁéá„ÄÇ\n\n**‰∏öÂä°‰ª∑ÂÄºÔºö**\n\n- ÁªàÁ´ØÁî®Êà∑ËÆøÈóÆÊÖ¢ÔºöÁΩëÁ´ôÂ∞èÊñá‰ª∂ÂÜÖÂÆπÂ§öÊâìÂºÄÈÄüÂ∫¶Â§™ÊÖ¢\n- Ë∑®Âå∫ÂüüËÆøÈóÆË¥®ÈáèÂ∑ÆÔºöÁªàÁ´ØÁî®Êà∑ÂàÜÂ∏ÉÂú®‰∏çÂêåÂå∫ÂüüÔºå‰∏çÂêåÂå∫ÂüüÁöÑËÆøÈóÆÈÄüÂ∫¶ÂíåË¥®ÈáèÈ´ò‰Ωé‰∏ç‰∏Ä\n- È´òÂπ∂ÂèëÂéãÂäõÂ§ßÔºöËøêËê•Êé®ÂπøÊúüÈó¥ÔºåÊ∫êÁ´ôÊúçÂä°Âô®ÂéãÂäõÂ§ßÔºåÂÆπÊòìÊåÇÊéâÔºåÈÄ†ÊàêÊúçÂä°‰∏çÂèØÁî®\n- ÂõæÁâáÊ†ºÂºèÂàÜËæ®ÁéáÂ§ÑÁêÜÂ§çÊùÇÔºöÊó†Ê≥ïÊ†πÊçÆÈÄÇÂêàÁöÑÁªàÁ´ØÊÉÖÂÜµËøõË°åÂõæÁâáÂéãÁº©Âíå‰ºòÂåñ\n\n### Ë∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ\n\nÂ§ßÊñá‰ª∂‰∏ãËΩΩ‰ºòÂåñÂä†ÈÄüÂàÜÂèëÔºöÁΩëÁ´ôÊàñÂ∫îÁî® App ÁöÑ‰∏ªË¶Å‰∏öÂä°‰∏∫Â§ßÊñá‰ª∂‰∏ãËΩΩÔºå‰æãÂ¶ÇÔºöÂÆâË£ÖÂåÖÊñá‰ª∂ `apk`„ÄÅÈü≥È¢ëÊñá‰ª∂ `mp3`„ÄÅÈ©±Âä®Á®ãÂ∫è `exe`„ÄÅÂ∫îÁî®Êõ¥Êñ∞Êñá‰ª∂ `zip` Á≠âÔºåÂπ≥ÂùáÂçï‰∏™Êñá‰ª∂Â§ßÂ∞èÂú® 20M ‰ª•‰∏äÔºåÂ¶ÇÊ∏∏Êàè„ÄÅÂêÑÁ±ªÂÆ¢Êà∑Á´Ø‰∏ãËΩΩÂíå App ‰∏ãËΩΩÂïÜÂ∫óÁ≠â„ÄÇ\n\n![‰∏ÉÁâõ‰∫ëË∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ](https://img.mrsingsing.com/about-cdn-qiniu-file.png)\n\n**‰∏öÂä°‰ª∑ÂÄºÔºö**\n\n- ÁªàÁ´ØÁî®Êà∑Êó†Ê≥ï‰∏ãËΩΩÊàñËÄÖ‰∏ãËΩΩÂ§™ÊÖ¢„ÄÇ\n- ÁΩëÁªúÁéØÂ¢É‰∏çÁ®≥ÂÆöÊó∂Ôºå‰∏ãËΩΩÂÆπÊòì‰∏≠Êñ≠„ÄÇÈáçÊñ∞‰∏ãËΩΩ‰ºöËÄóË¥πÈ¢ùÂ§ñÁöÑËµÑÊ∫ê„ÄÇ\n- ÁΩëÁ´ôÂÜÖÂÆπ‰∏çÂÆâÂÖ®ÔºåÂÆπÊòìË¢´Âä´ÊåÅ„ÄÇ\n- Êñá‰ª∂Â≠òÂÇ®ÊàêÊú¨ËøáÈ´òÔºåÂêåÊó∂ÂØπÊ∫êÁ´ôÊÄßËÉΩË¶ÅÊ±ÇÈ´ò„ÄÇ\n\n### Èü≥ËßÜÈ¢ëÁÇπÊí≠\n\nÈü≥ËßÜÈ¢ëÁÇπÊí≠‰ºòÂåñÂä†ÈÄüÊúçÂä°ÔºöÁΩëÁ´ôÊàñÂ∫îÁî® App ÁöÑ‰∏ªË¶Å‰∏öÂä°‰∏∫ËßÜÈ¢ëÁÇπÊí≠ÊàñÁü≠ËßÜÈ¢ëÁ±ª„ÄÇÊîØÊåÅ‰æãÂ¶ÇÔºö`mp4`„ÄÅ`flv`„ÄÅ`rmvb`„ÄÅ`wmv`„ÄÅ`HLS` Á≠â‰∏ªÊµÅËßÜÈ¢ëÊ†ºÂºè„ÄÇ\n\nËßÜÈü≥È¢ëÁÇπÊí≠‰∏ªË¶ÅÈÄÇÁî®‰∫éÂêÑÁ±ªËßÜÈü≥È¢ëÁ´ôÁÇπÔºåÂ¶ÇÂΩ±ËßÜÁ±ªËßÜÈ¢ëÁΩëÁ´ô„ÄÅÂú®Á∫øÊïôËÇ≤Á±ªËßÜÈ¢ëÁΩëÁ´ô„ÄÅÊñ∞ÈóªÁ±ªËßÜÈ¢ëÁ´ôÁÇπ„ÄÅÁü≠ËßÜÈ¢ëÁ§æ‰∫§Á±ªÁΩëÁ´ô‰ª•ÂèäÈü≥È¢ëÁ±ªÁõ∏ÂÖ≥Á´ôÁÇπÂíåÂ∫îÁî®„ÄÇ\n\nCDN ÊîØÊåÅÊµÅÂ™í‰ΩìÂçèËÆÆÔºå‰æãÂ¶Ç RTMP ÂçèËÆÆ„ÄÇÂú®ÂæàÂ§öÊÉÖÂÜµ‰∏ãÔºåËøôÁõ∏ÂΩì‰∫é‰∏Ä‰∏™‰ª£ÁêÜÔºå‰ªé‰∏ä‰∏ÄÁ∫ßÁºìÂ≠òËØªÂèñÂÜÖÂÆπÔºåËΩ¨ÂèëÁªôÁî®Êà∑„ÄÇÁî±‰∫éÊµÅÂ™í‰ΩìÂæÄÂæÄÊòØËøûÁª≠ÁöÑÔºåÂõ†ËÄåÂèØ‰ª•ËøõË°åÈ¢ÑÂÖàÁºìÂ≠òÁöÑÁ≠ñÁï•Ôºå‰πüÂèØ‰ª•È¢ÑÂÖàÊé®ÈÄÅÂà∞Áî®Êà∑ÁöÑÂÆ¢Êà∑Á´Ø„ÄÇ\n\nÂØπ‰∫éÈùôÊÄÅÈ°µÈù¢Êù•ËÆ≤ÔºåÂÜÖÂÆπÁöÑÂàÜÂèëÂæÄÂæÄÈááÂèñ **ÊãâÂèñ** ÁöÑÊñπÂºèÔºå‰πüÂç≥ÂΩìÂèëÁé∞Êú™ÂëΩ‰∏≠ÁöÑÊó∂ÂÄôÔºåÂÜçÂéª‰∏ä‰∏ÄÁ∫ßËøõË°åÊãâÂèñ„ÄÇ‰ΩÜÊòØÔºåÊµÅÂ™í‰ΩìÊï∞ÊçÆÈáèÂ§ßÔºåÂ¶ÇÊûúÂá∫Áé∞ÂõûÊ∫êÔºåÂéãÂäõ‰ºöÊØîËæÉÂ§ßÔºåÊâÄ‰ª•ÂæÄÂæÄÈááÂèñ‰∏ªÂä®Êé®ÈÄÅÁöÑÊ®°ÂºèÔºåÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆ‰∏ªÂä®Êé®ÈÄÅÂà∞ËæπÁºòËäÇÁÇπ„ÄÇ\n\nÂØπ‰∫éÊµÅÂ™í‰ΩìÊù•ËÆ≤ÔºåÂæàÂ§ö CDN ËøòÊèê‰æõ **È¢ÑÂ§ÑÁêÜ** ÊúçÂä°Ôºå‰πüÂç≥Êñá‰ª∂Âú®ÂàÜÂèë‰πãÂâçÔºåÁªèËøá‰∏ÄÂÆöÁöÑÂ§ÑÁêÜ„ÄÇ‰æãÂ¶ÇÂ∞ÜËßÜÈ¢ëËΩ¨Êç¢‰∏∫‰∏çÂêåÁöÑÁ†ÅÊµÅÔºå‰ª•ÈÄÇÂ∫î‰∏çÂêåÁöÑÁΩëÁªúÂ∏¶ÂÆΩÁöÑÁî®Êà∑ÈúÄÊ±ÇÔºõÂÜçÂ¶ÇÂØπËßÜÈ¢ëËøõË°åÂàÜÁâáÔºåÈôç‰ΩéÂ≠òÂÇ®ÂéãÂäõÔºå‰πü‰ΩøÂæóÂÆ¢Êà∑Á´ØÂèØ‰ª•ÈÄâÊã©‰ΩøÁî®‰∏çÂêåÁöÑÁ†ÅÁéáÂä†ËΩΩ‰∏çÂêåÁöÑÂàÜÁâá„ÄÇËøôÂ∞±ÊòØÊàë‰ª¨Â∏∏ËßÅÁöÑÔºåË∂ÖÊ∏Ö„ÄÅÊ†áÊ∏Ö„ÄÅÊµÅÁïÖÁ≠â„ÄÇ\n\n**‰∏öÂä°‰ª∑ÂÄºÔºö**\n\n- ÁªàÁ´ØÁî®Êà∑ËÆøÈóÆËßÜÈ¢ëÊó∂Êâì‰∏çÂºÄËßÜÈ¢ëÊàñÂÆπÊòìÂç°È°øÔºåËßÇÁúã‰∏çÊµÅÁïÖ„ÄÇ\n- ‰∏ä‰º†„ÄÅËΩ¨Á†Å„ÄÅÂ≠òÂÇ®„ÄÅÂàÜÂèë„ÄÅÊí≠ÊîæÁöÑÂºÄÂèëÈÖçÁΩÆÊµÅÁ®ãÂ§çÊùÇÔºåÁÇπÊí≠ÊúçÂä°ÊäÄÊúØÈó®ÊßõÈ´ò„ÄÇ\n- ËßÜÈ¢ëËµÑÊ∫êÂÆπÊòìË¢´Âä´ÊåÅÊàñÁõóÁî®ÔºåÁâàÊùÉÂæó‰∏çÂà∞ÊúâÊïà‰øùÊä§„ÄÇ\n- ÁªàÁ´ØÂÆ¢Êà∑‰∏ä‰º†ÁöÑÂ∞èËßÜÈ¢ëÁ≠âÂÜÖÂÆπÊó†Ê≥ïË¢´Âø´ÈÄüÂÆ°Ê†∏ÔºåÂØºËá¥ÊîøÁ≠ñÈ£éÈô©„ÄÇ\n\n### Èü≥ËßÜÈ¢ëÁõ¥Êí≠\n\nËßÜÈ¢ëÊµÅÂ™í‰ΩìÁõ¥Êí≠ÊúçÂä°ÔºåÊîØÊåÅÂ™íËµÑÂ≠òÂÇ®„ÄÅÂàáÁâáËΩ¨Á†Å„ÄÅËÆøÈóÆÈâ¥ÊùÉ„ÄÅÂÜÖÂÆπÂàÜÂèëÂä†ÈÄü‰∏Ä‰ΩìÂåñËß£ÂÜ≥ÊñπÊ°à„ÄÇÁªìÂêàÂºπÊÄß‰º∏Áº©ÊúçÂä°ÔºåÂèäÊó∂Ë∞ÉÊï¥ÊúçÂä°Âô®Â∏¶ÂÆΩÔºåÂ∫îÂØπÁ™ÅÂèëËÆøÈóÆÊµÅÈáèÔºõÁªìÂêàÂ™í‰ΩìËΩ¨Á†ÅÊúçÂä°Ôºå‰∫´ÂèóÈ´òÈÄüÁ®≥ÂÆöÁöÑÂπ∂Ë°åËΩ¨Á†ÅÔºå‰∏î‰ªªÂä°ËßÑÊ®°Êó†ÁºùÊâ©Â±ï„ÄÇ\n\n### ËæπÁºòÁ®ãÂ∫è\n\n‰º†ÁªüÁöÑ CDN ÊúçÂä°ÊòØÁ∫ØÁ≤πÁöÑÁºìÂ≠òÂíåÂàÜÂèëÊúçÂä°ÔºåÁº∫‰πèÂèØ‰ª•Áõ¥Êé•Êèê‰æõÁªôÊÇ®ÁöÑËÆ°ÁÆóËÉΩÂäõ„ÄÇËÆøÈóÆ CDN ÁöÑÊµ∑ÈáèËØ∑Ê±Ç‰∏≠ÔºåÂ§çÊùÇÁöÑËÆ°ÁÆóÈÄªËæëÂøÖÈ°ªÂõûÊúçÂä°Âô®Ê∫êÁ´ôÊâßË°åÔºåËøôÂ¢ûÂä†‰∫ÜÊÇ®ÁöÑÊúçÂä°Âô®Ê∂àËÄó‰ª•ÂèäÊû∂ÊûÑÁöÑÂ§çÊùÇÊÄß„ÄÇER ÂèØÊèê‰æõÁõ¥Êé•Âú® CDN ËæπÁºòËäÇÁÇπËÆ°ÁÆóÂ§ÑÁêÜÁöÑËÉΩÂäõÔºåÂ∞ÜÊûÅÂ§ßÊèêÈ´ò CDN ÁöÑÂèØÂÆöÂà∂ÂåñÔºåÂèØÁºñÁ®ãÂåñÔºå‰ªéËÄåÂ§ßÈáèÂáèÂ∞ëÈúÄÂõûÊ∫êÁöÑËØ∑Ê±ÇÔºåÈôç‰ΩéÁî®Êà∑ÁöÑËØ∑Ê±ÇÂª∂Êó∂„ÄÇÂêåÊó∂ CDN ËæπÁºòËäÇÁÇπÊã•ÊúâÂ§©ÁÑ∂ÁöÑÈ´òÂèØÁî®„ÄÅÈ´ò‰º∏Áº©„ÄÅÂÖ®ÁêÉË¥üËΩΩÂùáË°°ÁöÑÁâπÊÄßÔºåËæπÁºòÁöÑËÆ°ÁÆóÊúçÂä°ÂèØÂ∫îÁî®‰∫éÊõ¥Â§öÁöÑ‰ΩøÁî®Âú∫ÊôØ„ÄÇ\n\n- GeoÔºöËæπÁºòÊâìÁÇπÊúçÂä°ÔºåÂèØ‰ª•ÈááÈõÜÂà∞ËæπÁºòËäÇÁÇπÁöÑËØ∑Ê±ÇÁõ∏ÂÖ≥‰ø°ÊÅØÔºöÂ¶Ç IP„ÄÅÂú∞ÁêÜ„ÄÅËÆæÂ§á‰ø°ÊÅØÁ≠â\n- FetchÔºöËæπÁºò‰ª£ÁêÜÊúçÂä°ÔºåÂú® JS ‰ª£Á†Å‰∏≠Ë∞ÉÁî®ÂÜÖÁΩÆ api fetch ÂÅö‰∫Ü http Ëá™ËØ∑Ê±ÇÔºåÂìçÂ∫îÁªôÂÆ¢Êà∑Á´Ø fetch ÁöÑÊúÄÁªàÂÜÖÂÆπ\n- AB testÔºöAB ÊµãËØïÁöÑÂäüËÉΩ\n- Precache/PrefetchÔºöCDN È¢ÑÁÉ≠ÂäüËÉΩÔºåÈ¢ÑÁÉ≠‰ªªÂä°Âú®ÂìçÂ∫îÂÆ¢Êà∑Á´ØÊó∂Â∞ÜÂºÇÊ≠•ÂÆåÊàê\n- RaceÔºöÂõûÊ∫êÂêåÊãâÂäüËÉΩÔºåÂ∞ÜÂõûÊ∫êÈÄüÂ∫¶ÊúÄÂø´ÁöÑÊ∫êÁ´ôÁöÑÂÜÖÂÆπ‰ºòÂÖàËøîÂõûÁªôÂÆ¢Êà∑Á´Ø\n- LogÔºöËæπÁºòÊó•ÂøóÊúçÂä°ÔºåÂú®ÂìçÂ∫îÁªìÊùüÂêéÂºÇÊ≠•Âú∞ÁîüÊàêÊó•ÂøóÂπ∂Âõû‰º†ÁªôÊÇ®ÁöÑ Server\n- 3xxÔºöÂõûÊ∫ê 302 Ë∑üÈöèÂäüËÉΩ\n- RedirectÔºöËæπÁºòËØ∑Ê±ÇÈáçÂÆöÂêëÂäüËÉΩ\n- Deny botÔºöËæπÁºòÂèçÁà¨Ëô´ÊúçÂä°\n- WafÔºöËæπÁºò waf ÊúçÂä°ÔºåÂΩìÊª°Ë∂≥Êüê‰∫õÊù°‰ª∂Êó∂ÔºåÂ∞ÜÁ¶ÅÊ≠¢ËØ•ËØ∑Ê±Ç\n\nÈÄöÂ∏∏Ôºå‰ΩøÁî®‰∫Ü CDN ÂêéÔºåÊÇ®ÂèØ‰ª•Ê†πÊçÆÂª∂Êó∂„ÄÅ‰∏ãËΩΩÈÄüÂ∫¶„ÄÅÊâìÂºÄÈÄüÂ∫¶„ÄÅ‰∏¢ÂåÖÁéá„ÄÅÂõûÊ∫êÁéáÂíåÁºìÂ≠òÂëΩ‰∏≠ÁéáÂà§Êñ≠Âä†ÈÄüÊïàÊûú„ÄÇ\n\n## Ë°°ÈáèÊåáÊ†á\n\n‰ΩøÁî® CDN Âä†ÈÄüÔºåËÉΩÂ§üÂ∏ÆÂä©ÊÇ®ÂàÜÊãÖÊ∫êÁ´ôÂéãÂäõÔºåÂä†ÈÄüËµÑÊ∫êËÆøÈóÆÈÄüÂ∫¶„ÄÇÈô§‰∫ÜÈÄöÁî®ÁöÑÊï∞ÊçÆËßÇÊµãÊåáÊ†áÂ§ñÔºå‰∏çÂêåÁöÑÂú∫ÊôØ‰∏ã‰πüÊúâÊõ¥ÂÖ∑‰ΩìÁöÑÊåáÊ†á„ÄÇËßÇÊµãËøô‰∫õÊåáÊ†áÔºå‰∏ç‰ªÖÂèØ‰ª•Â∏ÆÂä©ÊÇ®‰ΩìÈ™å CDN Âä†ÈÄüÁöÑÊïàÊûúÔºå‰πüËÉΩËßÇÊµãËá™Ë∫´‰∏öÂä°‰ΩøÁî® CDN ÁöÑÊÉÖÂÜµÔºåÂ∏ÆÂä©ÊÇ®Êõ¥Â•ΩÂú∞ÂÅöÂá∫Ë∞ÉÊï¥ÂíåÂÜ≥Á≠ñ„ÄÇ\n\n### ÈÄöÁî®ÊåáÊ†á\n\nÊÇ®ÂèØ‰ª•Ê†πÊçÆ‰ª•‰∏ãÂá†‰∏™‰∏ªË¶ÅÊÄßËÉΩÊåáÊ†áÔºåËßÇÂØü‰ΩøÁî® CDN ÂâçÂêéÔºåÊÇ®ÁöÑÁΩëÁ´ôÊÉÖÂÜµ„ÄÇËøô‰∫õÊåáÊ†áÂåÖÂê´‰ΩÜ‰∏çÈôê‰∫éÔºö\n\n- **Âª∂Êó∂**ÔºöÊåá‰∏Ä‰∏™Êï∞ÊçÆÂåÖ‰ªéÁî®Êà∑ÁöÑËÆ°ÁÆóÊú∫ÂèëÈÄÅÂà∞ÁΩëÁ´ôÊúçÂä°Âô®ÔºåÁÑ∂ÂêéÂÜçÁ´ãÂç≥‰ªéÁΩëÁ´ôÊúçÂä°Âô®ËøîÂõûÁî®Êà∑ËÆ°ÁÆóÊú∫ÁöÑÊù•ÂõûÊó∂Èó¥„ÄÇÂª∂Êó∂Ë∂ä‰ΩéÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n- **‰∏ãËΩΩÈÄüÂ∫¶**ÔºöÊåáÁî®Êà∑‰ªéÁΩëÁªú‰∏äÊàñËÄÖÁΩëÁªúÊúçÂä°Âô®‰∏ä‰∏ãËΩΩÁöÑÊï∞ÊçÆÊó∂ÁöÑ‰º†ËæìÈÄüÂ∫¶„ÄÇ‰∏ãËΩΩÈÄüÂ∫¶Ë∂äÂø´ÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n- **ÊâìÂºÄÈÄüÂ∫¶**ÔºöÊåáÁî®Êà∑ÊâìÂºÄÁΩëÁ´ôÁöÑÈÄüÂ∫¶„ÄÇÊâìÂºÄÈÄüÂ∫¶Ë∂äÂø´ÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n- **‰∏¢ÂåÖÁéá**ÔºöÊåáÁî®Êà∑Âú®ÁΩëÁªú‰º†Ëæì‰∏≠ÊâÄ‰∏¢Â§±Êï∞ÊçÆÂåÖÊï∞ÈáèÂç†ÊâÄÂèëÈÄÅÊï∞ÊçÆÁªÑÁöÑÊØîÁéá„ÄÇ\n- **ÂõûÊ∫êÁéá**ÔºöÂõûÊ∫êÁéáÂàÜ‰∏∫ÂõûÊ∫êËØ∑Ê±ÇÊï∞ÊØî‰æãÂèäÂõûÊ∫êÊµÅÈáèÊØî‰æã‰∏§Áßç„ÄÇ\n  - **ÂõûÊ∫êËØ∑Ê±ÇÊï∞ÊØî**ÔºöÊåáËæπÁºòËäÇÁÇπÂØπ‰∫éÊ≤°ÊúâÁºìÂ≠ò„ÄÅÁºìÂ≠òËøáÊúüÔºàÂèØÁºìÂ≠òÔºâÂíå‰∏çÂèØÁºìÂ≠òÁöÑËØ∑Ê±ÇÂç†ÂÖ®ÈÉ®ËØ∑Ê±ÇËÆ∞ÂΩïÁöÑÊØî‰æã„ÄÇË∂ä‰ΩéÂàôÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n  - **ÂõûÊ∫êÊµÅÈáèÊØî**ÔºöÂõûÊ∫êÊµÅÈáèÊòØÂõûÊ∫êËØ∑Ê±ÇÊñá‰ª∂Â§ßÂ∞è‰∫ßÁîüÁöÑÊµÅÈáèÂíåËØ∑Ê±ÇÊú¨Ë∫´‰∫ßÁîüÁöÑÊµÅÈáè„ÄÇÊâÄ‰ª• `ÂõûÊ∫êÊµÅÈáèÊØî=ÂõûÊ∫êÊµÅÈáè/ÔºàÂõûÊ∫êÊµÅÈáè+Áî®Êà∑ËØ∑Ê±ÇËÆøÈóÆÁöÑÊµÅÈáèÔºâ`ÔºåÊØîÂÄºË∂ä‰ΩéÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n- **ÁºìÂ≠òÂëΩ‰∏≠Áéá**ÔºöÊåáÁªàÁ´ØÁî®Êà∑ËÆøÈóÆÂä†ÈÄüËäÇÁÇπÊó∂ÔºåËØ•ËäÇÁÇπÂ∑≤ÁºìÂ≠ò‰∫ÜË¶ÅË¢´ËÆøÈóÆÁöÑÊï∞ÊçÆÁöÑÊ¨°Êï∞Âç†ÂÖ®ÈÉ®ËÆøÈóÆÊ¨°Êï∞ÁöÑÊØî‰æã„ÄÇÁºìÂ≠òÂëΩ‰∏≠ÁéáË∂äÈ´òÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n\n> ËØ¥ÊòéÔºö‰∏äÊñáÊèêÂà∞ÁöÑÂõûÊ∫êÁéá„ÄÅÁºìÂ≠òÂëΩ‰∏≠ÁéáÈÉΩÊòØÊåá‰ΩøÁî® CDN ÂêéË°°ÈáèÁöÑÊåáÊ†á„ÄÇÂ¶ÇÊûúÊÇ®ËøòÊ≤°Êúâ‰ΩøÁî® CDNÔºåÈÇ£‰πàÂõûÊ∫êËØ∑Ê±ÇÊï∞‰∏∫ 100%ÔºåÁºìÂ≠òÂëΩ‰∏≠Áéá‰∏∫ 0„ÄÇ\n\n‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî® CDN ÂêéÔºåÊÇ®ÁöÑÁΩëÁªúÂª∂Êó∂„ÄÅ‰∏¢ÂåÖÁéáÂíåÂõûÊ∫êÁéáÈÉΩ‰ºöÈôç‰ΩéÔºå‰∏é‰πãÁõ∏ÂØπÁöÑ‰∏ãËΩΩÈÄüÂ∫¶„ÄÅÊâìÂºÄÈÄüÂ∫¶„ÄÅÁºìÂ≠òÂëΩ‰∏≠ÁéáÂàô‰ºöÊèêÈ´ò„ÄÇ‰ΩÜÊòØÔºåÁî±‰∫é‰∏öÂä°Âú∫ÊôØÂíå‰∏öÂä°Á±ªÂûãÁöÑ‰∏çÂêåÔºåÂç≥‰ΩøÈÄâÊã©‰∫ÜÁõ∏ÂêåÈÖçÁΩÆÁöÑ CDN ÊúçÂä°ÔºåÂÆûÈôÖ‰∫ßÁîüÁöÑÂä†ÈÄüÊïàÊûú‰πü‰∏çÁõ∏Âêå„ÄÇÂõ†Ê≠§ÔºåËøôÈáåÂè™ÊòØÊèê‰æõ‰∫ÜÂÆöÊÄßÁöÑÊåáÊ†á‰ª•‰æõËßÇÊµã„ÄÇ\n\nCDN ÁöÑÂêÑÁ±ªÂ∫îÁî®Âú∫ÊôØÈÉΩÂêÑËá™ÂÖ∑Êúâ‰∏Ä‰∫õÂÖ∑‰ΩìÊåáÊ†á„ÄÇÊÇ®ÂèØ‰ª•Ê†πÊçÆÊÇ®ÁöÑ‰∏öÂä°Âú∫ÊôØÔºåËøõ‰∏ÄÊ≠•ËßÇÊµã„ÄÇ\n\n### Âä†ÈÄüÂ∞èÊñá‰ª∂ÁöÑ‰∏ªË¶ÅÊåáÊ†á\n\nÂ∞èÊñá‰ª∂Ôºå‰∏ªË¶ÅÊåá `html`„ÄÅ`js`„ÄÅ`jpg`„ÄÅ`css` Á≠âÊñá‰ª∂ÂêéÁºÄÁöÑÁΩëÈ°µÁ¥†Êùê„ÄÇËøôÁ±ªÂä†ÈÄüÂØπÂª∂ËøüË¶ÅÊ±ÇËæÉÈ´òÔºåÂõ†‰∏∫ÈÄöÂ∏∏ËÄåË®ÄÔºåÈ°µÈù¢Âä†ËΩΩÊó∂Èó¥ÁöÑÂä†ÈïøÂØπÁî®Êà∑ÊµÅÂ§±‰ºöÈÄ†ÊàêÂ∑®Â§ßÂΩ±Âìç„ÄÇ\n\nÂª∂Ëøü‰∏ªË¶ÅÂåÖÊã¨‰ª•‰∏ã 3 ‰∏™ÊÄßËÉΩÊåáÊ†áÔºöÂª∫Á´ãËøûÊé•Êó∂Èó¥„ÄÅÈ¶ñÂåÖÊó∂Èó¥„ÄÅÂÜÖÂÆπ‰∏ãËΩΩÊó∂Èó¥„ÄÇÂÖ∂‰∏≠Ôºå**È¶ñÂåÖÊó∂Èó¥**ÊòØÊúÄÊ†∏ÂøÉÁöÑÊåáÊ†á„ÄÇ\n\n- Âª∫Á´ãËøûÊé•Êó∂Èó¥ÔºöÊåá DNS Ëß£ÊûêÂÆåÊàêÔºåÁÑ∂ÂêéÊâæÂà∞ÂØπÂ∫î IP Âú∞ÂùÄÂêéÂª∫Á´ã TCP ËøûÊé•ÁöÑËøáÁ®ã„ÄÇÂª∫Á´ãËøûÊé•ÁöÑÊó∂Èó¥ÈïøÁü≠ÔºåÂü∫Êú¨ÂèØ‰ª•ÂèçÊò† **CDN ÊúçÂä°ÁöÑËäÇÁÇπËµÑÊ∫ê‰ª•ÂèäË∞ÉÂ∫¶ËÉΩÂäõ**„ÄÇ\n- È¶ñÂåÖÊó∂Èó¥ÔºöÊåá‰ªéÂÆ¢Êà∑Á´ØÂºÄÂßãÂèëÈÄÅËØ∑Ê±ÇÂà∞Êî∂Âà∞ÊúçÂä°Âô®Á´ØÂèëÊù•ÁöÑÁ¨¨‰∏Ä‰∏™ÂåÖ‰πãÈó¥ÊâÄÈúÄË¶ÅÁöÑÊó∂Èó¥„ÄÇËøôÂèçÊò†‰∫Ü CDN ÊúçÂä°ËäÇÁÇπÁ®ãÂ∫èÁöÑÊï¥‰ΩìÊÄßËÉΩ„ÄÇ\n\nÂú®‰∏ä‰º†Ë∑ØÂæÑ‰∏≠ÔºåÈ¶ñÂåÖÊó∂Èó¥‰∏ªË¶ÅÂåÖÂê´‰∫Ü DNS Ëß£ÊûêÊó∂Èó¥„ÄÅTCP Áî®Êó∂„ÄÅSSL Áî®Êó∂„ÄÅÂèëÈÄÅÊó∂Èó¥ÂíåÂìçÂ∫îÊó∂Èó¥„ÄÇ‰∏ä‰º†\n\n![CDN Upload Flow](https://img.mrsingsing.com/about-cdn-upload-flow.png)\n\nÂú®‰∏ãËΩΩË∑ØÂæÑ‰∏≠ÔºåÈ¶ñÂåÖÊó∂Èó¥‰∏ªË¶ÅÂåÖÂê´‰∫Ü DNS Ëß£ÊûêÊó∂Èó¥„ÄÅTCP Áî®Êó∂„ÄÅSSL Áî®Êó∂„ÄÅÂèëÈÄÅÊó∂Èó¥„ÄÅÂìçÂ∫îÊó∂Èó¥Âíå‰∏ãËΩΩÁî®Êó∂„ÄÇ‰∏ãËΩΩ\n\n![CDN Download Flow](https://img.mrsingsing.com/about-cdn-download-flow.png)\n\n### Âä†ÈÄüÂ§ßÊñá‰ª∂‰∏ãËΩΩÁöÑ‰∏ªË¶ÅÊåáÊ†á\n\nÂ§ßÊñá‰ª∂‰∏ãËΩΩÔºå‰∏ÄËà¨ÊåáÂêÑÁ±ªÂçï‰∏™Êñá‰ª∂Â§ßÂ∞èÂ§ß‰∫é 20M ÁöÑ‰∏ãËΩΩ„ÄÇÂõ†Ê≠§ÂØπËøôÁ±ªÂú∫ÊôØÔºåÊúÄÊ†∏ÂøÉÁöÑÊåáÊ†áÂ∞±ÊòØ **‰∏ãËΩΩÈÄüÂ∫¶** Âíå **‰∏ãËΩΩÊÄªÊó∂Èó¥**„ÄÇ\n\n### Âä†ÈÄüÈü≥ËßÜÈ¢ëÁÇπÊí≠ÁöÑ‰∏ªË¶ÅÊåáÊ†á\n\nËßÜÈü≥È¢ëÁÇπÊí≠ÁöÑÂú∫ÊôØÔºå‰∏ªË¶ÅÊ∂µÁõñ `flv`„ÄÅ`mp4`„ÄÅ`wmv`„ÄÅ`mkv` Á≠âËßÜÈü≥È¢ëÊñá‰ª∂„ÄÇÂú®ËøôÁ±ªÂú∫ÊôØ‰∏≠ÁöÑ‰∏ªË¶ÅË°°ÈáèÊåáÊ†áÂåÖÊã¨È¶ñÊí≠Êó∂Èó¥ÂíåÂç°È°øÁéáÔºö\n\n- **È¶ñÊí≠Êó∂Èó¥**ÔºöÈ¶ñÊí≠Êó∂Èó¥ÊòØ‰ªéÊâìÂºÄÂà∞ÁúãÂà∞ËßÜÈ¢ëÁîªÈù¢ÁöÑÊó∂Èó¥„ÄÇÂæÄÂæÄ‰ºöÂèóÂüüÂêçËß£Êûê„ÄÅËøûÊé•„ÄÅÈ¶ñÂåÖÊó∂Èó¥ÁöÑÂΩ±Âìç„ÄÇ\n- **Âç°È°øÁéá**ÔºöÂç°È°øÊåáËßÜÈü≥È¢ëÊí≠Êîæ„ÄÅËµÑÊ∫êÂä†ËΩΩÁ≠âÂú∫ÊôØ‰∏ãÂá∫Áé∞ÁîªÈù¢ÊªûÂ∏ß„ÄÇÂõ†Ê≠§Âç°È°øÁéá‰∏ªË¶ÅÊåáÊääÊâÄÊúâÁî®Êà∑Êí≠ÊîæËßÜÈ¢ëÁöÑÂç°È°øÊó∂Èó¥‰∏äÊä•ÔºåÊØè 100 ‰∏™Áî®Êà∑ÈáåÈù¢Êí≠ÊîæÂá∫Áé∞Âç°È°øÁöÑÊØî‰æã„ÄÇÂç°È°øÁéáË∂ä‰ΩéÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n\n## CDN Êèê‰æõÂïÜ\n\nÊØè‰∏™ CDN ÊúçÂä°Êèê‰æõÂïÜÁöÑÈÖçÁΩÆ‰ø°ÊÅØ‰∏çÂêå„ÄÇ\n\n- [ÈòøÈáå‰∫ë](https://www.aliyun.com/product/cdn)\n- [ËÖæËÆØ‰∫ë](https://cloud.tencent.com/product/cdn)\n- [Âçé‰∏∫‰∫ë](https://www.huaweicloud.com/product/cdn.html)\n- [‰∏ÉÁâõ‰∫ë](https://www.qiniu.com/products/fusion)\n\n### Âä®ÊÄÅ CDN\n\nÂä®ÊÄÅÂä†ÈÄüÈíàÂØπÂä®ÊÄÅËµÑÊ∫êËøõË°åÂä†ÈÄüÂàÜÂèë„ÄÇ\n\n- **ËæπÁºòËÆ°ÁÆóÁöÑÊ®°Âºè**ÔºöÊó¢ÁÑ∂Êï∞ÊçÆÊòØÂä®ÊÄÅÁîüÊàêÁöÑÔºåÊâÄ‰ª• **Êï∞ÊçÆÁöÑÈÄªËæëËÆ°ÁÆóÂíåÂ≠òÂÇ®**Ôºå‰πüÁõ∏Â∫îÁöÑÊîæÂú®ËæπÁºòÁöÑËäÇÁÇπ„ÄÇÂÖ∂‰∏≠ÂÆöÊó∂‰ªéÊ∫êÊï∞ÊçÆÈÇ£ÈáåÂêåÊ≠•Â≠òÂÇ®ÁöÑÊï∞ÊçÆÔºåÁÑ∂ÂêéÂú®ËæπÁºòËøõË°åËÆ°ÁÆóÂæóÂà∞ÁªìÊûú„ÄÇÂ∞±ÂÉèÂØπÁîüÈ≤úÁöÑÁÉπÈ•™ÊòØÂä®ÊÄÅÁöÑÔºåÊ≤°ÂäûÊ≥ï‰∫ãÂÖàÂÅöÂ•ΩÁºìÂ≠òÔºåÂõ†ËÄåÂ∞ÜÁîüÈ≤úË∂ÖÂ∏ÇÊîæÂú®‰Ω†ÂÆ∂ÊóÅËæπÔºåÊó¢ËÉΩÂ§üÈÄÅË¥ß‰∏äÈó®Ôºå‰πüËÉΩÂ§üÁé∞Âú∫ÁÉπÈ•™Ôºå‰πüÊòØËæπÁºòËÆ°ÁÆóÁöÑ‰∏ÄÁßç‰ΩìÁé∞„ÄÇ\n- **Ë∑ØÂæÑ‰ºòÂåñÁöÑÊ®°Âºè**ÔºöÊï∞ÊçÆ‰∏çÊòØÂú®ËæπÁºòËÆ°ÁÆóÁîüÊàêÁöÑÔºåËÄåÊòØÂú®Ê∫êÁ´ôÁîüÊàêÁöÑÔºå‰ΩÜÊòØÊï∞ÊçÆÁöÑ‰∏ãÂèëÂàôÂèØ‰ª•ÈÄöËøá CDN ÁöÑÁΩëÁªúÔºåÂØπË∑ØÂæÑËøõË°å‰ºòÂåñ„ÄÇÂõ†‰∏∫ CDN ËäÇÁÇπËæÉÂ§öÔºåËÉΩÂ§üÊâæÂà∞Á¶ªÊ∫êÁ´ôÂæàËøëÁöÑËæπÁºòËäÇÁÇπÔºå‰πüËÉΩÊâæÂà∞Á¶ªÁî®Êà∑ÂæàËøëÁöÑËæπÁºòËäÇÁÇπ„ÄÇ‰∏≠Èó¥ÁöÑÈìæË∑ØÂÆåÂÖ®Áî± CDN Êù•ËßÑÂàíÔºåÈÄâÊã©‰∏Ä‰∏™Êõ¥Âä†ÂèØÈù†ÁöÑË∑ØÂæÑÔºå‰ΩøÁî®Á±ª‰ºº‰∏ìÁ∫øÁöÑÊñπÂºèËøõË°åËÆøÈóÆ„ÄÇ\n\nÂØπ‰∫éÂ∏∏Áî®ÁöÑ TCP ËøûÊé•ÔºåÂú®ÂÖ¨ÁΩë‰∏ä‰º†ËæìÁöÑÊó∂ÂÄôÁªèÂ∏∏‰ºö‰∏¢Êï∞ÊçÆÔºåÂØºËá¥ TCP ÁöÑÁ™óÂè£ÂßãÁªàÂæàÂ∞èÔºåÂèëÈÄÅÈÄüÂ∫¶‰∏ä‰∏çÂéª„ÄÇÊ†πÊçÆÂâçÈù¢ÁöÑ TCP ÊµÅÈáèÊéßÂà∂ÂíåÊã•Â°ûÊéßÂà∂ÁöÑÂéüÁêÜÔºåÂú® CDN Âä†ÈÄüÁΩëÁªú‰∏≠ÂèØ‰ª•Ë∞ÉÊï¥ TCP ÁöÑÂèÇÊï∞Ôºå‰ΩøÂæó TCP ÂèØ‰ª•Êõ¥Âä†ÊøÄËøõÂú∞‰º†ËæìÊï∞ÊçÆ„ÄÇÂèØ‰ª•ÈÄöËøáÂ§ö‰∏™ËØ∑Ê±ÇÂ§çÁî®‰∏Ä‰∏™ËøûÊé•Ôºå‰øùËØÅÊØèÊ¨°Âä®ÊÄÅËØ∑Ê±ÇÂà∞ËææÊó∂„ÄÇËøûÊé•ÈÉΩÂ∑≤ÁªèÂª∫Á´ã‰∫ÜÔºå‰∏çÂøÖ‰∏¥Êó∂‰∏âÊ¨°Êè°ÊâãÊàñËÄÖÂª∫Á´ãËøáÂ§öÁöÑËøûÊé•ÔºåÂ¢ûÂä†ÊúçÂä°Âô®ÁöÑÂéãÂäõ„ÄÇÂè¶Â§ñÔºåÂèØ‰ª•ÈÄöËøáÂØπ‰º†ËæìÊï∞ÊçÆËøõË°åÂéãÁº©ÔºåÂ¢ûÂä†‰º†ËæìÊïàÁéá„ÄÇÊâÄÊúâËøô‰∫õÊâãÊÆµÂ∞±ÂÉèÂÜ∑ÈìæËøêËæìÔºåÊï¥‰∏™Áâ©ÊµÅ‰ºòÂåñ‰∫ÜÔºåÂÖ®Á®ãÂÜ∑ÂÜªÈ´òÈÄüËøêËæì„ÄÇ‰∏çÁÆ°ÁîüÈ≤úÊòØ‰ªé‰Ω†ÊóÅËæπÁöÑË∂ÖÂ∏ÇÈÄÅÂà∞‰Ω†ÂÆ∂ÁöÑÔºåËøòÊòØ‰ªé‰∫ßÂú∞ÈÄÅÁöÑÔºå‰øùËØÅÂà∞‰Ω†ÂÆ∂ÊòØÊñ∞È≤úÁöÑ„ÄÇ\n\n### Âà∑Êñ∞È¢ÑÁÉ≠\n\n- Âà∑Êñ∞ÂäüËÉΩÊòØÊåáÊèê‰∫§ URL Âà∑Êñ∞ÊàñÁõÆÂΩïÂà∑Êñ∞ËØ∑Ê±ÇÂêéÔºåCDN ËäÇÁÇπÁöÑÁºìÂ≠òÂÜÖÂÆπÂ∞Ü‰ºöË¢´Âº∫Âà∂ËøáÊúüÔºåÂΩìÊÇ®Âêë CDN ËäÇÁÇπËØ∑Ê±ÇËµÑÊ∫êÊó∂ÔºåCDN ‰ºöÁõ¥Êé•ÂõûÊ∫êÁ´ôËé∑ÂèñÂØπÂ∫îÁöÑËµÑÊ∫êËøîÂõûÁªôÊÇ®ÔºåÂπ∂Â∞ÜÂÖ∂ÁºìÂ≠ò„ÄÇÂà∑Êñ∞ÂäüËÉΩ‰ºöÈôç‰ΩéÁºìÂ≠òÂëΩ‰∏≠Áéá„ÄÇ\n- È¢ÑÁÉ≠ÂäüËÉΩÊòØÊåáÊèê‰∫§ URL È¢ÑÁÉ≠ËØ∑Ê±ÇÂêéÔºåÊ∫êÁ´ôÂ∞Ü‰ºö‰∏ªÂä®Â∞ÜÂØπÂ∫îÁöÑËµÑÊ∫êÁºìÂ≠òÂà∞ CDN ËäÇÁÇπÔºåÂΩìÊÇ®È¶ñÊ¨°ËØ∑Ê±ÇÊó∂ÔºåÂ∞±ËÉΩÁõ¥Êé•‰ªé CDN ËäÇÁÇπÁºìÂ≠ò‰∏≠Ëé∑ÂèñÂà∞ÊúÄÊñ∞ÁöÑËØ∑Ê±ÇËµÑÊ∫êÔºåÊó†ÈúÄÂÜçÂõûÊ∫êÁ´ôËé∑Âèñ„ÄÇÈ¢ÑÁÉ≠ÂäüËÉΩ‰ºöÊèêÈ´òÁºìÂ≠òÂëΩ‰∏≠Áéá„ÄÇ\n\n## ÂèÇËÄÉËµÑÊñô\n\n- [üìñ Áª¥Âü∫ÁôæÁßëÔºöÂÜÖÂÆπÂàÜÂèëÁΩëÁªú](https://zh.wikipedia.org/wiki/%E5%85%A7%E5%AE%B9%E5%82%B3%E9%81%9E%E7%B6%B2%E8%B7%AF)\n- [üìù CDN ÁöÑÂü∫Êú¨Â∑•‰ΩúËøáÁ®ã](http://book.51cto.com/art/201205/338756.htm)\n- [üìù CDN Áü•ËØÜËØ¶Ëß£](https://zhuanlan.zhihu.com/p/28939811)\n- [üìù HTTP ÁºìÂ≠ò‰∏é CDN ÁºìÂ≠òÈÖçÁΩÆÊåáÂçó](http://dopro.io/http-cache-and-cdn-cache.html)\n- [üìù Ê±üÊπñÂ§±‰º†ÁöÑÊúÄÂêé‰∏Ä‰ªΩ CDN ÁßòÁ±ç](https://zhuanlan.zhihu.com/p/31167721?group_id=915177705310674944)\n- [üìù CDN HTTPS ÂÆâÂÖ®Âä†ÈÄüÂü∫Êú¨Ê¶ÇÂøµ„ÄÅËß£ÂÜ≥ÊñπÊ°àÂèä‰ºòÂåñÂÆûË∑µ](https://juejin.im/post/59f9538f6fb9a0450a66aa2b)\n- [üìù Èù¢ÂêëÂâçÁ´ØÁöÑ CDN ÂéüÁêÜ‰ªãÁªç](https://github.com/renaesop/blog/issues/1)\n- [üìù ÈòøÈáå‰∫ë CDN ÊñáÊ°£ÔºöCDN ÁöÑË°°ÈáèÊåáÊ†á](https://help.aliyun.com/document_detail/140425.html)\n- [üìù SSR È°µÈù¢ CDN ÁºìÂ≠òÂÆûË∑µ](https://juejin.im/post/6847902220222988301)\n","source":"_posts/about-content-delivery-network.md","raw":"---\ntitle: ÂÖ≥‰∫é CDN ÂÜÖÂÆπÂàÜÂèëÁΩëÁªú\ndate: '2020-08-20'\n---\n\n**ÂÖßÂÆπÂàÜÂèëÁΩëÁªúÔºàContent Delivery Network Êàñ Content Distribution NetworkÔºåÁÆÄÁß∞ CDNÔºâ** ÈÄöËøáÂ∞ÜÊ∫êÁ´ôÂÜÖÂÆπÂàÜÂèëËá≥ **ÊúÄÊé•ËøëÁî®Êà∑** ÁöÑËäÇÁÇπÔºå‰ªéËÄå **Èôç‰ΩéÊ†∏ÂøÉÁ≥ªÁªüË¥üËΩΩÔºàÁ≥ªÁªü„ÄÅÁΩëÁªúÔºâ**Ôºå‰ΩøÁî®Êà∑ÂèØÂ∞±ËøëÂèñÂæóÊâÄÈúÄÂÜÖÂÆπÔºå**ÊèêÈ´òÁî®Êà∑ËÆøÈóÆÁöÑÂìçÂ∫îÈÄüÂ∫¶**„ÄÇËøôÁßçÊäÄÊúØÊñπÊ°àËß£ÂÜ≥‰∫ÜÂõ†ÂàÜÂ∏É„ÄÅÂ∏¶ÂÆΩ„ÄÅÊúçÂä°Âô®ÊÄßËÉΩÂ∏¶Êù•ÁöÑËÆøÈóÆÂª∂ËøüÈóÆÈ¢òÔºåÈÄÇÁî®‰∫éÂõæÁâáÂ∞èÊñá‰ª∂„ÄÅÂ§ßÊñá‰ª∂‰∏ãËΩΩ„ÄÅÈü≥ËßÜÈ¢ëÁÇπÊí≠„ÄÅÂÖ®Á´ôÂä†ÈÄüÂíåÂÆâÂÖ®Âä†ÈÄüÁ≠âÂú∫ÊôØ„ÄÇ\n\n## Â∑•‰ΩúÂéüÁêÜ\n\nÈÄöËøáÂú®ÁΩëÁªúÂêÑÂ§ÑÊîæÁΩÆËäÇÁÇπÊúçÂä°Âô®ÊâÄÊûÑÊàêÁöÑÂú®Áé∞ÊúâÁöÑ‰∫íËÅîÁΩëÂü∫Á°Ä‰πã‰∏äÁöÑ‰∏ÄÂ±ÇÊô∫ËÉΩËôöÊãüÁΩëÁªúÔºåCDN Á≥ªÁªüËÉΩÂ§üÂÆûÊó∂Âú∞Ê†πÊçÆ **ÁΩëÁªúÊµÅÈáè** Âíå **ÂêÑËäÇÁÇπÁöÑËøûÊé•**„ÄÅ**Ë¥üËΩΩÁä∂ÂÜµ** ‰ª•Âèä **Âà∞Áî®Êà∑ÁöÑË∑ùÁ¶ª** Âíå **ÂìçÂ∫îÊó∂Èó¥** Á≠âÁªºÂêà‰ø°ÊÅØÂ∞ÜÁî®Êà∑ÁöÑËØ∑Ê±ÇÈáçÊñ∞ÂØºÂêëÁ¶ªÁî®Êà∑ÊúÄËøëÁöÑÊúçÂä°ËäÇÁÇπ‰∏ä„ÄÇ\n\nÂà©Áî®ÂÖ¨ÂºèÁÆÄËø∞ CDN ÂèØË°®Á§∫‰∏∫Ôºö\n\n```js\nCDN = Êõ¥Êô∫ËÉΩÁöÑÈïúÂÉè + ÁºìÂ≠ò + ÊµÅÈáèÂØºÊµÅ;\n```\n\nÁÆÄÂçïÂú∞ËØ¥ÔºåCDN ÊòØ‰∏Ä‰∏™ÁªèÁ≠ñÁï•ÊÄßÈÉ®ÁΩ≤ÁöÑÊï¥‰ΩìÁ≥ªÁªüÔºåÂåÖÊã¨**ÂàÜÂ∏ÉÂºèÂ≠òÂÇ®**„ÄÅ**Ë¥üËΩΩÂùáË°°**„ÄÅ**ÁΩëÁªúËØ∑Ê±ÇÁöÑÈáçÂÆöÂêë** Âíå **ÂÜÖÂÆπÁÆ°ÁêÜ** 4 ‰∏™Ë¶Å‰ª∂ÔºåËÄåÂÜÖÂÆπÁÆ°ÁêÜÂíåÂÖ®Â±ÄÁöÑÁΩëÁªúÊµÅÈáèÁÆ°ÁêÜÔºàTraffic ManagementÔºâÊòØ CDN ÁöÑÊ†∏ÂøÉÊâÄÂú®„ÄÇ\n\n## Â∑•‰ΩúÊµÅÁ®ã\n\nÁî®Êà∑ÁªàÁ´ØËÆøÈóÆ CDN ÁöÑËøáÁ®ãÂàÜ‰∏∫‰∏§‰∏™Ê≠•È™§Ôºå‰∏ÄÊòØÁî®Êà∑ÈÄöËøá DNS ÊâæÂà∞ÊúÄËøëÁöÑ CDN ËæπÁºòËäÇÁÇπ IPÔºå‰∫åÊòØÊï∞ÊçÆÂú®ÁΩëÁªú‰∏≠ÈÄÅËææÁî®Êà∑ÁªàÁ´Ø„ÄÇ\n\nÊúÄÁÆÄÂçïÁöÑ CDN ÁΩëÁªúÁî±‰∏Ä‰∏™ DNS ÊúçÂä°Âô®ÂíåÂá†Âè∞ÁºìÂ≠òÊúçÂä°Âô®ÁªÑÊàêÔºåÂÅáËÆæÊÇ®ÁöÑÂä†ÈÄüÂüüÂêç‰∏∫ `www.taobao.com`ÔºåÊé•ÂÖ• CDN ÁΩëÁªúÔºåÂºÄÂßã‰ΩøÁî®Âä†ÈÄüÊúçÂä°ÂêéÔºåÂΩìÁªàÁ´ØÁî®Êà∑ÔºàÂπøÂ∑ûÔºâÂèëËµ∑ HTTP ËØ∑Ê±ÇÊó∂ÔºåÂ§ÑÁêÜÊµÅÁ®ãÂ¶Ç‰∏ãÔºö\n\n![CDN Workflow](https://img.mrsingsing.com/about-cdn-cdn-workflow.jpg)\n\n<!-- more -->\n\n1. ÂΩìÁªàÁ´ØÁî®Êà∑ÔºàÂπøÂ∑ûÔºâÂêë `www.taobao.com` ‰∏ãÁöÑÊüêËµÑÊ∫êÂèëËµ∑ËØ∑Ê±ÇÊó∂ÔºåÈ¶ñÂÖàÂêë LDNSÔºàÊú¨Âú∞ DNSÔºâÂèëËµ∑ÂüüÂêçËß£ÊûêËØ∑Ê±Ç„ÄÇ\n2. LDNS Ê£ÄÊü•ÁºìÂ≠ò‰∏≠ÊòØÂê¶Êúâ `www.taobao.com` ÁöÑ IP Âú∞ÂùÄËÆ∞ÂΩï„ÄÇÂ¶ÇÊûúÊúâÔºåÂàôÁõ¥Êé•ËøîÂõûÁªôÁªàÁ´ØÁî®Êà∑ÔºõÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàôÂêëÊéàÊùÉ DNS Êü•ËØ¢„ÄÇ\n3. ÂΩìÊéàÊùÉ DNS Ëß£Êûê `www.taobao.com` Êó∂ÔºåËøîÂõûÂüüÂêç CNAME `www.taobao.alicdn.com` ÂØπÂ∫î IP Âú∞ÂùÄ„ÄÇ\n4. ÂüüÂêçËß£ÊûêËØ∑Ê±ÇÂèëÈÄÅËá≥ DNS Ë∞ÉÂ∫¶Á≥ªÁªüÔºåÂπ∂‰∏∫ËØ∑Ê±ÇÂàÜÈÖçÊúÄ‰Ω≥ËäÇÁÇπ IP Âú∞ÂùÄ„ÄÇ\n5. LDNS Ëé∑Âèñ DNS ËøîÂõûÁöÑËß£Êûê IP Âú∞ÂùÄ„ÄÇ\n6. Áî®Êà∑Ëé∑ÂèñËß£Êûê IP Âú∞ÂùÄ„ÄÇ\n7. Áî®Êà∑ÂêëËé∑ÂèñÁöÑ IP Âú∞ÂùÄÂèëËµ∑ÂØπËØ•ËµÑÊ∫êÁöÑËÆøÈóÆËØ∑Ê±Ç„ÄÇ\n   - Â¶ÇÊûúËØ• IP Âú∞ÂùÄÂØπÂ∫îÁöÑËäÇÁÇπÂ∑≤ÁºìÂ≠òËØ•ËµÑÊ∫êÔºåÂàô‰ºöÂ∞ÜÊï∞ÊçÆÁõ¥Êé•ËøîÂõûÁªôÁî®Êà∑Ôºå‰æãÂ¶ÇÔºåÂõæ‰∏≠Ê≠•È™§ 7 Âíå 8ÔºåËØ∑Ê±ÇÁªìÊùü„ÄÇ\n   - Â¶ÇÊûúËØ• IP Âú∞ÂùÄÂØπÂ∫îÁöÑËäÇÁÇπÊú™ÁºìÂ≠òËØ•ËµÑÊ∫êÔºåÂàôËäÇÁÇπÂêëÂÆÉÁöÑ‰∏äÁ∫ßÁºìÂ≠òÊúçÂä°Âô®ËØ∑Ê±ÇÂÜÖÂÆπÔºåÁõ¥Ëá≥ËøΩÊ∫ØÂà∞ÁΩëÁ´ôÁöÑÊ∫êÁ´ôÂèëËµ∑ÂØπËØ•ËµÑÊ∫êÁöÑËØ∑Ê±Ç„ÄÇËé∑ÂèñËµÑÊ∫êÂêéÔºåÁªìÂêàÁî®Êà∑Ëá™ÂÆö‰πâÈÖçÁΩÆÁöÑÁºìÂ≠òÁ≠ñÁï•ÔºåÂ∞ÜËµÑÊ∫êÁºìÂ≠òËá≥ËäÇÁÇπÔºå‰æãÂ¶ÇÔºåÈÄî‰∏≠ÁöÑÊù≠Â∑ûËäÇÁÇπÔºåÂπ∂ËøîÂõûÁªôÁî®Êà∑ÔºåËØ∑Ê±ÇÁªìÊùü„ÄÇ\n\n> Local DNS ÈÄöÂ∏∏ÊòØ‰Ω†ÁöÑËøêËê•ÂïÜÊèê‰æõÁöÑ DNSÔºå‰∏ÄËà¨ÂüüÂêçËß£ÊûêÁöÑÁ¨¨‰∏ÄÁ´ô‰ºöÂà∞ËøôÈáå\n> ÂõûÊ∫ê HOST ÊòØÊåá CDN ËäÇÁÇπÂú®ÂõûÊ∫êËøáÁ®ã‰∏≠ÔºåÂú®Ê∫êÁ´ôËÆøÈóÆÁöÑÁ´ôÁÇπÂüüÂêç„ÄÇ\n\nÂú®Ê≠•È™§Âõõ‰∏≠ÔºåDNS Ë∞ÉÂ∫¶Á≥ªÁªüÂèØ‰ª•ÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÂäüËÉΩÔºåË¥üËΩΩÂùáË°°ÂàÜ‰∏∫ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ÂíåÂå∫ÂüüË¥üËΩΩÂùáË°°ÔºåÂÖ∂ÂÜÖÈÉ®ÈÄªËæëÂ§ßËá¥Â¶Ç‰∏ãÔºö\n\n1. CDN ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ËÆæÂ§á‰ºöÊ†πÊçÆÁî®Êà∑ IP Âú∞ÂùÄÔºå‰ª•ÂèäÁî®Êà∑ËØ∑Ê±ÇÁöÑÂÜÖÂÆπ URLÔºåÈÄâÊã©‰∏ÄÂè∞Áî®Êà∑ÊâÄÂ±ûÂå∫ÂüüÁöÑ**Âå∫ÂüüË¥üËΩΩÂùáË°°ËÆæÂ§á**ÔºåÂëäËØâÁî®Êà∑ÂêëËøôÂè∞ËÆæÂ§áÂèëËµ∑ËØ∑Ê±Ç„ÄÇ\n2. Âå∫ÂüüË¥üËΩΩÂùáË°°ËÆæÂ§á‰ºö‰∏∫Áî®Êà∑ÈÄâÊã©‰∏ÄÂè∞ÂêàÈÄÇÁöÑ**ÁºìÂ≠òÊúçÂä°Âô®**Êèê‰æõÊúçÂä°ÔºåÈÄâÊã©ÁöÑ‰æùÊçÆÂåÖÊã¨Ôºö\n   - Ê†πÊçÆÁî®Êà∑ IP Âú∞ÂùÄÔºåÂà§Êñ≠Âì™‰∏ÄÂè∞ÊúçÂä°Âô®Ë∑ùÁî®Êà∑ÊúÄËøëÔºõ\n   - Áî®Êà∑ÊâÄÂ§ÑÁöÑËøêËê•ÂïÜÔºõ\n   - Ê†πÊçÆÁî®Êà∑ÊâÄËØ∑Ê±ÇÁöÑ URL ‰∏≠Êê∫Â∏¶ÁöÑÂÜÖÂÆπÂêçÁß∞ÔºåÂà§Êñ≠Âì™‰∏ÄÂè∞ÊúçÂä°Âô®‰∏äÊúâÁî®Êà∑ÊâÄÈúÄÂÜÖÂÆπÔºõ\n   - Êü•ËØ¢ÂêÑ‰∏™ÊúçÂä°Âô®ÂΩìÂâçÁöÑË¥üËΩΩÊÉÖÂÜµÔºåÂà§Êñ≠Âì™‰∏ÄÂè∞ÊúçÂä°Âô®Â∞öÊúâÊúçÂä°ËÉΩÂäõ„ÄÇ\n     Âü∫‰∫é‰ª•‰∏äËøô‰∫õÊù°‰ª∂ÁöÑÁªºÂêàÂàÜÊûê‰πãÂêéÔºåÂå∫ÂüüË¥üËΩΩÂùáË°°ËÆæÂ§á‰ºöÂêëÂÖ®Â±ÄË¥üËΩΩÂùáË°°ËÆæÂ§áËøîÂõû‰∏ÄÂè∞ÁºìÂ≠òÊúçÂä°Âô®ÁöÑ IP Âú∞ÂùÄ„ÄÇ\n3. ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ËÆæÂ§áÊääÊúçÂä°Âô®ÁöÑ IP Âú∞ÂùÄËøîÂõûÁªôÁî®Êà∑„ÄÇ\n\n## ÁªÑÊàêÈÉ®ÂàÜ\n\nÂÖ∏ÂûãÁöÑ CDN Á≥ªÁªüÁî±‰∏ãÈù¢‰∏â‰∏™ÈÉ®ÂàÜÁªÑÊàêÔºö\n\n- **ÂàÜÂèëÊúçÂä°Á≥ªÁªü**ÔºöÊúÄÂü∫Êú¨ÁöÑÂ∑•‰ΩúÂçïÂÖÉÂ∞±ÊòØ Cache ËÆæÂ§áÔºåCacheÔºàËæπÁºò CacheÔºâË¥üË¥£Áõ¥Êé•ÂìçÂ∫îÊúÄÁªàÁî®Êà∑ÁöÑËÆøÈóÆËØ∑Ê±ÇÔºåÊääÁºìÂ≠òÂú®Êú¨Âú∞ÁöÑÂÜÖÂÆπÂø´ÈÄüÂú∞Êèê‰æõÁªôÁî®Êà∑„ÄÇÂêåÊó∂ Cache ËøòË¥üË¥£‰∏éÊ∫êÁ´ôÁÇπËøõË°åÂÜÖÂÆπÂêåÊ≠•ÔºåÊääÊõ¥Êñ∞ÁöÑÂÜÖÂÆπ‰ª•ÂèäÊú¨Âú∞Ê≤°ÊúâÁöÑÂÜÖÂÆπ‰ªéÊ∫êÁ´ôÁÇπËé∑ÂèñÂπ∂‰øùÂ≠òÂú®Êú¨Âú∞„ÄÇCache ËÆæÂ§áÁöÑÊï∞Èáè„ÄÅËßÑÊ®°„ÄÅÊÄªÊúçÂä°ËÉΩÂäõÊòØË°°Èáè‰∏Ä‰∏™ CDN Á≥ªÁªüÊúçÂä°ËÉΩÂäõÁöÑÊúÄÂü∫Êú¨ÁöÑÊåáÊ†á„ÄÇ\n- **Ë¥üËΩΩÂùáË°°Á≥ªÁªü**Ôºö‰∏ªË¶ÅÂäüËÉΩÊòØË¥üË¥£ÂØπÊâÄÊúâÂèëËµ∑ÊúçÂä°ËØ∑Ê±ÇÁöÑÁî®Êà∑ËøõË°åËÆøÈóÆË∞ÉÂ∫¶ÔºåÁ°ÆÂÆöÊèê‰æõÁªôÁî®Êà∑ÁöÑÊúÄÁªàÂÆûÈôÖËÆøÈóÆÂú∞ÂùÄ„ÄÇ‰∏§Á∫ßË∞ÉÂ∫¶‰ΩìÁ≥ªÂàÜ‰∏∫ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ÔºàGSLBÔºâÂíåÊú¨Âú∞Ë¥üËΩΩÂùáË°°ÔºàSLBÔºâ„ÄÇGSLB ‰∏ªË¶ÅÊ†πÊçÆÁî®Êà∑Â∞±ËøëÊÄßÂéüÂàôÔºåÈÄöËøáÂØπÊØè‰∏™ÊúçÂä°ËäÇÁÇπËøõË°å‚ÄùÊúÄ‰ºò‚ÄúÂà§Êñ≠ÔºåÁ°ÆÂÆöÂêëÁî®Êà∑Êèê‰æõÊúçÂä°ÁöÑ Cache ÁöÑÁâ©ÁêÜ‰ΩçÁΩÆ„ÄÇSLB ‰∏ªË¶ÅË¥üË¥£ËäÇÁÇπÂÜÖÈÉ®ÁöÑËÆæÂ§áË¥üËΩΩÂùáË°°\n- **ËøêËê•ÁÆ°ÁêÜÁ≥ªÁªü**ÔºöÂàÜ‰∏∫ËøêËê•ÁÆ°ÁêÜÂíåÁΩëÁªúÁÆ°ÁêÜÂ≠êÁ≥ªÁªüÔºåË¥üË¥£Â§ÑÁêÜ‰∏öÂä°Â±ÇÈù¢ÁöÑ‰∏éÂ§ñÁïåÁ≥ªÁªü‰∫§‰∫íÊâÄÂøÖÈ°ªÁöÑÊî∂ÈõÜ„ÄÅÊï¥ÁêÜ„ÄÅ‰∫§‰ªòÂ∑•‰ΩúÔºåÂåÖÂê´ÂÆ¢Êà∑ÁÆ°ÁêÜ„ÄÅ‰∫ßÂìÅÁÆ°ÁêÜ„ÄÅËÆ°Ë¥πÁÆ°ÁêÜ„ÄÅÁªüËÆ°ÂàÜÊûêÁ≠âÂäüËÉΩ„ÄÇ\n\nCDN ÈÄöÂ∏∏Áî±Ê∫êÁ´ôË¥üË¥£ÂÜÖÂÆπÁîü‰∫ßÔºå‰∏ªÂπ≤ËäÇÁÇπË¥üË¥£‰∫åÁ∫ßÁºìÂ≠òÂíåÂä†ÈÄüÔºåÈÄöÂ∏∏Âú® BGP ÁΩëÁªú„ÄÇ\n\nÂπø‰πâ‰∏äÁöÑÂÜÖÂÆπÂàÜÂèëÁΩëÁªúÂèØ‰ª•ÂåÖÂê´Ê∫êÁ´ô‰∏ÄËµ∑ÔºåÁîöËá≥Â§öÂ™í‰ΩìÂàÜÂèëÔºàËßÜÈ¢ëÔºâ„ÄÇÂïÜ‰∏öÊÑè‰πâ‰∏äÁöÑ CDN Âè™ÂåÖÂê´ CDN Êèê‰æõÂïÜÁöÑÁΩëÁªúÔºå‰∏çÂåÖÂê´Ê∫êÁ´ô„ÄÇÈÉ®ÂàÜ CDN ÊîØÊåÅÂõæÁâáÂèäÂ§öÂ™í‰ΩìÂ§ÑÁêÜÊâ©Â±ïÁ≠âÈôÑÂä†ÂäüËÉΩÔºöÂéãÁº©„ÄÅÂâ™Âàá„ÄÅÊ∞¥Âç∞„ÄÅÈâ¥ÈªÑ„ÄÇ\n\n**CDN ÂàáÈù¢**\n\n![CDN ÂàáÈù¢](https://img.mrsingsing.com/about-cdn-section.jpg)\n\n**CDN Êï∞ÊçÆÊµÅÂêë**\n\n![CDN ÂàáÈù¢](https://img.mrsingsing.com/about-cdn-data-flow.jpg)\n\n## Â∫îÁî®Âú∫ÊôØ\n\n### ÁΩëÁ´ôÂä†ÈÄü\n\nÁ´ôÁÇπÊàñËÄÖÂ∫îÁî®‰∏≠Â§ßÈáèÈùôÊÄÅËµÑÊ∫êÁöÑÂä†ÈÄüÂàÜÂèëÔºåÂª∫ËÆÆÂ∞ÜÁ´ôÁÇπÂÜÖÂÆπËøõË°åÂä®ÈùôÂàÜÁ¶ªÔºåÂä®ÊÄÅÊñá‰ª∂ÂèØ‰ª•ÁªìÂêà‰∫ëÊúçÂä°Âô® ECSÔºåÈùôÊÄÅËµÑÊ∫êÂ¶ÇÂêÑÁ±ªÂûã HTML„ÄÅCSS„ÄÅJS„ÄÅÂõæÁâá„ÄÅÊñá‰ª∂„ÄÅÁü≠ËßÜÈ¢ëÁ≠âÔºåÂª∫ËÆÆÁªìÂêàÂØπË±°Â≠òÂÇ® OSS Â≠òÂÇ®Êµ∑ÈáèÈùôÊÄÅËµÑÊ∫êÔºåÂèØ‰ª•ÊúâÊïàÂä†ÈÄüÂÜÖÂÆπÂä†ËΩΩÈÄüÂ∫¶ÔºåËΩªÊùæÊêûÂÆöÁΩëÁ´ôÂõæÁâá„ÄÅÁü≠ËßÜÈ¢ëÁ≠âÂÜÖÂÆπÂàÜÂèë„ÄÇ\n\n![‰∏ÉÁâõ‰∫ëÁΩëÁ´ôÂä†ÈÄü](https://img.mrsingsing.com/about-cdn-qiniu-accelerate.png)\n\nÂª∫ËÆÆÂ∞Ü CDN ‰∫ßÂìÅ‰∏é OSS ‰∫ßÂìÅÁªìÂêà‰ΩøÁî®ÔºåÂèØ‰ª•Âä†ÈÄüËµÑÊ∫êÁöÑÂä†ËΩΩÈÄüÂ∫¶ÔºåÊèêÈ´òÁΩëÁ´ôÂõæÁâá„ÄÅÁü≠ËßÜÈ¢ëÁ≠âÂàÜÂèëÊïàÁéá„ÄÇ\n\n**‰∏öÂä°‰ª∑ÂÄºÔºö**\n\n- ÁªàÁ´ØÁî®Êà∑ËÆøÈóÆÊÖ¢ÔºöÁΩëÁ´ôÂ∞èÊñá‰ª∂ÂÜÖÂÆπÂ§öÊâìÂºÄÈÄüÂ∫¶Â§™ÊÖ¢\n- Ë∑®Âå∫ÂüüËÆøÈóÆË¥®ÈáèÂ∑ÆÔºöÁªàÁ´ØÁî®Êà∑ÂàÜÂ∏ÉÂú®‰∏çÂêåÂå∫ÂüüÔºå‰∏çÂêåÂå∫ÂüüÁöÑËÆøÈóÆÈÄüÂ∫¶ÂíåË¥®ÈáèÈ´ò‰Ωé‰∏ç‰∏Ä\n- È´òÂπ∂ÂèëÂéãÂäõÂ§ßÔºöËøêËê•Êé®ÂπøÊúüÈó¥ÔºåÊ∫êÁ´ôÊúçÂä°Âô®ÂéãÂäõÂ§ßÔºåÂÆπÊòìÊåÇÊéâÔºåÈÄ†ÊàêÊúçÂä°‰∏çÂèØÁî®\n- ÂõæÁâáÊ†ºÂºèÂàÜËæ®ÁéáÂ§ÑÁêÜÂ§çÊùÇÔºöÊó†Ê≥ïÊ†πÊçÆÈÄÇÂêàÁöÑÁªàÁ´ØÊÉÖÂÜµËøõË°åÂõæÁâáÂéãÁº©Âíå‰ºòÂåñ\n\n### Ë∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ\n\nÂ§ßÊñá‰ª∂‰∏ãËΩΩ‰ºòÂåñÂä†ÈÄüÂàÜÂèëÔºöÁΩëÁ´ôÊàñÂ∫îÁî® App ÁöÑ‰∏ªË¶Å‰∏öÂä°‰∏∫Â§ßÊñá‰ª∂‰∏ãËΩΩÔºå‰æãÂ¶ÇÔºöÂÆâË£ÖÂåÖÊñá‰ª∂ `apk`„ÄÅÈü≥È¢ëÊñá‰ª∂ `mp3`„ÄÅÈ©±Âä®Á®ãÂ∫è `exe`„ÄÅÂ∫îÁî®Êõ¥Êñ∞Êñá‰ª∂ `zip` Á≠âÔºåÂπ≥ÂùáÂçï‰∏™Êñá‰ª∂Â§ßÂ∞èÂú® 20M ‰ª•‰∏äÔºåÂ¶ÇÊ∏∏Êàè„ÄÅÂêÑÁ±ªÂÆ¢Êà∑Á´Ø‰∏ãËΩΩÂíå App ‰∏ãËΩΩÂïÜÂ∫óÁ≠â„ÄÇ\n\n![‰∏ÉÁâõ‰∫ëË∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ](https://img.mrsingsing.com/about-cdn-qiniu-file.png)\n\n**‰∏öÂä°‰ª∑ÂÄºÔºö**\n\n- ÁªàÁ´ØÁî®Êà∑Êó†Ê≥ï‰∏ãËΩΩÊàñËÄÖ‰∏ãËΩΩÂ§™ÊÖ¢„ÄÇ\n- ÁΩëÁªúÁéØÂ¢É‰∏çÁ®≥ÂÆöÊó∂Ôºå‰∏ãËΩΩÂÆπÊòì‰∏≠Êñ≠„ÄÇÈáçÊñ∞‰∏ãËΩΩ‰ºöËÄóË¥πÈ¢ùÂ§ñÁöÑËµÑÊ∫ê„ÄÇ\n- ÁΩëÁ´ôÂÜÖÂÆπ‰∏çÂÆâÂÖ®ÔºåÂÆπÊòìË¢´Âä´ÊåÅ„ÄÇ\n- Êñá‰ª∂Â≠òÂÇ®ÊàêÊú¨ËøáÈ´òÔºåÂêåÊó∂ÂØπÊ∫êÁ´ôÊÄßËÉΩË¶ÅÊ±ÇÈ´ò„ÄÇ\n\n### Èü≥ËßÜÈ¢ëÁÇπÊí≠\n\nÈü≥ËßÜÈ¢ëÁÇπÊí≠‰ºòÂåñÂä†ÈÄüÊúçÂä°ÔºöÁΩëÁ´ôÊàñÂ∫îÁî® App ÁöÑ‰∏ªË¶Å‰∏öÂä°‰∏∫ËßÜÈ¢ëÁÇπÊí≠ÊàñÁü≠ËßÜÈ¢ëÁ±ª„ÄÇÊîØÊåÅ‰æãÂ¶ÇÔºö`mp4`„ÄÅ`flv`„ÄÅ`rmvb`„ÄÅ`wmv`„ÄÅ`HLS` Á≠â‰∏ªÊµÅËßÜÈ¢ëÊ†ºÂºè„ÄÇ\n\nËßÜÈü≥È¢ëÁÇπÊí≠‰∏ªË¶ÅÈÄÇÁî®‰∫éÂêÑÁ±ªËßÜÈü≥È¢ëÁ´ôÁÇπÔºåÂ¶ÇÂΩ±ËßÜÁ±ªËßÜÈ¢ëÁΩëÁ´ô„ÄÅÂú®Á∫øÊïôËÇ≤Á±ªËßÜÈ¢ëÁΩëÁ´ô„ÄÅÊñ∞ÈóªÁ±ªËßÜÈ¢ëÁ´ôÁÇπ„ÄÅÁü≠ËßÜÈ¢ëÁ§æ‰∫§Á±ªÁΩëÁ´ô‰ª•ÂèäÈü≥È¢ëÁ±ªÁõ∏ÂÖ≥Á´ôÁÇπÂíåÂ∫îÁî®„ÄÇ\n\nCDN ÊîØÊåÅÊµÅÂ™í‰ΩìÂçèËÆÆÔºå‰æãÂ¶Ç RTMP ÂçèËÆÆ„ÄÇÂú®ÂæàÂ§öÊÉÖÂÜµ‰∏ãÔºåËøôÁõ∏ÂΩì‰∫é‰∏Ä‰∏™‰ª£ÁêÜÔºå‰ªé‰∏ä‰∏ÄÁ∫ßÁºìÂ≠òËØªÂèñÂÜÖÂÆπÔºåËΩ¨ÂèëÁªôÁî®Êà∑„ÄÇÁî±‰∫éÊµÅÂ™í‰ΩìÂæÄÂæÄÊòØËøûÁª≠ÁöÑÔºåÂõ†ËÄåÂèØ‰ª•ËøõË°åÈ¢ÑÂÖàÁºìÂ≠òÁöÑÁ≠ñÁï•Ôºå‰πüÂèØ‰ª•È¢ÑÂÖàÊé®ÈÄÅÂà∞Áî®Êà∑ÁöÑÂÆ¢Êà∑Á´Ø„ÄÇ\n\nÂØπ‰∫éÈùôÊÄÅÈ°µÈù¢Êù•ËÆ≤ÔºåÂÜÖÂÆπÁöÑÂàÜÂèëÂæÄÂæÄÈááÂèñ **ÊãâÂèñ** ÁöÑÊñπÂºèÔºå‰πüÂç≥ÂΩìÂèëÁé∞Êú™ÂëΩ‰∏≠ÁöÑÊó∂ÂÄôÔºåÂÜçÂéª‰∏ä‰∏ÄÁ∫ßËøõË°åÊãâÂèñ„ÄÇ‰ΩÜÊòØÔºåÊµÅÂ™í‰ΩìÊï∞ÊçÆÈáèÂ§ßÔºåÂ¶ÇÊûúÂá∫Áé∞ÂõûÊ∫êÔºåÂéãÂäõ‰ºöÊØîËæÉÂ§ßÔºåÊâÄ‰ª•ÂæÄÂæÄÈááÂèñ‰∏ªÂä®Êé®ÈÄÅÁöÑÊ®°ÂºèÔºåÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆ‰∏ªÂä®Êé®ÈÄÅÂà∞ËæπÁºòËäÇÁÇπ„ÄÇ\n\nÂØπ‰∫éÊµÅÂ™í‰ΩìÊù•ËÆ≤ÔºåÂæàÂ§ö CDN ËøòÊèê‰æõ **È¢ÑÂ§ÑÁêÜ** ÊúçÂä°Ôºå‰πüÂç≥Êñá‰ª∂Âú®ÂàÜÂèë‰πãÂâçÔºåÁªèËøá‰∏ÄÂÆöÁöÑÂ§ÑÁêÜ„ÄÇ‰æãÂ¶ÇÂ∞ÜËßÜÈ¢ëËΩ¨Êç¢‰∏∫‰∏çÂêåÁöÑÁ†ÅÊµÅÔºå‰ª•ÈÄÇÂ∫î‰∏çÂêåÁöÑÁΩëÁªúÂ∏¶ÂÆΩÁöÑÁî®Êà∑ÈúÄÊ±ÇÔºõÂÜçÂ¶ÇÂØπËßÜÈ¢ëËøõË°åÂàÜÁâáÔºåÈôç‰ΩéÂ≠òÂÇ®ÂéãÂäõÔºå‰πü‰ΩøÂæóÂÆ¢Êà∑Á´ØÂèØ‰ª•ÈÄâÊã©‰ΩøÁî®‰∏çÂêåÁöÑÁ†ÅÁéáÂä†ËΩΩ‰∏çÂêåÁöÑÂàÜÁâá„ÄÇËøôÂ∞±ÊòØÊàë‰ª¨Â∏∏ËßÅÁöÑÔºåË∂ÖÊ∏Ö„ÄÅÊ†áÊ∏Ö„ÄÅÊµÅÁïÖÁ≠â„ÄÇ\n\n**‰∏öÂä°‰ª∑ÂÄºÔºö**\n\n- ÁªàÁ´ØÁî®Êà∑ËÆøÈóÆËßÜÈ¢ëÊó∂Êâì‰∏çÂºÄËßÜÈ¢ëÊàñÂÆπÊòìÂç°È°øÔºåËßÇÁúã‰∏çÊµÅÁïÖ„ÄÇ\n- ‰∏ä‰º†„ÄÅËΩ¨Á†Å„ÄÅÂ≠òÂÇ®„ÄÅÂàÜÂèë„ÄÅÊí≠ÊîæÁöÑÂºÄÂèëÈÖçÁΩÆÊµÅÁ®ãÂ§çÊùÇÔºåÁÇπÊí≠ÊúçÂä°ÊäÄÊúØÈó®ÊßõÈ´ò„ÄÇ\n- ËßÜÈ¢ëËµÑÊ∫êÂÆπÊòìË¢´Âä´ÊåÅÊàñÁõóÁî®ÔºåÁâàÊùÉÂæó‰∏çÂà∞ÊúâÊïà‰øùÊä§„ÄÇ\n- ÁªàÁ´ØÂÆ¢Êà∑‰∏ä‰º†ÁöÑÂ∞èËßÜÈ¢ëÁ≠âÂÜÖÂÆπÊó†Ê≥ïË¢´Âø´ÈÄüÂÆ°Ê†∏ÔºåÂØºËá¥ÊîøÁ≠ñÈ£éÈô©„ÄÇ\n\n### Èü≥ËßÜÈ¢ëÁõ¥Êí≠\n\nËßÜÈ¢ëÊµÅÂ™í‰ΩìÁõ¥Êí≠ÊúçÂä°ÔºåÊîØÊåÅÂ™íËµÑÂ≠òÂÇ®„ÄÅÂàáÁâáËΩ¨Á†Å„ÄÅËÆøÈóÆÈâ¥ÊùÉ„ÄÅÂÜÖÂÆπÂàÜÂèëÂä†ÈÄü‰∏Ä‰ΩìÂåñËß£ÂÜ≥ÊñπÊ°à„ÄÇÁªìÂêàÂºπÊÄß‰º∏Áº©ÊúçÂä°ÔºåÂèäÊó∂Ë∞ÉÊï¥ÊúçÂä°Âô®Â∏¶ÂÆΩÔºåÂ∫îÂØπÁ™ÅÂèëËÆøÈóÆÊµÅÈáèÔºõÁªìÂêàÂ™í‰ΩìËΩ¨Á†ÅÊúçÂä°Ôºå‰∫´ÂèóÈ´òÈÄüÁ®≥ÂÆöÁöÑÂπ∂Ë°åËΩ¨Á†ÅÔºå‰∏î‰ªªÂä°ËßÑÊ®°Êó†ÁºùÊâ©Â±ï„ÄÇ\n\n### ËæπÁºòÁ®ãÂ∫è\n\n‰º†ÁªüÁöÑ CDN ÊúçÂä°ÊòØÁ∫ØÁ≤πÁöÑÁºìÂ≠òÂíåÂàÜÂèëÊúçÂä°ÔºåÁº∫‰πèÂèØ‰ª•Áõ¥Êé•Êèê‰æõÁªôÊÇ®ÁöÑËÆ°ÁÆóËÉΩÂäõ„ÄÇËÆøÈóÆ CDN ÁöÑÊµ∑ÈáèËØ∑Ê±Ç‰∏≠ÔºåÂ§çÊùÇÁöÑËÆ°ÁÆóÈÄªËæëÂøÖÈ°ªÂõûÊúçÂä°Âô®Ê∫êÁ´ôÊâßË°åÔºåËøôÂ¢ûÂä†‰∫ÜÊÇ®ÁöÑÊúçÂä°Âô®Ê∂àËÄó‰ª•ÂèäÊû∂ÊûÑÁöÑÂ§çÊùÇÊÄß„ÄÇER ÂèØÊèê‰æõÁõ¥Êé•Âú® CDN ËæπÁºòËäÇÁÇπËÆ°ÁÆóÂ§ÑÁêÜÁöÑËÉΩÂäõÔºåÂ∞ÜÊûÅÂ§ßÊèêÈ´ò CDN ÁöÑÂèØÂÆöÂà∂ÂåñÔºåÂèØÁºñÁ®ãÂåñÔºå‰ªéËÄåÂ§ßÈáèÂáèÂ∞ëÈúÄÂõûÊ∫êÁöÑËØ∑Ê±ÇÔºåÈôç‰ΩéÁî®Êà∑ÁöÑËØ∑Ê±ÇÂª∂Êó∂„ÄÇÂêåÊó∂ CDN ËæπÁºòËäÇÁÇπÊã•ÊúâÂ§©ÁÑ∂ÁöÑÈ´òÂèØÁî®„ÄÅÈ´ò‰º∏Áº©„ÄÅÂÖ®ÁêÉË¥üËΩΩÂùáË°°ÁöÑÁâπÊÄßÔºåËæπÁºòÁöÑËÆ°ÁÆóÊúçÂä°ÂèØÂ∫îÁî®‰∫éÊõ¥Â§öÁöÑ‰ΩøÁî®Âú∫ÊôØ„ÄÇ\n\n- GeoÔºöËæπÁºòÊâìÁÇπÊúçÂä°ÔºåÂèØ‰ª•ÈááÈõÜÂà∞ËæπÁºòËäÇÁÇπÁöÑËØ∑Ê±ÇÁõ∏ÂÖ≥‰ø°ÊÅØÔºöÂ¶Ç IP„ÄÅÂú∞ÁêÜ„ÄÅËÆæÂ§á‰ø°ÊÅØÁ≠â\n- FetchÔºöËæπÁºò‰ª£ÁêÜÊúçÂä°ÔºåÂú® JS ‰ª£Á†Å‰∏≠Ë∞ÉÁî®ÂÜÖÁΩÆ api fetch ÂÅö‰∫Ü http Ëá™ËØ∑Ê±ÇÔºåÂìçÂ∫îÁªôÂÆ¢Êà∑Á´Ø fetch ÁöÑÊúÄÁªàÂÜÖÂÆπ\n- AB testÔºöAB ÊµãËØïÁöÑÂäüËÉΩ\n- Precache/PrefetchÔºöCDN È¢ÑÁÉ≠ÂäüËÉΩÔºåÈ¢ÑÁÉ≠‰ªªÂä°Âú®ÂìçÂ∫îÂÆ¢Êà∑Á´ØÊó∂Â∞ÜÂºÇÊ≠•ÂÆåÊàê\n- RaceÔºöÂõûÊ∫êÂêåÊãâÂäüËÉΩÔºåÂ∞ÜÂõûÊ∫êÈÄüÂ∫¶ÊúÄÂø´ÁöÑÊ∫êÁ´ôÁöÑÂÜÖÂÆπ‰ºòÂÖàËøîÂõûÁªôÂÆ¢Êà∑Á´Ø\n- LogÔºöËæπÁºòÊó•ÂøóÊúçÂä°ÔºåÂú®ÂìçÂ∫îÁªìÊùüÂêéÂºÇÊ≠•Âú∞ÁîüÊàêÊó•ÂøóÂπ∂Âõû‰º†ÁªôÊÇ®ÁöÑ Server\n- 3xxÔºöÂõûÊ∫ê 302 Ë∑üÈöèÂäüËÉΩ\n- RedirectÔºöËæπÁºòËØ∑Ê±ÇÈáçÂÆöÂêëÂäüËÉΩ\n- Deny botÔºöËæπÁºòÂèçÁà¨Ëô´ÊúçÂä°\n- WafÔºöËæπÁºò waf ÊúçÂä°ÔºåÂΩìÊª°Ë∂≥Êüê‰∫õÊù°‰ª∂Êó∂ÔºåÂ∞ÜÁ¶ÅÊ≠¢ËØ•ËØ∑Ê±Ç\n\nÈÄöÂ∏∏Ôºå‰ΩøÁî®‰∫Ü CDN ÂêéÔºåÊÇ®ÂèØ‰ª•Ê†πÊçÆÂª∂Êó∂„ÄÅ‰∏ãËΩΩÈÄüÂ∫¶„ÄÅÊâìÂºÄÈÄüÂ∫¶„ÄÅ‰∏¢ÂåÖÁéá„ÄÅÂõûÊ∫êÁéáÂíåÁºìÂ≠òÂëΩ‰∏≠ÁéáÂà§Êñ≠Âä†ÈÄüÊïàÊûú„ÄÇ\n\n## Ë°°ÈáèÊåáÊ†á\n\n‰ΩøÁî® CDN Âä†ÈÄüÔºåËÉΩÂ§üÂ∏ÆÂä©ÊÇ®ÂàÜÊãÖÊ∫êÁ´ôÂéãÂäõÔºåÂä†ÈÄüËµÑÊ∫êËÆøÈóÆÈÄüÂ∫¶„ÄÇÈô§‰∫ÜÈÄöÁî®ÁöÑÊï∞ÊçÆËßÇÊµãÊåáÊ†áÂ§ñÔºå‰∏çÂêåÁöÑÂú∫ÊôØ‰∏ã‰πüÊúâÊõ¥ÂÖ∑‰ΩìÁöÑÊåáÊ†á„ÄÇËßÇÊµãËøô‰∫õÊåáÊ†áÔºå‰∏ç‰ªÖÂèØ‰ª•Â∏ÆÂä©ÊÇ®‰ΩìÈ™å CDN Âä†ÈÄüÁöÑÊïàÊûúÔºå‰πüËÉΩËßÇÊµãËá™Ë∫´‰∏öÂä°‰ΩøÁî® CDN ÁöÑÊÉÖÂÜµÔºåÂ∏ÆÂä©ÊÇ®Êõ¥Â•ΩÂú∞ÂÅöÂá∫Ë∞ÉÊï¥ÂíåÂÜ≥Á≠ñ„ÄÇ\n\n### ÈÄöÁî®ÊåáÊ†á\n\nÊÇ®ÂèØ‰ª•Ê†πÊçÆ‰ª•‰∏ãÂá†‰∏™‰∏ªË¶ÅÊÄßËÉΩÊåáÊ†áÔºåËßÇÂØü‰ΩøÁî® CDN ÂâçÂêéÔºåÊÇ®ÁöÑÁΩëÁ´ôÊÉÖÂÜµ„ÄÇËøô‰∫õÊåáÊ†áÂåÖÂê´‰ΩÜ‰∏çÈôê‰∫éÔºö\n\n- **Âª∂Êó∂**ÔºöÊåá‰∏Ä‰∏™Êï∞ÊçÆÂåÖ‰ªéÁî®Êà∑ÁöÑËÆ°ÁÆóÊú∫ÂèëÈÄÅÂà∞ÁΩëÁ´ôÊúçÂä°Âô®ÔºåÁÑ∂ÂêéÂÜçÁ´ãÂç≥‰ªéÁΩëÁ´ôÊúçÂä°Âô®ËøîÂõûÁî®Êà∑ËÆ°ÁÆóÊú∫ÁöÑÊù•ÂõûÊó∂Èó¥„ÄÇÂª∂Êó∂Ë∂ä‰ΩéÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n- **‰∏ãËΩΩÈÄüÂ∫¶**ÔºöÊåáÁî®Êà∑‰ªéÁΩëÁªú‰∏äÊàñËÄÖÁΩëÁªúÊúçÂä°Âô®‰∏ä‰∏ãËΩΩÁöÑÊï∞ÊçÆÊó∂ÁöÑ‰º†ËæìÈÄüÂ∫¶„ÄÇ‰∏ãËΩΩÈÄüÂ∫¶Ë∂äÂø´ÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n- **ÊâìÂºÄÈÄüÂ∫¶**ÔºöÊåáÁî®Êà∑ÊâìÂºÄÁΩëÁ´ôÁöÑÈÄüÂ∫¶„ÄÇÊâìÂºÄÈÄüÂ∫¶Ë∂äÂø´ÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n- **‰∏¢ÂåÖÁéá**ÔºöÊåáÁî®Êà∑Âú®ÁΩëÁªú‰º†Ëæì‰∏≠ÊâÄ‰∏¢Â§±Êï∞ÊçÆÂåÖÊï∞ÈáèÂç†ÊâÄÂèëÈÄÅÊï∞ÊçÆÁªÑÁöÑÊØîÁéá„ÄÇ\n- **ÂõûÊ∫êÁéá**ÔºöÂõûÊ∫êÁéáÂàÜ‰∏∫ÂõûÊ∫êËØ∑Ê±ÇÊï∞ÊØî‰æãÂèäÂõûÊ∫êÊµÅÈáèÊØî‰æã‰∏§Áßç„ÄÇ\n  - **ÂõûÊ∫êËØ∑Ê±ÇÊï∞ÊØî**ÔºöÊåáËæπÁºòËäÇÁÇπÂØπ‰∫éÊ≤°ÊúâÁºìÂ≠ò„ÄÅÁºìÂ≠òËøáÊúüÔºàÂèØÁºìÂ≠òÔºâÂíå‰∏çÂèØÁºìÂ≠òÁöÑËØ∑Ê±ÇÂç†ÂÖ®ÈÉ®ËØ∑Ê±ÇËÆ∞ÂΩïÁöÑÊØî‰æã„ÄÇË∂ä‰ΩéÂàôÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n  - **ÂõûÊ∫êÊµÅÈáèÊØî**ÔºöÂõûÊ∫êÊµÅÈáèÊòØÂõûÊ∫êËØ∑Ê±ÇÊñá‰ª∂Â§ßÂ∞è‰∫ßÁîüÁöÑÊµÅÈáèÂíåËØ∑Ê±ÇÊú¨Ë∫´‰∫ßÁîüÁöÑÊµÅÈáè„ÄÇÊâÄ‰ª• `ÂõûÊ∫êÊµÅÈáèÊØî=ÂõûÊ∫êÊµÅÈáè/ÔºàÂõûÊ∫êÊµÅÈáè+Áî®Êà∑ËØ∑Ê±ÇËÆøÈóÆÁöÑÊµÅÈáèÔºâ`ÔºåÊØîÂÄºË∂ä‰ΩéÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n- **ÁºìÂ≠òÂëΩ‰∏≠Áéá**ÔºöÊåáÁªàÁ´ØÁî®Êà∑ËÆøÈóÆÂä†ÈÄüËäÇÁÇπÊó∂ÔºåËØ•ËäÇÁÇπÂ∑≤ÁºìÂ≠ò‰∫ÜË¶ÅË¢´ËÆøÈóÆÁöÑÊï∞ÊçÆÁöÑÊ¨°Êï∞Âç†ÂÖ®ÈÉ®ËÆøÈóÆÊ¨°Êï∞ÁöÑÊØî‰æã„ÄÇÁºìÂ≠òÂëΩ‰∏≠ÁéáË∂äÈ´òÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n\n> ËØ¥ÊòéÔºö‰∏äÊñáÊèêÂà∞ÁöÑÂõûÊ∫êÁéá„ÄÅÁºìÂ≠òÂëΩ‰∏≠ÁéáÈÉΩÊòØÊåá‰ΩøÁî® CDN ÂêéË°°ÈáèÁöÑÊåáÊ†á„ÄÇÂ¶ÇÊûúÊÇ®ËøòÊ≤°Êúâ‰ΩøÁî® CDNÔºåÈÇ£‰πàÂõûÊ∫êËØ∑Ê±ÇÊï∞‰∏∫ 100%ÔºåÁºìÂ≠òÂëΩ‰∏≠Áéá‰∏∫ 0„ÄÇ\n\n‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî® CDN ÂêéÔºåÊÇ®ÁöÑÁΩëÁªúÂª∂Êó∂„ÄÅ‰∏¢ÂåÖÁéáÂíåÂõûÊ∫êÁéáÈÉΩ‰ºöÈôç‰ΩéÔºå‰∏é‰πãÁõ∏ÂØπÁöÑ‰∏ãËΩΩÈÄüÂ∫¶„ÄÅÊâìÂºÄÈÄüÂ∫¶„ÄÅÁºìÂ≠òÂëΩ‰∏≠ÁéáÂàô‰ºöÊèêÈ´ò„ÄÇ‰ΩÜÊòØÔºåÁî±‰∫é‰∏öÂä°Âú∫ÊôØÂíå‰∏öÂä°Á±ªÂûãÁöÑ‰∏çÂêåÔºåÂç≥‰ΩøÈÄâÊã©‰∫ÜÁõ∏ÂêåÈÖçÁΩÆÁöÑ CDN ÊúçÂä°ÔºåÂÆûÈôÖ‰∫ßÁîüÁöÑÂä†ÈÄüÊïàÊûú‰πü‰∏çÁõ∏Âêå„ÄÇÂõ†Ê≠§ÔºåËøôÈáåÂè™ÊòØÊèê‰æõ‰∫ÜÂÆöÊÄßÁöÑÊåáÊ†á‰ª•‰æõËßÇÊµã„ÄÇ\n\nCDN ÁöÑÂêÑÁ±ªÂ∫îÁî®Âú∫ÊôØÈÉΩÂêÑËá™ÂÖ∑Êúâ‰∏Ä‰∫õÂÖ∑‰ΩìÊåáÊ†á„ÄÇÊÇ®ÂèØ‰ª•Ê†πÊçÆÊÇ®ÁöÑ‰∏öÂä°Âú∫ÊôØÔºåËøõ‰∏ÄÊ≠•ËßÇÊµã„ÄÇ\n\n### Âä†ÈÄüÂ∞èÊñá‰ª∂ÁöÑ‰∏ªË¶ÅÊåáÊ†á\n\nÂ∞èÊñá‰ª∂Ôºå‰∏ªË¶ÅÊåá `html`„ÄÅ`js`„ÄÅ`jpg`„ÄÅ`css` Á≠âÊñá‰ª∂ÂêéÁºÄÁöÑÁΩëÈ°µÁ¥†Êùê„ÄÇËøôÁ±ªÂä†ÈÄüÂØπÂª∂ËøüË¶ÅÊ±ÇËæÉÈ´òÔºåÂõ†‰∏∫ÈÄöÂ∏∏ËÄåË®ÄÔºåÈ°µÈù¢Âä†ËΩΩÊó∂Èó¥ÁöÑÂä†ÈïøÂØπÁî®Êà∑ÊµÅÂ§±‰ºöÈÄ†ÊàêÂ∑®Â§ßÂΩ±Âìç„ÄÇ\n\nÂª∂Ëøü‰∏ªË¶ÅÂåÖÊã¨‰ª•‰∏ã 3 ‰∏™ÊÄßËÉΩÊåáÊ†áÔºöÂª∫Á´ãËøûÊé•Êó∂Èó¥„ÄÅÈ¶ñÂåÖÊó∂Èó¥„ÄÅÂÜÖÂÆπ‰∏ãËΩΩÊó∂Èó¥„ÄÇÂÖ∂‰∏≠Ôºå**È¶ñÂåÖÊó∂Èó¥**ÊòØÊúÄÊ†∏ÂøÉÁöÑÊåáÊ†á„ÄÇ\n\n- Âª∫Á´ãËøûÊé•Êó∂Èó¥ÔºöÊåá DNS Ëß£ÊûêÂÆåÊàêÔºåÁÑ∂ÂêéÊâæÂà∞ÂØπÂ∫î IP Âú∞ÂùÄÂêéÂª∫Á´ã TCP ËøûÊé•ÁöÑËøáÁ®ã„ÄÇÂª∫Á´ãËøûÊé•ÁöÑÊó∂Èó¥ÈïøÁü≠ÔºåÂü∫Êú¨ÂèØ‰ª•ÂèçÊò† **CDN ÊúçÂä°ÁöÑËäÇÁÇπËµÑÊ∫ê‰ª•ÂèäË∞ÉÂ∫¶ËÉΩÂäõ**„ÄÇ\n- È¶ñÂåÖÊó∂Èó¥ÔºöÊåá‰ªéÂÆ¢Êà∑Á´ØÂºÄÂßãÂèëÈÄÅËØ∑Ê±ÇÂà∞Êî∂Âà∞ÊúçÂä°Âô®Á´ØÂèëÊù•ÁöÑÁ¨¨‰∏Ä‰∏™ÂåÖ‰πãÈó¥ÊâÄÈúÄË¶ÅÁöÑÊó∂Èó¥„ÄÇËøôÂèçÊò†‰∫Ü CDN ÊúçÂä°ËäÇÁÇπÁ®ãÂ∫èÁöÑÊï¥‰ΩìÊÄßËÉΩ„ÄÇ\n\nÂú®‰∏ä‰º†Ë∑ØÂæÑ‰∏≠ÔºåÈ¶ñÂåÖÊó∂Èó¥‰∏ªË¶ÅÂåÖÂê´‰∫Ü DNS Ëß£ÊûêÊó∂Èó¥„ÄÅTCP Áî®Êó∂„ÄÅSSL Áî®Êó∂„ÄÅÂèëÈÄÅÊó∂Èó¥ÂíåÂìçÂ∫îÊó∂Èó¥„ÄÇ‰∏ä‰º†\n\n![CDN Upload Flow](https://img.mrsingsing.com/about-cdn-upload-flow.png)\n\nÂú®‰∏ãËΩΩË∑ØÂæÑ‰∏≠ÔºåÈ¶ñÂåÖÊó∂Èó¥‰∏ªË¶ÅÂåÖÂê´‰∫Ü DNS Ëß£ÊûêÊó∂Èó¥„ÄÅTCP Áî®Êó∂„ÄÅSSL Áî®Êó∂„ÄÅÂèëÈÄÅÊó∂Èó¥„ÄÅÂìçÂ∫îÊó∂Èó¥Âíå‰∏ãËΩΩÁî®Êó∂„ÄÇ‰∏ãËΩΩ\n\n![CDN Download Flow](https://img.mrsingsing.com/about-cdn-download-flow.png)\n\n### Âä†ÈÄüÂ§ßÊñá‰ª∂‰∏ãËΩΩÁöÑ‰∏ªË¶ÅÊåáÊ†á\n\nÂ§ßÊñá‰ª∂‰∏ãËΩΩÔºå‰∏ÄËà¨ÊåáÂêÑÁ±ªÂçï‰∏™Êñá‰ª∂Â§ßÂ∞èÂ§ß‰∫é 20M ÁöÑ‰∏ãËΩΩ„ÄÇÂõ†Ê≠§ÂØπËøôÁ±ªÂú∫ÊôØÔºåÊúÄÊ†∏ÂøÉÁöÑÊåáÊ†áÂ∞±ÊòØ **‰∏ãËΩΩÈÄüÂ∫¶** Âíå **‰∏ãËΩΩÊÄªÊó∂Èó¥**„ÄÇ\n\n### Âä†ÈÄüÈü≥ËßÜÈ¢ëÁÇπÊí≠ÁöÑ‰∏ªË¶ÅÊåáÊ†á\n\nËßÜÈü≥È¢ëÁÇπÊí≠ÁöÑÂú∫ÊôØÔºå‰∏ªË¶ÅÊ∂µÁõñ `flv`„ÄÅ`mp4`„ÄÅ`wmv`„ÄÅ`mkv` Á≠âËßÜÈü≥È¢ëÊñá‰ª∂„ÄÇÂú®ËøôÁ±ªÂú∫ÊôØ‰∏≠ÁöÑ‰∏ªË¶ÅË°°ÈáèÊåáÊ†áÂåÖÊã¨È¶ñÊí≠Êó∂Èó¥ÂíåÂç°È°øÁéáÔºö\n\n- **È¶ñÊí≠Êó∂Èó¥**ÔºöÈ¶ñÊí≠Êó∂Èó¥ÊòØ‰ªéÊâìÂºÄÂà∞ÁúãÂà∞ËßÜÈ¢ëÁîªÈù¢ÁöÑÊó∂Èó¥„ÄÇÂæÄÂæÄ‰ºöÂèóÂüüÂêçËß£Êûê„ÄÅËøûÊé•„ÄÅÈ¶ñÂåÖÊó∂Èó¥ÁöÑÂΩ±Âìç„ÄÇ\n- **Âç°È°øÁéá**ÔºöÂç°È°øÊåáËßÜÈü≥È¢ëÊí≠Êîæ„ÄÅËµÑÊ∫êÂä†ËΩΩÁ≠âÂú∫ÊôØ‰∏ãÂá∫Áé∞ÁîªÈù¢ÊªûÂ∏ß„ÄÇÂõ†Ê≠§Âç°È°øÁéá‰∏ªË¶ÅÊåáÊääÊâÄÊúâÁî®Êà∑Êí≠ÊîæËßÜÈ¢ëÁöÑÂç°È°øÊó∂Èó¥‰∏äÊä•ÔºåÊØè 100 ‰∏™Áî®Êà∑ÈáåÈù¢Êí≠ÊîæÂá∫Áé∞Âç°È°øÁöÑÊØî‰æã„ÄÇÂç°È°øÁéáË∂ä‰ΩéÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ\n\n## CDN Êèê‰æõÂïÜ\n\nÊØè‰∏™ CDN ÊúçÂä°Êèê‰æõÂïÜÁöÑÈÖçÁΩÆ‰ø°ÊÅØ‰∏çÂêå„ÄÇ\n\n- [ÈòøÈáå‰∫ë](https://www.aliyun.com/product/cdn)\n- [ËÖæËÆØ‰∫ë](https://cloud.tencent.com/product/cdn)\n- [Âçé‰∏∫‰∫ë](https://www.huaweicloud.com/product/cdn.html)\n- [‰∏ÉÁâõ‰∫ë](https://www.qiniu.com/products/fusion)\n\n### Âä®ÊÄÅ CDN\n\nÂä®ÊÄÅÂä†ÈÄüÈíàÂØπÂä®ÊÄÅËµÑÊ∫êËøõË°åÂä†ÈÄüÂàÜÂèë„ÄÇ\n\n- **ËæπÁºòËÆ°ÁÆóÁöÑÊ®°Âºè**ÔºöÊó¢ÁÑ∂Êï∞ÊçÆÊòØÂä®ÊÄÅÁîüÊàêÁöÑÔºåÊâÄ‰ª• **Êï∞ÊçÆÁöÑÈÄªËæëËÆ°ÁÆóÂíåÂ≠òÂÇ®**Ôºå‰πüÁõ∏Â∫îÁöÑÊîæÂú®ËæπÁºòÁöÑËäÇÁÇπ„ÄÇÂÖ∂‰∏≠ÂÆöÊó∂‰ªéÊ∫êÊï∞ÊçÆÈÇ£ÈáåÂêåÊ≠•Â≠òÂÇ®ÁöÑÊï∞ÊçÆÔºåÁÑ∂ÂêéÂú®ËæπÁºòËøõË°åËÆ°ÁÆóÂæóÂà∞ÁªìÊûú„ÄÇÂ∞±ÂÉèÂØπÁîüÈ≤úÁöÑÁÉπÈ•™ÊòØÂä®ÊÄÅÁöÑÔºåÊ≤°ÂäûÊ≥ï‰∫ãÂÖàÂÅöÂ•ΩÁºìÂ≠òÔºåÂõ†ËÄåÂ∞ÜÁîüÈ≤úË∂ÖÂ∏ÇÊîæÂú®‰Ω†ÂÆ∂ÊóÅËæπÔºåÊó¢ËÉΩÂ§üÈÄÅË¥ß‰∏äÈó®Ôºå‰πüËÉΩÂ§üÁé∞Âú∫ÁÉπÈ•™Ôºå‰πüÊòØËæπÁºòËÆ°ÁÆóÁöÑ‰∏ÄÁßç‰ΩìÁé∞„ÄÇ\n- **Ë∑ØÂæÑ‰ºòÂåñÁöÑÊ®°Âºè**ÔºöÊï∞ÊçÆ‰∏çÊòØÂú®ËæπÁºòËÆ°ÁÆóÁîüÊàêÁöÑÔºåËÄåÊòØÂú®Ê∫êÁ´ôÁîüÊàêÁöÑÔºå‰ΩÜÊòØÊï∞ÊçÆÁöÑ‰∏ãÂèëÂàôÂèØ‰ª•ÈÄöËøá CDN ÁöÑÁΩëÁªúÔºåÂØπË∑ØÂæÑËøõË°å‰ºòÂåñ„ÄÇÂõ†‰∏∫ CDN ËäÇÁÇπËæÉÂ§öÔºåËÉΩÂ§üÊâæÂà∞Á¶ªÊ∫êÁ´ôÂæàËøëÁöÑËæπÁºòËäÇÁÇπÔºå‰πüËÉΩÊâæÂà∞Á¶ªÁî®Êà∑ÂæàËøëÁöÑËæπÁºòËäÇÁÇπ„ÄÇ‰∏≠Èó¥ÁöÑÈìæË∑ØÂÆåÂÖ®Áî± CDN Êù•ËßÑÂàíÔºåÈÄâÊã©‰∏Ä‰∏™Êõ¥Âä†ÂèØÈù†ÁöÑË∑ØÂæÑÔºå‰ΩøÁî®Á±ª‰ºº‰∏ìÁ∫øÁöÑÊñπÂºèËøõË°åËÆøÈóÆ„ÄÇ\n\nÂØπ‰∫éÂ∏∏Áî®ÁöÑ TCP ËøûÊé•ÔºåÂú®ÂÖ¨ÁΩë‰∏ä‰º†ËæìÁöÑÊó∂ÂÄôÁªèÂ∏∏‰ºö‰∏¢Êï∞ÊçÆÔºåÂØºËá¥ TCP ÁöÑÁ™óÂè£ÂßãÁªàÂæàÂ∞èÔºåÂèëÈÄÅÈÄüÂ∫¶‰∏ä‰∏çÂéª„ÄÇÊ†πÊçÆÂâçÈù¢ÁöÑ TCP ÊµÅÈáèÊéßÂà∂ÂíåÊã•Â°ûÊéßÂà∂ÁöÑÂéüÁêÜÔºåÂú® CDN Âä†ÈÄüÁΩëÁªú‰∏≠ÂèØ‰ª•Ë∞ÉÊï¥ TCP ÁöÑÂèÇÊï∞Ôºå‰ΩøÂæó TCP ÂèØ‰ª•Êõ¥Âä†ÊøÄËøõÂú∞‰º†ËæìÊï∞ÊçÆ„ÄÇÂèØ‰ª•ÈÄöËøáÂ§ö‰∏™ËØ∑Ê±ÇÂ§çÁî®‰∏Ä‰∏™ËøûÊé•Ôºå‰øùËØÅÊØèÊ¨°Âä®ÊÄÅËØ∑Ê±ÇÂà∞ËææÊó∂„ÄÇËøûÊé•ÈÉΩÂ∑≤ÁªèÂª∫Á´ã‰∫ÜÔºå‰∏çÂøÖ‰∏¥Êó∂‰∏âÊ¨°Êè°ÊâãÊàñËÄÖÂª∫Á´ãËøáÂ§öÁöÑËøûÊé•ÔºåÂ¢ûÂä†ÊúçÂä°Âô®ÁöÑÂéãÂäõ„ÄÇÂè¶Â§ñÔºåÂèØ‰ª•ÈÄöËøáÂØπ‰º†ËæìÊï∞ÊçÆËøõË°åÂéãÁº©ÔºåÂ¢ûÂä†‰º†ËæìÊïàÁéá„ÄÇÊâÄÊúâËøô‰∫õÊâãÊÆµÂ∞±ÂÉèÂÜ∑ÈìæËøêËæìÔºåÊï¥‰∏™Áâ©ÊµÅ‰ºòÂåñ‰∫ÜÔºåÂÖ®Á®ãÂÜ∑ÂÜªÈ´òÈÄüËøêËæì„ÄÇ‰∏çÁÆ°ÁîüÈ≤úÊòØ‰ªé‰Ω†ÊóÅËæπÁöÑË∂ÖÂ∏ÇÈÄÅÂà∞‰Ω†ÂÆ∂ÁöÑÔºåËøòÊòØ‰ªé‰∫ßÂú∞ÈÄÅÁöÑÔºå‰øùËØÅÂà∞‰Ω†ÂÆ∂ÊòØÊñ∞È≤úÁöÑ„ÄÇ\n\n### Âà∑Êñ∞È¢ÑÁÉ≠\n\n- Âà∑Êñ∞ÂäüËÉΩÊòØÊåáÊèê‰∫§ URL Âà∑Êñ∞ÊàñÁõÆÂΩïÂà∑Êñ∞ËØ∑Ê±ÇÂêéÔºåCDN ËäÇÁÇπÁöÑÁºìÂ≠òÂÜÖÂÆπÂ∞Ü‰ºöË¢´Âº∫Âà∂ËøáÊúüÔºåÂΩìÊÇ®Âêë CDN ËäÇÁÇπËØ∑Ê±ÇËµÑÊ∫êÊó∂ÔºåCDN ‰ºöÁõ¥Êé•ÂõûÊ∫êÁ´ôËé∑ÂèñÂØπÂ∫îÁöÑËµÑÊ∫êËøîÂõûÁªôÊÇ®ÔºåÂπ∂Â∞ÜÂÖ∂ÁºìÂ≠ò„ÄÇÂà∑Êñ∞ÂäüËÉΩ‰ºöÈôç‰ΩéÁºìÂ≠òÂëΩ‰∏≠Áéá„ÄÇ\n- È¢ÑÁÉ≠ÂäüËÉΩÊòØÊåáÊèê‰∫§ URL È¢ÑÁÉ≠ËØ∑Ê±ÇÂêéÔºåÊ∫êÁ´ôÂ∞Ü‰ºö‰∏ªÂä®Â∞ÜÂØπÂ∫îÁöÑËµÑÊ∫êÁºìÂ≠òÂà∞ CDN ËäÇÁÇπÔºåÂΩìÊÇ®È¶ñÊ¨°ËØ∑Ê±ÇÊó∂ÔºåÂ∞±ËÉΩÁõ¥Êé•‰ªé CDN ËäÇÁÇπÁºìÂ≠ò‰∏≠Ëé∑ÂèñÂà∞ÊúÄÊñ∞ÁöÑËØ∑Ê±ÇËµÑÊ∫êÔºåÊó†ÈúÄÂÜçÂõûÊ∫êÁ´ôËé∑Âèñ„ÄÇÈ¢ÑÁÉ≠ÂäüËÉΩ‰ºöÊèêÈ´òÁºìÂ≠òÂëΩ‰∏≠Áéá„ÄÇ\n\n## ÂèÇËÄÉËµÑÊñô\n\n- [üìñ Áª¥Âü∫ÁôæÁßëÔºöÂÜÖÂÆπÂàÜÂèëÁΩëÁªú](https://zh.wikipedia.org/wiki/%E5%85%A7%E5%AE%B9%E5%82%B3%E9%81%9E%E7%B6%B2%E8%B7%AF)\n- [üìù CDN ÁöÑÂü∫Êú¨Â∑•‰ΩúËøáÁ®ã](http://book.51cto.com/art/201205/338756.htm)\n- [üìù CDN Áü•ËØÜËØ¶Ëß£](https://zhuanlan.zhihu.com/p/28939811)\n- [üìù HTTP ÁºìÂ≠ò‰∏é CDN ÁºìÂ≠òÈÖçÁΩÆÊåáÂçó](http://dopro.io/http-cache-and-cdn-cache.html)\n- [üìù Ê±üÊπñÂ§±‰º†ÁöÑÊúÄÂêé‰∏Ä‰ªΩ CDN ÁßòÁ±ç](https://zhuanlan.zhihu.com/p/31167721?group_id=915177705310674944)\n- [üìù CDN HTTPS ÂÆâÂÖ®Âä†ÈÄüÂü∫Êú¨Ê¶ÇÂøµ„ÄÅËß£ÂÜ≥ÊñπÊ°àÂèä‰ºòÂåñÂÆûË∑µ](https://juejin.im/post/59f9538f6fb9a0450a66aa2b)\n- [üìù Èù¢ÂêëÂâçÁ´ØÁöÑ CDN ÂéüÁêÜ‰ªãÁªç](https://github.com/renaesop/blog/issues/1)\n- [üìù ÈòøÈáå‰∫ë CDN ÊñáÊ°£ÔºöCDN ÁöÑË°°ÈáèÊåáÊ†á](https://help.aliyun.com/document_detail/140425.html)\n- [üìù SSR È°µÈù¢ CDN ÁºìÂ≠òÂÆûË∑µ](https://juejin.im/post/6847902220222988301)\n","slug":"about-content-delivery-network","published":1,"updated":"2021-09-29T18:08:06.163Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867n6e0000bmjdrhiqlf8a","content":"<p><strong>ÂÖßÂÆπÂàÜÂèëÁΩëÁªúÔºàContent Delivery Network Êàñ Content Distribution NetworkÔºåÁÆÄÁß∞ CDNÔºâ</strong> ÈÄöËøáÂ∞ÜÊ∫êÁ´ôÂÜÖÂÆπÂàÜÂèëËá≥ <strong>ÊúÄÊé•ËøëÁî®Êà∑</strong> ÁöÑËäÇÁÇπÔºå‰ªéËÄå <strong>Èôç‰ΩéÊ†∏ÂøÉÁ≥ªÁªüË¥üËΩΩÔºàÁ≥ªÁªü„ÄÅÁΩëÁªúÔºâ</strong>Ôºå‰ΩøÁî®Êà∑ÂèØÂ∞±ËøëÂèñÂæóÊâÄÈúÄÂÜÖÂÆπÔºå<strong>ÊèêÈ´òÁî®Êà∑ËÆøÈóÆÁöÑÂìçÂ∫îÈÄüÂ∫¶</strong>„ÄÇËøôÁßçÊäÄÊúØÊñπÊ°àËß£ÂÜ≥‰∫ÜÂõ†ÂàÜÂ∏É„ÄÅÂ∏¶ÂÆΩ„ÄÅÊúçÂä°Âô®ÊÄßËÉΩÂ∏¶Êù•ÁöÑËÆøÈóÆÂª∂ËøüÈóÆÈ¢òÔºåÈÄÇÁî®‰∫éÂõæÁâáÂ∞èÊñá‰ª∂„ÄÅÂ§ßÊñá‰ª∂‰∏ãËΩΩ„ÄÅÈü≥ËßÜÈ¢ëÁÇπÊí≠„ÄÅÂÖ®Á´ôÂä†ÈÄüÂíåÂÆâÂÖ®Âä†ÈÄüÁ≠âÂú∫ÊôØ„ÄÇ</p>\n<h2 id=\"Â∑•‰ΩúÂéüÁêÜ\"><a href=\"#Â∑•‰ΩúÂéüÁêÜ\" class=\"headerlink\" title=\"Â∑•‰ΩúÂéüÁêÜ\"></a>Â∑•‰ΩúÂéüÁêÜ</h2><p>ÈÄöËøáÂú®ÁΩëÁªúÂêÑÂ§ÑÊîæÁΩÆËäÇÁÇπÊúçÂä°Âô®ÊâÄÊûÑÊàêÁöÑÂú®Áé∞ÊúâÁöÑ‰∫íËÅîÁΩëÂü∫Á°Ä‰πã‰∏äÁöÑ‰∏ÄÂ±ÇÊô∫ËÉΩËôöÊãüÁΩëÁªúÔºåCDN Á≥ªÁªüËÉΩÂ§üÂÆûÊó∂Âú∞Ê†πÊçÆ <strong>ÁΩëÁªúÊµÅÈáè</strong> Âíå <strong>ÂêÑËäÇÁÇπÁöÑËøûÊé•</strong>„ÄÅ<strong>Ë¥üËΩΩÁä∂ÂÜµ</strong> ‰ª•Âèä <strong>Âà∞Áî®Êà∑ÁöÑË∑ùÁ¶ª</strong> Âíå <strong>ÂìçÂ∫îÊó∂Èó¥</strong> Á≠âÁªºÂêà‰ø°ÊÅØÂ∞ÜÁî®Êà∑ÁöÑËØ∑Ê±ÇÈáçÊñ∞ÂØºÂêëÁ¶ªÁî®Êà∑ÊúÄËøëÁöÑÊúçÂä°ËäÇÁÇπ‰∏ä„ÄÇ</p>\n<p>Âà©Áî®ÂÖ¨ÂºèÁÆÄËø∞ CDN ÂèØË°®Á§∫‰∏∫Ôºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CDN = Êõ¥Êô∫ËÉΩÁöÑÈïúÂÉè + ÁºìÂ≠ò + ÊµÅÈáèÂØºÊµÅ;</span><br></pre></td></tr></table></figure>\n<p>ÁÆÄÂçïÂú∞ËØ¥ÔºåCDN ÊòØ‰∏Ä‰∏™ÁªèÁ≠ñÁï•ÊÄßÈÉ®ÁΩ≤ÁöÑÊï¥‰ΩìÁ≥ªÁªüÔºåÂåÖÊã¨<strong>ÂàÜÂ∏ÉÂºèÂ≠òÂÇ®</strong>„ÄÅ<strong>Ë¥üËΩΩÂùáË°°</strong>„ÄÅ<strong>ÁΩëÁªúËØ∑Ê±ÇÁöÑÈáçÂÆöÂêë</strong> Âíå <strong>ÂÜÖÂÆπÁÆ°ÁêÜ</strong> 4 ‰∏™Ë¶Å‰ª∂ÔºåËÄåÂÜÖÂÆπÁÆ°ÁêÜÂíåÂÖ®Â±ÄÁöÑÁΩëÁªúÊµÅÈáèÁÆ°ÁêÜÔºàTraffic ManagementÔºâÊòØ CDN ÁöÑÊ†∏ÂøÉÊâÄÂú®„ÄÇ</p>\n<h2 id=\"Â∑•‰ΩúÊµÅÁ®ã\"><a href=\"#Â∑•‰ΩúÊµÅÁ®ã\" class=\"headerlink\" title=\"Â∑•‰ΩúÊµÅÁ®ã\"></a>Â∑•‰ΩúÊµÅÁ®ã</h2><p>Áî®Êà∑ÁªàÁ´ØËÆøÈóÆ CDN ÁöÑËøáÁ®ãÂàÜ‰∏∫‰∏§‰∏™Ê≠•È™§Ôºå‰∏ÄÊòØÁî®Êà∑ÈÄöËøá DNS ÊâæÂà∞ÊúÄËøëÁöÑ CDN ËæπÁºòËäÇÁÇπ IPÔºå‰∫åÊòØÊï∞ÊçÆÂú®ÁΩëÁªú‰∏≠ÈÄÅËææÁî®Êà∑ÁªàÁ´Ø„ÄÇ</p>\n<p>ÊúÄÁÆÄÂçïÁöÑ CDN ÁΩëÁªúÁî±‰∏Ä‰∏™ DNS ÊúçÂä°Âô®ÂíåÂá†Âè∞ÁºìÂ≠òÊúçÂä°Âô®ÁªÑÊàêÔºåÂÅáËÆæÊÇ®ÁöÑÂä†ÈÄüÂüüÂêç‰∏∫ <code>www.taobao.com</code>ÔºåÊé•ÂÖ• CDN ÁΩëÁªúÔºåÂºÄÂßã‰ΩøÁî®Âä†ÈÄüÊúçÂä°ÂêéÔºåÂΩìÁªàÁ´ØÁî®Êà∑ÔºàÂπøÂ∑ûÔºâÂèëËµ∑ HTTP ËØ∑Ê±ÇÊó∂ÔºåÂ§ÑÁêÜÊµÅÁ®ãÂ¶Ç‰∏ãÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-cdn-workflow.jpg\" alt=\"CDN Workflow\"></p>\n<a id=\"more\"></a>\n<ol>\n<li>ÂΩìÁªàÁ´ØÁî®Êà∑ÔºàÂπøÂ∑ûÔºâÂêë <code>www.taobao.com</code> ‰∏ãÁöÑÊüêËµÑÊ∫êÂèëËµ∑ËØ∑Ê±ÇÊó∂ÔºåÈ¶ñÂÖàÂêë LDNSÔºàÊú¨Âú∞ DNSÔºâÂèëËµ∑ÂüüÂêçËß£ÊûêËØ∑Ê±Ç„ÄÇ</li>\n<li>LDNS Ê£ÄÊü•ÁºìÂ≠ò‰∏≠ÊòØÂê¶Êúâ <code>www.taobao.com</code> ÁöÑ IP Âú∞ÂùÄËÆ∞ÂΩï„ÄÇÂ¶ÇÊûúÊúâÔºåÂàôÁõ¥Êé•ËøîÂõûÁªôÁªàÁ´ØÁî®Êà∑ÔºõÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàôÂêëÊéàÊùÉ DNS Êü•ËØ¢„ÄÇ</li>\n<li>ÂΩìÊéàÊùÉ DNS Ëß£Êûê <code>www.taobao.com</code> Êó∂ÔºåËøîÂõûÂüüÂêç CNAME <code>www.taobao.alicdn.com</code> ÂØπÂ∫î IP Âú∞ÂùÄ„ÄÇ</li>\n<li>ÂüüÂêçËß£ÊûêËØ∑Ê±ÇÂèëÈÄÅËá≥ DNS Ë∞ÉÂ∫¶Á≥ªÁªüÔºåÂπ∂‰∏∫ËØ∑Ê±ÇÂàÜÈÖçÊúÄ‰Ω≥ËäÇÁÇπ IP Âú∞ÂùÄ„ÄÇ</li>\n<li>LDNS Ëé∑Âèñ DNS ËøîÂõûÁöÑËß£Êûê IP Âú∞ÂùÄ„ÄÇ</li>\n<li>Áî®Êà∑Ëé∑ÂèñËß£Êûê IP Âú∞ÂùÄ„ÄÇ</li>\n<li>Áî®Êà∑ÂêëËé∑ÂèñÁöÑ IP Âú∞ÂùÄÂèëËµ∑ÂØπËØ•ËµÑÊ∫êÁöÑËÆøÈóÆËØ∑Ê±Ç„ÄÇ<ul>\n<li>Â¶ÇÊûúËØ• IP Âú∞ÂùÄÂØπÂ∫îÁöÑËäÇÁÇπÂ∑≤ÁºìÂ≠òËØ•ËµÑÊ∫êÔºåÂàô‰ºöÂ∞ÜÊï∞ÊçÆÁõ¥Êé•ËøîÂõûÁªôÁî®Êà∑Ôºå‰æãÂ¶ÇÔºåÂõæ‰∏≠Ê≠•È™§ 7 Âíå 8ÔºåËØ∑Ê±ÇÁªìÊùü„ÄÇ</li>\n<li>Â¶ÇÊûúËØ• IP Âú∞ÂùÄÂØπÂ∫îÁöÑËäÇÁÇπÊú™ÁºìÂ≠òËØ•ËµÑÊ∫êÔºåÂàôËäÇÁÇπÂêëÂÆÉÁöÑ‰∏äÁ∫ßÁºìÂ≠òÊúçÂä°Âô®ËØ∑Ê±ÇÂÜÖÂÆπÔºåÁõ¥Ëá≥ËøΩÊ∫ØÂà∞ÁΩëÁ´ôÁöÑÊ∫êÁ´ôÂèëËµ∑ÂØπËØ•ËµÑÊ∫êÁöÑËØ∑Ê±Ç„ÄÇËé∑ÂèñËµÑÊ∫êÂêéÔºåÁªìÂêàÁî®Êà∑Ëá™ÂÆö‰πâÈÖçÁΩÆÁöÑÁºìÂ≠òÁ≠ñÁï•ÔºåÂ∞ÜËµÑÊ∫êÁºìÂ≠òËá≥ËäÇÁÇπÔºå‰æãÂ¶ÇÔºåÈÄî‰∏≠ÁöÑÊù≠Â∑ûËäÇÁÇπÔºåÂπ∂ËøîÂõûÁªôÁî®Êà∑ÔºåËØ∑Ê±ÇÁªìÊùü„ÄÇ</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p>Local DNS ÈÄöÂ∏∏ÊòØ‰Ω†ÁöÑËøêËê•ÂïÜÊèê‰æõÁöÑ DNSÔºå‰∏ÄËà¨ÂüüÂêçËß£ÊûêÁöÑÁ¨¨‰∏ÄÁ´ô‰ºöÂà∞ËøôÈáå<br>ÂõûÊ∫ê HOST ÊòØÊåá CDN ËäÇÁÇπÂú®ÂõûÊ∫êËøáÁ®ã‰∏≠ÔºåÂú®Ê∫êÁ´ôËÆøÈóÆÁöÑÁ´ôÁÇπÂüüÂêç„ÄÇ</p>\n</blockquote>\n<p>Âú®Ê≠•È™§Âõõ‰∏≠ÔºåDNS Ë∞ÉÂ∫¶Á≥ªÁªüÂèØ‰ª•ÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÂäüËÉΩÔºåË¥üËΩΩÂùáË°°ÂàÜ‰∏∫ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ÂíåÂå∫ÂüüË¥üËΩΩÂùáË°°ÔºåÂÖ∂ÂÜÖÈÉ®ÈÄªËæëÂ§ßËá¥Â¶Ç‰∏ãÔºö</p>\n<ol>\n<li>CDN ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ËÆæÂ§á‰ºöÊ†πÊçÆÁî®Êà∑ IP Âú∞ÂùÄÔºå‰ª•ÂèäÁî®Êà∑ËØ∑Ê±ÇÁöÑÂÜÖÂÆπ URLÔºåÈÄâÊã©‰∏ÄÂè∞Áî®Êà∑ÊâÄÂ±ûÂå∫ÂüüÁöÑ<strong>Âå∫ÂüüË¥üËΩΩÂùáË°°ËÆæÂ§á</strong>ÔºåÂëäËØâÁî®Êà∑ÂêëËøôÂè∞ËÆæÂ§áÂèëËµ∑ËØ∑Ê±Ç„ÄÇ</li>\n<li>Âå∫ÂüüË¥üËΩΩÂùáË°°ËÆæÂ§á‰ºö‰∏∫Áî®Êà∑ÈÄâÊã©‰∏ÄÂè∞ÂêàÈÄÇÁöÑ<strong>ÁºìÂ≠òÊúçÂä°Âô®</strong>Êèê‰æõÊúçÂä°ÔºåÈÄâÊã©ÁöÑ‰æùÊçÆÂåÖÊã¨Ôºö<ul>\n<li>Ê†πÊçÆÁî®Êà∑ IP Âú∞ÂùÄÔºåÂà§Êñ≠Âì™‰∏ÄÂè∞ÊúçÂä°Âô®Ë∑ùÁî®Êà∑ÊúÄËøëÔºõ</li>\n<li>Áî®Êà∑ÊâÄÂ§ÑÁöÑËøêËê•ÂïÜÔºõ</li>\n<li>Ê†πÊçÆÁî®Êà∑ÊâÄËØ∑Ê±ÇÁöÑ URL ‰∏≠Êê∫Â∏¶ÁöÑÂÜÖÂÆπÂêçÁß∞ÔºåÂà§Êñ≠Âì™‰∏ÄÂè∞ÊúçÂä°Âô®‰∏äÊúâÁî®Êà∑ÊâÄÈúÄÂÜÖÂÆπÔºõ</li>\n<li>Êü•ËØ¢ÂêÑ‰∏™ÊúçÂä°Âô®ÂΩìÂâçÁöÑË¥üËΩΩÊÉÖÂÜµÔºåÂà§Êñ≠Âì™‰∏ÄÂè∞ÊúçÂä°Âô®Â∞öÊúâÊúçÂä°ËÉΩÂäõ„ÄÇ<br>Âü∫‰∫é‰ª•‰∏äËøô‰∫õÊù°‰ª∂ÁöÑÁªºÂêàÂàÜÊûê‰πãÂêéÔºåÂå∫ÂüüË¥üËΩΩÂùáË°°ËÆæÂ§á‰ºöÂêëÂÖ®Â±ÄË¥üËΩΩÂùáË°°ËÆæÂ§áËøîÂõû‰∏ÄÂè∞ÁºìÂ≠òÊúçÂä°Âô®ÁöÑ IP Âú∞ÂùÄ„ÄÇ</li>\n</ul>\n</li>\n<li>ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ËÆæÂ§áÊääÊúçÂä°Âô®ÁöÑ IP Âú∞ÂùÄËøîÂõûÁªôÁî®Êà∑„ÄÇ</li>\n</ol>\n<h2 id=\"ÁªÑÊàêÈÉ®ÂàÜ\"><a href=\"#ÁªÑÊàêÈÉ®ÂàÜ\" class=\"headerlink\" title=\"ÁªÑÊàêÈÉ®ÂàÜ\"></a>ÁªÑÊàêÈÉ®ÂàÜ</h2><p>ÂÖ∏ÂûãÁöÑ CDN Á≥ªÁªüÁî±‰∏ãÈù¢‰∏â‰∏™ÈÉ®ÂàÜÁªÑÊàêÔºö</p>\n<ul>\n<li><strong>ÂàÜÂèëÊúçÂä°Á≥ªÁªü</strong>ÔºöÊúÄÂü∫Êú¨ÁöÑÂ∑•‰ΩúÂçïÂÖÉÂ∞±ÊòØ Cache ËÆæÂ§áÔºåCacheÔºàËæπÁºò CacheÔºâË¥üË¥£Áõ¥Êé•ÂìçÂ∫îÊúÄÁªàÁî®Êà∑ÁöÑËÆøÈóÆËØ∑Ê±ÇÔºåÊääÁºìÂ≠òÂú®Êú¨Âú∞ÁöÑÂÜÖÂÆπÂø´ÈÄüÂú∞Êèê‰æõÁªôÁî®Êà∑„ÄÇÂêåÊó∂ Cache ËøòË¥üË¥£‰∏éÊ∫êÁ´ôÁÇπËøõË°åÂÜÖÂÆπÂêåÊ≠•ÔºåÊääÊõ¥Êñ∞ÁöÑÂÜÖÂÆπ‰ª•ÂèäÊú¨Âú∞Ê≤°ÊúâÁöÑÂÜÖÂÆπ‰ªéÊ∫êÁ´ôÁÇπËé∑ÂèñÂπ∂‰øùÂ≠òÂú®Êú¨Âú∞„ÄÇCache ËÆæÂ§áÁöÑÊï∞Èáè„ÄÅËßÑÊ®°„ÄÅÊÄªÊúçÂä°ËÉΩÂäõÊòØË°°Èáè‰∏Ä‰∏™ CDN Á≥ªÁªüÊúçÂä°ËÉΩÂäõÁöÑÊúÄÂü∫Êú¨ÁöÑÊåáÊ†á„ÄÇ</li>\n<li><strong>Ë¥üËΩΩÂùáË°°Á≥ªÁªü</strong>Ôºö‰∏ªË¶ÅÂäüËÉΩÊòØË¥üË¥£ÂØπÊâÄÊúâÂèëËµ∑ÊúçÂä°ËØ∑Ê±ÇÁöÑÁî®Êà∑ËøõË°åËÆøÈóÆË∞ÉÂ∫¶ÔºåÁ°ÆÂÆöÊèê‰æõÁªôÁî®Êà∑ÁöÑÊúÄÁªàÂÆûÈôÖËÆøÈóÆÂú∞ÂùÄ„ÄÇ‰∏§Á∫ßË∞ÉÂ∫¶‰ΩìÁ≥ªÂàÜ‰∏∫ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ÔºàGSLBÔºâÂíåÊú¨Âú∞Ë¥üËΩΩÂùáË°°ÔºàSLBÔºâ„ÄÇGSLB ‰∏ªË¶ÅÊ†πÊçÆÁî®Êà∑Â∞±ËøëÊÄßÂéüÂàôÔºåÈÄöËøáÂØπÊØè‰∏™ÊúçÂä°ËäÇÁÇπËøõË°å‚ÄùÊúÄ‰ºò‚ÄúÂà§Êñ≠ÔºåÁ°ÆÂÆöÂêëÁî®Êà∑Êèê‰æõÊúçÂä°ÁöÑ Cache ÁöÑÁâ©ÁêÜ‰ΩçÁΩÆ„ÄÇSLB ‰∏ªË¶ÅË¥üË¥£ËäÇÁÇπÂÜÖÈÉ®ÁöÑËÆæÂ§áË¥üËΩΩÂùáË°°</li>\n<li><strong>ËøêËê•ÁÆ°ÁêÜÁ≥ªÁªü</strong>ÔºöÂàÜ‰∏∫ËøêËê•ÁÆ°ÁêÜÂíåÁΩëÁªúÁÆ°ÁêÜÂ≠êÁ≥ªÁªüÔºåË¥üË¥£Â§ÑÁêÜ‰∏öÂä°Â±ÇÈù¢ÁöÑ‰∏éÂ§ñÁïåÁ≥ªÁªü‰∫§‰∫íÊâÄÂøÖÈ°ªÁöÑÊî∂ÈõÜ„ÄÅÊï¥ÁêÜ„ÄÅ‰∫§‰ªòÂ∑•‰ΩúÔºåÂåÖÂê´ÂÆ¢Êà∑ÁÆ°ÁêÜ„ÄÅ‰∫ßÂìÅÁÆ°ÁêÜ„ÄÅËÆ°Ë¥πÁÆ°ÁêÜ„ÄÅÁªüËÆ°ÂàÜÊûêÁ≠âÂäüËÉΩ„ÄÇ</li>\n</ul>\n<p>CDN ÈÄöÂ∏∏Áî±Ê∫êÁ´ôË¥üË¥£ÂÜÖÂÆπÁîü‰∫ßÔºå‰∏ªÂπ≤ËäÇÁÇπË¥üË¥£‰∫åÁ∫ßÁºìÂ≠òÂíåÂä†ÈÄüÔºåÈÄöÂ∏∏Âú® BGP ÁΩëÁªú„ÄÇ</p>\n<p>Âπø‰πâ‰∏äÁöÑÂÜÖÂÆπÂàÜÂèëÁΩëÁªúÂèØ‰ª•ÂåÖÂê´Ê∫êÁ´ô‰∏ÄËµ∑ÔºåÁîöËá≥Â§öÂ™í‰ΩìÂàÜÂèëÔºàËßÜÈ¢ëÔºâ„ÄÇÂïÜ‰∏öÊÑè‰πâ‰∏äÁöÑ CDN Âè™ÂåÖÂê´ CDN Êèê‰æõÂïÜÁöÑÁΩëÁªúÔºå‰∏çÂåÖÂê´Ê∫êÁ´ô„ÄÇÈÉ®ÂàÜ CDN ÊîØÊåÅÂõæÁâáÂèäÂ§öÂ™í‰ΩìÂ§ÑÁêÜÊâ©Â±ïÁ≠âÈôÑÂä†ÂäüËÉΩÔºöÂéãÁº©„ÄÅÂâ™Âàá„ÄÅÊ∞¥Âç∞„ÄÅÈâ¥ÈªÑ„ÄÇ</p>\n<p><strong>CDN ÂàáÈù¢</strong></p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-section.jpg\" alt=\"CDN ÂàáÈù¢\"></p>\n<p><strong>CDN Êï∞ÊçÆÊµÅÂêë</strong></p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-data-flow.jpg\" alt=\"CDN ÂàáÈù¢\"></p>\n<h2 id=\"Â∫îÁî®Âú∫ÊôØ\"><a href=\"#Â∫îÁî®Âú∫ÊôØ\" class=\"headerlink\" title=\"Â∫îÁî®Âú∫ÊôØ\"></a>Â∫îÁî®Âú∫ÊôØ</h2><h3 id=\"ÁΩëÁ´ôÂä†ÈÄü\"><a href=\"#ÁΩëÁ´ôÂä†ÈÄü\" class=\"headerlink\" title=\"ÁΩëÁ´ôÂä†ÈÄü\"></a>ÁΩëÁ´ôÂä†ÈÄü</h3><p>Á´ôÁÇπÊàñËÄÖÂ∫îÁî®‰∏≠Â§ßÈáèÈùôÊÄÅËµÑÊ∫êÁöÑÂä†ÈÄüÂàÜÂèëÔºåÂª∫ËÆÆÂ∞ÜÁ´ôÁÇπÂÜÖÂÆπËøõË°åÂä®ÈùôÂàÜÁ¶ªÔºåÂä®ÊÄÅÊñá‰ª∂ÂèØ‰ª•ÁªìÂêà‰∫ëÊúçÂä°Âô® ECSÔºåÈùôÊÄÅËµÑÊ∫êÂ¶ÇÂêÑÁ±ªÂûã HTML„ÄÅCSS„ÄÅJS„ÄÅÂõæÁâá„ÄÅÊñá‰ª∂„ÄÅÁü≠ËßÜÈ¢ëÁ≠âÔºåÂª∫ËÆÆÁªìÂêàÂØπË±°Â≠òÂÇ® OSS Â≠òÂÇ®Êµ∑ÈáèÈùôÊÄÅËµÑÊ∫êÔºåÂèØ‰ª•ÊúâÊïàÂä†ÈÄüÂÜÖÂÆπÂä†ËΩΩÈÄüÂ∫¶ÔºåËΩªÊùæÊêûÂÆöÁΩëÁ´ôÂõæÁâá„ÄÅÁü≠ËßÜÈ¢ëÁ≠âÂÜÖÂÆπÂàÜÂèë„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-qiniu-accelerate.png\" alt=\"‰∏ÉÁâõ‰∫ëÁΩëÁ´ôÂä†ÈÄü\"></p>\n<p>Âª∫ËÆÆÂ∞Ü CDN ‰∫ßÂìÅ‰∏é OSS ‰∫ßÂìÅÁªìÂêà‰ΩøÁî®ÔºåÂèØ‰ª•Âä†ÈÄüËµÑÊ∫êÁöÑÂä†ËΩΩÈÄüÂ∫¶ÔºåÊèêÈ´òÁΩëÁ´ôÂõæÁâá„ÄÅÁü≠ËßÜÈ¢ëÁ≠âÂàÜÂèëÊïàÁéá„ÄÇ</p>\n<p><strong>‰∏öÂä°‰ª∑ÂÄºÔºö</strong></p>\n<ul>\n<li>ÁªàÁ´ØÁî®Êà∑ËÆøÈóÆÊÖ¢ÔºöÁΩëÁ´ôÂ∞èÊñá‰ª∂ÂÜÖÂÆπÂ§öÊâìÂºÄÈÄüÂ∫¶Â§™ÊÖ¢</li>\n<li>Ë∑®Âå∫ÂüüËÆøÈóÆË¥®ÈáèÂ∑ÆÔºöÁªàÁ´ØÁî®Êà∑ÂàÜÂ∏ÉÂú®‰∏çÂêåÂå∫ÂüüÔºå‰∏çÂêåÂå∫ÂüüÁöÑËÆøÈóÆÈÄüÂ∫¶ÂíåË¥®ÈáèÈ´ò‰Ωé‰∏ç‰∏Ä</li>\n<li>È´òÂπ∂ÂèëÂéãÂäõÂ§ßÔºöËøêËê•Êé®ÂπøÊúüÈó¥ÔºåÊ∫êÁ´ôÊúçÂä°Âô®ÂéãÂäõÂ§ßÔºåÂÆπÊòìÊåÇÊéâÔºåÈÄ†ÊàêÊúçÂä°‰∏çÂèØÁî®</li>\n<li>ÂõæÁâáÊ†ºÂºèÂàÜËæ®ÁéáÂ§ÑÁêÜÂ§çÊùÇÔºöÊó†Ê≥ïÊ†πÊçÆÈÄÇÂêàÁöÑÁªàÁ´ØÊÉÖÂÜµËøõË°åÂõæÁâáÂéãÁº©Âíå‰ºòÂåñ</li>\n</ul>\n<h3 id=\"Ë∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ\"><a href=\"#Ë∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ\" class=\"headerlink\" title=\"Ë∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ\"></a>Ë∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ</h3><p>Â§ßÊñá‰ª∂‰∏ãËΩΩ‰ºòÂåñÂä†ÈÄüÂàÜÂèëÔºöÁΩëÁ´ôÊàñÂ∫îÁî® App ÁöÑ‰∏ªË¶Å‰∏öÂä°‰∏∫Â§ßÊñá‰ª∂‰∏ãËΩΩÔºå‰æãÂ¶ÇÔºöÂÆâË£ÖÂåÖÊñá‰ª∂ <code>apk</code>„ÄÅÈü≥È¢ëÊñá‰ª∂ <code>mp3</code>„ÄÅÈ©±Âä®Á®ãÂ∫è <code>exe</code>„ÄÅÂ∫îÁî®Êõ¥Êñ∞Êñá‰ª∂ <code>zip</code> Á≠âÔºåÂπ≥ÂùáÂçï‰∏™Êñá‰ª∂Â§ßÂ∞èÂú® 20M ‰ª•‰∏äÔºåÂ¶ÇÊ∏∏Êàè„ÄÅÂêÑÁ±ªÂÆ¢Êà∑Á´Ø‰∏ãËΩΩÂíå App ‰∏ãËΩΩÂïÜÂ∫óÁ≠â„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-qiniu-file.png\" alt=\"‰∏ÉÁâõ‰∫ëË∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ\"></p>\n<p><strong>‰∏öÂä°‰ª∑ÂÄºÔºö</strong></p>\n<ul>\n<li>ÁªàÁ´ØÁî®Êà∑Êó†Ê≥ï‰∏ãËΩΩÊàñËÄÖ‰∏ãËΩΩÂ§™ÊÖ¢„ÄÇ</li>\n<li>ÁΩëÁªúÁéØÂ¢É‰∏çÁ®≥ÂÆöÊó∂Ôºå‰∏ãËΩΩÂÆπÊòì‰∏≠Êñ≠„ÄÇÈáçÊñ∞‰∏ãËΩΩ‰ºöËÄóË¥πÈ¢ùÂ§ñÁöÑËµÑÊ∫ê„ÄÇ</li>\n<li>ÁΩëÁ´ôÂÜÖÂÆπ‰∏çÂÆâÂÖ®ÔºåÂÆπÊòìË¢´Âä´ÊåÅ„ÄÇ</li>\n<li>Êñá‰ª∂Â≠òÂÇ®ÊàêÊú¨ËøáÈ´òÔºåÂêåÊó∂ÂØπÊ∫êÁ´ôÊÄßËÉΩË¶ÅÊ±ÇÈ´ò„ÄÇ</li>\n</ul>\n<h3 id=\"Èü≥ËßÜÈ¢ëÁÇπÊí≠\"><a href=\"#Èü≥ËßÜÈ¢ëÁÇπÊí≠\" class=\"headerlink\" title=\"Èü≥ËßÜÈ¢ëÁÇπÊí≠\"></a>Èü≥ËßÜÈ¢ëÁÇπÊí≠</h3><p>Èü≥ËßÜÈ¢ëÁÇπÊí≠‰ºòÂåñÂä†ÈÄüÊúçÂä°ÔºöÁΩëÁ´ôÊàñÂ∫îÁî® App ÁöÑ‰∏ªË¶Å‰∏öÂä°‰∏∫ËßÜÈ¢ëÁÇπÊí≠ÊàñÁü≠ËßÜÈ¢ëÁ±ª„ÄÇÊîØÊåÅ‰æãÂ¶ÇÔºö<code>mp4</code>„ÄÅ<code>flv</code>„ÄÅ<code>rmvb</code>„ÄÅ<code>wmv</code>„ÄÅ<code>HLS</code> Á≠â‰∏ªÊµÅËßÜÈ¢ëÊ†ºÂºè„ÄÇ</p>\n<p>ËßÜÈü≥È¢ëÁÇπÊí≠‰∏ªË¶ÅÈÄÇÁî®‰∫éÂêÑÁ±ªËßÜÈü≥È¢ëÁ´ôÁÇπÔºåÂ¶ÇÂΩ±ËßÜÁ±ªËßÜÈ¢ëÁΩëÁ´ô„ÄÅÂú®Á∫øÊïôËÇ≤Á±ªËßÜÈ¢ëÁΩëÁ´ô„ÄÅÊñ∞ÈóªÁ±ªËßÜÈ¢ëÁ´ôÁÇπ„ÄÅÁü≠ËßÜÈ¢ëÁ§æ‰∫§Á±ªÁΩëÁ´ô‰ª•ÂèäÈü≥È¢ëÁ±ªÁõ∏ÂÖ≥Á´ôÁÇπÂíåÂ∫îÁî®„ÄÇ</p>\n<p>CDN ÊîØÊåÅÊµÅÂ™í‰ΩìÂçèËÆÆÔºå‰æãÂ¶Ç RTMP ÂçèËÆÆ„ÄÇÂú®ÂæàÂ§öÊÉÖÂÜµ‰∏ãÔºåËøôÁõ∏ÂΩì‰∫é‰∏Ä‰∏™‰ª£ÁêÜÔºå‰ªé‰∏ä‰∏ÄÁ∫ßÁºìÂ≠òËØªÂèñÂÜÖÂÆπÔºåËΩ¨ÂèëÁªôÁî®Êà∑„ÄÇÁî±‰∫éÊµÅÂ™í‰ΩìÂæÄÂæÄÊòØËøûÁª≠ÁöÑÔºåÂõ†ËÄåÂèØ‰ª•ËøõË°åÈ¢ÑÂÖàÁºìÂ≠òÁöÑÁ≠ñÁï•Ôºå‰πüÂèØ‰ª•È¢ÑÂÖàÊé®ÈÄÅÂà∞Áî®Êà∑ÁöÑÂÆ¢Êà∑Á´Ø„ÄÇ</p>\n<p>ÂØπ‰∫éÈùôÊÄÅÈ°µÈù¢Êù•ËÆ≤ÔºåÂÜÖÂÆπÁöÑÂàÜÂèëÂæÄÂæÄÈááÂèñ <strong>ÊãâÂèñ</strong> ÁöÑÊñπÂºèÔºå‰πüÂç≥ÂΩìÂèëÁé∞Êú™ÂëΩ‰∏≠ÁöÑÊó∂ÂÄôÔºåÂÜçÂéª‰∏ä‰∏ÄÁ∫ßËøõË°åÊãâÂèñ„ÄÇ‰ΩÜÊòØÔºåÊµÅÂ™í‰ΩìÊï∞ÊçÆÈáèÂ§ßÔºåÂ¶ÇÊûúÂá∫Áé∞ÂõûÊ∫êÔºåÂéãÂäõ‰ºöÊØîËæÉÂ§ßÔºåÊâÄ‰ª•ÂæÄÂæÄÈááÂèñ‰∏ªÂä®Êé®ÈÄÅÁöÑÊ®°ÂºèÔºåÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆ‰∏ªÂä®Êé®ÈÄÅÂà∞ËæπÁºòËäÇÁÇπ„ÄÇ</p>\n<p>ÂØπ‰∫éÊµÅÂ™í‰ΩìÊù•ËÆ≤ÔºåÂæàÂ§ö CDN ËøòÊèê‰æõ <strong>È¢ÑÂ§ÑÁêÜ</strong> ÊúçÂä°Ôºå‰πüÂç≥Êñá‰ª∂Âú®ÂàÜÂèë‰πãÂâçÔºåÁªèËøá‰∏ÄÂÆöÁöÑÂ§ÑÁêÜ„ÄÇ‰æãÂ¶ÇÂ∞ÜËßÜÈ¢ëËΩ¨Êç¢‰∏∫‰∏çÂêåÁöÑÁ†ÅÊµÅÔºå‰ª•ÈÄÇÂ∫î‰∏çÂêåÁöÑÁΩëÁªúÂ∏¶ÂÆΩÁöÑÁî®Êà∑ÈúÄÊ±ÇÔºõÂÜçÂ¶ÇÂØπËßÜÈ¢ëËøõË°åÂàÜÁâáÔºåÈôç‰ΩéÂ≠òÂÇ®ÂéãÂäõÔºå‰πü‰ΩøÂæóÂÆ¢Êà∑Á´ØÂèØ‰ª•ÈÄâÊã©‰ΩøÁî®‰∏çÂêåÁöÑÁ†ÅÁéáÂä†ËΩΩ‰∏çÂêåÁöÑÂàÜÁâá„ÄÇËøôÂ∞±ÊòØÊàë‰ª¨Â∏∏ËßÅÁöÑÔºåË∂ÖÊ∏Ö„ÄÅÊ†áÊ∏Ö„ÄÅÊµÅÁïÖÁ≠â„ÄÇ</p>\n<p><strong>‰∏öÂä°‰ª∑ÂÄºÔºö</strong></p>\n<ul>\n<li>ÁªàÁ´ØÁî®Êà∑ËÆøÈóÆËßÜÈ¢ëÊó∂Êâì‰∏çÂºÄËßÜÈ¢ëÊàñÂÆπÊòìÂç°È°øÔºåËßÇÁúã‰∏çÊµÅÁïÖ„ÄÇ</li>\n<li>‰∏ä‰º†„ÄÅËΩ¨Á†Å„ÄÅÂ≠òÂÇ®„ÄÅÂàÜÂèë„ÄÅÊí≠ÊîæÁöÑÂºÄÂèëÈÖçÁΩÆÊµÅÁ®ãÂ§çÊùÇÔºåÁÇπÊí≠ÊúçÂä°ÊäÄÊúØÈó®ÊßõÈ´ò„ÄÇ</li>\n<li>ËßÜÈ¢ëËµÑÊ∫êÂÆπÊòìË¢´Âä´ÊåÅÊàñÁõóÁî®ÔºåÁâàÊùÉÂæó‰∏çÂà∞ÊúâÊïà‰øùÊä§„ÄÇ</li>\n<li>ÁªàÁ´ØÂÆ¢Êà∑‰∏ä‰º†ÁöÑÂ∞èËßÜÈ¢ëÁ≠âÂÜÖÂÆπÊó†Ê≥ïË¢´Âø´ÈÄüÂÆ°Ê†∏ÔºåÂØºËá¥ÊîøÁ≠ñÈ£éÈô©„ÄÇ</li>\n</ul>\n<h3 id=\"Èü≥ËßÜÈ¢ëÁõ¥Êí≠\"><a href=\"#Èü≥ËßÜÈ¢ëÁõ¥Êí≠\" class=\"headerlink\" title=\"Èü≥ËßÜÈ¢ëÁõ¥Êí≠\"></a>Èü≥ËßÜÈ¢ëÁõ¥Êí≠</h3><p>ËßÜÈ¢ëÊµÅÂ™í‰ΩìÁõ¥Êí≠ÊúçÂä°ÔºåÊîØÊåÅÂ™íËµÑÂ≠òÂÇ®„ÄÅÂàáÁâáËΩ¨Á†Å„ÄÅËÆøÈóÆÈâ¥ÊùÉ„ÄÅÂÜÖÂÆπÂàÜÂèëÂä†ÈÄü‰∏Ä‰ΩìÂåñËß£ÂÜ≥ÊñπÊ°à„ÄÇÁªìÂêàÂºπÊÄß‰º∏Áº©ÊúçÂä°ÔºåÂèäÊó∂Ë∞ÉÊï¥ÊúçÂä°Âô®Â∏¶ÂÆΩÔºåÂ∫îÂØπÁ™ÅÂèëËÆøÈóÆÊµÅÈáèÔºõÁªìÂêàÂ™í‰ΩìËΩ¨Á†ÅÊúçÂä°Ôºå‰∫´ÂèóÈ´òÈÄüÁ®≥ÂÆöÁöÑÂπ∂Ë°åËΩ¨Á†ÅÔºå‰∏î‰ªªÂä°ËßÑÊ®°Êó†ÁºùÊâ©Â±ï„ÄÇ</p>\n<h3 id=\"ËæπÁºòÁ®ãÂ∫è\"><a href=\"#ËæπÁºòÁ®ãÂ∫è\" class=\"headerlink\" title=\"ËæπÁºòÁ®ãÂ∫è\"></a>ËæπÁºòÁ®ãÂ∫è</h3><p>‰º†ÁªüÁöÑ CDN ÊúçÂä°ÊòØÁ∫ØÁ≤πÁöÑÁºìÂ≠òÂíåÂàÜÂèëÊúçÂä°ÔºåÁº∫‰πèÂèØ‰ª•Áõ¥Êé•Êèê‰æõÁªôÊÇ®ÁöÑËÆ°ÁÆóËÉΩÂäõ„ÄÇËÆøÈóÆ CDN ÁöÑÊµ∑ÈáèËØ∑Ê±Ç‰∏≠ÔºåÂ§çÊùÇÁöÑËÆ°ÁÆóÈÄªËæëÂøÖÈ°ªÂõûÊúçÂä°Âô®Ê∫êÁ´ôÊâßË°åÔºåËøôÂ¢ûÂä†‰∫ÜÊÇ®ÁöÑÊúçÂä°Âô®Ê∂àËÄó‰ª•ÂèäÊû∂ÊûÑÁöÑÂ§çÊùÇÊÄß„ÄÇER ÂèØÊèê‰æõÁõ¥Êé•Âú® CDN ËæπÁºòËäÇÁÇπËÆ°ÁÆóÂ§ÑÁêÜÁöÑËÉΩÂäõÔºåÂ∞ÜÊûÅÂ§ßÊèêÈ´ò CDN ÁöÑÂèØÂÆöÂà∂ÂåñÔºåÂèØÁºñÁ®ãÂåñÔºå‰ªéËÄåÂ§ßÈáèÂáèÂ∞ëÈúÄÂõûÊ∫êÁöÑËØ∑Ê±ÇÔºåÈôç‰ΩéÁî®Êà∑ÁöÑËØ∑Ê±ÇÂª∂Êó∂„ÄÇÂêåÊó∂ CDN ËæπÁºòËäÇÁÇπÊã•ÊúâÂ§©ÁÑ∂ÁöÑÈ´òÂèØÁî®„ÄÅÈ´ò‰º∏Áº©„ÄÅÂÖ®ÁêÉË¥üËΩΩÂùáË°°ÁöÑÁâπÊÄßÔºåËæπÁºòÁöÑËÆ°ÁÆóÊúçÂä°ÂèØÂ∫îÁî®‰∫éÊõ¥Â§öÁöÑ‰ΩøÁî®Âú∫ÊôØ„ÄÇ</p>\n<ul>\n<li>GeoÔºöËæπÁºòÊâìÁÇπÊúçÂä°ÔºåÂèØ‰ª•ÈááÈõÜÂà∞ËæπÁºòËäÇÁÇπÁöÑËØ∑Ê±ÇÁõ∏ÂÖ≥‰ø°ÊÅØÔºöÂ¶Ç IP„ÄÅÂú∞ÁêÜ„ÄÅËÆæÂ§á‰ø°ÊÅØÁ≠â</li>\n<li>FetchÔºöËæπÁºò‰ª£ÁêÜÊúçÂä°ÔºåÂú® JS ‰ª£Á†Å‰∏≠Ë∞ÉÁî®ÂÜÖÁΩÆ api fetch ÂÅö‰∫Ü http Ëá™ËØ∑Ê±ÇÔºåÂìçÂ∫îÁªôÂÆ¢Êà∑Á´Ø fetch ÁöÑÊúÄÁªàÂÜÖÂÆπ</li>\n<li>AB testÔºöAB ÊµãËØïÁöÑÂäüËÉΩ</li>\n<li>Precache/PrefetchÔºöCDN È¢ÑÁÉ≠ÂäüËÉΩÔºåÈ¢ÑÁÉ≠‰ªªÂä°Âú®ÂìçÂ∫îÂÆ¢Êà∑Á´ØÊó∂Â∞ÜÂºÇÊ≠•ÂÆåÊàê</li>\n<li>RaceÔºöÂõûÊ∫êÂêåÊãâÂäüËÉΩÔºåÂ∞ÜÂõûÊ∫êÈÄüÂ∫¶ÊúÄÂø´ÁöÑÊ∫êÁ´ôÁöÑÂÜÖÂÆπ‰ºòÂÖàËøîÂõûÁªôÂÆ¢Êà∑Á´Ø</li>\n<li>LogÔºöËæπÁºòÊó•ÂøóÊúçÂä°ÔºåÂú®ÂìçÂ∫îÁªìÊùüÂêéÂºÇÊ≠•Âú∞ÁîüÊàêÊó•ÂøóÂπ∂Âõû‰º†ÁªôÊÇ®ÁöÑ Server</li>\n<li>3xxÔºöÂõûÊ∫ê 302 Ë∑üÈöèÂäüËÉΩ</li>\n<li>RedirectÔºöËæπÁºòËØ∑Ê±ÇÈáçÂÆöÂêëÂäüËÉΩ</li>\n<li>Deny botÔºöËæπÁºòÂèçÁà¨Ëô´ÊúçÂä°</li>\n<li>WafÔºöËæπÁºò waf ÊúçÂä°ÔºåÂΩìÊª°Ë∂≥Êüê‰∫õÊù°‰ª∂Êó∂ÔºåÂ∞ÜÁ¶ÅÊ≠¢ËØ•ËØ∑Ê±Ç</li>\n</ul>\n<p>ÈÄöÂ∏∏Ôºå‰ΩøÁî®‰∫Ü CDN ÂêéÔºåÊÇ®ÂèØ‰ª•Ê†πÊçÆÂª∂Êó∂„ÄÅ‰∏ãËΩΩÈÄüÂ∫¶„ÄÅÊâìÂºÄÈÄüÂ∫¶„ÄÅ‰∏¢ÂåÖÁéá„ÄÅÂõûÊ∫êÁéáÂíåÁºìÂ≠òÂëΩ‰∏≠ÁéáÂà§Êñ≠Âä†ÈÄüÊïàÊûú„ÄÇ</p>\n<h2 id=\"Ë°°ÈáèÊåáÊ†á\"><a href=\"#Ë°°ÈáèÊåáÊ†á\" class=\"headerlink\" title=\"Ë°°ÈáèÊåáÊ†á\"></a>Ë°°ÈáèÊåáÊ†á</h2><p>‰ΩøÁî® CDN Âä†ÈÄüÔºåËÉΩÂ§üÂ∏ÆÂä©ÊÇ®ÂàÜÊãÖÊ∫êÁ´ôÂéãÂäõÔºåÂä†ÈÄüËµÑÊ∫êËÆøÈóÆÈÄüÂ∫¶„ÄÇÈô§‰∫ÜÈÄöÁî®ÁöÑÊï∞ÊçÆËßÇÊµãÊåáÊ†áÂ§ñÔºå‰∏çÂêåÁöÑÂú∫ÊôØ‰∏ã‰πüÊúâÊõ¥ÂÖ∑‰ΩìÁöÑÊåáÊ†á„ÄÇËßÇÊµãËøô‰∫õÊåáÊ†áÔºå‰∏ç‰ªÖÂèØ‰ª•Â∏ÆÂä©ÊÇ®‰ΩìÈ™å CDN Âä†ÈÄüÁöÑÊïàÊûúÔºå‰πüËÉΩËßÇÊµãËá™Ë∫´‰∏öÂä°‰ΩøÁî® CDN ÁöÑÊÉÖÂÜµÔºåÂ∏ÆÂä©ÊÇ®Êõ¥Â•ΩÂú∞ÂÅöÂá∫Ë∞ÉÊï¥ÂíåÂÜ≥Á≠ñ„ÄÇ</p>\n<h3 id=\"ÈÄöÁî®ÊåáÊ†á\"><a href=\"#ÈÄöÁî®ÊåáÊ†á\" class=\"headerlink\" title=\"ÈÄöÁî®ÊåáÊ†á\"></a>ÈÄöÁî®ÊåáÊ†á</h3><p>ÊÇ®ÂèØ‰ª•Ê†πÊçÆ‰ª•‰∏ãÂá†‰∏™‰∏ªË¶ÅÊÄßËÉΩÊåáÊ†áÔºåËßÇÂØü‰ΩøÁî® CDN ÂâçÂêéÔºåÊÇ®ÁöÑÁΩëÁ´ôÊÉÖÂÜµ„ÄÇËøô‰∫õÊåáÊ†áÂåÖÂê´‰ΩÜ‰∏çÈôê‰∫éÔºö</p>\n<ul>\n<li><strong>Âª∂Êó∂</strong>ÔºöÊåá‰∏Ä‰∏™Êï∞ÊçÆÂåÖ‰ªéÁî®Êà∑ÁöÑËÆ°ÁÆóÊú∫ÂèëÈÄÅÂà∞ÁΩëÁ´ôÊúçÂä°Âô®ÔºåÁÑ∂ÂêéÂÜçÁ´ãÂç≥‰ªéÁΩëÁ´ôÊúçÂä°Âô®ËøîÂõûÁî®Êà∑ËÆ°ÁÆóÊú∫ÁöÑÊù•ÂõûÊó∂Èó¥„ÄÇÂª∂Êó∂Ë∂ä‰ΩéÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n<li><strong>‰∏ãËΩΩÈÄüÂ∫¶</strong>ÔºöÊåáÁî®Êà∑‰ªéÁΩëÁªú‰∏äÊàñËÄÖÁΩëÁªúÊúçÂä°Âô®‰∏ä‰∏ãËΩΩÁöÑÊï∞ÊçÆÊó∂ÁöÑ‰º†ËæìÈÄüÂ∫¶„ÄÇ‰∏ãËΩΩÈÄüÂ∫¶Ë∂äÂø´ÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n<li><strong>ÊâìÂºÄÈÄüÂ∫¶</strong>ÔºöÊåáÁî®Êà∑ÊâìÂºÄÁΩëÁ´ôÁöÑÈÄüÂ∫¶„ÄÇÊâìÂºÄÈÄüÂ∫¶Ë∂äÂø´ÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n<li><strong>‰∏¢ÂåÖÁéá</strong>ÔºöÊåáÁî®Êà∑Âú®ÁΩëÁªú‰º†Ëæì‰∏≠ÊâÄ‰∏¢Â§±Êï∞ÊçÆÂåÖÊï∞ÈáèÂç†ÊâÄÂèëÈÄÅÊï∞ÊçÆÁªÑÁöÑÊØîÁéá„ÄÇ</li>\n<li><strong>ÂõûÊ∫êÁéá</strong>ÔºöÂõûÊ∫êÁéáÂàÜ‰∏∫ÂõûÊ∫êËØ∑Ê±ÇÊï∞ÊØî‰æãÂèäÂõûÊ∫êÊµÅÈáèÊØî‰æã‰∏§Áßç„ÄÇ<ul>\n<li><strong>ÂõûÊ∫êËØ∑Ê±ÇÊï∞ÊØî</strong>ÔºöÊåáËæπÁºòËäÇÁÇπÂØπ‰∫éÊ≤°ÊúâÁºìÂ≠ò„ÄÅÁºìÂ≠òËøáÊúüÔºàÂèØÁºìÂ≠òÔºâÂíå‰∏çÂèØÁºìÂ≠òÁöÑËØ∑Ê±ÇÂç†ÂÖ®ÈÉ®ËØ∑Ê±ÇËÆ∞ÂΩïÁöÑÊØî‰æã„ÄÇË∂ä‰ΩéÂàôÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n<li><strong>ÂõûÊ∫êÊµÅÈáèÊØî</strong>ÔºöÂõûÊ∫êÊµÅÈáèÊòØÂõûÊ∫êËØ∑Ê±ÇÊñá‰ª∂Â§ßÂ∞è‰∫ßÁîüÁöÑÊµÅÈáèÂíåËØ∑Ê±ÇÊú¨Ë∫´‰∫ßÁîüÁöÑÊµÅÈáè„ÄÇÊâÄ‰ª• <code>ÂõûÊ∫êÊµÅÈáèÊØî=ÂõûÊ∫êÊµÅÈáè/ÔºàÂõûÊ∫êÊµÅÈáè+Áî®Êà∑ËØ∑Ê±ÇËÆøÈóÆÁöÑÊµÅÈáèÔºâ</code>ÔºåÊØîÂÄºË∂ä‰ΩéÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n</ul>\n</li>\n<li><strong>ÁºìÂ≠òÂëΩ‰∏≠Áéá</strong>ÔºöÊåáÁªàÁ´ØÁî®Êà∑ËÆøÈóÆÂä†ÈÄüËäÇÁÇπÊó∂ÔºåËØ•ËäÇÁÇπÂ∑≤ÁºìÂ≠ò‰∫ÜË¶ÅË¢´ËÆøÈóÆÁöÑÊï∞ÊçÆÁöÑÊ¨°Êï∞Âç†ÂÖ®ÈÉ®ËÆøÈóÆÊ¨°Êï∞ÁöÑÊØî‰æã„ÄÇÁºìÂ≠òÂëΩ‰∏≠ÁéáË∂äÈ´òÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n</ul>\n<blockquote>\n<p>ËØ¥ÊòéÔºö‰∏äÊñáÊèêÂà∞ÁöÑÂõûÊ∫êÁéá„ÄÅÁºìÂ≠òÂëΩ‰∏≠ÁéáÈÉΩÊòØÊåá‰ΩøÁî® CDN ÂêéË°°ÈáèÁöÑÊåáÊ†á„ÄÇÂ¶ÇÊûúÊÇ®ËøòÊ≤°Êúâ‰ΩøÁî® CDNÔºåÈÇ£‰πàÂõûÊ∫êËØ∑Ê±ÇÊï∞‰∏∫ 100%ÔºåÁºìÂ≠òÂëΩ‰∏≠Áéá‰∏∫ 0„ÄÇ</p>\n</blockquote>\n<p>‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî® CDN ÂêéÔºåÊÇ®ÁöÑÁΩëÁªúÂª∂Êó∂„ÄÅ‰∏¢ÂåÖÁéáÂíåÂõûÊ∫êÁéáÈÉΩ‰ºöÈôç‰ΩéÔºå‰∏é‰πãÁõ∏ÂØπÁöÑ‰∏ãËΩΩÈÄüÂ∫¶„ÄÅÊâìÂºÄÈÄüÂ∫¶„ÄÅÁºìÂ≠òÂëΩ‰∏≠ÁéáÂàô‰ºöÊèêÈ´ò„ÄÇ‰ΩÜÊòØÔºåÁî±‰∫é‰∏öÂä°Âú∫ÊôØÂíå‰∏öÂä°Á±ªÂûãÁöÑ‰∏çÂêåÔºåÂç≥‰ΩøÈÄâÊã©‰∫ÜÁõ∏ÂêåÈÖçÁΩÆÁöÑ CDN ÊúçÂä°ÔºåÂÆûÈôÖ‰∫ßÁîüÁöÑÂä†ÈÄüÊïàÊûú‰πü‰∏çÁõ∏Âêå„ÄÇÂõ†Ê≠§ÔºåËøôÈáåÂè™ÊòØÊèê‰æõ‰∫ÜÂÆöÊÄßÁöÑÊåáÊ†á‰ª•‰æõËßÇÊµã„ÄÇ</p>\n<p>CDN ÁöÑÂêÑÁ±ªÂ∫îÁî®Âú∫ÊôØÈÉΩÂêÑËá™ÂÖ∑Êúâ‰∏Ä‰∫õÂÖ∑‰ΩìÊåáÊ†á„ÄÇÊÇ®ÂèØ‰ª•Ê†πÊçÆÊÇ®ÁöÑ‰∏öÂä°Âú∫ÊôØÔºåËøõ‰∏ÄÊ≠•ËßÇÊµã„ÄÇ</p>\n<h3 id=\"Âä†ÈÄüÂ∞èÊñá‰ª∂ÁöÑ‰∏ªË¶ÅÊåáÊ†á\"><a href=\"#Âä†ÈÄüÂ∞èÊñá‰ª∂ÁöÑ‰∏ªË¶ÅÊåáÊ†á\" class=\"headerlink\" title=\"Âä†ÈÄüÂ∞èÊñá‰ª∂ÁöÑ‰∏ªË¶ÅÊåáÊ†á\"></a>Âä†ÈÄüÂ∞èÊñá‰ª∂ÁöÑ‰∏ªË¶ÅÊåáÊ†á</h3><p>Â∞èÊñá‰ª∂Ôºå‰∏ªË¶ÅÊåá <code>html</code>„ÄÅ<code>js</code>„ÄÅ<code>jpg</code>„ÄÅ<code>css</code> Á≠âÊñá‰ª∂ÂêéÁºÄÁöÑÁΩëÈ°µÁ¥†Êùê„ÄÇËøôÁ±ªÂä†ÈÄüÂØπÂª∂ËøüË¶ÅÊ±ÇËæÉÈ´òÔºåÂõ†‰∏∫ÈÄöÂ∏∏ËÄåË®ÄÔºåÈ°µÈù¢Âä†ËΩΩÊó∂Èó¥ÁöÑÂä†ÈïøÂØπÁî®Êà∑ÊµÅÂ§±‰ºöÈÄ†ÊàêÂ∑®Â§ßÂΩ±Âìç„ÄÇ</p>\n<p>Âª∂Ëøü‰∏ªË¶ÅÂåÖÊã¨‰ª•‰∏ã 3 ‰∏™ÊÄßËÉΩÊåáÊ†áÔºöÂª∫Á´ãËøûÊé•Êó∂Èó¥„ÄÅÈ¶ñÂåÖÊó∂Èó¥„ÄÅÂÜÖÂÆπ‰∏ãËΩΩÊó∂Èó¥„ÄÇÂÖ∂‰∏≠Ôºå<strong>È¶ñÂåÖÊó∂Èó¥</strong>ÊòØÊúÄÊ†∏ÂøÉÁöÑÊåáÊ†á„ÄÇ</p>\n<ul>\n<li>Âª∫Á´ãËøûÊé•Êó∂Èó¥ÔºöÊåá DNS Ëß£ÊûêÂÆåÊàêÔºåÁÑ∂ÂêéÊâæÂà∞ÂØπÂ∫î IP Âú∞ÂùÄÂêéÂª∫Á´ã TCP ËøûÊé•ÁöÑËøáÁ®ã„ÄÇÂª∫Á´ãËøûÊé•ÁöÑÊó∂Èó¥ÈïøÁü≠ÔºåÂü∫Êú¨ÂèØ‰ª•ÂèçÊò† <strong>CDN ÊúçÂä°ÁöÑËäÇÁÇπËµÑÊ∫ê‰ª•ÂèäË∞ÉÂ∫¶ËÉΩÂäõ</strong>„ÄÇ</li>\n<li>È¶ñÂåÖÊó∂Èó¥ÔºöÊåá‰ªéÂÆ¢Êà∑Á´ØÂºÄÂßãÂèëÈÄÅËØ∑Ê±ÇÂà∞Êî∂Âà∞ÊúçÂä°Âô®Á´ØÂèëÊù•ÁöÑÁ¨¨‰∏Ä‰∏™ÂåÖ‰πãÈó¥ÊâÄÈúÄË¶ÅÁöÑÊó∂Èó¥„ÄÇËøôÂèçÊò†‰∫Ü CDN ÊúçÂä°ËäÇÁÇπÁ®ãÂ∫èÁöÑÊï¥‰ΩìÊÄßËÉΩ„ÄÇ</li>\n</ul>\n<p>Âú®‰∏ä‰º†Ë∑ØÂæÑ‰∏≠ÔºåÈ¶ñÂåÖÊó∂Èó¥‰∏ªË¶ÅÂåÖÂê´‰∫Ü DNS Ëß£ÊûêÊó∂Èó¥„ÄÅTCP Áî®Êó∂„ÄÅSSL Áî®Êó∂„ÄÅÂèëÈÄÅÊó∂Èó¥ÂíåÂìçÂ∫îÊó∂Èó¥„ÄÇ‰∏ä‰º†</p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-upload-flow.png\" alt=\"CDN Upload Flow\"></p>\n<p>Âú®‰∏ãËΩΩË∑ØÂæÑ‰∏≠ÔºåÈ¶ñÂåÖÊó∂Èó¥‰∏ªË¶ÅÂåÖÂê´‰∫Ü DNS Ëß£ÊûêÊó∂Èó¥„ÄÅTCP Áî®Êó∂„ÄÅSSL Áî®Êó∂„ÄÅÂèëÈÄÅÊó∂Èó¥„ÄÅÂìçÂ∫îÊó∂Èó¥Âíå‰∏ãËΩΩÁî®Êó∂„ÄÇ‰∏ãËΩΩ</p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-download-flow.png\" alt=\"CDN Download Flow\"></p>\n<h3 id=\"Âä†ÈÄüÂ§ßÊñá‰ª∂‰∏ãËΩΩÁöÑ‰∏ªË¶ÅÊåáÊ†á\"><a href=\"#Âä†ÈÄüÂ§ßÊñá‰ª∂‰∏ãËΩΩÁöÑ‰∏ªË¶ÅÊåáÊ†á\" class=\"headerlink\" title=\"Âä†ÈÄüÂ§ßÊñá‰ª∂‰∏ãËΩΩÁöÑ‰∏ªË¶ÅÊåáÊ†á\"></a>Âä†ÈÄüÂ§ßÊñá‰ª∂‰∏ãËΩΩÁöÑ‰∏ªË¶ÅÊåáÊ†á</h3><p>Â§ßÊñá‰ª∂‰∏ãËΩΩÔºå‰∏ÄËà¨ÊåáÂêÑÁ±ªÂçï‰∏™Êñá‰ª∂Â§ßÂ∞èÂ§ß‰∫é 20M ÁöÑ‰∏ãËΩΩ„ÄÇÂõ†Ê≠§ÂØπËøôÁ±ªÂú∫ÊôØÔºåÊúÄÊ†∏ÂøÉÁöÑÊåáÊ†áÂ∞±ÊòØ <strong>‰∏ãËΩΩÈÄüÂ∫¶</strong> Âíå <strong>‰∏ãËΩΩÊÄªÊó∂Èó¥</strong>„ÄÇ</p>\n<h3 id=\"Âä†ÈÄüÈü≥ËßÜÈ¢ëÁÇπÊí≠ÁöÑ‰∏ªË¶ÅÊåáÊ†á\"><a href=\"#Âä†ÈÄüÈü≥ËßÜÈ¢ëÁÇπÊí≠ÁöÑ‰∏ªË¶ÅÊåáÊ†á\" class=\"headerlink\" title=\"Âä†ÈÄüÈü≥ËßÜÈ¢ëÁÇπÊí≠ÁöÑ‰∏ªË¶ÅÊåáÊ†á\"></a>Âä†ÈÄüÈü≥ËßÜÈ¢ëÁÇπÊí≠ÁöÑ‰∏ªË¶ÅÊåáÊ†á</h3><p>ËßÜÈü≥È¢ëÁÇπÊí≠ÁöÑÂú∫ÊôØÔºå‰∏ªË¶ÅÊ∂µÁõñ <code>flv</code>„ÄÅ<code>mp4</code>„ÄÅ<code>wmv</code>„ÄÅ<code>mkv</code> Á≠âËßÜÈü≥È¢ëÊñá‰ª∂„ÄÇÂú®ËøôÁ±ªÂú∫ÊôØ‰∏≠ÁöÑ‰∏ªË¶ÅË°°ÈáèÊåáÊ†áÂåÖÊã¨È¶ñÊí≠Êó∂Èó¥ÂíåÂç°È°øÁéáÔºö</p>\n<ul>\n<li><strong>È¶ñÊí≠Êó∂Èó¥</strong>ÔºöÈ¶ñÊí≠Êó∂Èó¥ÊòØ‰ªéÊâìÂºÄÂà∞ÁúãÂà∞ËßÜÈ¢ëÁîªÈù¢ÁöÑÊó∂Èó¥„ÄÇÂæÄÂæÄ‰ºöÂèóÂüüÂêçËß£Êûê„ÄÅËøûÊé•„ÄÅÈ¶ñÂåÖÊó∂Èó¥ÁöÑÂΩ±Âìç„ÄÇ</li>\n<li><strong>Âç°È°øÁéá</strong>ÔºöÂç°È°øÊåáËßÜÈü≥È¢ëÊí≠Êîæ„ÄÅËµÑÊ∫êÂä†ËΩΩÁ≠âÂú∫ÊôØ‰∏ãÂá∫Áé∞ÁîªÈù¢ÊªûÂ∏ß„ÄÇÂõ†Ê≠§Âç°È°øÁéá‰∏ªË¶ÅÊåáÊääÊâÄÊúâÁî®Êà∑Êí≠ÊîæËßÜÈ¢ëÁöÑÂç°È°øÊó∂Èó¥‰∏äÊä•ÔºåÊØè 100 ‰∏™Áî®Êà∑ÈáåÈù¢Êí≠ÊîæÂá∫Áé∞Âç°È°øÁöÑÊØî‰æã„ÄÇÂç°È°øÁéáË∂ä‰ΩéÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n</ul>\n<h2 id=\"CDN-Êèê‰æõÂïÜ\"><a href=\"#CDN-Êèê‰æõÂïÜ\" class=\"headerlink\" title=\"CDN Êèê‰æõÂïÜ\"></a>CDN Êèê‰æõÂïÜ</h2><p>ÊØè‰∏™ CDN ÊúçÂä°Êèê‰æõÂïÜÁöÑÈÖçÁΩÆ‰ø°ÊÅØ‰∏çÂêå„ÄÇ</p>\n<ul>\n<li><a href=\"https://www.aliyun.com/product/cdn\" target=\"_blank\" rel=\"noopener\">ÈòøÈáå‰∫ë</a></li>\n<li><a href=\"https://cloud.tencent.com/product/cdn\" target=\"_blank\" rel=\"noopener\">ËÖæËÆØ‰∫ë</a></li>\n<li><a href=\"https://www.huaweicloud.com/product/cdn.html\" target=\"_blank\" rel=\"noopener\">Âçé‰∏∫‰∫ë</a></li>\n<li><a href=\"https://www.qiniu.com/products/fusion\" target=\"_blank\" rel=\"noopener\">‰∏ÉÁâõ‰∫ë</a></li>\n</ul>\n<h3 id=\"Âä®ÊÄÅ-CDN\"><a href=\"#Âä®ÊÄÅ-CDN\" class=\"headerlink\" title=\"Âä®ÊÄÅ CDN\"></a>Âä®ÊÄÅ CDN</h3><p>Âä®ÊÄÅÂä†ÈÄüÈíàÂØπÂä®ÊÄÅËµÑÊ∫êËøõË°åÂä†ÈÄüÂàÜÂèë„ÄÇ</p>\n<ul>\n<li><strong>ËæπÁºòËÆ°ÁÆóÁöÑÊ®°Âºè</strong>ÔºöÊó¢ÁÑ∂Êï∞ÊçÆÊòØÂä®ÊÄÅÁîüÊàêÁöÑÔºåÊâÄ‰ª• <strong>Êï∞ÊçÆÁöÑÈÄªËæëËÆ°ÁÆóÂíåÂ≠òÂÇ®</strong>Ôºå‰πüÁõ∏Â∫îÁöÑÊîæÂú®ËæπÁºòÁöÑËäÇÁÇπ„ÄÇÂÖ∂‰∏≠ÂÆöÊó∂‰ªéÊ∫êÊï∞ÊçÆÈÇ£ÈáåÂêåÊ≠•Â≠òÂÇ®ÁöÑÊï∞ÊçÆÔºåÁÑ∂ÂêéÂú®ËæπÁºòËøõË°åËÆ°ÁÆóÂæóÂà∞ÁªìÊûú„ÄÇÂ∞±ÂÉèÂØπÁîüÈ≤úÁöÑÁÉπÈ•™ÊòØÂä®ÊÄÅÁöÑÔºåÊ≤°ÂäûÊ≥ï‰∫ãÂÖàÂÅöÂ•ΩÁºìÂ≠òÔºåÂõ†ËÄåÂ∞ÜÁîüÈ≤úË∂ÖÂ∏ÇÊîæÂú®‰Ω†ÂÆ∂ÊóÅËæπÔºåÊó¢ËÉΩÂ§üÈÄÅË¥ß‰∏äÈó®Ôºå‰πüËÉΩÂ§üÁé∞Âú∫ÁÉπÈ•™Ôºå‰πüÊòØËæπÁºòËÆ°ÁÆóÁöÑ‰∏ÄÁßç‰ΩìÁé∞„ÄÇ</li>\n<li><strong>Ë∑ØÂæÑ‰ºòÂåñÁöÑÊ®°Âºè</strong>ÔºöÊï∞ÊçÆ‰∏çÊòØÂú®ËæπÁºòËÆ°ÁÆóÁîüÊàêÁöÑÔºåËÄåÊòØÂú®Ê∫êÁ´ôÁîüÊàêÁöÑÔºå‰ΩÜÊòØÊï∞ÊçÆÁöÑ‰∏ãÂèëÂàôÂèØ‰ª•ÈÄöËøá CDN ÁöÑÁΩëÁªúÔºåÂØπË∑ØÂæÑËøõË°å‰ºòÂåñ„ÄÇÂõ†‰∏∫ CDN ËäÇÁÇπËæÉÂ§öÔºåËÉΩÂ§üÊâæÂà∞Á¶ªÊ∫êÁ´ôÂæàËøëÁöÑËæπÁºòËäÇÁÇπÔºå‰πüËÉΩÊâæÂà∞Á¶ªÁî®Êà∑ÂæàËøëÁöÑËæπÁºòËäÇÁÇπ„ÄÇ‰∏≠Èó¥ÁöÑÈìæË∑ØÂÆåÂÖ®Áî± CDN Êù•ËßÑÂàíÔºåÈÄâÊã©‰∏Ä‰∏™Êõ¥Âä†ÂèØÈù†ÁöÑË∑ØÂæÑÔºå‰ΩøÁî®Á±ª‰ºº‰∏ìÁ∫øÁöÑÊñπÂºèËøõË°åËÆøÈóÆ„ÄÇ</li>\n</ul>\n<p>ÂØπ‰∫éÂ∏∏Áî®ÁöÑ TCP ËøûÊé•ÔºåÂú®ÂÖ¨ÁΩë‰∏ä‰º†ËæìÁöÑÊó∂ÂÄôÁªèÂ∏∏‰ºö‰∏¢Êï∞ÊçÆÔºåÂØºËá¥ TCP ÁöÑÁ™óÂè£ÂßãÁªàÂæàÂ∞èÔºåÂèëÈÄÅÈÄüÂ∫¶‰∏ä‰∏çÂéª„ÄÇÊ†πÊçÆÂâçÈù¢ÁöÑ TCP ÊµÅÈáèÊéßÂà∂ÂíåÊã•Â°ûÊéßÂà∂ÁöÑÂéüÁêÜÔºåÂú® CDN Âä†ÈÄüÁΩëÁªú‰∏≠ÂèØ‰ª•Ë∞ÉÊï¥ TCP ÁöÑÂèÇÊï∞Ôºå‰ΩøÂæó TCP ÂèØ‰ª•Êõ¥Âä†ÊøÄËøõÂú∞‰º†ËæìÊï∞ÊçÆ„ÄÇÂèØ‰ª•ÈÄöËøáÂ§ö‰∏™ËØ∑Ê±ÇÂ§çÁî®‰∏Ä‰∏™ËøûÊé•Ôºå‰øùËØÅÊØèÊ¨°Âä®ÊÄÅËØ∑Ê±ÇÂà∞ËææÊó∂„ÄÇËøûÊé•ÈÉΩÂ∑≤ÁªèÂª∫Á´ã‰∫ÜÔºå‰∏çÂøÖ‰∏¥Êó∂‰∏âÊ¨°Êè°ÊâãÊàñËÄÖÂª∫Á´ãËøáÂ§öÁöÑËøûÊé•ÔºåÂ¢ûÂä†ÊúçÂä°Âô®ÁöÑÂéãÂäõ„ÄÇÂè¶Â§ñÔºåÂèØ‰ª•ÈÄöËøáÂØπ‰º†ËæìÊï∞ÊçÆËøõË°åÂéãÁº©ÔºåÂ¢ûÂä†‰º†ËæìÊïàÁéá„ÄÇÊâÄÊúâËøô‰∫õÊâãÊÆµÂ∞±ÂÉèÂÜ∑ÈìæËøêËæìÔºåÊï¥‰∏™Áâ©ÊµÅ‰ºòÂåñ‰∫ÜÔºåÂÖ®Á®ãÂÜ∑ÂÜªÈ´òÈÄüËøêËæì„ÄÇ‰∏çÁÆ°ÁîüÈ≤úÊòØ‰ªé‰Ω†ÊóÅËæπÁöÑË∂ÖÂ∏ÇÈÄÅÂà∞‰Ω†ÂÆ∂ÁöÑÔºåËøòÊòØ‰ªé‰∫ßÂú∞ÈÄÅÁöÑÔºå‰øùËØÅÂà∞‰Ω†ÂÆ∂ÊòØÊñ∞È≤úÁöÑ„ÄÇ</p>\n<h3 id=\"Âà∑Êñ∞È¢ÑÁÉ≠\"><a href=\"#Âà∑Êñ∞È¢ÑÁÉ≠\" class=\"headerlink\" title=\"Âà∑Êñ∞È¢ÑÁÉ≠\"></a>Âà∑Êñ∞È¢ÑÁÉ≠</h3><ul>\n<li>Âà∑Êñ∞ÂäüËÉΩÊòØÊåáÊèê‰∫§ URL Âà∑Êñ∞ÊàñÁõÆÂΩïÂà∑Êñ∞ËØ∑Ê±ÇÂêéÔºåCDN ËäÇÁÇπÁöÑÁºìÂ≠òÂÜÖÂÆπÂ∞Ü‰ºöË¢´Âº∫Âà∂ËøáÊúüÔºåÂΩìÊÇ®Âêë CDN ËäÇÁÇπËØ∑Ê±ÇËµÑÊ∫êÊó∂ÔºåCDN ‰ºöÁõ¥Êé•ÂõûÊ∫êÁ´ôËé∑ÂèñÂØπÂ∫îÁöÑËµÑÊ∫êËøîÂõûÁªôÊÇ®ÔºåÂπ∂Â∞ÜÂÖ∂ÁºìÂ≠ò„ÄÇÂà∑Êñ∞ÂäüËÉΩ‰ºöÈôç‰ΩéÁºìÂ≠òÂëΩ‰∏≠Áéá„ÄÇ</li>\n<li>È¢ÑÁÉ≠ÂäüËÉΩÊòØÊåáÊèê‰∫§ URL È¢ÑÁÉ≠ËØ∑Ê±ÇÂêéÔºåÊ∫êÁ´ôÂ∞Ü‰ºö‰∏ªÂä®Â∞ÜÂØπÂ∫îÁöÑËµÑÊ∫êÁºìÂ≠òÂà∞ CDN ËäÇÁÇπÔºåÂΩìÊÇ®È¶ñÊ¨°ËØ∑Ê±ÇÊó∂ÔºåÂ∞±ËÉΩÁõ¥Êé•‰ªé CDN ËäÇÁÇπÁºìÂ≠ò‰∏≠Ëé∑ÂèñÂà∞ÊúÄÊñ∞ÁöÑËØ∑Ê±ÇËµÑÊ∫êÔºåÊó†ÈúÄÂÜçÂõûÊ∫êÁ´ôËé∑Âèñ„ÄÇÈ¢ÑÁÉ≠ÂäüËÉΩ‰ºöÊèêÈ´òÁºìÂ≠òÂëΩ‰∏≠Áéá„ÄÇ</li>\n</ul>\n<h2 id=\"ÂèÇËÄÉËµÑÊñô\"><a href=\"#ÂèÇËÄÉËµÑÊñô\" class=\"headerlink\" title=\"ÂèÇËÄÉËµÑÊñô\"></a>ÂèÇËÄÉËµÑÊñô</h2><ul>\n<li><a href=\"https://zh.wikipedia.org/wiki/%E5%85%A7%E5%AE%B9%E5%82%B3%E9%81%9E%E7%B6%B2%E8%B7%AF\" target=\"_blank\" rel=\"noopener\">üìñ Áª¥Âü∫ÁôæÁßëÔºöÂÜÖÂÆπÂàÜÂèëÁΩëÁªú</a></li>\n<li><a href=\"http://book.51cto.com/art/201205/338756.htm\" target=\"_blank\" rel=\"noopener\">üìù CDN ÁöÑÂü∫Êú¨Â∑•‰ΩúËøáÁ®ã</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/28939811\" target=\"_blank\" rel=\"noopener\">üìù CDN Áü•ËØÜËØ¶Ëß£</a></li>\n<li><a href=\"http://dopro.io/http-cache-and-cdn-cache.html\" target=\"_blank\" rel=\"noopener\">üìù HTTP ÁºìÂ≠ò‰∏é CDN ÁºìÂ≠òÈÖçÁΩÆÊåáÂçó</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/31167721?group_id=915177705310674944\" target=\"_blank\" rel=\"noopener\">üìù Ê±üÊπñÂ§±‰º†ÁöÑÊúÄÂêé‰∏Ä‰ªΩ CDN ÁßòÁ±ç</a></li>\n<li><a href=\"https://juejin.im/post/59f9538f6fb9a0450a66aa2b\" target=\"_blank\" rel=\"noopener\">üìù CDN HTTPS ÂÆâÂÖ®Âä†ÈÄüÂü∫Êú¨Ê¶ÇÂøµ„ÄÅËß£ÂÜ≥ÊñπÊ°àÂèä‰ºòÂåñÂÆûË∑µ</a></li>\n<li><a href=\"https://github.com/renaesop/blog/issues/1\" target=\"_blank\" rel=\"noopener\">üìù Èù¢ÂêëÂâçÁ´ØÁöÑ CDN ÂéüÁêÜ‰ªãÁªç</a></li>\n<li><a href=\"https://help.aliyun.com/document_detail/140425.html\" target=\"_blank\" rel=\"noopener\">üìù ÈòøÈáå‰∫ë CDN ÊñáÊ°£ÔºöCDN ÁöÑË°°ÈáèÊåáÊ†á</a></li>\n<li><a href=\"https://juejin.im/post/6847902220222988301\" target=\"_blank\" rel=\"noopener\">üìù SSR È°µÈù¢ CDN ÁºìÂ≠òÂÆûË∑µ</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p><strong>ÂÖßÂÆπÂàÜÂèëÁΩëÁªúÔºàContent Delivery Network Êàñ Content Distribution NetworkÔºåÁÆÄÁß∞ CDNÔºâ</strong> ÈÄöËøáÂ∞ÜÊ∫êÁ´ôÂÜÖÂÆπÂàÜÂèëËá≥ <strong>ÊúÄÊé•ËøëÁî®Êà∑</strong> ÁöÑËäÇÁÇπÔºå‰ªéËÄå <strong>Èôç‰ΩéÊ†∏ÂøÉÁ≥ªÁªüË¥üËΩΩÔºàÁ≥ªÁªü„ÄÅÁΩëÁªúÔºâ</strong>Ôºå‰ΩøÁî®Êà∑ÂèØÂ∞±ËøëÂèñÂæóÊâÄÈúÄÂÜÖÂÆπÔºå<strong>ÊèêÈ´òÁî®Êà∑ËÆøÈóÆÁöÑÂìçÂ∫îÈÄüÂ∫¶</strong>„ÄÇËøôÁßçÊäÄÊúØÊñπÊ°àËß£ÂÜ≥‰∫ÜÂõ†ÂàÜÂ∏É„ÄÅÂ∏¶ÂÆΩ„ÄÅÊúçÂä°Âô®ÊÄßËÉΩÂ∏¶Êù•ÁöÑËÆøÈóÆÂª∂ËøüÈóÆÈ¢òÔºåÈÄÇÁî®‰∫éÂõæÁâáÂ∞èÊñá‰ª∂„ÄÅÂ§ßÊñá‰ª∂‰∏ãËΩΩ„ÄÅÈü≥ËßÜÈ¢ëÁÇπÊí≠„ÄÅÂÖ®Á´ôÂä†ÈÄüÂíåÂÆâÂÖ®Âä†ÈÄüÁ≠âÂú∫ÊôØ„ÄÇ</p>\n<h2 id=\"Â∑•‰ΩúÂéüÁêÜ\"><a href=\"#Â∑•‰ΩúÂéüÁêÜ\" class=\"headerlink\" title=\"Â∑•‰ΩúÂéüÁêÜ\"></a>Â∑•‰ΩúÂéüÁêÜ</h2><p>ÈÄöËøáÂú®ÁΩëÁªúÂêÑÂ§ÑÊîæÁΩÆËäÇÁÇπÊúçÂä°Âô®ÊâÄÊûÑÊàêÁöÑÂú®Áé∞ÊúâÁöÑ‰∫íËÅîÁΩëÂü∫Á°Ä‰πã‰∏äÁöÑ‰∏ÄÂ±ÇÊô∫ËÉΩËôöÊãüÁΩëÁªúÔºåCDN Á≥ªÁªüËÉΩÂ§üÂÆûÊó∂Âú∞Ê†πÊçÆ <strong>ÁΩëÁªúÊµÅÈáè</strong> Âíå <strong>ÂêÑËäÇÁÇπÁöÑËøûÊé•</strong>„ÄÅ<strong>Ë¥üËΩΩÁä∂ÂÜµ</strong> ‰ª•Âèä <strong>Âà∞Áî®Êà∑ÁöÑË∑ùÁ¶ª</strong> Âíå <strong>ÂìçÂ∫îÊó∂Èó¥</strong> Á≠âÁªºÂêà‰ø°ÊÅØÂ∞ÜÁî®Êà∑ÁöÑËØ∑Ê±ÇÈáçÊñ∞ÂØºÂêëÁ¶ªÁî®Êà∑ÊúÄËøëÁöÑÊúçÂä°ËäÇÁÇπ‰∏ä„ÄÇ</p>\n<p>Âà©Áî®ÂÖ¨ÂºèÁÆÄËø∞ CDN ÂèØË°®Á§∫‰∏∫Ôºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CDN = Êõ¥Êô∫ËÉΩÁöÑÈïúÂÉè + ÁºìÂ≠ò + ÊµÅÈáèÂØºÊµÅ;</span><br></pre></td></tr></table></figure>\n<p>ÁÆÄÂçïÂú∞ËØ¥ÔºåCDN ÊòØ‰∏Ä‰∏™ÁªèÁ≠ñÁï•ÊÄßÈÉ®ÁΩ≤ÁöÑÊï¥‰ΩìÁ≥ªÁªüÔºåÂåÖÊã¨<strong>ÂàÜÂ∏ÉÂºèÂ≠òÂÇ®</strong>„ÄÅ<strong>Ë¥üËΩΩÂùáË°°</strong>„ÄÅ<strong>ÁΩëÁªúËØ∑Ê±ÇÁöÑÈáçÂÆöÂêë</strong> Âíå <strong>ÂÜÖÂÆπÁÆ°ÁêÜ</strong> 4 ‰∏™Ë¶Å‰ª∂ÔºåËÄåÂÜÖÂÆπÁÆ°ÁêÜÂíåÂÖ®Â±ÄÁöÑÁΩëÁªúÊµÅÈáèÁÆ°ÁêÜÔºàTraffic ManagementÔºâÊòØ CDN ÁöÑÊ†∏ÂøÉÊâÄÂú®„ÄÇ</p>\n<h2 id=\"Â∑•‰ΩúÊµÅÁ®ã\"><a href=\"#Â∑•‰ΩúÊµÅÁ®ã\" class=\"headerlink\" title=\"Â∑•‰ΩúÊµÅÁ®ã\"></a>Â∑•‰ΩúÊµÅÁ®ã</h2><p>Áî®Êà∑ÁªàÁ´ØËÆøÈóÆ CDN ÁöÑËøáÁ®ãÂàÜ‰∏∫‰∏§‰∏™Ê≠•È™§Ôºå‰∏ÄÊòØÁî®Êà∑ÈÄöËøá DNS ÊâæÂà∞ÊúÄËøëÁöÑ CDN ËæπÁºòËäÇÁÇπ IPÔºå‰∫åÊòØÊï∞ÊçÆÂú®ÁΩëÁªú‰∏≠ÈÄÅËææÁî®Êà∑ÁªàÁ´Ø„ÄÇ</p>\n<p>ÊúÄÁÆÄÂçïÁöÑ CDN ÁΩëÁªúÁî±‰∏Ä‰∏™ DNS ÊúçÂä°Âô®ÂíåÂá†Âè∞ÁºìÂ≠òÊúçÂä°Âô®ÁªÑÊàêÔºåÂÅáËÆæÊÇ®ÁöÑÂä†ÈÄüÂüüÂêç‰∏∫ <code>www.taobao.com</code>ÔºåÊé•ÂÖ• CDN ÁΩëÁªúÔºåÂºÄÂßã‰ΩøÁî®Âä†ÈÄüÊúçÂä°ÂêéÔºåÂΩìÁªàÁ´ØÁî®Êà∑ÔºàÂπøÂ∑ûÔºâÂèëËµ∑ HTTP ËØ∑Ê±ÇÊó∂ÔºåÂ§ÑÁêÜÊµÅÁ®ãÂ¶Ç‰∏ãÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-cdn-workflow.jpg\" alt=\"CDN Workflow\"></p>","more":"<ol>\n<li>ÂΩìÁªàÁ´ØÁî®Êà∑ÔºàÂπøÂ∑ûÔºâÂêë <code>www.taobao.com</code> ‰∏ãÁöÑÊüêËµÑÊ∫êÂèëËµ∑ËØ∑Ê±ÇÊó∂ÔºåÈ¶ñÂÖàÂêë LDNSÔºàÊú¨Âú∞ DNSÔºâÂèëËµ∑ÂüüÂêçËß£ÊûêËØ∑Ê±Ç„ÄÇ</li>\n<li>LDNS Ê£ÄÊü•ÁºìÂ≠ò‰∏≠ÊòØÂê¶Êúâ <code>www.taobao.com</code> ÁöÑ IP Âú∞ÂùÄËÆ∞ÂΩï„ÄÇÂ¶ÇÊûúÊúâÔºåÂàôÁõ¥Êé•ËøîÂõûÁªôÁªàÁ´ØÁî®Êà∑ÔºõÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàôÂêëÊéàÊùÉ DNS Êü•ËØ¢„ÄÇ</li>\n<li>ÂΩìÊéàÊùÉ DNS Ëß£Êûê <code>www.taobao.com</code> Êó∂ÔºåËøîÂõûÂüüÂêç CNAME <code>www.taobao.alicdn.com</code> ÂØπÂ∫î IP Âú∞ÂùÄ„ÄÇ</li>\n<li>ÂüüÂêçËß£ÊûêËØ∑Ê±ÇÂèëÈÄÅËá≥ DNS Ë∞ÉÂ∫¶Á≥ªÁªüÔºåÂπ∂‰∏∫ËØ∑Ê±ÇÂàÜÈÖçÊúÄ‰Ω≥ËäÇÁÇπ IP Âú∞ÂùÄ„ÄÇ</li>\n<li>LDNS Ëé∑Âèñ DNS ËøîÂõûÁöÑËß£Êûê IP Âú∞ÂùÄ„ÄÇ</li>\n<li>Áî®Êà∑Ëé∑ÂèñËß£Êûê IP Âú∞ÂùÄ„ÄÇ</li>\n<li>Áî®Êà∑ÂêëËé∑ÂèñÁöÑ IP Âú∞ÂùÄÂèëËµ∑ÂØπËØ•ËµÑÊ∫êÁöÑËÆøÈóÆËØ∑Ê±Ç„ÄÇ<ul>\n<li>Â¶ÇÊûúËØ• IP Âú∞ÂùÄÂØπÂ∫îÁöÑËäÇÁÇπÂ∑≤ÁºìÂ≠òËØ•ËµÑÊ∫êÔºåÂàô‰ºöÂ∞ÜÊï∞ÊçÆÁõ¥Êé•ËøîÂõûÁªôÁî®Êà∑Ôºå‰æãÂ¶ÇÔºåÂõæ‰∏≠Ê≠•È™§ 7 Âíå 8ÔºåËØ∑Ê±ÇÁªìÊùü„ÄÇ</li>\n<li>Â¶ÇÊûúËØ• IP Âú∞ÂùÄÂØπÂ∫îÁöÑËäÇÁÇπÊú™ÁºìÂ≠òËØ•ËµÑÊ∫êÔºåÂàôËäÇÁÇπÂêëÂÆÉÁöÑ‰∏äÁ∫ßÁºìÂ≠òÊúçÂä°Âô®ËØ∑Ê±ÇÂÜÖÂÆπÔºåÁõ¥Ëá≥ËøΩÊ∫ØÂà∞ÁΩëÁ´ôÁöÑÊ∫êÁ´ôÂèëËµ∑ÂØπËØ•ËµÑÊ∫êÁöÑËØ∑Ê±Ç„ÄÇËé∑ÂèñËµÑÊ∫êÂêéÔºåÁªìÂêàÁî®Êà∑Ëá™ÂÆö‰πâÈÖçÁΩÆÁöÑÁºìÂ≠òÁ≠ñÁï•ÔºåÂ∞ÜËµÑÊ∫êÁºìÂ≠òËá≥ËäÇÁÇπÔºå‰æãÂ¶ÇÔºåÈÄî‰∏≠ÁöÑÊù≠Â∑ûËäÇÁÇπÔºåÂπ∂ËøîÂõûÁªôÁî®Êà∑ÔºåËØ∑Ê±ÇÁªìÊùü„ÄÇ</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p>Local DNS ÈÄöÂ∏∏ÊòØ‰Ω†ÁöÑËøêËê•ÂïÜÊèê‰æõÁöÑ DNSÔºå‰∏ÄËà¨ÂüüÂêçËß£ÊûêÁöÑÁ¨¨‰∏ÄÁ´ô‰ºöÂà∞ËøôÈáå<br>ÂõûÊ∫ê HOST ÊòØÊåá CDN ËäÇÁÇπÂú®ÂõûÊ∫êËøáÁ®ã‰∏≠ÔºåÂú®Ê∫êÁ´ôËÆøÈóÆÁöÑÁ´ôÁÇπÂüüÂêç„ÄÇ</p>\n</blockquote>\n<p>Âú®Ê≠•È™§Âõõ‰∏≠ÔºåDNS Ë∞ÉÂ∫¶Á≥ªÁªüÂèØ‰ª•ÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÂäüËÉΩÔºåË¥üËΩΩÂùáË°°ÂàÜ‰∏∫ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ÂíåÂå∫ÂüüË¥üËΩΩÂùáË°°ÔºåÂÖ∂ÂÜÖÈÉ®ÈÄªËæëÂ§ßËá¥Â¶Ç‰∏ãÔºö</p>\n<ol>\n<li>CDN ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ËÆæÂ§á‰ºöÊ†πÊçÆÁî®Êà∑ IP Âú∞ÂùÄÔºå‰ª•ÂèäÁî®Êà∑ËØ∑Ê±ÇÁöÑÂÜÖÂÆπ URLÔºåÈÄâÊã©‰∏ÄÂè∞Áî®Êà∑ÊâÄÂ±ûÂå∫ÂüüÁöÑ<strong>Âå∫ÂüüË¥üËΩΩÂùáË°°ËÆæÂ§á</strong>ÔºåÂëäËØâÁî®Êà∑ÂêëËøôÂè∞ËÆæÂ§áÂèëËµ∑ËØ∑Ê±Ç„ÄÇ</li>\n<li>Âå∫ÂüüË¥üËΩΩÂùáË°°ËÆæÂ§á‰ºö‰∏∫Áî®Êà∑ÈÄâÊã©‰∏ÄÂè∞ÂêàÈÄÇÁöÑ<strong>ÁºìÂ≠òÊúçÂä°Âô®</strong>Êèê‰æõÊúçÂä°ÔºåÈÄâÊã©ÁöÑ‰æùÊçÆÂåÖÊã¨Ôºö<ul>\n<li>Ê†πÊçÆÁî®Êà∑ IP Âú∞ÂùÄÔºåÂà§Êñ≠Âì™‰∏ÄÂè∞ÊúçÂä°Âô®Ë∑ùÁî®Êà∑ÊúÄËøëÔºõ</li>\n<li>Áî®Êà∑ÊâÄÂ§ÑÁöÑËøêËê•ÂïÜÔºõ</li>\n<li>Ê†πÊçÆÁî®Êà∑ÊâÄËØ∑Ê±ÇÁöÑ URL ‰∏≠Êê∫Â∏¶ÁöÑÂÜÖÂÆπÂêçÁß∞ÔºåÂà§Êñ≠Âì™‰∏ÄÂè∞ÊúçÂä°Âô®‰∏äÊúâÁî®Êà∑ÊâÄÈúÄÂÜÖÂÆπÔºõ</li>\n<li>Êü•ËØ¢ÂêÑ‰∏™ÊúçÂä°Âô®ÂΩìÂâçÁöÑË¥üËΩΩÊÉÖÂÜµÔºåÂà§Êñ≠Âì™‰∏ÄÂè∞ÊúçÂä°Âô®Â∞öÊúâÊúçÂä°ËÉΩÂäõ„ÄÇ<br>Âü∫‰∫é‰ª•‰∏äËøô‰∫õÊù°‰ª∂ÁöÑÁªºÂêàÂàÜÊûê‰πãÂêéÔºåÂå∫ÂüüË¥üËΩΩÂùáË°°ËÆæÂ§á‰ºöÂêëÂÖ®Â±ÄË¥üËΩΩÂùáË°°ËÆæÂ§áËøîÂõû‰∏ÄÂè∞ÁºìÂ≠òÊúçÂä°Âô®ÁöÑ IP Âú∞ÂùÄ„ÄÇ</li>\n</ul>\n</li>\n<li>ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ËÆæÂ§áÊääÊúçÂä°Âô®ÁöÑ IP Âú∞ÂùÄËøîÂõûÁªôÁî®Êà∑„ÄÇ</li>\n</ol>\n<h2 id=\"ÁªÑÊàêÈÉ®ÂàÜ\"><a href=\"#ÁªÑÊàêÈÉ®ÂàÜ\" class=\"headerlink\" title=\"ÁªÑÊàêÈÉ®ÂàÜ\"></a>ÁªÑÊàêÈÉ®ÂàÜ</h2><p>ÂÖ∏ÂûãÁöÑ CDN Á≥ªÁªüÁî±‰∏ãÈù¢‰∏â‰∏™ÈÉ®ÂàÜÁªÑÊàêÔºö</p>\n<ul>\n<li><strong>ÂàÜÂèëÊúçÂä°Á≥ªÁªü</strong>ÔºöÊúÄÂü∫Êú¨ÁöÑÂ∑•‰ΩúÂçïÂÖÉÂ∞±ÊòØ Cache ËÆæÂ§áÔºåCacheÔºàËæπÁºò CacheÔºâË¥üË¥£Áõ¥Êé•ÂìçÂ∫îÊúÄÁªàÁî®Êà∑ÁöÑËÆøÈóÆËØ∑Ê±ÇÔºåÊääÁºìÂ≠òÂú®Êú¨Âú∞ÁöÑÂÜÖÂÆπÂø´ÈÄüÂú∞Êèê‰æõÁªôÁî®Êà∑„ÄÇÂêåÊó∂ Cache ËøòË¥üË¥£‰∏éÊ∫êÁ´ôÁÇπËøõË°åÂÜÖÂÆπÂêåÊ≠•ÔºåÊääÊõ¥Êñ∞ÁöÑÂÜÖÂÆπ‰ª•ÂèäÊú¨Âú∞Ê≤°ÊúâÁöÑÂÜÖÂÆπ‰ªéÊ∫êÁ´ôÁÇπËé∑ÂèñÂπ∂‰øùÂ≠òÂú®Êú¨Âú∞„ÄÇCache ËÆæÂ§áÁöÑÊï∞Èáè„ÄÅËßÑÊ®°„ÄÅÊÄªÊúçÂä°ËÉΩÂäõÊòØË°°Èáè‰∏Ä‰∏™ CDN Á≥ªÁªüÊúçÂä°ËÉΩÂäõÁöÑÊúÄÂü∫Êú¨ÁöÑÊåáÊ†á„ÄÇ</li>\n<li><strong>Ë¥üËΩΩÂùáË°°Á≥ªÁªü</strong>Ôºö‰∏ªË¶ÅÂäüËÉΩÊòØË¥üË¥£ÂØπÊâÄÊúâÂèëËµ∑ÊúçÂä°ËØ∑Ê±ÇÁöÑÁî®Êà∑ËøõË°åËÆøÈóÆË∞ÉÂ∫¶ÔºåÁ°ÆÂÆöÊèê‰æõÁªôÁî®Êà∑ÁöÑÊúÄÁªàÂÆûÈôÖËÆøÈóÆÂú∞ÂùÄ„ÄÇ‰∏§Á∫ßË∞ÉÂ∫¶‰ΩìÁ≥ªÂàÜ‰∏∫ÂÖ®Â±ÄË¥üËΩΩÂùáË°°ÔºàGSLBÔºâÂíåÊú¨Âú∞Ë¥üËΩΩÂùáË°°ÔºàSLBÔºâ„ÄÇGSLB ‰∏ªË¶ÅÊ†πÊçÆÁî®Êà∑Â∞±ËøëÊÄßÂéüÂàôÔºåÈÄöËøáÂØπÊØè‰∏™ÊúçÂä°ËäÇÁÇπËøõË°å‚ÄùÊúÄ‰ºò‚ÄúÂà§Êñ≠ÔºåÁ°ÆÂÆöÂêëÁî®Êà∑Êèê‰æõÊúçÂä°ÁöÑ Cache ÁöÑÁâ©ÁêÜ‰ΩçÁΩÆ„ÄÇSLB ‰∏ªË¶ÅË¥üË¥£ËäÇÁÇπÂÜÖÈÉ®ÁöÑËÆæÂ§áË¥üËΩΩÂùáË°°</li>\n<li><strong>ËøêËê•ÁÆ°ÁêÜÁ≥ªÁªü</strong>ÔºöÂàÜ‰∏∫ËøêËê•ÁÆ°ÁêÜÂíåÁΩëÁªúÁÆ°ÁêÜÂ≠êÁ≥ªÁªüÔºåË¥üË¥£Â§ÑÁêÜ‰∏öÂä°Â±ÇÈù¢ÁöÑ‰∏éÂ§ñÁïåÁ≥ªÁªü‰∫§‰∫íÊâÄÂøÖÈ°ªÁöÑÊî∂ÈõÜ„ÄÅÊï¥ÁêÜ„ÄÅ‰∫§‰ªòÂ∑•‰ΩúÔºåÂåÖÂê´ÂÆ¢Êà∑ÁÆ°ÁêÜ„ÄÅ‰∫ßÂìÅÁÆ°ÁêÜ„ÄÅËÆ°Ë¥πÁÆ°ÁêÜ„ÄÅÁªüËÆ°ÂàÜÊûêÁ≠âÂäüËÉΩ„ÄÇ</li>\n</ul>\n<p>CDN ÈÄöÂ∏∏Áî±Ê∫êÁ´ôË¥üË¥£ÂÜÖÂÆπÁîü‰∫ßÔºå‰∏ªÂπ≤ËäÇÁÇπË¥üË¥£‰∫åÁ∫ßÁºìÂ≠òÂíåÂä†ÈÄüÔºåÈÄöÂ∏∏Âú® BGP ÁΩëÁªú„ÄÇ</p>\n<p>Âπø‰πâ‰∏äÁöÑÂÜÖÂÆπÂàÜÂèëÁΩëÁªúÂèØ‰ª•ÂåÖÂê´Ê∫êÁ´ô‰∏ÄËµ∑ÔºåÁîöËá≥Â§öÂ™í‰ΩìÂàÜÂèëÔºàËßÜÈ¢ëÔºâ„ÄÇÂïÜ‰∏öÊÑè‰πâ‰∏äÁöÑ CDN Âè™ÂåÖÂê´ CDN Êèê‰æõÂïÜÁöÑÁΩëÁªúÔºå‰∏çÂåÖÂê´Ê∫êÁ´ô„ÄÇÈÉ®ÂàÜ CDN ÊîØÊåÅÂõæÁâáÂèäÂ§öÂ™í‰ΩìÂ§ÑÁêÜÊâ©Â±ïÁ≠âÈôÑÂä†ÂäüËÉΩÔºöÂéãÁº©„ÄÅÂâ™Âàá„ÄÅÊ∞¥Âç∞„ÄÅÈâ¥ÈªÑ„ÄÇ</p>\n<p><strong>CDN ÂàáÈù¢</strong></p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-section.jpg\" alt=\"CDN ÂàáÈù¢\"></p>\n<p><strong>CDN Êï∞ÊçÆÊµÅÂêë</strong></p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-data-flow.jpg\" alt=\"CDN ÂàáÈù¢\"></p>\n<h2 id=\"Â∫îÁî®Âú∫ÊôØ\"><a href=\"#Â∫îÁî®Âú∫ÊôØ\" class=\"headerlink\" title=\"Â∫îÁî®Âú∫ÊôØ\"></a>Â∫îÁî®Âú∫ÊôØ</h2><h3 id=\"ÁΩëÁ´ôÂä†ÈÄü\"><a href=\"#ÁΩëÁ´ôÂä†ÈÄü\" class=\"headerlink\" title=\"ÁΩëÁ´ôÂä†ÈÄü\"></a>ÁΩëÁ´ôÂä†ÈÄü</h3><p>Á´ôÁÇπÊàñËÄÖÂ∫îÁî®‰∏≠Â§ßÈáèÈùôÊÄÅËµÑÊ∫êÁöÑÂä†ÈÄüÂàÜÂèëÔºåÂª∫ËÆÆÂ∞ÜÁ´ôÁÇπÂÜÖÂÆπËøõË°åÂä®ÈùôÂàÜÁ¶ªÔºåÂä®ÊÄÅÊñá‰ª∂ÂèØ‰ª•ÁªìÂêà‰∫ëÊúçÂä°Âô® ECSÔºåÈùôÊÄÅËµÑÊ∫êÂ¶ÇÂêÑÁ±ªÂûã HTML„ÄÅCSS„ÄÅJS„ÄÅÂõæÁâá„ÄÅÊñá‰ª∂„ÄÅÁü≠ËßÜÈ¢ëÁ≠âÔºåÂª∫ËÆÆÁªìÂêàÂØπË±°Â≠òÂÇ® OSS Â≠òÂÇ®Êµ∑ÈáèÈùôÊÄÅËµÑÊ∫êÔºåÂèØ‰ª•ÊúâÊïàÂä†ÈÄüÂÜÖÂÆπÂä†ËΩΩÈÄüÂ∫¶ÔºåËΩªÊùæÊêûÂÆöÁΩëÁ´ôÂõæÁâá„ÄÅÁü≠ËßÜÈ¢ëÁ≠âÂÜÖÂÆπÂàÜÂèë„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-qiniu-accelerate.png\" alt=\"‰∏ÉÁâõ‰∫ëÁΩëÁ´ôÂä†ÈÄü\"></p>\n<p>Âª∫ËÆÆÂ∞Ü CDN ‰∫ßÂìÅ‰∏é OSS ‰∫ßÂìÅÁªìÂêà‰ΩøÁî®ÔºåÂèØ‰ª•Âä†ÈÄüËµÑÊ∫êÁöÑÂä†ËΩΩÈÄüÂ∫¶ÔºåÊèêÈ´òÁΩëÁ´ôÂõæÁâá„ÄÅÁü≠ËßÜÈ¢ëÁ≠âÂàÜÂèëÊïàÁéá„ÄÇ</p>\n<p><strong>‰∏öÂä°‰ª∑ÂÄºÔºö</strong></p>\n<ul>\n<li>ÁªàÁ´ØÁî®Êà∑ËÆøÈóÆÊÖ¢ÔºöÁΩëÁ´ôÂ∞èÊñá‰ª∂ÂÜÖÂÆπÂ§öÊâìÂºÄÈÄüÂ∫¶Â§™ÊÖ¢</li>\n<li>Ë∑®Âå∫ÂüüËÆøÈóÆË¥®ÈáèÂ∑ÆÔºöÁªàÁ´ØÁî®Êà∑ÂàÜÂ∏ÉÂú®‰∏çÂêåÂå∫ÂüüÔºå‰∏çÂêåÂå∫ÂüüÁöÑËÆøÈóÆÈÄüÂ∫¶ÂíåË¥®ÈáèÈ´ò‰Ωé‰∏ç‰∏Ä</li>\n<li>È´òÂπ∂ÂèëÂéãÂäõÂ§ßÔºöËøêËê•Êé®ÂπøÊúüÈó¥ÔºåÊ∫êÁ´ôÊúçÂä°Âô®ÂéãÂäõÂ§ßÔºåÂÆπÊòìÊåÇÊéâÔºåÈÄ†ÊàêÊúçÂä°‰∏çÂèØÁî®</li>\n<li>ÂõæÁâáÊ†ºÂºèÂàÜËæ®ÁéáÂ§ÑÁêÜÂ§çÊùÇÔºöÊó†Ê≥ïÊ†πÊçÆÈÄÇÂêàÁöÑÁªàÁ´ØÊÉÖÂÜµËøõË°åÂõæÁâáÂéãÁº©Âíå‰ºòÂåñ</li>\n</ul>\n<h3 id=\"Ë∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ\"><a href=\"#Ë∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ\" class=\"headerlink\" title=\"Ë∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ\"></a>Ë∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ</h3><p>Â§ßÊñá‰ª∂‰∏ãËΩΩ‰ºòÂåñÂä†ÈÄüÂàÜÂèëÔºöÁΩëÁ´ôÊàñÂ∫îÁî® App ÁöÑ‰∏ªË¶Å‰∏öÂä°‰∏∫Â§ßÊñá‰ª∂‰∏ãËΩΩÔºå‰æãÂ¶ÇÔºöÂÆâË£ÖÂåÖÊñá‰ª∂ <code>apk</code>„ÄÅÈü≥È¢ëÊñá‰ª∂ <code>mp3</code>„ÄÅÈ©±Âä®Á®ãÂ∫è <code>exe</code>„ÄÅÂ∫îÁî®Êõ¥Êñ∞Êñá‰ª∂ <code>zip</code> Á≠âÔºåÂπ≥ÂùáÂçï‰∏™Êñá‰ª∂Â§ßÂ∞èÂú® 20M ‰ª•‰∏äÔºåÂ¶ÇÊ∏∏Êàè„ÄÅÂêÑÁ±ªÂÆ¢Êà∑Á´Ø‰∏ãËΩΩÂíå App ‰∏ãËΩΩÂïÜÂ∫óÁ≠â„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-qiniu-file.png\" alt=\"‰∏ÉÁâõ‰∫ëË∂ÖÂ§ßÊñá‰ª∂‰∏ãËΩΩ\"></p>\n<p><strong>‰∏öÂä°‰ª∑ÂÄºÔºö</strong></p>\n<ul>\n<li>ÁªàÁ´ØÁî®Êà∑Êó†Ê≥ï‰∏ãËΩΩÊàñËÄÖ‰∏ãËΩΩÂ§™ÊÖ¢„ÄÇ</li>\n<li>ÁΩëÁªúÁéØÂ¢É‰∏çÁ®≥ÂÆöÊó∂Ôºå‰∏ãËΩΩÂÆπÊòì‰∏≠Êñ≠„ÄÇÈáçÊñ∞‰∏ãËΩΩ‰ºöËÄóË¥πÈ¢ùÂ§ñÁöÑËµÑÊ∫ê„ÄÇ</li>\n<li>ÁΩëÁ´ôÂÜÖÂÆπ‰∏çÂÆâÂÖ®ÔºåÂÆπÊòìË¢´Âä´ÊåÅ„ÄÇ</li>\n<li>Êñá‰ª∂Â≠òÂÇ®ÊàêÊú¨ËøáÈ´òÔºåÂêåÊó∂ÂØπÊ∫êÁ´ôÊÄßËÉΩË¶ÅÊ±ÇÈ´ò„ÄÇ</li>\n</ul>\n<h3 id=\"Èü≥ËßÜÈ¢ëÁÇπÊí≠\"><a href=\"#Èü≥ËßÜÈ¢ëÁÇπÊí≠\" class=\"headerlink\" title=\"Èü≥ËßÜÈ¢ëÁÇπÊí≠\"></a>Èü≥ËßÜÈ¢ëÁÇπÊí≠</h3><p>Èü≥ËßÜÈ¢ëÁÇπÊí≠‰ºòÂåñÂä†ÈÄüÊúçÂä°ÔºöÁΩëÁ´ôÊàñÂ∫îÁî® App ÁöÑ‰∏ªË¶Å‰∏öÂä°‰∏∫ËßÜÈ¢ëÁÇπÊí≠ÊàñÁü≠ËßÜÈ¢ëÁ±ª„ÄÇÊîØÊåÅ‰æãÂ¶ÇÔºö<code>mp4</code>„ÄÅ<code>flv</code>„ÄÅ<code>rmvb</code>„ÄÅ<code>wmv</code>„ÄÅ<code>HLS</code> Á≠â‰∏ªÊµÅËßÜÈ¢ëÊ†ºÂºè„ÄÇ</p>\n<p>ËßÜÈü≥È¢ëÁÇπÊí≠‰∏ªË¶ÅÈÄÇÁî®‰∫éÂêÑÁ±ªËßÜÈü≥È¢ëÁ´ôÁÇπÔºåÂ¶ÇÂΩ±ËßÜÁ±ªËßÜÈ¢ëÁΩëÁ´ô„ÄÅÂú®Á∫øÊïôËÇ≤Á±ªËßÜÈ¢ëÁΩëÁ´ô„ÄÅÊñ∞ÈóªÁ±ªËßÜÈ¢ëÁ´ôÁÇπ„ÄÅÁü≠ËßÜÈ¢ëÁ§æ‰∫§Á±ªÁΩëÁ´ô‰ª•ÂèäÈü≥È¢ëÁ±ªÁõ∏ÂÖ≥Á´ôÁÇπÂíåÂ∫îÁî®„ÄÇ</p>\n<p>CDN ÊîØÊåÅÊµÅÂ™í‰ΩìÂçèËÆÆÔºå‰æãÂ¶Ç RTMP ÂçèËÆÆ„ÄÇÂú®ÂæàÂ§öÊÉÖÂÜµ‰∏ãÔºåËøôÁõ∏ÂΩì‰∫é‰∏Ä‰∏™‰ª£ÁêÜÔºå‰ªé‰∏ä‰∏ÄÁ∫ßÁºìÂ≠òËØªÂèñÂÜÖÂÆπÔºåËΩ¨ÂèëÁªôÁî®Êà∑„ÄÇÁî±‰∫éÊµÅÂ™í‰ΩìÂæÄÂæÄÊòØËøûÁª≠ÁöÑÔºåÂõ†ËÄåÂèØ‰ª•ËøõË°åÈ¢ÑÂÖàÁºìÂ≠òÁöÑÁ≠ñÁï•Ôºå‰πüÂèØ‰ª•È¢ÑÂÖàÊé®ÈÄÅÂà∞Áî®Êà∑ÁöÑÂÆ¢Êà∑Á´Ø„ÄÇ</p>\n<p>ÂØπ‰∫éÈùôÊÄÅÈ°µÈù¢Êù•ËÆ≤ÔºåÂÜÖÂÆπÁöÑÂàÜÂèëÂæÄÂæÄÈááÂèñ <strong>ÊãâÂèñ</strong> ÁöÑÊñπÂºèÔºå‰πüÂç≥ÂΩìÂèëÁé∞Êú™ÂëΩ‰∏≠ÁöÑÊó∂ÂÄôÔºåÂÜçÂéª‰∏ä‰∏ÄÁ∫ßËøõË°åÊãâÂèñ„ÄÇ‰ΩÜÊòØÔºåÊµÅÂ™í‰ΩìÊï∞ÊçÆÈáèÂ§ßÔºåÂ¶ÇÊûúÂá∫Áé∞ÂõûÊ∫êÔºåÂéãÂäõ‰ºöÊØîËæÉÂ§ßÔºåÊâÄ‰ª•ÂæÄÂæÄÈááÂèñ‰∏ªÂä®Êé®ÈÄÅÁöÑÊ®°ÂºèÔºåÂ∞ÜÁÉ≠ÁÇπÊï∞ÊçÆ‰∏ªÂä®Êé®ÈÄÅÂà∞ËæπÁºòËäÇÁÇπ„ÄÇ</p>\n<p>ÂØπ‰∫éÊµÅÂ™í‰ΩìÊù•ËÆ≤ÔºåÂæàÂ§ö CDN ËøòÊèê‰æõ <strong>È¢ÑÂ§ÑÁêÜ</strong> ÊúçÂä°Ôºå‰πüÂç≥Êñá‰ª∂Âú®ÂàÜÂèë‰πãÂâçÔºåÁªèËøá‰∏ÄÂÆöÁöÑÂ§ÑÁêÜ„ÄÇ‰æãÂ¶ÇÂ∞ÜËßÜÈ¢ëËΩ¨Êç¢‰∏∫‰∏çÂêåÁöÑÁ†ÅÊµÅÔºå‰ª•ÈÄÇÂ∫î‰∏çÂêåÁöÑÁΩëÁªúÂ∏¶ÂÆΩÁöÑÁî®Êà∑ÈúÄÊ±ÇÔºõÂÜçÂ¶ÇÂØπËßÜÈ¢ëËøõË°åÂàÜÁâáÔºåÈôç‰ΩéÂ≠òÂÇ®ÂéãÂäõÔºå‰πü‰ΩøÂæóÂÆ¢Êà∑Á´ØÂèØ‰ª•ÈÄâÊã©‰ΩøÁî®‰∏çÂêåÁöÑÁ†ÅÁéáÂä†ËΩΩ‰∏çÂêåÁöÑÂàÜÁâá„ÄÇËøôÂ∞±ÊòØÊàë‰ª¨Â∏∏ËßÅÁöÑÔºåË∂ÖÊ∏Ö„ÄÅÊ†áÊ∏Ö„ÄÅÊµÅÁïÖÁ≠â„ÄÇ</p>\n<p><strong>‰∏öÂä°‰ª∑ÂÄºÔºö</strong></p>\n<ul>\n<li>ÁªàÁ´ØÁî®Êà∑ËÆøÈóÆËßÜÈ¢ëÊó∂Êâì‰∏çÂºÄËßÜÈ¢ëÊàñÂÆπÊòìÂç°È°øÔºåËßÇÁúã‰∏çÊµÅÁïÖ„ÄÇ</li>\n<li>‰∏ä‰º†„ÄÅËΩ¨Á†Å„ÄÅÂ≠òÂÇ®„ÄÅÂàÜÂèë„ÄÅÊí≠ÊîæÁöÑÂºÄÂèëÈÖçÁΩÆÊµÅÁ®ãÂ§çÊùÇÔºåÁÇπÊí≠ÊúçÂä°ÊäÄÊúØÈó®ÊßõÈ´ò„ÄÇ</li>\n<li>ËßÜÈ¢ëËµÑÊ∫êÂÆπÊòìË¢´Âä´ÊåÅÊàñÁõóÁî®ÔºåÁâàÊùÉÂæó‰∏çÂà∞ÊúâÊïà‰øùÊä§„ÄÇ</li>\n<li>ÁªàÁ´ØÂÆ¢Êà∑‰∏ä‰º†ÁöÑÂ∞èËßÜÈ¢ëÁ≠âÂÜÖÂÆπÊó†Ê≥ïË¢´Âø´ÈÄüÂÆ°Ê†∏ÔºåÂØºËá¥ÊîøÁ≠ñÈ£éÈô©„ÄÇ</li>\n</ul>\n<h3 id=\"Èü≥ËßÜÈ¢ëÁõ¥Êí≠\"><a href=\"#Èü≥ËßÜÈ¢ëÁõ¥Êí≠\" class=\"headerlink\" title=\"Èü≥ËßÜÈ¢ëÁõ¥Êí≠\"></a>Èü≥ËßÜÈ¢ëÁõ¥Êí≠</h3><p>ËßÜÈ¢ëÊµÅÂ™í‰ΩìÁõ¥Êí≠ÊúçÂä°ÔºåÊîØÊåÅÂ™íËµÑÂ≠òÂÇ®„ÄÅÂàáÁâáËΩ¨Á†Å„ÄÅËÆøÈóÆÈâ¥ÊùÉ„ÄÅÂÜÖÂÆπÂàÜÂèëÂä†ÈÄü‰∏Ä‰ΩìÂåñËß£ÂÜ≥ÊñπÊ°à„ÄÇÁªìÂêàÂºπÊÄß‰º∏Áº©ÊúçÂä°ÔºåÂèäÊó∂Ë∞ÉÊï¥ÊúçÂä°Âô®Â∏¶ÂÆΩÔºåÂ∫îÂØπÁ™ÅÂèëËÆøÈóÆÊµÅÈáèÔºõÁªìÂêàÂ™í‰ΩìËΩ¨Á†ÅÊúçÂä°Ôºå‰∫´ÂèóÈ´òÈÄüÁ®≥ÂÆöÁöÑÂπ∂Ë°åËΩ¨Á†ÅÔºå‰∏î‰ªªÂä°ËßÑÊ®°Êó†ÁºùÊâ©Â±ï„ÄÇ</p>\n<h3 id=\"ËæπÁºòÁ®ãÂ∫è\"><a href=\"#ËæπÁºòÁ®ãÂ∫è\" class=\"headerlink\" title=\"ËæπÁºòÁ®ãÂ∫è\"></a>ËæπÁºòÁ®ãÂ∫è</h3><p>‰º†ÁªüÁöÑ CDN ÊúçÂä°ÊòØÁ∫ØÁ≤πÁöÑÁºìÂ≠òÂíåÂàÜÂèëÊúçÂä°ÔºåÁº∫‰πèÂèØ‰ª•Áõ¥Êé•Êèê‰æõÁªôÊÇ®ÁöÑËÆ°ÁÆóËÉΩÂäõ„ÄÇËÆøÈóÆ CDN ÁöÑÊµ∑ÈáèËØ∑Ê±Ç‰∏≠ÔºåÂ§çÊùÇÁöÑËÆ°ÁÆóÈÄªËæëÂøÖÈ°ªÂõûÊúçÂä°Âô®Ê∫êÁ´ôÊâßË°åÔºåËøôÂ¢ûÂä†‰∫ÜÊÇ®ÁöÑÊúçÂä°Âô®Ê∂àËÄó‰ª•ÂèäÊû∂ÊûÑÁöÑÂ§çÊùÇÊÄß„ÄÇER ÂèØÊèê‰æõÁõ¥Êé•Âú® CDN ËæπÁºòËäÇÁÇπËÆ°ÁÆóÂ§ÑÁêÜÁöÑËÉΩÂäõÔºåÂ∞ÜÊûÅÂ§ßÊèêÈ´ò CDN ÁöÑÂèØÂÆöÂà∂ÂåñÔºåÂèØÁºñÁ®ãÂåñÔºå‰ªéËÄåÂ§ßÈáèÂáèÂ∞ëÈúÄÂõûÊ∫êÁöÑËØ∑Ê±ÇÔºåÈôç‰ΩéÁî®Êà∑ÁöÑËØ∑Ê±ÇÂª∂Êó∂„ÄÇÂêåÊó∂ CDN ËæπÁºòËäÇÁÇπÊã•ÊúâÂ§©ÁÑ∂ÁöÑÈ´òÂèØÁî®„ÄÅÈ´ò‰º∏Áº©„ÄÅÂÖ®ÁêÉË¥üËΩΩÂùáË°°ÁöÑÁâπÊÄßÔºåËæπÁºòÁöÑËÆ°ÁÆóÊúçÂä°ÂèØÂ∫îÁî®‰∫éÊõ¥Â§öÁöÑ‰ΩøÁî®Âú∫ÊôØ„ÄÇ</p>\n<ul>\n<li>GeoÔºöËæπÁºòÊâìÁÇπÊúçÂä°ÔºåÂèØ‰ª•ÈááÈõÜÂà∞ËæπÁºòËäÇÁÇπÁöÑËØ∑Ê±ÇÁõ∏ÂÖ≥‰ø°ÊÅØÔºöÂ¶Ç IP„ÄÅÂú∞ÁêÜ„ÄÅËÆæÂ§á‰ø°ÊÅØÁ≠â</li>\n<li>FetchÔºöËæπÁºò‰ª£ÁêÜÊúçÂä°ÔºåÂú® JS ‰ª£Á†Å‰∏≠Ë∞ÉÁî®ÂÜÖÁΩÆ api fetch ÂÅö‰∫Ü http Ëá™ËØ∑Ê±ÇÔºåÂìçÂ∫îÁªôÂÆ¢Êà∑Á´Ø fetch ÁöÑÊúÄÁªàÂÜÖÂÆπ</li>\n<li>AB testÔºöAB ÊµãËØïÁöÑÂäüËÉΩ</li>\n<li>Precache/PrefetchÔºöCDN È¢ÑÁÉ≠ÂäüËÉΩÔºåÈ¢ÑÁÉ≠‰ªªÂä°Âú®ÂìçÂ∫îÂÆ¢Êà∑Á´ØÊó∂Â∞ÜÂºÇÊ≠•ÂÆåÊàê</li>\n<li>RaceÔºöÂõûÊ∫êÂêåÊãâÂäüËÉΩÔºåÂ∞ÜÂõûÊ∫êÈÄüÂ∫¶ÊúÄÂø´ÁöÑÊ∫êÁ´ôÁöÑÂÜÖÂÆπ‰ºòÂÖàËøîÂõûÁªôÂÆ¢Êà∑Á´Ø</li>\n<li>LogÔºöËæπÁºòÊó•ÂøóÊúçÂä°ÔºåÂú®ÂìçÂ∫îÁªìÊùüÂêéÂºÇÊ≠•Âú∞ÁîüÊàêÊó•ÂøóÂπ∂Âõû‰º†ÁªôÊÇ®ÁöÑ Server</li>\n<li>3xxÔºöÂõûÊ∫ê 302 Ë∑üÈöèÂäüËÉΩ</li>\n<li>RedirectÔºöËæπÁºòËØ∑Ê±ÇÈáçÂÆöÂêëÂäüËÉΩ</li>\n<li>Deny botÔºöËæπÁºòÂèçÁà¨Ëô´ÊúçÂä°</li>\n<li>WafÔºöËæπÁºò waf ÊúçÂä°ÔºåÂΩìÊª°Ë∂≥Êüê‰∫õÊù°‰ª∂Êó∂ÔºåÂ∞ÜÁ¶ÅÊ≠¢ËØ•ËØ∑Ê±Ç</li>\n</ul>\n<p>ÈÄöÂ∏∏Ôºå‰ΩøÁî®‰∫Ü CDN ÂêéÔºåÊÇ®ÂèØ‰ª•Ê†πÊçÆÂª∂Êó∂„ÄÅ‰∏ãËΩΩÈÄüÂ∫¶„ÄÅÊâìÂºÄÈÄüÂ∫¶„ÄÅ‰∏¢ÂåÖÁéá„ÄÅÂõûÊ∫êÁéáÂíåÁºìÂ≠òÂëΩ‰∏≠ÁéáÂà§Êñ≠Âä†ÈÄüÊïàÊûú„ÄÇ</p>\n<h2 id=\"Ë°°ÈáèÊåáÊ†á\"><a href=\"#Ë°°ÈáèÊåáÊ†á\" class=\"headerlink\" title=\"Ë°°ÈáèÊåáÊ†á\"></a>Ë°°ÈáèÊåáÊ†á</h2><p>‰ΩøÁî® CDN Âä†ÈÄüÔºåËÉΩÂ§üÂ∏ÆÂä©ÊÇ®ÂàÜÊãÖÊ∫êÁ´ôÂéãÂäõÔºåÂä†ÈÄüËµÑÊ∫êËÆøÈóÆÈÄüÂ∫¶„ÄÇÈô§‰∫ÜÈÄöÁî®ÁöÑÊï∞ÊçÆËßÇÊµãÊåáÊ†áÂ§ñÔºå‰∏çÂêåÁöÑÂú∫ÊôØ‰∏ã‰πüÊúâÊõ¥ÂÖ∑‰ΩìÁöÑÊåáÊ†á„ÄÇËßÇÊµãËøô‰∫õÊåáÊ†áÔºå‰∏ç‰ªÖÂèØ‰ª•Â∏ÆÂä©ÊÇ®‰ΩìÈ™å CDN Âä†ÈÄüÁöÑÊïàÊûúÔºå‰πüËÉΩËßÇÊµãËá™Ë∫´‰∏öÂä°‰ΩøÁî® CDN ÁöÑÊÉÖÂÜµÔºåÂ∏ÆÂä©ÊÇ®Êõ¥Â•ΩÂú∞ÂÅöÂá∫Ë∞ÉÊï¥ÂíåÂÜ≥Á≠ñ„ÄÇ</p>\n<h3 id=\"ÈÄöÁî®ÊåáÊ†á\"><a href=\"#ÈÄöÁî®ÊåáÊ†á\" class=\"headerlink\" title=\"ÈÄöÁî®ÊåáÊ†á\"></a>ÈÄöÁî®ÊåáÊ†á</h3><p>ÊÇ®ÂèØ‰ª•Ê†πÊçÆ‰ª•‰∏ãÂá†‰∏™‰∏ªË¶ÅÊÄßËÉΩÊåáÊ†áÔºåËßÇÂØü‰ΩøÁî® CDN ÂâçÂêéÔºåÊÇ®ÁöÑÁΩëÁ´ôÊÉÖÂÜµ„ÄÇËøô‰∫õÊåáÊ†áÂåÖÂê´‰ΩÜ‰∏çÈôê‰∫éÔºö</p>\n<ul>\n<li><strong>Âª∂Êó∂</strong>ÔºöÊåá‰∏Ä‰∏™Êï∞ÊçÆÂåÖ‰ªéÁî®Êà∑ÁöÑËÆ°ÁÆóÊú∫ÂèëÈÄÅÂà∞ÁΩëÁ´ôÊúçÂä°Âô®ÔºåÁÑ∂ÂêéÂÜçÁ´ãÂç≥‰ªéÁΩëÁ´ôÊúçÂä°Âô®ËøîÂõûÁî®Êà∑ËÆ°ÁÆóÊú∫ÁöÑÊù•ÂõûÊó∂Èó¥„ÄÇÂª∂Êó∂Ë∂ä‰ΩéÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n<li><strong>‰∏ãËΩΩÈÄüÂ∫¶</strong>ÔºöÊåáÁî®Êà∑‰ªéÁΩëÁªú‰∏äÊàñËÄÖÁΩëÁªúÊúçÂä°Âô®‰∏ä‰∏ãËΩΩÁöÑÊï∞ÊçÆÊó∂ÁöÑ‰º†ËæìÈÄüÂ∫¶„ÄÇ‰∏ãËΩΩÈÄüÂ∫¶Ë∂äÂø´ÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n<li><strong>ÊâìÂºÄÈÄüÂ∫¶</strong>ÔºöÊåáÁî®Êà∑ÊâìÂºÄÁΩëÁ´ôÁöÑÈÄüÂ∫¶„ÄÇÊâìÂºÄÈÄüÂ∫¶Ë∂äÂø´ÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n<li><strong>‰∏¢ÂåÖÁéá</strong>ÔºöÊåáÁî®Êà∑Âú®ÁΩëÁªú‰º†Ëæì‰∏≠ÊâÄ‰∏¢Â§±Êï∞ÊçÆÂåÖÊï∞ÈáèÂç†ÊâÄÂèëÈÄÅÊï∞ÊçÆÁªÑÁöÑÊØîÁéá„ÄÇ</li>\n<li><strong>ÂõûÊ∫êÁéá</strong>ÔºöÂõûÊ∫êÁéáÂàÜ‰∏∫ÂõûÊ∫êËØ∑Ê±ÇÊï∞ÊØî‰æãÂèäÂõûÊ∫êÊµÅÈáèÊØî‰æã‰∏§Áßç„ÄÇ<ul>\n<li><strong>ÂõûÊ∫êËØ∑Ê±ÇÊï∞ÊØî</strong>ÔºöÊåáËæπÁºòËäÇÁÇπÂØπ‰∫éÊ≤°ÊúâÁºìÂ≠ò„ÄÅÁºìÂ≠òËøáÊúüÔºàÂèØÁºìÂ≠òÔºâÂíå‰∏çÂèØÁºìÂ≠òÁöÑËØ∑Ê±ÇÂç†ÂÖ®ÈÉ®ËØ∑Ê±ÇËÆ∞ÂΩïÁöÑÊØî‰æã„ÄÇË∂ä‰ΩéÂàôÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n<li><strong>ÂõûÊ∫êÊµÅÈáèÊØî</strong>ÔºöÂõûÊ∫êÊµÅÈáèÊòØÂõûÊ∫êËØ∑Ê±ÇÊñá‰ª∂Â§ßÂ∞è‰∫ßÁîüÁöÑÊµÅÈáèÂíåËØ∑Ê±ÇÊú¨Ë∫´‰∫ßÁîüÁöÑÊµÅÈáè„ÄÇÊâÄ‰ª• <code>ÂõûÊ∫êÊµÅÈáèÊØî=ÂõûÊ∫êÊµÅÈáè/ÔºàÂõûÊ∫êÊµÅÈáè+Áî®Êà∑ËØ∑Ê±ÇËÆøÈóÆÁöÑÊµÅÈáèÔºâ</code>ÔºåÊØîÂÄºË∂ä‰ΩéÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n</ul>\n</li>\n<li><strong>ÁºìÂ≠òÂëΩ‰∏≠Áéá</strong>ÔºöÊåáÁªàÁ´ØÁî®Êà∑ËÆøÈóÆÂä†ÈÄüËäÇÁÇπÊó∂ÔºåËØ•ËäÇÁÇπÂ∑≤ÁºìÂ≠ò‰∫ÜË¶ÅË¢´ËÆøÈóÆÁöÑÊï∞ÊçÆÁöÑÊ¨°Êï∞Âç†ÂÖ®ÈÉ®ËÆøÈóÆÊ¨°Êï∞ÁöÑÊØî‰æã„ÄÇÁºìÂ≠òÂëΩ‰∏≠ÁéáË∂äÈ´òÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n</ul>\n<blockquote>\n<p>ËØ¥ÊòéÔºö‰∏äÊñáÊèêÂà∞ÁöÑÂõûÊ∫êÁéá„ÄÅÁºìÂ≠òÂëΩ‰∏≠ÁéáÈÉΩÊòØÊåá‰ΩøÁî® CDN ÂêéË°°ÈáèÁöÑÊåáÊ†á„ÄÇÂ¶ÇÊûúÊÇ®ËøòÊ≤°Êúâ‰ΩøÁî® CDNÔºåÈÇ£‰πàÂõûÊ∫êËØ∑Ê±ÇÊï∞‰∏∫ 100%ÔºåÁºìÂ≠òÂëΩ‰∏≠Áéá‰∏∫ 0„ÄÇ</p>\n</blockquote>\n<p>‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî® CDN ÂêéÔºåÊÇ®ÁöÑÁΩëÁªúÂª∂Êó∂„ÄÅ‰∏¢ÂåÖÁéáÂíåÂõûÊ∫êÁéáÈÉΩ‰ºöÈôç‰ΩéÔºå‰∏é‰πãÁõ∏ÂØπÁöÑ‰∏ãËΩΩÈÄüÂ∫¶„ÄÅÊâìÂºÄÈÄüÂ∫¶„ÄÅÁºìÂ≠òÂëΩ‰∏≠ÁéáÂàô‰ºöÊèêÈ´ò„ÄÇ‰ΩÜÊòØÔºåÁî±‰∫é‰∏öÂä°Âú∫ÊôØÂíå‰∏öÂä°Á±ªÂûãÁöÑ‰∏çÂêåÔºåÂç≥‰ΩøÈÄâÊã©‰∫ÜÁõ∏ÂêåÈÖçÁΩÆÁöÑ CDN ÊúçÂä°ÔºåÂÆûÈôÖ‰∫ßÁîüÁöÑÂä†ÈÄüÊïàÊûú‰πü‰∏çÁõ∏Âêå„ÄÇÂõ†Ê≠§ÔºåËøôÈáåÂè™ÊòØÊèê‰æõ‰∫ÜÂÆöÊÄßÁöÑÊåáÊ†á‰ª•‰æõËßÇÊµã„ÄÇ</p>\n<p>CDN ÁöÑÂêÑÁ±ªÂ∫îÁî®Âú∫ÊôØÈÉΩÂêÑËá™ÂÖ∑Êúâ‰∏Ä‰∫õÂÖ∑‰ΩìÊåáÊ†á„ÄÇÊÇ®ÂèØ‰ª•Ê†πÊçÆÊÇ®ÁöÑ‰∏öÂä°Âú∫ÊôØÔºåËøõ‰∏ÄÊ≠•ËßÇÊµã„ÄÇ</p>\n<h3 id=\"Âä†ÈÄüÂ∞èÊñá‰ª∂ÁöÑ‰∏ªË¶ÅÊåáÊ†á\"><a href=\"#Âä†ÈÄüÂ∞èÊñá‰ª∂ÁöÑ‰∏ªË¶ÅÊåáÊ†á\" class=\"headerlink\" title=\"Âä†ÈÄüÂ∞èÊñá‰ª∂ÁöÑ‰∏ªË¶ÅÊåáÊ†á\"></a>Âä†ÈÄüÂ∞èÊñá‰ª∂ÁöÑ‰∏ªË¶ÅÊåáÊ†á</h3><p>Â∞èÊñá‰ª∂Ôºå‰∏ªË¶ÅÊåá <code>html</code>„ÄÅ<code>js</code>„ÄÅ<code>jpg</code>„ÄÅ<code>css</code> Á≠âÊñá‰ª∂ÂêéÁºÄÁöÑÁΩëÈ°µÁ¥†Êùê„ÄÇËøôÁ±ªÂä†ÈÄüÂØπÂª∂ËøüË¶ÅÊ±ÇËæÉÈ´òÔºåÂõ†‰∏∫ÈÄöÂ∏∏ËÄåË®ÄÔºåÈ°µÈù¢Âä†ËΩΩÊó∂Èó¥ÁöÑÂä†ÈïøÂØπÁî®Êà∑ÊµÅÂ§±‰ºöÈÄ†ÊàêÂ∑®Â§ßÂΩ±Âìç„ÄÇ</p>\n<p>Âª∂Ëøü‰∏ªË¶ÅÂåÖÊã¨‰ª•‰∏ã 3 ‰∏™ÊÄßËÉΩÊåáÊ†áÔºöÂª∫Á´ãËøûÊé•Êó∂Èó¥„ÄÅÈ¶ñÂåÖÊó∂Èó¥„ÄÅÂÜÖÂÆπ‰∏ãËΩΩÊó∂Èó¥„ÄÇÂÖ∂‰∏≠Ôºå<strong>È¶ñÂåÖÊó∂Èó¥</strong>ÊòØÊúÄÊ†∏ÂøÉÁöÑÊåáÊ†á„ÄÇ</p>\n<ul>\n<li>Âª∫Á´ãËøûÊé•Êó∂Èó¥ÔºöÊåá DNS Ëß£ÊûêÂÆåÊàêÔºåÁÑ∂ÂêéÊâæÂà∞ÂØπÂ∫î IP Âú∞ÂùÄÂêéÂª∫Á´ã TCP ËøûÊé•ÁöÑËøáÁ®ã„ÄÇÂª∫Á´ãËøûÊé•ÁöÑÊó∂Èó¥ÈïøÁü≠ÔºåÂü∫Êú¨ÂèØ‰ª•ÂèçÊò† <strong>CDN ÊúçÂä°ÁöÑËäÇÁÇπËµÑÊ∫ê‰ª•ÂèäË∞ÉÂ∫¶ËÉΩÂäõ</strong>„ÄÇ</li>\n<li>È¶ñÂåÖÊó∂Èó¥ÔºöÊåá‰ªéÂÆ¢Êà∑Á´ØÂºÄÂßãÂèëÈÄÅËØ∑Ê±ÇÂà∞Êî∂Âà∞ÊúçÂä°Âô®Á´ØÂèëÊù•ÁöÑÁ¨¨‰∏Ä‰∏™ÂåÖ‰πãÈó¥ÊâÄÈúÄË¶ÅÁöÑÊó∂Èó¥„ÄÇËøôÂèçÊò†‰∫Ü CDN ÊúçÂä°ËäÇÁÇπÁ®ãÂ∫èÁöÑÊï¥‰ΩìÊÄßËÉΩ„ÄÇ</li>\n</ul>\n<p>Âú®‰∏ä‰º†Ë∑ØÂæÑ‰∏≠ÔºåÈ¶ñÂåÖÊó∂Èó¥‰∏ªË¶ÅÂåÖÂê´‰∫Ü DNS Ëß£ÊûêÊó∂Èó¥„ÄÅTCP Áî®Êó∂„ÄÅSSL Áî®Êó∂„ÄÅÂèëÈÄÅÊó∂Èó¥ÂíåÂìçÂ∫îÊó∂Èó¥„ÄÇ‰∏ä‰º†</p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-upload-flow.png\" alt=\"CDN Upload Flow\"></p>\n<p>Âú®‰∏ãËΩΩË∑ØÂæÑ‰∏≠ÔºåÈ¶ñÂåÖÊó∂Èó¥‰∏ªË¶ÅÂåÖÂê´‰∫Ü DNS Ëß£ÊûêÊó∂Èó¥„ÄÅTCP Áî®Êó∂„ÄÅSSL Áî®Êó∂„ÄÅÂèëÈÄÅÊó∂Èó¥„ÄÅÂìçÂ∫îÊó∂Èó¥Âíå‰∏ãËΩΩÁî®Êó∂„ÄÇ‰∏ãËΩΩ</p>\n<p><img src=\"https://img.mrsingsing.com/about-cdn-download-flow.png\" alt=\"CDN Download Flow\"></p>\n<h3 id=\"Âä†ÈÄüÂ§ßÊñá‰ª∂‰∏ãËΩΩÁöÑ‰∏ªË¶ÅÊåáÊ†á\"><a href=\"#Âä†ÈÄüÂ§ßÊñá‰ª∂‰∏ãËΩΩÁöÑ‰∏ªË¶ÅÊåáÊ†á\" class=\"headerlink\" title=\"Âä†ÈÄüÂ§ßÊñá‰ª∂‰∏ãËΩΩÁöÑ‰∏ªË¶ÅÊåáÊ†á\"></a>Âä†ÈÄüÂ§ßÊñá‰ª∂‰∏ãËΩΩÁöÑ‰∏ªË¶ÅÊåáÊ†á</h3><p>Â§ßÊñá‰ª∂‰∏ãËΩΩÔºå‰∏ÄËà¨ÊåáÂêÑÁ±ªÂçï‰∏™Êñá‰ª∂Â§ßÂ∞èÂ§ß‰∫é 20M ÁöÑ‰∏ãËΩΩ„ÄÇÂõ†Ê≠§ÂØπËøôÁ±ªÂú∫ÊôØÔºåÊúÄÊ†∏ÂøÉÁöÑÊåáÊ†áÂ∞±ÊòØ <strong>‰∏ãËΩΩÈÄüÂ∫¶</strong> Âíå <strong>‰∏ãËΩΩÊÄªÊó∂Èó¥</strong>„ÄÇ</p>\n<h3 id=\"Âä†ÈÄüÈü≥ËßÜÈ¢ëÁÇπÊí≠ÁöÑ‰∏ªË¶ÅÊåáÊ†á\"><a href=\"#Âä†ÈÄüÈü≥ËßÜÈ¢ëÁÇπÊí≠ÁöÑ‰∏ªË¶ÅÊåáÊ†á\" class=\"headerlink\" title=\"Âä†ÈÄüÈü≥ËßÜÈ¢ëÁÇπÊí≠ÁöÑ‰∏ªË¶ÅÊåáÊ†á\"></a>Âä†ÈÄüÈü≥ËßÜÈ¢ëÁÇπÊí≠ÁöÑ‰∏ªË¶ÅÊåáÊ†á</h3><p>ËßÜÈü≥È¢ëÁÇπÊí≠ÁöÑÂú∫ÊôØÔºå‰∏ªË¶ÅÊ∂µÁõñ <code>flv</code>„ÄÅ<code>mp4</code>„ÄÅ<code>wmv</code>„ÄÅ<code>mkv</code> Á≠âËßÜÈü≥È¢ëÊñá‰ª∂„ÄÇÂú®ËøôÁ±ªÂú∫ÊôØ‰∏≠ÁöÑ‰∏ªË¶ÅË°°ÈáèÊåáÊ†áÂåÖÊã¨È¶ñÊí≠Êó∂Èó¥ÂíåÂç°È°øÁéáÔºö</p>\n<ul>\n<li><strong>È¶ñÊí≠Êó∂Èó¥</strong>ÔºöÈ¶ñÊí≠Êó∂Èó¥ÊòØ‰ªéÊâìÂºÄÂà∞ÁúãÂà∞ËßÜÈ¢ëÁîªÈù¢ÁöÑÊó∂Èó¥„ÄÇÂæÄÂæÄ‰ºöÂèóÂüüÂêçËß£Êûê„ÄÅËøûÊé•„ÄÅÈ¶ñÂåÖÊó∂Èó¥ÁöÑÂΩ±Âìç„ÄÇ</li>\n<li><strong>Âç°È°øÁéá</strong>ÔºöÂç°È°øÊåáËßÜÈü≥È¢ëÊí≠Êîæ„ÄÅËµÑÊ∫êÂä†ËΩΩÁ≠âÂú∫ÊôØ‰∏ãÂá∫Áé∞ÁîªÈù¢ÊªûÂ∏ß„ÄÇÂõ†Ê≠§Âç°È°øÁéá‰∏ªË¶ÅÊåáÊääÊâÄÊúâÁî®Êà∑Êí≠ÊîæËßÜÈ¢ëÁöÑÂç°È°øÊó∂Èó¥‰∏äÊä•ÔºåÊØè 100 ‰∏™Áî®Êà∑ÈáåÈù¢Êí≠ÊîæÂá∫Áé∞Âç°È°øÁöÑÊØî‰æã„ÄÇÂç°È°øÁéáË∂ä‰ΩéÔºåÊÄßËÉΩË∂äÂ•Ω„ÄÇ</li>\n</ul>\n<h2 id=\"CDN-Êèê‰æõÂïÜ\"><a href=\"#CDN-Êèê‰æõÂïÜ\" class=\"headerlink\" title=\"CDN Êèê‰æõÂïÜ\"></a>CDN Êèê‰æõÂïÜ</h2><p>ÊØè‰∏™ CDN ÊúçÂä°Êèê‰æõÂïÜÁöÑÈÖçÁΩÆ‰ø°ÊÅØ‰∏çÂêå„ÄÇ</p>\n<ul>\n<li><a href=\"https://www.aliyun.com/product/cdn\" target=\"_blank\" rel=\"noopener\">ÈòøÈáå‰∫ë</a></li>\n<li><a href=\"https://cloud.tencent.com/product/cdn\" target=\"_blank\" rel=\"noopener\">ËÖæËÆØ‰∫ë</a></li>\n<li><a href=\"https://www.huaweicloud.com/product/cdn.html\" target=\"_blank\" rel=\"noopener\">Âçé‰∏∫‰∫ë</a></li>\n<li><a href=\"https://www.qiniu.com/products/fusion\" target=\"_blank\" rel=\"noopener\">‰∏ÉÁâõ‰∫ë</a></li>\n</ul>\n<h3 id=\"Âä®ÊÄÅ-CDN\"><a href=\"#Âä®ÊÄÅ-CDN\" class=\"headerlink\" title=\"Âä®ÊÄÅ CDN\"></a>Âä®ÊÄÅ CDN</h3><p>Âä®ÊÄÅÂä†ÈÄüÈíàÂØπÂä®ÊÄÅËµÑÊ∫êËøõË°åÂä†ÈÄüÂàÜÂèë„ÄÇ</p>\n<ul>\n<li><strong>ËæπÁºòËÆ°ÁÆóÁöÑÊ®°Âºè</strong>ÔºöÊó¢ÁÑ∂Êï∞ÊçÆÊòØÂä®ÊÄÅÁîüÊàêÁöÑÔºåÊâÄ‰ª• <strong>Êï∞ÊçÆÁöÑÈÄªËæëËÆ°ÁÆóÂíåÂ≠òÂÇ®</strong>Ôºå‰πüÁõ∏Â∫îÁöÑÊîæÂú®ËæπÁºòÁöÑËäÇÁÇπ„ÄÇÂÖ∂‰∏≠ÂÆöÊó∂‰ªéÊ∫êÊï∞ÊçÆÈÇ£ÈáåÂêåÊ≠•Â≠òÂÇ®ÁöÑÊï∞ÊçÆÔºåÁÑ∂ÂêéÂú®ËæπÁºòËøõË°åËÆ°ÁÆóÂæóÂà∞ÁªìÊûú„ÄÇÂ∞±ÂÉèÂØπÁîüÈ≤úÁöÑÁÉπÈ•™ÊòØÂä®ÊÄÅÁöÑÔºåÊ≤°ÂäûÊ≥ï‰∫ãÂÖàÂÅöÂ•ΩÁºìÂ≠òÔºåÂõ†ËÄåÂ∞ÜÁîüÈ≤úË∂ÖÂ∏ÇÊîæÂú®‰Ω†ÂÆ∂ÊóÅËæπÔºåÊó¢ËÉΩÂ§üÈÄÅË¥ß‰∏äÈó®Ôºå‰πüËÉΩÂ§üÁé∞Âú∫ÁÉπÈ•™Ôºå‰πüÊòØËæπÁºòËÆ°ÁÆóÁöÑ‰∏ÄÁßç‰ΩìÁé∞„ÄÇ</li>\n<li><strong>Ë∑ØÂæÑ‰ºòÂåñÁöÑÊ®°Âºè</strong>ÔºöÊï∞ÊçÆ‰∏çÊòØÂú®ËæπÁºòËÆ°ÁÆóÁîüÊàêÁöÑÔºåËÄåÊòØÂú®Ê∫êÁ´ôÁîüÊàêÁöÑÔºå‰ΩÜÊòØÊï∞ÊçÆÁöÑ‰∏ãÂèëÂàôÂèØ‰ª•ÈÄöËøá CDN ÁöÑÁΩëÁªúÔºåÂØπË∑ØÂæÑËøõË°å‰ºòÂåñ„ÄÇÂõ†‰∏∫ CDN ËäÇÁÇπËæÉÂ§öÔºåËÉΩÂ§üÊâæÂà∞Á¶ªÊ∫êÁ´ôÂæàËøëÁöÑËæπÁºòËäÇÁÇπÔºå‰πüËÉΩÊâæÂà∞Á¶ªÁî®Êà∑ÂæàËøëÁöÑËæπÁºòËäÇÁÇπ„ÄÇ‰∏≠Èó¥ÁöÑÈìæË∑ØÂÆåÂÖ®Áî± CDN Êù•ËßÑÂàíÔºåÈÄâÊã©‰∏Ä‰∏™Êõ¥Âä†ÂèØÈù†ÁöÑË∑ØÂæÑÔºå‰ΩøÁî®Á±ª‰ºº‰∏ìÁ∫øÁöÑÊñπÂºèËøõË°åËÆøÈóÆ„ÄÇ</li>\n</ul>\n<p>ÂØπ‰∫éÂ∏∏Áî®ÁöÑ TCP ËøûÊé•ÔºåÂú®ÂÖ¨ÁΩë‰∏ä‰º†ËæìÁöÑÊó∂ÂÄôÁªèÂ∏∏‰ºö‰∏¢Êï∞ÊçÆÔºåÂØºËá¥ TCP ÁöÑÁ™óÂè£ÂßãÁªàÂæàÂ∞èÔºåÂèëÈÄÅÈÄüÂ∫¶‰∏ä‰∏çÂéª„ÄÇÊ†πÊçÆÂâçÈù¢ÁöÑ TCP ÊµÅÈáèÊéßÂà∂ÂíåÊã•Â°ûÊéßÂà∂ÁöÑÂéüÁêÜÔºåÂú® CDN Âä†ÈÄüÁΩëÁªú‰∏≠ÂèØ‰ª•Ë∞ÉÊï¥ TCP ÁöÑÂèÇÊï∞Ôºå‰ΩøÂæó TCP ÂèØ‰ª•Êõ¥Âä†ÊøÄËøõÂú∞‰º†ËæìÊï∞ÊçÆ„ÄÇÂèØ‰ª•ÈÄöËøáÂ§ö‰∏™ËØ∑Ê±ÇÂ§çÁî®‰∏Ä‰∏™ËøûÊé•Ôºå‰øùËØÅÊØèÊ¨°Âä®ÊÄÅËØ∑Ê±ÇÂà∞ËææÊó∂„ÄÇËøûÊé•ÈÉΩÂ∑≤ÁªèÂª∫Á´ã‰∫ÜÔºå‰∏çÂøÖ‰∏¥Êó∂‰∏âÊ¨°Êè°ÊâãÊàñËÄÖÂª∫Á´ãËøáÂ§öÁöÑËøûÊé•ÔºåÂ¢ûÂä†ÊúçÂä°Âô®ÁöÑÂéãÂäõ„ÄÇÂè¶Â§ñÔºåÂèØ‰ª•ÈÄöËøáÂØπ‰º†ËæìÊï∞ÊçÆËøõË°åÂéãÁº©ÔºåÂ¢ûÂä†‰º†ËæìÊïàÁéá„ÄÇÊâÄÊúâËøô‰∫õÊâãÊÆµÂ∞±ÂÉèÂÜ∑ÈìæËøêËæìÔºåÊï¥‰∏™Áâ©ÊµÅ‰ºòÂåñ‰∫ÜÔºåÂÖ®Á®ãÂÜ∑ÂÜªÈ´òÈÄüËøêËæì„ÄÇ‰∏çÁÆ°ÁîüÈ≤úÊòØ‰ªé‰Ω†ÊóÅËæπÁöÑË∂ÖÂ∏ÇÈÄÅÂà∞‰Ω†ÂÆ∂ÁöÑÔºåËøòÊòØ‰ªé‰∫ßÂú∞ÈÄÅÁöÑÔºå‰øùËØÅÂà∞‰Ω†ÂÆ∂ÊòØÊñ∞È≤úÁöÑ„ÄÇ</p>\n<h3 id=\"Âà∑Êñ∞È¢ÑÁÉ≠\"><a href=\"#Âà∑Êñ∞È¢ÑÁÉ≠\" class=\"headerlink\" title=\"Âà∑Êñ∞È¢ÑÁÉ≠\"></a>Âà∑Êñ∞È¢ÑÁÉ≠</h3><ul>\n<li>Âà∑Êñ∞ÂäüËÉΩÊòØÊåáÊèê‰∫§ URL Âà∑Êñ∞ÊàñÁõÆÂΩïÂà∑Êñ∞ËØ∑Ê±ÇÂêéÔºåCDN ËäÇÁÇπÁöÑÁºìÂ≠òÂÜÖÂÆπÂ∞Ü‰ºöË¢´Âº∫Âà∂ËøáÊúüÔºåÂΩìÊÇ®Âêë CDN ËäÇÁÇπËØ∑Ê±ÇËµÑÊ∫êÊó∂ÔºåCDN ‰ºöÁõ¥Êé•ÂõûÊ∫êÁ´ôËé∑ÂèñÂØπÂ∫îÁöÑËµÑÊ∫êËøîÂõûÁªôÊÇ®ÔºåÂπ∂Â∞ÜÂÖ∂ÁºìÂ≠ò„ÄÇÂà∑Êñ∞ÂäüËÉΩ‰ºöÈôç‰ΩéÁºìÂ≠òÂëΩ‰∏≠Áéá„ÄÇ</li>\n<li>È¢ÑÁÉ≠ÂäüËÉΩÊòØÊåáÊèê‰∫§ URL È¢ÑÁÉ≠ËØ∑Ê±ÇÂêéÔºåÊ∫êÁ´ôÂ∞Ü‰ºö‰∏ªÂä®Â∞ÜÂØπÂ∫îÁöÑËµÑÊ∫êÁºìÂ≠òÂà∞ CDN ËäÇÁÇπÔºåÂΩìÊÇ®È¶ñÊ¨°ËØ∑Ê±ÇÊó∂ÔºåÂ∞±ËÉΩÁõ¥Êé•‰ªé CDN ËäÇÁÇπÁºìÂ≠ò‰∏≠Ëé∑ÂèñÂà∞ÊúÄÊñ∞ÁöÑËØ∑Ê±ÇËµÑÊ∫êÔºåÊó†ÈúÄÂÜçÂõûÊ∫êÁ´ôËé∑Âèñ„ÄÇÈ¢ÑÁÉ≠ÂäüËÉΩ‰ºöÊèêÈ´òÁºìÂ≠òÂëΩ‰∏≠Áéá„ÄÇ</li>\n</ul>\n<h2 id=\"ÂèÇËÄÉËµÑÊñô\"><a href=\"#ÂèÇËÄÉËµÑÊñô\" class=\"headerlink\" title=\"ÂèÇËÄÉËµÑÊñô\"></a>ÂèÇËÄÉËµÑÊñô</h2><ul>\n<li><a href=\"https://zh.wikipedia.org/wiki/%E5%85%A7%E5%AE%B9%E5%82%B3%E9%81%9E%E7%B6%B2%E8%B7%AF\" target=\"_blank\" rel=\"noopener\">üìñ Áª¥Âü∫ÁôæÁßëÔºöÂÜÖÂÆπÂàÜÂèëÁΩëÁªú</a></li>\n<li><a href=\"http://book.51cto.com/art/201205/338756.htm\" target=\"_blank\" rel=\"noopener\">üìù CDN ÁöÑÂü∫Êú¨Â∑•‰ΩúËøáÁ®ã</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/28939811\" target=\"_blank\" rel=\"noopener\">üìù CDN Áü•ËØÜËØ¶Ëß£</a></li>\n<li><a href=\"http://dopro.io/http-cache-and-cdn-cache.html\" target=\"_blank\" rel=\"noopener\">üìù HTTP ÁºìÂ≠ò‰∏é CDN ÁºìÂ≠òÈÖçÁΩÆÊåáÂçó</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/31167721?group_id=915177705310674944\" target=\"_blank\" rel=\"noopener\">üìù Ê±üÊπñÂ§±‰º†ÁöÑÊúÄÂêé‰∏Ä‰ªΩ CDN ÁßòÁ±ç</a></li>\n<li><a href=\"https://juejin.im/post/59f9538f6fb9a0450a66aa2b\" target=\"_blank\" rel=\"noopener\">üìù CDN HTTPS ÂÆâÂÖ®Âä†ÈÄüÂü∫Êú¨Ê¶ÇÂøµ„ÄÅËß£ÂÜ≥ÊñπÊ°àÂèä‰ºòÂåñÂÆûË∑µ</a></li>\n<li><a href=\"https://github.com/renaesop/blog/issues/1\" target=\"_blank\" rel=\"noopener\">üìù Èù¢ÂêëÂâçÁ´ØÁöÑ CDN ÂéüÁêÜ‰ªãÁªç</a></li>\n<li><a href=\"https://help.aliyun.com/document_detail/140425.html\" target=\"_blank\" rel=\"noopener\">üìù ÈòøÈáå‰∫ë CDN ÊñáÊ°£ÔºöCDN ÁöÑË°°ÈáèÊåáÊ†á</a></li>\n<li><a href=\"https://juejin.im/post/6847902220222988301\" target=\"_blank\" rel=\"noopener\">üìù SSR È°µÈù¢ CDN ÁºìÂ≠òÂÆûË∑µ</a></li>\n</ul>"},{"title":"Vue ÂìçÂ∫îÂºèÁ≥ªÁªüÂÆûÁé∞Êé¢Á©∂","date":"2019-07-04T00:00:00.000Z","_content":"\nÂØπ Vue ÁöÑÂìçÂ∫îÂºèÂéüÁêÜÁöÑÂÆûÁé∞ÂàÜÊûê‰ºº‰πéÂ∑≤ÁªèÊòØÂâçÁ´ØÁïåÁÉÇÂ§ßË°óÁöÑËØùÈ¢òÔºåÂ∞ΩÁÆ°Â¶ÇÊ≠§ÔºåÂú®ÂØπ Vue Ê∫êÁ†ÅÁ†îÁ©∂‰∫Ü‰∏ÄÂë®‰πãÂêéËøòÊòØÊÉ≥Â∞ùËØïÁî®Ëá™Â∑±ÁöÑËØ≠Ë®ÄÊääÊï¥‰∏™ÂÆûÁé∞ÂéüÁêÜËÆ∞ÂΩï‰∏ãÊù•„ÄÇ\n\nËøô‰ªΩÁ†îÁ©∂**‰∏ç‰ºöÂØπÊ∫êÁ†Å‰ΩúÈÄêË°åËß£ËØª**ÔºåÂè™‰ºöÂØπÂìçÂ∫îÂºèÁ≥ªÁªüÁöÑÊµÅÁ®ã‰∏≠ Vue ÂØπ‰∏çÂêåÊÉÖÂÜµÁöÑÂ§ÑÁêÜÊñπÂºè‰ª•ÂèäÊï∞ÊçÆÁöÑÊµÅÂêëÂèôËø∞Ê∏ÖÊ•ö„ÄÇ\n\nÂºÄÂ±ÄÂÄüÁî® [ustbhuangyi](https://github.com/ustbhuangyi) ÁöÑ‰∏ÄÂº†ÂõæÔºåÂØπÊï¥‰∏™ÂìçÂ∫îÂºèÁ≥ªÁªüÊúâ‰∏™ÂÆèËßÇÁöÑÊ¶ÇÂøµ„ÄÇ\n\nVue ÁöÑÂìçÂ∫îÂºèÂéüÁêÜÁöÑÊ†∏ÂøÉÂ∞±ÊòØËßÇÂØüËøô‰∫õÊï∞ÊçÆÔºåÂåÖÊã¨ data„ÄÅprops„ÄÅcomputed Âíå watch ÁöÑÂèòÂåñÔºåÂΩìËøô‰∫õÊï∞ÊçÆÂèëÁîüÂèòÂåñ‰ª•ÂêéÔºåËÉΩÈÄöÁü•Âà∞ÂØπÂ∫îÁöÑËßÇÂØüËÄÖÔºàWatcherÔºâ‰ª•ÂÆûÁé∞Áõ∏ÂÖ≥ÁöÑÈÄªËæëÔºå‰ªéËÄåÈ©±Âä®ËßÜÂõæÁöÑÊõ¥Êñ∞„ÄÇÊï¥‰∏™ÂìçÂ∫îÂºèÂéüÁêÜÊúÄÊ†∏ÂøÉÁöÑÂÆûÁé∞Â∞±ÊòØ Dep Á±ªÔºàËØ≠‰πâ‰∏∫‰æùËµñ DependencyÔºâÔºåËøô‰∏™Á±ªÂÆûÈôÖ‰∏äÊòØËøûÊé•**Êï∞ÊçÆÂØπË±°**‰∏é**ËßÇÂØüËÄÖ**ÁöÑÊ°•Ê¢Å„ÄÇ\n\n![Vue Reactive](https://img.mrsingsing.com/vue-reactive-workflow.png)\n\n<!-- more -->\n\n## ÂèåÂêëÁªëÂÆö\n\nÂú® Vue ÂàùÂßãÂåñÈò∂ÊÆµÔºå‰ºöÂØπ‰º†ÂÖ•ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÈÖçÁΩÆÂØπË±°Ê†πÊçÆ‰∏çÂêåÁöÑÈÄâÈ°π‰ΩúÁõ∏ÂÖ≥ÁöÑÂ§ÑÁêÜ„ÄÇ\n\nÂØπ‰∫é data Âíå props ËÄåË®ÄÔºåVue ‰ºöÈÄöËøá observe Âíå defineReactive Á≠â‰∏ÄÁ≥ªÂàóÁöÑÊìç‰ΩúÊää data Âíå props ÁöÑÊØè‰∏™Â±ûÊÄßÂèòÊàêÂìçÂ∫îÂºèÂ±ûÊÄß„ÄÇ\n\nÂú®ÂàùÂßãÂåñ data ËøáÁ®ã‰∏≠Ôºådata Êï∞ÊçÆÂØπË±°ÁªèÁî± observe ‰ª•ÂèÇÊï∞ÂΩ¢Âºè‰º†ÂÖ• Observer Á±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞„ÄÇÂú®ÂÆû‰æãÂåñËøáÁ®ã‰∏≠ÔºåObserver ‰ºöÊ†πÊçÆ data ÁöÑÊï∞ÊçÆÁ±ªÂûãÊâßË°åÁõ∏ÂÖ≥ÁöÑÊìç‰Ωú„ÄÇ\n\n- Ëã• data ‰∏∫**Êï∞ÁªÑÁ±ªÂûã**ÔºåObserver ‰ºöÊîπÂÜôËØ•Êï∞ÁªÑÂéüÂûã‰∏≠ÁöÑÂèòÂºÇÊñπÊ≥ïÔºàMutation MethodÔºâÔºåÂåÖÊã¨ push„ÄÅpop„ÄÅshift„ÄÅunshift„ÄÅsplice„ÄÅsort Âíå revers ÂÖ±‰∏É‰∏™ÊñπÊ≥ïÔºåËøô‰πàÂÅöÁöÑÁõÆÁöÑÊòØËß£ÂÜ≥‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ïÁöÑÂéüÁîüÂÆûÁé∞‰ºöÊó†Ê≥ïÁõëÊµãÊï∞ÊçÆÁöÑÂèòÂåñÁöÑÈóÆÈ¢ò„ÄÇÈöèÂêéÔºå‰ºöÈÅçÂéÜÊï∞ÁªÑÊàêÂëòÂπ∂ÈÄê‰∏™ÊâßË°å observe ÂáΩÊï∞ÔºåËøôÊ†∑Â∞±ÂÆûÁé∞‰∫ÜÈÄöËøáÈÄíÂΩíÁöÑÊñπÂºèÁõëÊµãÂ§öÁª¥Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÊàêÂëòÁöÑÊï∞ÊçÆÂèòÂåñ„ÄÇ\n- Ëã• data ÊàñÈÄíÂΩíÊï∞ÁªÑÊàêÂëò‰∏∫**ÂØπË±°Á±ªÂûã**ÔºåÂàô‰ºöÈÅçÂéÜÂπ∂Ë∞ÉÁî® defineReactive ÂáΩÊï∞„ÄÇ\n\nËÄåÂú®ÂàùÂßãÂåñ props Êó∂ÔºåÁªèËøá vm ÂÆû‰æãÈîÆÂêçÁöÑÈáçÂêçÊ†°È™åÂêéÔºåÂêåÊ†∑‰πüÊòØÈÅçÂéÜË∞ÉÁî® [defineReactive](https://github.com/vuejs/vue/blob/3b8925bc7973bb71b33374281db10a945ca9854e/src/core/observer/index.js#L132-L194) ÂáΩÊï∞„ÄÇ\n\ndefineReactive ÂáΩÊï∞ÊòØÂØπÊï∞ÊçÆËøõË°åÂèåÂêëÁªëÂÆöÔºàÊàñÁß∞‰∏∫ÂìçÂ∫îÂºèÂåñÔºâÁöÑÊ†∏ÂøÉ„ÄÇ\n\ndefineReactive ÂáΩÊï∞ÂÜÖÈÉ®ÂÖàÂÆû‰æãÂåñ‰∏Ä‰∏™ [Dep](https://github.com/vuejs/vue/blob/3b8925bc79/src/core/observer/dep.js#L9-L50) Á±ªÔºåËØ•Á±ªÁöÑÂª∫Á´ãÊòØÊê≠Âª∫Ëµ∑Êï∞ÊçÆ‰∏é Watcher ÁöÑÊ°•Ê¢ÅÔºåÂêåÊó∂‰πü‰Ωú‰∏∫Êî∂ÈõÜÂíåÂ≠òÂÇ® Watcher ÁöÑÂÆπÂô®„ÄÇÈöèÂêéÔºåÈÄöËøá Object.defineProperty ÊñπÊ≥ïÊîπÂÜôÁõëÊµãÁöÑÊï∞ÊçÆÂ≠óÊÆµÁöÑ get ÂáΩÊï∞Âíå set ÂáΩÊï∞„ÄÇÂΩìÊàë‰ª¨ËÆøÈóÆÁõëÊµãÁöÑÊï∞ÊçÆÂ≠óÊÆµÁöÑÊó∂ÂÄôÔºå‰ºöËß¶Âèë get ÂáΩÊï∞Ôºåget ÂáΩÊï∞ÂÜÖÈÉ®Âíå set ÂáΩÊï∞ÂÜÖÈÉ®ÈÉΩÂºïÁî®‰∫ÜÂú®‰∏äÂ±Ç‰ΩúÁî®Âüü‰∏≠ÂØπ Dep Á±ªÂÆû‰æãÂåñÁöÑÂ∏∏Èáè dep ÂÆû‰æãÂØπË±°„ÄÇËøôÈáåÂ∑ßÂ¶ôÂú∞ËøêÁî®‰∫ÜÈó≠ÂåÖÁöÑÂéüÁêÜÔºå‰ª•Á°Æ‰øùÊØè‰∏™Êï∞ÊçÆÂ≠óÊÆµÂú®ËÆøÈóÆÂíå‰øÆÊîπÊó∂ÈÉΩÂºïÁî®ÁùÄÂ±û‰∫éËá™Â∑±ÁöÑ dep Â∏∏Èáè„ÄÇget ÂáΩÊï∞‰ºöÊâßË°å dep ÁöÑ depend ÊñπÊ≥ïÁî®‰∫é<span style=\"color:red;font-weight:bold\">Êî∂ÈõÜ‰æùËµñ</span>ÔºåËøô‰∫õ‰æùËµñÊòØÂΩìÂâçÊ≠£Âú®ËÆ°ÁÆóÁöÑ WatcherÔºåÂπ∂ÊúÄÁªàÁªèÁî± watcher ÁöÑ addDep Âíå dep ÁöÑ addSub Ê∑ªÂä†Âà∞ dep ÂÆû‰æã‰∏≠ÁöÑ subs Êï∞ÁªÑ‰∏≠Ôºàsubs ÊÑè‰∏∫ Subscriber ËÆ¢ÈòÖËÄÖÔºåËØ•Êï∞ÁªÑÂèØ‰ª•ÁêÜËß£‰∏∫‰æùËµñÊî∂ÈõÜÁöÑÂ≠òÂÇ®ÂÆπÂô®Ôºâ„ÄÇËÄåÂΩì‰øÆÊîπÊï∞ÊçÆÔºàÊâßË°å set ÂáΩÊï∞ÔºâÁöÑÊó∂ÂÄôÔºå‰ºöËß¶Âèë dep ÁöÑ notify ÊñπÊ≥ïÈÅçÂéÜ subs Êï∞ÁªÑ‰∏≠ÁöÑ‰æùËµñÔºà‰πüÂ∞±ÊòØ watcher ÂÆû‰æãÔºâÂπ∂Ë∞ÉÁî®ÂÆÉ‰ª¨ÂéüÂûã‰∏äÁöÑ update ÊñπÊ≥ïÂíå run ÊñπÊ≥ïÔºåÊúÄÁªàÈÄöÁü•Ëøô‰∫õËÆ¢ÈòÖËÄÖÊâßË°å<span style=\"color:red;font-weight:bold\">Ê¥æÂèëÊõ¥Êñ∞</span>ÁöÑÈÄªËæë„ÄÇËøô‰∏§‰∏™ÂáΩÊï∞ËÉåÂêéÁöÑÊâßË°åË∑ØÂæÑÂú® dep ÂÆû‰æãÂíå watcher ÂÆû‰æã‰πãÈó¥Á©øÊ¢≠ÔºåËøôÊ†∑ÂÆûÁé∞ÁöÑÁõÆÁöÑ‰ªéÊ∫êÁ†ÅÂàÜÊûêÊù•ÁúãÔºåÊòØ‰∏∫‰∫ÜÂå∫ÂàÜ‰∏çÂêåÁöÑ WatcherÔºàÊúâ renderWatcher„ÄÅcomputedWatcher Âíå userWatcherÔºåÂêéÈù¢‰ºöÊèêÂèäÔºâ‰ª•Âèä‰ΩúÁõ∏Â∫îÁöÑÊÄßËÉΩ‰ºòÂåñÔºàË≠¨Â¶ÇÈÅøÂÖçÈáçÂ§çÊî∂ÈõÜ‰æùËµñÊàñÂü∫‰∫éÁªÑ‰ª∂Â±ÇÁ∫ß‰ΩúÁºìÂ≠òÂ§ÑÁêÜÁ≠âÔºâ„ÄÇ\n\nÊÄªÁªì get ÂáΩÊï∞Âíå set ÂáΩÊï∞ÁöÑËß¶ÂèëÊó∂Êú∫Ôºå‰ª•ÂèäÂÖ∂ËÅåËÉΩÂäüÁî®Ôºö\n\n- get ÂáΩÊï∞Âú®**ËÆøÈóÆ**Êï∞ÊçÆÂ≠óÊÆµÊó∂Ëß¶ÂèëÔºåÂÖ∂‰∏ªË¶ÅËÅåËÉΩÊòØ**Ëé∑ÂèñÁõëÊµãÊï∞ÊçÆÂ≠óÊÆµÁöÑÂÄº**Âπ∂Ëß¶Âèë Watcher ÁöÑ**‰æùËµñÊî∂ÈõÜ**„ÄÇ\n- set ÂáΩÊï∞Âú®ÂØπÊï∞ÊçÆÂ≠óÊÆµ**‰øÆÊîπ**Êó∂Ëß¶ÂèëÔºå‰∏ªË¶ÅËÅåË¥£ÊòØ**ÂØπÊñ∞ÁöÑËµãÂÄºËøõË°åÂìçÂ∫îÂºèÂåñ**‰ª•ÂèäÂêë Watcher **Ê¥æÂèëÊõ¥Êñ∞**Ôºå‰ªéËÄåËß¶ÂèëËßÜÂõæÁöÑÈáçÊ∏≤Êüì„ÄÇ\n\nË∞àÂà∞ËøôÈáåËÇØÂÆö‰ºöÊúâ‰∏™ÁñëÈóÆÔºå get ÂáΩÊï∞ÊâÄÊî∂ÈõÜÁöÑ‰æùËµñÂÖ∑‰ΩìÊòØ‰ªÄ‰πàÔºü‰æùËµñÊòØÂ¶Ç‰ΩïË¢´Êî∂ÈõÜÁöÑÔºüset ÂáΩÊï∞ÊòØÂ¶Ç‰ΩïÈÄöÁü•ÊâÄÊúâÁöÑ Watcher Êõ¥Êñ∞ÁöÑÔºüÊ¥æÂèëÊõ¥Êñ∞ÁöÑËøáÁ®ãÁ©∂Á´üÂÅö‰∫Ü‰ªÄ‰πàÔºüËøô‰∫õÁñëÈóÆÈÉΩÂú®‰∏ãËäÇÊè≠Êôì„ÄÇ\n\n## Ê∏≤ÊüìÂáΩÊï∞\n\nÂú®Ë∞àÂèä‰æùËµñÁöÑËøΩË∏™ÂíåËß¶ÂèëÂâçÔºåÊàë‰ª¨ÊúâÂøÖË¶ÅÂÖà‰∫ÜËß£ **„Äå‰æùËµñ„Äç** Ëøô‰∏™ÈÇ£‰πàËôöÁöÑÂêçËØçÁî® JavaScript ËØ≠Ë®ÄÊÄé‰πàÊèèËø∞„ÄÇ\n\nË∞àÂèäÂèåÂêëÊï∞ÊçÆÁªëÂÆöÔºåËøôÈáåÊâÄÊåáÁöÑÂèåÂêëÊåáÁöÑÂ∞±ÊòØ Data Âà∞ View ‰ª•Âèä View Âà∞ Data ÁöÑÁªìÂêà„ÄÇ‰ΩìÁé∞Âú®Êàë‰ª¨ÁöÑ‰ª£Á†Å‰∏≠ÔºåÂ∞±ÊòØ Vue ÁöÑÈÖçÁΩÆÈÄâÈ°πÂç≥‰∏∫ Data ÁöÑÂÇ®Â≠òÂÆπÂô®ÔºåËÄå template Âç≥‰∏∫Ê¶ÇÂøµ‰∏äÁöÑ View„ÄÇÊàë‰ª¨Áü•ÈÅìÊµèËßàÂô®Âú®ËØªÂèñ JavaScript ËÑöÊú¨Êñá‰ª∂ÂêéÂøÖÁÑ∂ÁªèÂéÜ DOM Êìç‰ΩúÊñπÂèØÂ∞ÜÁõ∏ÂÖ≥Êï∞ÊçÆÊ∏≤ÊüìÂà∞ DOM Ê†ë‰∏≠ÔºåÊØîÂ¶Ç‰ΩøÁî®Â≠óÁ¨¶‰∏≤Ê®°Áâà innerHTML ÊàñÈÄöËøá appendChild„ÄÅinsertBefore Á≠â DOM ËäÇÁÇπÊìç‰ΩúÊèíÂÖ•„ÄÇ\n\nÂú® Vue ‰∏≠ÔºåÊ®°Áâà template ‰ºöÁªèÁî± Compiler Ë¢´ÁºñËØëÊàêÊ∏≤ÊüìÂáΩÊï∞ÔºàRender FunctionÔºâÔºå‰ª•‰∏ã‰ª•Áõ¥ËßÇÁöÑÊÑüÂèó‰ΩìÈ™åÊ®°ÁâàÂíåÊ∏≤ÊüìÂáΩÊï∞ÁöÑË°®Áé∞ÂΩ¢Âºè„ÄÇ\n\n```html\n<div id=\"foo\">\n  <p>{{name}}</p>\n</div>\n```\n\n```js\n// ÁºñËØëÁîüÊàêÁöÑÊ∏≤ÊüìÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞\nfunction anonymous() {\n  with(this) {\n    return _c('div',\n      { attrs: {\"id\": \"foo\" }},\n      { _v(\"\\n      \"+s_(name)+\"\\n    \")}\n    )\n  }\n}\n```\n\nÁªèÁºñËØëÁîüÊàêÂêéÁöÑÊ∏≤ÊüìÂáΩÊï∞‰ºöË¢´ÊåÇËΩΩËá≥ÂØπÂ∫î vm ÁªÑ‰ª∂ÂÆû‰æãÁöÑ `$options.render` Â±ûÊÄß‰∏ã„ÄÇ\n\nËøôÈáå‰πüËß£ÂºÄ‰∫ÜÁªëÂÆöÁöÑÊï∞ÊçÆÂ≠óÊÆµÊòØÂ¶Ç‰ΩïÂíåÂú®Âì™ÈáåËß¶Âèë getter Âíå setter ÁöÑ‰∫Ü„ÄÇ\n\n‰∏ãÈù¢Êàë‰ª¨Ë∞àË∞àÊ∏≤ÊüìÂáΩÊï∞‰∏é‰æùËµñËøΩË∏™ÂÖ≥Á≥ª„ÄÇ\n\n## ËøΩË∏™‰æùËµñÂèäÂìçÂ∫îÂèòÂåñ\n\nÂú® Vue ÂàõÂª∫ËøáÁ®ã‰∏≠ÔºåÊ∏≤ÊüìËßÜÂõæÁöÑÂÖ•Âè£‰∏∫ `_init` ÂáΩÊï∞‰∏≠ÊâßË°å vm ÂÆû‰æãÂØπË±°ÁöÑ `$mount` ÂáΩÊï∞„ÄÇÂØπ‰∫éÊØè‰∏™ÁªÑ‰ª∂ËÄåË®ÄÔºåÂÆÉÈÉΩ‰ºöÊâßË°åÁªÑ‰ª∂ÁöÑ `$mount` ÊñπÊ≥ïÔºåËÄå‰∏çÂêåÁºñËØëÁâàÊú¨ÁöÑ `$mount` ÊâßË°åÁöÑËêΩËÑöÁÇπÈÉΩÊòØ mountComponent ÂáΩÊï∞„ÄÇ\n\nmountComponent ÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ [updateComponent](https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L169-L192) ÂáΩÊï∞ÔºåËÄå updateComponent ÂáΩÊï∞ÁöÑÂÜÖÈÉ®‰ª• `vm._render()` ÂáΩÊï∞ÁöÑËøîÂõûÂÄº‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Ë∞ÉÁî® `vm._update()` ÂáΩÊï∞„ÄÇÊ≠§Â§ÑÊàë‰ª¨Âè™ÈúÄÁÆÄÂçïÂú∞ËÆ§‰∏∫Ôºö\n\n- `vm._render` ÂáΩÊï∞ÁöÑ‰ΩúÁî®Â∞±ÊòØÊ†πÊçÆÊ∏≤ÊüìÂáΩÊï∞Ôºà`vm.$options.render`ÔºâËøîÂõûÁîüÊàêÁöÑËôöÊãüËäÇÁÇπ\n- `vm._update` ÂáΩÊï∞ÁöÑ‰ΩúÁî®Â∞±ÊòØÊää `vm._render` ÂáΩÊï∞ÁîüÊàêÁöÑËôöÊãüËäÇÁÇπÊ∏≤ÊüìÊàêÁúüÊ≠£ÁöÑ DOM ËäÇÁÇπ\n\nÂõ†Ê≠§ÔºåÂØπ‰∫é updateComponent ËÄåË®ÄÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÂÆÉÁêÜËß£‰∏∫ÊääËôöÊãü DOM ËΩ¨Âåñ‰∏∫ÁúüÂÆû DOM ÁöÑËøáÁ®ã„ÄÇ\n\nÂú® [mountComponet](https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L141-L213) ÂáΩÊï∞ÂÜÖÈÉ®Èô§‰∫ÜÂÆö‰πâ‰ªéËôöÊãü DOM Âà∞ÁúüÂÆû DOM ÁöÑÊâßË°åÂáΩÊï∞Â§ñÔºåËøòÊää updateComponent ‰Ωú‰∏∫Á¨¨‰∏ÄÂèÇÊï∞‰º†ÂÖ•ÂÆû‰æãÂåñÁöÑ Watcher ‰∏≠„ÄÇ\n\nÊ≠§Êó∂ÁöÑ [Watcher ÂÆû‰æãÂØπË±°](https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L197-L203)Ë¢´Áß∞‰∏∫ render watcherÔºà‰∫¶Âç≥<span style=\"color:red;font-weight:bold\">Ê∏≤ÊüìÂáΩÊï∞ÁöÑËßÇÂØüËÄÖ</span>Ôºâ„ÄÇËÄåÂÆû‰æãÂåñËøáÁ®ã‰∏≠ Watcher ‰ºöÂØπ updateComponent ÂáΩÊï∞Ê±ÇÂÄºÔºåËÄå updateComponent ÂáΩÊï∞ÁöÑÊâßË°å‰ºöÈó¥Êé•Ëß¶ÂèëÊ∏≤ÊüìÂáΩÊï∞Ôºà`vm.$options.render`ÔºâÁöÑÊâßË°åÔºåËÄåÊ∏≤ÊüìÂáΩÊï∞ÁöÑÊâßË°åÂàô‰ºöËß¶ÂèëÊï∞ÊçÆÂ≠óÊÆµÔºàÂåÖÊã¨ data„ÄÅprops Êàñ computed Á≠âÈÖçÁΩÆÈÄâÈ°πÂØπË±°ÁöÑÂ≠êÂ≠ôÂ±ûÊÄßÔºâÁöÑ get Êã¶Êà™Âô®ÂáΩÊï∞ÔºåËøõËÄåÂ∞ÜËØ• render watcher Êî∂ÈõÜÂà∞‰æùËµñÂÆπÂô®ÂÜÖÔºå‰πüÂ∞± dep ÂÆû‰æãÂØπË±°‰∏≠ÁöÑ subs Êï∞ÁªÑ‰∏≠Ôºå‰ªéËÄåÂÆûÁé∞**‰æùËµñÊî∂ÈõÜ**„ÄÇËøô‰∏™ dep ÂÆû‰æãÂØπË±°Â±û‰∫éÊï∞ÊçÆÂ≠óÊÆµËá™Ë∫´ÊâÄÊåÅÊúâÔºåËøôÊ†∑ÂΩìÊàë‰ª¨Â∞ùËØï‰øÆÊîπÁõ∏Â∫îÊï∞ÊçÆÂ≠óÊÆµÁöÑÂÄºÁöÑÊó∂ÂÄôÔºåÁ®ãÂ∫è‰ºöËß¶ÂèëÊï∞ÊçÆÂ≠óÊÆµÁöÑ set Êã¶Êà™Âô®ÂáΩÊï∞ÈáåÁöÑ dep.notifyÔºå‰ªéËÄåËß¶Âèë render watcher ÁöÑ updateÔºåÁÑ∂ÂêéÊâßË°åÂÖ∂ run ÊñπÊ≥ïÔºåÊâßË°åËøáÁ®ãÊúÄÁªà‰ºöË∞ÉÁî® updateComponent ÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ï‰ºöÈáçÊñ∞ËøõË°åËßÜÂõæÊ∏≤Êüì„ÄÇËøôÊ†∑Ëß¶Âèë set Êã¶Êà™ÂáΩÊï∞Âπ∂ÈÄöËøá‰∏ÄÁ≥ªÂàóÊìç‰ΩúÂêéÊõ¥Êñ∞ËßÜÂõæÁöÑËøáÁ®ãÁß∞‰∏∫**Ê¥æÂèëÊõ¥Êñ∞**„ÄÇ\n\nËøΩË∏™‰æùËµñÁ§∫ÊÑèÊµÅÁ®ãÂõæÔºö\n\nÁî±‰∫é mountComponent ‰Ωú‰∏∫Êï∞ÊçÆÊõ¥Êñ∞ËßÜÂõæÁöÑÂáΩÊï∞ÔºåÈÇ£‰πàËÇØÂÆöÊòØÈ¢ëÁπÅË∞ÉÁî®ÁöÑÔºåÊç¢Ë®Ä‰πãÂáΩÊï∞ÂÜÖÈÉ®‰ºö‰∏çÊñ≠ÈáçÂ§çÂÆû‰æãÂåñ WatcherÔºå‰ΩÜÂÆûÈôÖ‰∏äÂØπ‰∫éÊï∞ÊçÆË°®ËææÂºèÁöÑ‰æùËµñËøΩË∏™‰∏çÂøÖÈáçÂ§çÊâßË°åËØ•ÊµÅÁ®ã„ÄÇÂú® Watcher ÂÆû‰æãÂÜÖÈÉ®ÈÄöËøáÂîØ‰∏ÄÊ†áËØÜÂå∫ÂàÜ watcher ÂÆû‰æãÔºåÂπ∂‰ª•Ê†áËØÜÈõÜÂêà‰Ωú‰∏∫Âå∫ÂàÜ‰æùÊçÆÔºåÈÅøÂÖç‰∫Ü**‰∏ÄÊ¨°Ê±ÇÂÄºËøáÁ®ã‰∏≠Êî∂ÈõÜÈáçÂ§ç‰æùËµñ**‰ª•Âèä**Â§öÊ¨°Ê±ÇÂÄºÊî∂ÈõÜÈáçÂ§ç‰æùËµñ**‰∏§Á±ªÈóÆÈ¢ò„ÄÇ\n\n## ËÆ°ÁÆóÂ±ûÊÄß\n\nËÆ°ÁÆóÂ±ûÊÄß computed Âú® [initComputed](https://github.com/vuejs/vue/blob/dev/src/core/instance/state.js#L169-L208) ÂáΩÊï∞‰∏≠ÊûÑÂª∫„ÄÇ\n\nÂØπ‰∫é computed ËÆ°ÁÆóÂ±ûÊÄßËÄåË®ÄÔºåÂÆûÈôÖ‰∏ä‰ºöÂú®ÂÜÖÈÉ®ÂàõÂª∫‰∏Ä‰∏™ computed watcherÔºåÊØè‰∏™ computed watcher ‰ºöÊåÅÊúâ‰∏Ä‰∏™ Dep ÂÆû‰æãÔºåÂΩìÊàë‰ª¨ËÆøÈóÆ computed Â±ûÊÄßÁöÑÊó∂ÂÄôÔºå‰ºöË∞ÉÁî® computed watcher ÁöÑ [evaluate](https://github.com/vuejs/vue/blob/dev/src/core/observer/watcher.js#L210-L213) ÊñπÊ≥ïÔºåËøôÊó∂ÂÄô‰ºöËß¶ÂèëÂÖ∂ÊåÅÊúâÁöÑ depend ÊñπÊ≥ïÁî®‰∫éÊî∂ÈõÜ‰æùËµñÔºåÂêåÊó∂‰πü‰ºöÊî∂ÈõÜÂà∞Ê≠£Âú®ËÆ°ÁÆóÁöÑ watcherÔºåÁÑ∂ÂêéÊääÂÆÉËÆ°ÁÆóÁöÑ watcher ‰Ωú‰∏∫ Dep ÁöÑ Subscriber ËÆ¢ÈòÖËÄÖÊî∂ÈõÜËµ∑Êù•ÔºåÊî∂ÈõÜËµ∑Êù•ÁöÑ‰ΩúÁî®Â∞±ÊòØÂΩìËÆ°ÁÆóÂ±ûÊÄßÊâÄ‰æùËµñÁöÑÂÄºÂèëÁîüÂèòÂåñ‰ª•ÂêéÔºå‰ºöËß¶Âèë computed watcher ÈáçÊñ∞ËÆ°ÁÆóÔºåÂ¶ÇÊûúÈáçÊñ∞ËÆ°ÁÆóËøáÁ®ã‰∏≠ËÆ°ÁÆóÁªìÊûúÂèò‰∫Ü‰πü‰ºöË∞ÉÁî® dep ÁöÑ notify ÊñπÊ≥ïÔºåÁÑ∂ÂêéÈÄöÁü•ËÆ¢ÈòÖ computed ÁöÑËÆ¢ÈòÖËÄÖËß¶ÂèëÁõ∏ÂÖ≥ÁöÑÊõ¥Êñ∞„ÄÇËøôÁ±ª watcher Êúâ‰∏™ÁâπÁÇπÔºöÂΩìËÆ°ÁÆóÂ±ûÊÄß‰æùËµñ‰∫éÂÖ∂‰ªñÊï∞ÊçÆÊó∂ÔºåÂ±ûÊÄßÂπ∂‰∏ç‰ºöÁ´ãÂç≥ÈáçÊñ∞ËÆ°ÁÆóÔºåÂè™Êúâ‰πãÂêéÂÖ∂‰ªñÂú∞ÊñπÈúÄË¶ÅËØªÂèñÂ±ûÊÄßÁöÑÊó∂ÂÄôÔºåÂÆÉÊâç‰ºöÁúüÊ≠£ËÆ°ÁÆóÔºåÂç≥ÂÖ∑Â§á lazyÔºàÊáíËÆ°ÁÆóÔºâÁâπÊÄßÔºåËøôÁ±ª watcher ÁöÑ expression ÊòØËÆ°ÁÆóÂ±ûÊÄßÁöÑ‰∏≠ÁöÑÂ±ûÊÄßÂêç„ÄÇ\n\n## ‰æ¶Âê¨Â±ûÊÄß\n\n‰æ¶Âê¨Â±ûÊÄß watch Âú® [Vue.prototype.\\$watch](https://github.com/vuejs/vue/blob/dev/src/core/instance/state.js#L303-L317) ÂáΩÊï∞‰∏≠ÊûÑÂª∫„ÄÇ\n\nÂØπ‰∫éÈÖçÁΩÆÁöÑ watch Êï∞ÊçÆÂØπË±°ËÄåË®ÄÔºå‰ºöÂÆûÁé∞Âü∫‰∫é Watcher ÁöÑÂ∞ÅË£ÖÂπ∂ÂàõÂª∫ user watcherÔºåÂèØ‰ª•ÁêÜËß£‰∏∫Áî®Êà∑ÁöÑ watcherÔºå‰πüÂ∞±ÊòØÁî±ÂºÄÂèëËÄÖËá™ÂÆö‰πâÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂÆÉÂèØ‰ª•ËßÇÂØü data ÁöÑÂèòÂåñÔºå‰πüÂèØ‰ª•ËßÇÂØü computed ÁöÑÂèòÂåñ„ÄÇÂΩìËøô‰∫õÊï∞ÊçÆÂèëÁîüÂèòÂåñ‰ª•ÂêéÔºå‰ºöÈÄöÁü•Ëøô‰∏™ËØ• watch Êï∞ÊçÆÂØπË±°ÁöÑ Dep ÂÆû‰æãÁÑ∂ÂêéË∞ÉÁî®Ëøô‰∏™ Dep ÂÆû‰æãÂéªÈÅçÂéÜÊâÄÊúâ user watchersÔºåÁÑ∂ÂêéË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑ update ÊñπÊ≥ïÔºåÁÑ∂ÂêéÊ±ÇÂÄºÂèëÁîüÊñ∞ÊóßÂÄºÂèòÂåñÂ∞±‰ºöËß¶Âèë run ÊâßË°åÁî®Êà∑ÂÆö‰πâÁöÑÂõûË∞ÉÂáΩÊï∞Ôºàuser callbackÔºâ„ÄÇ\n\n## Êî∂Ëé∑\n\n- ÂØπ Vue Â§ÑÁêÜÈÖçÁΩÆÈÄâÈ°πÁöÑÊï∞ÊçÆÂ≠óÊÆµ‰∏éËßÜÂõæÊï∞ÊçÆÁªëÂÆöÁöÑÂ∑•‰ΩúÊµÅÁ®ã‰ª•ÂèäÂìçÂ∫îÂºèÁ≥ªÁªüÁöÑÂ∑•‰ΩúÊµÅÁ®ãÊúâÂÆåÊï¥ÁöÑËÆ§ËØÜÔºåÂä†Ê∑±‰∫ÜËß£Áõ∏ÂÖ≥ÈÖçÁΩÆÊàñ API ÁöÑ What Âíå WhyÔºåÂÆö‰ΩçÊ°ÜÊû∂Áõ∏ÂÖ≥ÈóÆÈ¢òÁöÑÊó∂ÂÄôÊõ¥Âø´ÈÄü\n- Â≠¶‰ºö‰∫ÜÂæàÂ§öÁºñÁ†ÅÂ±ÇÈù¢ÁöÑ‰ºòÂåñÊñπÂºèÔºåÊ†πÊçÆÊµÅÁ®ãÈÅøÂºÄÈùûÊúÄ‰Ω≥ÁöÑÂÜôÊ≥ïÔºåËÆ©Ê°ÜÊû∂‰ª•ÊúÄÁü≠Ë∑ØÂæÑÂÆåÊàêÂèåÂêëÁªëÂÆöÁöÑÂ∑•‰ΩúÔºåÂ∞ΩÁÆ°‰ª•Áé∞Êó∂ JavaScript ÂºïÊìéÁöÑÊÄßËÉΩËÄåË®ÄÔºåËøô‰∫õ‰ºòÂåñÊòæÂæóÂæÆ‰∏çË∂≥ÈÅìÔºå‰ΩÜËøΩÊ±ÇÊûÅËá¥ÁöÑ‰ª£Á†Å‰π¶ÂÜôÂ∫îËØ•ÊòØÊØè‰∏™Â∑•Á®ãÂ∏àÂ∫îËØ•ÂÖ∑Â§áÁöÑÁ¥†ÂÖª\n- Âú®‰∫ÜËß£ÁîöËá≥ËØªÊáÇÊ∫êÁ†ÅÂÆûÁé∞ÂéüÁêÜÁöÑÂâçÊèê‰∏ãÔºåËã•ÈÅáÂà∞ÊäÄÊúØÈÄâÂûãÊàñÁº∫Èô∑Ê≤ªÁêÜÁ≠âÊÉÖÂÜµÔºå‰∏é‰ªñ‰∫∫ÂçèÂïÜÁöÑÊ≤üÈÄöÊàêÊú¨ËÉΩÂ§ßÂπÖ‰∏ãÈôçÔºåÊúÄÈáçË¶ÅÁöÑÊòØÊöó‰∏≠ËßÇÂØü‰∏öÁïåÂ§ß‰Ω¨Âú®ËÆ®ËÆ∫ÈóÆÈ¢òÊó∂Ëµ∑Á†Å‰∏ç‰ºöÂÜç‰∏ÄËÑ∏ÊáµÈÄº„ÄÇ\n\n## Todo\n\n- Vue ÂàùÂßãÂåñÊµÅÁ®ãÔºöVue API ÊåÇËΩΩÊµÅÁ®ã‰ª•ÂèäÂÆûÁé∞ÂéüÁêÜÔºåËØªÊáÇËøôÈÉ®ÂàÜÊ∫êÁ†ÅÂ∫îËØ•ÂØπ‰∏öÂä°ÂÆûË∑µÂ∏ÆÂä©ÂæàÂ§ß\n- Ê®°ÁâàÁºñËØëÔºåÁªìÂêàÁºñËØëÁõ∏ÂÖ≥ Babel ‰ª•Âèä JSX ÁºñËØëÂÆûÁé∞ÔºåÊé¢Á¥¢ÂâçÁ´ØÁºñËØëÂÆûÁé∞ÊñπÂºè\n- Á†îÁ©∂ Virtual DOM ÁöÑÁÆóÊ≥ï‰∏éÂÆûÁé∞ÔºåÂπ∂‰∏é React ÂÆûÁé∞ÁöÑ Virtual DOM ‰ΩúÊØîËæÉ\n\n## ÂèÇËÄÉËµÑÊñô\n\n- [Vue ÂÆòÊñπ‰∏≠ÊñáÁΩë](https://cn.vuejs.org/)\n  - [Ê∑±ÂÖ•ÂìçÂ∫îÂºèÂéüÁêÜ](https://cn.vuejs.org/v2/guide/reactivity.html)\n  - [Ê∏≤ÊüìÂáΩÊï∞](https://cn.vuejs.org/v2/guide/render-function.html)\n- [Vue ÊäÄÊúØÂÜÖÂπï](http://hcysun.me/vue-design/)\n  - [Êè≠ÂºÄÊï∞ÊçÆÂìçÂ∫îÁ≥ªÁªüÁöÑÈù¢Á∫±](http://hcysun.me/vue-design/art/7vue-reactive.html)\n  - [Ê∏≤ÊüìÂáΩÊï∞ÁöÑËßÇÂØüËÄÖ‰∏éËøõÈò∂ÁöÑÊï∞ÊçÆÂìçÂ∫îÁ≥ªÁªü](http://hcysun.me/vue-design/art/8vue-reactive-dep-watch.html)\n- [Vue ÊäÄÊúØÊè≠Áßò - Ê∑±ÂÖ•ÂìçÂ∫îÂºèÂéüÁêÜ](https://ustbhuangyi.github.io/vue-analysis/reactive/)\n- [Vue ÂèåÂêëÊï∞ÊçÆÁªëÂÆöÂéüÁêÜÂàÜÊûê](https://zhuanlan.zhihu.com/p/21706165?utm_source=wechat_session&utm_medium=social&utm_oi=58000878338048)\n","source":"_posts/analysis-of-vue-responsive-systrm.md","raw":"---\ntitle: Vue ÂìçÂ∫îÂºèÁ≥ªÁªüÂÆûÁé∞Êé¢Á©∂\ndate: '2019-07-04'\n---\n\nÂØπ Vue ÁöÑÂìçÂ∫îÂºèÂéüÁêÜÁöÑÂÆûÁé∞ÂàÜÊûê‰ºº‰πéÂ∑≤ÁªèÊòØÂâçÁ´ØÁïåÁÉÇÂ§ßË°óÁöÑËØùÈ¢òÔºåÂ∞ΩÁÆ°Â¶ÇÊ≠§ÔºåÂú®ÂØπ Vue Ê∫êÁ†ÅÁ†îÁ©∂‰∫Ü‰∏ÄÂë®‰πãÂêéËøòÊòØÊÉ≥Â∞ùËØïÁî®Ëá™Â∑±ÁöÑËØ≠Ë®ÄÊääÊï¥‰∏™ÂÆûÁé∞ÂéüÁêÜËÆ∞ÂΩï‰∏ãÊù•„ÄÇ\n\nËøô‰ªΩÁ†îÁ©∂**‰∏ç‰ºöÂØπÊ∫êÁ†Å‰ΩúÈÄêË°åËß£ËØª**ÔºåÂè™‰ºöÂØπÂìçÂ∫îÂºèÁ≥ªÁªüÁöÑÊµÅÁ®ã‰∏≠ Vue ÂØπ‰∏çÂêåÊÉÖÂÜµÁöÑÂ§ÑÁêÜÊñπÂºè‰ª•ÂèäÊï∞ÊçÆÁöÑÊµÅÂêëÂèôËø∞Ê∏ÖÊ•ö„ÄÇ\n\nÂºÄÂ±ÄÂÄüÁî® [ustbhuangyi](https://github.com/ustbhuangyi) ÁöÑ‰∏ÄÂº†ÂõæÔºåÂØπÊï¥‰∏™ÂìçÂ∫îÂºèÁ≥ªÁªüÊúâ‰∏™ÂÆèËßÇÁöÑÊ¶ÇÂøµ„ÄÇ\n\nVue ÁöÑÂìçÂ∫îÂºèÂéüÁêÜÁöÑÊ†∏ÂøÉÂ∞±ÊòØËßÇÂØüËøô‰∫õÊï∞ÊçÆÔºåÂåÖÊã¨ data„ÄÅprops„ÄÅcomputed Âíå watch ÁöÑÂèòÂåñÔºåÂΩìËøô‰∫õÊï∞ÊçÆÂèëÁîüÂèòÂåñ‰ª•ÂêéÔºåËÉΩÈÄöÁü•Âà∞ÂØπÂ∫îÁöÑËßÇÂØüËÄÖÔºàWatcherÔºâ‰ª•ÂÆûÁé∞Áõ∏ÂÖ≥ÁöÑÈÄªËæëÔºå‰ªéËÄåÈ©±Âä®ËßÜÂõæÁöÑÊõ¥Êñ∞„ÄÇÊï¥‰∏™ÂìçÂ∫îÂºèÂéüÁêÜÊúÄÊ†∏ÂøÉÁöÑÂÆûÁé∞Â∞±ÊòØ Dep Á±ªÔºàËØ≠‰πâ‰∏∫‰æùËµñ DependencyÔºâÔºåËøô‰∏™Á±ªÂÆûÈôÖ‰∏äÊòØËøûÊé•**Êï∞ÊçÆÂØπË±°**‰∏é**ËßÇÂØüËÄÖ**ÁöÑÊ°•Ê¢Å„ÄÇ\n\n![Vue Reactive](https://img.mrsingsing.com/vue-reactive-workflow.png)\n\n<!-- more -->\n\n## ÂèåÂêëÁªëÂÆö\n\nÂú® Vue ÂàùÂßãÂåñÈò∂ÊÆµÔºå‰ºöÂØπ‰º†ÂÖ•ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÈÖçÁΩÆÂØπË±°Ê†πÊçÆ‰∏çÂêåÁöÑÈÄâÈ°π‰ΩúÁõ∏ÂÖ≥ÁöÑÂ§ÑÁêÜ„ÄÇ\n\nÂØπ‰∫é data Âíå props ËÄåË®ÄÔºåVue ‰ºöÈÄöËøá observe Âíå defineReactive Á≠â‰∏ÄÁ≥ªÂàóÁöÑÊìç‰ΩúÊää data Âíå props ÁöÑÊØè‰∏™Â±ûÊÄßÂèòÊàêÂìçÂ∫îÂºèÂ±ûÊÄß„ÄÇ\n\nÂú®ÂàùÂßãÂåñ data ËøáÁ®ã‰∏≠Ôºådata Êï∞ÊçÆÂØπË±°ÁªèÁî± observe ‰ª•ÂèÇÊï∞ÂΩ¢Âºè‰º†ÂÖ• Observer Á±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞„ÄÇÂú®ÂÆû‰æãÂåñËøáÁ®ã‰∏≠ÔºåObserver ‰ºöÊ†πÊçÆ data ÁöÑÊï∞ÊçÆÁ±ªÂûãÊâßË°åÁõ∏ÂÖ≥ÁöÑÊìç‰Ωú„ÄÇ\n\n- Ëã• data ‰∏∫**Êï∞ÁªÑÁ±ªÂûã**ÔºåObserver ‰ºöÊîπÂÜôËØ•Êï∞ÁªÑÂéüÂûã‰∏≠ÁöÑÂèòÂºÇÊñπÊ≥ïÔºàMutation MethodÔºâÔºåÂåÖÊã¨ push„ÄÅpop„ÄÅshift„ÄÅunshift„ÄÅsplice„ÄÅsort Âíå revers ÂÖ±‰∏É‰∏™ÊñπÊ≥ïÔºåËøô‰πàÂÅöÁöÑÁõÆÁöÑÊòØËß£ÂÜ≥‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ïÁöÑÂéüÁîüÂÆûÁé∞‰ºöÊó†Ê≥ïÁõëÊµãÊï∞ÊçÆÁöÑÂèòÂåñÁöÑÈóÆÈ¢ò„ÄÇÈöèÂêéÔºå‰ºöÈÅçÂéÜÊï∞ÁªÑÊàêÂëòÂπ∂ÈÄê‰∏™ÊâßË°å observe ÂáΩÊï∞ÔºåËøôÊ†∑Â∞±ÂÆûÁé∞‰∫ÜÈÄöËøáÈÄíÂΩíÁöÑÊñπÂºèÁõëÊµãÂ§öÁª¥Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÊàêÂëòÁöÑÊï∞ÊçÆÂèòÂåñ„ÄÇ\n- Ëã• data ÊàñÈÄíÂΩíÊï∞ÁªÑÊàêÂëò‰∏∫**ÂØπË±°Á±ªÂûã**ÔºåÂàô‰ºöÈÅçÂéÜÂπ∂Ë∞ÉÁî® defineReactive ÂáΩÊï∞„ÄÇ\n\nËÄåÂú®ÂàùÂßãÂåñ props Êó∂ÔºåÁªèËøá vm ÂÆû‰æãÈîÆÂêçÁöÑÈáçÂêçÊ†°È™åÂêéÔºåÂêåÊ†∑‰πüÊòØÈÅçÂéÜË∞ÉÁî® [defineReactive](https://github.com/vuejs/vue/blob/3b8925bc7973bb71b33374281db10a945ca9854e/src/core/observer/index.js#L132-L194) ÂáΩÊï∞„ÄÇ\n\ndefineReactive ÂáΩÊï∞ÊòØÂØπÊï∞ÊçÆËøõË°åÂèåÂêëÁªëÂÆöÔºàÊàñÁß∞‰∏∫ÂìçÂ∫îÂºèÂåñÔºâÁöÑÊ†∏ÂøÉ„ÄÇ\n\ndefineReactive ÂáΩÊï∞ÂÜÖÈÉ®ÂÖàÂÆû‰æãÂåñ‰∏Ä‰∏™ [Dep](https://github.com/vuejs/vue/blob/3b8925bc79/src/core/observer/dep.js#L9-L50) Á±ªÔºåËØ•Á±ªÁöÑÂª∫Á´ãÊòØÊê≠Âª∫Ëµ∑Êï∞ÊçÆ‰∏é Watcher ÁöÑÊ°•Ê¢ÅÔºåÂêåÊó∂‰πü‰Ωú‰∏∫Êî∂ÈõÜÂíåÂ≠òÂÇ® Watcher ÁöÑÂÆπÂô®„ÄÇÈöèÂêéÔºåÈÄöËøá Object.defineProperty ÊñπÊ≥ïÊîπÂÜôÁõëÊµãÁöÑÊï∞ÊçÆÂ≠óÊÆµÁöÑ get ÂáΩÊï∞Âíå set ÂáΩÊï∞„ÄÇÂΩìÊàë‰ª¨ËÆøÈóÆÁõëÊµãÁöÑÊï∞ÊçÆÂ≠óÊÆµÁöÑÊó∂ÂÄôÔºå‰ºöËß¶Âèë get ÂáΩÊï∞Ôºåget ÂáΩÊï∞ÂÜÖÈÉ®Âíå set ÂáΩÊï∞ÂÜÖÈÉ®ÈÉΩÂºïÁî®‰∫ÜÂú®‰∏äÂ±Ç‰ΩúÁî®Âüü‰∏≠ÂØπ Dep Á±ªÂÆû‰æãÂåñÁöÑÂ∏∏Èáè dep ÂÆû‰æãÂØπË±°„ÄÇËøôÈáåÂ∑ßÂ¶ôÂú∞ËøêÁî®‰∫ÜÈó≠ÂåÖÁöÑÂéüÁêÜÔºå‰ª•Á°Æ‰øùÊØè‰∏™Êï∞ÊçÆÂ≠óÊÆµÂú®ËÆøÈóÆÂíå‰øÆÊîπÊó∂ÈÉΩÂºïÁî®ÁùÄÂ±û‰∫éËá™Â∑±ÁöÑ dep Â∏∏Èáè„ÄÇget ÂáΩÊï∞‰ºöÊâßË°å dep ÁöÑ depend ÊñπÊ≥ïÁî®‰∫é<span style=\"color:red;font-weight:bold\">Êî∂ÈõÜ‰æùËµñ</span>ÔºåËøô‰∫õ‰æùËµñÊòØÂΩìÂâçÊ≠£Âú®ËÆ°ÁÆóÁöÑ WatcherÔºåÂπ∂ÊúÄÁªàÁªèÁî± watcher ÁöÑ addDep Âíå dep ÁöÑ addSub Ê∑ªÂä†Âà∞ dep ÂÆû‰æã‰∏≠ÁöÑ subs Êï∞ÁªÑ‰∏≠Ôºàsubs ÊÑè‰∏∫ Subscriber ËÆ¢ÈòÖËÄÖÔºåËØ•Êï∞ÁªÑÂèØ‰ª•ÁêÜËß£‰∏∫‰æùËµñÊî∂ÈõÜÁöÑÂ≠òÂÇ®ÂÆπÂô®Ôºâ„ÄÇËÄåÂΩì‰øÆÊîπÊï∞ÊçÆÔºàÊâßË°å set ÂáΩÊï∞ÔºâÁöÑÊó∂ÂÄôÔºå‰ºöËß¶Âèë dep ÁöÑ notify ÊñπÊ≥ïÈÅçÂéÜ subs Êï∞ÁªÑ‰∏≠ÁöÑ‰æùËµñÔºà‰πüÂ∞±ÊòØ watcher ÂÆû‰æãÔºâÂπ∂Ë∞ÉÁî®ÂÆÉ‰ª¨ÂéüÂûã‰∏äÁöÑ update ÊñπÊ≥ïÂíå run ÊñπÊ≥ïÔºåÊúÄÁªàÈÄöÁü•Ëøô‰∫õËÆ¢ÈòÖËÄÖÊâßË°å<span style=\"color:red;font-weight:bold\">Ê¥æÂèëÊõ¥Êñ∞</span>ÁöÑÈÄªËæë„ÄÇËøô‰∏§‰∏™ÂáΩÊï∞ËÉåÂêéÁöÑÊâßË°åË∑ØÂæÑÂú® dep ÂÆû‰æãÂíå watcher ÂÆû‰æã‰πãÈó¥Á©øÊ¢≠ÔºåËøôÊ†∑ÂÆûÁé∞ÁöÑÁõÆÁöÑ‰ªéÊ∫êÁ†ÅÂàÜÊûêÊù•ÁúãÔºåÊòØ‰∏∫‰∫ÜÂå∫ÂàÜ‰∏çÂêåÁöÑ WatcherÔºàÊúâ renderWatcher„ÄÅcomputedWatcher Âíå userWatcherÔºåÂêéÈù¢‰ºöÊèêÂèäÔºâ‰ª•Âèä‰ΩúÁõ∏Â∫îÁöÑÊÄßËÉΩ‰ºòÂåñÔºàË≠¨Â¶ÇÈÅøÂÖçÈáçÂ§çÊî∂ÈõÜ‰æùËµñÊàñÂü∫‰∫éÁªÑ‰ª∂Â±ÇÁ∫ß‰ΩúÁºìÂ≠òÂ§ÑÁêÜÁ≠âÔºâ„ÄÇ\n\nÊÄªÁªì get ÂáΩÊï∞Âíå set ÂáΩÊï∞ÁöÑËß¶ÂèëÊó∂Êú∫Ôºå‰ª•ÂèäÂÖ∂ËÅåËÉΩÂäüÁî®Ôºö\n\n- get ÂáΩÊï∞Âú®**ËÆøÈóÆ**Êï∞ÊçÆÂ≠óÊÆµÊó∂Ëß¶ÂèëÔºåÂÖ∂‰∏ªË¶ÅËÅåËÉΩÊòØ**Ëé∑ÂèñÁõëÊµãÊï∞ÊçÆÂ≠óÊÆµÁöÑÂÄº**Âπ∂Ëß¶Âèë Watcher ÁöÑ**‰æùËµñÊî∂ÈõÜ**„ÄÇ\n- set ÂáΩÊï∞Âú®ÂØπÊï∞ÊçÆÂ≠óÊÆµ**‰øÆÊîπ**Êó∂Ëß¶ÂèëÔºå‰∏ªË¶ÅËÅåË¥£ÊòØ**ÂØπÊñ∞ÁöÑËµãÂÄºËøõË°åÂìçÂ∫îÂºèÂåñ**‰ª•ÂèäÂêë Watcher **Ê¥æÂèëÊõ¥Êñ∞**Ôºå‰ªéËÄåËß¶ÂèëËßÜÂõæÁöÑÈáçÊ∏≤Êüì„ÄÇ\n\nË∞àÂà∞ËøôÈáåËÇØÂÆö‰ºöÊúâ‰∏™ÁñëÈóÆÔºå get ÂáΩÊï∞ÊâÄÊî∂ÈõÜÁöÑ‰æùËµñÂÖ∑‰ΩìÊòØ‰ªÄ‰πàÔºü‰æùËµñÊòØÂ¶Ç‰ΩïË¢´Êî∂ÈõÜÁöÑÔºüset ÂáΩÊï∞ÊòØÂ¶Ç‰ΩïÈÄöÁü•ÊâÄÊúâÁöÑ Watcher Êõ¥Êñ∞ÁöÑÔºüÊ¥æÂèëÊõ¥Êñ∞ÁöÑËøáÁ®ãÁ©∂Á´üÂÅö‰∫Ü‰ªÄ‰πàÔºüËøô‰∫õÁñëÈóÆÈÉΩÂú®‰∏ãËäÇÊè≠Êôì„ÄÇ\n\n## Ê∏≤ÊüìÂáΩÊï∞\n\nÂú®Ë∞àÂèä‰æùËµñÁöÑËøΩË∏™ÂíåËß¶ÂèëÂâçÔºåÊàë‰ª¨ÊúâÂøÖË¶ÅÂÖà‰∫ÜËß£ **„Äå‰æùËµñ„Äç** Ëøô‰∏™ÈÇ£‰πàËôöÁöÑÂêçËØçÁî® JavaScript ËØ≠Ë®ÄÊÄé‰πàÊèèËø∞„ÄÇ\n\nË∞àÂèäÂèåÂêëÊï∞ÊçÆÁªëÂÆöÔºåËøôÈáåÊâÄÊåáÁöÑÂèåÂêëÊåáÁöÑÂ∞±ÊòØ Data Âà∞ View ‰ª•Âèä View Âà∞ Data ÁöÑÁªìÂêà„ÄÇ‰ΩìÁé∞Âú®Êàë‰ª¨ÁöÑ‰ª£Á†Å‰∏≠ÔºåÂ∞±ÊòØ Vue ÁöÑÈÖçÁΩÆÈÄâÈ°πÂç≥‰∏∫ Data ÁöÑÂÇ®Â≠òÂÆπÂô®ÔºåËÄå template Âç≥‰∏∫Ê¶ÇÂøµ‰∏äÁöÑ View„ÄÇÊàë‰ª¨Áü•ÈÅìÊµèËßàÂô®Âú®ËØªÂèñ JavaScript ËÑöÊú¨Êñá‰ª∂ÂêéÂøÖÁÑ∂ÁªèÂéÜ DOM Êìç‰ΩúÊñπÂèØÂ∞ÜÁõ∏ÂÖ≥Êï∞ÊçÆÊ∏≤ÊüìÂà∞ DOM Ê†ë‰∏≠ÔºåÊØîÂ¶Ç‰ΩøÁî®Â≠óÁ¨¶‰∏≤Ê®°Áâà innerHTML ÊàñÈÄöËøá appendChild„ÄÅinsertBefore Á≠â DOM ËäÇÁÇπÊìç‰ΩúÊèíÂÖ•„ÄÇ\n\nÂú® Vue ‰∏≠ÔºåÊ®°Áâà template ‰ºöÁªèÁî± Compiler Ë¢´ÁºñËØëÊàêÊ∏≤ÊüìÂáΩÊï∞ÔºàRender FunctionÔºâÔºå‰ª•‰∏ã‰ª•Áõ¥ËßÇÁöÑÊÑüÂèó‰ΩìÈ™åÊ®°ÁâàÂíåÊ∏≤ÊüìÂáΩÊï∞ÁöÑË°®Áé∞ÂΩ¢Âºè„ÄÇ\n\n```html\n<div id=\"foo\">\n  <p>{{name}}</p>\n</div>\n```\n\n```js\n// ÁºñËØëÁîüÊàêÁöÑÊ∏≤ÊüìÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞\nfunction anonymous() {\n  with(this) {\n    return _c('div',\n      { attrs: {\"id\": \"foo\" }},\n      { _v(\"\\n      \"+s_(name)+\"\\n    \")}\n    )\n  }\n}\n```\n\nÁªèÁºñËØëÁîüÊàêÂêéÁöÑÊ∏≤ÊüìÂáΩÊï∞‰ºöË¢´ÊåÇËΩΩËá≥ÂØπÂ∫î vm ÁªÑ‰ª∂ÂÆû‰æãÁöÑ `$options.render` Â±ûÊÄß‰∏ã„ÄÇ\n\nËøôÈáå‰πüËß£ÂºÄ‰∫ÜÁªëÂÆöÁöÑÊï∞ÊçÆÂ≠óÊÆµÊòØÂ¶Ç‰ΩïÂíåÂú®Âì™ÈáåËß¶Âèë getter Âíå setter ÁöÑ‰∫Ü„ÄÇ\n\n‰∏ãÈù¢Êàë‰ª¨Ë∞àË∞àÊ∏≤ÊüìÂáΩÊï∞‰∏é‰æùËµñËøΩË∏™ÂÖ≥Á≥ª„ÄÇ\n\n## ËøΩË∏™‰æùËµñÂèäÂìçÂ∫îÂèòÂåñ\n\nÂú® Vue ÂàõÂª∫ËøáÁ®ã‰∏≠ÔºåÊ∏≤ÊüìËßÜÂõæÁöÑÂÖ•Âè£‰∏∫ `_init` ÂáΩÊï∞‰∏≠ÊâßË°å vm ÂÆû‰æãÂØπË±°ÁöÑ `$mount` ÂáΩÊï∞„ÄÇÂØπ‰∫éÊØè‰∏™ÁªÑ‰ª∂ËÄåË®ÄÔºåÂÆÉÈÉΩ‰ºöÊâßË°åÁªÑ‰ª∂ÁöÑ `$mount` ÊñπÊ≥ïÔºåËÄå‰∏çÂêåÁºñËØëÁâàÊú¨ÁöÑ `$mount` ÊâßË°åÁöÑËêΩËÑöÁÇπÈÉΩÊòØ mountComponent ÂáΩÊï∞„ÄÇ\n\nmountComponent ÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ [updateComponent](https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L169-L192) ÂáΩÊï∞ÔºåËÄå updateComponent ÂáΩÊï∞ÁöÑÂÜÖÈÉ®‰ª• `vm._render()` ÂáΩÊï∞ÁöÑËøîÂõûÂÄº‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Ë∞ÉÁî® `vm._update()` ÂáΩÊï∞„ÄÇÊ≠§Â§ÑÊàë‰ª¨Âè™ÈúÄÁÆÄÂçïÂú∞ËÆ§‰∏∫Ôºö\n\n- `vm._render` ÂáΩÊï∞ÁöÑ‰ΩúÁî®Â∞±ÊòØÊ†πÊçÆÊ∏≤ÊüìÂáΩÊï∞Ôºà`vm.$options.render`ÔºâËøîÂõûÁîüÊàêÁöÑËôöÊãüËäÇÁÇπ\n- `vm._update` ÂáΩÊï∞ÁöÑ‰ΩúÁî®Â∞±ÊòØÊää `vm._render` ÂáΩÊï∞ÁîüÊàêÁöÑËôöÊãüËäÇÁÇπÊ∏≤ÊüìÊàêÁúüÊ≠£ÁöÑ DOM ËäÇÁÇπ\n\nÂõ†Ê≠§ÔºåÂØπ‰∫é updateComponent ËÄåË®ÄÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÂÆÉÁêÜËß£‰∏∫ÊääËôöÊãü DOM ËΩ¨Âåñ‰∏∫ÁúüÂÆû DOM ÁöÑËøáÁ®ã„ÄÇ\n\nÂú® [mountComponet](https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L141-L213) ÂáΩÊï∞ÂÜÖÈÉ®Èô§‰∫ÜÂÆö‰πâ‰ªéËôöÊãü DOM Âà∞ÁúüÂÆû DOM ÁöÑÊâßË°åÂáΩÊï∞Â§ñÔºåËøòÊää updateComponent ‰Ωú‰∏∫Á¨¨‰∏ÄÂèÇÊï∞‰º†ÂÖ•ÂÆû‰æãÂåñÁöÑ Watcher ‰∏≠„ÄÇ\n\nÊ≠§Êó∂ÁöÑ [Watcher ÂÆû‰æãÂØπË±°](https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L197-L203)Ë¢´Áß∞‰∏∫ render watcherÔºà‰∫¶Âç≥<span style=\"color:red;font-weight:bold\">Ê∏≤ÊüìÂáΩÊï∞ÁöÑËßÇÂØüËÄÖ</span>Ôºâ„ÄÇËÄåÂÆû‰æãÂåñËøáÁ®ã‰∏≠ Watcher ‰ºöÂØπ updateComponent ÂáΩÊï∞Ê±ÇÂÄºÔºåËÄå updateComponent ÂáΩÊï∞ÁöÑÊâßË°å‰ºöÈó¥Êé•Ëß¶ÂèëÊ∏≤ÊüìÂáΩÊï∞Ôºà`vm.$options.render`ÔºâÁöÑÊâßË°åÔºåËÄåÊ∏≤ÊüìÂáΩÊï∞ÁöÑÊâßË°åÂàô‰ºöËß¶ÂèëÊï∞ÊçÆÂ≠óÊÆµÔºàÂåÖÊã¨ data„ÄÅprops Êàñ computed Á≠âÈÖçÁΩÆÈÄâÈ°πÂØπË±°ÁöÑÂ≠êÂ≠ôÂ±ûÊÄßÔºâÁöÑ get Êã¶Êà™Âô®ÂáΩÊï∞ÔºåËøõËÄåÂ∞ÜËØ• render watcher Êî∂ÈõÜÂà∞‰æùËµñÂÆπÂô®ÂÜÖÔºå‰πüÂ∞± dep ÂÆû‰æãÂØπË±°‰∏≠ÁöÑ subs Êï∞ÁªÑ‰∏≠Ôºå‰ªéËÄåÂÆûÁé∞**‰æùËµñÊî∂ÈõÜ**„ÄÇËøô‰∏™ dep ÂÆû‰æãÂØπË±°Â±û‰∫éÊï∞ÊçÆÂ≠óÊÆµËá™Ë∫´ÊâÄÊåÅÊúâÔºåËøôÊ†∑ÂΩìÊàë‰ª¨Â∞ùËØï‰øÆÊîπÁõ∏Â∫îÊï∞ÊçÆÂ≠óÊÆµÁöÑÂÄºÁöÑÊó∂ÂÄôÔºåÁ®ãÂ∫è‰ºöËß¶ÂèëÊï∞ÊçÆÂ≠óÊÆµÁöÑ set Êã¶Êà™Âô®ÂáΩÊï∞ÈáåÁöÑ dep.notifyÔºå‰ªéËÄåËß¶Âèë render watcher ÁöÑ updateÔºåÁÑ∂ÂêéÊâßË°åÂÖ∂ run ÊñπÊ≥ïÔºåÊâßË°åËøáÁ®ãÊúÄÁªà‰ºöË∞ÉÁî® updateComponent ÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ï‰ºöÈáçÊñ∞ËøõË°åËßÜÂõæÊ∏≤Êüì„ÄÇËøôÊ†∑Ëß¶Âèë set Êã¶Êà™ÂáΩÊï∞Âπ∂ÈÄöËøá‰∏ÄÁ≥ªÂàóÊìç‰ΩúÂêéÊõ¥Êñ∞ËßÜÂõæÁöÑËøáÁ®ãÁß∞‰∏∫**Ê¥æÂèëÊõ¥Êñ∞**„ÄÇ\n\nËøΩË∏™‰æùËµñÁ§∫ÊÑèÊµÅÁ®ãÂõæÔºö\n\nÁî±‰∫é mountComponent ‰Ωú‰∏∫Êï∞ÊçÆÊõ¥Êñ∞ËßÜÂõæÁöÑÂáΩÊï∞ÔºåÈÇ£‰πàËÇØÂÆöÊòØÈ¢ëÁπÅË∞ÉÁî®ÁöÑÔºåÊç¢Ë®Ä‰πãÂáΩÊï∞ÂÜÖÈÉ®‰ºö‰∏çÊñ≠ÈáçÂ§çÂÆû‰æãÂåñ WatcherÔºå‰ΩÜÂÆûÈôÖ‰∏äÂØπ‰∫éÊï∞ÊçÆË°®ËææÂºèÁöÑ‰æùËµñËøΩË∏™‰∏çÂøÖÈáçÂ§çÊâßË°åËØ•ÊµÅÁ®ã„ÄÇÂú® Watcher ÂÆû‰æãÂÜÖÈÉ®ÈÄöËøáÂîØ‰∏ÄÊ†áËØÜÂå∫ÂàÜ watcher ÂÆû‰æãÔºåÂπ∂‰ª•Ê†áËØÜÈõÜÂêà‰Ωú‰∏∫Âå∫ÂàÜ‰æùÊçÆÔºåÈÅøÂÖç‰∫Ü**‰∏ÄÊ¨°Ê±ÇÂÄºËøáÁ®ã‰∏≠Êî∂ÈõÜÈáçÂ§ç‰æùËµñ**‰ª•Âèä**Â§öÊ¨°Ê±ÇÂÄºÊî∂ÈõÜÈáçÂ§ç‰æùËµñ**‰∏§Á±ªÈóÆÈ¢ò„ÄÇ\n\n## ËÆ°ÁÆóÂ±ûÊÄß\n\nËÆ°ÁÆóÂ±ûÊÄß computed Âú® [initComputed](https://github.com/vuejs/vue/blob/dev/src/core/instance/state.js#L169-L208) ÂáΩÊï∞‰∏≠ÊûÑÂª∫„ÄÇ\n\nÂØπ‰∫é computed ËÆ°ÁÆóÂ±ûÊÄßËÄåË®ÄÔºåÂÆûÈôÖ‰∏ä‰ºöÂú®ÂÜÖÈÉ®ÂàõÂª∫‰∏Ä‰∏™ computed watcherÔºåÊØè‰∏™ computed watcher ‰ºöÊåÅÊúâ‰∏Ä‰∏™ Dep ÂÆû‰æãÔºåÂΩìÊàë‰ª¨ËÆøÈóÆ computed Â±ûÊÄßÁöÑÊó∂ÂÄôÔºå‰ºöË∞ÉÁî® computed watcher ÁöÑ [evaluate](https://github.com/vuejs/vue/blob/dev/src/core/observer/watcher.js#L210-L213) ÊñπÊ≥ïÔºåËøôÊó∂ÂÄô‰ºöËß¶ÂèëÂÖ∂ÊåÅÊúâÁöÑ depend ÊñπÊ≥ïÁî®‰∫éÊî∂ÈõÜ‰æùËµñÔºåÂêåÊó∂‰πü‰ºöÊî∂ÈõÜÂà∞Ê≠£Âú®ËÆ°ÁÆóÁöÑ watcherÔºåÁÑ∂ÂêéÊääÂÆÉËÆ°ÁÆóÁöÑ watcher ‰Ωú‰∏∫ Dep ÁöÑ Subscriber ËÆ¢ÈòÖËÄÖÊî∂ÈõÜËµ∑Êù•ÔºåÊî∂ÈõÜËµ∑Êù•ÁöÑ‰ΩúÁî®Â∞±ÊòØÂΩìËÆ°ÁÆóÂ±ûÊÄßÊâÄ‰æùËµñÁöÑÂÄºÂèëÁîüÂèòÂåñ‰ª•ÂêéÔºå‰ºöËß¶Âèë computed watcher ÈáçÊñ∞ËÆ°ÁÆóÔºåÂ¶ÇÊûúÈáçÊñ∞ËÆ°ÁÆóËøáÁ®ã‰∏≠ËÆ°ÁÆóÁªìÊûúÂèò‰∫Ü‰πü‰ºöË∞ÉÁî® dep ÁöÑ notify ÊñπÊ≥ïÔºåÁÑ∂ÂêéÈÄöÁü•ËÆ¢ÈòÖ computed ÁöÑËÆ¢ÈòÖËÄÖËß¶ÂèëÁõ∏ÂÖ≥ÁöÑÊõ¥Êñ∞„ÄÇËøôÁ±ª watcher Êúâ‰∏™ÁâπÁÇπÔºöÂΩìËÆ°ÁÆóÂ±ûÊÄß‰æùËµñ‰∫éÂÖ∂‰ªñÊï∞ÊçÆÊó∂ÔºåÂ±ûÊÄßÂπ∂‰∏ç‰ºöÁ´ãÂç≥ÈáçÊñ∞ËÆ°ÁÆóÔºåÂè™Êúâ‰πãÂêéÂÖ∂‰ªñÂú∞ÊñπÈúÄË¶ÅËØªÂèñÂ±ûÊÄßÁöÑÊó∂ÂÄôÔºåÂÆÉÊâç‰ºöÁúüÊ≠£ËÆ°ÁÆóÔºåÂç≥ÂÖ∑Â§á lazyÔºàÊáíËÆ°ÁÆóÔºâÁâπÊÄßÔºåËøôÁ±ª watcher ÁöÑ expression ÊòØËÆ°ÁÆóÂ±ûÊÄßÁöÑ‰∏≠ÁöÑÂ±ûÊÄßÂêç„ÄÇ\n\n## ‰æ¶Âê¨Â±ûÊÄß\n\n‰æ¶Âê¨Â±ûÊÄß watch Âú® [Vue.prototype.\\$watch](https://github.com/vuejs/vue/blob/dev/src/core/instance/state.js#L303-L317) ÂáΩÊï∞‰∏≠ÊûÑÂª∫„ÄÇ\n\nÂØπ‰∫éÈÖçÁΩÆÁöÑ watch Êï∞ÊçÆÂØπË±°ËÄåË®ÄÔºå‰ºöÂÆûÁé∞Âü∫‰∫é Watcher ÁöÑÂ∞ÅË£ÖÂπ∂ÂàõÂª∫ user watcherÔºåÂèØ‰ª•ÁêÜËß£‰∏∫Áî®Êà∑ÁöÑ watcherÔºå‰πüÂ∞±ÊòØÁî±ÂºÄÂèëËÄÖËá™ÂÆö‰πâÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂÆÉÂèØ‰ª•ËßÇÂØü data ÁöÑÂèòÂåñÔºå‰πüÂèØ‰ª•ËßÇÂØü computed ÁöÑÂèòÂåñ„ÄÇÂΩìËøô‰∫õÊï∞ÊçÆÂèëÁîüÂèòÂåñ‰ª•ÂêéÔºå‰ºöÈÄöÁü•Ëøô‰∏™ËØ• watch Êï∞ÊçÆÂØπË±°ÁöÑ Dep ÂÆû‰æãÁÑ∂ÂêéË∞ÉÁî®Ëøô‰∏™ Dep ÂÆû‰æãÂéªÈÅçÂéÜÊâÄÊúâ user watchersÔºåÁÑ∂ÂêéË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑ update ÊñπÊ≥ïÔºåÁÑ∂ÂêéÊ±ÇÂÄºÂèëÁîüÊñ∞ÊóßÂÄºÂèòÂåñÂ∞±‰ºöËß¶Âèë run ÊâßË°åÁî®Êà∑ÂÆö‰πâÁöÑÂõûË∞ÉÂáΩÊï∞Ôºàuser callbackÔºâ„ÄÇ\n\n## Êî∂Ëé∑\n\n- ÂØπ Vue Â§ÑÁêÜÈÖçÁΩÆÈÄâÈ°πÁöÑÊï∞ÊçÆÂ≠óÊÆµ‰∏éËßÜÂõæÊï∞ÊçÆÁªëÂÆöÁöÑÂ∑•‰ΩúÊµÅÁ®ã‰ª•ÂèäÂìçÂ∫îÂºèÁ≥ªÁªüÁöÑÂ∑•‰ΩúÊµÅÁ®ãÊúâÂÆåÊï¥ÁöÑËÆ§ËØÜÔºåÂä†Ê∑±‰∫ÜËß£Áõ∏ÂÖ≥ÈÖçÁΩÆÊàñ API ÁöÑ What Âíå WhyÔºåÂÆö‰ΩçÊ°ÜÊû∂Áõ∏ÂÖ≥ÈóÆÈ¢òÁöÑÊó∂ÂÄôÊõ¥Âø´ÈÄü\n- Â≠¶‰ºö‰∫ÜÂæàÂ§öÁºñÁ†ÅÂ±ÇÈù¢ÁöÑ‰ºòÂåñÊñπÂºèÔºåÊ†πÊçÆÊµÅÁ®ãÈÅøÂºÄÈùûÊúÄ‰Ω≥ÁöÑÂÜôÊ≥ïÔºåËÆ©Ê°ÜÊû∂‰ª•ÊúÄÁü≠Ë∑ØÂæÑÂÆåÊàêÂèåÂêëÁªëÂÆöÁöÑÂ∑•‰ΩúÔºåÂ∞ΩÁÆ°‰ª•Áé∞Êó∂ JavaScript ÂºïÊìéÁöÑÊÄßËÉΩËÄåË®ÄÔºåËøô‰∫õ‰ºòÂåñÊòæÂæóÂæÆ‰∏çË∂≥ÈÅìÔºå‰ΩÜËøΩÊ±ÇÊûÅËá¥ÁöÑ‰ª£Á†Å‰π¶ÂÜôÂ∫îËØ•ÊòØÊØè‰∏™Â∑•Á®ãÂ∏àÂ∫îËØ•ÂÖ∑Â§áÁöÑÁ¥†ÂÖª\n- Âú®‰∫ÜËß£ÁîöËá≥ËØªÊáÇÊ∫êÁ†ÅÂÆûÁé∞ÂéüÁêÜÁöÑÂâçÊèê‰∏ãÔºåËã•ÈÅáÂà∞ÊäÄÊúØÈÄâÂûãÊàñÁº∫Èô∑Ê≤ªÁêÜÁ≠âÊÉÖÂÜµÔºå‰∏é‰ªñ‰∫∫ÂçèÂïÜÁöÑÊ≤üÈÄöÊàêÊú¨ËÉΩÂ§ßÂπÖ‰∏ãÈôçÔºåÊúÄÈáçË¶ÅÁöÑÊòØÊöó‰∏≠ËßÇÂØü‰∏öÁïåÂ§ß‰Ω¨Âú®ËÆ®ËÆ∫ÈóÆÈ¢òÊó∂Ëµ∑Á†Å‰∏ç‰ºöÂÜç‰∏ÄËÑ∏ÊáµÈÄº„ÄÇ\n\n## Todo\n\n- Vue ÂàùÂßãÂåñÊµÅÁ®ãÔºöVue API ÊåÇËΩΩÊµÅÁ®ã‰ª•ÂèäÂÆûÁé∞ÂéüÁêÜÔºåËØªÊáÇËøôÈÉ®ÂàÜÊ∫êÁ†ÅÂ∫îËØ•ÂØπ‰∏öÂä°ÂÆûË∑µÂ∏ÆÂä©ÂæàÂ§ß\n- Ê®°ÁâàÁºñËØëÔºåÁªìÂêàÁºñËØëÁõ∏ÂÖ≥ Babel ‰ª•Âèä JSX ÁºñËØëÂÆûÁé∞ÔºåÊé¢Á¥¢ÂâçÁ´ØÁºñËØëÂÆûÁé∞ÊñπÂºè\n- Á†îÁ©∂ Virtual DOM ÁöÑÁÆóÊ≥ï‰∏éÂÆûÁé∞ÔºåÂπ∂‰∏é React ÂÆûÁé∞ÁöÑ Virtual DOM ‰ΩúÊØîËæÉ\n\n## ÂèÇËÄÉËµÑÊñô\n\n- [Vue ÂÆòÊñπ‰∏≠ÊñáÁΩë](https://cn.vuejs.org/)\n  - [Ê∑±ÂÖ•ÂìçÂ∫îÂºèÂéüÁêÜ](https://cn.vuejs.org/v2/guide/reactivity.html)\n  - [Ê∏≤ÊüìÂáΩÊï∞](https://cn.vuejs.org/v2/guide/render-function.html)\n- [Vue ÊäÄÊúØÂÜÖÂπï](http://hcysun.me/vue-design/)\n  - [Êè≠ÂºÄÊï∞ÊçÆÂìçÂ∫îÁ≥ªÁªüÁöÑÈù¢Á∫±](http://hcysun.me/vue-design/art/7vue-reactive.html)\n  - [Ê∏≤ÊüìÂáΩÊï∞ÁöÑËßÇÂØüËÄÖ‰∏éËøõÈò∂ÁöÑÊï∞ÊçÆÂìçÂ∫îÁ≥ªÁªü](http://hcysun.me/vue-design/art/8vue-reactive-dep-watch.html)\n- [Vue ÊäÄÊúØÊè≠Áßò - Ê∑±ÂÖ•ÂìçÂ∫îÂºèÂéüÁêÜ](https://ustbhuangyi.github.io/vue-analysis/reactive/)\n- [Vue ÂèåÂêëÊï∞ÊçÆÁªëÂÆöÂéüÁêÜÂàÜÊûê](https://zhuanlan.zhihu.com/p/21706165?utm_source=wechat_session&utm_medium=social&utm_oi=58000878338048)\n","slug":"analysis-of-vue-responsive-systrm","published":1,"updated":"2021-09-29T18:08:40.183Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867n6k0001bmjd496k6drt","content":"<p>ÂØπ Vue ÁöÑÂìçÂ∫îÂºèÂéüÁêÜÁöÑÂÆûÁé∞ÂàÜÊûê‰ºº‰πéÂ∑≤ÁªèÊòØÂâçÁ´ØÁïåÁÉÇÂ§ßË°óÁöÑËØùÈ¢òÔºåÂ∞ΩÁÆ°Â¶ÇÊ≠§ÔºåÂú®ÂØπ Vue Ê∫êÁ†ÅÁ†îÁ©∂‰∫Ü‰∏ÄÂë®‰πãÂêéËøòÊòØÊÉ≥Â∞ùËØïÁî®Ëá™Â∑±ÁöÑËØ≠Ë®ÄÊääÊï¥‰∏™ÂÆûÁé∞ÂéüÁêÜËÆ∞ÂΩï‰∏ãÊù•„ÄÇ</p>\n<p>Ëøô‰ªΩÁ†îÁ©∂<strong>‰∏ç‰ºöÂØπÊ∫êÁ†Å‰ΩúÈÄêË°åËß£ËØª</strong>ÔºåÂè™‰ºöÂØπÂìçÂ∫îÂºèÁ≥ªÁªüÁöÑÊµÅÁ®ã‰∏≠ Vue ÂØπ‰∏çÂêåÊÉÖÂÜµÁöÑÂ§ÑÁêÜÊñπÂºè‰ª•ÂèäÊï∞ÊçÆÁöÑÊµÅÂêëÂèôËø∞Ê∏ÖÊ•ö„ÄÇ</p>\n<p>ÂºÄÂ±ÄÂÄüÁî® <a href=\"https://github.com/ustbhuangyi\" target=\"_blank\" rel=\"noopener\">ustbhuangyi</a> ÁöÑ‰∏ÄÂº†ÂõæÔºåÂØπÊï¥‰∏™ÂìçÂ∫îÂºèÁ≥ªÁªüÊúâ‰∏™ÂÆèËßÇÁöÑÊ¶ÇÂøµ„ÄÇ</p>\n<p>Vue ÁöÑÂìçÂ∫îÂºèÂéüÁêÜÁöÑÊ†∏ÂøÉÂ∞±ÊòØËßÇÂØüËøô‰∫õÊï∞ÊçÆÔºåÂåÖÊã¨ data„ÄÅprops„ÄÅcomputed Âíå watch ÁöÑÂèòÂåñÔºåÂΩìËøô‰∫õÊï∞ÊçÆÂèëÁîüÂèòÂåñ‰ª•ÂêéÔºåËÉΩÈÄöÁü•Âà∞ÂØπÂ∫îÁöÑËßÇÂØüËÄÖÔºàWatcherÔºâ‰ª•ÂÆûÁé∞Áõ∏ÂÖ≥ÁöÑÈÄªËæëÔºå‰ªéËÄåÈ©±Âä®ËßÜÂõæÁöÑÊõ¥Êñ∞„ÄÇÊï¥‰∏™ÂìçÂ∫îÂºèÂéüÁêÜÊúÄÊ†∏ÂøÉÁöÑÂÆûÁé∞Â∞±ÊòØ Dep Á±ªÔºàËØ≠‰πâ‰∏∫‰æùËµñ DependencyÔºâÔºåËøô‰∏™Á±ªÂÆûÈôÖ‰∏äÊòØËøûÊé•<strong>Êï∞ÊçÆÂØπË±°</strong>‰∏é<strong>ËßÇÂØüËÄÖ</strong>ÁöÑÊ°•Ê¢Å„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/vue-reactive-workflow.png\" alt=\"Vue Reactive\"></p>\n<a id=\"more\"></a>\n<h2 id=\"ÂèåÂêëÁªëÂÆö\"><a href=\"#ÂèåÂêëÁªëÂÆö\" class=\"headerlink\" title=\"ÂèåÂêëÁªëÂÆö\"></a>ÂèåÂêëÁªëÂÆö</h2><p>Âú® Vue ÂàùÂßãÂåñÈò∂ÊÆµÔºå‰ºöÂØπ‰º†ÂÖ•ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÈÖçÁΩÆÂØπË±°Ê†πÊçÆ‰∏çÂêåÁöÑÈÄâÈ°π‰ΩúÁõ∏ÂÖ≥ÁöÑÂ§ÑÁêÜ„ÄÇ</p>\n<p>ÂØπ‰∫é data Âíå props ËÄåË®ÄÔºåVue ‰ºöÈÄöËøá observe Âíå defineReactive Á≠â‰∏ÄÁ≥ªÂàóÁöÑÊìç‰ΩúÊää data Âíå props ÁöÑÊØè‰∏™Â±ûÊÄßÂèòÊàêÂìçÂ∫îÂºèÂ±ûÊÄß„ÄÇ</p>\n<p>Âú®ÂàùÂßãÂåñ data ËøáÁ®ã‰∏≠Ôºådata Êï∞ÊçÆÂØπË±°ÁªèÁî± observe ‰ª•ÂèÇÊï∞ÂΩ¢Âºè‰º†ÂÖ• Observer Á±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞„ÄÇÂú®ÂÆû‰æãÂåñËøáÁ®ã‰∏≠ÔºåObserver ‰ºöÊ†πÊçÆ data ÁöÑÊï∞ÊçÆÁ±ªÂûãÊâßË°åÁõ∏ÂÖ≥ÁöÑÊìç‰Ωú„ÄÇ</p>\n<ul>\n<li>Ëã• data ‰∏∫<strong>Êï∞ÁªÑÁ±ªÂûã</strong>ÔºåObserver ‰ºöÊîπÂÜôËØ•Êï∞ÁªÑÂéüÂûã‰∏≠ÁöÑÂèòÂºÇÊñπÊ≥ïÔºàMutation MethodÔºâÔºåÂåÖÊã¨ push„ÄÅpop„ÄÅshift„ÄÅunshift„ÄÅsplice„ÄÅsort Âíå revers ÂÖ±‰∏É‰∏™ÊñπÊ≥ïÔºåËøô‰πàÂÅöÁöÑÁõÆÁöÑÊòØËß£ÂÜ≥‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ïÁöÑÂéüÁîüÂÆûÁé∞‰ºöÊó†Ê≥ïÁõëÊµãÊï∞ÊçÆÁöÑÂèòÂåñÁöÑÈóÆÈ¢ò„ÄÇÈöèÂêéÔºå‰ºöÈÅçÂéÜÊï∞ÁªÑÊàêÂëòÂπ∂ÈÄê‰∏™ÊâßË°å observe ÂáΩÊï∞ÔºåËøôÊ†∑Â∞±ÂÆûÁé∞‰∫ÜÈÄöËøáÈÄíÂΩíÁöÑÊñπÂºèÁõëÊµãÂ§öÁª¥Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÊàêÂëòÁöÑÊï∞ÊçÆÂèòÂåñ„ÄÇ</li>\n<li>Ëã• data ÊàñÈÄíÂΩíÊï∞ÁªÑÊàêÂëò‰∏∫<strong>ÂØπË±°Á±ªÂûã</strong>ÔºåÂàô‰ºöÈÅçÂéÜÂπ∂Ë∞ÉÁî® defineReactive ÂáΩÊï∞„ÄÇ</li>\n</ul>\n<p>ËÄåÂú®ÂàùÂßãÂåñ props Êó∂ÔºåÁªèËøá vm ÂÆû‰æãÈîÆÂêçÁöÑÈáçÂêçÊ†°È™åÂêéÔºåÂêåÊ†∑‰πüÊòØÈÅçÂéÜË∞ÉÁî® <a href=\"https://github.com/vuejs/vue/blob/3b8925bc7973bb71b33374281db10a945ca9854e/src/core/observer/index.js#L132-L194\" target=\"_blank\" rel=\"noopener\">defineReactive</a> ÂáΩÊï∞„ÄÇ</p>\n<p>defineReactive ÂáΩÊï∞ÊòØÂØπÊï∞ÊçÆËøõË°åÂèåÂêëÁªëÂÆöÔºàÊàñÁß∞‰∏∫ÂìçÂ∫îÂºèÂåñÔºâÁöÑÊ†∏ÂøÉ„ÄÇ</p>\n<p>defineReactive ÂáΩÊï∞ÂÜÖÈÉ®ÂÖàÂÆû‰æãÂåñ‰∏Ä‰∏™ <a href=\"https://github.com/vuejs/vue/blob/3b8925bc79/src/core/observer/dep.js#L9-L50\" target=\"_blank\" rel=\"noopener\">Dep</a> Á±ªÔºåËØ•Á±ªÁöÑÂª∫Á´ãÊòØÊê≠Âª∫Ëµ∑Êï∞ÊçÆ‰∏é Watcher ÁöÑÊ°•Ê¢ÅÔºåÂêåÊó∂‰πü‰Ωú‰∏∫Êî∂ÈõÜÂíåÂ≠òÂÇ® Watcher ÁöÑÂÆπÂô®„ÄÇÈöèÂêéÔºåÈÄöËøá Object.defineProperty ÊñπÊ≥ïÊîπÂÜôÁõëÊµãÁöÑÊï∞ÊçÆÂ≠óÊÆµÁöÑ get ÂáΩÊï∞Âíå set ÂáΩÊï∞„ÄÇÂΩìÊàë‰ª¨ËÆøÈóÆÁõëÊµãÁöÑÊï∞ÊçÆÂ≠óÊÆµÁöÑÊó∂ÂÄôÔºå‰ºöËß¶Âèë get ÂáΩÊï∞Ôºåget ÂáΩÊï∞ÂÜÖÈÉ®Âíå set ÂáΩÊï∞ÂÜÖÈÉ®ÈÉΩÂºïÁî®‰∫ÜÂú®‰∏äÂ±Ç‰ΩúÁî®Âüü‰∏≠ÂØπ Dep Á±ªÂÆû‰æãÂåñÁöÑÂ∏∏Èáè dep ÂÆû‰æãÂØπË±°„ÄÇËøôÈáåÂ∑ßÂ¶ôÂú∞ËøêÁî®‰∫ÜÈó≠ÂåÖÁöÑÂéüÁêÜÔºå‰ª•Á°Æ‰øùÊØè‰∏™Êï∞ÊçÆÂ≠óÊÆµÂú®ËÆøÈóÆÂíå‰øÆÊîπÊó∂ÈÉΩÂºïÁî®ÁùÄÂ±û‰∫éËá™Â∑±ÁöÑ dep Â∏∏Èáè„ÄÇget ÂáΩÊï∞‰ºöÊâßË°å dep ÁöÑ depend ÊñπÊ≥ïÁî®‰∫é<span style=\"color:red;font-weight:bold\">Êî∂ÈõÜ‰æùËµñ</span>ÔºåËøô‰∫õ‰æùËµñÊòØÂΩìÂâçÊ≠£Âú®ËÆ°ÁÆóÁöÑ WatcherÔºåÂπ∂ÊúÄÁªàÁªèÁî± watcher ÁöÑ addDep Âíå dep ÁöÑ addSub Ê∑ªÂä†Âà∞ dep ÂÆû‰æã‰∏≠ÁöÑ subs Êï∞ÁªÑ‰∏≠Ôºàsubs ÊÑè‰∏∫ Subscriber ËÆ¢ÈòÖËÄÖÔºåËØ•Êï∞ÁªÑÂèØ‰ª•ÁêÜËß£‰∏∫‰æùËµñÊî∂ÈõÜÁöÑÂ≠òÂÇ®ÂÆπÂô®Ôºâ„ÄÇËÄåÂΩì‰øÆÊîπÊï∞ÊçÆÔºàÊâßË°å set ÂáΩÊï∞ÔºâÁöÑÊó∂ÂÄôÔºå‰ºöËß¶Âèë dep ÁöÑ notify ÊñπÊ≥ïÈÅçÂéÜ subs Êï∞ÁªÑ‰∏≠ÁöÑ‰æùËµñÔºà‰πüÂ∞±ÊòØ watcher ÂÆû‰æãÔºâÂπ∂Ë∞ÉÁî®ÂÆÉ‰ª¨ÂéüÂûã‰∏äÁöÑ update ÊñπÊ≥ïÂíå run ÊñπÊ≥ïÔºåÊúÄÁªàÈÄöÁü•Ëøô‰∫õËÆ¢ÈòÖËÄÖÊâßË°å<span style=\"color:red;font-weight:bold\">Ê¥æÂèëÊõ¥Êñ∞</span>ÁöÑÈÄªËæë„ÄÇËøô‰∏§‰∏™ÂáΩÊï∞ËÉåÂêéÁöÑÊâßË°åË∑ØÂæÑÂú® dep ÂÆû‰æãÂíå watcher ÂÆû‰æã‰πãÈó¥Á©øÊ¢≠ÔºåËøôÊ†∑ÂÆûÁé∞ÁöÑÁõÆÁöÑ‰ªéÊ∫êÁ†ÅÂàÜÊûêÊù•ÁúãÔºåÊòØ‰∏∫‰∫ÜÂå∫ÂàÜ‰∏çÂêåÁöÑ WatcherÔºàÊúâ renderWatcher„ÄÅcomputedWatcher Âíå userWatcherÔºåÂêéÈù¢‰ºöÊèêÂèäÔºâ‰ª•Âèä‰ΩúÁõ∏Â∫îÁöÑÊÄßËÉΩ‰ºòÂåñÔºàË≠¨Â¶ÇÈÅøÂÖçÈáçÂ§çÊî∂ÈõÜ‰æùËµñÊàñÂü∫‰∫éÁªÑ‰ª∂Â±ÇÁ∫ß‰ΩúÁºìÂ≠òÂ§ÑÁêÜÁ≠âÔºâ„ÄÇ</p>\n<p>ÊÄªÁªì get ÂáΩÊï∞Âíå set ÂáΩÊï∞ÁöÑËß¶ÂèëÊó∂Êú∫Ôºå‰ª•ÂèäÂÖ∂ËÅåËÉΩÂäüÁî®Ôºö</p>\n<ul>\n<li>get ÂáΩÊï∞Âú®<strong>ËÆøÈóÆ</strong>Êï∞ÊçÆÂ≠óÊÆµÊó∂Ëß¶ÂèëÔºåÂÖ∂‰∏ªË¶ÅËÅåËÉΩÊòØ<strong>Ëé∑ÂèñÁõëÊµãÊï∞ÊçÆÂ≠óÊÆµÁöÑÂÄº</strong>Âπ∂Ëß¶Âèë Watcher ÁöÑ<strong>‰æùËµñÊî∂ÈõÜ</strong>„ÄÇ</li>\n<li>set ÂáΩÊï∞Âú®ÂØπÊï∞ÊçÆÂ≠óÊÆµ<strong>‰øÆÊîπ</strong>Êó∂Ëß¶ÂèëÔºå‰∏ªË¶ÅËÅåË¥£ÊòØ<strong>ÂØπÊñ∞ÁöÑËµãÂÄºËøõË°åÂìçÂ∫îÂºèÂåñ</strong>‰ª•ÂèäÂêë Watcher <strong>Ê¥æÂèëÊõ¥Êñ∞</strong>Ôºå‰ªéËÄåËß¶ÂèëËßÜÂõæÁöÑÈáçÊ∏≤Êüì„ÄÇ</li>\n</ul>\n<p>Ë∞àÂà∞ËøôÈáåËÇØÂÆö‰ºöÊúâ‰∏™ÁñëÈóÆÔºå get ÂáΩÊï∞ÊâÄÊî∂ÈõÜÁöÑ‰æùËµñÂÖ∑‰ΩìÊòØ‰ªÄ‰πàÔºü‰æùËµñÊòØÂ¶Ç‰ΩïË¢´Êî∂ÈõÜÁöÑÔºüset ÂáΩÊï∞ÊòØÂ¶Ç‰ΩïÈÄöÁü•ÊâÄÊúâÁöÑ Watcher Êõ¥Êñ∞ÁöÑÔºüÊ¥æÂèëÊõ¥Êñ∞ÁöÑËøáÁ®ãÁ©∂Á´üÂÅö‰∫Ü‰ªÄ‰πàÔºüËøô‰∫õÁñëÈóÆÈÉΩÂú®‰∏ãËäÇÊè≠Êôì„ÄÇ</p>\n<h2 id=\"Ê∏≤ÊüìÂáΩÊï∞\"><a href=\"#Ê∏≤ÊüìÂáΩÊï∞\" class=\"headerlink\" title=\"Ê∏≤ÊüìÂáΩÊï∞\"></a>Ê∏≤ÊüìÂáΩÊï∞</h2><p>Âú®Ë∞àÂèä‰æùËµñÁöÑËøΩË∏™ÂíåËß¶ÂèëÂâçÔºåÊàë‰ª¨ÊúâÂøÖË¶ÅÂÖà‰∫ÜËß£ <strong>„Äå‰æùËµñ„Äç</strong> Ëøô‰∏™ÈÇ£‰πàËôöÁöÑÂêçËØçÁî® JavaScript ËØ≠Ë®ÄÊÄé‰πàÊèèËø∞„ÄÇ</p>\n<p>Ë∞àÂèäÂèåÂêëÊï∞ÊçÆÁªëÂÆöÔºåËøôÈáåÊâÄÊåáÁöÑÂèåÂêëÊåáÁöÑÂ∞±ÊòØ Data Âà∞ View ‰ª•Âèä View Âà∞ Data ÁöÑÁªìÂêà„ÄÇ‰ΩìÁé∞Âú®Êàë‰ª¨ÁöÑ‰ª£Á†Å‰∏≠ÔºåÂ∞±ÊòØ Vue ÁöÑÈÖçÁΩÆÈÄâÈ°πÂç≥‰∏∫ Data ÁöÑÂÇ®Â≠òÂÆπÂô®ÔºåËÄå template Âç≥‰∏∫Ê¶ÇÂøµ‰∏äÁöÑ View„ÄÇÊàë‰ª¨Áü•ÈÅìÊµèËßàÂô®Âú®ËØªÂèñ JavaScript ËÑöÊú¨Êñá‰ª∂ÂêéÂøÖÁÑ∂ÁªèÂéÜ DOM Êìç‰ΩúÊñπÂèØÂ∞ÜÁõ∏ÂÖ≥Êï∞ÊçÆÊ∏≤ÊüìÂà∞ DOM Ê†ë‰∏≠ÔºåÊØîÂ¶Ç‰ΩøÁî®Â≠óÁ¨¶‰∏≤Ê®°Áâà innerHTML ÊàñÈÄöËøá appendChild„ÄÅinsertBefore Á≠â DOM ËäÇÁÇπÊìç‰ΩúÊèíÂÖ•„ÄÇ</p>\n<p>Âú® Vue ‰∏≠ÔºåÊ®°Áâà template ‰ºöÁªèÁî± Compiler Ë¢´ÁºñËØëÊàêÊ∏≤ÊüìÂáΩÊï∞ÔºàRender FunctionÔºâÔºå‰ª•‰∏ã‰ª•Áõ¥ËßÇÁöÑÊÑüÂèó‰ΩìÈ™åÊ®°ÁâàÂíåÊ∏≤ÊüìÂáΩÊï∞ÁöÑË°®Áé∞ÂΩ¢Âºè„ÄÇ</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"foo\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ÁºñËØëÁîüÊàêÁöÑÊ∏≤ÊüìÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">anonymous</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">with</span>(<span class=\"keyword\">this</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> _c(<span class=\"string\">'div'</span>,</span><br><span class=\"line\">      &#123; <span class=\"attr\">attrs</span>: &#123;<span class=\"string\">\"id\"</span>: <span class=\"string\">\"foo\"</span> &#125;&#125;,</span><br><span class=\"line\">      &#123; _v(<span class=\"string\">\"\\n      \"</span>+s_(name)+<span class=\"string\">\"\\n    \"</span>)&#125;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÁªèÁºñËØëÁîüÊàêÂêéÁöÑÊ∏≤ÊüìÂáΩÊï∞‰ºöË¢´ÊåÇËΩΩËá≥ÂØπÂ∫î vm ÁªÑ‰ª∂ÂÆû‰æãÁöÑ <code>$options.render</code> Â±ûÊÄß‰∏ã„ÄÇ</p>\n<p>ËøôÈáå‰πüËß£ÂºÄ‰∫ÜÁªëÂÆöÁöÑÊï∞ÊçÆÂ≠óÊÆµÊòØÂ¶Ç‰ΩïÂíåÂú®Âì™ÈáåËß¶Âèë getter Âíå setter ÁöÑ‰∫Ü„ÄÇ</p>\n<p>‰∏ãÈù¢Êàë‰ª¨Ë∞àË∞àÊ∏≤ÊüìÂáΩÊï∞‰∏é‰æùËµñËøΩË∏™ÂÖ≥Á≥ª„ÄÇ</p>\n<h2 id=\"ËøΩË∏™‰æùËµñÂèäÂìçÂ∫îÂèòÂåñ\"><a href=\"#ËøΩË∏™‰æùËµñÂèäÂìçÂ∫îÂèòÂåñ\" class=\"headerlink\" title=\"ËøΩË∏™‰æùËµñÂèäÂìçÂ∫îÂèòÂåñ\"></a>ËøΩË∏™‰æùËµñÂèäÂìçÂ∫îÂèòÂåñ</h2><p>Âú® Vue ÂàõÂª∫ËøáÁ®ã‰∏≠ÔºåÊ∏≤ÊüìËßÜÂõæÁöÑÂÖ•Âè£‰∏∫ <code>_init</code> ÂáΩÊï∞‰∏≠ÊâßË°å vm ÂÆû‰æãÂØπË±°ÁöÑ <code>$mount</code> ÂáΩÊï∞„ÄÇÂØπ‰∫éÊØè‰∏™ÁªÑ‰ª∂ËÄåË®ÄÔºåÂÆÉÈÉΩ‰ºöÊâßË°åÁªÑ‰ª∂ÁöÑ <code>$mount</code> ÊñπÊ≥ïÔºåËÄå‰∏çÂêåÁºñËØëÁâàÊú¨ÁöÑ <code>$mount</code> ÊâßË°åÁöÑËêΩËÑöÁÇπÈÉΩÊòØ mountComponent ÂáΩÊï∞„ÄÇ</p>\n<p>mountComponent ÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ <a href=\"https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L169-L192\" target=\"_blank\" rel=\"noopener\">updateComponent</a> ÂáΩÊï∞ÔºåËÄå updateComponent ÂáΩÊï∞ÁöÑÂÜÖÈÉ®‰ª• <code>vm._render()</code> ÂáΩÊï∞ÁöÑËøîÂõûÂÄº‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Ë∞ÉÁî® <code>vm._update()</code> ÂáΩÊï∞„ÄÇÊ≠§Â§ÑÊàë‰ª¨Âè™ÈúÄÁÆÄÂçïÂú∞ËÆ§‰∏∫Ôºö</p>\n<ul>\n<li><code>vm._render</code> ÂáΩÊï∞ÁöÑ‰ΩúÁî®Â∞±ÊòØÊ†πÊçÆÊ∏≤ÊüìÂáΩÊï∞Ôºà<code>vm.$options.render</code>ÔºâËøîÂõûÁîüÊàêÁöÑËôöÊãüËäÇÁÇπ</li>\n<li><code>vm._update</code> ÂáΩÊï∞ÁöÑ‰ΩúÁî®Â∞±ÊòØÊää <code>vm._render</code> ÂáΩÊï∞ÁîüÊàêÁöÑËôöÊãüËäÇÁÇπÊ∏≤ÊüìÊàêÁúüÊ≠£ÁöÑ DOM ËäÇÁÇπ</li>\n</ul>\n<p>Âõ†Ê≠§ÔºåÂØπ‰∫é updateComponent ËÄåË®ÄÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÂÆÉÁêÜËß£‰∏∫ÊääËôöÊãü DOM ËΩ¨Âåñ‰∏∫ÁúüÂÆû DOM ÁöÑËøáÁ®ã„ÄÇ</p>\n<p>Âú® <a href=\"https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L141-L213\" target=\"_blank\" rel=\"noopener\">mountComponet</a> ÂáΩÊï∞ÂÜÖÈÉ®Èô§‰∫ÜÂÆö‰πâ‰ªéËôöÊãü DOM Âà∞ÁúüÂÆû DOM ÁöÑÊâßË°åÂáΩÊï∞Â§ñÔºåËøòÊää updateComponent ‰Ωú‰∏∫Á¨¨‰∏ÄÂèÇÊï∞‰º†ÂÖ•ÂÆû‰æãÂåñÁöÑ Watcher ‰∏≠„ÄÇ</p>\n<p>Ê≠§Êó∂ÁöÑ <a href=\"https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L197-L203\" target=\"_blank\" rel=\"noopener\">Watcher ÂÆû‰æãÂØπË±°</a>Ë¢´Áß∞‰∏∫ render watcherÔºà‰∫¶Âç≥<span style=\"color:red;font-weight:bold\">Ê∏≤ÊüìÂáΩÊï∞ÁöÑËßÇÂØüËÄÖ</span>Ôºâ„ÄÇËÄåÂÆû‰æãÂåñËøáÁ®ã‰∏≠ Watcher ‰ºöÂØπ updateComponent ÂáΩÊï∞Ê±ÇÂÄºÔºåËÄå updateComponent ÂáΩÊï∞ÁöÑÊâßË°å‰ºöÈó¥Êé•Ëß¶ÂèëÊ∏≤ÊüìÂáΩÊï∞Ôºà<code>vm.$options.render</code>ÔºâÁöÑÊâßË°åÔºåËÄåÊ∏≤ÊüìÂáΩÊï∞ÁöÑÊâßË°åÂàô‰ºöËß¶ÂèëÊï∞ÊçÆÂ≠óÊÆµÔºàÂåÖÊã¨ data„ÄÅprops Êàñ computed Á≠âÈÖçÁΩÆÈÄâÈ°πÂØπË±°ÁöÑÂ≠êÂ≠ôÂ±ûÊÄßÔºâÁöÑ get Êã¶Êà™Âô®ÂáΩÊï∞ÔºåËøõËÄåÂ∞ÜËØ• render watcher Êî∂ÈõÜÂà∞‰æùËµñÂÆπÂô®ÂÜÖÔºå‰πüÂ∞± dep ÂÆû‰æãÂØπË±°‰∏≠ÁöÑ subs Êï∞ÁªÑ‰∏≠Ôºå‰ªéËÄåÂÆûÁé∞<strong>‰æùËµñÊî∂ÈõÜ</strong>„ÄÇËøô‰∏™ dep ÂÆû‰æãÂØπË±°Â±û‰∫éÊï∞ÊçÆÂ≠óÊÆµËá™Ë∫´ÊâÄÊåÅÊúâÔºåËøôÊ†∑ÂΩìÊàë‰ª¨Â∞ùËØï‰øÆÊîπÁõ∏Â∫îÊï∞ÊçÆÂ≠óÊÆµÁöÑÂÄºÁöÑÊó∂ÂÄôÔºåÁ®ãÂ∫è‰ºöËß¶ÂèëÊï∞ÊçÆÂ≠óÊÆµÁöÑ set Êã¶Êà™Âô®ÂáΩÊï∞ÈáåÁöÑ dep.notifyÔºå‰ªéËÄåËß¶Âèë render watcher ÁöÑ updateÔºåÁÑ∂ÂêéÊâßË°åÂÖ∂ run ÊñπÊ≥ïÔºåÊâßË°åËøáÁ®ãÊúÄÁªà‰ºöË∞ÉÁî® updateComponent ÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ï‰ºöÈáçÊñ∞ËøõË°åËßÜÂõæÊ∏≤Êüì„ÄÇËøôÊ†∑Ëß¶Âèë set Êã¶Êà™ÂáΩÊï∞Âπ∂ÈÄöËøá‰∏ÄÁ≥ªÂàóÊìç‰ΩúÂêéÊõ¥Êñ∞ËßÜÂõæÁöÑËøáÁ®ãÁß∞‰∏∫<strong>Ê¥æÂèëÊõ¥Êñ∞</strong>„ÄÇ</p>\n<p>ËøΩË∏™‰æùËµñÁ§∫ÊÑèÊµÅÁ®ãÂõæÔºö</p>\n<p>Áî±‰∫é mountComponent ‰Ωú‰∏∫Êï∞ÊçÆÊõ¥Êñ∞ËßÜÂõæÁöÑÂáΩÊï∞ÔºåÈÇ£‰πàËÇØÂÆöÊòØÈ¢ëÁπÅË∞ÉÁî®ÁöÑÔºåÊç¢Ë®Ä‰πãÂáΩÊï∞ÂÜÖÈÉ®‰ºö‰∏çÊñ≠ÈáçÂ§çÂÆû‰æãÂåñ WatcherÔºå‰ΩÜÂÆûÈôÖ‰∏äÂØπ‰∫éÊï∞ÊçÆË°®ËææÂºèÁöÑ‰æùËµñËøΩË∏™‰∏çÂøÖÈáçÂ§çÊâßË°åËØ•ÊµÅÁ®ã„ÄÇÂú® Watcher ÂÆû‰æãÂÜÖÈÉ®ÈÄöËøáÂîØ‰∏ÄÊ†áËØÜÂå∫ÂàÜ watcher ÂÆû‰æãÔºåÂπ∂‰ª•Ê†áËØÜÈõÜÂêà‰Ωú‰∏∫Âå∫ÂàÜ‰æùÊçÆÔºåÈÅøÂÖç‰∫Ü<strong>‰∏ÄÊ¨°Ê±ÇÂÄºËøáÁ®ã‰∏≠Êî∂ÈõÜÈáçÂ§ç‰æùËµñ</strong>‰ª•Âèä<strong>Â§öÊ¨°Ê±ÇÂÄºÊî∂ÈõÜÈáçÂ§ç‰æùËµñ</strong>‰∏§Á±ªÈóÆÈ¢ò„ÄÇ</p>\n<h2 id=\"ËÆ°ÁÆóÂ±ûÊÄß\"><a href=\"#ËÆ°ÁÆóÂ±ûÊÄß\" class=\"headerlink\" title=\"ËÆ°ÁÆóÂ±ûÊÄß\"></a>ËÆ°ÁÆóÂ±ûÊÄß</h2><p>ËÆ°ÁÆóÂ±ûÊÄß computed Âú® <a href=\"https://github.com/vuejs/vue/blob/dev/src/core/instance/state.js#L169-L208\" target=\"_blank\" rel=\"noopener\">initComputed</a> ÂáΩÊï∞‰∏≠ÊûÑÂª∫„ÄÇ</p>\n<p>ÂØπ‰∫é computed ËÆ°ÁÆóÂ±ûÊÄßËÄåË®ÄÔºåÂÆûÈôÖ‰∏ä‰ºöÂú®ÂÜÖÈÉ®ÂàõÂª∫‰∏Ä‰∏™ computed watcherÔºåÊØè‰∏™ computed watcher ‰ºöÊåÅÊúâ‰∏Ä‰∏™ Dep ÂÆû‰æãÔºåÂΩìÊàë‰ª¨ËÆøÈóÆ computed Â±ûÊÄßÁöÑÊó∂ÂÄôÔºå‰ºöË∞ÉÁî® computed watcher ÁöÑ <a href=\"https://github.com/vuejs/vue/blob/dev/src/core/observer/watcher.js#L210-L213\" target=\"_blank\" rel=\"noopener\">evaluate</a> ÊñπÊ≥ïÔºåËøôÊó∂ÂÄô‰ºöËß¶ÂèëÂÖ∂ÊåÅÊúâÁöÑ depend ÊñπÊ≥ïÁî®‰∫éÊî∂ÈõÜ‰æùËµñÔºåÂêåÊó∂‰πü‰ºöÊî∂ÈõÜÂà∞Ê≠£Âú®ËÆ°ÁÆóÁöÑ watcherÔºåÁÑ∂ÂêéÊääÂÆÉËÆ°ÁÆóÁöÑ watcher ‰Ωú‰∏∫ Dep ÁöÑ Subscriber ËÆ¢ÈòÖËÄÖÊî∂ÈõÜËµ∑Êù•ÔºåÊî∂ÈõÜËµ∑Êù•ÁöÑ‰ΩúÁî®Â∞±ÊòØÂΩìËÆ°ÁÆóÂ±ûÊÄßÊâÄ‰æùËµñÁöÑÂÄºÂèëÁîüÂèòÂåñ‰ª•ÂêéÔºå‰ºöËß¶Âèë computed watcher ÈáçÊñ∞ËÆ°ÁÆóÔºåÂ¶ÇÊûúÈáçÊñ∞ËÆ°ÁÆóËøáÁ®ã‰∏≠ËÆ°ÁÆóÁªìÊûúÂèò‰∫Ü‰πü‰ºöË∞ÉÁî® dep ÁöÑ notify ÊñπÊ≥ïÔºåÁÑ∂ÂêéÈÄöÁü•ËÆ¢ÈòÖ computed ÁöÑËÆ¢ÈòÖËÄÖËß¶ÂèëÁõ∏ÂÖ≥ÁöÑÊõ¥Êñ∞„ÄÇËøôÁ±ª watcher Êúâ‰∏™ÁâπÁÇπÔºöÂΩìËÆ°ÁÆóÂ±ûÊÄß‰æùËµñ‰∫éÂÖ∂‰ªñÊï∞ÊçÆÊó∂ÔºåÂ±ûÊÄßÂπ∂‰∏ç‰ºöÁ´ãÂç≥ÈáçÊñ∞ËÆ°ÁÆóÔºåÂè™Êúâ‰πãÂêéÂÖ∂‰ªñÂú∞ÊñπÈúÄË¶ÅËØªÂèñÂ±ûÊÄßÁöÑÊó∂ÂÄôÔºåÂÆÉÊâç‰ºöÁúüÊ≠£ËÆ°ÁÆóÔºåÂç≥ÂÖ∑Â§á lazyÔºàÊáíËÆ°ÁÆóÔºâÁâπÊÄßÔºåËøôÁ±ª watcher ÁöÑ expression ÊòØËÆ°ÁÆóÂ±ûÊÄßÁöÑ‰∏≠ÁöÑÂ±ûÊÄßÂêç„ÄÇ</p>\n<h2 id=\"‰æ¶Âê¨Â±ûÊÄß\"><a href=\"#‰æ¶Âê¨Â±ûÊÄß\" class=\"headerlink\" title=\"‰æ¶Âê¨Â±ûÊÄß\"></a>‰æ¶Âê¨Â±ûÊÄß</h2><p>‰æ¶Âê¨Â±ûÊÄß watch Âú® <a href=\"https://github.com/vuejs/vue/blob/dev/src/core/instance/state.js#L303-L317\" target=\"_blank\" rel=\"noopener\">Vue.prototype.\\$watch</a> ÂáΩÊï∞‰∏≠ÊûÑÂª∫„ÄÇ</p>\n<p>ÂØπ‰∫éÈÖçÁΩÆÁöÑ watch Êï∞ÊçÆÂØπË±°ËÄåË®ÄÔºå‰ºöÂÆûÁé∞Âü∫‰∫é Watcher ÁöÑÂ∞ÅË£ÖÂπ∂ÂàõÂª∫ user watcherÔºåÂèØ‰ª•ÁêÜËß£‰∏∫Áî®Êà∑ÁöÑ watcherÔºå‰πüÂ∞±ÊòØÁî±ÂºÄÂèëËÄÖËá™ÂÆö‰πâÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂÆÉÂèØ‰ª•ËßÇÂØü data ÁöÑÂèòÂåñÔºå‰πüÂèØ‰ª•ËßÇÂØü computed ÁöÑÂèòÂåñ„ÄÇÂΩìËøô‰∫õÊï∞ÊçÆÂèëÁîüÂèòÂåñ‰ª•ÂêéÔºå‰ºöÈÄöÁü•Ëøô‰∏™ËØ• watch Êï∞ÊçÆÂØπË±°ÁöÑ Dep ÂÆû‰æãÁÑ∂ÂêéË∞ÉÁî®Ëøô‰∏™ Dep ÂÆû‰æãÂéªÈÅçÂéÜÊâÄÊúâ user watchersÔºåÁÑ∂ÂêéË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑ update ÊñπÊ≥ïÔºåÁÑ∂ÂêéÊ±ÇÂÄºÂèëÁîüÊñ∞ÊóßÂÄºÂèòÂåñÂ∞±‰ºöËß¶Âèë run ÊâßË°åÁî®Êà∑ÂÆö‰πâÁöÑÂõûË∞ÉÂáΩÊï∞Ôºàuser callbackÔºâ„ÄÇ</p>\n<h2 id=\"Êî∂Ëé∑\"><a href=\"#Êî∂Ëé∑\" class=\"headerlink\" title=\"Êî∂Ëé∑\"></a>Êî∂Ëé∑</h2><ul>\n<li>ÂØπ Vue Â§ÑÁêÜÈÖçÁΩÆÈÄâÈ°πÁöÑÊï∞ÊçÆÂ≠óÊÆµ‰∏éËßÜÂõæÊï∞ÊçÆÁªëÂÆöÁöÑÂ∑•‰ΩúÊµÅÁ®ã‰ª•ÂèäÂìçÂ∫îÂºèÁ≥ªÁªüÁöÑÂ∑•‰ΩúÊµÅÁ®ãÊúâÂÆåÊï¥ÁöÑËÆ§ËØÜÔºåÂä†Ê∑±‰∫ÜËß£Áõ∏ÂÖ≥ÈÖçÁΩÆÊàñ API ÁöÑ What Âíå WhyÔºåÂÆö‰ΩçÊ°ÜÊû∂Áõ∏ÂÖ≥ÈóÆÈ¢òÁöÑÊó∂ÂÄôÊõ¥Âø´ÈÄü</li>\n<li>Â≠¶‰ºö‰∫ÜÂæàÂ§öÁºñÁ†ÅÂ±ÇÈù¢ÁöÑ‰ºòÂåñÊñπÂºèÔºåÊ†πÊçÆÊµÅÁ®ãÈÅøÂºÄÈùûÊúÄ‰Ω≥ÁöÑÂÜôÊ≥ïÔºåËÆ©Ê°ÜÊû∂‰ª•ÊúÄÁü≠Ë∑ØÂæÑÂÆåÊàêÂèåÂêëÁªëÂÆöÁöÑÂ∑•‰ΩúÔºåÂ∞ΩÁÆ°‰ª•Áé∞Êó∂ JavaScript ÂºïÊìéÁöÑÊÄßËÉΩËÄåË®ÄÔºåËøô‰∫õ‰ºòÂåñÊòæÂæóÂæÆ‰∏çË∂≥ÈÅìÔºå‰ΩÜËøΩÊ±ÇÊûÅËá¥ÁöÑ‰ª£Á†Å‰π¶ÂÜôÂ∫îËØ•ÊòØÊØè‰∏™Â∑•Á®ãÂ∏àÂ∫îËØ•ÂÖ∑Â§áÁöÑÁ¥†ÂÖª</li>\n<li>Âú®‰∫ÜËß£ÁîöËá≥ËØªÊáÇÊ∫êÁ†ÅÂÆûÁé∞ÂéüÁêÜÁöÑÂâçÊèê‰∏ãÔºåËã•ÈÅáÂà∞ÊäÄÊúØÈÄâÂûãÊàñÁº∫Èô∑Ê≤ªÁêÜÁ≠âÊÉÖÂÜµÔºå‰∏é‰ªñ‰∫∫ÂçèÂïÜÁöÑÊ≤üÈÄöÊàêÊú¨ËÉΩÂ§ßÂπÖ‰∏ãÈôçÔºåÊúÄÈáçË¶ÅÁöÑÊòØÊöó‰∏≠ËßÇÂØü‰∏öÁïåÂ§ß‰Ω¨Âú®ËÆ®ËÆ∫ÈóÆÈ¢òÊó∂Ëµ∑Á†Å‰∏ç‰ºöÂÜç‰∏ÄËÑ∏ÊáµÈÄº„ÄÇ</li>\n</ul>\n<h2 id=\"Todo\"><a href=\"#Todo\" class=\"headerlink\" title=\"Todo\"></a>Todo</h2><ul>\n<li>Vue ÂàùÂßãÂåñÊµÅÁ®ãÔºöVue API ÊåÇËΩΩÊµÅÁ®ã‰ª•ÂèäÂÆûÁé∞ÂéüÁêÜÔºåËØªÊáÇËøôÈÉ®ÂàÜÊ∫êÁ†ÅÂ∫îËØ•ÂØπ‰∏öÂä°ÂÆûË∑µÂ∏ÆÂä©ÂæàÂ§ß</li>\n<li>Ê®°ÁâàÁºñËØëÔºåÁªìÂêàÁºñËØëÁõ∏ÂÖ≥ Babel ‰ª•Âèä JSX ÁºñËØëÂÆûÁé∞ÔºåÊé¢Á¥¢ÂâçÁ´ØÁºñËØëÂÆûÁé∞ÊñπÂºè</li>\n<li>Á†îÁ©∂ Virtual DOM ÁöÑÁÆóÊ≥ï‰∏éÂÆûÁé∞ÔºåÂπ∂‰∏é React ÂÆûÁé∞ÁöÑ Virtual DOM ‰ΩúÊØîËæÉ</li>\n</ul>\n<h2 id=\"ÂèÇËÄÉËµÑÊñô\"><a href=\"#ÂèÇËÄÉËµÑÊñô\" class=\"headerlink\" title=\"ÂèÇËÄÉËµÑÊñô\"></a>ÂèÇËÄÉËµÑÊñô</h2><ul>\n<li><a href=\"https://cn.vuejs.org/\" target=\"_blank\" rel=\"noopener\">Vue ÂÆòÊñπ‰∏≠ÊñáÁΩë</a><ul>\n<li><a href=\"https://cn.vuejs.org/v2/guide/reactivity.html\" target=\"_blank\" rel=\"noopener\">Ê∑±ÂÖ•ÂìçÂ∫îÂºèÂéüÁêÜ</a></li>\n<li><a href=\"https://cn.vuejs.org/v2/guide/render-function.html\" target=\"_blank\" rel=\"noopener\">Ê∏≤ÊüìÂáΩÊï∞</a></li>\n</ul>\n</li>\n<li><a href=\"http://hcysun.me/vue-design/\" target=\"_blank\" rel=\"noopener\">Vue ÊäÄÊúØÂÜÖÂπï</a><ul>\n<li><a href=\"http://hcysun.me/vue-design/art/7vue-reactive.html\" target=\"_blank\" rel=\"noopener\">Êè≠ÂºÄÊï∞ÊçÆÂìçÂ∫îÁ≥ªÁªüÁöÑÈù¢Á∫±</a></li>\n<li><a href=\"http://hcysun.me/vue-design/art/8vue-reactive-dep-watch.html\" target=\"_blank\" rel=\"noopener\">Ê∏≤ÊüìÂáΩÊï∞ÁöÑËßÇÂØüËÄÖ‰∏éËøõÈò∂ÁöÑÊï∞ÊçÆÂìçÂ∫îÁ≥ªÁªü</a></li>\n</ul>\n</li>\n<li><a href=\"https://ustbhuangyi.github.io/vue-analysis/reactive/\" target=\"_blank\" rel=\"noopener\">Vue ÊäÄÊúØÊè≠Áßò - Ê∑±ÂÖ•ÂìçÂ∫îÂºèÂéüÁêÜ</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/21706165?utm_source=wechat_session&amp;utm_medium=social&amp;utm_oi=58000878338048\" target=\"_blank\" rel=\"noopener\">Vue ÂèåÂêëÊï∞ÊçÆÁªëÂÆöÂéüÁêÜÂàÜÊûê</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>ÂØπ Vue ÁöÑÂìçÂ∫îÂºèÂéüÁêÜÁöÑÂÆûÁé∞ÂàÜÊûê‰ºº‰πéÂ∑≤ÁªèÊòØÂâçÁ´ØÁïåÁÉÇÂ§ßË°óÁöÑËØùÈ¢òÔºåÂ∞ΩÁÆ°Â¶ÇÊ≠§ÔºåÂú®ÂØπ Vue Ê∫êÁ†ÅÁ†îÁ©∂‰∫Ü‰∏ÄÂë®‰πãÂêéËøòÊòØÊÉ≥Â∞ùËØïÁî®Ëá™Â∑±ÁöÑËØ≠Ë®ÄÊääÊï¥‰∏™ÂÆûÁé∞ÂéüÁêÜËÆ∞ÂΩï‰∏ãÊù•„ÄÇ</p>\n<p>Ëøô‰ªΩÁ†îÁ©∂<strong>‰∏ç‰ºöÂØπÊ∫êÁ†Å‰ΩúÈÄêË°åËß£ËØª</strong>ÔºåÂè™‰ºöÂØπÂìçÂ∫îÂºèÁ≥ªÁªüÁöÑÊµÅÁ®ã‰∏≠ Vue ÂØπ‰∏çÂêåÊÉÖÂÜµÁöÑÂ§ÑÁêÜÊñπÂºè‰ª•ÂèäÊï∞ÊçÆÁöÑÊµÅÂêëÂèôËø∞Ê∏ÖÊ•ö„ÄÇ</p>\n<p>ÂºÄÂ±ÄÂÄüÁî® <a href=\"https://github.com/ustbhuangyi\" target=\"_blank\" rel=\"noopener\">ustbhuangyi</a> ÁöÑ‰∏ÄÂº†ÂõæÔºåÂØπÊï¥‰∏™ÂìçÂ∫îÂºèÁ≥ªÁªüÊúâ‰∏™ÂÆèËßÇÁöÑÊ¶ÇÂøµ„ÄÇ</p>\n<p>Vue ÁöÑÂìçÂ∫îÂºèÂéüÁêÜÁöÑÊ†∏ÂøÉÂ∞±ÊòØËßÇÂØüËøô‰∫õÊï∞ÊçÆÔºåÂåÖÊã¨ data„ÄÅprops„ÄÅcomputed Âíå watch ÁöÑÂèòÂåñÔºåÂΩìËøô‰∫õÊï∞ÊçÆÂèëÁîüÂèòÂåñ‰ª•ÂêéÔºåËÉΩÈÄöÁü•Âà∞ÂØπÂ∫îÁöÑËßÇÂØüËÄÖÔºàWatcherÔºâ‰ª•ÂÆûÁé∞Áõ∏ÂÖ≥ÁöÑÈÄªËæëÔºå‰ªéËÄåÈ©±Âä®ËßÜÂõæÁöÑÊõ¥Êñ∞„ÄÇÊï¥‰∏™ÂìçÂ∫îÂºèÂéüÁêÜÊúÄÊ†∏ÂøÉÁöÑÂÆûÁé∞Â∞±ÊòØ Dep Á±ªÔºàËØ≠‰πâ‰∏∫‰æùËµñ DependencyÔºâÔºåËøô‰∏™Á±ªÂÆûÈôÖ‰∏äÊòØËøûÊé•<strong>Êï∞ÊçÆÂØπË±°</strong>‰∏é<strong>ËßÇÂØüËÄÖ</strong>ÁöÑÊ°•Ê¢Å„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/vue-reactive-workflow.png\" alt=\"Vue Reactive\"></p>","more":"<h2 id=\"ÂèåÂêëÁªëÂÆö\"><a href=\"#ÂèåÂêëÁªëÂÆö\" class=\"headerlink\" title=\"ÂèåÂêëÁªëÂÆö\"></a>ÂèåÂêëÁªëÂÆö</h2><p>Âú® Vue ÂàùÂßãÂåñÈò∂ÊÆµÔºå‰ºöÂØπ‰º†ÂÖ•ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÈÖçÁΩÆÂØπË±°Ê†πÊçÆ‰∏çÂêåÁöÑÈÄâÈ°π‰ΩúÁõ∏ÂÖ≥ÁöÑÂ§ÑÁêÜ„ÄÇ</p>\n<p>ÂØπ‰∫é data Âíå props ËÄåË®ÄÔºåVue ‰ºöÈÄöËøá observe Âíå defineReactive Á≠â‰∏ÄÁ≥ªÂàóÁöÑÊìç‰ΩúÊää data Âíå props ÁöÑÊØè‰∏™Â±ûÊÄßÂèòÊàêÂìçÂ∫îÂºèÂ±ûÊÄß„ÄÇ</p>\n<p>Âú®ÂàùÂßãÂåñ data ËøáÁ®ã‰∏≠Ôºådata Êï∞ÊçÆÂØπË±°ÁªèÁî± observe ‰ª•ÂèÇÊï∞ÂΩ¢Âºè‰º†ÂÖ• Observer Á±ªÁöÑÊûÑÈÄ†ÂáΩÊï∞„ÄÇÂú®ÂÆû‰æãÂåñËøáÁ®ã‰∏≠ÔºåObserver ‰ºöÊ†πÊçÆ data ÁöÑÊï∞ÊçÆÁ±ªÂûãÊâßË°åÁõ∏ÂÖ≥ÁöÑÊìç‰Ωú„ÄÇ</p>\n<ul>\n<li>Ëã• data ‰∏∫<strong>Êï∞ÁªÑÁ±ªÂûã</strong>ÔºåObserver ‰ºöÊîπÂÜôËØ•Êï∞ÁªÑÂéüÂûã‰∏≠ÁöÑÂèòÂºÇÊñπÊ≥ïÔºàMutation MethodÔºâÔºåÂåÖÊã¨ push„ÄÅpop„ÄÅshift„ÄÅunshift„ÄÅsplice„ÄÅsort Âíå revers ÂÖ±‰∏É‰∏™ÊñπÊ≥ïÔºåËøô‰πàÂÅöÁöÑÁõÆÁöÑÊòØËß£ÂÜ≥‰ΩøÁî®Ëøô‰∫õÊñπÊ≥ïÁöÑÂéüÁîüÂÆûÁé∞‰ºöÊó†Ê≥ïÁõëÊµãÊï∞ÊçÆÁöÑÂèòÂåñÁöÑÈóÆÈ¢ò„ÄÇÈöèÂêéÔºå‰ºöÈÅçÂéÜÊï∞ÁªÑÊàêÂëòÂπ∂ÈÄê‰∏™ÊâßË°å observe ÂáΩÊï∞ÔºåËøôÊ†∑Â∞±ÂÆûÁé∞‰∫ÜÈÄöËøáÈÄíÂΩíÁöÑÊñπÂºèÁõëÊµãÂ§öÁª¥Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏™ÊàêÂëòÁöÑÊï∞ÊçÆÂèòÂåñ„ÄÇ</li>\n<li>Ëã• data ÊàñÈÄíÂΩíÊï∞ÁªÑÊàêÂëò‰∏∫<strong>ÂØπË±°Á±ªÂûã</strong>ÔºåÂàô‰ºöÈÅçÂéÜÂπ∂Ë∞ÉÁî® defineReactive ÂáΩÊï∞„ÄÇ</li>\n</ul>\n<p>ËÄåÂú®ÂàùÂßãÂåñ props Êó∂ÔºåÁªèËøá vm ÂÆû‰æãÈîÆÂêçÁöÑÈáçÂêçÊ†°È™åÂêéÔºåÂêåÊ†∑‰πüÊòØÈÅçÂéÜË∞ÉÁî® <a href=\"https://github.com/vuejs/vue/blob/3b8925bc7973bb71b33374281db10a945ca9854e/src/core/observer/index.js#L132-L194\" target=\"_blank\" rel=\"noopener\">defineReactive</a> ÂáΩÊï∞„ÄÇ</p>\n<p>defineReactive ÂáΩÊï∞ÊòØÂØπÊï∞ÊçÆËøõË°åÂèåÂêëÁªëÂÆöÔºàÊàñÁß∞‰∏∫ÂìçÂ∫îÂºèÂåñÔºâÁöÑÊ†∏ÂøÉ„ÄÇ</p>\n<p>defineReactive ÂáΩÊï∞ÂÜÖÈÉ®ÂÖàÂÆû‰æãÂåñ‰∏Ä‰∏™ <a href=\"https://github.com/vuejs/vue/blob/3b8925bc79/src/core/observer/dep.js#L9-L50\" target=\"_blank\" rel=\"noopener\">Dep</a> Á±ªÔºåËØ•Á±ªÁöÑÂª∫Á´ãÊòØÊê≠Âª∫Ëµ∑Êï∞ÊçÆ‰∏é Watcher ÁöÑÊ°•Ê¢ÅÔºåÂêåÊó∂‰πü‰Ωú‰∏∫Êî∂ÈõÜÂíåÂ≠òÂÇ® Watcher ÁöÑÂÆπÂô®„ÄÇÈöèÂêéÔºåÈÄöËøá Object.defineProperty ÊñπÊ≥ïÊîπÂÜôÁõëÊµãÁöÑÊï∞ÊçÆÂ≠óÊÆµÁöÑ get ÂáΩÊï∞Âíå set ÂáΩÊï∞„ÄÇÂΩìÊàë‰ª¨ËÆøÈóÆÁõëÊµãÁöÑÊï∞ÊçÆÂ≠óÊÆµÁöÑÊó∂ÂÄôÔºå‰ºöËß¶Âèë get ÂáΩÊï∞Ôºåget ÂáΩÊï∞ÂÜÖÈÉ®Âíå set ÂáΩÊï∞ÂÜÖÈÉ®ÈÉΩÂºïÁî®‰∫ÜÂú®‰∏äÂ±Ç‰ΩúÁî®Âüü‰∏≠ÂØπ Dep Á±ªÂÆû‰æãÂåñÁöÑÂ∏∏Èáè dep ÂÆû‰æãÂØπË±°„ÄÇËøôÈáåÂ∑ßÂ¶ôÂú∞ËøêÁî®‰∫ÜÈó≠ÂåÖÁöÑÂéüÁêÜÔºå‰ª•Á°Æ‰øùÊØè‰∏™Êï∞ÊçÆÂ≠óÊÆµÂú®ËÆøÈóÆÂíå‰øÆÊîπÊó∂ÈÉΩÂºïÁî®ÁùÄÂ±û‰∫éËá™Â∑±ÁöÑ dep Â∏∏Èáè„ÄÇget ÂáΩÊï∞‰ºöÊâßË°å dep ÁöÑ depend ÊñπÊ≥ïÁî®‰∫é<span style=\"color:red;font-weight:bold\">Êî∂ÈõÜ‰æùËµñ</span>ÔºåËøô‰∫õ‰æùËµñÊòØÂΩìÂâçÊ≠£Âú®ËÆ°ÁÆóÁöÑ WatcherÔºåÂπ∂ÊúÄÁªàÁªèÁî± watcher ÁöÑ addDep Âíå dep ÁöÑ addSub Ê∑ªÂä†Âà∞ dep ÂÆû‰æã‰∏≠ÁöÑ subs Êï∞ÁªÑ‰∏≠Ôºàsubs ÊÑè‰∏∫ Subscriber ËÆ¢ÈòÖËÄÖÔºåËØ•Êï∞ÁªÑÂèØ‰ª•ÁêÜËß£‰∏∫‰æùËµñÊî∂ÈõÜÁöÑÂ≠òÂÇ®ÂÆπÂô®Ôºâ„ÄÇËÄåÂΩì‰øÆÊîπÊï∞ÊçÆÔºàÊâßË°å set ÂáΩÊï∞ÔºâÁöÑÊó∂ÂÄôÔºå‰ºöËß¶Âèë dep ÁöÑ notify ÊñπÊ≥ïÈÅçÂéÜ subs Êï∞ÁªÑ‰∏≠ÁöÑ‰æùËµñÔºà‰πüÂ∞±ÊòØ watcher ÂÆû‰æãÔºâÂπ∂Ë∞ÉÁî®ÂÆÉ‰ª¨ÂéüÂûã‰∏äÁöÑ update ÊñπÊ≥ïÂíå run ÊñπÊ≥ïÔºåÊúÄÁªàÈÄöÁü•Ëøô‰∫õËÆ¢ÈòÖËÄÖÊâßË°å<span style=\"color:red;font-weight:bold\">Ê¥æÂèëÊõ¥Êñ∞</span>ÁöÑÈÄªËæë„ÄÇËøô‰∏§‰∏™ÂáΩÊï∞ËÉåÂêéÁöÑÊâßË°åË∑ØÂæÑÂú® dep ÂÆû‰æãÂíå watcher ÂÆû‰æã‰πãÈó¥Á©øÊ¢≠ÔºåËøôÊ†∑ÂÆûÁé∞ÁöÑÁõÆÁöÑ‰ªéÊ∫êÁ†ÅÂàÜÊûêÊù•ÁúãÔºåÊòØ‰∏∫‰∫ÜÂå∫ÂàÜ‰∏çÂêåÁöÑ WatcherÔºàÊúâ renderWatcher„ÄÅcomputedWatcher Âíå userWatcherÔºåÂêéÈù¢‰ºöÊèêÂèäÔºâ‰ª•Âèä‰ΩúÁõ∏Â∫îÁöÑÊÄßËÉΩ‰ºòÂåñÔºàË≠¨Â¶ÇÈÅøÂÖçÈáçÂ§çÊî∂ÈõÜ‰æùËµñÊàñÂü∫‰∫éÁªÑ‰ª∂Â±ÇÁ∫ß‰ΩúÁºìÂ≠òÂ§ÑÁêÜÁ≠âÔºâ„ÄÇ</p>\n<p>ÊÄªÁªì get ÂáΩÊï∞Âíå set ÂáΩÊï∞ÁöÑËß¶ÂèëÊó∂Êú∫Ôºå‰ª•ÂèäÂÖ∂ËÅåËÉΩÂäüÁî®Ôºö</p>\n<ul>\n<li>get ÂáΩÊï∞Âú®<strong>ËÆøÈóÆ</strong>Êï∞ÊçÆÂ≠óÊÆµÊó∂Ëß¶ÂèëÔºåÂÖ∂‰∏ªË¶ÅËÅåËÉΩÊòØ<strong>Ëé∑ÂèñÁõëÊµãÊï∞ÊçÆÂ≠óÊÆµÁöÑÂÄº</strong>Âπ∂Ëß¶Âèë Watcher ÁöÑ<strong>‰æùËµñÊî∂ÈõÜ</strong>„ÄÇ</li>\n<li>set ÂáΩÊï∞Âú®ÂØπÊï∞ÊçÆÂ≠óÊÆµ<strong>‰øÆÊîπ</strong>Êó∂Ëß¶ÂèëÔºå‰∏ªË¶ÅËÅåË¥£ÊòØ<strong>ÂØπÊñ∞ÁöÑËµãÂÄºËøõË°åÂìçÂ∫îÂºèÂåñ</strong>‰ª•ÂèäÂêë Watcher <strong>Ê¥æÂèëÊõ¥Êñ∞</strong>Ôºå‰ªéËÄåËß¶ÂèëËßÜÂõæÁöÑÈáçÊ∏≤Êüì„ÄÇ</li>\n</ul>\n<p>Ë∞àÂà∞ËøôÈáåËÇØÂÆö‰ºöÊúâ‰∏™ÁñëÈóÆÔºå get ÂáΩÊï∞ÊâÄÊî∂ÈõÜÁöÑ‰æùËµñÂÖ∑‰ΩìÊòØ‰ªÄ‰πàÔºü‰æùËµñÊòØÂ¶Ç‰ΩïË¢´Êî∂ÈõÜÁöÑÔºüset ÂáΩÊï∞ÊòØÂ¶Ç‰ΩïÈÄöÁü•ÊâÄÊúâÁöÑ Watcher Êõ¥Êñ∞ÁöÑÔºüÊ¥æÂèëÊõ¥Êñ∞ÁöÑËøáÁ®ãÁ©∂Á´üÂÅö‰∫Ü‰ªÄ‰πàÔºüËøô‰∫õÁñëÈóÆÈÉΩÂú®‰∏ãËäÇÊè≠Êôì„ÄÇ</p>\n<h2 id=\"Ê∏≤ÊüìÂáΩÊï∞\"><a href=\"#Ê∏≤ÊüìÂáΩÊï∞\" class=\"headerlink\" title=\"Ê∏≤ÊüìÂáΩÊï∞\"></a>Ê∏≤ÊüìÂáΩÊï∞</h2><p>Âú®Ë∞àÂèä‰æùËµñÁöÑËøΩË∏™ÂíåËß¶ÂèëÂâçÔºåÊàë‰ª¨ÊúâÂøÖË¶ÅÂÖà‰∫ÜËß£ <strong>„Äå‰æùËµñ„Äç</strong> Ëøô‰∏™ÈÇ£‰πàËôöÁöÑÂêçËØçÁî® JavaScript ËØ≠Ë®ÄÊÄé‰πàÊèèËø∞„ÄÇ</p>\n<p>Ë∞àÂèäÂèåÂêëÊï∞ÊçÆÁªëÂÆöÔºåËøôÈáåÊâÄÊåáÁöÑÂèåÂêëÊåáÁöÑÂ∞±ÊòØ Data Âà∞ View ‰ª•Âèä View Âà∞ Data ÁöÑÁªìÂêà„ÄÇ‰ΩìÁé∞Âú®Êàë‰ª¨ÁöÑ‰ª£Á†Å‰∏≠ÔºåÂ∞±ÊòØ Vue ÁöÑÈÖçÁΩÆÈÄâÈ°πÂç≥‰∏∫ Data ÁöÑÂÇ®Â≠òÂÆπÂô®ÔºåËÄå template Âç≥‰∏∫Ê¶ÇÂøµ‰∏äÁöÑ View„ÄÇÊàë‰ª¨Áü•ÈÅìÊµèËßàÂô®Âú®ËØªÂèñ JavaScript ËÑöÊú¨Êñá‰ª∂ÂêéÂøÖÁÑ∂ÁªèÂéÜ DOM Êìç‰ΩúÊñπÂèØÂ∞ÜÁõ∏ÂÖ≥Êï∞ÊçÆÊ∏≤ÊüìÂà∞ DOM Ê†ë‰∏≠ÔºåÊØîÂ¶Ç‰ΩøÁî®Â≠óÁ¨¶‰∏≤Ê®°Áâà innerHTML ÊàñÈÄöËøá appendChild„ÄÅinsertBefore Á≠â DOM ËäÇÁÇπÊìç‰ΩúÊèíÂÖ•„ÄÇ</p>\n<p>Âú® Vue ‰∏≠ÔºåÊ®°Áâà template ‰ºöÁªèÁî± Compiler Ë¢´ÁºñËØëÊàêÊ∏≤ÊüìÂáΩÊï∞ÔºàRender FunctionÔºâÔºå‰ª•‰∏ã‰ª•Áõ¥ËßÇÁöÑÊÑüÂèó‰ΩìÈ™åÊ®°ÁâàÂíåÊ∏≤ÊüìÂáΩÊï∞ÁöÑË°®Áé∞ÂΩ¢Âºè„ÄÇ</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">\"foo\"</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ÁºñËØëÁîüÊàêÁöÑÊ∏≤ÊüìÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">anonymous</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">with</span>(<span class=\"keyword\">this</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> _c(<span class=\"string\">'div'</span>,</span><br><span class=\"line\">      &#123; <span class=\"attr\">attrs</span>: &#123;<span class=\"string\">\"id\"</span>: <span class=\"string\">\"foo\"</span> &#125;&#125;,</span><br><span class=\"line\">      &#123; _v(<span class=\"string\">\"\\n      \"</span>+s_(name)+<span class=\"string\">\"\\n    \"</span>)&#125;</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÁªèÁºñËØëÁîüÊàêÂêéÁöÑÊ∏≤ÊüìÂáΩÊï∞‰ºöË¢´ÊåÇËΩΩËá≥ÂØπÂ∫î vm ÁªÑ‰ª∂ÂÆû‰æãÁöÑ <code>$options.render</code> Â±ûÊÄß‰∏ã„ÄÇ</p>\n<p>ËøôÈáå‰πüËß£ÂºÄ‰∫ÜÁªëÂÆöÁöÑÊï∞ÊçÆÂ≠óÊÆµÊòØÂ¶Ç‰ΩïÂíåÂú®Âì™ÈáåËß¶Âèë getter Âíå setter ÁöÑ‰∫Ü„ÄÇ</p>\n<p>‰∏ãÈù¢Êàë‰ª¨Ë∞àË∞àÊ∏≤ÊüìÂáΩÊï∞‰∏é‰æùËµñËøΩË∏™ÂÖ≥Á≥ª„ÄÇ</p>\n<h2 id=\"ËøΩË∏™‰æùËµñÂèäÂìçÂ∫îÂèòÂåñ\"><a href=\"#ËøΩË∏™‰æùËµñÂèäÂìçÂ∫îÂèòÂåñ\" class=\"headerlink\" title=\"ËøΩË∏™‰æùËµñÂèäÂìçÂ∫îÂèòÂåñ\"></a>ËøΩË∏™‰æùËµñÂèäÂìçÂ∫îÂèòÂåñ</h2><p>Âú® Vue ÂàõÂª∫ËøáÁ®ã‰∏≠ÔºåÊ∏≤ÊüìËßÜÂõæÁöÑÂÖ•Âè£‰∏∫ <code>_init</code> ÂáΩÊï∞‰∏≠ÊâßË°å vm ÂÆû‰æãÂØπË±°ÁöÑ <code>$mount</code> ÂáΩÊï∞„ÄÇÂØπ‰∫éÊØè‰∏™ÁªÑ‰ª∂ËÄåË®ÄÔºåÂÆÉÈÉΩ‰ºöÊâßË°åÁªÑ‰ª∂ÁöÑ <code>$mount</code> ÊñπÊ≥ïÔºåËÄå‰∏çÂêåÁºñËØëÁâàÊú¨ÁöÑ <code>$mount</code> ÊâßË°åÁöÑËêΩËÑöÁÇπÈÉΩÊòØ mountComponent ÂáΩÊï∞„ÄÇ</p>\n<p>mountComponent ÂáΩÊï∞ÂÜÖÈÉ®ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ <a href=\"https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L169-L192\" target=\"_blank\" rel=\"noopener\">updateComponent</a> ÂáΩÊï∞ÔºåËÄå updateComponent ÂáΩÊï∞ÁöÑÂÜÖÈÉ®‰ª• <code>vm._render()</code> ÂáΩÊï∞ÁöÑËøîÂõûÂÄº‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞Ë∞ÉÁî® <code>vm._update()</code> ÂáΩÊï∞„ÄÇÊ≠§Â§ÑÊàë‰ª¨Âè™ÈúÄÁÆÄÂçïÂú∞ËÆ§‰∏∫Ôºö</p>\n<ul>\n<li><code>vm._render</code> ÂáΩÊï∞ÁöÑ‰ΩúÁî®Â∞±ÊòØÊ†πÊçÆÊ∏≤ÊüìÂáΩÊï∞Ôºà<code>vm.$options.render</code>ÔºâËøîÂõûÁîüÊàêÁöÑËôöÊãüËäÇÁÇπ</li>\n<li><code>vm._update</code> ÂáΩÊï∞ÁöÑ‰ΩúÁî®Â∞±ÊòØÊää <code>vm._render</code> ÂáΩÊï∞ÁîüÊàêÁöÑËôöÊãüËäÇÁÇπÊ∏≤ÊüìÊàêÁúüÊ≠£ÁöÑ DOM ËäÇÁÇπ</li>\n</ul>\n<p>Âõ†Ê≠§ÔºåÂØπ‰∫é updateComponent ËÄåË®ÄÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÂÆÉÁêÜËß£‰∏∫ÊääËôöÊãü DOM ËΩ¨Âåñ‰∏∫ÁúüÂÆû DOM ÁöÑËøáÁ®ã„ÄÇ</p>\n<p>Âú® <a href=\"https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L141-L213\" target=\"_blank\" rel=\"noopener\">mountComponet</a> ÂáΩÊï∞ÂÜÖÈÉ®Èô§‰∫ÜÂÆö‰πâ‰ªéËôöÊãü DOM Âà∞ÁúüÂÆû DOM ÁöÑÊâßË°åÂáΩÊï∞Â§ñÔºåËøòÊää updateComponent ‰Ωú‰∏∫Á¨¨‰∏ÄÂèÇÊï∞‰º†ÂÖ•ÂÆû‰æãÂåñÁöÑ Watcher ‰∏≠„ÄÇ</p>\n<p>Ê≠§Êó∂ÁöÑ <a href=\"https://github.com/vuejs/vue/blob/d9b27a92bd5277ee23a4e68a8bd31ecc72f4c99b/src/core/instance/lifecycle.js#L197-L203\" target=\"_blank\" rel=\"noopener\">Watcher ÂÆû‰æãÂØπË±°</a>Ë¢´Áß∞‰∏∫ render watcherÔºà‰∫¶Âç≥<span style=\"color:red;font-weight:bold\">Ê∏≤ÊüìÂáΩÊï∞ÁöÑËßÇÂØüËÄÖ</span>Ôºâ„ÄÇËÄåÂÆû‰æãÂåñËøáÁ®ã‰∏≠ Watcher ‰ºöÂØπ updateComponent ÂáΩÊï∞Ê±ÇÂÄºÔºåËÄå updateComponent ÂáΩÊï∞ÁöÑÊâßË°å‰ºöÈó¥Êé•Ëß¶ÂèëÊ∏≤ÊüìÂáΩÊï∞Ôºà<code>vm.$options.render</code>ÔºâÁöÑÊâßË°åÔºåËÄåÊ∏≤ÊüìÂáΩÊï∞ÁöÑÊâßË°åÂàô‰ºöËß¶ÂèëÊï∞ÊçÆÂ≠óÊÆµÔºàÂåÖÊã¨ data„ÄÅprops Êàñ computed Á≠âÈÖçÁΩÆÈÄâÈ°πÂØπË±°ÁöÑÂ≠êÂ≠ôÂ±ûÊÄßÔºâÁöÑ get Êã¶Êà™Âô®ÂáΩÊï∞ÔºåËøõËÄåÂ∞ÜËØ• render watcher Êî∂ÈõÜÂà∞‰æùËµñÂÆπÂô®ÂÜÖÔºå‰πüÂ∞± dep ÂÆû‰æãÂØπË±°‰∏≠ÁöÑ subs Êï∞ÁªÑ‰∏≠Ôºå‰ªéËÄåÂÆûÁé∞<strong>‰æùËµñÊî∂ÈõÜ</strong>„ÄÇËøô‰∏™ dep ÂÆû‰æãÂØπË±°Â±û‰∫éÊï∞ÊçÆÂ≠óÊÆµËá™Ë∫´ÊâÄÊåÅÊúâÔºåËøôÊ†∑ÂΩìÊàë‰ª¨Â∞ùËØï‰øÆÊîπÁõ∏Â∫îÊï∞ÊçÆÂ≠óÊÆµÁöÑÂÄºÁöÑÊó∂ÂÄôÔºåÁ®ãÂ∫è‰ºöËß¶ÂèëÊï∞ÊçÆÂ≠óÊÆµÁöÑ set Êã¶Êà™Âô®ÂáΩÊï∞ÈáåÁöÑ dep.notifyÔºå‰ªéËÄåËß¶Âèë render watcher ÁöÑ updateÔºåÁÑ∂ÂêéÊâßË°åÂÖ∂ run ÊñπÊ≥ïÔºåÊâßË°åËøáÁ®ãÊúÄÁªà‰ºöË∞ÉÁî® updateComponent ÊñπÊ≥ïÔºåËØ•ÊñπÊ≥ï‰ºöÈáçÊñ∞ËøõË°åËßÜÂõæÊ∏≤Êüì„ÄÇËøôÊ†∑Ëß¶Âèë set Êã¶Êà™ÂáΩÊï∞Âπ∂ÈÄöËøá‰∏ÄÁ≥ªÂàóÊìç‰ΩúÂêéÊõ¥Êñ∞ËßÜÂõæÁöÑËøáÁ®ãÁß∞‰∏∫<strong>Ê¥æÂèëÊõ¥Êñ∞</strong>„ÄÇ</p>\n<p>ËøΩË∏™‰æùËµñÁ§∫ÊÑèÊµÅÁ®ãÂõæÔºö</p>\n<p>Áî±‰∫é mountComponent ‰Ωú‰∏∫Êï∞ÊçÆÊõ¥Êñ∞ËßÜÂõæÁöÑÂáΩÊï∞ÔºåÈÇ£‰πàËÇØÂÆöÊòØÈ¢ëÁπÅË∞ÉÁî®ÁöÑÔºåÊç¢Ë®Ä‰πãÂáΩÊï∞ÂÜÖÈÉ®‰ºö‰∏çÊñ≠ÈáçÂ§çÂÆû‰æãÂåñ WatcherÔºå‰ΩÜÂÆûÈôÖ‰∏äÂØπ‰∫éÊï∞ÊçÆË°®ËææÂºèÁöÑ‰æùËµñËøΩË∏™‰∏çÂøÖÈáçÂ§çÊâßË°åËØ•ÊµÅÁ®ã„ÄÇÂú® Watcher ÂÆû‰æãÂÜÖÈÉ®ÈÄöËøáÂîØ‰∏ÄÊ†áËØÜÂå∫ÂàÜ watcher ÂÆû‰æãÔºåÂπ∂‰ª•Ê†áËØÜÈõÜÂêà‰Ωú‰∏∫Âå∫ÂàÜ‰æùÊçÆÔºåÈÅøÂÖç‰∫Ü<strong>‰∏ÄÊ¨°Ê±ÇÂÄºËøáÁ®ã‰∏≠Êî∂ÈõÜÈáçÂ§ç‰æùËµñ</strong>‰ª•Âèä<strong>Â§öÊ¨°Ê±ÇÂÄºÊî∂ÈõÜÈáçÂ§ç‰æùËµñ</strong>‰∏§Á±ªÈóÆÈ¢ò„ÄÇ</p>\n<h2 id=\"ËÆ°ÁÆóÂ±ûÊÄß\"><a href=\"#ËÆ°ÁÆóÂ±ûÊÄß\" class=\"headerlink\" title=\"ËÆ°ÁÆóÂ±ûÊÄß\"></a>ËÆ°ÁÆóÂ±ûÊÄß</h2><p>ËÆ°ÁÆóÂ±ûÊÄß computed Âú® <a href=\"https://github.com/vuejs/vue/blob/dev/src/core/instance/state.js#L169-L208\" target=\"_blank\" rel=\"noopener\">initComputed</a> ÂáΩÊï∞‰∏≠ÊûÑÂª∫„ÄÇ</p>\n<p>ÂØπ‰∫é computed ËÆ°ÁÆóÂ±ûÊÄßËÄåË®ÄÔºåÂÆûÈôÖ‰∏ä‰ºöÂú®ÂÜÖÈÉ®ÂàõÂª∫‰∏Ä‰∏™ computed watcherÔºåÊØè‰∏™ computed watcher ‰ºöÊåÅÊúâ‰∏Ä‰∏™ Dep ÂÆû‰æãÔºåÂΩìÊàë‰ª¨ËÆøÈóÆ computed Â±ûÊÄßÁöÑÊó∂ÂÄôÔºå‰ºöË∞ÉÁî® computed watcher ÁöÑ <a href=\"https://github.com/vuejs/vue/blob/dev/src/core/observer/watcher.js#L210-L213\" target=\"_blank\" rel=\"noopener\">evaluate</a> ÊñπÊ≥ïÔºåËøôÊó∂ÂÄô‰ºöËß¶ÂèëÂÖ∂ÊåÅÊúâÁöÑ depend ÊñπÊ≥ïÁî®‰∫éÊî∂ÈõÜ‰æùËµñÔºåÂêåÊó∂‰πü‰ºöÊî∂ÈõÜÂà∞Ê≠£Âú®ËÆ°ÁÆóÁöÑ watcherÔºåÁÑ∂ÂêéÊääÂÆÉËÆ°ÁÆóÁöÑ watcher ‰Ωú‰∏∫ Dep ÁöÑ Subscriber ËÆ¢ÈòÖËÄÖÊî∂ÈõÜËµ∑Êù•ÔºåÊî∂ÈõÜËµ∑Êù•ÁöÑ‰ΩúÁî®Â∞±ÊòØÂΩìËÆ°ÁÆóÂ±ûÊÄßÊâÄ‰æùËµñÁöÑÂÄºÂèëÁîüÂèòÂåñ‰ª•ÂêéÔºå‰ºöËß¶Âèë computed watcher ÈáçÊñ∞ËÆ°ÁÆóÔºåÂ¶ÇÊûúÈáçÊñ∞ËÆ°ÁÆóËøáÁ®ã‰∏≠ËÆ°ÁÆóÁªìÊûúÂèò‰∫Ü‰πü‰ºöË∞ÉÁî® dep ÁöÑ notify ÊñπÊ≥ïÔºåÁÑ∂ÂêéÈÄöÁü•ËÆ¢ÈòÖ computed ÁöÑËÆ¢ÈòÖËÄÖËß¶ÂèëÁõ∏ÂÖ≥ÁöÑÊõ¥Êñ∞„ÄÇËøôÁ±ª watcher Êúâ‰∏™ÁâπÁÇπÔºöÂΩìËÆ°ÁÆóÂ±ûÊÄß‰æùËµñ‰∫éÂÖ∂‰ªñÊï∞ÊçÆÊó∂ÔºåÂ±ûÊÄßÂπ∂‰∏ç‰ºöÁ´ãÂç≥ÈáçÊñ∞ËÆ°ÁÆóÔºåÂè™Êúâ‰πãÂêéÂÖ∂‰ªñÂú∞ÊñπÈúÄË¶ÅËØªÂèñÂ±ûÊÄßÁöÑÊó∂ÂÄôÔºåÂÆÉÊâç‰ºöÁúüÊ≠£ËÆ°ÁÆóÔºåÂç≥ÂÖ∑Â§á lazyÔºàÊáíËÆ°ÁÆóÔºâÁâπÊÄßÔºåËøôÁ±ª watcher ÁöÑ expression ÊòØËÆ°ÁÆóÂ±ûÊÄßÁöÑ‰∏≠ÁöÑÂ±ûÊÄßÂêç„ÄÇ</p>\n<h2 id=\"‰æ¶Âê¨Â±ûÊÄß\"><a href=\"#‰æ¶Âê¨Â±ûÊÄß\" class=\"headerlink\" title=\"‰æ¶Âê¨Â±ûÊÄß\"></a>‰æ¶Âê¨Â±ûÊÄß</h2><p>‰æ¶Âê¨Â±ûÊÄß watch Âú® <a href=\"https://github.com/vuejs/vue/blob/dev/src/core/instance/state.js#L303-L317\" target=\"_blank\" rel=\"noopener\">Vue.prototype.\\$watch</a> ÂáΩÊï∞‰∏≠ÊûÑÂª∫„ÄÇ</p>\n<p>ÂØπ‰∫éÈÖçÁΩÆÁöÑ watch Êï∞ÊçÆÂØπË±°ËÄåË®ÄÔºå‰ºöÂÆûÁé∞Âü∫‰∫é Watcher ÁöÑÂ∞ÅË£ÖÂπ∂ÂàõÂª∫ user watcherÔºåÂèØ‰ª•ÁêÜËß£‰∏∫Áî®Êà∑ÁöÑ watcherÔºå‰πüÂ∞±ÊòØÁî±ÂºÄÂèëËÄÖËá™ÂÆö‰πâÁöÑÂõûË∞ÉÂáΩÊï∞ÔºåÂÆÉÂèØ‰ª•ËßÇÂØü data ÁöÑÂèòÂåñÔºå‰πüÂèØ‰ª•ËßÇÂØü computed ÁöÑÂèòÂåñ„ÄÇÂΩìËøô‰∫õÊï∞ÊçÆÂèëÁîüÂèòÂåñ‰ª•ÂêéÔºå‰ºöÈÄöÁü•Ëøô‰∏™ËØ• watch Êï∞ÊçÆÂØπË±°ÁöÑ Dep ÂÆû‰æãÁÑ∂ÂêéË∞ÉÁî®Ëøô‰∏™ Dep ÂÆû‰æãÂéªÈÅçÂéÜÊâÄÊúâ user watchersÔºåÁÑ∂ÂêéË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑ update ÊñπÊ≥ïÔºåÁÑ∂ÂêéÊ±ÇÂÄºÂèëÁîüÊñ∞ÊóßÂÄºÂèòÂåñÂ∞±‰ºöËß¶Âèë run ÊâßË°åÁî®Êà∑ÂÆö‰πâÁöÑÂõûË∞ÉÂáΩÊï∞Ôºàuser callbackÔºâ„ÄÇ</p>\n<h2 id=\"Êî∂Ëé∑\"><a href=\"#Êî∂Ëé∑\" class=\"headerlink\" title=\"Êî∂Ëé∑\"></a>Êî∂Ëé∑</h2><ul>\n<li>ÂØπ Vue Â§ÑÁêÜÈÖçÁΩÆÈÄâÈ°πÁöÑÊï∞ÊçÆÂ≠óÊÆµ‰∏éËßÜÂõæÊï∞ÊçÆÁªëÂÆöÁöÑÂ∑•‰ΩúÊµÅÁ®ã‰ª•ÂèäÂìçÂ∫îÂºèÁ≥ªÁªüÁöÑÂ∑•‰ΩúÊµÅÁ®ãÊúâÂÆåÊï¥ÁöÑËÆ§ËØÜÔºåÂä†Ê∑±‰∫ÜËß£Áõ∏ÂÖ≥ÈÖçÁΩÆÊàñ API ÁöÑ What Âíå WhyÔºåÂÆö‰ΩçÊ°ÜÊû∂Áõ∏ÂÖ≥ÈóÆÈ¢òÁöÑÊó∂ÂÄôÊõ¥Âø´ÈÄü</li>\n<li>Â≠¶‰ºö‰∫ÜÂæàÂ§öÁºñÁ†ÅÂ±ÇÈù¢ÁöÑ‰ºòÂåñÊñπÂºèÔºåÊ†πÊçÆÊµÅÁ®ãÈÅøÂºÄÈùûÊúÄ‰Ω≥ÁöÑÂÜôÊ≥ïÔºåËÆ©Ê°ÜÊû∂‰ª•ÊúÄÁü≠Ë∑ØÂæÑÂÆåÊàêÂèåÂêëÁªëÂÆöÁöÑÂ∑•‰ΩúÔºåÂ∞ΩÁÆ°‰ª•Áé∞Êó∂ JavaScript ÂºïÊìéÁöÑÊÄßËÉΩËÄåË®ÄÔºåËøô‰∫õ‰ºòÂåñÊòæÂæóÂæÆ‰∏çË∂≥ÈÅìÔºå‰ΩÜËøΩÊ±ÇÊûÅËá¥ÁöÑ‰ª£Á†Å‰π¶ÂÜôÂ∫îËØ•ÊòØÊØè‰∏™Â∑•Á®ãÂ∏àÂ∫îËØ•ÂÖ∑Â§áÁöÑÁ¥†ÂÖª</li>\n<li>Âú®‰∫ÜËß£ÁîöËá≥ËØªÊáÇÊ∫êÁ†ÅÂÆûÁé∞ÂéüÁêÜÁöÑÂâçÊèê‰∏ãÔºåËã•ÈÅáÂà∞ÊäÄÊúØÈÄâÂûãÊàñÁº∫Èô∑Ê≤ªÁêÜÁ≠âÊÉÖÂÜµÔºå‰∏é‰ªñ‰∫∫ÂçèÂïÜÁöÑÊ≤üÈÄöÊàêÊú¨ËÉΩÂ§ßÂπÖ‰∏ãÈôçÔºåÊúÄÈáçË¶ÅÁöÑÊòØÊöó‰∏≠ËßÇÂØü‰∏öÁïåÂ§ß‰Ω¨Âú®ËÆ®ËÆ∫ÈóÆÈ¢òÊó∂Ëµ∑Á†Å‰∏ç‰ºöÂÜç‰∏ÄËÑ∏ÊáµÈÄº„ÄÇ</li>\n</ul>\n<h2 id=\"Todo\"><a href=\"#Todo\" class=\"headerlink\" title=\"Todo\"></a>Todo</h2><ul>\n<li>Vue ÂàùÂßãÂåñÊµÅÁ®ãÔºöVue API ÊåÇËΩΩÊµÅÁ®ã‰ª•ÂèäÂÆûÁé∞ÂéüÁêÜÔºåËØªÊáÇËøôÈÉ®ÂàÜÊ∫êÁ†ÅÂ∫îËØ•ÂØπ‰∏öÂä°ÂÆûË∑µÂ∏ÆÂä©ÂæàÂ§ß</li>\n<li>Ê®°ÁâàÁºñËØëÔºåÁªìÂêàÁºñËØëÁõ∏ÂÖ≥ Babel ‰ª•Âèä JSX ÁºñËØëÂÆûÁé∞ÔºåÊé¢Á¥¢ÂâçÁ´ØÁºñËØëÂÆûÁé∞ÊñπÂºè</li>\n<li>Á†îÁ©∂ Virtual DOM ÁöÑÁÆóÊ≥ï‰∏éÂÆûÁé∞ÔºåÂπ∂‰∏é React ÂÆûÁé∞ÁöÑ Virtual DOM ‰ΩúÊØîËæÉ</li>\n</ul>\n<h2 id=\"ÂèÇËÄÉËµÑÊñô\"><a href=\"#ÂèÇËÄÉËµÑÊñô\" class=\"headerlink\" title=\"ÂèÇËÄÉËµÑÊñô\"></a>ÂèÇËÄÉËµÑÊñô</h2><ul>\n<li><a href=\"https://cn.vuejs.org/\" target=\"_blank\" rel=\"noopener\">Vue ÂÆòÊñπ‰∏≠ÊñáÁΩë</a><ul>\n<li><a href=\"https://cn.vuejs.org/v2/guide/reactivity.html\" target=\"_blank\" rel=\"noopener\">Ê∑±ÂÖ•ÂìçÂ∫îÂºèÂéüÁêÜ</a></li>\n<li><a href=\"https://cn.vuejs.org/v2/guide/render-function.html\" target=\"_blank\" rel=\"noopener\">Ê∏≤ÊüìÂáΩÊï∞</a></li>\n</ul>\n</li>\n<li><a href=\"http://hcysun.me/vue-design/\" target=\"_blank\" rel=\"noopener\">Vue ÊäÄÊúØÂÜÖÂπï</a><ul>\n<li><a href=\"http://hcysun.me/vue-design/art/7vue-reactive.html\" target=\"_blank\" rel=\"noopener\">Êè≠ÂºÄÊï∞ÊçÆÂìçÂ∫îÁ≥ªÁªüÁöÑÈù¢Á∫±</a></li>\n<li><a href=\"http://hcysun.me/vue-design/art/8vue-reactive-dep-watch.html\" target=\"_blank\" rel=\"noopener\">Ê∏≤ÊüìÂáΩÊï∞ÁöÑËßÇÂØüËÄÖ‰∏éËøõÈò∂ÁöÑÊï∞ÊçÆÂìçÂ∫îÁ≥ªÁªü</a></li>\n</ul>\n</li>\n<li><a href=\"https://ustbhuangyi.github.io/vue-analysis/reactive/\" target=\"_blank\" rel=\"noopener\">Vue ÊäÄÊúØÊè≠Áßò - Ê∑±ÂÖ•ÂìçÂ∫îÂºèÂéüÁêÜ</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/21706165?utm_source=wechat_session&amp;utm_medium=social&amp;utm_oi=58000878338048\" target=\"_blank\" rel=\"noopener\">Vue ÂèåÂêëÊï∞ÊçÆÁªëÂÆöÂéüÁêÜÂàÜÊûê</a></li>\n</ul>"},{"title":"Âü∫‰∫é RBAC ÊùÉÈôêÊ®°ÂûãÁöÑÊû∂ÊûÑËÆæËÆ°","date":"2020-05-15T00:00:00.000Z","_content":"\nË∞àÂà∞ÊùÉÈôêÊéßÂà∂ÔºåÂÆûÈôÖ‰∏äÂú®Êàë‰ª¨ÁöÑÁîüÊ¥ª‰∏≠Êó†Â§Ñ‰∏çÂú®Ôºå‰æãÂ¶ÇÊàë‰ª¨Êó†Êó∂Êó†ÂàªÈÉΩÂú®‰ΩøÁî®ÁöÑÊô∫ËÉΩÊâãÊú∫ÔºåÊâìÂºÄÊâãÊú∫ÈúÄË¶ÅÁîüÁâ©ÊåáÁ∫πÊàñËÄÖ‰∫∫ËÑ∏ËØÜÂà´ÔºõÂΩì‰Ω†ËøõÂÖ•ÂÖ¨Âè∏ÁöÑÊó∂ÂÄôÔºå‰Ω†ÈúÄË¶ÅÂ∑•Âç°Âú®Èó®Á¶ÅÊª¥‰∏Ä‰∏ãÔºõÂèàÂ¶ÇÊõæÁªèÁöÑ‰Ω†ÊòØÂê¶ÊúâËøáÂçäÂ§úÊâìÂºÄÂøÉ‰ª™Â•≥Â≠©ÁöÑ QQ Á©∫Èó¥ÔºåÊ¨≤‰∏ÄÊé¢Á©∂Á´üÁöÑÊó∂ÂÄôÔºåÂç¥ÂëäËØâÈúÄË¶ÅÊ∑ªÂä†Â•ΩÂèãÊâçËÉΩËÆøÈóÆ„ÄÇËøô‰∫õÈÉΩÊòØÊàë‰ª¨Êó•Â∏∏ÁîüÊ¥ª‰∏≠‰ΩìÁé∞ÊùÉÈôêÁöÑÂú∞ÊñπÔºåËÄåÂú®ËΩØ‰ª∂ÂºÄÂèë‰∏≠ÔºåÊùÉÈôêÁÆ°ÁêÜ‰πüÊòØÊó†Â§Ñ‰∏çÂú®ÁöÑ‰∫ßÂìÅËÆæËÆ°ÂäüËÉΩÔºåÂ∞§ÂÖ∂ÊòØÂêéÂè∞ÁÆ°ÁêÜÂêéÂè∞Êó†Ê≥ïÂØπÊùÉÈôêÁÆ°ÁêÜÈÅøËÄå‰∏çË∞àÔºå‰ªäÂ§©Â∞ùËØïÊ∑±ÂÖ•‰∫ÜËß£ÊùÉÈôêÁÆ°ÁêÜËÆæËÆ°‰∏≠ÊúÄÂ∏∏Áî®ÁöÑ RBAC Ê®°Âûã„ÄÇ\n\n## ÊùÉÈôêÊ®°Âûã\n\n**ÊùÉÈôê** ‰∫åÂ≠ó‰ªéÂ≠óÈù¢‰∏äÂèØÊãÜÂàÜ‰∏∫ `ÊùÉÂäõ+ÈôêÂà∂`Ôºå‰ªé‰ΩøÁî®ËÄÖÁöÑËßíÂ∫¶Êù•ËØ¥Ôºå‰πüÂ∞±ÊòØÂú®ÈôêÂà∂ÁöÑËåÉÂõ¥ÂÜÖÊ≠£Á°ÆÂú∞Ë°åÈ©∂ÊùÉÂäõÔºåËÄåÁ´ôÂú®ËÆæËÆ°ËÄÖÁöÑËßíÂ∫¶Êù•Ëß£ËØªÔºåÂàôÊòØÈÄöËøáÂêàÁêÜÁöÑÊâãÊÆµÊéßÂà∂‰ΩøÁî®ËÄÖËÉΩËÆøÈóÆÂà∞‰ªñ‰ª¨ËÉΩÂ§üËÆøÈóÆÂà∞ÁöÑËµÑÊ∫ê„ÄÇ\n\nÂú®ÊùÉÈôêËÆæËÆ°È¢ÜÂüüÔºåÊúÄÂ∏∏ËßÅÁöÑÊùÉÈôêÊ®°ÂûãÊúâ‰ª•‰∏ãÂõõÁßçÔºö\n\n- ACLÔºàAccess Control ListÔºâÔºöËÆøÈóÆÊéßÂà∂ÂàóË°® `Áî®Êà∑ -> ÊùÉÈôê`\n- RBACÔºàRole-Based Access ControlÔºâÔºöÂü∫‰∫é **ËßíËâ≤** ÁöÑÊùÉÈôêÊéßÂà∂ `Áî®Êà∑ -> ËßíËâ≤ -> ÊùÉÈôê`\n- ABACÔºàAttribute-Based Access ControlÔºâÔºöÂü∫‰∫é **Â±ûÊÄß** ÁöÑÊùÉÈôêÊéßÂà∂ÔºåËØ•Ê®°ÂûãÊ†πÊçÆÁâπÊÆäÁöÑËßÑÂàôÂàÜÈÖçÊùÉÈôê `ÔºàÁî®Êà∑„ÄÅËµÑÊ∫ê„ÄÅÂØπË±°Â±ûÊÄßÔºâ-> ÊùÉÈôê`\n- PBACÔºàPolicy-Based Access ControlÔºâÔºöÂü∫‰∫é **Á≠ñÁï•** ÁöÑÊùÉÈôêÊéßÂà∂ÔºåÁî®Êà∑ÔºàÁªÑÔºâÈö∂Â±û‰∫éËßíËâ≤ÔºåËßíËâ≤Èö∂Â±û‰∫éËµÑÊ∫êÔºàÈ°πÁõÆÔºâ`Áî®Êà∑ -> ËßíËâ≤ -> ÔºàËµÑÊ∫ê/È°πÁõÆ + ÊùÉÈôêÔºâ`\n\nÁ¨¨‰∏ÄÁßç ACL Ê®°ÂûãÔºåÊùÉÈôêËÉΩÁõ¥Êé•Ëµã‰∫àÁî®Êà∑Ôºå‰æãÂ¶ÇÂ∞ÜÊü•ÁúãËÆ¢ÂçïÂàóË°®ÔºàÊùÉÈôêÔºâËµã‰∫àÊüê‰ΩçËøêËê•‰∫∫ÂëòÔºàÁî®Êà∑Ôºâ„ÄÇ‰ΩÜÊòØËøôÁßçÊ®°ÂºèÁöÑÁº∫ÁÇπÂú®‰∫éÔºå‰ΩÜÁî®Êà∑ÈáèËææÂà∞‰∏ÄÂÆöÈáèÁ∫ßÁöÑÊó∂ÂÄôÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂØπÊØè‰∏™Áî®Êà∑ÈÉΩËøõË°å‰∏ÄÊ¨°ÊéàÊùÉÊìç‰ΩúÔºåÈÇ£‰πàËøô‰∏™Â∑•‰ΩúÈáèÂ∞±‰ºöÁõ∏ÂΩìÂ§ß„ÄÇ\n\nÂõ†Ê≠§Â∞±Âá∫Áé∞‰∫Ü RBAC Ê®°ÂûãÔºåËøôÊòØËΩØ‰ª∂ËÆæËÆ°‰∏≠ÊúÄÂ∏∏Áî®ÁöÑÊùÉÈôêÁÆ°ÁêÜÊ®°ÂûãÔºåÁõ∏ÊØî‰∫é ACL Ê®°ÂûãÔºåRBAC Ê®°ÂûãÂú®Áî®Êà∑‰∏éÊùÉÈôê‰πãÈó¥Â§ö‰∫Ü‰∏Ä‰∏™ÂÖÉÁ¥†„ÄåËßíËâ≤„ÄçÔºåÈÄöËøáÊùÉÈôêÂÖ≥ËÅîËßíËâ≤„ÄÅËßíËâ≤ÂÖ≥ËÅîÁî®Êà∑ÁöÑÊñπÊ≥ïÊù•Èó¥Êé•Âú∞Ëµã‰∫àÁî®Êà∑ÊùÉÈôêÔºå‰ªéËÄåÂÆûÁé∞Áî®Êà∑‰∏éÊùÉÈôêÁöÑËß£ËÄ¶„ÄÇ\n\nÂêé‰∏§ÁßçÂ§ßÊ¶ÇÁü•ÈÅìÂ∞±Ë°åÔºåÂõ†‰∏∫‰∏ÄËà¨‰∏ç‰ºöÁî®Âà∞ÔºåËØ¶ÊÉÖÂèØËá™Ë°å Google ‰∫ÜËß£„ÄÇ\n\n<!-- more -->\n\n## RBAC Ê®°ÂûãÁöÑÊºîËøõ\n\nÂú® RBAC Ê®°ÂûãÁöÑÊºîËøõÂèëÂ±ïÂá∫Âõõ‰∏™ÁâàÊú¨ÔºåÂàÜÂà´ÊòØ RBAC 0~3„ÄÇ\n\n### RBAC0 Ê®°Âûã\n\nRBAC9 ÊòØÊúÄÂü∫Á°ÄÁöÑÊùÉÈôêÊ®°ÂûãÔºåÂæàÂ§ö‰∫ßÂìÅÂü∫‰∫éËØ•Ê®°ÂûãÂ∞±Â∑≤ÁªèËÉΩÊª°Ë∂≥ËÆæËÆ°ÈúÄÊ±Ç„ÄÇÁî®Êà∑ÂíåËßíËâ≤‰πãÈó¥ÂèØ‰ª•ÊòØ‰∏ÄÂØπÂ§ö‰πüÂèØ‰ª•ÊòØÂ§öÂØπÂ§öÂÖ≥Á≥ªÔºåËÄåËßíËâ≤ÂíåÊùÉÈôê‰πãÈó¥ÂàôÂ§ö‰ª•Â§öÂØπÂ§öÁöÑÂÖ≥Á≥ª‰∏∫‰∏ªÔºåÁî®Êà∑Êã•ÊúâÁöÑÊùÉÈôêÁ≠â‰∫é‰ªñÊâÄÊúâÁöÑËßíËâ≤ÊåÅÊúâÁöÑÊùÉÈôê‰πãÂíå„ÄÇ\n\n**Â∫îÁî®Âú∫ÊôØ**Ôºö‰æãÂ¶ÇÂú®ÁîµÂïÜÂÖ¨Âè∏‰∏≠ÊäΩË±°Âá∫Âá†ÁßçÁÆ°ÁêÜ‰∏öÂä°ÁöÑËßíËâ≤ÔºåËØ∏Â¶ÇÈîÄÂîÆÁªèÁêÜ„ÄÅÈ°πÁõÆÁªèÁêÜ„ÄÅÂ∏ÇÂú∫ÁªèÁêÜÁ≠âÁ≠âÔºåÂ∞èÈôàÊó¢ÊãÖÂΩìËê•ÈîÄÈÉ®Èó®ÁöÑÂ∏ÇÂú∫ÁªèÁêÜÂèàÊãÖÂΩìÈîÄÂîÆÈÉ®ÁöÑÈîÄÂîÆÁªèÁêÜÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂ∞ÜËøô‰∏§‰∏™ËßíËâ≤ÁöÑËµã‰∫àÁªô‰ªñ„ÄÇ\n\n![RBAC0 Ê®°Âûã](https://img.mrsingsing.com/authentication-rbac0)\n\n### RBAC1 Ê®°Âûã\n\nRBAC1 Ê®°ÂûãÂÖ∂ÂÆûÊòØ RBAC0 ÁöÑÂçáÁ∫ßÁâàÔºåÂÆÉÂØπËßíËâ≤ËøôÂ±ÇÂÖÉÁ¥†‰∏äËøõË°å‰∫ÜÁªÜÂàÜÔºåÂºïÂÖ•ÁªßÊâøÁöÑÊ¶ÇÂøµÔºå‰πüÂ∞±ÊòØÂèØ‰ª•ÁªßÊâøÊüê‰∏™Âü∫Á°ÄËßíËâ≤ÁîüÊàêÂ≠êËßíËâ≤„ÄÇ\n\n![RBAC1 Ê®°Âûã](https://img.mrsingsing.com/authentication-rbac1)\n\n**Â∫îÁî®Âú∫ÊôØ**ÔºöÊâøÊé•‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÂ∏ÇÂú∫ÁªèÁêÜÂ≤ó‰ΩçÂèØËÉΩ‰ºöÂàÜ‰∏∫ÊÄªÁõëÁ∫ßÂà´„ÄÅÁªèÁêÜÁ∫ßÂà´„ÄÅÂâØÁªèÁêÜÁ∫ßÂà´ÔºåËøôÊó∂ÂÄôÂ¶ÇÊûúÂ∞èÈôàÂè™ÊòØ‰∏Ä‰∏™ÂâØÁªèÁêÜÁ∫ßÂà´ÁöÑÔºåÈÇ£‰πà‰ªñÊâÄÊã•ÊúâÁöÑÂ∏ÇÂú∫ÁªèÁêÜÁöÑÊùÉÈôêËÇØÂÆöÂ∞±Ê≤°ÊúâÊÄªÁõëÁ∫ßÂà´ÁöÑÂ§ö„ÄÇ\n\nRBAC1 Ê®°ÂûãÂàôÊõ¥Â•ΩÂú∞Âú®ËßíËâ≤Â±ÇÈù¢ËøõË°åÁªÜÂàÜÔºåÊõ¥Â•ΩÂú∞Êò†Â∞Ñ‰∫Ü‰ºÅ‰∏öÁªÑÁªáÊû∂ÊûÑ‰∏≠ÁöÑËÅåËÉΩÁöÑÊùÉÈôêÔºåÊ†πÊçÆÂÆûÈôÖÁöÑÁÆ°ÁêÜÊùÉÈôêÂØπÁõ∏‰ººËÅåËÉΩÁöÑËßíËâ≤ËøõË°åÂà†Âáè‰ª•ËææÂà∞Á∫ßÂà´ÂàÜÊòéÁöÑÊïàÊûú„ÄÇ\n\n### RBAC2 Ê®°Âûã\n\nÂú® RBAC2 ‰∏≠ÂØπËßíËâ≤Â±ÇÈù¢Â¢ûÂä†‰∫ÜÊõ¥Â§öÁöÑÈôêÂà∂Ôºö\n\n- ÈùôÊÄÅËÅåË¥£ÂàÜÁ¶ª SSD\n  - ËßíËâ≤‰∫íÊñ•ÔºöÁõ∏ÂêåÁî®Êà∑‰∏çËÉΩÂêåÊó∂Êã•Êúâ‰∫íÊñ•ÂÖ≥Á≥ªÁöÑËßíËâ≤Ôºå‰æãÂ¶Ç‰ºöËÆ°ÂíåÂá∫Á∫≥‰∏§‰∏™ËßíËâ≤Â∞±ÊòØ‰∫íÊñ•ÁöÑ\n  - Âü∫Êï∞Á∫¶ÊùüÔºöËßíËâ≤Ë¢´ÂàÜÈÖçÂà∞ÁöÑÁî®Êà∑ÊúâÊï∞Èáè‰∏äÈôêÔºå‰æãÂ¶ÇÂÖ¨Âè∏‰∏≠Âè™Êúâ‰∏Ä‰∏™ CEO ËÅå‰ΩçÔºåÈÇ£‰πàËøô‰∏™ËßíËâ≤ÁöÑÊï∞ÈáèÂ∞±ÊòØÊúâÈôêÁöÑ\n  - ÂÖàÂÜ≥Êù°‰ª∂ËßíËâ≤ÔºöË¶ÅÊã•ÊúâÊõ¥È´òÁ∫ßÂà´ÁöÑËßíËâ≤ÊùÉÈôêÔºåÈúÄË¶ÅÂÖàËé∑ÂèñÂà∞Áõ∏ÂØπÊù•ËØ¥‰ΩéÁ∫ßÂà´ÁöÑ‰∏Ä‰∫õÊùÉÈôêÔºå‰æãÂ¶ÇÂâØÁªèÁêÜË¶ÅÊÉ≥Ëé∑ÂèñÂà∞ÊÄªÁõëÁ∫ßÂà´ÊùÉÈôêÔºåÈÇ£‰πà‰ªñÈúÄË¶ÅÂÖàËé∑ÂèñÂà∞ÁªèÁêÜÁ∫ßÂà´ÁöÑÊùÉÈôê\n- Âä®ÊÄÅËÅåË¥£ÂàÜÁ¶ª DSD\n  - Âä®ÊÄÅÁöÑÈôêÂà∂Áî®Êà∑ÂèäÂÖ∂Êã•ÊúâÁöÑËßíËâ≤Ôºå‰æãÂ¶Ç‰∏Ä‰∏™Áî®Êà∑ÂèØ‰ª•ÂêåÊó∂Êã•Êúâ‰∏§‰∏™ËßíËâ≤Ôºå‰ΩÜÊòØËøêË°åÊó∂Âè™ËÉΩÊøÄÊ¥ª‰∏Ä‰∏™ËßíËâ≤\n\n![RBAC2 Ê®°Âûã](https://img.mrsingsing.com/authentication-rbac2)\n\n### RBAC3 Ê®°Âûã\n\nRBAC3 Ê®°ÂûãÂ∞±ÊòØ `RBAC1 + RBAC2` ‰∏§‰∏™Ê®°ÂûãÁöÑÂêàÈõÜÔºåÊâÄ‰ª• RBAC3 Êó¢Êúâ RBAC1 ÁöÑËßíËâ≤Á≠âÁ∫ßÂàíÂàÜÔºå‰πüÊúâ RBAC2 ÁöÑËßíËâ≤ÈôêÂà∂„ÄÇËøôÁßçÊ®°ÂûãÂè™ÊúâÂú®Á≥ªÁªüÊØîËæÉÂ§çÊùÇÁöÑÊó∂ÂÄôÊâçÊ¥æÂæó‰∏äÁî®Âú∫Ôºå‰∏çÁÑ∂ËÆæËÆ°ÂæóËøáÂ∫¶Â§çÊùÇÔºåÂØπÂºÄÂèëÂíåÂêéÊúüÁª¥Êä§‰πü‰∏çÊòØÂ•Ω‰∫ãÊÉÖ„ÄÇ\n\nRBAC Ê®°ÂûãÁöÑ‰ºòÁº∫ÁÇπÔºö\n\n**‰ºòÁÇπ**\n\n1. ÁÆÄÂåñ‰∫ÜÁî®Êà∑ÂíåÊùÉÈôêÁöÑÂÖ≥Á≥ªÔºåÊùÉÈôêÂè™Ë¶Å‰∏ÄÊ¨°Ëµã‰∫àËßíËâ≤Â∞±ËÉΩÈáçÂ§ç‰ΩøÁî®\n2. ÂØπÂêéÁª≠ÁöÑÁª¥Êä§Êõ¥Âä†ÂèãÂ•ΩÔºåÁî®Êà∑ÂíåÊùÉÈôê‰πãÈó¥Â≠òÂú®Êõ¥Â§öÁöÑÊñ°ÊóãÁ©∫Èó¥Ôºå‰æø‰∫éÂü∫‰∫éËßíËâ≤ËøõË°åÊùÉÈôêÊâ©Â±ï\n\n**Áº∫ÁÇπ**\n\n1. RBAC Ê®°ÂûãÂπ∂Êú™Êèê‰æõÊéßÂà∂Êìç‰ΩúÈ°∫Â∫èÁöÑÊú∫Âà∂Ôºå‰ºöÂØπÊúâ‰∏•Ê†ºÊìç‰ΩúÈ°∫Â∫èÁöÑÁ≥ªÁªüÈÄ†ÊàêÂõ∞Èöæ\n\n## RBAC Êû∂ÊûÑËÆæËÆ°\n\nÂâçÈù¢Êàë‰ª¨ÊèêÂà∞ RBAC Ê∂âÂèä‰∏â‰∏™Â±ÇÈù¢ÔºåÂ∞±ÊòØÁî®Êà∑„ÄÅËßíËâ≤ÂíåÊùÉÈôê„ÄÇ\n\nÁî®Êà∑Êàë‰ª¨ÂèØ‰ª•ÁêÜËß£‰∏∫Áã¨Á´ãÁöÑ‰∏™‰ΩìÔºå‰æãÂ¶ÇÂº†‰∏â„ÄÅÊùéÂõõ„ÄÅÁéã‰∫î„ÄÇËÄåËßíËâ≤ÁöÑÂÆö‰πâÊòØÂæàÂπøÊ≥õÁöÑÔºåÂ¶ÇÊûúÊàë‰ª¨‰ªéËÅå‰ΩçÂàíÂàÜÊúâÈîÄÂîÆÁªèÁêÜ„ÄÅÂ∏ÇÂú∫ÁªèÁêÜ„ÄÅÈ°πÁõÆÁªèÁêÜÁ≠âÁ≠âÔºåÊåâÈÉ®Èó®ÂàíÂàÜÁöÑËØùÂèØ‰ª•ÊòØÈîÄÂîÆÈÉ®„ÄÅÂ∏ÇÂú∫ÈÉ®„ÄÅÈ°πÁõÆÈÉ®ÔºåÊâÄ‰ª•ËØ¥ËßíËâ≤Â∫îËØ•ÊåâÁÖßÁ≥ªÁªüÁöÑ‰∏öÂä°ÈúÄÊ±ÇÊù•ÂàíÂàÜ„ÄÇËÄå‰∫ãÂÆû‰∏äÔºåÂú®Êàë‰ª¨ÁöÑÊû∂ÊûÑËÆæËÆ°‰∏≠ÈúÄË¶ÅÂØπÁî®Êà∑ÂíåËßíËâ≤ÁöÑÂÖ≥Á≥ªËøõË°åÊèèËø∞ÔºåÊØîÂ¶ÇÂÖ∂ÂÜÖÂÆπÂ∫îËØ•ÊòØÂº†‰∏âÊòØÈîÄÂîÆÁªèÁêÜ„ÄÅÊùéÂõõÊòØÂ∏ÇÂú∫ÁªèÁêÜ„ÄÅÁéã‰∫îÊòØÈ°πÁõÆÁªèÁêÜ„ÄÇ\n\nËøòÊúâÂ∞±ÊòØÊùÉÈôêÂ±ÇÈù¢ÔºåÊùÉÈôêÂ±ÇÈù¢ÂèØ‰ª•ÂàíÂàÜ‰∏∫Êü•ÁúãÂÆ¢Êà∑ÂàóË°®„ÄÅÊ∑ªÂä†ÂÆ¢Êà∑„ÄÅÂà†Èô§ÂÆ¢Êà∑Á≠âÁ≠â„ÄÇÊùÉÈôêÂíåËßíËâ≤ÊòØÁªëÂÆöËµ∑Êù•ÁöÑÔºåÊâÄ‰ª•ËßíËâ≤ÂíåÊùÉÈôêÁöÑÊèèËø∞ÂèØËÉΩÊòØËøôÊ†∑ÁöÑÔºöÈîÄÂîÆÁªèÁêÜÂèØ‰ª•Êü•ÁúãÂÆ¢Êà∑„ÄÅÊ∑ªÂä†ÂÆ¢Êà∑„ÄÅÂà†Èô§ÂÆ¢Êà∑ÔºõÈîÄÂîÆ‰ªÖÂèØ‰ª•Êü•ÁúãÂÆ¢Êà∑„ÄÇ\n\n![RBAC Êû∂ÊûÑËÆæËÆ°](https://img.mrsingsing.com/autification-rbac-architect)\n\nÂú®ÂÆûÈôÖÁöÑ‰∏öÂä°ÂºÄÂèë‰∏≠ÔºåÂèØ‰ª•ÂØπ RBAC Ê®°ÂûãÂÅöÁõ∏ÂÖ≥ÁöÑÊâ©Â±ïÔºå‰æãÂ¶ÇÂú®ÂëòÂ∑•‰∫∫Êï∞‰ºóÂ§öÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèçÂ§çÂú∞ÂØπÊüê‰∏™ÂëòÂ∑•ËøõË°åÊùÉÈôêÊéà‰∫àÊòØ‰∏™ÁπÅÁêêÁöÑË°å‰∏∫ÔºåÊàë‰ª¨ÂèØ‰ª•Â¢ûÂä† **Áî®Êà∑ÁªÑ** ÁöÑÊ¶ÇÂøµÔºåÁõ¥Êé•ÁªôÁî®Êà∑ÁªÑÂàÜÈÖçËßíËâ≤ÔºåÂÜçÊääÁî®Êà∑Âä†ÂÖ•Áî®Êà∑ÁªÑÔºåËøôÊ†∑Áî®Êà∑Èô§‰∫ÜËá™Ë∫´ÁöÑÊùÉÈôêÂ§ñÔºåËøòÂÖ±‰∫´‰∫ÜÁî®Êà∑ÁªÑÁöÑÊâÄÊúâÊùÉÈôê„ÄÇ\n\n## Êï∞ÊçÆÂ∫ì‰∏éÂäüËÉΩÊ®°ÂùóËÆæËÆ°\n\nÂú®Êû∂ÊûÑËÆæËÆ°ÁöÑÁ´†ËäÇ‰∏≠Êàë‰ª¨ÊèêÂà∞‰∫ÜÈô§Áî®Êà∑„ÄÅËßíËâ≤ÂíåÊùÉÈôêÂ§ñÔºå‰ªñ‰ª¨Áõ∏‰∫íËÅîÁ≥ªÁöÑÂÖ≥Á≥ªÂÖ±‰∫î‰∏™Â±ÇÈù¢ÔºåÊò†Â∞ÑÂà∞Êï∞ÊçÆÂ∫ìÁöÑËÆæËÆ°ÂØπÂ∫îÁöÑÂ∞±ÊòØ‰∫îÂº†Ë°®„ÄÇ\n\n- userÔºàÁî®Êà∑ÔºâÔºöÊØè‰∏™Áî®Êà∑ÈÉΩÊúâÂîØ‰∏ÄÁöÑ UID ËØÜÂà´ÔºåÂπ∂Ë¢´Êéà‰∫à‰∏çÂêåÁöÑËßíËâ≤\n- roleÔºàËßíËâ≤ÔºâÔºö‰∏çÂêåËßíËâ≤ÂÖ∑Êúâ‰∏çÂêåÊùÉÈôê\n- permissionÔºàÊùÉÈôêÔºâÔºöËÆøÈóÆÊùÉÈôê\n- Áî®Êà∑-ËßíËâ≤Êò†Â∞ÑÔºöÁî®Êà∑ÂíåËßíËâ≤‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª\n- ËßíËâ≤-ÊùÉÈôêÊò†Â∞ÑÔºöËßíËâ≤ÂíåÊùÉÈôê‰πãÈó¥ÁöÑÊò†Â∞Ñ\n\n![Êï∞ÊçÆÂ∫ìËÆæËÆ°](https://img.mrsingsing.com/authentication-rbac-database-table-design)\n\n![ÂäüËÉΩÊ®°Âùó](https://img.mrsingsing.com/authentication-rbac-feature-module)\n\n## ÂâçÁ´ØÊùÉÈôêÊéßÂà∂ÊÄùË∑Ø\n\nÂâçÁ´ØÊùÉÈôê‰ªéÊú¨Ë¥®‰∏äÊù•ËØ¥Âç≥Ê†πÊçÆÊùÉÈôêË°®ÂØπËßÜÂõæÂ±ÇÁöÑÂ±ïÁ§∫‰ª•ÂèäÂØπËØ∑Ê±ÇÊé•Âè£ÁöÑËÆøÈóÆËøõË°åÈôêÂà∂„ÄÇ\n\n‰∏ãÈù¢Êàë‰ª¨Ë∞àË∞àÂâçÁ´ØÁïåÈù¢ÂØπ‰∫éÊùÉÈôêÊéßÂà∂ÁöÑÁ≤íÂ∫¶Â§ßÂ∞èÔºå‰ª•‰º†ÁªüÁöÑÂêéÂè∞Á≥ªÁªü‰∏∫‰æãÔºåÊúâ‰ª•È°µÈù¢‰∏∫Áª¥Â∫¶‰Ωú‰∏∫ÊùÉÈôêÊéßÂà∂Á≤íÂ∫¶ÁöÑÔºåÊã•ÊúâÊùÉÈôêÁöÑ‰∫∫ÂëòÊñπÂèØËÆøÈóÆÂØπÂ∫îÁöÑÈ°µÈù¢ÔºõÊúâ‰ª•Êìç‰Ωú‰Ωú‰∏∫ÊùÉÈôêÊéßÂà∂ÁöÑÔºåÂØπÂ∫îÁöÑÂâçÁ´ØÁïåÈù¢‰∏≠ÁöÑÈ°µÈù¢ÂÖÉÁ¥†ÈúÄË¶ÅÈöêËóèÊàñÊèêÁ§∫Ôºõ‰πüÂ≠òÂú®Áî®Êà∑ÈÄöËøáÊµèËßàÂô®ÁöÑÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰øÆÊîπ DOM ÂÖÉÁ¥†‰ª•ÁªïËøáÊùÉÈôêÁõ¥Êé•Êìç‰ΩúÁöÑÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÂØπÊé•Âè£ËØ∑Ê±ÇÂÅöÊã¶Êà™„ÄÇ\n\n- È°µÈù¢ÊùÉÈôêÔºàËèúÂçïÊùÉÈôêÔºâÔºöËøõÂÖ•È°µÈù¢ÁöÑÊùÉÈôê\n- Êìç‰ΩúÊùÉÈôêÔºöÂ¢ûÂà†ÊîπÊü•ÁöÑÊùÉÈôê\n- Êï∞ÊçÆÊùÉÈôêÔºöÂèëÈÄÅÊé•Âè£Âà∞ÊúçÂä°Á´ØÁöÑÊùÉÈôê\n\n![Ant Design Pro](https://img.mrsingsing.com/authentication-rbac-management-system)\n\nÂú®‰º†ÁªüÁöÑÂêéÂè∞Á≥ªÁªü‰∏≠‰ºöÂú®ÁôªÂΩïËØ∑Ê±Ç‰∏≠ÔºåÂæóÂà∞Áî®Êà∑ÊâÄÊã•ÊúâÁöÑÊùÉÈôêÊï∞ÊçÆÔºåËøôÈÉ®ÂàÜÊòØÈúÄË¶ÅÂêéÁ´ØÁöÑÊäÄÊúØÊîØÊåÅÁöÑ„ÄÇÂâçÁ´ØÊ†πÊçÆÊùÉÈôêÊï∞ÊçÆÂ±ïÁ§∫ÂØπÂ∫îÁöÑËèúÂçïÔºåÁÇπÂáªËèúÂçïÔºåÊâçËÉΩÊü•ÁúãÁõ∏ÂÖ≥ÁöÑÁïåÈù¢„ÄÇ\n\nÁïåÈù¢ÁöÑÊéßÂà∂ÔºöÂ¶ÇÊûúÁî®Êà∑Ê≤°ÊúâÁôªÂΩïÔºåÊâãÂä®Âú®Âú∞ÂùÄÊ†è‰∏äË∑≥ËΩ¨Âà∞ÁÆ°ÁêÜÁïåÈù¢Âú∞ÂùÄÔºåÂàôÈúÄË¶ÅË∑≥ËΩ¨Âà∞ÁôªÂΩïÁïåÈù¢„ÄÇÂ¶ÇÊûúÁî®Êà∑Â∑≤ÁªèÁôªÂΩïÔºå‰ΩÜÊòØÊâãÂä®ËæìÂÖ•ÈùûÊùÉÈôêËåÉÂõ¥ÂÜÖÁöÑÁïåÈù¢Âú∞ÂùÄÔºåÂàôÈúÄË¶ÅÈáçÂÆöÂêëÂà∞È¢ÑËÆæÁöÑ 404 ÁïåÈù¢„ÄÇ\n\nÂ¶ÇÊûúÁî®Êà∑ÈÄöËøáÈùûÂ∏∏ËßÑÊìç‰ΩúÔºåÊØîÂ¶ÇÈÄöËøáÊµèËßàÂô®Â∞ÜÊüê‰∫õÁ¶ÅÁî®ÊåâÈíÆÂèòÊàêÂêØÁî®Áä∂ÊÄÅÔºåÊ≠§Êó∂ÂèëÈÄÅÁöÑËØ∑Ê±ÇÔºå‰πüÂ∫îËØ•Ë¢´ÂâçÁ´ØÊã¶Êà™„ÄÇ\n\nÂú® React ‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáÊääÊùÉÈôêÊï∞ÊçÆÂú®Ê†πËäÇÁÇπÈÄöËøá Context API Âêë‰∏ã‰º†ÈÄíÔºåÈÄöËøáÈ´òÈò∂ÁªÑ‰ª∂ÂØπÊùÉÈôêÊéßÂà∂ÁöÑËèúÂçï„ÄÅÂÖÉÁ¥†ËøõË°åÂ§ñÂ±ÇÂåÖË£πÔºåÂÖ∂Ê¨°ÂØπ‰∫éÊï∞ÊçÆËØ∑Ê±ÇÊã¶Êà™ÂèØ‰ª•Âú®ÂèëÈÄÅ HTTP ËØ∑Ê±ÇÂâçÂÅöÊ†°È™å„ÄÇ\n\nÂèØ‰ª•ÂèÇËÄÉ [Ant Design Pro](https://pro.ant.design/docs/authority-management-cn) ÁöÑÊùÉÈôêËÆæËÆ°„ÄÇ\n\n---\n\n**ÂèÇËÄÉËµÑÊñôÔºö**\n\n- [RBAC Ê®°ÂûãÔºöÂü∫‰∫éÁî®Êà∑-ËßíËâ≤-ÊùÉÈôêÊéßÂà∂ÁöÑ‰∏Ä‰∫õÊÄùËÄÉ](http://www.woshipm.com/pd/1150093.html)\n- [Âü∫‰∫é RBAC ÁöÑÂâçÁ´ØÊùÉÈôêÊéßÂà∂](https://juejin.im/post/5e048326f265da33f8653c27)\n- [ÁΩëÊòìÈ´òÊâãÔºöËßíËâ≤ÊùÉÈôêËÆæËÆ°ÁöÑ 100 ÁßçËß£Ê≥ï](https://www.uisdc.com/100-solutions-for-character-permission-design)\n- [ËßíËâ≤ÊùÉÈôêËÆæËÆ°Ôºö‰ª•ÈòøÈáå‰∫ßÂìÅ‰∏∫‰æãÔºåÂ±ïÂºÄ‰ΩìÈ™åÂàÜÊûê](http://www.woshipm.com/pd/3745592.html)\n- [RBAC ÊùÉÈôêÁÆ°ÁêÜÊ®°ÂûãÔºöÂü∫Êú¨Ê®°ÂûãÂèäËßíËâ≤Ê®°ÂûãËß£ÊûêÂèä‰∏æ‰æã](http://www.woshipm.com/pd/440765.html)\n- [Â¶Ç‰ΩïËÆæËÆ°ÁΩëÁ´ôÊùÉÈôêÁ≥ªÁªüÔºü](https://www.zhihu.com/question/20313385)\n- [Êâ©Â±ï RBAC Áî®Êà∑ËßíËâ≤ÊùÉÈôêËÆæËÆ°ÊñπÊ°à](https://www.cnblogs.com/zwq194/archive/2011/03/07/1974821.html)\n- [RBAC ÊùÉÈôêÁÆ°ÁêÜÁ≥ªÁªüËÆæËÆ°ÊÄùË∑Ø](https://juejin.im/post/5e72cfa16fb9a07cc01a4262)\n","source":"_posts/architect-design-based-on-rbac.md","raw":"---\ntitle: Âü∫‰∫é RBAC ÊùÉÈôêÊ®°ÂûãÁöÑÊû∂ÊûÑËÆæËÆ°\ndate: '2020-05-15'\n---\n\nË∞àÂà∞ÊùÉÈôêÊéßÂà∂ÔºåÂÆûÈôÖ‰∏äÂú®Êàë‰ª¨ÁöÑÁîüÊ¥ª‰∏≠Êó†Â§Ñ‰∏çÂú®Ôºå‰æãÂ¶ÇÊàë‰ª¨Êó†Êó∂Êó†ÂàªÈÉΩÂú®‰ΩøÁî®ÁöÑÊô∫ËÉΩÊâãÊú∫ÔºåÊâìÂºÄÊâãÊú∫ÈúÄË¶ÅÁîüÁâ©ÊåáÁ∫πÊàñËÄÖ‰∫∫ËÑ∏ËØÜÂà´ÔºõÂΩì‰Ω†ËøõÂÖ•ÂÖ¨Âè∏ÁöÑÊó∂ÂÄôÔºå‰Ω†ÈúÄË¶ÅÂ∑•Âç°Âú®Èó®Á¶ÅÊª¥‰∏Ä‰∏ãÔºõÂèàÂ¶ÇÊõæÁªèÁöÑ‰Ω†ÊòØÂê¶ÊúâËøáÂçäÂ§úÊâìÂºÄÂøÉ‰ª™Â•≥Â≠©ÁöÑ QQ Á©∫Èó¥ÔºåÊ¨≤‰∏ÄÊé¢Á©∂Á´üÁöÑÊó∂ÂÄôÔºåÂç¥ÂëäËØâÈúÄË¶ÅÊ∑ªÂä†Â•ΩÂèãÊâçËÉΩËÆøÈóÆ„ÄÇËøô‰∫õÈÉΩÊòØÊàë‰ª¨Êó•Â∏∏ÁîüÊ¥ª‰∏≠‰ΩìÁé∞ÊùÉÈôêÁöÑÂú∞ÊñπÔºåËÄåÂú®ËΩØ‰ª∂ÂºÄÂèë‰∏≠ÔºåÊùÉÈôêÁÆ°ÁêÜ‰πüÊòØÊó†Â§Ñ‰∏çÂú®ÁöÑ‰∫ßÂìÅËÆæËÆ°ÂäüËÉΩÔºåÂ∞§ÂÖ∂ÊòØÂêéÂè∞ÁÆ°ÁêÜÂêéÂè∞Êó†Ê≥ïÂØπÊùÉÈôêÁÆ°ÁêÜÈÅøËÄå‰∏çË∞àÔºå‰ªäÂ§©Â∞ùËØïÊ∑±ÂÖ•‰∫ÜËß£ÊùÉÈôêÁÆ°ÁêÜËÆæËÆ°‰∏≠ÊúÄÂ∏∏Áî®ÁöÑ RBAC Ê®°Âûã„ÄÇ\n\n## ÊùÉÈôêÊ®°Âûã\n\n**ÊùÉÈôê** ‰∫åÂ≠ó‰ªéÂ≠óÈù¢‰∏äÂèØÊãÜÂàÜ‰∏∫ `ÊùÉÂäõ+ÈôêÂà∂`Ôºå‰ªé‰ΩøÁî®ËÄÖÁöÑËßíÂ∫¶Êù•ËØ¥Ôºå‰πüÂ∞±ÊòØÂú®ÈôêÂà∂ÁöÑËåÉÂõ¥ÂÜÖÊ≠£Á°ÆÂú∞Ë°åÈ©∂ÊùÉÂäõÔºåËÄåÁ´ôÂú®ËÆæËÆ°ËÄÖÁöÑËßíÂ∫¶Êù•Ëß£ËØªÔºåÂàôÊòØÈÄöËøáÂêàÁêÜÁöÑÊâãÊÆµÊéßÂà∂‰ΩøÁî®ËÄÖËÉΩËÆøÈóÆÂà∞‰ªñ‰ª¨ËÉΩÂ§üËÆøÈóÆÂà∞ÁöÑËµÑÊ∫ê„ÄÇ\n\nÂú®ÊùÉÈôêËÆæËÆ°È¢ÜÂüüÔºåÊúÄÂ∏∏ËßÅÁöÑÊùÉÈôêÊ®°ÂûãÊúâ‰ª•‰∏ãÂõõÁßçÔºö\n\n- ACLÔºàAccess Control ListÔºâÔºöËÆøÈóÆÊéßÂà∂ÂàóË°® `Áî®Êà∑ -> ÊùÉÈôê`\n- RBACÔºàRole-Based Access ControlÔºâÔºöÂü∫‰∫é **ËßíËâ≤** ÁöÑÊùÉÈôêÊéßÂà∂ `Áî®Êà∑ -> ËßíËâ≤ -> ÊùÉÈôê`\n- ABACÔºàAttribute-Based Access ControlÔºâÔºöÂü∫‰∫é **Â±ûÊÄß** ÁöÑÊùÉÈôêÊéßÂà∂ÔºåËØ•Ê®°ÂûãÊ†πÊçÆÁâπÊÆäÁöÑËßÑÂàôÂàÜÈÖçÊùÉÈôê `ÔºàÁî®Êà∑„ÄÅËµÑÊ∫ê„ÄÅÂØπË±°Â±ûÊÄßÔºâ-> ÊùÉÈôê`\n- PBACÔºàPolicy-Based Access ControlÔºâÔºöÂü∫‰∫é **Á≠ñÁï•** ÁöÑÊùÉÈôêÊéßÂà∂ÔºåÁî®Êà∑ÔºàÁªÑÔºâÈö∂Â±û‰∫éËßíËâ≤ÔºåËßíËâ≤Èö∂Â±û‰∫éËµÑÊ∫êÔºàÈ°πÁõÆÔºâ`Áî®Êà∑ -> ËßíËâ≤ -> ÔºàËµÑÊ∫ê/È°πÁõÆ + ÊùÉÈôêÔºâ`\n\nÁ¨¨‰∏ÄÁßç ACL Ê®°ÂûãÔºåÊùÉÈôêËÉΩÁõ¥Êé•Ëµã‰∫àÁî®Êà∑Ôºå‰æãÂ¶ÇÂ∞ÜÊü•ÁúãËÆ¢ÂçïÂàóË°®ÔºàÊùÉÈôêÔºâËµã‰∫àÊüê‰ΩçËøêËê•‰∫∫ÂëòÔºàÁî®Êà∑Ôºâ„ÄÇ‰ΩÜÊòØËøôÁßçÊ®°ÂºèÁöÑÁº∫ÁÇπÂú®‰∫éÔºå‰ΩÜÁî®Êà∑ÈáèËææÂà∞‰∏ÄÂÆöÈáèÁ∫ßÁöÑÊó∂ÂÄôÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂØπÊØè‰∏™Áî®Êà∑ÈÉΩËøõË°å‰∏ÄÊ¨°ÊéàÊùÉÊìç‰ΩúÔºåÈÇ£‰πàËøô‰∏™Â∑•‰ΩúÈáèÂ∞±‰ºöÁõ∏ÂΩìÂ§ß„ÄÇ\n\nÂõ†Ê≠§Â∞±Âá∫Áé∞‰∫Ü RBAC Ê®°ÂûãÔºåËøôÊòØËΩØ‰ª∂ËÆæËÆ°‰∏≠ÊúÄÂ∏∏Áî®ÁöÑÊùÉÈôêÁÆ°ÁêÜÊ®°ÂûãÔºåÁõ∏ÊØî‰∫é ACL Ê®°ÂûãÔºåRBAC Ê®°ÂûãÂú®Áî®Êà∑‰∏éÊùÉÈôê‰πãÈó¥Â§ö‰∫Ü‰∏Ä‰∏™ÂÖÉÁ¥†„ÄåËßíËâ≤„ÄçÔºåÈÄöËøáÊùÉÈôêÂÖ≥ËÅîËßíËâ≤„ÄÅËßíËâ≤ÂÖ≥ËÅîÁî®Êà∑ÁöÑÊñπÊ≥ïÊù•Èó¥Êé•Âú∞Ëµã‰∫àÁî®Êà∑ÊùÉÈôêÔºå‰ªéËÄåÂÆûÁé∞Áî®Êà∑‰∏éÊùÉÈôêÁöÑËß£ËÄ¶„ÄÇ\n\nÂêé‰∏§ÁßçÂ§ßÊ¶ÇÁü•ÈÅìÂ∞±Ë°åÔºåÂõ†‰∏∫‰∏ÄËà¨‰∏ç‰ºöÁî®Âà∞ÔºåËØ¶ÊÉÖÂèØËá™Ë°å Google ‰∫ÜËß£„ÄÇ\n\n<!-- more -->\n\n## RBAC Ê®°ÂûãÁöÑÊºîËøõ\n\nÂú® RBAC Ê®°ÂûãÁöÑÊºîËøõÂèëÂ±ïÂá∫Âõõ‰∏™ÁâàÊú¨ÔºåÂàÜÂà´ÊòØ RBAC 0~3„ÄÇ\n\n### RBAC0 Ê®°Âûã\n\nRBAC9 ÊòØÊúÄÂü∫Á°ÄÁöÑÊùÉÈôêÊ®°ÂûãÔºåÂæàÂ§ö‰∫ßÂìÅÂü∫‰∫éËØ•Ê®°ÂûãÂ∞±Â∑≤ÁªèËÉΩÊª°Ë∂≥ËÆæËÆ°ÈúÄÊ±Ç„ÄÇÁî®Êà∑ÂíåËßíËâ≤‰πãÈó¥ÂèØ‰ª•ÊòØ‰∏ÄÂØπÂ§ö‰πüÂèØ‰ª•ÊòØÂ§öÂØπÂ§öÂÖ≥Á≥ªÔºåËÄåËßíËâ≤ÂíåÊùÉÈôê‰πãÈó¥ÂàôÂ§ö‰ª•Â§öÂØπÂ§öÁöÑÂÖ≥Á≥ª‰∏∫‰∏ªÔºåÁî®Êà∑Êã•ÊúâÁöÑÊùÉÈôêÁ≠â‰∫é‰ªñÊâÄÊúâÁöÑËßíËâ≤ÊåÅÊúâÁöÑÊùÉÈôê‰πãÂíå„ÄÇ\n\n**Â∫îÁî®Âú∫ÊôØ**Ôºö‰æãÂ¶ÇÂú®ÁîµÂïÜÂÖ¨Âè∏‰∏≠ÊäΩË±°Âá∫Âá†ÁßçÁÆ°ÁêÜ‰∏öÂä°ÁöÑËßíËâ≤ÔºåËØ∏Â¶ÇÈîÄÂîÆÁªèÁêÜ„ÄÅÈ°πÁõÆÁªèÁêÜ„ÄÅÂ∏ÇÂú∫ÁªèÁêÜÁ≠âÁ≠âÔºåÂ∞èÈôàÊó¢ÊãÖÂΩìËê•ÈîÄÈÉ®Èó®ÁöÑÂ∏ÇÂú∫ÁªèÁêÜÂèàÊãÖÂΩìÈîÄÂîÆÈÉ®ÁöÑÈîÄÂîÆÁªèÁêÜÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂ∞ÜËøô‰∏§‰∏™ËßíËâ≤ÁöÑËµã‰∫àÁªô‰ªñ„ÄÇ\n\n![RBAC0 Ê®°Âûã](https://img.mrsingsing.com/authentication-rbac0)\n\n### RBAC1 Ê®°Âûã\n\nRBAC1 Ê®°ÂûãÂÖ∂ÂÆûÊòØ RBAC0 ÁöÑÂçáÁ∫ßÁâàÔºåÂÆÉÂØπËßíËâ≤ËøôÂ±ÇÂÖÉÁ¥†‰∏äËøõË°å‰∫ÜÁªÜÂàÜÔºåÂºïÂÖ•ÁªßÊâøÁöÑÊ¶ÇÂøµÔºå‰πüÂ∞±ÊòØÂèØ‰ª•ÁªßÊâøÊüê‰∏™Âü∫Á°ÄËßíËâ≤ÁîüÊàêÂ≠êËßíËâ≤„ÄÇ\n\n![RBAC1 Ê®°Âûã](https://img.mrsingsing.com/authentication-rbac1)\n\n**Â∫îÁî®Âú∫ÊôØ**ÔºöÊâøÊé•‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÂ∏ÇÂú∫ÁªèÁêÜÂ≤ó‰ΩçÂèØËÉΩ‰ºöÂàÜ‰∏∫ÊÄªÁõëÁ∫ßÂà´„ÄÅÁªèÁêÜÁ∫ßÂà´„ÄÅÂâØÁªèÁêÜÁ∫ßÂà´ÔºåËøôÊó∂ÂÄôÂ¶ÇÊûúÂ∞èÈôàÂè™ÊòØ‰∏Ä‰∏™ÂâØÁªèÁêÜÁ∫ßÂà´ÁöÑÔºåÈÇ£‰πà‰ªñÊâÄÊã•ÊúâÁöÑÂ∏ÇÂú∫ÁªèÁêÜÁöÑÊùÉÈôêËÇØÂÆöÂ∞±Ê≤°ÊúâÊÄªÁõëÁ∫ßÂà´ÁöÑÂ§ö„ÄÇ\n\nRBAC1 Ê®°ÂûãÂàôÊõ¥Â•ΩÂú∞Âú®ËßíËâ≤Â±ÇÈù¢ËøõË°åÁªÜÂàÜÔºåÊõ¥Â•ΩÂú∞Êò†Â∞Ñ‰∫Ü‰ºÅ‰∏öÁªÑÁªáÊû∂ÊûÑ‰∏≠ÁöÑËÅåËÉΩÁöÑÊùÉÈôêÔºåÊ†πÊçÆÂÆûÈôÖÁöÑÁÆ°ÁêÜÊùÉÈôêÂØπÁõ∏‰ººËÅåËÉΩÁöÑËßíËâ≤ËøõË°åÂà†Âáè‰ª•ËææÂà∞Á∫ßÂà´ÂàÜÊòéÁöÑÊïàÊûú„ÄÇ\n\n### RBAC2 Ê®°Âûã\n\nÂú® RBAC2 ‰∏≠ÂØπËßíËâ≤Â±ÇÈù¢Â¢ûÂä†‰∫ÜÊõ¥Â§öÁöÑÈôêÂà∂Ôºö\n\n- ÈùôÊÄÅËÅåË¥£ÂàÜÁ¶ª SSD\n  - ËßíËâ≤‰∫íÊñ•ÔºöÁõ∏ÂêåÁî®Êà∑‰∏çËÉΩÂêåÊó∂Êã•Êúâ‰∫íÊñ•ÂÖ≥Á≥ªÁöÑËßíËâ≤Ôºå‰æãÂ¶Ç‰ºöËÆ°ÂíåÂá∫Á∫≥‰∏§‰∏™ËßíËâ≤Â∞±ÊòØ‰∫íÊñ•ÁöÑ\n  - Âü∫Êï∞Á∫¶ÊùüÔºöËßíËâ≤Ë¢´ÂàÜÈÖçÂà∞ÁöÑÁî®Êà∑ÊúâÊï∞Èáè‰∏äÈôêÔºå‰æãÂ¶ÇÂÖ¨Âè∏‰∏≠Âè™Êúâ‰∏Ä‰∏™ CEO ËÅå‰ΩçÔºåÈÇ£‰πàËøô‰∏™ËßíËâ≤ÁöÑÊï∞ÈáèÂ∞±ÊòØÊúâÈôêÁöÑ\n  - ÂÖàÂÜ≥Êù°‰ª∂ËßíËâ≤ÔºöË¶ÅÊã•ÊúâÊõ¥È´òÁ∫ßÂà´ÁöÑËßíËâ≤ÊùÉÈôêÔºåÈúÄË¶ÅÂÖàËé∑ÂèñÂà∞Áõ∏ÂØπÊù•ËØ¥‰ΩéÁ∫ßÂà´ÁöÑ‰∏Ä‰∫õÊùÉÈôêÔºå‰æãÂ¶ÇÂâØÁªèÁêÜË¶ÅÊÉ≥Ëé∑ÂèñÂà∞ÊÄªÁõëÁ∫ßÂà´ÊùÉÈôêÔºåÈÇ£‰πà‰ªñÈúÄË¶ÅÂÖàËé∑ÂèñÂà∞ÁªèÁêÜÁ∫ßÂà´ÁöÑÊùÉÈôê\n- Âä®ÊÄÅËÅåË¥£ÂàÜÁ¶ª DSD\n  - Âä®ÊÄÅÁöÑÈôêÂà∂Áî®Êà∑ÂèäÂÖ∂Êã•ÊúâÁöÑËßíËâ≤Ôºå‰æãÂ¶Ç‰∏Ä‰∏™Áî®Êà∑ÂèØ‰ª•ÂêåÊó∂Êã•Êúâ‰∏§‰∏™ËßíËâ≤Ôºå‰ΩÜÊòØËøêË°åÊó∂Âè™ËÉΩÊøÄÊ¥ª‰∏Ä‰∏™ËßíËâ≤\n\n![RBAC2 Ê®°Âûã](https://img.mrsingsing.com/authentication-rbac2)\n\n### RBAC3 Ê®°Âûã\n\nRBAC3 Ê®°ÂûãÂ∞±ÊòØ `RBAC1 + RBAC2` ‰∏§‰∏™Ê®°ÂûãÁöÑÂêàÈõÜÔºåÊâÄ‰ª• RBAC3 Êó¢Êúâ RBAC1 ÁöÑËßíËâ≤Á≠âÁ∫ßÂàíÂàÜÔºå‰πüÊúâ RBAC2 ÁöÑËßíËâ≤ÈôêÂà∂„ÄÇËøôÁßçÊ®°ÂûãÂè™ÊúâÂú®Á≥ªÁªüÊØîËæÉÂ§çÊùÇÁöÑÊó∂ÂÄôÊâçÊ¥æÂæó‰∏äÁî®Âú∫Ôºå‰∏çÁÑ∂ËÆæËÆ°ÂæóËøáÂ∫¶Â§çÊùÇÔºåÂØπÂºÄÂèëÂíåÂêéÊúüÁª¥Êä§‰πü‰∏çÊòØÂ•Ω‰∫ãÊÉÖ„ÄÇ\n\nRBAC Ê®°ÂûãÁöÑ‰ºòÁº∫ÁÇπÔºö\n\n**‰ºòÁÇπ**\n\n1. ÁÆÄÂåñ‰∫ÜÁî®Êà∑ÂíåÊùÉÈôêÁöÑÂÖ≥Á≥ªÔºåÊùÉÈôêÂè™Ë¶Å‰∏ÄÊ¨°Ëµã‰∫àËßíËâ≤Â∞±ËÉΩÈáçÂ§ç‰ΩøÁî®\n2. ÂØπÂêéÁª≠ÁöÑÁª¥Êä§Êõ¥Âä†ÂèãÂ•ΩÔºåÁî®Êà∑ÂíåÊùÉÈôê‰πãÈó¥Â≠òÂú®Êõ¥Â§öÁöÑÊñ°ÊóãÁ©∫Èó¥Ôºå‰æø‰∫éÂü∫‰∫éËßíËâ≤ËøõË°åÊùÉÈôêÊâ©Â±ï\n\n**Áº∫ÁÇπ**\n\n1. RBAC Ê®°ÂûãÂπ∂Êú™Êèê‰æõÊéßÂà∂Êìç‰ΩúÈ°∫Â∫èÁöÑÊú∫Âà∂Ôºå‰ºöÂØπÊúâ‰∏•Ê†ºÊìç‰ΩúÈ°∫Â∫èÁöÑÁ≥ªÁªüÈÄ†ÊàêÂõ∞Èöæ\n\n## RBAC Êû∂ÊûÑËÆæËÆ°\n\nÂâçÈù¢Êàë‰ª¨ÊèêÂà∞ RBAC Ê∂âÂèä‰∏â‰∏™Â±ÇÈù¢ÔºåÂ∞±ÊòØÁî®Êà∑„ÄÅËßíËâ≤ÂíåÊùÉÈôê„ÄÇ\n\nÁî®Êà∑Êàë‰ª¨ÂèØ‰ª•ÁêÜËß£‰∏∫Áã¨Á´ãÁöÑ‰∏™‰ΩìÔºå‰æãÂ¶ÇÂº†‰∏â„ÄÅÊùéÂõõ„ÄÅÁéã‰∫î„ÄÇËÄåËßíËâ≤ÁöÑÂÆö‰πâÊòØÂæàÂπøÊ≥õÁöÑÔºåÂ¶ÇÊûúÊàë‰ª¨‰ªéËÅå‰ΩçÂàíÂàÜÊúâÈîÄÂîÆÁªèÁêÜ„ÄÅÂ∏ÇÂú∫ÁªèÁêÜ„ÄÅÈ°πÁõÆÁªèÁêÜÁ≠âÁ≠âÔºåÊåâÈÉ®Èó®ÂàíÂàÜÁöÑËØùÂèØ‰ª•ÊòØÈîÄÂîÆÈÉ®„ÄÅÂ∏ÇÂú∫ÈÉ®„ÄÅÈ°πÁõÆÈÉ®ÔºåÊâÄ‰ª•ËØ¥ËßíËâ≤Â∫îËØ•ÊåâÁÖßÁ≥ªÁªüÁöÑ‰∏öÂä°ÈúÄÊ±ÇÊù•ÂàíÂàÜ„ÄÇËÄå‰∫ãÂÆû‰∏äÔºåÂú®Êàë‰ª¨ÁöÑÊû∂ÊûÑËÆæËÆ°‰∏≠ÈúÄË¶ÅÂØπÁî®Êà∑ÂíåËßíËâ≤ÁöÑÂÖ≥Á≥ªËøõË°åÊèèËø∞ÔºåÊØîÂ¶ÇÂÖ∂ÂÜÖÂÆπÂ∫îËØ•ÊòØÂº†‰∏âÊòØÈîÄÂîÆÁªèÁêÜ„ÄÅÊùéÂõõÊòØÂ∏ÇÂú∫ÁªèÁêÜ„ÄÅÁéã‰∫îÊòØÈ°πÁõÆÁªèÁêÜ„ÄÇ\n\nËøòÊúâÂ∞±ÊòØÊùÉÈôêÂ±ÇÈù¢ÔºåÊùÉÈôêÂ±ÇÈù¢ÂèØ‰ª•ÂàíÂàÜ‰∏∫Êü•ÁúãÂÆ¢Êà∑ÂàóË°®„ÄÅÊ∑ªÂä†ÂÆ¢Êà∑„ÄÅÂà†Èô§ÂÆ¢Êà∑Á≠âÁ≠â„ÄÇÊùÉÈôêÂíåËßíËâ≤ÊòØÁªëÂÆöËµ∑Êù•ÁöÑÔºåÊâÄ‰ª•ËßíËâ≤ÂíåÊùÉÈôêÁöÑÊèèËø∞ÂèØËÉΩÊòØËøôÊ†∑ÁöÑÔºöÈîÄÂîÆÁªèÁêÜÂèØ‰ª•Êü•ÁúãÂÆ¢Êà∑„ÄÅÊ∑ªÂä†ÂÆ¢Êà∑„ÄÅÂà†Èô§ÂÆ¢Êà∑ÔºõÈîÄÂîÆ‰ªÖÂèØ‰ª•Êü•ÁúãÂÆ¢Êà∑„ÄÇ\n\n![RBAC Êû∂ÊûÑËÆæËÆ°](https://img.mrsingsing.com/autification-rbac-architect)\n\nÂú®ÂÆûÈôÖÁöÑ‰∏öÂä°ÂºÄÂèë‰∏≠ÔºåÂèØ‰ª•ÂØπ RBAC Ê®°ÂûãÂÅöÁõ∏ÂÖ≥ÁöÑÊâ©Â±ïÔºå‰æãÂ¶ÇÂú®ÂëòÂ∑•‰∫∫Êï∞‰ºóÂ§öÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèçÂ§çÂú∞ÂØπÊüê‰∏™ÂëòÂ∑•ËøõË°åÊùÉÈôêÊéà‰∫àÊòØ‰∏™ÁπÅÁêêÁöÑË°å‰∏∫ÔºåÊàë‰ª¨ÂèØ‰ª•Â¢ûÂä† **Áî®Êà∑ÁªÑ** ÁöÑÊ¶ÇÂøµÔºåÁõ¥Êé•ÁªôÁî®Êà∑ÁªÑÂàÜÈÖçËßíËâ≤ÔºåÂÜçÊääÁî®Êà∑Âä†ÂÖ•Áî®Êà∑ÁªÑÔºåËøôÊ†∑Áî®Êà∑Èô§‰∫ÜËá™Ë∫´ÁöÑÊùÉÈôêÂ§ñÔºåËøòÂÖ±‰∫´‰∫ÜÁî®Êà∑ÁªÑÁöÑÊâÄÊúâÊùÉÈôê„ÄÇ\n\n## Êï∞ÊçÆÂ∫ì‰∏éÂäüËÉΩÊ®°ÂùóËÆæËÆ°\n\nÂú®Êû∂ÊûÑËÆæËÆ°ÁöÑÁ´†ËäÇ‰∏≠Êàë‰ª¨ÊèêÂà∞‰∫ÜÈô§Áî®Êà∑„ÄÅËßíËâ≤ÂíåÊùÉÈôêÂ§ñÔºå‰ªñ‰ª¨Áõ∏‰∫íËÅîÁ≥ªÁöÑÂÖ≥Á≥ªÂÖ±‰∫î‰∏™Â±ÇÈù¢ÔºåÊò†Â∞ÑÂà∞Êï∞ÊçÆÂ∫ìÁöÑËÆæËÆ°ÂØπÂ∫îÁöÑÂ∞±ÊòØ‰∫îÂº†Ë°®„ÄÇ\n\n- userÔºàÁî®Êà∑ÔºâÔºöÊØè‰∏™Áî®Êà∑ÈÉΩÊúâÂîØ‰∏ÄÁöÑ UID ËØÜÂà´ÔºåÂπ∂Ë¢´Êéà‰∫à‰∏çÂêåÁöÑËßíËâ≤\n- roleÔºàËßíËâ≤ÔºâÔºö‰∏çÂêåËßíËâ≤ÂÖ∑Êúâ‰∏çÂêåÊùÉÈôê\n- permissionÔºàÊùÉÈôêÔºâÔºöËÆøÈóÆÊùÉÈôê\n- Áî®Êà∑-ËßíËâ≤Êò†Â∞ÑÔºöÁî®Êà∑ÂíåËßíËâ≤‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª\n- ËßíËâ≤-ÊùÉÈôêÊò†Â∞ÑÔºöËßíËâ≤ÂíåÊùÉÈôê‰πãÈó¥ÁöÑÊò†Â∞Ñ\n\n![Êï∞ÊçÆÂ∫ìËÆæËÆ°](https://img.mrsingsing.com/authentication-rbac-database-table-design)\n\n![ÂäüËÉΩÊ®°Âùó](https://img.mrsingsing.com/authentication-rbac-feature-module)\n\n## ÂâçÁ´ØÊùÉÈôêÊéßÂà∂ÊÄùË∑Ø\n\nÂâçÁ´ØÊùÉÈôê‰ªéÊú¨Ë¥®‰∏äÊù•ËØ¥Âç≥Ê†πÊçÆÊùÉÈôêË°®ÂØπËßÜÂõæÂ±ÇÁöÑÂ±ïÁ§∫‰ª•ÂèäÂØπËØ∑Ê±ÇÊé•Âè£ÁöÑËÆøÈóÆËøõË°åÈôêÂà∂„ÄÇ\n\n‰∏ãÈù¢Êàë‰ª¨Ë∞àË∞àÂâçÁ´ØÁïåÈù¢ÂØπ‰∫éÊùÉÈôêÊéßÂà∂ÁöÑÁ≤íÂ∫¶Â§ßÂ∞èÔºå‰ª•‰º†ÁªüÁöÑÂêéÂè∞Á≥ªÁªü‰∏∫‰æãÔºåÊúâ‰ª•È°µÈù¢‰∏∫Áª¥Â∫¶‰Ωú‰∏∫ÊùÉÈôêÊéßÂà∂Á≤íÂ∫¶ÁöÑÔºåÊã•ÊúâÊùÉÈôêÁöÑ‰∫∫ÂëòÊñπÂèØËÆøÈóÆÂØπÂ∫îÁöÑÈ°µÈù¢ÔºõÊúâ‰ª•Êìç‰Ωú‰Ωú‰∏∫ÊùÉÈôêÊéßÂà∂ÁöÑÔºåÂØπÂ∫îÁöÑÂâçÁ´ØÁïåÈù¢‰∏≠ÁöÑÈ°µÈù¢ÂÖÉÁ¥†ÈúÄË¶ÅÈöêËóèÊàñÊèêÁ§∫Ôºõ‰πüÂ≠òÂú®Áî®Êà∑ÈÄöËøáÊµèËßàÂô®ÁöÑÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰øÆÊîπ DOM ÂÖÉÁ¥†‰ª•ÁªïËøáÊùÉÈôêÁõ¥Êé•Êìç‰ΩúÁöÑÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÂØπÊé•Âè£ËØ∑Ê±ÇÂÅöÊã¶Êà™„ÄÇ\n\n- È°µÈù¢ÊùÉÈôêÔºàËèúÂçïÊùÉÈôêÔºâÔºöËøõÂÖ•È°µÈù¢ÁöÑÊùÉÈôê\n- Êìç‰ΩúÊùÉÈôêÔºöÂ¢ûÂà†ÊîπÊü•ÁöÑÊùÉÈôê\n- Êï∞ÊçÆÊùÉÈôêÔºöÂèëÈÄÅÊé•Âè£Âà∞ÊúçÂä°Á´ØÁöÑÊùÉÈôê\n\n![Ant Design Pro](https://img.mrsingsing.com/authentication-rbac-management-system)\n\nÂú®‰º†ÁªüÁöÑÂêéÂè∞Á≥ªÁªü‰∏≠‰ºöÂú®ÁôªÂΩïËØ∑Ê±Ç‰∏≠ÔºåÂæóÂà∞Áî®Êà∑ÊâÄÊã•ÊúâÁöÑÊùÉÈôêÊï∞ÊçÆÔºåËøôÈÉ®ÂàÜÊòØÈúÄË¶ÅÂêéÁ´ØÁöÑÊäÄÊúØÊîØÊåÅÁöÑ„ÄÇÂâçÁ´ØÊ†πÊçÆÊùÉÈôêÊï∞ÊçÆÂ±ïÁ§∫ÂØπÂ∫îÁöÑËèúÂçïÔºåÁÇπÂáªËèúÂçïÔºåÊâçËÉΩÊü•ÁúãÁõ∏ÂÖ≥ÁöÑÁïåÈù¢„ÄÇ\n\nÁïåÈù¢ÁöÑÊéßÂà∂ÔºöÂ¶ÇÊûúÁî®Êà∑Ê≤°ÊúâÁôªÂΩïÔºåÊâãÂä®Âú®Âú∞ÂùÄÊ†è‰∏äË∑≥ËΩ¨Âà∞ÁÆ°ÁêÜÁïåÈù¢Âú∞ÂùÄÔºåÂàôÈúÄË¶ÅË∑≥ËΩ¨Âà∞ÁôªÂΩïÁïåÈù¢„ÄÇÂ¶ÇÊûúÁî®Êà∑Â∑≤ÁªèÁôªÂΩïÔºå‰ΩÜÊòØÊâãÂä®ËæìÂÖ•ÈùûÊùÉÈôêËåÉÂõ¥ÂÜÖÁöÑÁïåÈù¢Âú∞ÂùÄÔºåÂàôÈúÄË¶ÅÈáçÂÆöÂêëÂà∞È¢ÑËÆæÁöÑ 404 ÁïåÈù¢„ÄÇ\n\nÂ¶ÇÊûúÁî®Êà∑ÈÄöËøáÈùûÂ∏∏ËßÑÊìç‰ΩúÔºåÊØîÂ¶ÇÈÄöËøáÊµèËßàÂô®Â∞ÜÊüê‰∫õÁ¶ÅÁî®ÊåâÈíÆÂèòÊàêÂêØÁî®Áä∂ÊÄÅÔºåÊ≠§Êó∂ÂèëÈÄÅÁöÑËØ∑Ê±ÇÔºå‰πüÂ∫îËØ•Ë¢´ÂâçÁ´ØÊã¶Êà™„ÄÇ\n\nÂú® React ‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáÊääÊùÉÈôêÊï∞ÊçÆÂú®Ê†πËäÇÁÇπÈÄöËøá Context API Âêë‰∏ã‰º†ÈÄíÔºåÈÄöËøáÈ´òÈò∂ÁªÑ‰ª∂ÂØπÊùÉÈôêÊéßÂà∂ÁöÑËèúÂçï„ÄÅÂÖÉÁ¥†ËøõË°åÂ§ñÂ±ÇÂåÖË£πÔºåÂÖ∂Ê¨°ÂØπ‰∫éÊï∞ÊçÆËØ∑Ê±ÇÊã¶Êà™ÂèØ‰ª•Âú®ÂèëÈÄÅ HTTP ËØ∑Ê±ÇÂâçÂÅöÊ†°È™å„ÄÇ\n\nÂèØ‰ª•ÂèÇËÄÉ [Ant Design Pro](https://pro.ant.design/docs/authority-management-cn) ÁöÑÊùÉÈôêËÆæËÆ°„ÄÇ\n\n---\n\n**ÂèÇËÄÉËµÑÊñôÔºö**\n\n- [RBAC Ê®°ÂûãÔºöÂü∫‰∫éÁî®Êà∑-ËßíËâ≤-ÊùÉÈôêÊéßÂà∂ÁöÑ‰∏Ä‰∫õÊÄùËÄÉ](http://www.woshipm.com/pd/1150093.html)\n- [Âü∫‰∫é RBAC ÁöÑÂâçÁ´ØÊùÉÈôêÊéßÂà∂](https://juejin.im/post/5e048326f265da33f8653c27)\n- [ÁΩëÊòìÈ´òÊâãÔºöËßíËâ≤ÊùÉÈôêËÆæËÆ°ÁöÑ 100 ÁßçËß£Ê≥ï](https://www.uisdc.com/100-solutions-for-character-permission-design)\n- [ËßíËâ≤ÊùÉÈôêËÆæËÆ°Ôºö‰ª•ÈòøÈáå‰∫ßÂìÅ‰∏∫‰æãÔºåÂ±ïÂºÄ‰ΩìÈ™åÂàÜÊûê](http://www.woshipm.com/pd/3745592.html)\n- [RBAC ÊùÉÈôêÁÆ°ÁêÜÊ®°ÂûãÔºöÂü∫Êú¨Ê®°ÂûãÂèäËßíËâ≤Ê®°ÂûãËß£ÊûêÂèä‰∏æ‰æã](http://www.woshipm.com/pd/440765.html)\n- [Â¶Ç‰ΩïËÆæËÆ°ÁΩëÁ´ôÊùÉÈôêÁ≥ªÁªüÔºü](https://www.zhihu.com/question/20313385)\n- [Êâ©Â±ï RBAC Áî®Êà∑ËßíËâ≤ÊùÉÈôêËÆæËÆ°ÊñπÊ°à](https://www.cnblogs.com/zwq194/archive/2011/03/07/1974821.html)\n- [RBAC ÊùÉÈôêÁÆ°ÁêÜÁ≥ªÁªüËÆæËÆ°ÊÄùË∑Ø](https://juejin.im/post/5e72cfa16fb9a07cc01a4262)\n","slug":"architect-design-based-on-rbac","published":1,"updated":"2021-09-29T18:08:18.070Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867n6m0002bmjdmyfh5cvn","content":"<p>Ë∞àÂà∞ÊùÉÈôêÊéßÂà∂ÔºåÂÆûÈôÖ‰∏äÂú®Êàë‰ª¨ÁöÑÁîüÊ¥ª‰∏≠Êó†Â§Ñ‰∏çÂú®Ôºå‰æãÂ¶ÇÊàë‰ª¨Êó†Êó∂Êó†ÂàªÈÉΩÂú®‰ΩøÁî®ÁöÑÊô∫ËÉΩÊâãÊú∫ÔºåÊâìÂºÄÊâãÊú∫ÈúÄË¶ÅÁîüÁâ©ÊåáÁ∫πÊàñËÄÖ‰∫∫ËÑ∏ËØÜÂà´ÔºõÂΩì‰Ω†ËøõÂÖ•ÂÖ¨Âè∏ÁöÑÊó∂ÂÄôÔºå‰Ω†ÈúÄË¶ÅÂ∑•Âç°Âú®Èó®Á¶ÅÊª¥‰∏Ä‰∏ãÔºõÂèàÂ¶ÇÊõæÁªèÁöÑ‰Ω†ÊòØÂê¶ÊúâËøáÂçäÂ§úÊâìÂºÄÂøÉ‰ª™Â•≥Â≠©ÁöÑ QQ Á©∫Èó¥ÔºåÊ¨≤‰∏ÄÊé¢Á©∂Á´üÁöÑÊó∂ÂÄôÔºåÂç¥ÂëäËØâÈúÄË¶ÅÊ∑ªÂä†Â•ΩÂèãÊâçËÉΩËÆøÈóÆ„ÄÇËøô‰∫õÈÉΩÊòØÊàë‰ª¨Êó•Â∏∏ÁîüÊ¥ª‰∏≠‰ΩìÁé∞ÊùÉÈôêÁöÑÂú∞ÊñπÔºåËÄåÂú®ËΩØ‰ª∂ÂºÄÂèë‰∏≠ÔºåÊùÉÈôêÁÆ°ÁêÜ‰πüÊòØÊó†Â§Ñ‰∏çÂú®ÁöÑ‰∫ßÂìÅËÆæËÆ°ÂäüËÉΩÔºåÂ∞§ÂÖ∂ÊòØÂêéÂè∞ÁÆ°ÁêÜÂêéÂè∞Êó†Ê≥ïÂØπÊùÉÈôêÁÆ°ÁêÜÈÅøËÄå‰∏çË∞àÔºå‰ªäÂ§©Â∞ùËØïÊ∑±ÂÖ•‰∫ÜËß£ÊùÉÈôêÁÆ°ÁêÜËÆæËÆ°‰∏≠ÊúÄÂ∏∏Áî®ÁöÑ RBAC Ê®°Âûã„ÄÇ</p>\n<h2 id=\"ÊùÉÈôêÊ®°Âûã\"><a href=\"#ÊùÉÈôêÊ®°Âûã\" class=\"headerlink\" title=\"ÊùÉÈôêÊ®°Âûã\"></a>ÊùÉÈôêÊ®°Âûã</h2><p><strong>ÊùÉÈôê</strong> ‰∫åÂ≠ó‰ªéÂ≠óÈù¢‰∏äÂèØÊãÜÂàÜ‰∏∫ <code>ÊùÉÂäõ+ÈôêÂà∂</code>Ôºå‰ªé‰ΩøÁî®ËÄÖÁöÑËßíÂ∫¶Êù•ËØ¥Ôºå‰πüÂ∞±ÊòØÂú®ÈôêÂà∂ÁöÑËåÉÂõ¥ÂÜÖÊ≠£Á°ÆÂú∞Ë°åÈ©∂ÊùÉÂäõÔºåËÄåÁ´ôÂú®ËÆæËÆ°ËÄÖÁöÑËßíÂ∫¶Êù•Ëß£ËØªÔºåÂàôÊòØÈÄöËøáÂêàÁêÜÁöÑÊâãÊÆµÊéßÂà∂‰ΩøÁî®ËÄÖËÉΩËÆøÈóÆÂà∞‰ªñ‰ª¨ËÉΩÂ§üËÆøÈóÆÂà∞ÁöÑËµÑÊ∫ê„ÄÇ</p>\n<p>Âú®ÊùÉÈôêËÆæËÆ°È¢ÜÂüüÔºåÊúÄÂ∏∏ËßÅÁöÑÊùÉÈôêÊ®°ÂûãÊúâ‰ª•‰∏ãÂõõÁßçÔºö</p>\n<ul>\n<li>ACLÔºàAccess Control ListÔºâÔºöËÆøÈóÆÊéßÂà∂ÂàóË°® <code>Áî®Êà∑ -&gt; ÊùÉÈôê</code></li>\n<li>RBACÔºàRole-Based Access ControlÔºâÔºöÂü∫‰∫é <strong>ËßíËâ≤</strong> ÁöÑÊùÉÈôêÊéßÂà∂ <code>Áî®Êà∑ -&gt; ËßíËâ≤ -&gt; ÊùÉÈôê</code></li>\n<li>ABACÔºàAttribute-Based Access ControlÔºâÔºöÂü∫‰∫é <strong>Â±ûÊÄß</strong> ÁöÑÊùÉÈôêÊéßÂà∂ÔºåËØ•Ê®°ÂûãÊ†πÊçÆÁâπÊÆäÁöÑËßÑÂàôÂàÜÈÖçÊùÉÈôê <code>ÔºàÁî®Êà∑„ÄÅËµÑÊ∫ê„ÄÅÂØπË±°Â±ûÊÄßÔºâ-&gt; ÊùÉÈôê</code></li>\n<li>PBACÔºàPolicy-Based Access ControlÔºâÔºöÂü∫‰∫é <strong>Á≠ñÁï•</strong> ÁöÑÊùÉÈôêÊéßÂà∂ÔºåÁî®Êà∑ÔºàÁªÑÔºâÈö∂Â±û‰∫éËßíËâ≤ÔºåËßíËâ≤Èö∂Â±û‰∫éËµÑÊ∫êÔºàÈ°πÁõÆÔºâ<code>Áî®Êà∑ -&gt; ËßíËâ≤ -&gt; ÔºàËµÑÊ∫ê/È°πÁõÆ + ÊùÉÈôêÔºâ</code></li>\n</ul>\n<p>Á¨¨‰∏ÄÁßç ACL Ê®°ÂûãÔºåÊùÉÈôêËÉΩÁõ¥Êé•Ëµã‰∫àÁî®Êà∑Ôºå‰æãÂ¶ÇÂ∞ÜÊü•ÁúãËÆ¢ÂçïÂàóË°®ÔºàÊùÉÈôêÔºâËµã‰∫àÊüê‰ΩçËøêËê•‰∫∫ÂëòÔºàÁî®Êà∑Ôºâ„ÄÇ‰ΩÜÊòØËøôÁßçÊ®°ÂºèÁöÑÁº∫ÁÇπÂú®‰∫éÔºå‰ΩÜÁî®Êà∑ÈáèËææÂà∞‰∏ÄÂÆöÈáèÁ∫ßÁöÑÊó∂ÂÄôÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂØπÊØè‰∏™Áî®Êà∑ÈÉΩËøõË°å‰∏ÄÊ¨°ÊéàÊùÉÊìç‰ΩúÔºåÈÇ£‰πàËøô‰∏™Â∑•‰ΩúÈáèÂ∞±‰ºöÁõ∏ÂΩìÂ§ß„ÄÇ</p>\n<p>Âõ†Ê≠§Â∞±Âá∫Áé∞‰∫Ü RBAC Ê®°ÂûãÔºåËøôÊòØËΩØ‰ª∂ËÆæËÆ°‰∏≠ÊúÄÂ∏∏Áî®ÁöÑÊùÉÈôêÁÆ°ÁêÜÊ®°ÂûãÔºåÁõ∏ÊØî‰∫é ACL Ê®°ÂûãÔºåRBAC Ê®°ÂûãÂú®Áî®Êà∑‰∏éÊùÉÈôê‰πãÈó¥Â§ö‰∫Ü‰∏Ä‰∏™ÂÖÉÁ¥†„ÄåËßíËâ≤„ÄçÔºåÈÄöËøáÊùÉÈôêÂÖ≥ËÅîËßíËâ≤„ÄÅËßíËâ≤ÂÖ≥ËÅîÁî®Êà∑ÁöÑÊñπÊ≥ïÊù•Èó¥Êé•Âú∞Ëµã‰∫àÁî®Êà∑ÊùÉÈôêÔºå‰ªéËÄåÂÆûÁé∞Áî®Êà∑‰∏éÊùÉÈôêÁöÑËß£ËÄ¶„ÄÇ</p>\n<p>Âêé‰∏§ÁßçÂ§ßÊ¶ÇÁü•ÈÅìÂ∞±Ë°åÔºåÂõ†‰∏∫‰∏ÄËà¨‰∏ç‰ºöÁî®Âà∞ÔºåËØ¶ÊÉÖÂèØËá™Ë°å Google ‰∫ÜËß£„ÄÇ</p>\n<a id=\"more\"></a>\n<h2 id=\"RBAC-Ê®°ÂûãÁöÑÊºîËøõ\"><a href=\"#RBAC-Ê®°ÂûãÁöÑÊºîËøõ\" class=\"headerlink\" title=\"RBAC Ê®°ÂûãÁöÑÊºîËøõ\"></a>RBAC Ê®°ÂûãÁöÑÊºîËøõ</h2><p>Âú® RBAC Ê®°ÂûãÁöÑÊºîËøõÂèëÂ±ïÂá∫Âõõ‰∏™ÁâàÊú¨ÔºåÂàÜÂà´ÊòØ RBAC 0~3„ÄÇ</p>\n<h3 id=\"RBAC0-Ê®°Âûã\"><a href=\"#RBAC0-Ê®°Âûã\" class=\"headerlink\" title=\"RBAC0 Ê®°Âûã\"></a>RBAC0 Ê®°Âûã</h3><p>RBAC9 ÊòØÊúÄÂü∫Á°ÄÁöÑÊùÉÈôêÊ®°ÂûãÔºåÂæàÂ§ö‰∫ßÂìÅÂü∫‰∫éËØ•Ê®°ÂûãÂ∞±Â∑≤ÁªèËÉΩÊª°Ë∂≥ËÆæËÆ°ÈúÄÊ±Ç„ÄÇÁî®Êà∑ÂíåËßíËâ≤‰πãÈó¥ÂèØ‰ª•ÊòØ‰∏ÄÂØπÂ§ö‰πüÂèØ‰ª•ÊòØÂ§öÂØπÂ§öÂÖ≥Á≥ªÔºåËÄåËßíËâ≤ÂíåÊùÉÈôê‰πãÈó¥ÂàôÂ§ö‰ª•Â§öÂØπÂ§öÁöÑÂÖ≥Á≥ª‰∏∫‰∏ªÔºåÁî®Êà∑Êã•ÊúâÁöÑÊùÉÈôêÁ≠â‰∫é‰ªñÊâÄÊúâÁöÑËßíËâ≤ÊåÅÊúâÁöÑÊùÉÈôê‰πãÂíå„ÄÇ</p>\n<p><strong>Â∫îÁî®Âú∫ÊôØ</strong>Ôºö‰æãÂ¶ÇÂú®ÁîµÂïÜÂÖ¨Âè∏‰∏≠ÊäΩË±°Âá∫Âá†ÁßçÁÆ°ÁêÜ‰∏öÂä°ÁöÑËßíËâ≤ÔºåËØ∏Â¶ÇÈîÄÂîÆÁªèÁêÜ„ÄÅÈ°πÁõÆÁªèÁêÜ„ÄÅÂ∏ÇÂú∫ÁªèÁêÜÁ≠âÁ≠âÔºåÂ∞èÈôàÊó¢ÊãÖÂΩìËê•ÈîÄÈÉ®Èó®ÁöÑÂ∏ÇÂú∫ÁªèÁêÜÂèàÊãÖÂΩìÈîÄÂîÆÈÉ®ÁöÑÈîÄÂîÆÁªèÁêÜÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂ∞ÜËøô‰∏§‰∏™ËßíËâ≤ÁöÑËµã‰∫àÁªô‰ªñ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-rbac0\" alt=\"RBAC0 Ê®°Âûã\"></p>\n<h3 id=\"RBAC1-Ê®°Âûã\"><a href=\"#RBAC1-Ê®°Âûã\" class=\"headerlink\" title=\"RBAC1 Ê®°Âûã\"></a>RBAC1 Ê®°Âûã</h3><p>RBAC1 Ê®°ÂûãÂÖ∂ÂÆûÊòØ RBAC0 ÁöÑÂçáÁ∫ßÁâàÔºåÂÆÉÂØπËßíËâ≤ËøôÂ±ÇÂÖÉÁ¥†‰∏äËøõË°å‰∫ÜÁªÜÂàÜÔºåÂºïÂÖ•ÁªßÊâøÁöÑÊ¶ÇÂøµÔºå‰πüÂ∞±ÊòØÂèØ‰ª•ÁªßÊâøÊüê‰∏™Âü∫Á°ÄËßíËâ≤ÁîüÊàêÂ≠êËßíËâ≤„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-rbac1\" alt=\"RBAC1 Ê®°Âûã\"></p>\n<p><strong>Â∫îÁî®Âú∫ÊôØ</strong>ÔºöÊâøÊé•‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÂ∏ÇÂú∫ÁªèÁêÜÂ≤ó‰ΩçÂèØËÉΩ‰ºöÂàÜ‰∏∫ÊÄªÁõëÁ∫ßÂà´„ÄÅÁªèÁêÜÁ∫ßÂà´„ÄÅÂâØÁªèÁêÜÁ∫ßÂà´ÔºåËøôÊó∂ÂÄôÂ¶ÇÊûúÂ∞èÈôàÂè™ÊòØ‰∏Ä‰∏™ÂâØÁªèÁêÜÁ∫ßÂà´ÁöÑÔºåÈÇ£‰πà‰ªñÊâÄÊã•ÊúâÁöÑÂ∏ÇÂú∫ÁªèÁêÜÁöÑÊùÉÈôêËÇØÂÆöÂ∞±Ê≤°ÊúâÊÄªÁõëÁ∫ßÂà´ÁöÑÂ§ö„ÄÇ</p>\n<p>RBAC1 Ê®°ÂûãÂàôÊõ¥Â•ΩÂú∞Âú®ËßíËâ≤Â±ÇÈù¢ËøõË°åÁªÜÂàÜÔºåÊõ¥Â•ΩÂú∞Êò†Â∞Ñ‰∫Ü‰ºÅ‰∏öÁªÑÁªáÊû∂ÊûÑ‰∏≠ÁöÑËÅåËÉΩÁöÑÊùÉÈôêÔºåÊ†πÊçÆÂÆûÈôÖÁöÑÁÆ°ÁêÜÊùÉÈôêÂØπÁõ∏‰ººËÅåËÉΩÁöÑËßíËâ≤ËøõË°åÂà†Âáè‰ª•ËææÂà∞Á∫ßÂà´ÂàÜÊòéÁöÑÊïàÊûú„ÄÇ</p>\n<h3 id=\"RBAC2-Ê®°Âûã\"><a href=\"#RBAC2-Ê®°Âûã\" class=\"headerlink\" title=\"RBAC2 Ê®°Âûã\"></a>RBAC2 Ê®°Âûã</h3><p>Âú® RBAC2 ‰∏≠ÂØπËßíËâ≤Â±ÇÈù¢Â¢ûÂä†‰∫ÜÊõ¥Â§öÁöÑÈôêÂà∂Ôºö</p>\n<ul>\n<li>ÈùôÊÄÅËÅåË¥£ÂàÜÁ¶ª SSD<ul>\n<li>ËßíËâ≤‰∫íÊñ•ÔºöÁõ∏ÂêåÁî®Êà∑‰∏çËÉΩÂêåÊó∂Êã•Êúâ‰∫íÊñ•ÂÖ≥Á≥ªÁöÑËßíËâ≤Ôºå‰æãÂ¶Ç‰ºöËÆ°ÂíåÂá∫Á∫≥‰∏§‰∏™ËßíËâ≤Â∞±ÊòØ‰∫íÊñ•ÁöÑ</li>\n<li>Âü∫Êï∞Á∫¶ÊùüÔºöËßíËâ≤Ë¢´ÂàÜÈÖçÂà∞ÁöÑÁî®Êà∑ÊúâÊï∞Èáè‰∏äÈôêÔºå‰æãÂ¶ÇÂÖ¨Âè∏‰∏≠Âè™Êúâ‰∏Ä‰∏™ CEO ËÅå‰ΩçÔºåÈÇ£‰πàËøô‰∏™ËßíËâ≤ÁöÑÊï∞ÈáèÂ∞±ÊòØÊúâÈôêÁöÑ</li>\n<li>ÂÖàÂÜ≥Êù°‰ª∂ËßíËâ≤ÔºöË¶ÅÊã•ÊúâÊõ¥È´òÁ∫ßÂà´ÁöÑËßíËâ≤ÊùÉÈôêÔºåÈúÄË¶ÅÂÖàËé∑ÂèñÂà∞Áõ∏ÂØπÊù•ËØ¥‰ΩéÁ∫ßÂà´ÁöÑ‰∏Ä‰∫õÊùÉÈôêÔºå‰æãÂ¶ÇÂâØÁªèÁêÜË¶ÅÊÉ≥Ëé∑ÂèñÂà∞ÊÄªÁõëÁ∫ßÂà´ÊùÉÈôêÔºåÈÇ£‰πà‰ªñÈúÄË¶ÅÂÖàËé∑ÂèñÂà∞ÁªèÁêÜÁ∫ßÂà´ÁöÑÊùÉÈôê</li>\n</ul>\n</li>\n<li>Âä®ÊÄÅËÅåË¥£ÂàÜÁ¶ª DSD<ul>\n<li>Âä®ÊÄÅÁöÑÈôêÂà∂Áî®Êà∑ÂèäÂÖ∂Êã•ÊúâÁöÑËßíËâ≤Ôºå‰æãÂ¶Ç‰∏Ä‰∏™Áî®Êà∑ÂèØ‰ª•ÂêåÊó∂Êã•Êúâ‰∏§‰∏™ËßíËâ≤Ôºå‰ΩÜÊòØËøêË°åÊó∂Âè™ËÉΩÊøÄÊ¥ª‰∏Ä‰∏™ËßíËâ≤</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://img.mrsingsing.com/authentication-rbac2\" alt=\"RBAC2 Ê®°Âûã\"></p>\n<h3 id=\"RBAC3-Ê®°Âûã\"><a href=\"#RBAC3-Ê®°Âûã\" class=\"headerlink\" title=\"RBAC3 Ê®°Âûã\"></a>RBAC3 Ê®°Âûã</h3><p>RBAC3 Ê®°ÂûãÂ∞±ÊòØ <code>RBAC1 + RBAC2</code> ‰∏§‰∏™Ê®°ÂûãÁöÑÂêàÈõÜÔºåÊâÄ‰ª• RBAC3 Êó¢Êúâ RBAC1 ÁöÑËßíËâ≤Á≠âÁ∫ßÂàíÂàÜÔºå‰πüÊúâ RBAC2 ÁöÑËßíËâ≤ÈôêÂà∂„ÄÇËøôÁßçÊ®°ÂûãÂè™ÊúâÂú®Á≥ªÁªüÊØîËæÉÂ§çÊùÇÁöÑÊó∂ÂÄôÊâçÊ¥æÂæó‰∏äÁî®Âú∫Ôºå‰∏çÁÑ∂ËÆæËÆ°ÂæóËøáÂ∫¶Â§çÊùÇÔºåÂØπÂºÄÂèëÂíåÂêéÊúüÁª¥Êä§‰πü‰∏çÊòØÂ•Ω‰∫ãÊÉÖ„ÄÇ</p>\n<p>RBAC Ê®°ÂûãÁöÑ‰ºòÁº∫ÁÇπÔºö</p>\n<p><strong>‰ºòÁÇπ</strong></p>\n<ol>\n<li>ÁÆÄÂåñ‰∫ÜÁî®Êà∑ÂíåÊùÉÈôêÁöÑÂÖ≥Á≥ªÔºåÊùÉÈôêÂè™Ë¶Å‰∏ÄÊ¨°Ëµã‰∫àËßíËâ≤Â∞±ËÉΩÈáçÂ§ç‰ΩøÁî®</li>\n<li>ÂØπÂêéÁª≠ÁöÑÁª¥Êä§Êõ¥Âä†ÂèãÂ•ΩÔºåÁî®Êà∑ÂíåÊùÉÈôê‰πãÈó¥Â≠òÂú®Êõ¥Â§öÁöÑÊñ°ÊóãÁ©∫Èó¥Ôºå‰æø‰∫éÂü∫‰∫éËßíËâ≤ËøõË°åÊùÉÈôêÊâ©Â±ï</li>\n</ol>\n<p><strong>Áº∫ÁÇπ</strong></p>\n<ol>\n<li>RBAC Ê®°ÂûãÂπ∂Êú™Êèê‰æõÊéßÂà∂Êìç‰ΩúÈ°∫Â∫èÁöÑÊú∫Âà∂Ôºå‰ºöÂØπÊúâ‰∏•Ê†ºÊìç‰ΩúÈ°∫Â∫èÁöÑÁ≥ªÁªüÈÄ†ÊàêÂõ∞Èöæ</li>\n</ol>\n<h2 id=\"RBAC-Êû∂ÊûÑËÆæËÆ°\"><a href=\"#RBAC-Êû∂ÊûÑËÆæËÆ°\" class=\"headerlink\" title=\"RBAC Êû∂ÊûÑËÆæËÆ°\"></a>RBAC Êû∂ÊûÑËÆæËÆ°</h2><p>ÂâçÈù¢Êàë‰ª¨ÊèêÂà∞ RBAC Ê∂âÂèä‰∏â‰∏™Â±ÇÈù¢ÔºåÂ∞±ÊòØÁî®Êà∑„ÄÅËßíËâ≤ÂíåÊùÉÈôê„ÄÇ</p>\n<p>Áî®Êà∑Êàë‰ª¨ÂèØ‰ª•ÁêÜËß£‰∏∫Áã¨Á´ãÁöÑ‰∏™‰ΩìÔºå‰æãÂ¶ÇÂº†‰∏â„ÄÅÊùéÂõõ„ÄÅÁéã‰∫î„ÄÇËÄåËßíËâ≤ÁöÑÂÆö‰πâÊòØÂæàÂπøÊ≥õÁöÑÔºåÂ¶ÇÊûúÊàë‰ª¨‰ªéËÅå‰ΩçÂàíÂàÜÊúâÈîÄÂîÆÁªèÁêÜ„ÄÅÂ∏ÇÂú∫ÁªèÁêÜ„ÄÅÈ°πÁõÆÁªèÁêÜÁ≠âÁ≠âÔºåÊåâÈÉ®Èó®ÂàíÂàÜÁöÑËØùÂèØ‰ª•ÊòØÈîÄÂîÆÈÉ®„ÄÅÂ∏ÇÂú∫ÈÉ®„ÄÅÈ°πÁõÆÈÉ®ÔºåÊâÄ‰ª•ËØ¥ËßíËâ≤Â∫îËØ•ÊåâÁÖßÁ≥ªÁªüÁöÑ‰∏öÂä°ÈúÄÊ±ÇÊù•ÂàíÂàÜ„ÄÇËÄå‰∫ãÂÆû‰∏äÔºåÂú®Êàë‰ª¨ÁöÑÊû∂ÊûÑËÆæËÆ°‰∏≠ÈúÄË¶ÅÂØπÁî®Êà∑ÂíåËßíËâ≤ÁöÑÂÖ≥Á≥ªËøõË°åÊèèËø∞ÔºåÊØîÂ¶ÇÂÖ∂ÂÜÖÂÆπÂ∫îËØ•ÊòØÂº†‰∏âÊòØÈîÄÂîÆÁªèÁêÜ„ÄÅÊùéÂõõÊòØÂ∏ÇÂú∫ÁªèÁêÜ„ÄÅÁéã‰∫îÊòØÈ°πÁõÆÁªèÁêÜ„ÄÇ</p>\n<p>ËøòÊúâÂ∞±ÊòØÊùÉÈôêÂ±ÇÈù¢ÔºåÊùÉÈôêÂ±ÇÈù¢ÂèØ‰ª•ÂàíÂàÜ‰∏∫Êü•ÁúãÂÆ¢Êà∑ÂàóË°®„ÄÅÊ∑ªÂä†ÂÆ¢Êà∑„ÄÅÂà†Èô§ÂÆ¢Êà∑Á≠âÁ≠â„ÄÇÊùÉÈôêÂíåËßíËâ≤ÊòØÁªëÂÆöËµ∑Êù•ÁöÑÔºåÊâÄ‰ª•ËßíËâ≤ÂíåÊùÉÈôêÁöÑÊèèËø∞ÂèØËÉΩÊòØËøôÊ†∑ÁöÑÔºöÈîÄÂîÆÁªèÁêÜÂèØ‰ª•Êü•ÁúãÂÆ¢Êà∑„ÄÅÊ∑ªÂä†ÂÆ¢Êà∑„ÄÅÂà†Èô§ÂÆ¢Êà∑ÔºõÈîÄÂîÆ‰ªÖÂèØ‰ª•Êü•ÁúãÂÆ¢Êà∑„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/autification-rbac-architect\" alt=\"RBAC Êû∂ÊûÑËÆæËÆ°\"></p>\n<p>Âú®ÂÆûÈôÖÁöÑ‰∏öÂä°ÂºÄÂèë‰∏≠ÔºåÂèØ‰ª•ÂØπ RBAC Ê®°ÂûãÂÅöÁõ∏ÂÖ≥ÁöÑÊâ©Â±ïÔºå‰æãÂ¶ÇÂú®ÂëòÂ∑•‰∫∫Êï∞‰ºóÂ§öÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèçÂ§çÂú∞ÂØπÊüê‰∏™ÂëòÂ∑•ËøõË°åÊùÉÈôêÊéà‰∫àÊòØ‰∏™ÁπÅÁêêÁöÑË°å‰∏∫ÔºåÊàë‰ª¨ÂèØ‰ª•Â¢ûÂä† <strong>Áî®Êà∑ÁªÑ</strong> ÁöÑÊ¶ÇÂøµÔºåÁõ¥Êé•ÁªôÁî®Êà∑ÁªÑÂàÜÈÖçËßíËâ≤ÔºåÂÜçÊääÁî®Êà∑Âä†ÂÖ•Áî®Êà∑ÁªÑÔºåËøôÊ†∑Áî®Êà∑Èô§‰∫ÜËá™Ë∫´ÁöÑÊùÉÈôêÂ§ñÔºåËøòÂÖ±‰∫´‰∫ÜÁî®Êà∑ÁªÑÁöÑÊâÄÊúâÊùÉÈôê„ÄÇ</p>\n<h2 id=\"Êï∞ÊçÆÂ∫ì‰∏éÂäüËÉΩÊ®°ÂùóËÆæËÆ°\"><a href=\"#Êï∞ÊçÆÂ∫ì‰∏éÂäüËÉΩÊ®°ÂùóËÆæËÆ°\" class=\"headerlink\" title=\"Êï∞ÊçÆÂ∫ì‰∏éÂäüËÉΩÊ®°ÂùóËÆæËÆ°\"></a>Êï∞ÊçÆÂ∫ì‰∏éÂäüËÉΩÊ®°ÂùóËÆæËÆ°</h2><p>Âú®Êû∂ÊûÑËÆæËÆ°ÁöÑÁ´†ËäÇ‰∏≠Êàë‰ª¨ÊèêÂà∞‰∫ÜÈô§Áî®Êà∑„ÄÅËßíËâ≤ÂíåÊùÉÈôêÂ§ñÔºå‰ªñ‰ª¨Áõ∏‰∫íËÅîÁ≥ªÁöÑÂÖ≥Á≥ªÂÖ±‰∫î‰∏™Â±ÇÈù¢ÔºåÊò†Â∞ÑÂà∞Êï∞ÊçÆÂ∫ìÁöÑËÆæËÆ°ÂØπÂ∫îÁöÑÂ∞±ÊòØ‰∫îÂº†Ë°®„ÄÇ</p>\n<ul>\n<li>userÔºàÁî®Êà∑ÔºâÔºöÊØè‰∏™Áî®Êà∑ÈÉΩÊúâÂîØ‰∏ÄÁöÑ UID ËØÜÂà´ÔºåÂπ∂Ë¢´Êéà‰∫à‰∏çÂêåÁöÑËßíËâ≤</li>\n<li>roleÔºàËßíËâ≤ÔºâÔºö‰∏çÂêåËßíËâ≤ÂÖ∑Êúâ‰∏çÂêåÊùÉÈôê</li>\n<li>permissionÔºàÊùÉÈôêÔºâÔºöËÆøÈóÆÊùÉÈôê</li>\n<li>Áî®Êà∑-ËßíËâ≤Êò†Â∞ÑÔºöÁî®Êà∑ÂíåËßíËâ≤‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª</li>\n<li>ËßíËâ≤-ÊùÉÈôêÊò†Â∞ÑÔºöËßíËâ≤ÂíåÊùÉÈôê‰πãÈó¥ÁöÑÊò†Â∞Ñ</li>\n</ul>\n<p><img src=\"https://img.mrsingsing.com/authentication-rbac-database-table-design\" alt=\"Êï∞ÊçÆÂ∫ìËÆæËÆ°\"></p>\n<p><img src=\"https://img.mrsingsing.com/authentication-rbac-feature-module\" alt=\"ÂäüËÉΩÊ®°Âùó\"></p>\n<h2 id=\"ÂâçÁ´ØÊùÉÈôêÊéßÂà∂ÊÄùË∑Ø\"><a href=\"#ÂâçÁ´ØÊùÉÈôêÊéßÂà∂ÊÄùË∑Ø\" class=\"headerlink\" title=\"ÂâçÁ´ØÊùÉÈôêÊéßÂà∂ÊÄùË∑Ø\"></a>ÂâçÁ´ØÊùÉÈôêÊéßÂà∂ÊÄùË∑Ø</h2><p>ÂâçÁ´ØÊùÉÈôê‰ªéÊú¨Ë¥®‰∏äÊù•ËØ¥Âç≥Ê†πÊçÆÊùÉÈôêË°®ÂØπËßÜÂõæÂ±ÇÁöÑÂ±ïÁ§∫‰ª•ÂèäÂØπËØ∑Ê±ÇÊé•Âè£ÁöÑËÆøÈóÆËøõË°åÈôêÂà∂„ÄÇ</p>\n<p>‰∏ãÈù¢Êàë‰ª¨Ë∞àË∞àÂâçÁ´ØÁïåÈù¢ÂØπ‰∫éÊùÉÈôêÊéßÂà∂ÁöÑÁ≤íÂ∫¶Â§ßÂ∞èÔºå‰ª•‰º†ÁªüÁöÑÂêéÂè∞Á≥ªÁªü‰∏∫‰æãÔºåÊúâ‰ª•È°µÈù¢‰∏∫Áª¥Â∫¶‰Ωú‰∏∫ÊùÉÈôêÊéßÂà∂Á≤íÂ∫¶ÁöÑÔºåÊã•ÊúâÊùÉÈôêÁöÑ‰∫∫ÂëòÊñπÂèØËÆøÈóÆÂØπÂ∫îÁöÑÈ°µÈù¢ÔºõÊúâ‰ª•Êìç‰Ωú‰Ωú‰∏∫ÊùÉÈôêÊéßÂà∂ÁöÑÔºåÂØπÂ∫îÁöÑÂâçÁ´ØÁïåÈù¢‰∏≠ÁöÑÈ°µÈù¢ÂÖÉÁ¥†ÈúÄË¶ÅÈöêËóèÊàñÊèêÁ§∫Ôºõ‰πüÂ≠òÂú®Áî®Êà∑ÈÄöËøáÊµèËßàÂô®ÁöÑÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰øÆÊîπ DOM ÂÖÉÁ¥†‰ª•ÁªïËøáÊùÉÈôêÁõ¥Êé•Êìç‰ΩúÁöÑÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÂØπÊé•Âè£ËØ∑Ê±ÇÂÅöÊã¶Êà™„ÄÇ</p>\n<ul>\n<li>È°µÈù¢ÊùÉÈôêÔºàËèúÂçïÊùÉÈôêÔºâÔºöËøõÂÖ•È°µÈù¢ÁöÑÊùÉÈôê</li>\n<li>Êìç‰ΩúÊùÉÈôêÔºöÂ¢ûÂà†ÊîπÊü•ÁöÑÊùÉÈôê</li>\n<li>Êï∞ÊçÆÊùÉÈôêÔºöÂèëÈÄÅÊé•Âè£Âà∞ÊúçÂä°Á´ØÁöÑÊùÉÈôê</li>\n</ul>\n<p><img src=\"https://img.mrsingsing.com/authentication-rbac-management-system\" alt=\"Ant Design Pro\"></p>\n<p>Âú®‰º†ÁªüÁöÑÂêéÂè∞Á≥ªÁªü‰∏≠‰ºöÂú®ÁôªÂΩïËØ∑Ê±Ç‰∏≠ÔºåÂæóÂà∞Áî®Êà∑ÊâÄÊã•ÊúâÁöÑÊùÉÈôêÊï∞ÊçÆÔºåËøôÈÉ®ÂàÜÊòØÈúÄË¶ÅÂêéÁ´ØÁöÑÊäÄÊúØÊîØÊåÅÁöÑ„ÄÇÂâçÁ´ØÊ†πÊçÆÊùÉÈôêÊï∞ÊçÆÂ±ïÁ§∫ÂØπÂ∫îÁöÑËèúÂçïÔºåÁÇπÂáªËèúÂçïÔºåÊâçËÉΩÊü•ÁúãÁõ∏ÂÖ≥ÁöÑÁïåÈù¢„ÄÇ</p>\n<p>ÁïåÈù¢ÁöÑÊéßÂà∂ÔºöÂ¶ÇÊûúÁî®Êà∑Ê≤°ÊúâÁôªÂΩïÔºåÊâãÂä®Âú®Âú∞ÂùÄÊ†è‰∏äË∑≥ËΩ¨Âà∞ÁÆ°ÁêÜÁïåÈù¢Âú∞ÂùÄÔºåÂàôÈúÄË¶ÅË∑≥ËΩ¨Âà∞ÁôªÂΩïÁïåÈù¢„ÄÇÂ¶ÇÊûúÁî®Êà∑Â∑≤ÁªèÁôªÂΩïÔºå‰ΩÜÊòØÊâãÂä®ËæìÂÖ•ÈùûÊùÉÈôêËåÉÂõ¥ÂÜÖÁöÑÁïåÈù¢Âú∞ÂùÄÔºåÂàôÈúÄË¶ÅÈáçÂÆöÂêëÂà∞È¢ÑËÆæÁöÑ 404 ÁïåÈù¢„ÄÇ</p>\n<p>Â¶ÇÊûúÁî®Êà∑ÈÄöËøáÈùûÂ∏∏ËßÑÊìç‰ΩúÔºåÊØîÂ¶ÇÈÄöËøáÊµèËßàÂô®Â∞ÜÊüê‰∫õÁ¶ÅÁî®ÊåâÈíÆÂèòÊàêÂêØÁî®Áä∂ÊÄÅÔºåÊ≠§Êó∂ÂèëÈÄÅÁöÑËØ∑Ê±ÇÔºå‰πüÂ∫îËØ•Ë¢´ÂâçÁ´ØÊã¶Êà™„ÄÇ</p>\n<p>Âú® React ‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáÊääÊùÉÈôêÊï∞ÊçÆÂú®Ê†πËäÇÁÇπÈÄöËøá Context API Âêë‰∏ã‰º†ÈÄíÔºåÈÄöËøáÈ´òÈò∂ÁªÑ‰ª∂ÂØπÊùÉÈôêÊéßÂà∂ÁöÑËèúÂçï„ÄÅÂÖÉÁ¥†ËøõË°åÂ§ñÂ±ÇÂåÖË£πÔºåÂÖ∂Ê¨°ÂØπ‰∫éÊï∞ÊçÆËØ∑Ê±ÇÊã¶Êà™ÂèØ‰ª•Âú®ÂèëÈÄÅ HTTP ËØ∑Ê±ÇÂâçÂÅöÊ†°È™å„ÄÇ</p>\n<p>ÂèØ‰ª•ÂèÇËÄÉ <a href=\"https://pro.ant.design/docs/authority-management-cn\" target=\"_blank\" rel=\"noopener\">Ant Design Pro</a> ÁöÑÊùÉÈôêËÆæËÆ°„ÄÇ</p>\n<hr>\n<p><strong>ÂèÇËÄÉËµÑÊñôÔºö</strong></p>\n<ul>\n<li><a href=\"http://www.woshipm.com/pd/1150093.html\" target=\"_blank\" rel=\"noopener\">RBAC Ê®°ÂûãÔºöÂü∫‰∫éÁî®Êà∑-ËßíËâ≤-ÊùÉÈôêÊéßÂà∂ÁöÑ‰∏Ä‰∫õÊÄùËÄÉ</a></li>\n<li><a href=\"https://juejin.im/post/5e048326f265da33f8653c27\" target=\"_blank\" rel=\"noopener\">Âü∫‰∫é RBAC ÁöÑÂâçÁ´ØÊùÉÈôêÊéßÂà∂</a></li>\n<li><a href=\"https://www.uisdc.com/100-solutions-for-character-permission-design\" target=\"_blank\" rel=\"noopener\">ÁΩëÊòìÈ´òÊâãÔºöËßíËâ≤ÊùÉÈôêËÆæËÆ°ÁöÑ 100 ÁßçËß£Ê≥ï</a></li>\n<li><a href=\"http://www.woshipm.com/pd/3745592.html\" target=\"_blank\" rel=\"noopener\">ËßíËâ≤ÊùÉÈôêËÆæËÆ°Ôºö‰ª•ÈòøÈáå‰∫ßÂìÅ‰∏∫‰æãÔºåÂ±ïÂºÄ‰ΩìÈ™åÂàÜÊûê</a></li>\n<li><a href=\"http://www.woshipm.com/pd/440765.html\" target=\"_blank\" rel=\"noopener\">RBAC ÊùÉÈôêÁÆ°ÁêÜÊ®°ÂûãÔºöÂü∫Êú¨Ê®°ÂûãÂèäËßíËâ≤Ê®°ÂûãËß£ÊûêÂèä‰∏æ‰æã</a></li>\n<li><a href=\"https://www.zhihu.com/question/20313385\" target=\"_blank\" rel=\"noopener\">Â¶Ç‰ΩïËÆæËÆ°ÁΩëÁ´ôÊùÉÈôêÁ≥ªÁªüÔºü</a></li>\n<li><a href=\"https://www.cnblogs.com/zwq194/archive/2011/03/07/1974821.html\" target=\"_blank\" rel=\"noopener\">Êâ©Â±ï RBAC Áî®Êà∑ËßíËâ≤ÊùÉÈôêËÆæËÆ°ÊñπÊ°à</a></li>\n<li><a href=\"https://juejin.im/post/5e72cfa16fb9a07cc01a4262\" target=\"_blank\" rel=\"noopener\">RBAC ÊùÉÈôêÁÆ°ÁêÜÁ≥ªÁªüËÆæËÆ°ÊÄùË∑Ø</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>Ë∞àÂà∞ÊùÉÈôêÊéßÂà∂ÔºåÂÆûÈôÖ‰∏äÂú®Êàë‰ª¨ÁöÑÁîüÊ¥ª‰∏≠Êó†Â§Ñ‰∏çÂú®Ôºå‰æãÂ¶ÇÊàë‰ª¨Êó†Êó∂Êó†ÂàªÈÉΩÂú®‰ΩøÁî®ÁöÑÊô∫ËÉΩÊâãÊú∫ÔºåÊâìÂºÄÊâãÊú∫ÈúÄË¶ÅÁîüÁâ©ÊåáÁ∫πÊàñËÄÖ‰∫∫ËÑ∏ËØÜÂà´ÔºõÂΩì‰Ω†ËøõÂÖ•ÂÖ¨Âè∏ÁöÑÊó∂ÂÄôÔºå‰Ω†ÈúÄË¶ÅÂ∑•Âç°Âú®Èó®Á¶ÅÊª¥‰∏Ä‰∏ãÔºõÂèàÂ¶ÇÊõæÁªèÁöÑ‰Ω†ÊòØÂê¶ÊúâËøáÂçäÂ§úÊâìÂºÄÂøÉ‰ª™Â•≥Â≠©ÁöÑ QQ Á©∫Èó¥ÔºåÊ¨≤‰∏ÄÊé¢Á©∂Á´üÁöÑÊó∂ÂÄôÔºåÂç¥ÂëäËØâÈúÄË¶ÅÊ∑ªÂä†Â•ΩÂèãÊâçËÉΩËÆøÈóÆ„ÄÇËøô‰∫õÈÉΩÊòØÊàë‰ª¨Êó•Â∏∏ÁîüÊ¥ª‰∏≠‰ΩìÁé∞ÊùÉÈôêÁöÑÂú∞ÊñπÔºåËÄåÂú®ËΩØ‰ª∂ÂºÄÂèë‰∏≠ÔºåÊùÉÈôêÁÆ°ÁêÜ‰πüÊòØÊó†Â§Ñ‰∏çÂú®ÁöÑ‰∫ßÂìÅËÆæËÆ°ÂäüËÉΩÔºåÂ∞§ÂÖ∂ÊòØÂêéÂè∞ÁÆ°ÁêÜÂêéÂè∞Êó†Ê≥ïÂØπÊùÉÈôêÁÆ°ÁêÜÈÅøËÄå‰∏çË∞àÔºå‰ªäÂ§©Â∞ùËØïÊ∑±ÂÖ•‰∫ÜËß£ÊùÉÈôêÁÆ°ÁêÜËÆæËÆ°‰∏≠ÊúÄÂ∏∏Áî®ÁöÑ RBAC Ê®°Âûã„ÄÇ</p>\n<h2 id=\"ÊùÉÈôêÊ®°Âûã\"><a href=\"#ÊùÉÈôêÊ®°Âûã\" class=\"headerlink\" title=\"ÊùÉÈôêÊ®°Âûã\"></a>ÊùÉÈôêÊ®°Âûã</h2><p><strong>ÊùÉÈôê</strong> ‰∫åÂ≠ó‰ªéÂ≠óÈù¢‰∏äÂèØÊãÜÂàÜ‰∏∫ <code>ÊùÉÂäõ+ÈôêÂà∂</code>Ôºå‰ªé‰ΩøÁî®ËÄÖÁöÑËßíÂ∫¶Êù•ËØ¥Ôºå‰πüÂ∞±ÊòØÂú®ÈôêÂà∂ÁöÑËåÉÂõ¥ÂÜÖÊ≠£Á°ÆÂú∞Ë°åÈ©∂ÊùÉÂäõÔºåËÄåÁ´ôÂú®ËÆæËÆ°ËÄÖÁöÑËßíÂ∫¶Êù•Ëß£ËØªÔºåÂàôÊòØÈÄöËøáÂêàÁêÜÁöÑÊâãÊÆµÊéßÂà∂‰ΩøÁî®ËÄÖËÉΩËÆøÈóÆÂà∞‰ªñ‰ª¨ËÉΩÂ§üËÆøÈóÆÂà∞ÁöÑËµÑÊ∫ê„ÄÇ</p>\n<p>Âú®ÊùÉÈôêËÆæËÆ°È¢ÜÂüüÔºåÊúÄÂ∏∏ËßÅÁöÑÊùÉÈôêÊ®°ÂûãÊúâ‰ª•‰∏ãÂõõÁßçÔºö</p>\n<ul>\n<li>ACLÔºàAccess Control ListÔºâÔºöËÆøÈóÆÊéßÂà∂ÂàóË°® <code>Áî®Êà∑ -&gt; ÊùÉÈôê</code></li>\n<li>RBACÔºàRole-Based Access ControlÔºâÔºöÂü∫‰∫é <strong>ËßíËâ≤</strong> ÁöÑÊùÉÈôêÊéßÂà∂ <code>Áî®Êà∑ -&gt; ËßíËâ≤ -&gt; ÊùÉÈôê</code></li>\n<li>ABACÔºàAttribute-Based Access ControlÔºâÔºöÂü∫‰∫é <strong>Â±ûÊÄß</strong> ÁöÑÊùÉÈôêÊéßÂà∂ÔºåËØ•Ê®°ÂûãÊ†πÊçÆÁâπÊÆäÁöÑËßÑÂàôÂàÜÈÖçÊùÉÈôê <code>ÔºàÁî®Êà∑„ÄÅËµÑÊ∫ê„ÄÅÂØπË±°Â±ûÊÄßÔºâ-&gt; ÊùÉÈôê</code></li>\n<li>PBACÔºàPolicy-Based Access ControlÔºâÔºöÂü∫‰∫é <strong>Á≠ñÁï•</strong> ÁöÑÊùÉÈôêÊéßÂà∂ÔºåÁî®Êà∑ÔºàÁªÑÔºâÈö∂Â±û‰∫éËßíËâ≤ÔºåËßíËâ≤Èö∂Â±û‰∫éËµÑÊ∫êÔºàÈ°πÁõÆÔºâ<code>Áî®Êà∑ -&gt; ËßíËâ≤ -&gt; ÔºàËµÑÊ∫ê/È°πÁõÆ + ÊùÉÈôêÔºâ</code></li>\n</ul>\n<p>Á¨¨‰∏ÄÁßç ACL Ê®°ÂûãÔºåÊùÉÈôêËÉΩÁõ¥Êé•Ëµã‰∫àÁî®Êà∑Ôºå‰æãÂ¶ÇÂ∞ÜÊü•ÁúãËÆ¢ÂçïÂàóË°®ÔºàÊùÉÈôêÔºâËµã‰∫àÊüê‰ΩçËøêËê•‰∫∫ÂëòÔºàÁî®Êà∑Ôºâ„ÄÇ‰ΩÜÊòØËøôÁßçÊ®°ÂºèÁöÑÁº∫ÁÇπÂú®‰∫éÔºå‰ΩÜÁî®Êà∑ÈáèËææÂà∞‰∏ÄÂÆöÈáèÁ∫ßÁöÑÊó∂ÂÄôÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂØπÊØè‰∏™Áî®Êà∑ÈÉΩËøõË°å‰∏ÄÊ¨°ÊéàÊùÉÊìç‰ΩúÔºåÈÇ£‰πàËøô‰∏™Â∑•‰ΩúÈáèÂ∞±‰ºöÁõ∏ÂΩìÂ§ß„ÄÇ</p>\n<p>Âõ†Ê≠§Â∞±Âá∫Áé∞‰∫Ü RBAC Ê®°ÂûãÔºåËøôÊòØËΩØ‰ª∂ËÆæËÆ°‰∏≠ÊúÄÂ∏∏Áî®ÁöÑÊùÉÈôêÁÆ°ÁêÜÊ®°ÂûãÔºåÁõ∏ÊØî‰∫é ACL Ê®°ÂûãÔºåRBAC Ê®°ÂûãÂú®Áî®Êà∑‰∏éÊùÉÈôê‰πãÈó¥Â§ö‰∫Ü‰∏Ä‰∏™ÂÖÉÁ¥†„ÄåËßíËâ≤„ÄçÔºåÈÄöËøáÊùÉÈôêÂÖ≥ËÅîËßíËâ≤„ÄÅËßíËâ≤ÂÖ≥ËÅîÁî®Êà∑ÁöÑÊñπÊ≥ïÊù•Èó¥Êé•Âú∞Ëµã‰∫àÁî®Êà∑ÊùÉÈôêÔºå‰ªéËÄåÂÆûÁé∞Áî®Êà∑‰∏éÊùÉÈôêÁöÑËß£ËÄ¶„ÄÇ</p>\n<p>Âêé‰∏§ÁßçÂ§ßÊ¶ÇÁü•ÈÅìÂ∞±Ë°åÔºåÂõ†‰∏∫‰∏ÄËà¨‰∏ç‰ºöÁî®Âà∞ÔºåËØ¶ÊÉÖÂèØËá™Ë°å Google ‰∫ÜËß£„ÄÇ</p>","more":"<h2 id=\"RBAC-Ê®°ÂûãÁöÑÊºîËøõ\"><a href=\"#RBAC-Ê®°ÂûãÁöÑÊºîËøõ\" class=\"headerlink\" title=\"RBAC Ê®°ÂûãÁöÑÊºîËøõ\"></a>RBAC Ê®°ÂûãÁöÑÊºîËøõ</h2><p>Âú® RBAC Ê®°ÂûãÁöÑÊºîËøõÂèëÂ±ïÂá∫Âõõ‰∏™ÁâàÊú¨ÔºåÂàÜÂà´ÊòØ RBAC 0~3„ÄÇ</p>\n<h3 id=\"RBAC0-Ê®°Âûã\"><a href=\"#RBAC0-Ê®°Âûã\" class=\"headerlink\" title=\"RBAC0 Ê®°Âûã\"></a>RBAC0 Ê®°Âûã</h3><p>RBAC9 ÊòØÊúÄÂü∫Á°ÄÁöÑÊùÉÈôêÊ®°ÂûãÔºåÂæàÂ§ö‰∫ßÂìÅÂü∫‰∫éËØ•Ê®°ÂûãÂ∞±Â∑≤ÁªèËÉΩÊª°Ë∂≥ËÆæËÆ°ÈúÄÊ±Ç„ÄÇÁî®Êà∑ÂíåËßíËâ≤‰πãÈó¥ÂèØ‰ª•ÊòØ‰∏ÄÂØπÂ§ö‰πüÂèØ‰ª•ÊòØÂ§öÂØπÂ§öÂÖ≥Á≥ªÔºåËÄåËßíËâ≤ÂíåÊùÉÈôê‰πãÈó¥ÂàôÂ§ö‰ª•Â§öÂØπÂ§öÁöÑÂÖ≥Á≥ª‰∏∫‰∏ªÔºåÁî®Êà∑Êã•ÊúâÁöÑÊùÉÈôêÁ≠â‰∫é‰ªñÊâÄÊúâÁöÑËßíËâ≤ÊåÅÊúâÁöÑÊùÉÈôê‰πãÂíå„ÄÇ</p>\n<p><strong>Â∫îÁî®Âú∫ÊôØ</strong>Ôºö‰æãÂ¶ÇÂú®ÁîµÂïÜÂÖ¨Âè∏‰∏≠ÊäΩË±°Âá∫Âá†ÁßçÁÆ°ÁêÜ‰∏öÂä°ÁöÑËßíËâ≤ÔºåËØ∏Â¶ÇÈîÄÂîÆÁªèÁêÜ„ÄÅÈ°πÁõÆÁªèÁêÜ„ÄÅÂ∏ÇÂú∫ÁªèÁêÜÁ≠âÁ≠âÔºåÂ∞èÈôàÊó¢ÊãÖÂΩìËê•ÈîÄÈÉ®Èó®ÁöÑÂ∏ÇÂú∫ÁªèÁêÜÂèàÊãÖÂΩìÈîÄÂîÆÈÉ®ÁöÑÈîÄÂîÆÁªèÁêÜÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂ∞ÜËøô‰∏§‰∏™ËßíËâ≤ÁöÑËµã‰∫àÁªô‰ªñ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-rbac0\" alt=\"RBAC0 Ê®°Âûã\"></p>\n<h3 id=\"RBAC1-Ê®°Âûã\"><a href=\"#RBAC1-Ê®°Âûã\" class=\"headerlink\" title=\"RBAC1 Ê®°Âûã\"></a>RBAC1 Ê®°Âûã</h3><p>RBAC1 Ê®°ÂûãÂÖ∂ÂÆûÊòØ RBAC0 ÁöÑÂçáÁ∫ßÁâàÔºåÂÆÉÂØπËßíËâ≤ËøôÂ±ÇÂÖÉÁ¥†‰∏äËøõË°å‰∫ÜÁªÜÂàÜÔºåÂºïÂÖ•ÁªßÊâøÁöÑÊ¶ÇÂøµÔºå‰πüÂ∞±ÊòØÂèØ‰ª•ÁªßÊâøÊüê‰∏™Âü∫Á°ÄËßíËâ≤ÁîüÊàêÂ≠êËßíËâ≤„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-rbac1\" alt=\"RBAC1 Ê®°Âûã\"></p>\n<p><strong>Â∫îÁî®Âú∫ÊôØ</strong>ÔºöÊâøÊé•‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåÂ∏ÇÂú∫ÁªèÁêÜÂ≤ó‰ΩçÂèØËÉΩ‰ºöÂàÜ‰∏∫ÊÄªÁõëÁ∫ßÂà´„ÄÅÁªèÁêÜÁ∫ßÂà´„ÄÅÂâØÁªèÁêÜÁ∫ßÂà´ÔºåËøôÊó∂ÂÄôÂ¶ÇÊûúÂ∞èÈôàÂè™ÊòØ‰∏Ä‰∏™ÂâØÁªèÁêÜÁ∫ßÂà´ÁöÑÔºåÈÇ£‰πà‰ªñÊâÄÊã•ÊúâÁöÑÂ∏ÇÂú∫ÁªèÁêÜÁöÑÊùÉÈôêËÇØÂÆöÂ∞±Ê≤°ÊúâÊÄªÁõëÁ∫ßÂà´ÁöÑÂ§ö„ÄÇ</p>\n<p>RBAC1 Ê®°ÂûãÂàôÊõ¥Â•ΩÂú∞Âú®ËßíËâ≤Â±ÇÈù¢ËøõË°åÁªÜÂàÜÔºåÊõ¥Â•ΩÂú∞Êò†Â∞Ñ‰∫Ü‰ºÅ‰∏öÁªÑÁªáÊû∂ÊûÑ‰∏≠ÁöÑËÅåËÉΩÁöÑÊùÉÈôêÔºåÊ†πÊçÆÂÆûÈôÖÁöÑÁÆ°ÁêÜÊùÉÈôêÂØπÁõ∏‰ººËÅåËÉΩÁöÑËßíËâ≤ËøõË°åÂà†Âáè‰ª•ËææÂà∞Á∫ßÂà´ÂàÜÊòéÁöÑÊïàÊûú„ÄÇ</p>\n<h3 id=\"RBAC2-Ê®°Âûã\"><a href=\"#RBAC2-Ê®°Âûã\" class=\"headerlink\" title=\"RBAC2 Ê®°Âûã\"></a>RBAC2 Ê®°Âûã</h3><p>Âú® RBAC2 ‰∏≠ÂØπËßíËâ≤Â±ÇÈù¢Â¢ûÂä†‰∫ÜÊõ¥Â§öÁöÑÈôêÂà∂Ôºö</p>\n<ul>\n<li>ÈùôÊÄÅËÅåË¥£ÂàÜÁ¶ª SSD<ul>\n<li>ËßíËâ≤‰∫íÊñ•ÔºöÁõ∏ÂêåÁî®Êà∑‰∏çËÉΩÂêåÊó∂Êã•Êúâ‰∫íÊñ•ÂÖ≥Á≥ªÁöÑËßíËâ≤Ôºå‰æãÂ¶Ç‰ºöËÆ°ÂíåÂá∫Á∫≥‰∏§‰∏™ËßíËâ≤Â∞±ÊòØ‰∫íÊñ•ÁöÑ</li>\n<li>Âü∫Êï∞Á∫¶ÊùüÔºöËßíËâ≤Ë¢´ÂàÜÈÖçÂà∞ÁöÑÁî®Êà∑ÊúâÊï∞Èáè‰∏äÈôêÔºå‰æãÂ¶ÇÂÖ¨Âè∏‰∏≠Âè™Êúâ‰∏Ä‰∏™ CEO ËÅå‰ΩçÔºåÈÇ£‰πàËøô‰∏™ËßíËâ≤ÁöÑÊï∞ÈáèÂ∞±ÊòØÊúâÈôêÁöÑ</li>\n<li>ÂÖàÂÜ≥Êù°‰ª∂ËßíËâ≤ÔºöË¶ÅÊã•ÊúâÊõ¥È´òÁ∫ßÂà´ÁöÑËßíËâ≤ÊùÉÈôêÔºåÈúÄË¶ÅÂÖàËé∑ÂèñÂà∞Áõ∏ÂØπÊù•ËØ¥‰ΩéÁ∫ßÂà´ÁöÑ‰∏Ä‰∫õÊùÉÈôêÔºå‰æãÂ¶ÇÂâØÁªèÁêÜË¶ÅÊÉ≥Ëé∑ÂèñÂà∞ÊÄªÁõëÁ∫ßÂà´ÊùÉÈôêÔºåÈÇ£‰πà‰ªñÈúÄË¶ÅÂÖàËé∑ÂèñÂà∞ÁªèÁêÜÁ∫ßÂà´ÁöÑÊùÉÈôê</li>\n</ul>\n</li>\n<li>Âä®ÊÄÅËÅåË¥£ÂàÜÁ¶ª DSD<ul>\n<li>Âä®ÊÄÅÁöÑÈôêÂà∂Áî®Êà∑ÂèäÂÖ∂Êã•ÊúâÁöÑËßíËâ≤Ôºå‰æãÂ¶Ç‰∏Ä‰∏™Áî®Êà∑ÂèØ‰ª•ÂêåÊó∂Êã•Êúâ‰∏§‰∏™ËßíËâ≤Ôºå‰ΩÜÊòØËøêË°åÊó∂Âè™ËÉΩÊøÄÊ¥ª‰∏Ä‰∏™ËßíËâ≤</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://img.mrsingsing.com/authentication-rbac2\" alt=\"RBAC2 Ê®°Âûã\"></p>\n<h3 id=\"RBAC3-Ê®°Âûã\"><a href=\"#RBAC3-Ê®°Âûã\" class=\"headerlink\" title=\"RBAC3 Ê®°Âûã\"></a>RBAC3 Ê®°Âûã</h3><p>RBAC3 Ê®°ÂûãÂ∞±ÊòØ <code>RBAC1 + RBAC2</code> ‰∏§‰∏™Ê®°ÂûãÁöÑÂêàÈõÜÔºåÊâÄ‰ª• RBAC3 Êó¢Êúâ RBAC1 ÁöÑËßíËâ≤Á≠âÁ∫ßÂàíÂàÜÔºå‰πüÊúâ RBAC2 ÁöÑËßíËâ≤ÈôêÂà∂„ÄÇËøôÁßçÊ®°ÂûãÂè™ÊúâÂú®Á≥ªÁªüÊØîËæÉÂ§çÊùÇÁöÑÊó∂ÂÄôÊâçÊ¥æÂæó‰∏äÁî®Âú∫Ôºå‰∏çÁÑ∂ËÆæËÆ°ÂæóËøáÂ∫¶Â§çÊùÇÔºåÂØπÂºÄÂèëÂíåÂêéÊúüÁª¥Êä§‰πü‰∏çÊòØÂ•Ω‰∫ãÊÉÖ„ÄÇ</p>\n<p>RBAC Ê®°ÂûãÁöÑ‰ºòÁº∫ÁÇπÔºö</p>\n<p><strong>‰ºòÁÇπ</strong></p>\n<ol>\n<li>ÁÆÄÂåñ‰∫ÜÁî®Êà∑ÂíåÊùÉÈôêÁöÑÂÖ≥Á≥ªÔºåÊùÉÈôêÂè™Ë¶Å‰∏ÄÊ¨°Ëµã‰∫àËßíËâ≤Â∞±ËÉΩÈáçÂ§ç‰ΩøÁî®</li>\n<li>ÂØπÂêéÁª≠ÁöÑÁª¥Êä§Êõ¥Âä†ÂèãÂ•ΩÔºåÁî®Êà∑ÂíåÊùÉÈôê‰πãÈó¥Â≠òÂú®Êõ¥Â§öÁöÑÊñ°ÊóãÁ©∫Èó¥Ôºå‰æø‰∫éÂü∫‰∫éËßíËâ≤ËøõË°åÊùÉÈôêÊâ©Â±ï</li>\n</ol>\n<p><strong>Áº∫ÁÇπ</strong></p>\n<ol>\n<li>RBAC Ê®°ÂûãÂπ∂Êú™Êèê‰æõÊéßÂà∂Êìç‰ΩúÈ°∫Â∫èÁöÑÊú∫Âà∂Ôºå‰ºöÂØπÊúâ‰∏•Ê†ºÊìç‰ΩúÈ°∫Â∫èÁöÑÁ≥ªÁªüÈÄ†ÊàêÂõ∞Èöæ</li>\n</ol>\n<h2 id=\"RBAC-Êû∂ÊûÑËÆæËÆ°\"><a href=\"#RBAC-Êû∂ÊûÑËÆæËÆ°\" class=\"headerlink\" title=\"RBAC Êû∂ÊûÑËÆæËÆ°\"></a>RBAC Êû∂ÊûÑËÆæËÆ°</h2><p>ÂâçÈù¢Êàë‰ª¨ÊèêÂà∞ RBAC Ê∂âÂèä‰∏â‰∏™Â±ÇÈù¢ÔºåÂ∞±ÊòØÁî®Êà∑„ÄÅËßíËâ≤ÂíåÊùÉÈôê„ÄÇ</p>\n<p>Áî®Êà∑Êàë‰ª¨ÂèØ‰ª•ÁêÜËß£‰∏∫Áã¨Á´ãÁöÑ‰∏™‰ΩìÔºå‰æãÂ¶ÇÂº†‰∏â„ÄÅÊùéÂõõ„ÄÅÁéã‰∫î„ÄÇËÄåËßíËâ≤ÁöÑÂÆö‰πâÊòØÂæàÂπøÊ≥õÁöÑÔºåÂ¶ÇÊûúÊàë‰ª¨‰ªéËÅå‰ΩçÂàíÂàÜÊúâÈîÄÂîÆÁªèÁêÜ„ÄÅÂ∏ÇÂú∫ÁªèÁêÜ„ÄÅÈ°πÁõÆÁªèÁêÜÁ≠âÁ≠âÔºåÊåâÈÉ®Èó®ÂàíÂàÜÁöÑËØùÂèØ‰ª•ÊòØÈîÄÂîÆÈÉ®„ÄÅÂ∏ÇÂú∫ÈÉ®„ÄÅÈ°πÁõÆÈÉ®ÔºåÊâÄ‰ª•ËØ¥ËßíËâ≤Â∫îËØ•ÊåâÁÖßÁ≥ªÁªüÁöÑ‰∏öÂä°ÈúÄÊ±ÇÊù•ÂàíÂàÜ„ÄÇËÄå‰∫ãÂÆû‰∏äÔºåÂú®Êàë‰ª¨ÁöÑÊû∂ÊûÑËÆæËÆ°‰∏≠ÈúÄË¶ÅÂØπÁî®Êà∑ÂíåËßíËâ≤ÁöÑÂÖ≥Á≥ªËøõË°åÊèèËø∞ÔºåÊØîÂ¶ÇÂÖ∂ÂÜÖÂÆπÂ∫îËØ•ÊòØÂº†‰∏âÊòØÈîÄÂîÆÁªèÁêÜ„ÄÅÊùéÂõõÊòØÂ∏ÇÂú∫ÁªèÁêÜ„ÄÅÁéã‰∫îÊòØÈ°πÁõÆÁªèÁêÜ„ÄÇ</p>\n<p>ËøòÊúâÂ∞±ÊòØÊùÉÈôêÂ±ÇÈù¢ÔºåÊùÉÈôêÂ±ÇÈù¢ÂèØ‰ª•ÂàíÂàÜ‰∏∫Êü•ÁúãÂÆ¢Êà∑ÂàóË°®„ÄÅÊ∑ªÂä†ÂÆ¢Êà∑„ÄÅÂà†Èô§ÂÆ¢Êà∑Á≠âÁ≠â„ÄÇÊùÉÈôêÂíåËßíËâ≤ÊòØÁªëÂÆöËµ∑Êù•ÁöÑÔºåÊâÄ‰ª•ËßíËâ≤ÂíåÊùÉÈôêÁöÑÊèèËø∞ÂèØËÉΩÊòØËøôÊ†∑ÁöÑÔºöÈîÄÂîÆÁªèÁêÜÂèØ‰ª•Êü•ÁúãÂÆ¢Êà∑„ÄÅÊ∑ªÂä†ÂÆ¢Êà∑„ÄÅÂà†Èô§ÂÆ¢Êà∑ÔºõÈîÄÂîÆ‰ªÖÂèØ‰ª•Êü•ÁúãÂÆ¢Êà∑„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/autification-rbac-architect\" alt=\"RBAC Êû∂ÊûÑËÆæËÆ°\"></p>\n<p>Âú®ÂÆûÈôÖÁöÑ‰∏öÂä°ÂºÄÂèë‰∏≠ÔºåÂèØ‰ª•ÂØπ RBAC Ê®°ÂûãÂÅöÁõ∏ÂÖ≥ÁöÑÊâ©Â±ïÔºå‰æãÂ¶ÇÂú®ÂëòÂ∑•‰∫∫Êï∞‰ºóÂ§öÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèçÂ§çÂú∞ÂØπÊüê‰∏™ÂëòÂ∑•ËøõË°åÊùÉÈôêÊéà‰∫àÊòØ‰∏™ÁπÅÁêêÁöÑË°å‰∏∫ÔºåÊàë‰ª¨ÂèØ‰ª•Â¢ûÂä† <strong>Áî®Êà∑ÁªÑ</strong> ÁöÑÊ¶ÇÂøµÔºåÁõ¥Êé•ÁªôÁî®Êà∑ÁªÑÂàÜÈÖçËßíËâ≤ÔºåÂÜçÊääÁî®Êà∑Âä†ÂÖ•Áî®Êà∑ÁªÑÔºåËøôÊ†∑Áî®Êà∑Èô§‰∫ÜËá™Ë∫´ÁöÑÊùÉÈôêÂ§ñÔºåËøòÂÖ±‰∫´‰∫ÜÁî®Êà∑ÁªÑÁöÑÊâÄÊúâÊùÉÈôê„ÄÇ</p>\n<h2 id=\"Êï∞ÊçÆÂ∫ì‰∏éÂäüËÉΩÊ®°ÂùóËÆæËÆ°\"><a href=\"#Êï∞ÊçÆÂ∫ì‰∏éÂäüËÉΩÊ®°ÂùóËÆæËÆ°\" class=\"headerlink\" title=\"Êï∞ÊçÆÂ∫ì‰∏éÂäüËÉΩÊ®°ÂùóËÆæËÆ°\"></a>Êï∞ÊçÆÂ∫ì‰∏éÂäüËÉΩÊ®°ÂùóËÆæËÆ°</h2><p>Âú®Êû∂ÊûÑËÆæËÆ°ÁöÑÁ´†ËäÇ‰∏≠Êàë‰ª¨ÊèêÂà∞‰∫ÜÈô§Áî®Êà∑„ÄÅËßíËâ≤ÂíåÊùÉÈôêÂ§ñÔºå‰ªñ‰ª¨Áõ∏‰∫íËÅîÁ≥ªÁöÑÂÖ≥Á≥ªÂÖ±‰∫î‰∏™Â±ÇÈù¢ÔºåÊò†Â∞ÑÂà∞Êï∞ÊçÆÂ∫ìÁöÑËÆæËÆ°ÂØπÂ∫îÁöÑÂ∞±ÊòØ‰∫îÂº†Ë°®„ÄÇ</p>\n<ul>\n<li>userÔºàÁî®Êà∑ÔºâÔºöÊØè‰∏™Áî®Êà∑ÈÉΩÊúâÂîØ‰∏ÄÁöÑ UID ËØÜÂà´ÔºåÂπ∂Ë¢´Êéà‰∫à‰∏çÂêåÁöÑËßíËâ≤</li>\n<li>roleÔºàËßíËâ≤ÔºâÔºö‰∏çÂêåËßíËâ≤ÂÖ∑Êúâ‰∏çÂêåÊùÉÈôê</li>\n<li>permissionÔºàÊùÉÈôêÔºâÔºöËÆøÈóÆÊùÉÈôê</li>\n<li>Áî®Êà∑-ËßíËâ≤Êò†Â∞ÑÔºöÁî®Êà∑ÂíåËßíËâ≤‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª</li>\n<li>ËßíËâ≤-ÊùÉÈôêÊò†Â∞ÑÔºöËßíËâ≤ÂíåÊùÉÈôê‰πãÈó¥ÁöÑÊò†Â∞Ñ</li>\n</ul>\n<p><img src=\"https://img.mrsingsing.com/authentication-rbac-database-table-design\" alt=\"Êï∞ÊçÆÂ∫ìËÆæËÆ°\"></p>\n<p><img src=\"https://img.mrsingsing.com/authentication-rbac-feature-module\" alt=\"ÂäüËÉΩÊ®°Âùó\"></p>\n<h2 id=\"ÂâçÁ´ØÊùÉÈôêÊéßÂà∂ÊÄùË∑Ø\"><a href=\"#ÂâçÁ´ØÊùÉÈôêÊéßÂà∂ÊÄùË∑Ø\" class=\"headerlink\" title=\"ÂâçÁ´ØÊùÉÈôêÊéßÂà∂ÊÄùË∑Ø\"></a>ÂâçÁ´ØÊùÉÈôêÊéßÂà∂ÊÄùË∑Ø</h2><p>ÂâçÁ´ØÊùÉÈôê‰ªéÊú¨Ë¥®‰∏äÊù•ËØ¥Âç≥Ê†πÊçÆÊùÉÈôêË°®ÂØπËßÜÂõæÂ±ÇÁöÑÂ±ïÁ§∫‰ª•ÂèäÂØπËØ∑Ê±ÇÊé•Âè£ÁöÑËÆøÈóÆËøõË°åÈôêÂà∂„ÄÇ</p>\n<p>‰∏ãÈù¢Êàë‰ª¨Ë∞àË∞àÂâçÁ´ØÁïåÈù¢ÂØπ‰∫éÊùÉÈôêÊéßÂà∂ÁöÑÁ≤íÂ∫¶Â§ßÂ∞èÔºå‰ª•‰º†ÁªüÁöÑÂêéÂè∞Á≥ªÁªü‰∏∫‰æãÔºåÊúâ‰ª•È°µÈù¢‰∏∫Áª¥Â∫¶‰Ωú‰∏∫ÊùÉÈôêÊéßÂà∂Á≤íÂ∫¶ÁöÑÔºåÊã•ÊúâÊùÉÈôêÁöÑ‰∫∫ÂëòÊñπÂèØËÆøÈóÆÂØπÂ∫îÁöÑÈ°µÈù¢ÔºõÊúâ‰ª•Êìç‰Ωú‰Ωú‰∏∫ÊùÉÈôêÊéßÂà∂ÁöÑÔºåÂØπÂ∫îÁöÑÂâçÁ´ØÁïåÈù¢‰∏≠ÁöÑÈ°µÈù¢ÂÖÉÁ¥†ÈúÄË¶ÅÈöêËóèÊàñÊèêÁ§∫Ôºõ‰πüÂ≠òÂú®Áî®Êà∑ÈÄöËøáÊµèËßàÂô®ÁöÑÂºÄÂèëËÄÖÂ∑•ÂÖ∑‰øÆÊîπ DOM ÂÖÉÁ¥†‰ª•ÁªïËøáÊùÉÈôêÁõ¥Êé•Êìç‰ΩúÁöÑÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÂØπÊé•Âè£ËØ∑Ê±ÇÂÅöÊã¶Êà™„ÄÇ</p>\n<ul>\n<li>È°µÈù¢ÊùÉÈôêÔºàËèúÂçïÊùÉÈôêÔºâÔºöËøõÂÖ•È°µÈù¢ÁöÑÊùÉÈôê</li>\n<li>Êìç‰ΩúÊùÉÈôêÔºöÂ¢ûÂà†ÊîπÊü•ÁöÑÊùÉÈôê</li>\n<li>Êï∞ÊçÆÊùÉÈôêÔºöÂèëÈÄÅÊé•Âè£Âà∞ÊúçÂä°Á´ØÁöÑÊùÉÈôê</li>\n</ul>\n<p><img src=\"https://img.mrsingsing.com/authentication-rbac-management-system\" alt=\"Ant Design Pro\"></p>\n<p>Âú®‰º†ÁªüÁöÑÂêéÂè∞Á≥ªÁªü‰∏≠‰ºöÂú®ÁôªÂΩïËØ∑Ê±Ç‰∏≠ÔºåÂæóÂà∞Áî®Êà∑ÊâÄÊã•ÊúâÁöÑÊùÉÈôêÊï∞ÊçÆÔºåËøôÈÉ®ÂàÜÊòØÈúÄË¶ÅÂêéÁ´ØÁöÑÊäÄÊúØÊîØÊåÅÁöÑ„ÄÇÂâçÁ´ØÊ†πÊçÆÊùÉÈôêÊï∞ÊçÆÂ±ïÁ§∫ÂØπÂ∫îÁöÑËèúÂçïÔºåÁÇπÂáªËèúÂçïÔºåÊâçËÉΩÊü•ÁúãÁõ∏ÂÖ≥ÁöÑÁïåÈù¢„ÄÇ</p>\n<p>ÁïåÈù¢ÁöÑÊéßÂà∂ÔºöÂ¶ÇÊûúÁî®Êà∑Ê≤°ÊúâÁôªÂΩïÔºåÊâãÂä®Âú®Âú∞ÂùÄÊ†è‰∏äË∑≥ËΩ¨Âà∞ÁÆ°ÁêÜÁïåÈù¢Âú∞ÂùÄÔºåÂàôÈúÄË¶ÅË∑≥ËΩ¨Âà∞ÁôªÂΩïÁïåÈù¢„ÄÇÂ¶ÇÊûúÁî®Êà∑Â∑≤ÁªèÁôªÂΩïÔºå‰ΩÜÊòØÊâãÂä®ËæìÂÖ•ÈùûÊùÉÈôêËåÉÂõ¥ÂÜÖÁöÑÁïåÈù¢Âú∞ÂùÄÔºåÂàôÈúÄË¶ÅÈáçÂÆöÂêëÂà∞È¢ÑËÆæÁöÑ 404 ÁïåÈù¢„ÄÇ</p>\n<p>Â¶ÇÊûúÁî®Êà∑ÈÄöËøáÈùûÂ∏∏ËßÑÊìç‰ΩúÔºåÊØîÂ¶ÇÈÄöËøáÊµèËßàÂô®Â∞ÜÊüê‰∫õÁ¶ÅÁî®ÊåâÈíÆÂèòÊàêÂêØÁî®Áä∂ÊÄÅÔºåÊ≠§Êó∂ÂèëÈÄÅÁöÑËØ∑Ê±ÇÔºå‰πüÂ∫îËØ•Ë¢´ÂâçÁ´ØÊã¶Êà™„ÄÇ</p>\n<p>Âú® React ‰∏≠ÔºåÂèØ‰ª•ÈÄöËøáÊääÊùÉÈôêÊï∞ÊçÆÂú®Ê†πËäÇÁÇπÈÄöËøá Context API Âêë‰∏ã‰º†ÈÄíÔºåÈÄöËøáÈ´òÈò∂ÁªÑ‰ª∂ÂØπÊùÉÈôêÊéßÂà∂ÁöÑËèúÂçï„ÄÅÂÖÉÁ¥†ËøõË°åÂ§ñÂ±ÇÂåÖË£πÔºåÂÖ∂Ê¨°ÂØπ‰∫éÊï∞ÊçÆËØ∑Ê±ÇÊã¶Êà™ÂèØ‰ª•Âú®ÂèëÈÄÅ HTTP ËØ∑Ê±ÇÂâçÂÅöÊ†°È™å„ÄÇ</p>\n<p>ÂèØ‰ª•ÂèÇËÄÉ <a href=\"https://pro.ant.design/docs/authority-management-cn\" target=\"_blank\" rel=\"noopener\">Ant Design Pro</a> ÁöÑÊùÉÈôêËÆæËÆ°„ÄÇ</p>\n<hr>\n<p><strong>ÂèÇËÄÉËµÑÊñôÔºö</strong></p>\n<ul>\n<li><a href=\"http://www.woshipm.com/pd/1150093.html\" target=\"_blank\" rel=\"noopener\">RBAC Ê®°ÂûãÔºöÂü∫‰∫éÁî®Êà∑-ËßíËâ≤-ÊùÉÈôêÊéßÂà∂ÁöÑ‰∏Ä‰∫õÊÄùËÄÉ</a></li>\n<li><a href=\"https://juejin.im/post/5e048326f265da33f8653c27\" target=\"_blank\" rel=\"noopener\">Âü∫‰∫é RBAC ÁöÑÂâçÁ´ØÊùÉÈôêÊéßÂà∂</a></li>\n<li><a href=\"https://www.uisdc.com/100-solutions-for-character-permission-design\" target=\"_blank\" rel=\"noopener\">ÁΩëÊòìÈ´òÊâãÔºöËßíËâ≤ÊùÉÈôêËÆæËÆ°ÁöÑ 100 ÁßçËß£Ê≥ï</a></li>\n<li><a href=\"http://www.woshipm.com/pd/3745592.html\" target=\"_blank\" rel=\"noopener\">ËßíËâ≤ÊùÉÈôêËÆæËÆ°Ôºö‰ª•ÈòøÈáå‰∫ßÂìÅ‰∏∫‰æãÔºåÂ±ïÂºÄ‰ΩìÈ™åÂàÜÊûê</a></li>\n<li><a href=\"http://www.woshipm.com/pd/440765.html\" target=\"_blank\" rel=\"noopener\">RBAC ÊùÉÈôêÁÆ°ÁêÜÊ®°ÂûãÔºöÂü∫Êú¨Ê®°ÂûãÂèäËßíËâ≤Ê®°ÂûãËß£ÊûêÂèä‰∏æ‰æã</a></li>\n<li><a href=\"https://www.zhihu.com/question/20313385\" target=\"_blank\" rel=\"noopener\">Â¶Ç‰ΩïËÆæËÆ°ÁΩëÁ´ôÊùÉÈôêÁ≥ªÁªüÔºü</a></li>\n<li><a href=\"https://www.cnblogs.com/zwq194/archive/2011/03/07/1974821.html\" target=\"_blank\" rel=\"noopener\">Êâ©Â±ï RBAC Áî®Êà∑ËßíËâ≤ÊùÉÈôêËÆæËÆ°ÊñπÊ°à</a></li>\n<li><a href=\"https://juejin.im/post/5e72cfa16fb9a07cc01a4262\" target=\"_blank\" rel=\"noopener\">RBAC ÊùÉÈôêÁÆ°ÁêÜÁ≥ªÁªüËÆæËÆ°ÊÄùË∑Ø</a></li>\n</ul>"},{"title":"Âü∫‰∫é roadhog^2.x ÁöÑÂêéÂè∞È°πÁõÆÊûÑÂª∫ÊÄßËÉΩ‰ºòÂåñ","date":"2019-01-20T00:00:00.000Z","_content":"\n## ÊäÄÊúØÈÄâÂûã\n\nÁõÆÂâçÊàëÂè∏ÂêéÂè∞Á≥ªÁªüÈááÁî®Âü∫‰∫é [Webpack](https://github.com/webpack/webpack) ‰∏∫Â∫ïÂ±ÇÂ∞ÅË£ÖÁöÑÊâìÂåÖÂ∑•ÂÖ∑ [roadhog](https://github.com/sorrycc/roadhog)„ÄÇÂºÄÂèëËÄÖÈÄöËøáÂ∑•ÂÖ∑Êö¥Èú≤ÁöÑÊúâÈôêÁöÑÂèØÈÖçÁΩÆÂèÇÊï∞ÔºåÂèØ‰ª•ÁÆÄÂçïÊòé‰∫ÜÂú∞ÈíàÂØπÈ°πÁõÆÈúÄË¶ÅËøõË°åËá™ÂÆö‰πâÈÖçÁΩÆ„ÄÇËØ•Ê¨æÂ∑•ÂÖ∑ÁöÑÁõÆÁöÑÂæàÊòéÁ°ÆÔºåÂ∞±ÊòØ‰∏∫‰∫ÜÁÆÄÂåñ webpack ÁöÑÈÖçÁΩÆ„ÄÇËøôÂØπ‰∫éÂÖ•Èó®Á∫ßÂà´ÁöÑÂ∑•Á®ãÂ∏àÊòØÈùûÂ∏∏ÂèãÂ•ΩÁöÑÔºåÂõ†‰∏∫Èôç‰Ωé‰∫ÜÂ≠¶‰π† webpack ÁöÑÊàêÊú¨ÔºåÂÖçÂéªÊç£Èºì webpack Â§çÊùÇÁöÑÈÖçÁΩÆÔºåÊñπ‰æøÂºÄÂèëËÄÖÂø´ÈÄüËøõÂÖ•ÂºÄÂèëÊµÅÁ®ã„ÄÇ\n\n‰ªéÁõÆÂâçÈ°πÁõÆÁâàÊú¨ÁöÑ `package.json` Âêë‰∏äÂ±Ç‰æùËµñÊ∫ØÊ∫êÂèØ‰ª•ÂæóÂá∫ËøôÊ†∑ÁöÑ‰æùËµñÂÖ≥Á≥ªÔºö\n\n> roadhog^2.4.2 => af-webpack^0.23.0-beta.1 => webpack^3.56\n\nroadhog Âü∫‰∫é [`umi/af-webpack`](https://github.com/umijs/umi/tree/master/packages/af-webpack) ‰Ωú‰∏∫Â∫ïÂ±Ç„ÄÇ‰ªéÁ§æÂå∫ÂèçÈ¶àÁöÑ‰ø°ÊÅØÂæóÁü•ÔºåÁé∞Êó∂Ôºà2019.1Ôºâ‰ΩúËÄÖÁöÑÂ∑•‰ΩúÈáçÁÇπÈÉΩÂú® [umi](https://github.com/umijs/umi)ÔºåËÄå roadhog Êó†ÊâìÁÆóËø≠‰ª£ÂçáÁ∫ßÁöÑÊâìÁÆó„ÄÇÂç≥‰æøÂ∞Ü roadhog ÂçáÁ∫ßËá≥ÊúÄÊñ∞ÁâàÊú¨ÔºåÊâÄ‰æùËµñÁöÑÂ∫ïÂ±Ç webpack ÁöÑÁâàÊú¨‰πüÂè™ÊòØ 3.5.6Ôºåwebpack4+ ÁöÑ‰ºòÂåñÈÖçÁΩÆÂùáÊó†Ê≥ï‰ΩøÁî®„ÄÇÁî±‰∫éÂ∑•ÂÖ∑ÊñáÊ°£Êèê‰æõ‰ø°ÊÅØÊúâÈôêÔºåÂõ†Ê≠§Ë¶ÅÂ∞Ü‰ºòÂåñËøõË°åÂà∞ÊûÅËá¥‰ªéÊ∫êÁ†Å‰æùËµñÁùÄÊâãÊé®Âä®È°πÁõÆÊûÑÂª∫‰ºòÂåñÊòØÂÖç‰∏ç‰∫ÜÁöÑÂ∑•‰Ωú„ÄÇ\n\n## ÊûÑÂª∫Áé∞ÂÜµÂàÜÊûê\n\n> ÁâàÊú¨ release/2.29.0\n\n**ÂàÜÊûêÊùêÊñô**\n\n- ÈÄöËøá [webpack-bundle-analyzer](https://github.com/webpack-contrib/webpack-bundle-analyzer) ÂØπÊâìÂåÖÊ®°ÂùóËøõË°åÂèØËßÜÂåñÂàÜÊûê\n- ÂØπÊâìÂåÖÂá∫Êù•ÂêéÁöÑËµÑÊ∫êÊñá‰ª∂ËøõË°åÂàÜÊûê\n- È°πÁõÆÁªÑÁªáÁªìÊûÑÂàÜÊûê\n\n**ÊûÑÂª∫ÊÉÖÂÜµÂàÜÊûê**\n\n- ÊûÑÂª∫ÂÜÖÂ≠òÂç†Áî®ËøáÈ´òÔºö130% ÈúÄË¶ÅÁªô node ÈÖçÁΩÆÊõ¥Â§öÂÜÖÂ≠òÈò≤Ê≠¢ÂÜÖÂ≠òÊ∫¢Âá∫ÂØºËá¥Â§±Ë¥•\n- ÊûÑÂª∫ËøõÂ∫¶ËßÇÂØüÔºöÂç°Âú® 10%„ÄÅ86%„ÄÅ**91%**\n- ÊûÑÂª∫‰ΩøÁî®Êó∂Èó¥Ôºö407s 366s 386s 380s 372s => Âπ≥Âùá 382s\n- ÈùôÊÄÅËµÑÊ∫êÊï∞ÈáèÔºöÂàÜÂâ≤ÊàêÂÖ± 92 ‰∏™ËµÑÊ∫êÊñá‰ª∂ÔºàÂåÖÊã¨ÂÖ•Âè£Êñá‰ª∂Ôºå‰ΩÜÈô§ÂéªÈªòËÆ§Êã∑Ë¥ùËæìÂá∫ÁöÑÊñá‰ª∂Ôºâ\n- ÈùôÊÄÅËµÑÊ∫êÂ§ßÂ∞è\n  - StartÔºöÊÄª 150MBÔºåÂπ≥ÂùáÔºåÊúÄÂ§ß 5.05MB\n  - ParsedÔºöÊÄª 88MBÔºåÂπ≥ÂùáÔºåÊúÄÂ§ß 2.48MB\n  - GzippedÔºöÊÄª 25MBÔºåÂπ≥ÂùáÔºåÊúÄÂ§ß 686.48KB\n\n| ÈùôÊÄÅËµÑÊ∫êÂ§ßÂ∞è | Êï∞Èáè |\n| ------------ | ---- |\n| >2MB         | 5    |\n| >1MB         | 24   |\n| >500KB       | 60   |\n\n<!-- more -->\n\n## È°πÁõÆÊûÑÂª∫‰ºòÂåñÊñπÊ°à\n\nÊåâÁÖß [Webpack ÊûÑÂª∫ÊÄßËÉΩ‰ºòÂåñÊé¢Á¥¢](https://github.com/pigcan/blog/issues/1) Êèê‰æõÁöÑÊÄùË∑ØÔºåÂèØ‰ª•‰ªéÂõõ‰∏™Áª¥Â∫¶ÁùÄÊâãÈ°πÁõÆÊûÑÂª∫ÁöÑ‰ºòÂåñÔºö\n\n- ‰ªéÁéØÂ¢ÉÁùÄÊâãÔºåÊèêÂçá‰∏ãËΩΩ‰æùËµñÈÄüÂ∫¶\n- ‰ªéÈ°πÁõÆËá™Ë∫´ÁùÄÊâãÔºå‰ª£Á†ÅÁªÑÁªáÊòØÂê¶ÂêàÁêÜÔºå‰æùËµñ‰ΩøÁî®ÊòØÂê¶ÂêàÁêÜÔºåÂèçÈù¢ÊèêÂçáÊïàÁéá\n- ‰ªé Webpack Ëá™Ë∫´‰ºòÂåñÊâãÊÆµÁùÄÊâãÔºå‰ºòÂåñÈÖçÁΩÆÔºåÊèêÂçá Webpack ÊïàÁéá\n- ‰ªé Webpack ÂèØËÉΩÂ≠òÂú®ÁöÑ‰∏çË∂≥ÁùÄÊâãÔºå‰ºòÂåñ‰∏çË∂≥ÔºåËøõ‰∏ÄÊ≠•ÊèêÂçáÊïàÁéá\n\n### ÂéªÈô§Â∫üÂºÉ‰æùËµñ\n\nËßÇÂØü `package.json`ÔºåÂèëÁé∞‰∏Ä‰∫õÈ°πÁõÆ‰∏≠Â∫üÂºÉÁöÑ‰æùËµñÂπ∂Ê≤°ÊúâÂèäÊó∂Â§ÑÁêÜÔºåÂõ†Ê≠§ÊääÊó†Áî®ÁöÑÂíåÈáçÂ§çÂÆâË£ÖÁöÑ‰æùËµñÂéªÈô§„ÄÇ\n\n### ÊèêÂèñÁ¨¨‰∏âÊñπÂÖ¨ÂÖ±Ê®°Âùó\n\nÊ≠§ÂâçÈ°πÁõÆ‰∏≠È°µÈù¢‰ª£Á†ÅÊ†πÊçÆË∑ØÁî±ÊåâÈúÄÂä†ËΩΩÔºåÊØè‰∏™È°µÈù¢ route Âíå model ÂºïÁî®ÁöÑÁ¨¨‰∏âÊñπÊ®°ÂùóÔºå‰æãÂ¶Ç `react`„ÄÅ`dva`„ÄÅ`query-string`„ÄÅ`antd`„ÄÅ`moment` Á≠âÔºåÈÉΩ‰ºöÂú®ÂêÑËá™ÁöÑÈ°µÈù¢‰∏≠ÈáçÂ§çÊâìÂåÖ‰∏Ä‰ªΩÔºåËøôÂ∞±ÂØºËá¥Ê†πÊçÆÈ°µÈù¢ÂàÜÂâ≤ÁöÑËµÑÊ∫êÊñá‰ª∂Â∞∫ÂØ∏ËæÉÂ§ßÔºåÂÜó‰Ωô‰ª£Á†ÅËæÉÂ§ö„ÄÇ\n\nÈô§Ê≠§‰πãÂ§ñÔºåÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÈ°πÁõÆ‰∏≠‰ΩøÁî®ÁöÑ [AntDesign](https://github.com/ant-design/ant-design) ÁªÑ‰ª∂ÔºåÂ∞ΩÁÆ°ÈÄöËøá [babel-plugin-import](https://github.com/ant-design/babel-plugin-import) ÂÆûÁé∞‰∫ÜÁªÑ‰ª∂Ê®°ÂùóÁöÑÊåâÈúÄÂä†ËΩΩÔºåÈ°µÈù¢ÂºïÁî®Âπ∂‰∏ç‰ºöÂ∞ÜÂÆåÊï¥ÁöÑ AntDesign ÂºïÂÖ•„ÄÇ‰ΩÜÊòØÁî±‰∫éÂºÄÂßãÊó∂ÂÄôÂ§ßÈÉ®ÂàÜÈ°µÈù¢ÈÉΩ‰∏ç‰ºö‰ªéÈõ∂ÂºÄÂßãÂÜôÔºåËÄåÊòØ‰ºöÈÄâÊã©ÁßªÊ§çÁõ∏‰ººÈ°µÈù¢ÁöÑÈÄªËæëÂÜçÂä†‰ª•‰øÆÊîπÔºåÂõ†Ê≠§‰ºöÂØºËá¥Áõ∏ÂΩì‰∏ÄÈÉ®ÂàÜÈ°µÈù¢‰ºöÂ∞ÜÊ≤°Êúâ‰ΩøÁî®Âà∞ÁöÑÁªÑ‰ª∂ËøõË°åÊâìÂåÖÔºåÂêåÊ†∑‰ºöÈÄ†ÊàêÂÜó‰Ωô„ÄÇ\n\nÂõ†Ê≠§ÔºåÊï¥‰∏™È°πÁõÆÁöÑÊÄßËÉΩ‰ºòÂåñÂøÖÁÑ∂‰ªéËµÑÊ∫ê‰æùËµñÁöÑÁ¨¨‰∏âÊñπÂ∫ìÁùÄÊâãÔºåÊèêÂâçÁºñËØëÊèêÂèñ„ÄÇ\n\nÂàÜÊûê `package.json` ÂèØ‰ª•ÂæóÁü•Êï¥‰∏™È°πÁõÆ‰æùËµñ‰∏ªË¶ÅÊúâÂá†‰∏™ÈÉ®ÂàÜÔºö\n\n- [antd](https://github.com/ant-design/ant-design) Âü∫Á°Ä UI ÁªÑ‰ª∂Â∫ì üìå\n- [dva](https://github.com/dvajs/dva) Êï∞ÊçÆÁÆ°ÁêÜÊ°ÜÊû∂\n- [moment](https://github.com/moment/moment) Êó∂Èó¥Êìç‰ΩúÂ∑•ÂÖ∑Â∫ì üìå\n- [ali-oss](https://github.com/ali-sdk/ali-oss) ÈòøÈáå‰∫ë OSS Êèí‰ª∂\n- [react](https://github.com/facebook/react) ÁïåÈù¢Ê°ÜÊû∂\n- react-dom\n- react-router-dom\n- universal-cookie\n- ...Á≠âÁ≠â\n\nroadhog Êö¥Èú≤‰∫Ü commons ÂèÇÊï∞ÂØπÂ∫î Webpack ‰∏≠ plugins ÁöÑÂ§ö‰∏™ `webpack.CommonsChunkPlugin` ÂÆû‰æã„ÄÇ‰∏ãÈù¢Êúâ‰∏§ÁßçÂèØÈÄâÊã©ÁöÑÊñπÊ°à‰æõÂÆûÁé∞Ôºö\n\n- Ë¢´Ëá≥Â∞ëÂõ∫ÂÆö‰∏™Êï∞ÔºàÈªòËÆ§‰∏§‰∏™Ôºâ entry/page ‰æùËµñÂç≥ÊèêÂèñÂÖ¨ÂÖ±ÔºåËøôÊ†∑ common ÂÖ¨ÂÖ±Ê®°Âùó‰ºöÊØîËæÉÂ§ßÔºåÈ°πÁõÆÊï¥‰ΩìÂ∞∫ÂØ∏ÊúÄÂ∞èÔºå‰ΩÜÈ°µÈù¢È¶ñÂ±èÊ∏≤ÊüìÈúÄË¶ÅÂä†ËΩΩÁöÑËµÑÊ∫êÂ∞∫ÂØ∏‰ºöÊØîËæÉÂ§ß\n- Ë¢´ÊâÄÊúâ entry/page ‰æùËµñÊâçÊèêÂèñ‰∏∫ÂÖ¨ÂÖ±ÔºåËøôÊ†∑ common ÂÖ¨ÂÖ±Ê®°ÂùóÊØîËæÉÂ∞èÔºåÈ°πÁõÆÊï¥‰ΩìÂ∞∫ÂØ∏ËæÉÂ§ß\n\nÊúÄÁªàÂÜ≥ÂÆöÂ∞ÜÊâÄÊúâ‰æùËµñÁöÑÁ¨¨‰∏âÊñπÊ®°ÂùóÊèêÂâçÊâìÂåÖÔºåÂú®Áî®Êà∑ËÆøÈóÆÈ°µÈù¢Êó∂ÈúÄË¶ÅÂ∞ÜÂü∫Á°ÄÂ∑•ÂÖ∑ÂíåÂü∫Á°ÄÁªÑ‰ª∂ÁöÑÊâìÂåÖÊñá‰ª∂ÂÖàÂä†ËΩΩÔºåÂêéÁª≠Áî®Êà∑ÁïåÈù¢ËµÑÊ∫êÊñá‰ª∂Âä†ËΩΩÂ∞±‰ºöÁõ∏ÂØπÂè¶‰∏ÄÁßçÊñπÊ°à‰ºöÊõ¥Âä†Âø´ÈÄü„ÄÇ\n\nÁõ∏ÂÖ≥Êâ©Â±ïÔºö\n\n- [ËØ¶Ëß£ CommonsChunkPlugin ÁöÑÈÖçÁΩÆÂíåÁî®Ê≥ï](https://segmentfault.com/a/1190000012828879)\n\n- [webpack.optimize.CommonsChunkPlugin ËØ¶Ëß£](https://juejin.im/post/5c2205e15188257507558c5a)\n\n- [webpack„ÄÅmanifest„ÄÅruntime„ÄÅÁºìÂ≠ò‰∏é CommonsChunkPlugin](https://www.jianshu.com/p/95752b101582)\n\n### Á¨¨‰∏âÊñπÊ®°Âùó‰∏çÂêåÂÖºÂÆπÂ∫ìÈáçÂ§çÊâìÂåÖ\n\n![‰ºòÂåñÂâçÊâìÂåÖÁªìÊûú](https://img.mrsingsing.com/roadhog-performance-build-analyze.jpg)\n\nvendor ÊèêÂèñÁ¨¨‰∏âÊñπÊ®°ÂùóÂêéÔºåÂèëÁé∞Âá†‰∏™ÊØîËæÉÂ§ßÁöÑÈ°µÈù¢ËµÑÊ∫êÊñá‰ª∂Èáå‰ªçÁÑ∂Â≠òÂú® antd.lib ÁªÑ‰ª∂Â∫ìÁöÑ‰ª£Á†ÅÔºåËÄå‰∏îËøô‰∫õ `ant.lib` ÈÉΩÊòØÂÆåÊï¥‰∏Ä‰∏™Ê®°ÂùóË¢´ÊâìÂåÖËøõ‰∫ÜËøô‰∫õÈ°µÈù¢ÂΩì‰∏≠Ôºå‰ΩÜÂÖ∂ÂÆû AntDesign Â∑≤ÁªèË¢´ÊàëÂÆåÊï¥ÂçïÁã¨Âú∞ÊâìÂåÖÊàêÂè¶Â§ñ‰∏Ä‰∏™Êñá‰ª∂‰∫ÜÔºåËøô‰∏™ÊâìÂåÖÁöÑÊñá‰ª∂ÊòØÁî± `ant.es` ÊâìÂåÖÂá∫Êù•ÁöÑ„ÄÇ\n\n- antd.es\n- antd.lib\n\nÈÄöËøáÂØπÊâìÂåÖÂêéÁöÑÊñá‰ª∂‰ª•Âèä‰∏öÂä°‰ª£Á†ÅÁöÑÊ£ÄÊü•ÔºåÂèëÁé∞ÊòØÂºïÁî® Antd ÁªÑ‰ª∂Â∫ìÂèëÁîü‰∫ÜÈóÆÈ¢òÔºåÁî±‰∫é‰ΩøÁî®‰∫Ü webpack-plugin-import Êèí‰ª∂ÔºåÂ∞Ü Antd ‰∏≠Âêç‰∏∫ es ÁöÑÁªÑ‰ª∂Â∫ìÊåâÈúÄÂä†ËΩΩÂπ∂ÈÄöËøá babel ËΩ¨ÂåñÁã¨Á´ãÊâìÂåÖÊàê vendorÔºåÂõ†Ê≠§ÂΩì‰ΩøÁî® `import {message} from \"antd/lib/index\"` ËøôÁßçÂÜôÊ≥ïÁöÑÊó∂ÂÄôÔºåÂΩìÂâçÈ°µÈù¢‰ºöÂ∞Ü Antd lib ÁõÆÂΩï‰∏ãÁöÑÁªÑ‰ª∂ÂÖ®ÈÉ®ÊâìÂåÖÔºåÈÄ†ÊàêÈ°µÈù¢ÊâìÂåÖÊñá‰ª∂ËáÉËÇø„ÄÇ\n\n‰π¶ÂÜôËßÑËåÉ\n‰ΩøÁî®‰∫Ü extraBabelPlugins Â∞±‰ºöÊåâÈúÄÂä†ËΩΩ\n\n```js\n// wrong\nimport { message } from 'antd/lib/index';\n\n// good\nimport { message } from 'antd';\n```\n\n### ÂøΩÁï• moment ËØ≠Ë®ÄÂåÖÁöÑÊâìÂåÖ\n\n![ÂøΩÁï• moment ËØ≠Ë®ÄÂåÖ](https://img.mrsingsing.com/roadhog-performance-moment-locale.jpg)\n\nÊâìÂåÖÂêé moment ÂåÖÁöÑ‰ΩìÁßØÊØîËæÉÂ§ßÔºåÂÖ∂‰∏≠ locale ËØ≠Ë®ÄÂåÖÈÉ®ÂàÜÂç†ÊçÆ‰∫ÜÊØîËæÉÂ§ßÁöÑ‰ΩìÁßØÔºåÁî±‰∫éÊàë‰ª¨ÁöÑÈ°πÁõÆÊ≤°ÊúâÂõΩÈôÖÂåñÈúÄÊ±ÇÔºåÂõ†Ê≠§ÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆ roadhog Êèê‰æõÁöÑ `ignoreMomentLocale: true` ÂáèÂ∞ëÊâìÂåÖÂá∫Êù•ÁöÑ vendor Â∞∫ÂØ∏„ÄÇ\n\n‰ΩÜÊòØÔºåÂ¶ÇÊûúÈ°πÁõÆ‰∏≠‰ΩøÁî®Âà∞ AntDesign ÁªÑ‰ª∂ÔºåÂπ∂‰∏î‰ΩøÁî®Âà∞Êó∂Èó¥ÈÄâÊã©ÁªÑ‰ª∂ `date-picker`ÔºàÈªòËÆ§ÊòØËã±ÊñáÊñáÊ°àÔºâÔºåÈÇ£‰πàËøôÈáåÈúÄË¶ÅÂÅö‰∏Ä‰∫õÂ§ÑÁêÜ‰ª•‰ΩøÈ°πÁõÆ‰∏≠ÁªÑ‰ª∂ËÉΩÂ§üÊòæÁ§∫‰∏≠Êñá„ÄÇ\n\nÊàëÊòØÂú®È°πÁõÆÊúÄ‰∏äÂ±ÇÔºåÂçïÁã¨ÂºïÂÖ• moment ÁöÑ‰∏≠ÊñáËØ≠Ë®ÄÂåÖ„ÄÇ\n\n```js\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\n\nmoment.locale('zh-cn');\n```\n\nËøôÊ†∑È°πÁõÆ‰∏≠‰ΩøÁî®Âà∞ moment Â∑•ÂÖ∑Â∫ìÁöÑ `date-picker` ÈÉΩ‰ºöÊòæÁ§∫‰∏≠ÊñáÊñáÊ°à„ÄÇ\n\n### ÂéãÁº©ËÄóÊó∂\n\nÈ°πÁõÆÊûÑÂª∫ËøáÁ®ã‰ºöÂç°Âú® 91%ÔºåÈÄöËøáÊü•ÈòÖÁõ∏ÂÖ≥ËµÑÊñôÂíå‰∫ÜËß£Á§æÂå∫ÂèçÈ¶àÂêéÔºåÊòéÁ°ÆÂéüÂõ†‰∏∫ËØ•Èò∂ÊÆµ Webpack Ê≠£Âú®ÂØπ‰ª£Á†ÅËøõË°åÊ∑∑Ê∑ÜÂéãÁº©Êìç‰ΩúÔºå‰ΩÜÂêåÊó∂Áî±‰∫é Webpack ÁöÑÂéãÁº©Êèí‰ª∂ UglifyJS Êó†Ê≥ïÂØπ ES6+ ÁöÑ‰ª£Á†ÅËøõË°åÂéãÁº©ÔºåÈúÄË¶Å‰ΩøÁî® [babel-minify](https://github.com/babel/minify) Ëé∑ÂèñÊõ¥Â•ΩÁöÑ treeshaking ÊïàÊûúÔºàËôΩÁÑ∂ Webpack4 Â∑≤ÁªèÊîØÊåÅ ES6+ ‰ª£Á†ÅÂéãÁº©Ôºå‰ΩÜÊòØÁõÆÂâç Roadhog ÈááÁî®ÁöÑÊòØ Webpack3+Ôºâ„ÄÇ\n\n[ÊûÑÂª∫ÈÄüÂ∫¶ÊÖ¢ÁöÑËß£ÂÜ≥ÊñπÊ≥ï@sorrycc](https://hackmd.io/YHK_yuRtT0ePPVLY0_kUzw)\n\n‰ΩìÁé∞ÁâπÂæÅÔºö\n\n- ÊûÑÂª∫ÈÄüÂ∫¶ÊÖ¢\n- ÂÜÖÂ≠òÊ∂àËÄóÈ´ò\n\nËß£ÂÜ≥ÊñπÊ≥ïÔºö\n\n- ÂáèÂ∞ë‰æùËµñÊñá‰ª∂\n  - ‰ºòÂåñ common ÊèêÂèñÁ≠ñÁï•ÔºåËÆ©Êï¥‰ΩìÂ∞∫ÂØ∏Â∞ΩÂèØËÉΩÂ∞ë\n  - externals Êéâ‰∏Ä‰∫õÂ§ßÁöÑÂ∫ìÔºåÈôç‰ΩéÊï¥‰ΩìÂ∞∫ÂØ∏\n  - Âà©Áî® webpack ÁöÑ TreeShaking + es moduleÔºåÊéíÈô§Êéâ‰∏Ä‰∫õÊ≤°ÊúâÁî®Âà∞ÁöÑÊ®°Âùó\n- ÂáèÂ∞ëÈúÄË¶ÅÂéãÁº©ÁöÑÊñá‰ª∂\n\n### Â§ñÈÉ®Êâ©Â±ï\n\nexternals ÊòØÈùûÂ∏∏ÊúâÊïàÁöÑ‰∏Ä‰∏™ÊñπÊ°àÔºåÂèØ‰ª•‰∏Ä‰∏ãÂ≠êÂáèÂ∞ëÂ§ßÈáèÈúÄË¶ÅÁºñËØë„ÄÅÂéãÁº©ÁöÑÊ®°Âùó„ÄÇÂ∞Ü‰∏Ä‰∫õ‰∏çÂ∏∏Êõ¥Êñ∞ÁâàÊú¨ÊØîËæÉÁ®≥ÂÆöÁöÑÊ®°ÂùóÊñá‰ª∂Áõ¥Êé•Ê≥®ÂÖ• HMTL Êñá‰ª∂ÔºåÂΩìËØªÂèñÂà∞ËØ•ËÑöÊú¨Êó∂Â∞ÜËá™Âä®Âä†ËΩΩÔºåËøô‰∏ç‰ªÖËÉΩÂä†Âø´ÊûÑÂª∫ÈÄüÂ∫¶ÔºåËÄå‰∏îËÉΩÂ§üÂà©Áî® CDN ËøõË°åËµÑÊ∫êÁºìÂ≠ò„ÄÇ\n\n‰ΩÜÊòØ‰ºöÂ∏¶Êù•ÁöÑÈóÆÈ¢òÊòØÔºö\n\n- Êó†Ê≥ïÂà©Áî® Webpack ÁöÑ Tree-Shaking\n- Â§ö‰∏™Â∫ì‰πãÈó¥Â¶ÇÊûúÂ≠òÂú®ÂÖ¨ÂÖ±Ê®°ÂùóÔºàÊØîÂ¶Ç lodashÔºâÔºåÂ∞±Êó†Ê≥ïÂ§çÁî®\n\n‰ΩøÁî® externals ÈúÄË¶ÅÂú® HTML ÈáåÂºïÁî®È¢ùÂ§ñÁöÑ JS Êñá‰ª∂ÔºåËøôÈáå‰πüÊúâÂá†‰∏™ÊΩúÂú®ÁöÑÈóÆÈ¢òÔºö\n\n- Â¶ÇÊûú‰Ω†ÁöÑ CDN ‰∏çÊîØÊåÅ ComboÔºåÂπ∂‰∏î‰∏çÊòØ http/2ÔºåÈÇ£‰πàÈÄüÂ∫¶‰ºöÂæàÊÖ¢\n- ‰Ω†ÈúÄË¶ÅÊâãÂä®Áª¥Êä§‰∏Ä‰ªΩ CDN Êñá‰ª∂ÂàóË°®ÔºåÂπ∂‰∏îË∑üËøõ‰ªñ‰ª¨ÁöÑÊõ¥Êñ∞Ôºå‰πüÊòØ‰ª∂È∫ªÁÉ¶ÁöÑ‰∫ãÊÉÖ\n\nËøôÈáå‰∏ªË¶ÅÂ∞Ü‰∏â‰∏™Â∞∫ÂØ∏ËæÉÂ§ß‰∏îÊØîËæÉÂ∞ëÈ°πÁõÆÈ°µÈù¢ÂºïÁî®ÁöÑÊ®°Âùó externals Êéâ„ÄÇ\n\n```js\nexternals: {\n    'ali-oss': 'window.OSS',\n    'react': 'window.react',\n    'react-dom': 'window.ReactDOM'\n}\n```\n\n### È°πÁõÆÊ†∑ÂºèÊñá‰ª∂ÂáèÂ∞ë\n\nExtractTextPlugin ÊèêÂèñ CSS (antd + ‰∏öÂä°)\n\nËÉΩÁî®ÂÖ¨ÂÖ±Â∞±Áî®ÂÖ¨ÂÖ±ÔºàÂõ†‰∏∫Â§ßÈÉ®ÂàÜÁöÑÈ°µÈù¢ÁöÑÊ†∑ÂºèÂá†‰πé‰∏ÄÊ†∑ÔºâÔºå‰∏çÁÑ∂ÊØè‰∏™È°µÈù¢ÂºÄ‰∏Ä‰∏™ less ÂºïÁî®ÂÖ¨ÂÖ±Ôºå‰ºöÈáçÂ§çÊâìÂåÖÔºåÈÄ†ÊàêÂÜó‰Ωô„ÄÇ\n\n### Gzip ‰º†ËæìÂéãÁº©\n\ngzip ÈúÄË¶ÅÂú®ÊúçÂä°Âô®ÈÖçÁΩÆÂºÄÂêØ\n\nËøôÈáåÊèê‰æõ‰∏ÄÁßç Nginx ÁöÑÈÖçÁΩÆ„ÄÇ[‰º†ÈÄÅÈó®](https://blog.csdn.net/qq_36030288/article/details/54576503)\n\n[ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÔºögzip ÂéãÁº©Êñá‰ª∂‰º†ËæìÊï∞ÊçÆ](https://www.cnblogs.com/zs-note/p/9556390.html)\n\n## ‰ºòÂåñÊïàÊûúÂàÜÊûê\n\n![‰ºòÂåñÊïàÊûúÂàÜÊûê](https://img.mrsingsing.com/roadhog-performance-optimizition-result.jpg)\n\n- ÂºÄÂèë‰ΩìÈ™åÔºö70s => 20s ÂêØÂä®È°πÁõÆÊó∂Èó¥ÊèêÂçá 71%\n- ÊûÑÂª∫ÈÄüÂ∫¶Ôºö382s => 40s È°πÁõÆÊûÑÂª∫ÈÄüÂ∫¶ÊèêÂçá 89%\n- ËµÑÊ∫êÊñá‰ª∂Ôºö88MbÔºàÊú™ÂºÄÂêØ GzipÔºâ => 25MbÔºàÂºÄÂêØ GzipÔºâ => 1MbÔºà‰ºòÂåñÂêéÂºÄÂêØ GzipÔºâ ËµÑÊ∫êÊñá‰ª∂Â∞∫ÂØ∏Â§ßÂπÖÂ∫¶Èôç‰Ωé\n\n## ÂêéÁª≠ÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò\n\n### ÂçïÁã¨ÊâìÂåÖÁöÑ AntDesign Â∞∫ÂØ∏ËøáÂ§ß\n\n- ÂèØËßÜÂåñÂàÜÊûêÂ∞∫ÂØ∏ËæÉÂ§ßÁöÑÊñá‰ª∂ÂåÖÊã¨ rc-editor-core / draft.js Á≠â\n- ÈÄöËøá‰æùËµñÊâæÂà∞Ê†πÊ∫êÊòØ rc-editor-mention => rc-editor-core => draft-js Êù•Ëá™ Mention ÁªÑ‰ª∂Ôºå‰ΩÜÊòØÈ°πÁõÆ‰∏≠Âπ∂Ê≤°Êúâ‰ΩøÁî®Âà∞\n- ÂæóÂá∫ÁªìÊûúÊèêÂèñÊâìÂåÖÂ∞ÜÊï¥‰∏™ÁªÑ‰ª∂Â∫ìÈÉΩÊâìÂåÖËøõÊù•‰∫Ü\n\nÁ§æÂå∫‰∏≠ÊúâÂèçÂ∫îÂ∏åÊúõÊèêÂèñÂÖ¨ÂÖ±Ê®°ÂùóÊâìÂåÖÊó∂Â∞ÜÂÖ∂‰∏≠Êüê‰∫õÈÉ®ÂàÜÂøΩÁï•‰∏çÊâìÂåÖÔºåËÄåÁª¥Êä§ËÄÖ‰ºº‰πéÂëäÁü•ÈúÄË¶Å‰ΩøÁî® `babel-plugin-import` ÊåâÈúÄÂºïÁî®ÔºåÂπ∂Ê≤°Êèê‰æõÊèêÂèñÂÖ¨ÂÖ±Ê®°ÂùóÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ [‰º†ÈÄÅÈó®](https://github.com/ant-design/ant-design/issues/10180)\n\n## ÂèÇËÄÉËµÑÊñô\n\n- [ÊîØÊåÅ vendor ÁöÑÈÖçÁΩÆ Issue #370](https://github.com/sorrycc/roadhog/issues/370)\n- [roadhog2 Â¶Ç‰ΩïÊàêÂäüÊèêÂèñ vendor ¬∑ Issue #577](https://github.com/sorrycc/roadhog/issues/577)\n- [ÁºñËØëÂæàÊÖ¢ #722](https://github.com/sorrycc/roadhog/issues/722)\n- [roadhog 1.3x ÊâìÂåÖÊÖ¢ÁöÑËß£ÂÜ≥ÂäûÊ≥ï](https://github.com/liangxinwei/blog/blob/master/webpack/2.md)\n- [Roadhog ÊûÑÂª∫‰ºòÂåñ](http://www.mamicode.com/info-detail-2413081.html)\n- [JS/CSS ‰ΩìÁßØÂáèÂ∞ë‰∫Ü 67%ÔºåÊàë‰ª¨ÊòØÂ¶Ç‰ΩïÂÅöÂà∞ÁöÑÔºü](https://www.itcodemonkey.com/article/12011.html)\n- [Webpack Êó•Â∏∏‰ΩøÁî®‰∏é‰ºòÂåñ](https://github.com/creeperyang/blog/issues/37)\n","source":"_posts/building-performance-optimization-based-on-roadhog.md","raw":"---\ntitle: Âü∫‰∫é roadhog^2.x ÁöÑÂêéÂè∞È°πÁõÆÊûÑÂª∫ÊÄßËÉΩ‰ºòÂåñ\ndate: '2019-01-20'\n---\n\n## ÊäÄÊúØÈÄâÂûã\n\nÁõÆÂâçÊàëÂè∏ÂêéÂè∞Á≥ªÁªüÈááÁî®Âü∫‰∫é [Webpack](https://github.com/webpack/webpack) ‰∏∫Â∫ïÂ±ÇÂ∞ÅË£ÖÁöÑÊâìÂåÖÂ∑•ÂÖ∑ [roadhog](https://github.com/sorrycc/roadhog)„ÄÇÂºÄÂèëËÄÖÈÄöËøáÂ∑•ÂÖ∑Êö¥Èú≤ÁöÑÊúâÈôêÁöÑÂèØÈÖçÁΩÆÂèÇÊï∞ÔºåÂèØ‰ª•ÁÆÄÂçïÊòé‰∫ÜÂú∞ÈíàÂØπÈ°πÁõÆÈúÄË¶ÅËøõË°åËá™ÂÆö‰πâÈÖçÁΩÆ„ÄÇËØ•Ê¨æÂ∑•ÂÖ∑ÁöÑÁõÆÁöÑÂæàÊòéÁ°ÆÔºåÂ∞±ÊòØ‰∏∫‰∫ÜÁÆÄÂåñ webpack ÁöÑÈÖçÁΩÆ„ÄÇËøôÂØπ‰∫éÂÖ•Èó®Á∫ßÂà´ÁöÑÂ∑•Á®ãÂ∏àÊòØÈùûÂ∏∏ÂèãÂ•ΩÁöÑÔºåÂõ†‰∏∫Èôç‰Ωé‰∫ÜÂ≠¶‰π† webpack ÁöÑÊàêÊú¨ÔºåÂÖçÂéªÊç£Èºì webpack Â§çÊùÇÁöÑÈÖçÁΩÆÔºåÊñπ‰æøÂºÄÂèëËÄÖÂø´ÈÄüËøõÂÖ•ÂºÄÂèëÊµÅÁ®ã„ÄÇ\n\n‰ªéÁõÆÂâçÈ°πÁõÆÁâàÊú¨ÁöÑ `package.json` Âêë‰∏äÂ±Ç‰æùËµñÊ∫ØÊ∫êÂèØ‰ª•ÂæóÂá∫ËøôÊ†∑ÁöÑ‰æùËµñÂÖ≥Á≥ªÔºö\n\n> roadhog^2.4.2 => af-webpack^0.23.0-beta.1 => webpack^3.56\n\nroadhog Âü∫‰∫é [`umi/af-webpack`](https://github.com/umijs/umi/tree/master/packages/af-webpack) ‰Ωú‰∏∫Â∫ïÂ±Ç„ÄÇ‰ªéÁ§æÂå∫ÂèçÈ¶àÁöÑ‰ø°ÊÅØÂæóÁü•ÔºåÁé∞Êó∂Ôºà2019.1Ôºâ‰ΩúËÄÖÁöÑÂ∑•‰ΩúÈáçÁÇπÈÉΩÂú® [umi](https://github.com/umijs/umi)ÔºåËÄå roadhog Êó†ÊâìÁÆóËø≠‰ª£ÂçáÁ∫ßÁöÑÊâìÁÆó„ÄÇÂç≥‰æøÂ∞Ü roadhog ÂçáÁ∫ßËá≥ÊúÄÊñ∞ÁâàÊú¨ÔºåÊâÄ‰æùËµñÁöÑÂ∫ïÂ±Ç webpack ÁöÑÁâàÊú¨‰πüÂè™ÊòØ 3.5.6Ôºåwebpack4+ ÁöÑ‰ºòÂåñÈÖçÁΩÆÂùáÊó†Ê≥ï‰ΩøÁî®„ÄÇÁî±‰∫éÂ∑•ÂÖ∑ÊñáÊ°£Êèê‰æõ‰ø°ÊÅØÊúâÈôêÔºåÂõ†Ê≠§Ë¶ÅÂ∞Ü‰ºòÂåñËøõË°åÂà∞ÊûÅËá¥‰ªéÊ∫êÁ†Å‰æùËµñÁùÄÊâãÊé®Âä®È°πÁõÆÊûÑÂª∫‰ºòÂåñÊòØÂÖç‰∏ç‰∫ÜÁöÑÂ∑•‰Ωú„ÄÇ\n\n## ÊûÑÂª∫Áé∞ÂÜµÂàÜÊûê\n\n> ÁâàÊú¨ release/2.29.0\n\n**ÂàÜÊûêÊùêÊñô**\n\n- ÈÄöËøá [webpack-bundle-analyzer](https://github.com/webpack-contrib/webpack-bundle-analyzer) ÂØπÊâìÂåÖÊ®°ÂùóËøõË°åÂèØËßÜÂåñÂàÜÊûê\n- ÂØπÊâìÂåÖÂá∫Êù•ÂêéÁöÑËµÑÊ∫êÊñá‰ª∂ËøõË°åÂàÜÊûê\n- È°πÁõÆÁªÑÁªáÁªìÊûÑÂàÜÊûê\n\n**ÊûÑÂª∫ÊÉÖÂÜµÂàÜÊûê**\n\n- ÊûÑÂª∫ÂÜÖÂ≠òÂç†Áî®ËøáÈ´òÔºö130% ÈúÄË¶ÅÁªô node ÈÖçÁΩÆÊõ¥Â§öÂÜÖÂ≠òÈò≤Ê≠¢ÂÜÖÂ≠òÊ∫¢Âá∫ÂØºËá¥Â§±Ë¥•\n- ÊûÑÂª∫ËøõÂ∫¶ËßÇÂØüÔºöÂç°Âú® 10%„ÄÅ86%„ÄÅ**91%**\n- ÊûÑÂª∫‰ΩøÁî®Êó∂Èó¥Ôºö407s 366s 386s 380s 372s => Âπ≥Âùá 382s\n- ÈùôÊÄÅËµÑÊ∫êÊï∞ÈáèÔºöÂàÜÂâ≤ÊàêÂÖ± 92 ‰∏™ËµÑÊ∫êÊñá‰ª∂ÔºàÂåÖÊã¨ÂÖ•Âè£Êñá‰ª∂Ôºå‰ΩÜÈô§ÂéªÈªòËÆ§Êã∑Ë¥ùËæìÂá∫ÁöÑÊñá‰ª∂Ôºâ\n- ÈùôÊÄÅËµÑÊ∫êÂ§ßÂ∞è\n  - StartÔºöÊÄª 150MBÔºåÂπ≥ÂùáÔºåÊúÄÂ§ß 5.05MB\n  - ParsedÔºöÊÄª 88MBÔºåÂπ≥ÂùáÔºåÊúÄÂ§ß 2.48MB\n  - GzippedÔºöÊÄª 25MBÔºåÂπ≥ÂùáÔºåÊúÄÂ§ß 686.48KB\n\n| ÈùôÊÄÅËµÑÊ∫êÂ§ßÂ∞è | Êï∞Èáè |\n| ------------ | ---- |\n| >2MB         | 5    |\n| >1MB         | 24   |\n| >500KB       | 60   |\n\n<!-- more -->\n\n## È°πÁõÆÊûÑÂª∫‰ºòÂåñÊñπÊ°à\n\nÊåâÁÖß [Webpack ÊûÑÂª∫ÊÄßËÉΩ‰ºòÂåñÊé¢Á¥¢](https://github.com/pigcan/blog/issues/1) Êèê‰æõÁöÑÊÄùË∑ØÔºåÂèØ‰ª•‰ªéÂõõ‰∏™Áª¥Â∫¶ÁùÄÊâãÈ°πÁõÆÊûÑÂª∫ÁöÑ‰ºòÂåñÔºö\n\n- ‰ªéÁéØÂ¢ÉÁùÄÊâãÔºåÊèêÂçá‰∏ãËΩΩ‰æùËµñÈÄüÂ∫¶\n- ‰ªéÈ°πÁõÆËá™Ë∫´ÁùÄÊâãÔºå‰ª£Á†ÅÁªÑÁªáÊòØÂê¶ÂêàÁêÜÔºå‰æùËµñ‰ΩøÁî®ÊòØÂê¶ÂêàÁêÜÔºåÂèçÈù¢ÊèêÂçáÊïàÁéá\n- ‰ªé Webpack Ëá™Ë∫´‰ºòÂåñÊâãÊÆµÁùÄÊâãÔºå‰ºòÂåñÈÖçÁΩÆÔºåÊèêÂçá Webpack ÊïàÁéá\n- ‰ªé Webpack ÂèØËÉΩÂ≠òÂú®ÁöÑ‰∏çË∂≥ÁùÄÊâãÔºå‰ºòÂåñ‰∏çË∂≥ÔºåËøõ‰∏ÄÊ≠•ÊèêÂçáÊïàÁéá\n\n### ÂéªÈô§Â∫üÂºÉ‰æùËµñ\n\nËßÇÂØü `package.json`ÔºåÂèëÁé∞‰∏Ä‰∫õÈ°πÁõÆ‰∏≠Â∫üÂºÉÁöÑ‰æùËµñÂπ∂Ê≤°ÊúâÂèäÊó∂Â§ÑÁêÜÔºåÂõ†Ê≠§ÊääÊó†Áî®ÁöÑÂíåÈáçÂ§çÂÆâË£ÖÁöÑ‰æùËµñÂéªÈô§„ÄÇ\n\n### ÊèêÂèñÁ¨¨‰∏âÊñπÂÖ¨ÂÖ±Ê®°Âùó\n\nÊ≠§ÂâçÈ°πÁõÆ‰∏≠È°µÈù¢‰ª£Á†ÅÊ†πÊçÆË∑ØÁî±ÊåâÈúÄÂä†ËΩΩÔºåÊØè‰∏™È°µÈù¢ route Âíå model ÂºïÁî®ÁöÑÁ¨¨‰∏âÊñπÊ®°ÂùóÔºå‰æãÂ¶Ç `react`„ÄÅ`dva`„ÄÅ`query-string`„ÄÅ`antd`„ÄÅ`moment` Á≠âÔºåÈÉΩ‰ºöÂú®ÂêÑËá™ÁöÑÈ°µÈù¢‰∏≠ÈáçÂ§çÊâìÂåÖ‰∏Ä‰ªΩÔºåËøôÂ∞±ÂØºËá¥Ê†πÊçÆÈ°µÈù¢ÂàÜÂâ≤ÁöÑËµÑÊ∫êÊñá‰ª∂Â∞∫ÂØ∏ËæÉÂ§ßÔºåÂÜó‰Ωô‰ª£Á†ÅËæÉÂ§ö„ÄÇ\n\nÈô§Ê≠§‰πãÂ§ñÔºåÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÈ°πÁõÆ‰∏≠‰ΩøÁî®ÁöÑ [AntDesign](https://github.com/ant-design/ant-design) ÁªÑ‰ª∂ÔºåÂ∞ΩÁÆ°ÈÄöËøá [babel-plugin-import](https://github.com/ant-design/babel-plugin-import) ÂÆûÁé∞‰∫ÜÁªÑ‰ª∂Ê®°ÂùóÁöÑÊåâÈúÄÂä†ËΩΩÔºåÈ°µÈù¢ÂºïÁî®Âπ∂‰∏ç‰ºöÂ∞ÜÂÆåÊï¥ÁöÑ AntDesign ÂºïÂÖ•„ÄÇ‰ΩÜÊòØÁî±‰∫éÂºÄÂßãÊó∂ÂÄôÂ§ßÈÉ®ÂàÜÈ°µÈù¢ÈÉΩ‰∏ç‰ºö‰ªéÈõ∂ÂºÄÂßãÂÜôÔºåËÄåÊòØ‰ºöÈÄâÊã©ÁßªÊ§çÁõ∏‰ººÈ°µÈù¢ÁöÑÈÄªËæëÂÜçÂä†‰ª•‰øÆÊîπÔºåÂõ†Ê≠§‰ºöÂØºËá¥Áõ∏ÂΩì‰∏ÄÈÉ®ÂàÜÈ°µÈù¢‰ºöÂ∞ÜÊ≤°Êúâ‰ΩøÁî®Âà∞ÁöÑÁªÑ‰ª∂ËøõË°åÊâìÂåÖÔºåÂêåÊ†∑‰ºöÈÄ†ÊàêÂÜó‰Ωô„ÄÇ\n\nÂõ†Ê≠§ÔºåÊï¥‰∏™È°πÁõÆÁöÑÊÄßËÉΩ‰ºòÂåñÂøÖÁÑ∂‰ªéËµÑÊ∫ê‰æùËµñÁöÑÁ¨¨‰∏âÊñπÂ∫ìÁùÄÊâãÔºåÊèêÂâçÁºñËØëÊèêÂèñ„ÄÇ\n\nÂàÜÊûê `package.json` ÂèØ‰ª•ÂæóÁü•Êï¥‰∏™È°πÁõÆ‰æùËµñ‰∏ªË¶ÅÊúâÂá†‰∏™ÈÉ®ÂàÜÔºö\n\n- [antd](https://github.com/ant-design/ant-design) Âü∫Á°Ä UI ÁªÑ‰ª∂Â∫ì üìå\n- [dva](https://github.com/dvajs/dva) Êï∞ÊçÆÁÆ°ÁêÜÊ°ÜÊû∂\n- [moment](https://github.com/moment/moment) Êó∂Èó¥Êìç‰ΩúÂ∑•ÂÖ∑Â∫ì üìå\n- [ali-oss](https://github.com/ali-sdk/ali-oss) ÈòøÈáå‰∫ë OSS Êèí‰ª∂\n- [react](https://github.com/facebook/react) ÁïåÈù¢Ê°ÜÊû∂\n- react-dom\n- react-router-dom\n- universal-cookie\n- ...Á≠âÁ≠â\n\nroadhog Êö¥Èú≤‰∫Ü commons ÂèÇÊï∞ÂØπÂ∫î Webpack ‰∏≠ plugins ÁöÑÂ§ö‰∏™ `webpack.CommonsChunkPlugin` ÂÆû‰æã„ÄÇ‰∏ãÈù¢Êúâ‰∏§ÁßçÂèØÈÄâÊã©ÁöÑÊñπÊ°à‰æõÂÆûÁé∞Ôºö\n\n- Ë¢´Ëá≥Â∞ëÂõ∫ÂÆö‰∏™Êï∞ÔºàÈªòËÆ§‰∏§‰∏™Ôºâ entry/page ‰æùËµñÂç≥ÊèêÂèñÂÖ¨ÂÖ±ÔºåËøôÊ†∑ common ÂÖ¨ÂÖ±Ê®°Âùó‰ºöÊØîËæÉÂ§ßÔºåÈ°πÁõÆÊï¥‰ΩìÂ∞∫ÂØ∏ÊúÄÂ∞èÔºå‰ΩÜÈ°µÈù¢È¶ñÂ±èÊ∏≤ÊüìÈúÄË¶ÅÂä†ËΩΩÁöÑËµÑÊ∫êÂ∞∫ÂØ∏‰ºöÊØîËæÉÂ§ß\n- Ë¢´ÊâÄÊúâ entry/page ‰æùËµñÊâçÊèêÂèñ‰∏∫ÂÖ¨ÂÖ±ÔºåËøôÊ†∑ common ÂÖ¨ÂÖ±Ê®°ÂùóÊØîËæÉÂ∞èÔºåÈ°πÁõÆÊï¥‰ΩìÂ∞∫ÂØ∏ËæÉÂ§ß\n\nÊúÄÁªàÂÜ≥ÂÆöÂ∞ÜÊâÄÊúâ‰æùËµñÁöÑÁ¨¨‰∏âÊñπÊ®°ÂùóÊèêÂâçÊâìÂåÖÔºåÂú®Áî®Êà∑ËÆøÈóÆÈ°µÈù¢Êó∂ÈúÄË¶ÅÂ∞ÜÂü∫Á°ÄÂ∑•ÂÖ∑ÂíåÂü∫Á°ÄÁªÑ‰ª∂ÁöÑÊâìÂåÖÊñá‰ª∂ÂÖàÂä†ËΩΩÔºåÂêéÁª≠Áî®Êà∑ÁïåÈù¢ËµÑÊ∫êÊñá‰ª∂Âä†ËΩΩÂ∞±‰ºöÁõ∏ÂØπÂè¶‰∏ÄÁßçÊñπÊ°à‰ºöÊõ¥Âä†Âø´ÈÄü„ÄÇ\n\nÁõ∏ÂÖ≥Êâ©Â±ïÔºö\n\n- [ËØ¶Ëß£ CommonsChunkPlugin ÁöÑÈÖçÁΩÆÂíåÁî®Ê≥ï](https://segmentfault.com/a/1190000012828879)\n\n- [webpack.optimize.CommonsChunkPlugin ËØ¶Ëß£](https://juejin.im/post/5c2205e15188257507558c5a)\n\n- [webpack„ÄÅmanifest„ÄÅruntime„ÄÅÁºìÂ≠ò‰∏é CommonsChunkPlugin](https://www.jianshu.com/p/95752b101582)\n\n### Á¨¨‰∏âÊñπÊ®°Âùó‰∏çÂêåÂÖºÂÆπÂ∫ìÈáçÂ§çÊâìÂåÖ\n\n![‰ºòÂåñÂâçÊâìÂåÖÁªìÊûú](https://img.mrsingsing.com/roadhog-performance-build-analyze.jpg)\n\nvendor ÊèêÂèñÁ¨¨‰∏âÊñπÊ®°ÂùóÂêéÔºåÂèëÁé∞Âá†‰∏™ÊØîËæÉÂ§ßÁöÑÈ°µÈù¢ËµÑÊ∫êÊñá‰ª∂Èáå‰ªçÁÑ∂Â≠òÂú® antd.lib ÁªÑ‰ª∂Â∫ìÁöÑ‰ª£Á†ÅÔºåËÄå‰∏îËøô‰∫õ `ant.lib` ÈÉΩÊòØÂÆåÊï¥‰∏Ä‰∏™Ê®°ÂùóË¢´ÊâìÂåÖËøõ‰∫ÜËøô‰∫õÈ°µÈù¢ÂΩì‰∏≠Ôºå‰ΩÜÂÖ∂ÂÆû AntDesign Â∑≤ÁªèË¢´ÊàëÂÆåÊï¥ÂçïÁã¨Âú∞ÊâìÂåÖÊàêÂè¶Â§ñ‰∏Ä‰∏™Êñá‰ª∂‰∫ÜÔºåËøô‰∏™ÊâìÂåÖÁöÑÊñá‰ª∂ÊòØÁî± `ant.es` ÊâìÂåÖÂá∫Êù•ÁöÑ„ÄÇ\n\n- antd.es\n- antd.lib\n\nÈÄöËøáÂØπÊâìÂåÖÂêéÁöÑÊñá‰ª∂‰ª•Âèä‰∏öÂä°‰ª£Á†ÅÁöÑÊ£ÄÊü•ÔºåÂèëÁé∞ÊòØÂºïÁî® Antd ÁªÑ‰ª∂Â∫ìÂèëÁîü‰∫ÜÈóÆÈ¢òÔºåÁî±‰∫é‰ΩøÁî®‰∫Ü webpack-plugin-import Êèí‰ª∂ÔºåÂ∞Ü Antd ‰∏≠Âêç‰∏∫ es ÁöÑÁªÑ‰ª∂Â∫ìÊåâÈúÄÂä†ËΩΩÂπ∂ÈÄöËøá babel ËΩ¨ÂåñÁã¨Á´ãÊâìÂåÖÊàê vendorÔºåÂõ†Ê≠§ÂΩì‰ΩøÁî® `import {message} from \"antd/lib/index\"` ËøôÁßçÂÜôÊ≥ïÁöÑÊó∂ÂÄôÔºåÂΩìÂâçÈ°µÈù¢‰ºöÂ∞Ü Antd lib ÁõÆÂΩï‰∏ãÁöÑÁªÑ‰ª∂ÂÖ®ÈÉ®ÊâìÂåÖÔºåÈÄ†ÊàêÈ°µÈù¢ÊâìÂåÖÊñá‰ª∂ËáÉËÇø„ÄÇ\n\n‰π¶ÂÜôËßÑËåÉ\n‰ΩøÁî®‰∫Ü extraBabelPlugins Â∞±‰ºöÊåâÈúÄÂä†ËΩΩ\n\n```js\n// wrong\nimport { message } from 'antd/lib/index';\n\n// good\nimport { message } from 'antd';\n```\n\n### ÂøΩÁï• moment ËØ≠Ë®ÄÂåÖÁöÑÊâìÂåÖ\n\n![ÂøΩÁï• moment ËØ≠Ë®ÄÂåÖ](https://img.mrsingsing.com/roadhog-performance-moment-locale.jpg)\n\nÊâìÂåÖÂêé moment ÂåÖÁöÑ‰ΩìÁßØÊØîËæÉÂ§ßÔºåÂÖ∂‰∏≠ locale ËØ≠Ë®ÄÂåÖÈÉ®ÂàÜÂç†ÊçÆ‰∫ÜÊØîËæÉÂ§ßÁöÑ‰ΩìÁßØÔºåÁî±‰∫éÊàë‰ª¨ÁöÑÈ°πÁõÆÊ≤°ÊúâÂõΩÈôÖÂåñÈúÄÊ±ÇÔºåÂõ†Ê≠§ÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆ roadhog Êèê‰æõÁöÑ `ignoreMomentLocale: true` ÂáèÂ∞ëÊâìÂåÖÂá∫Êù•ÁöÑ vendor Â∞∫ÂØ∏„ÄÇ\n\n‰ΩÜÊòØÔºåÂ¶ÇÊûúÈ°πÁõÆ‰∏≠‰ΩøÁî®Âà∞ AntDesign ÁªÑ‰ª∂ÔºåÂπ∂‰∏î‰ΩøÁî®Âà∞Êó∂Èó¥ÈÄâÊã©ÁªÑ‰ª∂ `date-picker`ÔºàÈªòËÆ§ÊòØËã±ÊñáÊñáÊ°àÔºâÔºåÈÇ£‰πàËøôÈáåÈúÄË¶ÅÂÅö‰∏Ä‰∫õÂ§ÑÁêÜ‰ª•‰ΩøÈ°πÁõÆ‰∏≠ÁªÑ‰ª∂ËÉΩÂ§üÊòæÁ§∫‰∏≠Êñá„ÄÇ\n\nÊàëÊòØÂú®È°πÁõÆÊúÄ‰∏äÂ±ÇÔºåÂçïÁã¨ÂºïÂÖ• moment ÁöÑ‰∏≠ÊñáËØ≠Ë®ÄÂåÖ„ÄÇ\n\n```js\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\n\nmoment.locale('zh-cn');\n```\n\nËøôÊ†∑È°πÁõÆ‰∏≠‰ΩøÁî®Âà∞ moment Â∑•ÂÖ∑Â∫ìÁöÑ `date-picker` ÈÉΩ‰ºöÊòæÁ§∫‰∏≠ÊñáÊñáÊ°à„ÄÇ\n\n### ÂéãÁº©ËÄóÊó∂\n\nÈ°πÁõÆÊûÑÂª∫ËøáÁ®ã‰ºöÂç°Âú® 91%ÔºåÈÄöËøáÊü•ÈòÖÁõ∏ÂÖ≥ËµÑÊñôÂíå‰∫ÜËß£Á§æÂå∫ÂèçÈ¶àÂêéÔºåÊòéÁ°ÆÂéüÂõ†‰∏∫ËØ•Èò∂ÊÆµ Webpack Ê≠£Âú®ÂØπ‰ª£Á†ÅËøõË°åÊ∑∑Ê∑ÜÂéãÁº©Êìç‰ΩúÔºå‰ΩÜÂêåÊó∂Áî±‰∫é Webpack ÁöÑÂéãÁº©Êèí‰ª∂ UglifyJS Êó†Ê≥ïÂØπ ES6+ ÁöÑ‰ª£Á†ÅËøõË°åÂéãÁº©ÔºåÈúÄË¶Å‰ΩøÁî® [babel-minify](https://github.com/babel/minify) Ëé∑ÂèñÊõ¥Â•ΩÁöÑ treeshaking ÊïàÊûúÔºàËôΩÁÑ∂ Webpack4 Â∑≤ÁªèÊîØÊåÅ ES6+ ‰ª£Á†ÅÂéãÁº©Ôºå‰ΩÜÊòØÁõÆÂâç Roadhog ÈááÁî®ÁöÑÊòØ Webpack3+Ôºâ„ÄÇ\n\n[ÊûÑÂª∫ÈÄüÂ∫¶ÊÖ¢ÁöÑËß£ÂÜ≥ÊñπÊ≥ï@sorrycc](https://hackmd.io/YHK_yuRtT0ePPVLY0_kUzw)\n\n‰ΩìÁé∞ÁâπÂæÅÔºö\n\n- ÊûÑÂª∫ÈÄüÂ∫¶ÊÖ¢\n- ÂÜÖÂ≠òÊ∂àËÄóÈ´ò\n\nËß£ÂÜ≥ÊñπÊ≥ïÔºö\n\n- ÂáèÂ∞ë‰æùËµñÊñá‰ª∂\n  - ‰ºòÂåñ common ÊèêÂèñÁ≠ñÁï•ÔºåËÆ©Êï¥‰ΩìÂ∞∫ÂØ∏Â∞ΩÂèØËÉΩÂ∞ë\n  - externals Êéâ‰∏Ä‰∫õÂ§ßÁöÑÂ∫ìÔºåÈôç‰ΩéÊï¥‰ΩìÂ∞∫ÂØ∏\n  - Âà©Áî® webpack ÁöÑ TreeShaking + es moduleÔºåÊéíÈô§Êéâ‰∏Ä‰∫õÊ≤°ÊúâÁî®Âà∞ÁöÑÊ®°Âùó\n- ÂáèÂ∞ëÈúÄË¶ÅÂéãÁº©ÁöÑÊñá‰ª∂\n\n### Â§ñÈÉ®Êâ©Â±ï\n\nexternals ÊòØÈùûÂ∏∏ÊúâÊïàÁöÑ‰∏Ä‰∏™ÊñπÊ°àÔºåÂèØ‰ª•‰∏Ä‰∏ãÂ≠êÂáèÂ∞ëÂ§ßÈáèÈúÄË¶ÅÁºñËØë„ÄÅÂéãÁº©ÁöÑÊ®°Âùó„ÄÇÂ∞Ü‰∏Ä‰∫õ‰∏çÂ∏∏Êõ¥Êñ∞ÁâàÊú¨ÊØîËæÉÁ®≥ÂÆöÁöÑÊ®°ÂùóÊñá‰ª∂Áõ¥Êé•Ê≥®ÂÖ• HMTL Êñá‰ª∂ÔºåÂΩìËØªÂèñÂà∞ËØ•ËÑöÊú¨Êó∂Â∞ÜËá™Âä®Âä†ËΩΩÔºåËøô‰∏ç‰ªÖËÉΩÂä†Âø´ÊûÑÂª∫ÈÄüÂ∫¶ÔºåËÄå‰∏îËÉΩÂ§üÂà©Áî® CDN ËøõË°åËµÑÊ∫êÁºìÂ≠ò„ÄÇ\n\n‰ΩÜÊòØ‰ºöÂ∏¶Êù•ÁöÑÈóÆÈ¢òÊòØÔºö\n\n- Êó†Ê≥ïÂà©Áî® Webpack ÁöÑ Tree-Shaking\n- Â§ö‰∏™Â∫ì‰πãÈó¥Â¶ÇÊûúÂ≠òÂú®ÂÖ¨ÂÖ±Ê®°ÂùóÔºàÊØîÂ¶Ç lodashÔºâÔºåÂ∞±Êó†Ê≥ïÂ§çÁî®\n\n‰ΩøÁî® externals ÈúÄË¶ÅÂú® HTML ÈáåÂºïÁî®È¢ùÂ§ñÁöÑ JS Êñá‰ª∂ÔºåËøôÈáå‰πüÊúâÂá†‰∏™ÊΩúÂú®ÁöÑÈóÆÈ¢òÔºö\n\n- Â¶ÇÊûú‰Ω†ÁöÑ CDN ‰∏çÊîØÊåÅ ComboÔºåÂπ∂‰∏î‰∏çÊòØ http/2ÔºåÈÇ£‰πàÈÄüÂ∫¶‰ºöÂæàÊÖ¢\n- ‰Ω†ÈúÄË¶ÅÊâãÂä®Áª¥Êä§‰∏Ä‰ªΩ CDN Êñá‰ª∂ÂàóË°®ÔºåÂπ∂‰∏îË∑üËøõ‰ªñ‰ª¨ÁöÑÊõ¥Êñ∞Ôºå‰πüÊòØ‰ª∂È∫ªÁÉ¶ÁöÑ‰∫ãÊÉÖ\n\nËøôÈáå‰∏ªË¶ÅÂ∞Ü‰∏â‰∏™Â∞∫ÂØ∏ËæÉÂ§ß‰∏îÊØîËæÉÂ∞ëÈ°πÁõÆÈ°µÈù¢ÂºïÁî®ÁöÑÊ®°Âùó externals Êéâ„ÄÇ\n\n```js\nexternals: {\n    'ali-oss': 'window.OSS',\n    'react': 'window.react',\n    'react-dom': 'window.ReactDOM'\n}\n```\n\n### È°πÁõÆÊ†∑ÂºèÊñá‰ª∂ÂáèÂ∞ë\n\nExtractTextPlugin ÊèêÂèñ CSS (antd + ‰∏öÂä°)\n\nËÉΩÁî®ÂÖ¨ÂÖ±Â∞±Áî®ÂÖ¨ÂÖ±ÔºàÂõ†‰∏∫Â§ßÈÉ®ÂàÜÁöÑÈ°µÈù¢ÁöÑÊ†∑ÂºèÂá†‰πé‰∏ÄÊ†∑ÔºâÔºå‰∏çÁÑ∂ÊØè‰∏™È°µÈù¢ÂºÄ‰∏Ä‰∏™ less ÂºïÁî®ÂÖ¨ÂÖ±Ôºå‰ºöÈáçÂ§çÊâìÂåÖÔºåÈÄ†ÊàêÂÜó‰Ωô„ÄÇ\n\n### Gzip ‰º†ËæìÂéãÁº©\n\ngzip ÈúÄË¶ÅÂú®ÊúçÂä°Âô®ÈÖçÁΩÆÂºÄÂêØ\n\nËøôÈáåÊèê‰æõ‰∏ÄÁßç Nginx ÁöÑÈÖçÁΩÆ„ÄÇ[‰º†ÈÄÅÈó®](https://blog.csdn.net/qq_36030288/article/details/54576503)\n\n[ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÔºögzip ÂéãÁº©Êñá‰ª∂‰º†ËæìÊï∞ÊçÆ](https://www.cnblogs.com/zs-note/p/9556390.html)\n\n## ‰ºòÂåñÊïàÊûúÂàÜÊûê\n\n![‰ºòÂåñÊïàÊûúÂàÜÊûê](https://img.mrsingsing.com/roadhog-performance-optimizition-result.jpg)\n\n- ÂºÄÂèë‰ΩìÈ™åÔºö70s => 20s ÂêØÂä®È°πÁõÆÊó∂Èó¥ÊèêÂçá 71%\n- ÊûÑÂª∫ÈÄüÂ∫¶Ôºö382s => 40s È°πÁõÆÊûÑÂª∫ÈÄüÂ∫¶ÊèêÂçá 89%\n- ËµÑÊ∫êÊñá‰ª∂Ôºö88MbÔºàÊú™ÂºÄÂêØ GzipÔºâ => 25MbÔºàÂºÄÂêØ GzipÔºâ => 1MbÔºà‰ºòÂåñÂêéÂºÄÂêØ GzipÔºâ ËµÑÊ∫êÊñá‰ª∂Â∞∫ÂØ∏Â§ßÂπÖÂ∫¶Èôç‰Ωé\n\n## ÂêéÁª≠ÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò\n\n### ÂçïÁã¨ÊâìÂåÖÁöÑ AntDesign Â∞∫ÂØ∏ËøáÂ§ß\n\n- ÂèØËßÜÂåñÂàÜÊûêÂ∞∫ÂØ∏ËæÉÂ§ßÁöÑÊñá‰ª∂ÂåÖÊã¨ rc-editor-core / draft.js Á≠â\n- ÈÄöËøá‰æùËµñÊâæÂà∞Ê†πÊ∫êÊòØ rc-editor-mention => rc-editor-core => draft-js Êù•Ëá™ Mention ÁªÑ‰ª∂Ôºå‰ΩÜÊòØÈ°πÁõÆ‰∏≠Âπ∂Ê≤°Êúâ‰ΩøÁî®Âà∞\n- ÂæóÂá∫ÁªìÊûúÊèêÂèñÊâìÂåÖÂ∞ÜÊï¥‰∏™ÁªÑ‰ª∂Â∫ìÈÉΩÊâìÂåÖËøõÊù•‰∫Ü\n\nÁ§æÂå∫‰∏≠ÊúâÂèçÂ∫îÂ∏åÊúõÊèêÂèñÂÖ¨ÂÖ±Ê®°ÂùóÊâìÂåÖÊó∂Â∞ÜÂÖ∂‰∏≠Êüê‰∫õÈÉ®ÂàÜÂøΩÁï•‰∏çÊâìÂåÖÔºåËÄåÁª¥Êä§ËÄÖ‰ºº‰πéÂëäÁü•ÈúÄË¶Å‰ΩøÁî® `babel-plugin-import` ÊåâÈúÄÂºïÁî®ÔºåÂπ∂Ê≤°Êèê‰æõÊèêÂèñÂÖ¨ÂÖ±Ê®°ÂùóÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ [‰º†ÈÄÅÈó®](https://github.com/ant-design/ant-design/issues/10180)\n\n## ÂèÇËÄÉËµÑÊñô\n\n- [ÊîØÊåÅ vendor ÁöÑÈÖçÁΩÆ Issue #370](https://github.com/sorrycc/roadhog/issues/370)\n- [roadhog2 Â¶Ç‰ΩïÊàêÂäüÊèêÂèñ vendor ¬∑ Issue #577](https://github.com/sorrycc/roadhog/issues/577)\n- [ÁºñËØëÂæàÊÖ¢ #722](https://github.com/sorrycc/roadhog/issues/722)\n- [roadhog 1.3x ÊâìÂåÖÊÖ¢ÁöÑËß£ÂÜ≥ÂäûÊ≥ï](https://github.com/liangxinwei/blog/blob/master/webpack/2.md)\n- [Roadhog ÊûÑÂª∫‰ºòÂåñ](http://www.mamicode.com/info-detail-2413081.html)\n- [JS/CSS ‰ΩìÁßØÂáèÂ∞ë‰∫Ü 67%ÔºåÊàë‰ª¨ÊòØÂ¶Ç‰ΩïÂÅöÂà∞ÁöÑÔºü](https://www.itcodemonkey.com/article/12011.html)\n- [Webpack Êó•Â∏∏‰ΩøÁî®‰∏é‰ºòÂåñ](https://github.com/creeperyang/blog/issues/37)\n","slug":"building-performance-optimization-based-on-roadhog","published":1,"updated":"2021-09-29T18:08:55.519Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867n6n0003bmjd2ewmfh46","content":"<h2 id=\"ÊäÄÊúØÈÄâÂûã\"><a href=\"#ÊäÄÊúØÈÄâÂûã\" class=\"headerlink\" title=\"ÊäÄÊúØÈÄâÂûã\"></a>ÊäÄÊúØÈÄâÂûã</h2><p>ÁõÆÂâçÊàëÂè∏ÂêéÂè∞Á≥ªÁªüÈááÁî®Âü∫‰∫é <a href=\"https://github.com/webpack/webpack\" target=\"_blank\" rel=\"noopener\">Webpack</a> ‰∏∫Â∫ïÂ±ÇÂ∞ÅË£ÖÁöÑÊâìÂåÖÂ∑•ÂÖ∑ <a href=\"https://github.com/sorrycc/roadhog\" target=\"_blank\" rel=\"noopener\">roadhog</a>„ÄÇÂºÄÂèëËÄÖÈÄöËøáÂ∑•ÂÖ∑Êö¥Èú≤ÁöÑÊúâÈôêÁöÑÂèØÈÖçÁΩÆÂèÇÊï∞ÔºåÂèØ‰ª•ÁÆÄÂçïÊòé‰∫ÜÂú∞ÈíàÂØπÈ°πÁõÆÈúÄË¶ÅËøõË°åËá™ÂÆö‰πâÈÖçÁΩÆ„ÄÇËØ•Ê¨æÂ∑•ÂÖ∑ÁöÑÁõÆÁöÑÂæàÊòéÁ°ÆÔºåÂ∞±ÊòØ‰∏∫‰∫ÜÁÆÄÂåñ webpack ÁöÑÈÖçÁΩÆ„ÄÇËøôÂØπ‰∫éÂÖ•Èó®Á∫ßÂà´ÁöÑÂ∑•Á®ãÂ∏àÊòØÈùûÂ∏∏ÂèãÂ•ΩÁöÑÔºåÂõ†‰∏∫Èôç‰Ωé‰∫ÜÂ≠¶‰π† webpack ÁöÑÊàêÊú¨ÔºåÂÖçÂéªÊç£Èºì webpack Â§çÊùÇÁöÑÈÖçÁΩÆÔºåÊñπ‰æøÂºÄÂèëËÄÖÂø´ÈÄüËøõÂÖ•ÂºÄÂèëÊµÅÁ®ã„ÄÇ</p>\n<p>‰ªéÁõÆÂâçÈ°πÁõÆÁâàÊú¨ÁöÑ <code>package.json</code> Âêë‰∏äÂ±Ç‰æùËµñÊ∫ØÊ∫êÂèØ‰ª•ÂæóÂá∫ËøôÊ†∑ÁöÑ‰æùËµñÂÖ≥Á≥ªÔºö</p>\n<blockquote>\n<p>roadhog^2.4.2 =&gt; af-webpack^0.23.0-beta.1 =&gt; webpack^3.56</p>\n</blockquote>\n<p>roadhog Âü∫‰∫é <a href=\"https://github.com/umijs/umi/tree/master/packages/af-webpack\" target=\"_blank\" rel=\"noopener\"><code>umi/af-webpack</code></a> ‰Ωú‰∏∫Â∫ïÂ±Ç„ÄÇ‰ªéÁ§æÂå∫ÂèçÈ¶àÁöÑ‰ø°ÊÅØÂæóÁü•ÔºåÁé∞Êó∂Ôºà2019.1Ôºâ‰ΩúËÄÖÁöÑÂ∑•‰ΩúÈáçÁÇπÈÉΩÂú® <a href=\"https://github.com/umijs/umi\" target=\"_blank\" rel=\"noopener\">umi</a>ÔºåËÄå roadhog Êó†ÊâìÁÆóËø≠‰ª£ÂçáÁ∫ßÁöÑÊâìÁÆó„ÄÇÂç≥‰æøÂ∞Ü roadhog ÂçáÁ∫ßËá≥ÊúÄÊñ∞ÁâàÊú¨ÔºåÊâÄ‰æùËµñÁöÑÂ∫ïÂ±Ç webpack ÁöÑÁâàÊú¨‰πüÂè™ÊòØ 3.5.6Ôºåwebpack4+ ÁöÑ‰ºòÂåñÈÖçÁΩÆÂùáÊó†Ê≥ï‰ΩøÁî®„ÄÇÁî±‰∫éÂ∑•ÂÖ∑ÊñáÊ°£Êèê‰æõ‰ø°ÊÅØÊúâÈôêÔºåÂõ†Ê≠§Ë¶ÅÂ∞Ü‰ºòÂåñËøõË°åÂà∞ÊûÅËá¥‰ªéÊ∫êÁ†Å‰æùËµñÁùÄÊâãÊé®Âä®È°πÁõÆÊûÑÂª∫‰ºòÂåñÊòØÂÖç‰∏ç‰∫ÜÁöÑÂ∑•‰Ωú„ÄÇ</p>\n<h2 id=\"ÊûÑÂª∫Áé∞ÂÜµÂàÜÊûê\"><a href=\"#ÊûÑÂª∫Áé∞ÂÜµÂàÜÊûê\" class=\"headerlink\" title=\"ÊûÑÂª∫Áé∞ÂÜµÂàÜÊûê\"></a>ÊûÑÂª∫Áé∞ÂÜµÂàÜÊûê</h2><blockquote>\n<p>ÁâàÊú¨ release/2.29.0</p>\n</blockquote>\n<p><strong>ÂàÜÊûêÊùêÊñô</strong></p>\n<ul>\n<li>ÈÄöËøá <a href=\"https://github.com/webpack-contrib/webpack-bundle-analyzer\" target=\"_blank\" rel=\"noopener\">webpack-bundle-analyzer</a> ÂØπÊâìÂåÖÊ®°ÂùóËøõË°åÂèØËßÜÂåñÂàÜÊûê</li>\n<li>ÂØπÊâìÂåÖÂá∫Êù•ÂêéÁöÑËµÑÊ∫êÊñá‰ª∂ËøõË°åÂàÜÊûê</li>\n<li>È°πÁõÆÁªÑÁªáÁªìÊûÑÂàÜÊûê</li>\n</ul>\n<p><strong>ÊûÑÂª∫ÊÉÖÂÜµÂàÜÊûê</strong></p>\n<ul>\n<li>ÊûÑÂª∫ÂÜÖÂ≠òÂç†Áî®ËøáÈ´òÔºö130% ÈúÄË¶ÅÁªô node ÈÖçÁΩÆÊõ¥Â§öÂÜÖÂ≠òÈò≤Ê≠¢ÂÜÖÂ≠òÊ∫¢Âá∫ÂØºËá¥Â§±Ë¥•</li>\n<li>ÊûÑÂª∫ËøõÂ∫¶ËßÇÂØüÔºöÂç°Âú® 10%„ÄÅ86%„ÄÅ<strong>91%</strong></li>\n<li>ÊûÑÂª∫‰ΩøÁî®Êó∂Èó¥Ôºö407s 366s 386s 380s 372s =&gt; Âπ≥Âùá 382s</li>\n<li>ÈùôÊÄÅËµÑÊ∫êÊï∞ÈáèÔºöÂàÜÂâ≤ÊàêÂÖ± 92 ‰∏™ËµÑÊ∫êÊñá‰ª∂ÔºàÂåÖÊã¨ÂÖ•Âè£Êñá‰ª∂Ôºå‰ΩÜÈô§ÂéªÈªòËÆ§Êã∑Ë¥ùËæìÂá∫ÁöÑÊñá‰ª∂Ôºâ</li>\n<li>ÈùôÊÄÅËµÑÊ∫êÂ§ßÂ∞è<ul>\n<li>StartÔºöÊÄª 150MBÔºåÂπ≥ÂùáÔºåÊúÄÂ§ß 5.05MB</li>\n<li>ParsedÔºöÊÄª 88MBÔºåÂπ≥ÂùáÔºåÊúÄÂ§ß 2.48MB</li>\n<li>GzippedÔºöÊÄª 25MBÔºåÂπ≥ÂùáÔºåÊúÄÂ§ß 686.48KB</li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>ÈùôÊÄÅËµÑÊ∫êÂ§ßÂ∞è</th>\n<th>Êï∞Èáè</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>&gt;2MB</td>\n<td>5</td>\n</tr>\n<tr>\n<td>&gt;1MB</td>\n<td>24</td>\n</tr>\n<tr>\n<td>&gt;500KB</td>\n<td>60</td>\n</tr>\n</tbody>\n</table>\n<a id=\"more\"></a>\n<h2 id=\"È°πÁõÆÊûÑÂª∫‰ºòÂåñÊñπÊ°à\"><a href=\"#È°πÁõÆÊûÑÂª∫‰ºòÂåñÊñπÊ°à\" class=\"headerlink\" title=\"È°πÁõÆÊûÑÂª∫‰ºòÂåñÊñπÊ°à\"></a>È°πÁõÆÊûÑÂª∫‰ºòÂåñÊñπÊ°à</h2><p>ÊåâÁÖß <a href=\"https://github.com/pigcan/blog/issues/1\" target=\"_blank\" rel=\"noopener\">Webpack ÊûÑÂª∫ÊÄßËÉΩ‰ºòÂåñÊé¢Á¥¢</a> Êèê‰æõÁöÑÊÄùË∑ØÔºåÂèØ‰ª•‰ªéÂõõ‰∏™Áª¥Â∫¶ÁùÄÊâãÈ°πÁõÆÊûÑÂª∫ÁöÑ‰ºòÂåñÔºö</p>\n<ul>\n<li>‰ªéÁéØÂ¢ÉÁùÄÊâãÔºåÊèêÂçá‰∏ãËΩΩ‰æùËµñÈÄüÂ∫¶</li>\n<li>‰ªéÈ°πÁõÆËá™Ë∫´ÁùÄÊâãÔºå‰ª£Á†ÅÁªÑÁªáÊòØÂê¶ÂêàÁêÜÔºå‰æùËµñ‰ΩøÁî®ÊòØÂê¶ÂêàÁêÜÔºåÂèçÈù¢ÊèêÂçáÊïàÁéá</li>\n<li>‰ªé Webpack Ëá™Ë∫´‰ºòÂåñÊâãÊÆµÁùÄÊâãÔºå‰ºòÂåñÈÖçÁΩÆÔºåÊèêÂçá Webpack ÊïàÁéá</li>\n<li>‰ªé Webpack ÂèØËÉΩÂ≠òÂú®ÁöÑ‰∏çË∂≥ÁùÄÊâãÔºå‰ºòÂåñ‰∏çË∂≥ÔºåËøõ‰∏ÄÊ≠•ÊèêÂçáÊïàÁéá</li>\n</ul>\n<h3 id=\"ÂéªÈô§Â∫üÂºÉ‰æùËµñ\"><a href=\"#ÂéªÈô§Â∫üÂºÉ‰æùËµñ\" class=\"headerlink\" title=\"ÂéªÈô§Â∫üÂºÉ‰æùËµñ\"></a>ÂéªÈô§Â∫üÂºÉ‰æùËµñ</h3><p>ËßÇÂØü <code>package.json</code>ÔºåÂèëÁé∞‰∏Ä‰∫õÈ°πÁõÆ‰∏≠Â∫üÂºÉÁöÑ‰æùËµñÂπ∂Ê≤°ÊúâÂèäÊó∂Â§ÑÁêÜÔºåÂõ†Ê≠§ÊääÊó†Áî®ÁöÑÂíåÈáçÂ§çÂÆâË£ÖÁöÑ‰æùËµñÂéªÈô§„ÄÇ</p>\n<h3 id=\"ÊèêÂèñÁ¨¨‰∏âÊñπÂÖ¨ÂÖ±Ê®°Âùó\"><a href=\"#ÊèêÂèñÁ¨¨‰∏âÊñπÂÖ¨ÂÖ±Ê®°Âùó\" class=\"headerlink\" title=\"ÊèêÂèñÁ¨¨‰∏âÊñπÂÖ¨ÂÖ±Ê®°Âùó\"></a>ÊèêÂèñÁ¨¨‰∏âÊñπÂÖ¨ÂÖ±Ê®°Âùó</h3><p>Ê≠§ÂâçÈ°πÁõÆ‰∏≠È°µÈù¢‰ª£Á†ÅÊ†πÊçÆË∑ØÁî±ÊåâÈúÄÂä†ËΩΩÔºåÊØè‰∏™È°µÈù¢ route Âíå model ÂºïÁî®ÁöÑÁ¨¨‰∏âÊñπÊ®°ÂùóÔºå‰æãÂ¶Ç <code>react</code>„ÄÅ<code>dva</code>„ÄÅ<code>query-string</code>„ÄÅ<code>antd</code>„ÄÅ<code>moment</code> Á≠âÔºåÈÉΩ‰ºöÂú®ÂêÑËá™ÁöÑÈ°µÈù¢‰∏≠ÈáçÂ§çÊâìÂåÖ‰∏Ä‰ªΩÔºåËøôÂ∞±ÂØºËá¥Ê†πÊçÆÈ°µÈù¢ÂàÜÂâ≤ÁöÑËµÑÊ∫êÊñá‰ª∂Â∞∫ÂØ∏ËæÉÂ§ßÔºåÂÜó‰Ωô‰ª£Á†ÅËæÉÂ§ö„ÄÇ</p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÈ°πÁõÆ‰∏≠‰ΩøÁî®ÁöÑ <a href=\"https://github.com/ant-design/ant-design\" target=\"_blank\" rel=\"noopener\">AntDesign</a> ÁªÑ‰ª∂ÔºåÂ∞ΩÁÆ°ÈÄöËøá <a href=\"https://github.com/ant-design/babel-plugin-import\" target=\"_blank\" rel=\"noopener\">babel-plugin-import</a> ÂÆûÁé∞‰∫ÜÁªÑ‰ª∂Ê®°ÂùóÁöÑÊåâÈúÄÂä†ËΩΩÔºåÈ°µÈù¢ÂºïÁî®Âπ∂‰∏ç‰ºöÂ∞ÜÂÆåÊï¥ÁöÑ AntDesign ÂºïÂÖ•„ÄÇ‰ΩÜÊòØÁî±‰∫éÂºÄÂßãÊó∂ÂÄôÂ§ßÈÉ®ÂàÜÈ°µÈù¢ÈÉΩ‰∏ç‰ºö‰ªéÈõ∂ÂºÄÂßãÂÜôÔºåËÄåÊòØ‰ºöÈÄâÊã©ÁßªÊ§çÁõ∏‰ººÈ°µÈù¢ÁöÑÈÄªËæëÂÜçÂä†‰ª•‰øÆÊîπÔºåÂõ†Ê≠§‰ºöÂØºËá¥Áõ∏ÂΩì‰∏ÄÈÉ®ÂàÜÈ°µÈù¢‰ºöÂ∞ÜÊ≤°Êúâ‰ΩøÁî®Âà∞ÁöÑÁªÑ‰ª∂ËøõË°åÊâìÂåÖÔºåÂêåÊ†∑‰ºöÈÄ†ÊàêÂÜó‰Ωô„ÄÇ</p>\n<p>Âõ†Ê≠§ÔºåÊï¥‰∏™È°πÁõÆÁöÑÊÄßËÉΩ‰ºòÂåñÂøÖÁÑ∂‰ªéËµÑÊ∫ê‰æùËµñÁöÑÁ¨¨‰∏âÊñπÂ∫ìÁùÄÊâãÔºåÊèêÂâçÁºñËØëÊèêÂèñ„ÄÇ</p>\n<p>ÂàÜÊûê <code>package.json</code> ÂèØ‰ª•ÂæóÁü•Êï¥‰∏™È°πÁõÆ‰æùËµñ‰∏ªË¶ÅÊúâÂá†‰∏™ÈÉ®ÂàÜÔºö</p>\n<ul>\n<li><a href=\"https://github.com/ant-design/ant-design\" target=\"_blank\" rel=\"noopener\">antd</a> Âü∫Á°Ä UI ÁªÑ‰ª∂Â∫ì üìå</li>\n<li><a href=\"https://github.com/dvajs/dva\" target=\"_blank\" rel=\"noopener\">dva</a> Êï∞ÊçÆÁÆ°ÁêÜÊ°ÜÊû∂</li>\n<li><a href=\"https://github.com/moment/moment\" target=\"_blank\" rel=\"noopener\">moment</a> Êó∂Èó¥Êìç‰ΩúÂ∑•ÂÖ∑Â∫ì üìå</li>\n<li><a href=\"https://github.com/ali-sdk/ali-oss\" target=\"_blank\" rel=\"noopener\">ali-oss</a> ÈòøÈáå‰∫ë OSS Êèí‰ª∂</li>\n<li><a href=\"https://github.com/facebook/react\" target=\"_blank\" rel=\"noopener\">react</a> ÁïåÈù¢Ê°ÜÊû∂</li>\n<li>react-dom</li>\n<li>react-router-dom</li>\n<li>universal-cookie</li>\n<li>‚Ä¶Á≠âÁ≠â</li>\n</ul>\n<p>roadhog Êö¥Èú≤‰∫Ü commons ÂèÇÊï∞ÂØπÂ∫î Webpack ‰∏≠ plugins ÁöÑÂ§ö‰∏™ <code>webpack.CommonsChunkPlugin</code> ÂÆû‰æã„ÄÇ‰∏ãÈù¢Êúâ‰∏§ÁßçÂèØÈÄâÊã©ÁöÑÊñπÊ°à‰æõÂÆûÁé∞Ôºö</p>\n<ul>\n<li>Ë¢´Ëá≥Â∞ëÂõ∫ÂÆö‰∏™Êï∞ÔºàÈªòËÆ§‰∏§‰∏™Ôºâ entry/page ‰æùËµñÂç≥ÊèêÂèñÂÖ¨ÂÖ±ÔºåËøôÊ†∑ common ÂÖ¨ÂÖ±Ê®°Âùó‰ºöÊØîËæÉÂ§ßÔºåÈ°πÁõÆÊï¥‰ΩìÂ∞∫ÂØ∏ÊúÄÂ∞èÔºå‰ΩÜÈ°µÈù¢È¶ñÂ±èÊ∏≤ÊüìÈúÄË¶ÅÂä†ËΩΩÁöÑËµÑÊ∫êÂ∞∫ÂØ∏‰ºöÊØîËæÉÂ§ß</li>\n<li>Ë¢´ÊâÄÊúâ entry/page ‰æùËµñÊâçÊèêÂèñ‰∏∫ÂÖ¨ÂÖ±ÔºåËøôÊ†∑ common ÂÖ¨ÂÖ±Ê®°ÂùóÊØîËæÉÂ∞èÔºåÈ°πÁõÆÊï¥‰ΩìÂ∞∫ÂØ∏ËæÉÂ§ß</li>\n</ul>\n<p>ÊúÄÁªàÂÜ≥ÂÆöÂ∞ÜÊâÄÊúâ‰æùËµñÁöÑÁ¨¨‰∏âÊñπÊ®°ÂùóÊèêÂâçÊâìÂåÖÔºåÂú®Áî®Êà∑ËÆøÈóÆÈ°µÈù¢Êó∂ÈúÄË¶ÅÂ∞ÜÂü∫Á°ÄÂ∑•ÂÖ∑ÂíåÂü∫Á°ÄÁªÑ‰ª∂ÁöÑÊâìÂåÖÊñá‰ª∂ÂÖàÂä†ËΩΩÔºåÂêéÁª≠Áî®Êà∑ÁïåÈù¢ËµÑÊ∫êÊñá‰ª∂Âä†ËΩΩÂ∞±‰ºöÁõ∏ÂØπÂè¶‰∏ÄÁßçÊñπÊ°à‰ºöÊõ¥Âä†Âø´ÈÄü„ÄÇ</p>\n<p>Áõ∏ÂÖ≥Êâ©Â±ïÔºö</p>\n<ul>\n<li><p><a href=\"https://segmentfault.com/a/1190000012828879\" target=\"_blank\" rel=\"noopener\">ËØ¶Ëß£ CommonsChunkPlugin ÁöÑÈÖçÁΩÆÂíåÁî®Ê≥ï</a></p>\n</li>\n<li><p><a href=\"https://juejin.im/post/5c2205e15188257507558c5a\" target=\"_blank\" rel=\"noopener\">webpack.optimize.CommonsChunkPlugin ËØ¶Ëß£</a></p>\n</li>\n<li><p><a href=\"https://www.jianshu.com/p/95752b101582\" target=\"_blank\" rel=\"noopener\">webpack„ÄÅmanifest„ÄÅruntime„ÄÅÁºìÂ≠ò‰∏é CommonsChunkPlugin</a></p>\n</li>\n</ul>\n<h3 id=\"Á¨¨‰∏âÊñπÊ®°Âùó‰∏çÂêåÂÖºÂÆπÂ∫ìÈáçÂ§çÊâìÂåÖ\"><a href=\"#Á¨¨‰∏âÊñπÊ®°Âùó‰∏çÂêåÂÖºÂÆπÂ∫ìÈáçÂ§çÊâìÂåÖ\" class=\"headerlink\" title=\"Á¨¨‰∏âÊñπÊ®°Âùó‰∏çÂêåÂÖºÂÆπÂ∫ìÈáçÂ§çÊâìÂåÖ\"></a>Á¨¨‰∏âÊñπÊ®°Âùó‰∏çÂêåÂÖºÂÆπÂ∫ìÈáçÂ§çÊâìÂåÖ</h3><p><img src=\"https://img.mrsingsing.com/roadhog-performance-build-analyze.jpg\" alt=\"‰ºòÂåñÂâçÊâìÂåÖÁªìÊûú\"></p>\n<p>vendor ÊèêÂèñÁ¨¨‰∏âÊñπÊ®°ÂùóÂêéÔºåÂèëÁé∞Âá†‰∏™ÊØîËæÉÂ§ßÁöÑÈ°µÈù¢ËµÑÊ∫êÊñá‰ª∂Èáå‰ªçÁÑ∂Â≠òÂú® antd.lib ÁªÑ‰ª∂Â∫ìÁöÑ‰ª£Á†ÅÔºåËÄå‰∏îËøô‰∫õ <code>ant.lib</code> ÈÉΩÊòØÂÆåÊï¥‰∏Ä‰∏™Ê®°ÂùóË¢´ÊâìÂåÖËøõ‰∫ÜËøô‰∫õÈ°µÈù¢ÂΩì‰∏≠Ôºå‰ΩÜÂÖ∂ÂÆû AntDesign Â∑≤ÁªèË¢´ÊàëÂÆåÊï¥ÂçïÁã¨Âú∞ÊâìÂåÖÊàêÂè¶Â§ñ‰∏Ä‰∏™Êñá‰ª∂‰∫ÜÔºåËøô‰∏™ÊâìÂåÖÁöÑÊñá‰ª∂ÊòØÁî± <code>ant.es</code> ÊâìÂåÖÂá∫Êù•ÁöÑ„ÄÇ</p>\n<ul>\n<li>antd.es</li>\n<li>antd.lib</li>\n</ul>\n<p>ÈÄöËøáÂØπÊâìÂåÖÂêéÁöÑÊñá‰ª∂‰ª•Âèä‰∏öÂä°‰ª£Á†ÅÁöÑÊ£ÄÊü•ÔºåÂèëÁé∞ÊòØÂºïÁî® Antd ÁªÑ‰ª∂Â∫ìÂèëÁîü‰∫ÜÈóÆÈ¢òÔºåÁî±‰∫é‰ΩøÁî®‰∫Ü webpack-plugin-import Êèí‰ª∂ÔºåÂ∞Ü Antd ‰∏≠Âêç‰∏∫ es ÁöÑÁªÑ‰ª∂Â∫ìÊåâÈúÄÂä†ËΩΩÂπ∂ÈÄöËøá babel ËΩ¨ÂåñÁã¨Á´ãÊâìÂåÖÊàê vendorÔºåÂõ†Ê≠§ÂΩì‰ΩøÁî® <code>import {message} from &quot;antd/lib/index&quot;</code> ËøôÁßçÂÜôÊ≥ïÁöÑÊó∂ÂÄôÔºåÂΩìÂâçÈ°µÈù¢‰ºöÂ∞Ü Antd lib ÁõÆÂΩï‰∏ãÁöÑÁªÑ‰ª∂ÂÖ®ÈÉ®ÊâìÂåÖÔºåÈÄ†ÊàêÈ°µÈù¢ÊâìÂåÖÊñá‰ª∂ËáÉËÇø„ÄÇ</p>\n<p>‰π¶ÂÜôËßÑËåÉ<br>‰ΩøÁî®‰∫Ü extraBabelPlugins Â∞±‰ºöÊåâÈúÄÂä†ËΩΩ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// wrong</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; message &#125; <span class=\"keyword\">from</span> <span class=\"string\">'antd/lib/index'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; message &#125; <span class=\"keyword\">from</span> <span class=\"string\">'antd'</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"ÂøΩÁï•-moment-ËØ≠Ë®ÄÂåÖÁöÑÊâìÂåÖ\"><a href=\"#ÂøΩÁï•-moment-ËØ≠Ë®ÄÂåÖÁöÑÊâìÂåÖ\" class=\"headerlink\" title=\"ÂøΩÁï• moment ËØ≠Ë®ÄÂåÖÁöÑÊâìÂåÖ\"></a>ÂøΩÁï• moment ËØ≠Ë®ÄÂåÖÁöÑÊâìÂåÖ</h3><p><img src=\"https://img.mrsingsing.com/roadhog-performance-moment-locale.jpg\" alt=\"ÂøΩÁï• moment ËØ≠Ë®ÄÂåÖ\"></p>\n<p>ÊâìÂåÖÂêé moment ÂåÖÁöÑ‰ΩìÁßØÊØîËæÉÂ§ßÔºåÂÖ∂‰∏≠ locale ËØ≠Ë®ÄÂåÖÈÉ®ÂàÜÂç†ÊçÆ‰∫ÜÊØîËæÉÂ§ßÁöÑ‰ΩìÁßØÔºåÁî±‰∫éÊàë‰ª¨ÁöÑÈ°πÁõÆÊ≤°ÊúâÂõΩÈôÖÂåñÈúÄÊ±ÇÔºåÂõ†Ê≠§ÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆ roadhog Êèê‰æõÁöÑ <code>ignoreMomentLocale: true</code> ÂáèÂ∞ëÊâìÂåÖÂá∫Êù•ÁöÑ vendor Â∞∫ÂØ∏„ÄÇ</p>\n<p>‰ΩÜÊòØÔºåÂ¶ÇÊûúÈ°πÁõÆ‰∏≠‰ΩøÁî®Âà∞ AntDesign ÁªÑ‰ª∂ÔºåÂπ∂‰∏î‰ΩøÁî®Âà∞Êó∂Èó¥ÈÄâÊã©ÁªÑ‰ª∂ <code>date-picker</code>ÔºàÈªòËÆ§ÊòØËã±ÊñáÊñáÊ°àÔºâÔºåÈÇ£‰πàËøôÈáåÈúÄË¶ÅÂÅö‰∏Ä‰∫õÂ§ÑÁêÜ‰ª•‰ΩøÈ°πÁõÆ‰∏≠ÁªÑ‰ª∂ËÉΩÂ§üÊòæÁ§∫‰∏≠Êñá„ÄÇ</p>\n<p>ÊàëÊòØÂú®È°πÁõÆÊúÄ‰∏äÂ±ÇÔºåÂçïÁã¨ÂºïÂÖ• moment ÁöÑ‰∏≠ÊñáËØ≠Ë®ÄÂåÖ„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> moment <span class=\"keyword\">from</span> <span class=\"string\">'moment'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'moment/locale/zh-cn'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">moment.locale(<span class=\"string\">'zh-cn'</span>);</span><br></pre></td></tr></table></figure>\n<p>ËøôÊ†∑È°πÁõÆ‰∏≠‰ΩøÁî®Âà∞ moment Â∑•ÂÖ∑Â∫ìÁöÑ <code>date-picker</code> ÈÉΩ‰ºöÊòæÁ§∫‰∏≠ÊñáÊñáÊ°à„ÄÇ</p>\n<h3 id=\"ÂéãÁº©ËÄóÊó∂\"><a href=\"#ÂéãÁº©ËÄóÊó∂\" class=\"headerlink\" title=\"ÂéãÁº©ËÄóÊó∂\"></a>ÂéãÁº©ËÄóÊó∂</h3><p>È°πÁõÆÊûÑÂª∫ËøáÁ®ã‰ºöÂç°Âú® 91%ÔºåÈÄöËøáÊü•ÈòÖÁõ∏ÂÖ≥ËµÑÊñôÂíå‰∫ÜËß£Á§æÂå∫ÂèçÈ¶àÂêéÔºåÊòéÁ°ÆÂéüÂõ†‰∏∫ËØ•Èò∂ÊÆµ Webpack Ê≠£Âú®ÂØπ‰ª£Á†ÅËøõË°åÊ∑∑Ê∑ÜÂéãÁº©Êìç‰ΩúÔºå‰ΩÜÂêåÊó∂Áî±‰∫é Webpack ÁöÑÂéãÁº©Êèí‰ª∂ UglifyJS Êó†Ê≥ïÂØπ ES6+ ÁöÑ‰ª£Á†ÅËøõË°åÂéãÁº©ÔºåÈúÄË¶Å‰ΩøÁî® <a href=\"https://github.com/babel/minify\" target=\"_blank\" rel=\"noopener\">babel-minify</a> Ëé∑ÂèñÊõ¥Â•ΩÁöÑ treeshaking ÊïàÊûúÔºàËôΩÁÑ∂ Webpack4 Â∑≤ÁªèÊîØÊåÅ ES6+ ‰ª£Á†ÅÂéãÁº©Ôºå‰ΩÜÊòØÁõÆÂâç Roadhog ÈááÁî®ÁöÑÊòØ Webpack3+Ôºâ„ÄÇ</p>\n<p><a href=\"https://hackmd.io/YHK_yuRtT0ePPVLY0_kUzw\" target=\"_blank\" rel=\"noopener\">ÊûÑÂª∫ÈÄüÂ∫¶ÊÖ¢ÁöÑËß£ÂÜ≥ÊñπÊ≥ï@sorrycc</a></p>\n<p>‰ΩìÁé∞ÁâπÂæÅÔºö</p>\n<ul>\n<li>ÊûÑÂª∫ÈÄüÂ∫¶ÊÖ¢</li>\n<li>ÂÜÖÂ≠òÊ∂àËÄóÈ´ò</li>\n</ul>\n<p>Ëß£ÂÜ≥ÊñπÊ≥ïÔºö</p>\n<ul>\n<li>ÂáèÂ∞ë‰æùËµñÊñá‰ª∂<ul>\n<li>‰ºòÂåñ common ÊèêÂèñÁ≠ñÁï•ÔºåËÆ©Êï¥‰ΩìÂ∞∫ÂØ∏Â∞ΩÂèØËÉΩÂ∞ë</li>\n<li>externals Êéâ‰∏Ä‰∫õÂ§ßÁöÑÂ∫ìÔºåÈôç‰ΩéÊï¥‰ΩìÂ∞∫ÂØ∏</li>\n<li>Âà©Áî® webpack ÁöÑ TreeShaking + es moduleÔºåÊéíÈô§Êéâ‰∏Ä‰∫õÊ≤°ÊúâÁî®Âà∞ÁöÑÊ®°Âùó</li>\n</ul>\n</li>\n<li>ÂáèÂ∞ëÈúÄË¶ÅÂéãÁº©ÁöÑÊñá‰ª∂</li>\n</ul>\n<h3 id=\"Â§ñÈÉ®Êâ©Â±ï\"><a href=\"#Â§ñÈÉ®Êâ©Â±ï\" class=\"headerlink\" title=\"Â§ñÈÉ®Êâ©Â±ï\"></a>Â§ñÈÉ®Êâ©Â±ï</h3><p>externals ÊòØÈùûÂ∏∏ÊúâÊïàÁöÑ‰∏Ä‰∏™ÊñπÊ°àÔºåÂèØ‰ª•‰∏Ä‰∏ãÂ≠êÂáèÂ∞ëÂ§ßÈáèÈúÄË¶ÅÁºñËØë„ÄÅÂéãÁº©ÁöÑÊ®°Âùó„ÄÇÂ∞Ü‰∏Ä‰∫õ‰∏çÂ∏∏Êõ¥Êñ∞ÁâàÊú¨ÊØîËæÉÁ®≥ÂÆöÁöÑÊ®°ÂùóÊñá‰ª∂Áõ¥Êé•Ê≥®ÂÖ• HMTL Êñá‰ª∂ÔºåÂΩìËØªÂèñÂà∞ËØ•ËÑöÊú¨Êó∂Â∞ÜËá™Âä®Âä†ËΩΩÔºåËøô‰∏ç‰ªÖËÉΩÂä†Âø´ÊûÑÂª∫ÈÄüÂ∫¶ÔºåËÄå‰∏îËÉΩÂ§üÂà©Áî® CDN ËøõË°åËµÑÊ∫êÁºìÂ≠ò„ÄÇ</p>\n<p>‰ΩÜÊòØ‰ºöÂ∏¶Êù•ÁöÑÈóÆÈ¢òÊòØÔºö</p>\n<ul>\n<li>Êó†Ê≥ïÂà©Áî® Webpack ÁöÑ Tree-Shaking</li>\n<li>Â§ö‰∏™Â∫ì‰πãÈó¥Â¶ÇÊûúÂ≠òÂú®ÂÖ¨ÂÖ±Ê®°ÂùóÔºàÊØîÂ¶Ç lodashÔºâÔºåÂ∞±Êó†Ê≥ïÂ§çÁî®</li>\n</ul>\n<p>‰ΩøÁî® externals ÈúÄË¶ÅÂú® HTML ÈáåÂºïÁî®È¢ùÂ§ñÁöÑ JS Êñá‰ª∂ÔºåËøôÈáå‰πüÊúâÂá†‰∏™ÊΩúÂú®ÁöÑÈóÆÈ¢òÔºö</p>\n<ul>\n<li>Â¶ÇÊûú‰Ω†ÁöÑ CDN ‰∏çÊîØÊåÅ ComboÔºåÂπ∂‰∏î‰∏çÊòØ http/2ÔºåÈÇ£‰πàÈÄüÂ∫¶‰ºöÂæàÊÖ¢</li>\n<li>‰Ω†ÈúÄË¶ÅÊâãÂä®Áª¥Êä§‰∏Ä‰ªΩ CDN Êñá‰ª∂ÂàóË°®ÔºåÂπ∂‰∏îË∑üËøõ‰ªñ‰ª¨ÁöÑÊõ¥Êñ∞Ôºå‰πüÊòØ‰ª∂È∫ªÁÉ¶ÁöÑ‰∫ãÊÉÖ</li>\n</ul>\n<p>ËøôÈáå‰∏ªË¶ÅÂ∞Ü‰∏â‰∏™Â∞∫ÂØ∏ËæÉÂ§ß‰∏îÊØîËæÉÂ∞ëÈ°πÁõÆÈ°µÈù¢ÂºïÁî®ÁöÑÊ®°Âùó externals Êéâ„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">externals: &#123;</span><br><span class=\"line\">    <span class=\"string\">'ali-oss'</span>: <span class=\"string\">'window.OSS'</span>,</span><br><span class=\"line\">    <span class=\"string\">'react'</span>: <span class=\"string\">'window.react'</span>,</span><br><span class=\"line\">    <span class=\"string\">'react-dom'</span>: <span class=\"string\">'window.ReactDOM'</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"È°πÁõÆÊ†∑ÂºèÊñá‰ª∂ÂáèÂ∞ë\"><a href=\"#È°πÁõÆÊ†∑ÂºèÊñá‰ª∂ÂáèÂ∞ë\" class=\"headerlink\" title=\"È°πÁõÆÊ†∑ÂºèÊñá‰ª∂ÂáèÂ∞ë\"></a>È°πÁõÆÊ†∑ÂºèÊñá‰ª∂ÂáèÂ∞ë</h3><p>ExtractTextPlugin ÊèêÂèñ CSS (antd + ‰∏öÂä°)</p>\n<p>ËÉΩÁî®ÂÖ¨ÂÖ±Â∞±Áî®ÂÖ¨ÂÖ±ÔºàÂõ†‰∏∫Â§ßÈÉ®ÂàÜÁöÑÈ°µÈù¢ÁöÑÊ†∑ÂºèÂá†‰πé‰∏ÄÊ†∑ÔºâÔºå‰∏çÁÑ∂ÊØè‰∏™È°µÈù¢ÂºÄ‰∏Ä‰∏™ less ÂºïÁî®ÂÖ¨ÂÖ±Ôºå‰ºöÈáçÂ§çÊâìÂåÖÔºåÈÄ†ÊàêÂÜó‰Ωô„ÄÇ</p>\n<h3 id=\"Gzip-‰º†ËæìÂéãÁº©\"><a href=\"#Gzip-‰º†ËæìÂéãÁº©\" class=\"headerlink\" title=\"Gzip ‰º†ËæìÂéãÁº©\"></a>Gzip ‰º†ËæìÂéãÁº©</h3><p>gzip ÈúÄË¶ÅÂú®ÊúçÂä°Âô®ÈÖçÁΩÆÂºÄÂêØ</p>\n<p>ËøôÈáåÊèê‰æõ‰∏ÄÁßç Nginx ÁöÑÈÖçÁΩÆ„ÄÇ<a href=\"https://blog.csdn.net/qq_36030288/article/details/54576503\" target=\"_blank\" rel=\"noopener\">‰º†ÈÄÅÈó®</a></p>\n<p><a href=\"https://www.cnblogs.com/zs-note/p/9556390.html\" target=\"_blank\" rel=\"noopener\">ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÔºögzip ÂéãÁº©Êñá‰ª∂‰º†ËæìÊï∞ÊçÆ</a></p>\n<h2 id=\"‰ºòÂåñÊïàÊûúÂàÜÊûê\"><a href=\"#‰ºòÂåñÊïàÊûúÂàÜÊûê\" class=\"headerlink\" title=\"‰ºòÂåñÊïàÊûúÂàÜÊûê\"></a>‰ºòÂåñÊïàÊûúÂàÜÊûê</h2><p><img src=\"https://img.mrsingsing.com/roadhog-performance-optimizition-result.jpg\" alt=\"‰ºòÂåñÊïàÊûúÂàÜÊûê\"></p>\n<ul>\n<li>ÂºÄÂèë‰ΩìÈ™åÔºö70s =&gt; 20s ÂêØÂä®È°πÁõÆÊó∂Èó¥ÊèêÂçá 71%</li>\n<li>ÊûÑÂª∫ÈÄüÂ∫¶Ôºö382s =&gt; 40s È°πÁõÆÊûÑÂª∫ÈÄüÂ∫¶ÊèêÂçá 89%</li>\n<li>ËµÑÊ∫êÊñá‰ª∂Ôºö88MbÔºàÊú™ÂºÄÂêØ GzipÔºâ =&gt; 25MbÔºàÂºÄÂêØ GzipÔºâ =&gt; 1MbÔºà‰ºòÂåñÂêéÂºÄÂêØ GzipÔºâ ËµÑÊ∫êÊñá‰ª∂Â∞∫ÂØ∏Â§ßÂπÖÂ∫¶Èôç‰Ωé</li>\n</ul>\n<h2 id=\"ÂêéÁª≠ÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò\"><a href=\"#ÂêéÁª≠ÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò\" class=\"headerlink\" title=\"ÂêéÁª≠ÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò\"></a>ÂêéÁª≠ÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò</h2><h3 id=\"ÂçïÁã¨ÊâìÂåÖÁöÑ-AntDesign-Â∞∫ÂØ∏ËøáÂ§ß\"><a href=\"#ÂçïÁã¨ÊâìÂåÖÁöÑ-AntDesign-Â∞∫ÂØ∏ËøáÂ§ß\" class=\"headerlink\" title=\"ÂçïÁã¨ÊâìÂåÖÁöÑ AntDesign Â∞∫ÂØ∏ËøáÂ§ß\"></a>ÂçïÁã¨ÊâìÂåÖÁöÑ AntDesign Â∞∫ÂØ∏ËøáÂ§ß</h3><ul>\n<li>ÂèØËßÜÂåñÂàÜÊûêÂ∞∫ÂØ∏ËæÉÂ§ßÁöÑÊñá‰ª∂ÂåÖÊã¨ rc-editor-core / draft.js Á≠â</li>\n<li>ÈÄöËøá‰æùËµñÊâæÂà∞Ê†πÊ∫êÊòØ rc-editor-mention =&gt; rc-editor-core =&gt; draft-js Êù•Ëá™ Mention ÁªÑ‰ª∂Ôºå‰ΩÜÊòØÈ°πÁõÆ‰∏≠Âπ∂Ê≤°Êúâ‰ΩøÁî®Âà∞</li>\n<li>ÂæóÂá∫ÁªìÊûúÊèêÂèñÊâìÂåÖÂ∞ÜÊï¥‰∏™ÁªÑ‰ª∂Â∫ìÈÉΩÊâìÂåÖËøõÊù•‰∫Ü</li>\n</ul>\n<p>Á§æÂå∫‰∏≠ÊúâÂèçÂ∫îÂ∏åÊúõÊèêÂèñÂÖ¨ÂÖ±Ê®°ÂùóÊâìÂåÖÊó∂Â∞ÜÂÖ∂‰∏≠Êüê‰∫õÈÉ®ÂàÜÂøΩÁï•‰∏çÊâìÂåÖÔºåËÄåÁª¥Êä§ËÄÖ‰ºº‰πéÂëäÁü•ÈúÄË¶Å‰ΩøÁî® <code>babel-plugin-import</code> ÊåâÈúÄÂºïÁî®ÔºåÂπ∂Ê≤°Êèê‰æõÊèêÂèñÂÖ¨ÂÖ±Ê®°ÂùóÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ <a href=\"https://github.com/ant-design/ant-design/issues/10180\" target=\"_blank\" rel=\"noopener\">‰º†ÈÄÅÈó®</a></p>\n<h2 id=\"ÂèÇËÄÉËµÑÊñô\"><a href=\"#ÂèÇËÄÉËµÑÊñô\" class=\"headerlink\" title=\"ÂèÇËÄÉËµÑÊñô\"></a>ÂèÇËÄÉËµÑÊñô</h2><ul>\n<li><a href=\"https://github.com/sorrycc/roadhog/issues/370\" target=\"_blank\" rel=\"noopener\">ÊîØÊåÅ vendor ÁöÑÈÖçÁΩÆ Issue #370</a></li>\n<li><a href=\"https://github.com/sorrycc/roadhog/issues/577\" target=\"_blank\" rel=\"noopener\">roadhog2 Â¶Ç‰ΩïÊàêÂäüÊèêÂèñ vendor ¬∑ Issue #577</a></li>\n<li><a href=\"https://github.com/sorrycc/roadhog/issues/722\" target=\"_blank\" rel=\"noopener\">ÁºñËØëÂæàÊÖ¢ #722</a></li>\n<li><a href=\"https://github.com/liangxinwei/blog/blob/master/webpack/2.md\" target=\"_blank\" rel=\"noopener\">roadhog 1.3x ÊâìÂåÖÊÖ¢ÁöÑËß£ÂÜ≥ÂäûÊ≥ï</a></li>\n<li><a href=\"http://www.mamicode.com/info-detail-2413081.html\" target=\"_blank\" rel=\"noopener\">Roadhog ÊûÑÂª∫‰ºòÂåñ</a></li>\n<li><a href=\"https://www.itcodemonkey.com/article/12011.html\" target=\"_blank\" rel=\"noopener\">JS/CSS ‰ΩìÁßØÂáèÂ∞ë‰∫Ü 67%ÔºåÊàë‰ª¨ÊòØÂ¶Ç‰ΩïÂÅöÂà∞ÁöÑÔºü</a></li>\n<li><a href=\"https://github.com/creeperyang/blog/issues/37\" target=\"_blank\" rel=\"noopener\">Webpack Êó•Â∏∏‰ΩøÁî®‰∏é‰ºòÂåñ</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<h2 id=\"ÊäÄÊúØÈÄâÂûã\"><a href=\"#ÊäÄÊúØÈÄâÂûã\" class=\"headerlink\" title=\"ÊäÄÊúØÈÄâÂûã\"></a>ÊäÄÊúØÈÄâÂûã</h2><p>ÁõÆÂâçÊàëÂè∏ÂêéÂè∞Á≥ªÁªüÈááÁî®Âü∫‰∫é <a href=\"https://github.com/webpack/webpack\" target=\"_blank\" rel=\"noopener\">Webpack</a> ‰∏∫Â∫ïÂ±ÇÂ∞ÅË£ÖÁöÑÊâìÂåÖÂ∑•ÂÖ∑ <a href=\"https://github.com/sorrycc/roadhog\" target=\"_blank\" rel=\"noopener\">roadhog</a>„ÄÇÂºÄÂèëËÄÖÈÄöËøáÂ∑•ÂÖ∑Êö¥Èú≤ÁöÑÊúâÈôêÁöÑÂèØÈÖçÁΩÆÂèÇÊï∞ÔºåÂèØ‰ª•ÁÆÄÂçïÊòé‰∫ÜÂú∞ÈíàÂØπÈ°πÁõÆÈúÄË¶ÅËøõË°åËá™ÂÆö‰πâÈÖçÁΩÆ„ÄÇËØ•Ê¨æÂ∑•ÂÖ∑ÁöÑÁõÆÁöÑÂæàÊòéÁ°ÆÔºåÂ∞±ÊòØ‰∏∫‰∫ÜÁÆÄÂåñ webpack ÁöÑÈÖçÁΩÆ„ÄÇËøôÂØπ‰∫éÂÖ•Èó®Á∫ßÂà´ÁöÑÂ∑•Á®ãÂ∏àÊòØÈùûÂ∏∏ÂèãÂ•ΩÁöÑÔºåÂõ†‰∏∫Èôç‰Ωé‰∫ÜÂ≠¶‰π† webpack ÁöÑÊàêÊú¨ÔºåÂÖçÂéªÊç£Èºì webpack Â§çÊùÇÁöÑÈÖçÁΩÆÔºåÊñπ‰æøÂºÄÂèëËÄÖÂø´ÈÄüËøõÂÖ•ÂºÄÂèëÊµÅÁ®ã„ÄÇ</p>\n<p>‰ªéÁõÆÂâçÈ°πÁõÆÁâàÊú¨ÁöÑ <code>package.json</code> Âêë‰∏äÂ±Ç‰æùËµñÊ∫ØÊ∫êÂèØ‰ª•ÂæóÂá∫ËøôÊ†∑ÁöÑ‰æùËµñÂÖ≥Á≥ªÔºö</p>\n<blockquote>\n<p>roadhog^2.4.2 =&gt; af-webpack^0.23.0-beta.1 =&gt; webpack^3.56</p>\n</blockquote>\n<p>roadhog Âü∫‰∫é <a href=\"https://github.com/umijs/umi/tree/master/packages/af-webpack\" target=\"_blank\" rel=\"noopener\"><code>umi/af-webpack</code></a> ‰Ωú‰∏∫Â∫ïÂ±Ç„ÄÇ‰ªéÁ§æÂå∫ÂèçÈ¶àÁöÑ‰ø°ÊÅØÂæóÁü•ÔºåÁé∞Êó∂Ôºà2019.1Ôºâ‰ΩúËÄÖÁöÑÂ∑•‰ΩúÈáçÁÇπÈÉΩÂú® <a href=\"https://github.com/umijs/umi\" target=\"_blank\" rel=\"noopener\">umi</a>ÔºåËÄå roadhog Êó†ÊâìÁÆóËø≠‰ª£ÂçáÁ∫ßÁöÑÊâìÁÆó„ÄÇÂç≥‰æøÂ∞Ü roadhog ÂçáÁ∫ßËá≥ÊúÄÊñ∞ÁâàÊú¨ÔºåÊâÄ‰æùËµñÁöÑÂ∫ïÂ±Ç webpack ÁöÑÁâàÊú¨‰πüÂè™ÊòØ 3.5.6Ôºåwebpack4+ ÁöÑ‰ºòÂåñÈÖçÁΩÆÂùáÊó†Ê≥ï‰ΩøÁî®„ÄÇÁî±‰∫éÂ∑•ÂÖ∑ÊñáÊ°£Êèê‰æõ‰ø°ÊÅØÊúâÈôêÔºåÂõ†Ê≠§Ë¶ÅÂ∞Ü‰ºòÂåñËøõË°åÂà∞ÊûÅËá¥‰ªéÊ∫êÁ†Å‰æùËµñÁùÄÊâãÊé®Âä®È°πÁõÆÊûÑÂª∫‰ºòÂåñÊòØÂÖç‰∏ç‰∫ÜÁöÑÂ∑•‰Ωú„ÄÇ</p>\n<h2 id=\"ÊûÑÂª∫Áé∞ÂÜµÂàÜÊûê\"><a href=\"#ÊûÑÂª∫Áé∞ÂÜµÂàÜÊûê\" class=\"headerlink\" title=\"ÊûÑÂª∫Áé∞ÂÜµÂàÜÊûê\"></a>ÊûÑÂª∫Áé∞ÂÜµÂàÜÊûê</h2><blockquote>\n<p>ÁâàÊú¨ release/2.29.0</p>\n</blockquote>\n<p><strong>ÂàÜÊûêÊùêÊñô</strong></p>\n<ul>\n<li>ÈÄöËøá <a href=\"https://github.com/webpack-contrib/webpack-bundle-analyzer\" target=\"_blank\" rel=\"noopener\">webpack-bundle-analyzer</a> ÂØπÊâìÂåÖÊ®°ÂùóËøõË°åÂèØËßÜÂåñÂàÜÊûê</li>\n<li>ÂØπÊâìÂåÖÂá∫Êù•ÂêéÁöÑËµÑÊ∫êÊñá‰ª∂ËøõË°åÂàÜÊûê</li>\n<li>È°πÁõÆÁªÑÁªáÁªìÊûÑÂàÜÊûê</li>\n</ul>\n<p><strong>ÊûÑÂª∫ÊÉÖÂÜµÂàÜÊûê</strong></p>\n<ul>\n<li>ÊûÑÂª∫ÂÜÖÂ≠òÂç†Áî®ËøáÈ´òÔºö130% ÈúÄË¶ÅÁªô node ÈÖçÁΩÆÊõ¥Â§öÂÜÖÂ≠òÈò≤Ê≠¢ÂÜÖÂ≠òÊ∫¢Âá∫ÂØºËá¥Â§±Ë¥•</li>\n<li>ÊûÑÂª∫ËøõÂ∫¶ËßÇÂØüÔºöÂç°Âú® 10%„ÄÅ86%„ÄÅ<strong>91%</strong></li>\n<li>ÊûÑÂª∫‰ΩøÁî®Êó∂Èó¥Ôºö407s 366s 386s 380s 372s =&gt; Âπ≥Âùá 382s</li>\n<li>ÈùôÊÄÅËµÑÊ∫êÊï∞ÈáèÔºöÂàÜÂâ≤ÊàêÂÖ± 92 ‰∏™ËµÑÊ∫êÊñá‰ª∂ÔºàÂåÖÊã¨ÂÖ•Âè£Êñá‰ª∂Ôºå‰ΩÜÈô§ÂéªÈªòËÆ§Êã∑Ë¥ùËæìÂá∫ÁöÑÊñá‰ª∂Ôºâ</li>\n<li>ÈùôÊÄÅËµÑÊ∫êÂ§ßÂ∞è<ul>\n<li>StartÔºöÊÄª 150MBÔºåÂπ≥ÂùáÔºåÊúÄÂ§ß 5.05MB</li>\n<li>ParsedÔºöÊÄª 88MBÔºåÂπ≥ÂùáÔºåÊúÄÂ§ß 2.48MB</li>\n<li>GzippedÔºöÊÄª 25MBÔºåÂπ≥ÂùáÔºåÊúÄÂ§ß 686.48KB</li>\n</ul>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>ÈùôÊÄÅËµÑÊ∫êÂ§ßÂ∞è</th>\n<th>Êï∞Èáè</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>&gt;2MB</td>\n<td>5</td>\n</tr>\n<tr>\n<td>&gt;1MB</td>\n<td>24</td>\n</tr>\n<tr>\n<td>&gt;500KB</td>\n<td>60</td>\n</tr>\n</tbody>\n</table>","more":"<h2 id=\"È°πÁõÆÊûÑÂª∫‰ºòÂåñÊñπÊ°à\"><a href=\"#È°πÁõÆÊûÑÂª∫‰ºòÂåñÊñπÊ°à\" class=\"headerlink\" title=\"È°πÁõÆÊûÑÂª∫‰ºòÂåñÊñπÊ°à\"></a>È°πÁõÆÊûÑÂª∫‰ºòÂåñÊñπÊ°à</h2><p>ÊåâÁÖß <a href=\"https://github.com/pigcan/blog/issues/1\" target=\"_blank\" rel=\"noopener\">Webpack ÊûÑÂª∫ÊÄßËÉΩ‰ºòÂåñÊé¢Á¥¢</a> Êèê‰æõÁöÑÊÄùË∑ØÔºåÂèØ‰ª•‰ªéÂõõ‰∏™Áª¥Â∫¶ÁùÄÊâãÈ°πÁõÆÊûÑÂª∫ÁöÑ‰ºòÂåñÔºö</p>\n<ul>\n<li>‰ªéÁéØÂ¢ÉÁùÄÊâãÔºåÊèêÂçá‰∏ãËΩΩ‰æùËµñÈÄüÂ∫¶</li>\n<li>‰ªéÈ°πÁõÆËá™Ë∫´ÁùÄÊâãÔºå‰ª£Á†ÅÁªÑÁªáÊòØÂê¶ÂêàÁêÜÔºå‰æùËµñ‰ΩøÁî®ÊòØÂê¶ÂêàÁêÜÔºåÂèçÈù¢ÊèêÂçáÊïàÁéá</li>\n<li>‰ªé Webpack Ëá™Ë∫´‰ºòÂåñÊâãÊÆµÁùÄÊâãÔºå‰ºòÂåñÈÖçÁΩÆÔºåÊèêÂçá Webpack ÊïàÁéá</li>\n<li>‰ªé Webpack ÂèØËÉΩÂ≠òÂú®ÁöÑ‰∏çË∂≥ÁùÄÊâãÔºå‰ºòÂåñ‰∏çË∂≥ÔºåËøõ‰∏ÄÊ≠•ÊèêÂçáÊïàÁéá</li>\n</ul>\n<h3 id=\"ÂéªÈô§Â∫üÂºÉ‰æùËµñ\"><a href=\"#ÂéªÈô§Â∫üÂºÉ‰æùËµñ\" class=\"headerlink\" title=\"ÂéªÈô§Â∫üÂºÉ‰æùËµñ\"></a>ÂéªÈô§Â∫üÂºÉ‰æùËµñ</h3><p>ËßÇÂØü <code>package.json</code>ÔºåÂèëÁé∞‰∏Ä‰∫õÈ°πÁõÆ‰∏≠Â∫üÂºÉÁöÑ‰æùËµñÂπ∂Ê≤°ÊúâÂèäÊó∂Â§ÑÁêÜÔºåÂõ†Ê≠§ÊääÊó†Áî®ÁöÑÂíåÈáçÂ§çÂÆâË£ÖÁöÑ‰æùËµñÂéªÈô§„ÄÇ</p>\n<h3 id=\"ÊèêÂèñÁ¨¨‰∏âÊñπÂÖ¨ÂÖ±Ê®°Âùó\"><a href=\"#ÊèêÂèñÁ¨¨‰∏âÊñπÂÖ¨ÂÖ±Ê®°Âùó\" class=\"headerlink\" title=\"ÊèêÂèñÁ¨¨‰∏âÊñπÂÖ¨ÂÖ±Ê®°Âùó\"></a>ÊèêÂèñÁ¨¨‰∏âÊñπÂÖ¨ÂÖ±Ê®°Âùó</h3><p>Ê≠§ÂâçÈ°πÁõÆ‰∏≠È°µÈù¢‰ª£Á†ÅÊ†πÊçÆË∑ØÁî±ÊåâÈúÄÂä†ËΩΩÔºåÊØè‰∏™È°µÈù¢ route Âíå model ÂºïÁî®ÁöÑÁ¨¨‰∏âÊñπÊ®°ÂùóÔºå‰æãÂ¶Ç <code>react</code>„ÄÅ<code>dva</code>„ÄÅ<code>query-string</code>„ÄÅ<code>antd</code>„ÄÅ<code>moment</code> Á≠âÔºåÈÉΩ‰ºöÂú®ÂêÑËá™ÁöÑÈ°µÈù¢‰∏≠ÈáçÂ§çÊâìÂåÖ‰∏Ä‰ªΩÔºåËøôÂ∞±ÂØºËá¥Ê†πÊçÆÈ°µÈù¢ÂàÜÂâ≤ÁöÑËµÑÊ∫êÊñá‰ª∂Â∞∫ÂØ∏ËæÉÂ§ßÔºåÂÜó‰Ωô‰ª£Á†ÅËæÉÂ§ö„ÄÇ</p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØÔºåÈ°πÁõÆ‰∏≠‰ΩøÁî®ÁöÑ <a href=\"https://github.com/ant-design/ant-design\" target=\"_blank\" rel=\"noopener\">AntDesign</a> ÁªÑ‰ª∂ÔºåÂ∞ΩÁÆ°ÈÄöËøá <a href=\"https://github.com/ant-design/babel-plugin-import\" target=\"_blank\" rel=\"noopener\">babel-plugin-import</a> ÂÆûÁé∞‰∫ÜÁªÑ‰ª∂Ê®°ÂùóÁöÑÊåâÈúÄÂä†ËΩΩÔºåÈ°µÈù¢ÂºïÁî®Âπ∂‰∏ç‰ºöÂ∞ÜÂÆåÊï¥ÁöÑ AntDesign ÂºïÂÖ•„ÄÇ‰ΩÜÊòØÁî±‰∫éÂºÄÂßãÊó∂ÂÄôÂ§ßÈÉ®ÂàÜÈ°µÈù¢ÈÉΩ‰∏ç‰ºö‰ªéÈõ∂ÂºÄÂßãÂÜôÔºåËÄåÊòØ‰ºöÈÄâÊã©ÁßªÊ§çÁõ∏‰ººÈ°µÈù¢ÁöÑÈÄªËæëÂÜçÂä†‰ª•‰øÆÊîπÔºåÂõ†Ê≠§‰ºöÂØºËá¥Áõ∏ÂΩì‰∏ÄÈÉ®ÂàÜÈ°µÈù¢‰ºöÂ∞ÜÊ≤°Êúâ‰ΩøÁî®Âà∞ÁöÑÁªÑ‰ª∂ËøõË°åÊâìÂåÖÔºåÂêåÊ†∑‰ºöÈÄ†ÊàêÂÜó‰Ωô„ÄÇ</p>\n<p>Âõ†Ê≠§ÔºåÊï¥‰∏™È°πÁõÆÁöÑÊÄßËÉΩ‰ºòÂåñÂøÖÁÑ∂‰ªéËµÑÊ∫ê‰æùËµñÁöÑÁ¨¨‰∏âÊñπÂ∫ìÁùÄÊâãÔºåÊèêÂâçÁºñËØëÊèêÂèñ„ÄÇ</p>\n<p>ÂàÜÊûê <code>package.json</code> ÂèØ‰ª•ÂæóÁü•Êï¥‰∏™È°πÁõÆ‰æùËµñ‰∏ªË¶ÅÊúâÂá†‰∏™ÈÉ®ÂàÜÔºö</p>\n<ul>\n<li><a href=\"https://github.com/ant-design/ant-design\" target=\"_blank\" rel=\"noopener\">antd</a> Âü∫Á°Ä UI ÁªÑ‰ª∂Â∫ì üìå</li>\n<li><a href=\"https://github.com/dvajs/dva\" target=\"_blank\" rel=\"noopener\">dva</a> Êï∞ÊçÆÁÆ°ÁêÜÊ°ÜÊû∂</li>\n<li><a href=\"https://github.com/moment/moment\" target=\"_blank\" rel=\"noopener\">moment</a> Êó∂Èó¥Êìç‰ΩúÂ∑•ÂÖ∑Â∫ì üìå</li>\n<li><a href=\"https://github.com/ali-sdk/ali-oss\" target=\"_blank\" rel=\"noopener\">ali-oss</a> ÈòøÈáå‰∫ë OSS Êèí‰ª∂</li>\n<li><a href=\"https://github.com/facebook/react\" target=\"_blank\" rel=\"noopener\">react</a> ÁïåÈù¢Ê°ÜÊû∂</li>\n<li>react-dom</li>\n<li>react-router-dom</li>\n<li>universal-cookie</li>\n<li>‚Ä¶Á≠âÁ≠â</li>\n</ul>\n<p>roadhog Êö¥Èú≤‰∫Ü commons ÂèÇÊï∞ÂØπÂ∫î Webpack ‰∏≠ plugins ÁöÑÂ§ö‰∏™ <code>webpack.CommonsChunkPlugin</code> ÂÆû‰æã„ÄÇ‰∏ãÈù¢Êúâ‰∏§ÁßçÂèØÈÄâÊã©ÁöÑÊñπÊ°à‰æõÂÆûÁé∞Ôºö</p>\n<ul>\n<li>Ë¢´Ëá≥Â∞ëÂõ∫ÂÆö‰∏™Êï∞ÔºàÈªòËÆ§‰∏§‰∏™Ôºâ entry/page ‰æùËµñÂç≥ÊèêÂèñÂÖ¨ÂÖ±ÔºåËøôÊ†∑ common ÂÖ¨ÂÖ±Ê®°Âùó‰ºöÊØîËæÉÂ§ßÔºåÈ°πÁõÆÊï¥‰ΩìÂ∞∫ÂØ∏ÊúÄÂ∞èÔºå‰ΩÜÈ°µÈù¢È¶ñÂ±èÊ∏≤ÊüìÈúÄË¶ÅÂä†ËΩΩÁöÑËµÑÊ∫êÂ∞∫ÂØ∏‰ºöÊØîËæÉÂ§ß</li>\n<li>Ë¢´ÊâÄÊúâ entry/page ‰æùËµñÊâçÊèêÂèñ‰∏∫ÂÖ¨ÂÖ±ÔºåËøôÊ†∑ common ÂÖ¨ÂÖ±Ê®°ÂùóÊØîËæÉÂ∞èÔºåÈ°πÁõÆÊï¥‰ΩìÂ∞∫ÂØ∏ËæÉÂ§ß</li>\n</ul>\n<p>ÊúÄÁªàÂÜ≥ÂÆöÂ∞ÜÊâÄÊúâ‰æùËµñÁöÑÁ¨¨‰∏âÊñπÊ®°ÂùóÊèêÂâçÊâìÂåÖÔºåÂú®Áî®Êà∑ËÆøÈóÆÈ°µÈù¢Êó∂ÈúÄË¶ÅÂ∞ÜÂü∫Á°ÄÂ∑•ÂÖ∑ÂíåÂü∫Á°ÄÁªÑ‰ª∂ÁöÑÊâìÂåÖÊñá‰ª∂ÂÖàÂä†ËΩΩÔºåÂêéÁª≠Áî®Êà∑ÁïåÈù¢ËµÑÊ∫êÊñá‰ª∂Âä†ËΩΩÂ∞±‰ºöÁõ∏ÂØπÂè¶‰∏ÄÁßçÊñπÊ°à‰ºöÊõ¥Âä†Âø´ÈÄü„ÄÇ</p>\n<p>Áõ∏ÂÖ≥Êâ©Â±ïÔºö</p>\n<ul>\n<li><p><a href=\"https://segmentfault.com/a/1190000012828879\" target=\"_blank\" rel=\"noopener\">ËØ¶Ëß£ CommonsChunkPlugin ÁöÑÈÖçÁΩÆÂíåÁî®Ê≥ï</a></p>\n</li>\n<li><p><a href=\"https://juejin.im/post/5c2205e15188257507558c5a\" target=\"_blank\" rel=\"noopener\">webpack.optimize.CommonsChunkPlugin ËØ¶Ëß£</a></p>\n</li>\n<li><p><a href=\"https://www.jianshu.com/p/95752b101582\" target=\"_blank\" rel=\"noopener\">webpack„ÄÅmanifest„ÄÅruntime„ÄÅÁºìÂ≠ò‰∏é CommonsChunkPlugin</a></p>\n</li>\n</ul>\n<h3 id=\"Á¨¨‰∏âÊñπÊ®°Âùó‰∏çÂêåÂÖºÂÆπÂ∫ìÈáçÂ§çÊâìÂåÖ\"><a href=\"#Á¨¨‰∏âÊñπÊ®°Âùó‰∏çÂêåÂÖºÂÆπÂ∫ìÈáçÂ§çÊâìÂåÖ\" class=\"headerlink\" title=\"Á¨¨‰∏âÊñπÊ®°Âùó‰∏çÂêåÂÖºÂÆπÂ∫ìÈáçÂ§çÊâìÂåÖ\"></a>Á¨¨‰∏âÊñπÊ®°Âùó‰∏çÂêåÂÖºÂÆπÂ∫ìÈáçÂ§çÊâìÂåÖ</h3><p><img src=\"https://img.mrsingsing.com/roadhog-performance-build-analyze.jpg\" alt=\"‰ºòÂåñÂâçÊâìÂåÖÁªìÊûú\"></p>\n<p>vendor ÊèêÂèñÁ¨¨‰∏âÊñπÊ®°ÂùóÂêéÔºåÂèëÁé∞Âá†‰∏™ÊØîËæÉÂ§ßÁöÑÈ°µÈù¢ËµÑÊ∫êÊñá‰ª∂Èáå‰ªçÁÑ∂Â≠òÂú® antd.lib ÁªÑ‰ª∂Â∫ìÁöÑ‰ª£Á†ÅÔºåËÄå‰∏îËøô‰∫õ <code>ant.lib</code> ÈÉΩÊòØÂÆåÊï¥‰∏Ä‰∏™Ê®°ÂùóË¢´ÊâìÂåÖËøõ‰∫ÜËøô‰∫õÈ°µÈù¢ÂΩì‰∏≠Ôºå‰ΩÜÂÖ∂ÂÆû AntDesign Â∑≤ÁªèË¢´ÊàëÂÆåÊï¥ÂçïÁã¨Âú∞ÊâìÂåÖÊàêÂè¶Â§ñ‰∏Ä‰∏™Êñá‰ª∂‰∫ÜÔºåËøô‰∏™ÊâìÂåÖÁöÑÊñá‰ª∂ÊòØÁî± <code>ant.es</code> ÊâìÂåÖÂá∫Êù•ÁöÑ„ÄÇ</p>\n<ul>\n<li>antd.es</li>\n<li>antd.lib</li>\n</ul>\n<p>ÈÄöËøáÂØπÊâìÂåÖÂêéÁöÑÊñá‰ª∂‰ª•Âèä‰∏öÂä°‰ª£Á†ÅÁöÑÊ£ÄÊü•ÔºåÂèëÁé∞ÊòØÂºïÁî® Antd ÁªÑ‰ª∂Â∫ìÂèëÁîü‰∫ÜÈóÆÈ¢òÔºåÁî±‰∫é‰ΩøÁî®‰∫Ü webpack-plugin-import Êèí‰ª∂ÔºåÂ∞Ü Antd ‰∏≠Âêç‰∏∫ es ÁöÑÁªÑ‰ª∂Â∫ìÊåâÈúÄÂä†ËΩΩÂπ∂ÈÄöËøá babel ËΩ¨ÂåñÁã¨Á´ãÊâìÂåÖÊàê vendorÔºåÂõ†Ê≠§ÂΩì‰ΩøÁî® <code>import {message} from &quot;antd/lib/index&quot;</code> ËøôÁßçÂÜôÊ≥ïÁöÑÊó∂ÂÄôÔºåÂΩìÂâçÈ°µÈù¢‰ºöÂ∞Ü Antd lib ÁõÆÂΩï‰∏ãÁöÑÁªÑ‰ª∂ÂÖ®ÈÉ®ÊâìÂåÖÔºåÈÄ†ÊàêÈ°µÈù¢ÊâìÂåÖÊñá‰ª∂ËáÉËÇø„ÄÇ</p>\n<p>‰π¶ÂÜôËßÑËåÉ<br>‰ΩøÁî®‰∫Ü extraBabelPlugins Â∞±‰ºöÊåâÈúÄÂä†ËΩΩ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// wrong</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; message &#125; <span class=\"keyword\">from</span> <span class=\"string\">'antd/lib/index'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; message &#125; <span class=\"keyword\">from</span> <span class=\"string\">'antd'</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"ÂøΩÁï•-moment-ËØ≠Ë®ÄÂåÖÁöÑÊâìÂåÖ\"><a href=\"#ÂøΩÁï•-moment-ËØ≠Ë®ÄÂåÖÁöÑÊâìÂåÖ\" class=\"headerlink\" title=\"ÂøΩÁï• moment ËØ≠Ë®ÄÂåÖÁöÑÊâìÂåÖ\"></a>ÂøΩÁï• moment ËØ≠Ë®ÄÂåÖÁöÑÊâìÂåÖ</h3><p><img src=\"https://img.mrsingsing.com/roadhog-performance-moment-locale.jpg\" alt=\"ÂøΩÁï• moment ËØ≠Ë®ÄÂåÖ\"></p>\n<p>ÊâìÂåÖÂêé moment ÂåÖÁöÑ‰ΩìÁßØÊØîËæÉÂ§ßÔºåÂÖ∂‰∏≠ locale ËØ≠Ë®ÄÂåÖÈÉ®ÂàÜÂç†ÊçÆ‰∫ÜÊØîËæÉÂ§ßÁöÑ‰ΩìÁßØÔºåÁî±‰∫éÊàë‰ª¨ÁöÑÈ°πÁõÆÊ≤°ÊúâÂõΩÈôÖÂåñÈúÄÊ±ÇÔºåÂõ†Ê≠§ÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆ roadhog Êèê‰æõÁöÑ <code>ignoreMomentLocale: true</code> ÂáèÂ∞ëÊâìÂåÖÂá∫Êù•ÁöÑ vendor Â∞∫ÂØ∏„ÄÇ</p>\n<p>‰ΩÜÊòØÔºåÂ¶ÇÊûúÈ°πÁõÆ‰∏≠‰ΩøÁî®Âà∞ AntDesign ÁªÑ‰ª∂ÔºåÂπ∂‰∏î‰ΩøÁî®Âà∞Êó∂Èó¥ÈÄâÊã©ÁªÑ‰ª∂ <code>date-picker</code>ÔºàÈªòËÆ§ÊòØËã±ÊñáÊñáÊ°àÔºâÔºåÈÇ£‰πàËøôÈáåÈúÄË¶ÅÂÅö‰∏Ä‰∫õÂ§ÑÁêÜ‰ª•‰ΩøÈ°πÁõÆ‰∏≠ÁªÑ‰ª∂ËÉΩÂ§üÊòæÁ§∫‰∏≠Êñá„ÄÇ</p>\n<p>ÊàëÊòØÂú®È°πÁõÆÊúÄ‰∏äÂ±ÇÔºåÂçïÁã¨ÂºïÂÖ• moment ÁöÑ‰∏≠ÊñáËØ≠Ë®ÄÂåÖ„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> moment <span class=\"keyword\">from</span> <span class=\"string\">'moment'</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">'moment/locale/zh-cn'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">moment.locale(<span class=\"string\">'zh-cn'</span>);</span><br></pre></td></tr></table></figure>\n<p>ËøôÊ†∑È°πÁõÆ‰∏≠‰ΩøÁî®Âà∞ moment Â∑•ÂÖ∑Â∫ìÁöÑ <code>date-picker</code> ÈÉΩ‰ºöÊòæÁ§∫‰∏≠ÊñáÊñáÊ°à„ÄÇ</p>\n<h3 id=\"ÂéãÁº©ËÄóÊó∂\"><a href=\"#ÂéãÁº©ËÄóÊó∂\" class=\"headerlink\" title=\"ÂéãÁº©ËÄóÊó∂\"></a>ÂéãÁº©ËÄóÊó∂</h3><p>È°πÁõÆÊûÑÂª∫ËøáÁ®ã‰ºöÂç°Âú® 91%ÔºåÈÄöËøáÊü•ÈòÖÁõ∏ÂÖ≥ËµÑÊñôÂíå‰∫ÜËß£Á§æÂå∫ÂèçÈ¶àÂêéÔºåÊòéÁ°ÆÂéüÂõ†‰∏∫ËØ•Èò∂ÊÆµ Webpack Ê≠£Âú®ÂØπ‰ª£Á†ÅËøõË°åÊ∑∑Ê∑ÜÂéãÁº©Êìç‰ΩúÔºå‰ΩÜÂêåÊó∂Áî±‰∫é Webpack ÁöÑÂéãÁº©Êèí‰ª∂ UglifyJS Êó†Ê≥ïÂØπ ES6+ ÁöÑ‰ª£Á†ÅËøõË°åÂéãÁº©ÔºåÈúÄË¶Å‰ΩøÁî® <a href=\"https://github.com/babel/minify\" target=\"_blank\" rel=\"noopener\">babel-minify</a> Ëé∑ÂèñÊõ¥Â•ΩÁöÑ treeshaking ÊïàÊûúÔºàËôΩÁÑ∂ Webpack4 Â∑≤ÁªèÊîØÊåÅ ES6+ ‰ª£Á†ÅÂéãÁº©Ôºå‰ΩÜÊòØÁõÆÂâç Roadhog ÈááÁî®ÁöÑÊòØ Webpack3+Ôºâ„ÄÇ</p>\n<p><a href=\"https://hackmd.io/YHK_yuRtT0ePPVLY0_kUzw\" target=\"_blank\" rel=\"noopener\">ÊûÑÂª∫ÈÄüÂ∫¶ÊÖ¢ÁöÑËß£ÂÜ≥ÊñπÊ≥ï@sorrycc</a></p>\n<p>‰ΩìÁé∞ÁâπÂæÅÔºö</p>\n<ul>\n<li>ÊûÑÂª∫ÈÄüÂ∫¶ÊÖ¢</li>\n<li>ÂÜÖÂ≠òÊ∂àËÄóÈ´ò</li>\n</ul>\n<p>Ëß£ÂÜ≥ÊñπÊ≥ïÔºö</p>\n<ul>\n<li>ÂáèÂ∞ë‰æùËµñÊñá‰ª∂<ul>\n<li>‰ºòÂåñ common ÊèêÂèñÁ≠ñÁï•ÔºåËÆ©Êï¥‰ΩìÂ∞∫ÂØ∏Â∞ΩÂèØËÉΩÂ∞ë</li>\n<li>externals Êéâ‰∏Ä‰∫õÂ§ßÁöÑÂ∫ìÔºåÈôç‰ΩéÊï¥‰ΩìÂ∞∫ÂØ∏</li>\n<li>Âà©Áî® webpack ÁöÑ TreeShaking + es moduleÔºåÊéíÈô§Êéâ‰∏Ä‰∫õÊ≤°ÊúâÁî®Âà∞ÁöÑÊ®°Âùó</li>\n</ul>\n</li>\n<li>ÂáèÂ∞ëÈúÄË¶ÅÂéãÁº©ÁöÑÊñá‰ª∂</li>\n</ul>\n<h3 id=\"Â§ñÈÉ®Êâ©Â±ï\"><a href=\"#Â§ñÈÉ®Êâ©Â±ï\" class=\"headerlink\" title=\"Â§ñÈÉ®Êâ©Â±ï\"></a>Â§ñÈÉ®Êâ©Â±ï</h3><p>externals ÊòØÈùûÂ∏∏ÊúâÊïàÁöÑ‰∏Ä‰∏™ÊñπÊ°àÔºåÂèØ‰ª•‰∏Ä‰∏ãÂ≠êÂáèÂ∞ëÂ§ßÈáèÈúÄË¶ÅÁºñËØë„ÄÅÂéãÁº©ÁöÑÊ®°Âùó„ÄÇÂ∞Ü‰∏Ä‰∫õ‰∏çÂ∏∏Êõ¥Êñ∞ÁâàÊú¨ÊØîËæÉÁ®≥ÂÆöÁöÑÊ®°ÂùóÊñá‰ª∂Áõ¥Êé•Ê≥®ÂÖ• HMTL Êñá‰ª∂ÔºåÂΩìËØªÂèñÂà∞ËØ•ËÑöÊú¨Êó∂Â∞ÜËá™Âä®Âä†ËΩΩÔºåËøô‰∏ç‰ªÖËÉΩÂä†Âø´ÊûÑÂª∫ÈÄüÂ∫¶ÔºåËÄå‰∏îËÉΩÂ§üÂà©Áî® CDN ËøõË°åËµÑÊ∫êÁºìÂ≠ò„ÄÇ</p>\n<p>‰ΩÜÊòØ‰ºöÂ∏¶Êù•ÁöÑÈóÆÈ¢òÊòØÔºö</p>\n<ul>\n<li>Êó†Ê≥ïÂà©Áî® Webpack ÁöÑ Tree-Shaking</li>\n<li>Â§ö‰∏™Â∫ì‰πãÈó¥Â¶ÇÊûúÂ≠òÂú®ÂÖ¨ÂÖ±Ê®°ÂùóÔºàÊØîÂ¶Ç lodashÔºâÔºåÂ∞±Êó†Ê≥ïÂ§çÁî®</li>\n</ul>\n<p>‰ΩøÁî® externals ÈúÄË¶ÅÂú® HTML ÈáåÂºïÁî®È¢ùÂ§ñÁöÑ JS Êñá‰ª∂ÔºåËøôÈáå‰πüÊúâÂá†‰∏™ÊΩúÂú®ÁöÑÈóÆÈ¢òÔºö</p>\n<ul>\n<li>Â¶ÇÊûú‰Ω†ÁöÑ CDN ‰∏çÊîØÊåÅ ComboÔºåÂπ∂‰∏î‰∏çÊòØ http/2ÔºåÈÇ£‰πàÈÄüÂ∫¶‰ºöÂæàÊÖ¢</li>\n<li>‰Ω†ÈúÄË¶ÅÊâãÂä®Áª¥Êä§‰∏Ä‰ªΩ CDN Êñá‰ª∂ÂàóË°®ÔºåÂπ∂‰∏îË∑üËøõ‰ªñ‰ª¨ÁöÑÊõ¥Êñ∞Ôºå‰πüÊòØ‰ª∂È∫ªÁÉ¶ÁöÑ‰∫ãÊÉÖ</li>\n</ul>\n<p>ËøôÈáå‰∏ªË¶ÅÂ∞Ü‰∏â‰∏™Â∞∫ÂØ∏ËæÉÂ§ß‰∏îÊØîËæÉÂ∞ëÈ°πÁõÆÈ°µÈù¢ÂºïÁî®ÁöÑÊ®°Âùó externals Êéâ„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">externals: &#123;</span><br><span class=\"line\">    <span class=\"string\">'ali-oss'</span>: <span class=\"string\">'window.OSS'</span>,</span><br><span class=\"line\">    <span class=\"string\">'react'</span>: <span class=\"string\">'window.react'</span>,</span><br><span class=\"line\">    <span class=\"string\">'react-dom'</span>: <span class=\"string\">'window.ReactDOM'</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"È°πÁõÆÊ†∑ÂºèÊñá‰ª∂ÂáèÂ∞ë\"><a href=\"#È°πÁõÆÊ†∑ÂºèÊñá‰ª∂ÂáèÂ∞ë\" class=\"headerlink\" title=\"È°πÁõÆÊ†∑ÂºèÊñá‰ª∂ÂáèÂ∞ë\"></a>È°πÁõÆÊ†∑ÂºèÊñá‰ª∂ÂáèÂ∞ë</h3><p>ExtractTextPlugin ÊèêÂèñ CSS (antd + ‰∏öÂä°)</p>\n<p>ËÉΩÁî®ÂÖ¨ÂÖ±Â∞±Áî®ÂÖ¨ÂÖ±ÔºàÂõ†‰∏∫Â§ßÈÉ®ÂàÜÁöÑÈ°µÈù¢ÁöÑÊ†∑ÂºèÂá†‰πé‰∏ÄÊ†∑ÔºâÔºå‰∏çÁÑ∂ÊØè‰∏™È°µÈù¢ÂºÄ‰∏Ä‰∏™ less ÂºïÁî®ÂÖ¨ÂÖ±Ôºå‰ºöÈáçÂ§çÊâìÂåÖÔºåÈÄ†ÊàêÂÜó‰Ωô„ÄÇ</p>\n<h3 id=\"Gzip-‰º†ËæìÂéãÁº©\"><a href=\"#Gzip-‰º†ËæìÂéãÁº©\" class=\"headerlink\" title=\"Gzip ‰º†ËæìÂéãÁº©\"></a>Gzip ‰º†ËæìÂéãÁº©</h3><p>gzip ÈúÄË¶ÅÂú®ÊúçÂä°Âô®ÈÖçÁΩÆÂºÄÂêØ</p>\n<p>ËøôÈáåÊèê‰æõ‰∏ÄÁßç Nginx ÁöÑÈÖçÁΩÆ„ÄÇ<a href=\"https://blog.csdn.net/qq_36030288/article/details/54576503\" target=\"_blank\" rel=\"noopener\">‰º†ÈÄÅÈó®</a></p>\n<p><a href=\"https://www.cnblogs.com/zs-note/p/9556390.html\" target=\"_blank\" rel=\"noopener\">ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÔºögzip ÂéãÁº©Êñá‰ª∂‰º†ËæìÊï∞ÊçÆ</a></p>\n<h2 id=\"‰ºòÂåñÊïàÊûúÂàÜÊûê\"><a href=\"#‰ºòÂåñÊïàÊûúÂàÜÊûê\" class=\"headerlink\" title=\"‰ºòÂåñÊïàÊûúÂàÜÊûê\"></a>‰ºòÂåñÊïàÊûúÂàÜÊûê</h2><p><img src=\"https://img.mrsingsing.com/roadhog-performance-optimizition-result.jpg\" alt=\"‰ºòÂåñÊïàÊûúÂàÜÊûê\"></p>\n<ul>\n<li>ÂºÄÂèë‰ΩìÈ™åÔºö70s =&gt; 20s ÂêØÂä®È°πÁõÆÊó∂Èó¥ÊèêÂçá 71%</li>\n<li>ÊûÑÂª∫ÈÄüÂ∫¶Ôºö382s =&gt; 40s È°πÁõÆÊûÑÂª∫ÈÄüÂ∫¶ÊèêÂçá 89%</li>\n<li>ËµÑÊ∫êÊñá‰ª∂Ôºö88MbÔºàÊú™ÂºÄÂêØ GzipÔºâ =&gt; 25MbÔºàÂºÄÂêØ GzipÔºâ =&gt; 1MbÔºà‰ºòÂåñÂêéÂºÄÂêØ GzipÔºâ ËµÑÊ∫êÊñá‰ª∂Â∞∫ÂØ∏Â§ßÂπÖÂ∫¶Èôç‰Ωé</li>\n</ul>\n<h2 id=\"ÂêéÁª≠ÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò\"><a href=\"#ÂêéÁª≠ÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò\" class=\"headerlink\" title=\"ÂêéÁª≠ÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò\"></a>ÂêéÁª≠ÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢ò</h2><h3 id=\"ÂçïÁã¨ÊâìÂåÖÁöÑ-AntDesign-Â∞∫ÂØ∏ËøáÂ§ß\"><a href=\"#ÂçïÁã¨ÊâìÂåÖÁöÑ-AntDesign-Â∞∫ÂØ∏ËøáÂ§ß\" class=\"headerlink\" title=\"ÂçïÁã¨ÊâìÂåÖÁöÑ AntDesign Â∞∫ÂØ∏ËøáÂ§ß\"></a>ÂçïÁã¨ÊâìÂåÖÁöÑ AntDesign Â∞∫ÂØ∏ËøáÂ§ß</h3><ul>\n<li>ÂèØËßÜÂåñÂàÜÊûêÂ∞∫ÂØ∏ËæÉÂ§ßÁöÑÊñá‰ª∂ÂåÖÊã¨ rc-editor-core / draft.js Á≠â</li>\n<li>ÈÄöËøá‰æùËµñÊâæÂà∞Ê†πÊ∫êÊòØ rc-editor-mention =&gt; rc-editor-core =&gt; draft-js Êù•Ëá™ Mention ÁªÑ‰ª∂Ôºå‰ΩÜÊòØÈ°πÁõÆ‰∏≠Âπ∂Ê≤°Êúâ‰ΩøÁî®Âà∞</li>\n<li>ÂæóÂá∫ÁªìÊûúÊèêÂèñÊâìÂåÖÂ∞ÜÊï¥‰∏™ÁªÑ‰ª∂Â∫ìÈÉΩÊâìÂåÖËøõÊù•‰∫Ü</li>\n</ul>\n<p>Á§æÂå∫‰∏≠ÊúâÂèçÂ∫îÂ∏åÊúõÊèêÂèñÂÖ¨ÂÖ±Ê®°ÂùóÊâìÂåÖÊó∂Â∞ÜÂÖ∂‰∏≠Êüê‰∫õÈÉ®ÂàÜÂøΩÁï•‰∏çÊâìÂåÖÔºåËÄåÁª¥Êä§ËÄÖ‰ºº‰πéÂëäÁü•ÈúÄË¶Å‰ΩøÁî® <code>babel-plugin-import</code> ÊåâÈúÄÂºïÁî®ÔºåÂπ∂Ê≤°Êèê‰æõÊèêÂèñÂÖ¨ÂÖ±Ê®°ÂùóÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ <a href=\"https://github.com/ant-design/ant-design/issues/10180\" target=\"_blank\" rel=\"noopener\">‰º†ÈÄÅÈó®</a></p>\n<h2 id=\"ÂèÇËÄÉËµÑÊñô\"><a href=\"#ÂèÇËÄÉËµÑÊñô\" class=\"headerlink\" title=\"ÂèÇËÄÉËµÑÊñô\"></a>ÂèÇËÄÉËµÑÊñô</h2><ul>\n<li><a href=\"https://github.com/sorrycc/roadhog/issues/370\" target=\"_blank\" rel=\"noopener\">ÊîØÊåÅ vendor ÁöÑÈÖçÁΩÆ Issue #370</a></li>\n<li><a href=\"https://github.com/sorrycc/roadhog/issues/577\" target=\"_blank\" rel=\"noopener\">roadhog2 Â¶Ç‰ΩïÊàêÂäüÊèêÂèñ vendor ¬∑ Issue #577</a></li>\n<li><a href=\"https://github.com/sorrycc/roadhog/issues/722\" target=\"_blank\" rel=\"noopener\">ÁºñËØëÂæàÊÖ¢ #722</a></li>\n<li><a href=\"https://github.com/liangxinwei/blog/blob/master/webpack/2.md\" target=\"_blank\" rel=\"noopener\">roadhog 1.3x ÊâìÂåÖÊÖ¢ÁöÑËß£ÂÜ≥ÂäûÊ≥ï</a></li>\n<li><a href=\"http://www.mamicode.com/info-detail-2413081.html\" target=\"_blank\" rel=\"noopener\">Roadhog ÊûÑÂª∫‰ºòÂåñ</a></li>\n<li><a href=\"https://www.itcodemonkey.com/article/12011.html\" target=\"_blank\" rel=\"noopener\">JS/CSS ‰ΩìÁßØÂáèÂ∞ë‰∫Ü 67%ÔºåÊàë‰ª¨ÊòØÂ¶Ç‰ΩïÂÅöÂà∞ÁöÑÔºü</a></li>\n<li><a href=\"https://github.com/creeperyang/blog/issues/37\" target=\"_blank\" rel=\"noopener\">Webpack Êó•Â∏∏‰ΩøÁî®‰∏é‰ºòÂåñ</a></li>\n</ul>"},{"title":"ÂâçÁ´ØÊ∑±ËÄïËêΩÂú∞È°µ‰∏öÂä°ÂøÉÂæóÊÄªÁªì","date":"2020-06-07T00:00:00.000Z","_content":"\nÂú®ÁßëÊäÄÁπÅËç£ÁöÑ‰ªäÂ§©ÔºåËÆ°ÁÆóÊú∫ÁªôÁé∞‰ª£Á§æ‰ºöÂ∏¶Êù•ÁöÑÊòØ‰ø°ÊÅØÂåñÁöÑÂèòÈù©ÔºåÊú¨Ë¥®‰∏äÊâìÁ†¥ÁöÑÊòØÂéüÊúâÁ§æ‰ºö‰∫∫‰ª¨Âú∞ÁêÜ„ÄÅËØ≠Ë®Ä„ÄÅ‰∫∫ÁßçÁ≠âÂêÑÁª¥Â∫¶‰∏äÁöÑÂ∑ÆÂºÇÔºåÈÄöËøá‰∫íËÅîÁΩë‰∫∫‰ª¨ËÉΩÈÄöËøá‰æøÊç∑ÁöÑÊñπÂºèË∂≥‰∏çÂá∫Êà∑Âè£ÔºåÂ∞±ÂèØ‰ª•Ë¥≠‰π∞Âà∞ÂÖ®ÂõΩ‰πÉËá≥ÂÖ®ÁêÉÁöÑÂïÜÂìÅË¥ßÁâ©„ÄÅ‰∫´ÂèóÂà∞ÂêÑÂºèÂêÑÊ†∑ÁöÑÂ∑ÆÂºÇÂåñÊúçÂä°„ÄÇÂõ†Ê≠§ÔºåÂØπ‰∫é‰∏ÄÂÆ∂‰∫íËÅîÁΩë‰ºÅ‰∏öÊù•ËØ¥ÔºåÁî®Êà∑Êó†ÁñëÊòØÊúÄÈáçË¶ÅÁöÑËµÑ‰∫ßÔºåËÆ©Êõ¥Â§öÁöÑÁî®Êà∑Áü•ÈÅì„ÄÅ‰∫ÜËß£ÁîöËá≥‰∫´Âèó‰ºÅ‰∏öÁöÑ‰∫ßÂìÅÔºåÊòØ‰ºÅ‰∏öÁ´ãË∂≥ÁöÑÂâçÊèêÊù°‰ª∂ÔºåÊØïÁ´üÊúâ‰∫ÜÁî®Êà∑ÊñπÊúâÁõàÂà©ÁöÑÂèØËÉΩÊÄßÔºå‰ºÅ‰∏öÊâçËÉΩÂèØÊåÅÁª≠ÂèëÂ±ï„ÄÇ\n\nÂØπ‰∫éÂõΩÂÜÖÂæàÂ§öÂ§ßÂéÇÁöÑÊù•ËØ¥ÔºåÊüêÁßçÁ®ãÂ∫¶‰∏äÂú®Áî®Êà∑Ëøô‰∏™Áª¥Â∫¶‰∏ä‰ºöÊäïÂÖ•Â§ßÈáèËµÑÊ∫êÔºåËØ∏Â¶ÇËÆæÁ´ã‰∏ìÈó®Ë¥üË¥£Áî®Êà∑Â¢ûÈïøÁöÑÁªÑÁªáÂçï‰Ωç„ÄÇ‰ªñ‰ª¨ÂÖ≥Ê≥®Áî®Êà∑Âú®‰∫ßÂìÅÁªàÁ´ØÁöÑ‰ΩìÈ™åÔºåÁõ∏ÂÖ≥‰ªé‰∏ö‰∫∫ÂëòÈúÄË¶ÅÊáÇÂæóÊäì‰ΩèÁî®Êà∑ÂøÉÈáåÔºåÁªìÂêàÂêÑÁßç‰∏öÂä°Âú∫ÊôØÂà∂ÂÆöÂØπÂ∫îÁöÑËê•ÈîÄÁ≠ñÁï•ÔºåÊúÄÁªàÁõÆÁöÑÂ∞±ÊòØÁïô‰ΩèÁî®Êà∑ÔºåËÆ©Áî®Êà∑ÂøÉÁîòÊÉÖÊÑøÂú∞Ê∂àË¥π„ÄÇ\n\nÁ¨îËÄÖÂ∞±ËÅå‰∫é‰∏éÊüê‰∫íËÅîÁΩëÈáëËûç‰ºÅ‰∏öÔºåÁî±‰∫éÊúÄËøëÁªèÂ∏∏ÈúÄË¶ÅÂíå‰∫ßÂìÅ„ÄÅÊé®Âπø„ÄÅËøêËê•Êâì‰∫§ÈÅìÔºåÂ§öÂ§öÂ∞ëÂ∞ë‰ºöÊé•Ëß¶Âà∞ÂæàÂ§öÂ∫ûÊùÇÁöÑÁü•ËØÜËæπÁïåÂ§ñÁöÑÈ¢ÜÂüüÔºåÊâÄ‰ª•ÊâìÁÆóÁ≥ªÁªüÊï¥ÁêÜËøôÊÆµÊó∂Èó¥Êù•ÁöÑ‰∏öÂä°ÂàÜÊûêÊñπÊ≥ïËÆ∫ÂíåÂÆûË∑µÂøÉÂæó„ÄÇ\n\n<!-- more -->\n\n## ËêΩÂú∞È°µ\n\nÊâÄË∞ìÁöÑËêΩÂú∞È°µÔºàLanding PageÔºâÂ∞±ÊòØÁî®‰∫éÊâøÊé•Áî®Êà∑ÈÄöËøá‰ªòË¥πÊêúÁ¥¢Ê∏†ÈÅìËøõÂÖ•ÁöÑÊé®ÂπøÈ°µÈù¢„ÄÇ\n\nÂú®Â¶Ç‰ªäÂπøÂëäÊ®™Èú∏Â§©‰∏ãÁöÑ‰∫íËÅîÁΩëÁ§æ‰ºöÔºåÊàë‰ª¨Áî®ÁôæÂ∫¶ÊêúÁ¥¢ÁªìÊûúÂá∫Êù•ÂêéÊèíÂú®ÂºÄÂ§¥ÁöÑÁªìÊûúÔºåÂú®ËÖæËÆØËßÜÈ¢ëÁúãÂâßÊó∂Á™ÅÁÑ∂Ëπ¶Âá∫Êù•ÁöÑÂ∞èÂπøÂëäÔºåÂà∑Áü•‰πéÊàñËÄÖÂæÆ‰ø°ÊúãÂèãÂúàÁ©øÊèíÂú®‰ø°ÊÅØÊµÅÂΩì‰∏≠ÁöÑ„Äå‰º™„Äç‰ø°ÊÅØÔºåÊäëÊàñÊòØÊ∑òÂÆùÂ∫óÂÆ∂„ÄÅ‰øùÈô©ÂÖ¨Âè∏„ÄÅÁßªÂä®ËÅîÈÄöÁîµ‰ø°Á≠âÈöî‰∏âÂ∑Æ‰∫îÁªô‰Ω†ÂèëÁöÑÁü≠‰ø°ÈáåÁöÑÁü≠ÈìæÊé•ÔºåÂü∫Êú¨ÈÉΩÂèØ‰ª•ÂΩíÁ±ª‰∏∫ËêΩÂú∞È°µÁöÑÂÖ•Âè£„ÄÇÈÄöÂ∏∏Áî±Áü•ÂêçÂ∫¶‰∏çË∂≥ÁöÑÂπøÂëäÂïÜ‰ªòË¥πË¥≠‰π∞Êé®Âπø‰ΩçÔºåÂà©Áî®Áü•ÂêçÂ∫¶ËæÉÈ´òÁöÑÊ∏†ÈÅìÂª∫Á´ãÁî®Êà∑‰∏éËá™ÂÆ∂‰∫ßÂìÅÁöÑËÆ§Áü•ÂÖ≥Á≥ªÔºåËÄåËêΩÂú∞È°µÂ∞±ÊòØÂÖ≥ÈîÆÁöÑËΩΩ‰Ωì„ÄÇ\n\nÂÖ∂ÂÆûËêΩÂú∞È°µÁöÑÁ±ªÂûãËÉΩÁªÜÂàÜÂá∫ÂæàÂ§öÁßçÔºå‰∏ªË¶ÅÂàÜ‰∏∫Ëê•ÈîÄÊ¥ªÂä®È°µ„ÄÅ‰ø°ÊÅØÊî∂ÈõÜÈ°µ„ÄÅÂ∫îÁî®Êé®ÂπøÈ°µ„ÄÅÂî§ÈÜíÊâæÂõûÈ°µÁ≠âÔºåÂêÑÊúâÂêÑÁöÑËÅåË¥£„ÄÇ\n\n### Ëê•ÈîÄÊ¥ªÂä®È°µ\n\nËê•ÈîÄÊ¥ªÂä®È°µÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜËÆ©‰Ω†ÁöÑÁî®Êà∑Áü•ÈÅì‰Ω†ÁöÑ‰∫ßÂìÅÊòØ‰ªÄ‰πà„ÄÅËÉΩÊèê‰æõ‰ªÄ‰πàÊúçÂä°„ÄÅËÉΩËß£ÂÜ≥Áî®Êà∑‰ªÄ‰πàÈúÄÊ±Ç„ÄÇÈÄöËøáËêΩÂú∞È°µËÉΩÁõ¥Êé•Â±ïÁ§∫ÊàñË∑≥ËΩ¨Ëá≥ APP ÂÜÖÁöÑÊ†∏ÂøÉ‰∏öÂä°ÔºåËµ∑Âà∞ÊâøÊé•ÊµÅÈáèÁöÑ‰ΩúÁî®„ÄÇÈ°µÈù¢ÁöÑÂÜÖÂÆπÈÄöÂ∏∏ÊØîËæÉÁÆÄÊ¥ÅÔºå‰ºöÁî®Âà∞Â§ßÈáèËÆæËÆ°ÊÑüÈ´òÁöÑÂõæÁâáÂíåÈÜíÁõÆÁöÑÊñáÊ°àÔºå‰∏∫Áî®Êà∑Â±ïÁ§∫Ëá™Â∑±ÁöÑÊ¥ªÂä®ÂíåÂïÜÂìÅÔºåÈÄöËøáÁ±ª‰ºº‰ºòÊÉ†‰ª∑Ê†ºÂíåËµ†ÂìÅÁ≠âÊâãÊÆµÂºïÂØºÁî®Êà∑ÁÇπÂáªÔºåËé∑ÂèñÂà∞Áî®Êà∑‰ø°ÊÅØÂêéÔºåÂêéÁª≠ÂÜç‰∏éÂÆ¢Êà∑ËÅîÁ≥ªÔºåÊúÄÁªàÂ∞ÜËøô‰∫õÊΩúÂú®ÁöÑÁî®Êà∑ËΩ¨Âåñ‰∏∫ÁúüÊ≠£ÁöÑÁî®Êà∑„ÄÇ\n\n![Ëê•ÈîÄÊ¥ªÂä®È°µ](https://img.mrsingsing.com/landing-page-marketing.jpg)\n\n### ‰ø°ÊÅØÊêúÈõÜÈ°µ\n\n‰ø°ÊÅØÊêúÈõÜÈ°µÈÄÇÁî®‰∫é‰∏öÂä°Â§çÊùÇÊàñ‰ΩéÈ¢ëÁ±ªÁöÑ‰∫ßÂìÅÔºåÂΩì‰∫ßÂìÅÊ†∏ÂøÉ‰∏öÂä°ËÆæËÆ°Âà∞Â§ßÈ¢ù‰∫§Êòì„ÄÅÂÆöÂà∂ÊúçÂä°„ÄÅÂìçÂ∫îÂë®ÊúüÈïøÁ≠âÁâπÂæÅÁöÑÊó∂ÂÄôÔºåËêΩÂú∞È°µÁöÑ‰ªªÂä°Êõ¥ÂÉèÊòØÁªôÁî®Êà∑‰∏Ä‰∏™ÊâøËØ∫ÔºåËÆ∏ËØ∫‰ºöÊúâÂ§ßÈáè‰ºòÊÉ†ÁöÑÁ¶èÂà©ÔºåÁïô‰∏ã‰∏™‰∫∫‰ø°ÊÅØ‰ª•‰æøÂπ≥Âè∞ÂêéÁª≠‰∏ìÂëòÁöÑÁîµËÆø„ÄÇÂõûÊÉ≥Ëµ∑ÂæàÂ§öËØ∏Â¶ÇËÅå‰∏öÂüπËÆ≠ÁöÑÂÖ¨Âè∏ÔºåÊòØ‰∏çÊòØÁΩëÈ°µÂä†ËΩΩÂêéÈÉΩ‰ºöÂºπÁ™óËÆ©‰Ω†Â°´ÂÜô‰∏™‰∫∫‰ø°ÊÅØÔºåÁÑ∂ÂêéÂá†Â§©ÂÜÖÂ∞±‰ºöÊé•Âà∞‰ªñ‰ª¨ÁîµËØùÂêë‰Ω†Êé®ÈîÄËØæÁ®ã„ÄÇ\n\n![‰ø°ÊÅØÊêúÈõÜÈ°µ](https://img.mrsingsing.com/landing-page-information.jpg)\n\n### Â∫îÁî®Êé®ÂπøÈ°µ\n\nÂ∫îÁî®Êé®ÂπøÈ°µÁöÑÁõÆÁöÑÂæàÊòéÁ°ÆÔºåÂ∞±ÊòØÂºïÂØºÁî®Êà∑‰∏ãËΩΩÂ∫îÁî®„ÄÅÊ≥®ÂÜå„ÄÅÁôªÂΩïÁ≠â„ÄÇ\n\n![Â∫îÁî®Êé®ÂπøÈ°µ](https://img.mrsingsing.com/landing-page-application-promotion.jpg)\n\n### Âî§ÈÜíÊâæÂõûÈ°µ\n\nÊó•Ê¥ªÊúàÊ¥ªÊòØ‰∫íËÅîÁΩëÂ∫îÁî®ÂæàÈáçË¶ÅÁöÑÊ¥ªÊÄßÊåáÊ†áÔºåÂî§ÈÜíÊâæÂõûÈ°µÁöÑ‰ΩøÂëΩÂ∞±ÊòØÊøÄÊ¥ªÈÇ£‰∫õÊµÅÂ§±ÊéâÁöÑÁî®Êà∑ÔºåÈÄöËøáÁü≠‰ø°„ÄÅÈÇÆ‰ª∂„ÄÅÊ∂àÊÅØÈÄöÁü•Á≠â‰∏ªÂä®ÂèçÈ¶àÁöÑÂΩ¢ÂºèÂê∏ÂºïËÄÅÁî®Êà∑ÂõûÂΩíÂ∫îÁî®„ÄÇ\n\n![Âî§ÈÜíÊâæÂõûÈ°µ](https://img.mrsingsing.com/landing-page-awaken.jpg)\n\n## Êï∞ÊçÆÊåáÊ†á‰∏éËΩ¨ÂåñÁéáÂàÜÊûê\n\n### Êï∞ÊçÆÊåáÊ†á\n\nËêΩÂú∞È°µÁöÑÂÆûÈôÖÊïàÊûúÈúÄË¶ÅÈáèÂåñÊåáÊ†áÊù•Ë°°ÈáèÔºå‰∏ãÈù¢‰ªéËøêËê•ËßíÂ∫¶ÂàóÂá∫‰∫Ü‰∏Ä‰∫õËêΩÂú∞È°µÂª∫ËÆæÈúÄË¶ÅÂÖ≥Ê≥®ÁöÑÊåáÊ†á„ÄÇ\n\n![ËêΩÂú∞È°µÊåáÊ†á](https://img.mrsingsing.com/landing-page-pointer.jpg)\n\n- **È°µÈù¢ÊµèËßàÈáè**ÔºöÊåáÈ°µÈù¢Ë¢´Áî®Êà∑ÊµèËßàÁöÑÊ¨°Êï∞Ôºå‰∏•Ê†ºÊÑè‰πâ‰∏äÊåáÁî®Êà∑ÂêëÁΩëÁ´ôÂèëÂá∫Âπ∂ÂÆåÊàê‰∏ãËΩΩÈ°µÈù¢ÁöÑËØ∑Ê±Ç\n- **ÁÇπÂáªÁéá**ÔºöÁΩëÈ°µÂÜÖÊüêÂÜÖÂÆπË¢´ÁÇπÂáªÊ¨°Êï∞‰∏éÊòæÁ§∫Ê¨°Êï∞‰πãÊØî\n- **Ë∑≥Âá∫Áéá**ÔºöË°°ÈáèËêΩÂú∞È°µË¥®ÈáèÂ•ΩÂùèÁöÑÈáçË¶ÅÊåáÊ†á„ÄÇÈ°µÈù¢Ë∑≥Âá∫ÁéáÁöÑËÆ°ÁÆó‰∏∫ËØ•È°µÈù¢‰Ωú‰∏∫ËêΩÂú∞È°µË∑≥Âá∫ÁöÑËÆøÈóÆÊ¨°Êï∞Âç†ËØ•È°µÈù¢‰Ωú‰∏∫ËêΩÂú∞È°µËÆøÈóÆÊ¨°Êï∞ÁöÑÁôæÂàÜÊØîÔºåÂÖ®Á´ôË∑≥Âá∫ÁéáÂàô‰∏∫Ë∑≥Âá∫ÁöÑËÆøÈóÆÊ¨°Êï∞Èô§‰ª•ÊÄªÁöÑËÆøÈóÆÊ¨°Êï∞„ÄÇ\n- **ÂÅúÁïôÊó∂Èïø**ÔºöÁî®‰∫éË°°ÈáèÁî®Êà∑‰∏éÁΩëÁ´ô/APP ‰∫§‰∫íÊ∑±Â∫¶Ôºå‰∏ÄËà¨ÊúâÈ°µÈù¢ÂÅúÁïôÊó∂ÈïøÔºå‰ºöËØùÊó∂Èïø‰ª•ÂèäÂπ≥ÂùáÂÅúÁïôÊó∂ÈïøÁ≠âÊ¶ÇÂøµÔºåÂÖ∂ËÆ°ÁÆóÁöÑÊ†∏ÂøÉÂéüÁêÜÂú®‰∫éËÆ∞ÂΩï‰∏ãÁî®Êà∑Ë°å‰∏∫ÂèëÁîüÊó∂ÁöÑÊó∂Èó¥Êà≥ÔºåÂêéÊúüÂÜçÂ∫îÁî®Áõ∏Â∫îÂÖ¨ÂºèÊù•ËÆ°ÁÆó\n- **‰∫§‰∫íÊ∑±Â∫¶**ÔºöÊåáÁî®Êà∑Âú®‰∏ÄÊ¨°ÊµèËßàÁΩëÈ°µÊàñ APP ËøáÁ®ã‰∏≠ÔºåËÆøÈóÆ‰∫ÜÂ§öÂ∞ëÈ°µÈù¢„ÄÇÁî®Êà∑Âú®‰∏ÄÊ¨°ÊµèËßà‰∏≠ËÆøÈóÆÁöÑÈ°µÈù¢Ë∂äÂ§öÔºå‰∫§‰∫íÊ∑±Â∫¶Â∞±Ë∂äÊ∑±„ÄÇ‰∫§‰∫íÊ∑±Â∫¶ËÉΩÂ§ü‰æßÈù¢ÂèçÊò†ÁΩëÁ´ôÊàñ APP ÂØπ‰∫éÁî®Êà∑ÁöÑÂê∏ÂºïÂäõ„ÄÇ\n  ÂèØ‰ª•ÈÄöËøá Session Êù•ËÆ°ÁÆóÁî®Êà∑ÁöÑÂπ≥Âùá‰∫§‰∫íÊ∑±Â∫¶„ÄÇ\n\nÈô§Ê≠§‰πãÂ§ñËøòÊúâ‰∏Ä‰∫õÊàë‰ª¨‰ºöÁªèÂ∏∏Âê¨Âà∞ÁöÑ‰∏Ä‰∫õÊ†∏ÂøÉÊåáÊ†áÔºö\n\n- **DAUÔºàDaily Activited UsersÔºâ**ÔºöÊó•Ê¥ªË∑ÉÁî®Êà∑Êï∞ÈáèÔºåÁªüËÆ°ÂçïÊó•ÂÜÖÔºåÁôªÂΩïÊàñ‰ΩøÁî®Êüê‰∏™‰∫ßÂìÅÁöÑÁî®Êà∑Êï∞ÔºàÂéªÈô§ÈáçÂ§çÁôªÂΩïÁöÑÁî®Êà∑Ôºâ\n- **MAUÔºàMonthly Activited Users**ÔºâÔºöÊúàÊ¥ªË∑ÉÁî®Êà∑Êï∞ÈáèÔºåÁªüËÆ°ÂçïÊúàÂÜÖÔºåÁôªÂΩïÊàñ‰ΩøÁî®Êüê‰∏™‰∫ßÂìÅÁöÑÁî®Êà∑Êï∞ÔºàÂéªÈô§ÈáçÂ§çÁôªÂΩïÁöÑÁî®Êà∑Ôºâ\n- **PVÔºàPage ViewÔºâ**ÔºöÈ°µÈù¢ÊµèËßàÈáèÂíåÁÇπÂáªÈáèÔºåÁî®Êà∑ÊØèÊ¨°ÂØπÁΩëÈ°µËøõË°åËÆøÈóÆË¢´ËÆ∞ÂΩï‰∏∫‰∏ÄÊ¨°\n- **UVÔºàUnique ViewÔºâ**ÔºöÁã¨Á´ãËÆøÂÆ¢ÔºåËÆøÈóÆÁΩëÁ´ôÁöÑ‰∏Ä‰∏™ÁªàÁ´Ø‰∏∫‰∏Ä‰∏™ËÆøÂÆ¢\n- **ËΩ¨ÂåñÁéá**Ôºö‰∏Ä‰∏™ÁªüËÆ°Âë®ÊúüÂÜÖÔºåÂÆåÊàêËΩ¨ÂåñË°å‰∏∫ÁöÑÊ¨°Êï∞Âç†Êé®Âπø‰ø°ÊÅØÊÄªÁÇπÂáªÊ¨°Êï∞ÁöÑÊØîÁéá„ÄÇ\n- **ÁïôÂ≠òÁéá**ÔºöÊüê‰∏ÄÁªüËÆ°Êó∂ÊÆµÂÜÖÁöÑÊñ∞Â¢ûÁî®Êà∑Êï∞‰∏≠ÁªèËøá‰∏ÄÊÆµÊó∂Èó¥Âêé‰ªçÂêØÂä®ËØ•Â∫îÁî®ÁöÑÁî®Êà∑ÊØî‰æã„ÄÇ\n\n### ÊºèÊñóÊ®°Âûã\n\nË°°ÈáèÊåáÊ†áÈúÄË¶ÅËêΩÂÆûÂà∞ÂÖ∑‰ΩìÁöÑÂàÜÊûêÊ®°ÂûãÔºåËÄåÊºèÊñóÊ®°ÂûãÂàôÊòØÊúÄÂ∏∏Áî®ÁöÑËØÑÂà§ËêΩÂú∞È°µËΩ¨ÂåñÊïàÊûúÁöÑÂ∑•ÂÖ∑„ÄÇÊºèÊñóÊ®°ÂûãÁöÑÂÆûÁé∞ÂéüÁêÜÊòØÂú®ÊΩúÂú®Áî®Êà∑‰ªéËÆøÈóÆÈ°µÈù¢Âà∞ÊúÄÁªàËΩ¨Êç¢ÊàêÁúüÊ≠£Áî®Êà∑Ëøô‰∏™Ë°å‰∏∫Ë∑ØÂæÑ‰∏äÁöÑÂÖ≥ÈîÆËäÇÁÇπËøõË°åÂüãÁÇπÊî∂ÈõÜË°å‰∏∫Êï∞ÊçÆÔºåÂπ∂Ê†πÊçÆ‰∏çÂêåÂÖ≥ÈîÆËäÇÁÇπÁöÑÁâπÊÄßËÆæÂÆö‰∏çÂêåÁõÆÊ†áÔºåÊúÄÂêéÈÄöËøáÂêÑÈò∂ÊÆµÁöÑËΩ¨ÂåñÊÉÖÂÜµÊîπÂñÑÂÖ≥ÈîÆËäÇÁÇπËΩ¨ÂåñÁöÑÊµÅÁ®ãËÆæËÆ°Ôºå‰ªéËÄåÊèêÂçáÁî®Êà∑‰ΩìÈ™å„ÄÇ\n\n‰ª•ÊàëÊúÄÁÜüÊÇâÁöÑÂºïÂØºÊµÅÈáèÁöÑÊ≥®ÂÜåËêΩÂú∞È°µ‰∏∫‰æãÔºåÈ°µÈù¢ÂëàÁé∞‰ªÖÊúâÊâãÊú∫Âè∑ËæìÂÖ•Ê°Ü„ÄÅÁü≠‰ø°È™åËØÅÁ†ÅËæìÂÖ•Ê°Ü„ÄÅÂØÜÁ†ÅËæìÂÖ•Ê°ÜÂíåÊ≥®ÂÜåÊåâÈíÆÁ≠âÂõõ‰∏™‰∏ªË¶ÅÁöÑÂèØ‰∫§‰∫íÂÖÉÁ¥†ÔºåÁêÜÊÉ≥ÁöÑÊñ∞Áî®Êà∑Ê≥®ÂÜåÊµÅÁ®ãÂ§ßÊ¶ÇÊòØËøôÊ†∑ÁöÑÔºö\n\n```\nËÆøÈóÆÈ°µÈù¢ -> ËæìÂÖ•ÊâãÊú∫Âè∑ -> ‰∏ãÂèëÁü≠‰ø°È™åËØÅÁ†Å -> ËæìÂÖ•È™åËØÅÁ†Å -> ËæìÂÖ•Ë¥¶Âè∑ÂØÜÁ†Å -> ÁÇπÂáªÊ≥®ÂÜåÊåâÈíÆ -> ÊúçÂä°Á´ØËøõË°åÊ≥®ÂÜåÂ§ÑÁêÜ -> Ê≥®ÂÜåÊàêÂäü\n```\n\nËΩ¨ÂåñÊºèÊñóÂèØ‰ª•Ê∑ªÂä†Â§ö‰∏™‰∫§‰∫íÊ≠•È™§ÔºåÊØîÂ¶ÇÂΩìÁî®Êà∑ËæìÂÖ•ÊâãÊú∫Âè∑ÂêéÔºåÂâçÁ´ØËá™Âä®Ê£ÄÊµãËæìÂÖ•ÂÄºÁî±Ê≠£ÂàôÊ†°È™åÊúâÊïàÂêéÔºåÂàô‰∏äÊä•Ê†áËÆ∞‰∏∫ `ËæìÂÖ•ÊâãÊú∫Âè∑` ÁöÑÂüãÁÇπÔºåÂú®Áî®Êà∑Ëé∑ÂèñÂà∞Áü≠‰ø°È™åËØÅÁ†ÅÔºåÂêåÊ†∑Âú∞ËæìÂÖ•Áü≠‰ø°È™åËØÅÁ†ÅÂπ∂Ê†°È™åÊúâÊïàÂêéÔºåÂç≥‰∏äÊä• `ËæìÂÖ•È™åËØÅÁ†Å` ÁöÑÂüãÁÇπ„ÄÇÈÄöËøáÊ∑ªÂä†‰∏§‰∏™ÂÖ≥ÈîÆËäÇÁÇπÁöÑÂüãÁÇπÔºå‰ΩøÁî®ËΩ¨ÂåñÊºèÊñóÈÖçÂêàÂèØËßÜÂåñËßÜÂõæÔºåÊàë‰ª¨Â∞±ËÉΩÊ∏ÖÊô∞Âú∞Áü•ÈÅìÊúâÂ§öÂ∞ëÁî®Êà∑ÂÆåÊàê‰∫Ü `ËæìÂÖ•ÊâãÊú∫Âè∑` Âà∞ `ËæìÂÖ•È™åËØÅÁ†Å` Ëøô‰∏™Ê≠•È™§ÔºåËÄåÈÄöËøá `ËæìÂÖ•ÊâãÊú∫Âè∑` ÁöÑ‰∫∫Êï∞ÂáèÂéª `ËæìÂÖ•È™åËØÅÁ†Å` ÁöÑ‰∫∫Êï∞ÔºåÊàë‰ª¨Â∞±ËÉΩËé∑Áü•ËØ•Èò∂ÊÆµÊµÅÂ§±ÁöÑÁî®Êà∑Êï∞„ÄÇ\n\nËΩ¨ÂåñÁéáÈúÄË¶Å **ÂØπÊØî**Ôºå‰∏çËÉΩÂú®ÂàÜÊûêÁöÑÊó∂ÂÄôÂèëÁé∞Êüê‰∏™ÁéØËäÇÁöÑËΩ¨ÂåñÁéáÂ§™‰ΩéÔºåÂ∞±ËÆ§‰∏∫‰∏ÄÂÆöÊòØËøô‰∏™ÁéØËäÇÂá∫Áé∞‰∫ÜÈóÆÈ¢ò„ÄÇÊØîÂ¶Ç‰ªé `ËæìÂÖ•ÊâãÊú∫Âè∑` Âà∞ `Ê≥®ÂÜåÊàêÂäü` Ëøô‰∏™ÁéØËäÇËΩ¨ÂåñÁéáÂè™Êúâ 40%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåÊòØÊâÄÊúâÁéØËäÇ‰∏≠ÊúÄ‰ΩéÁöÑÔºå‰ΩÜÊàë‰ª¨ÂèØ‰ª•Áî®ÂéÜÂè≤Êï∞ÊçÆËøõË°åÊØîËæÉÔºå‰ªé**Ë∂ãÂäø**ÁöÑÂèòÂåñÂàÜÊûêËΩ¨ÂåñÊïàÊûúÔºå‰∏ä‰∏™ÊúàÂêåÊúüËØ•ÁéØËäÇÁöÑËΩ¨ÂåñÁéáÈ°µÊòØ 38%ÔºåË°å‰∏öÂêåÁ±ª‰∫ßÂìÅÂùáÂÄºÊòØ 36%ÔºåÈÇ£‰πàÂÖ∂ÂÆûËØ•ÁéØËäÇÂÅöÂæóËøòÊòØ‰∏çÈîôÁöÑ„ÄÇÊàë‰ª¨ÁúãÂêéÈù¢ÁöÑÁéØËäÇÔºå‰ªé `Ê≥®ÂÜåÊàêÂäü` Âà∞ `ËøõÂÖ• APP Â∫îÁî®` ÁöÑÁéØËäÇÁöÑËΩ¨ÂåñÁéáÊòØ 62%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåË∑üÂÖ∂‰ªñÁéØËäÇÁõ∏ÊØîËæÉËµ∑Êù•ÔºåËøô‰∏™ËΩ¨ÂåñÁéáÊòØÊúÄÈ´òÁöÑÔºå‰ΩÜÊòØÊàë‰ª¨ÂØπÊØîË°å‰∏öÂêåÁ±ªÂûã‰∫ßÂìÅ‰ºöÂèëÁé∞ÂùáÂÄºÊòØ 90%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåÂØπÊØî‰∏ä‰∏™ÊúàÂêåÊúüËøô‰∏™ÊØîÁéáÊòØ 91%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞ÂΩìÂâçËøô‰∏™ÊúàÔºåËêΩÂú∞È°µ‰ªéÊ≥®ÂÜåÊàêÂäüÂà∞ÁôªÂΩï APP Â∫îÁî®ÁöÑËΩ¨ÂåñÁéáÊòØÂÅöÂæóÈùûÂ∏∏‰∏çÂ•ΩÁöÑÔºåÂÖ∂ÂÆûËøô‰∏™Â∞±ÂõûÂà∞Êàë‰ª¨Êï∞ÊçÆÂàÜÊûê‰∏≠ÁöÑÂØπÊØîÂàÜÊûê‰∫ÜÔºåÊàë‰ª¨ÈúÄË¶Å‰∏éËá™Â∑±ÁöÑÂéÜÂè≤Êï∞ÊçÆÂÅöÂØπÊØîÔºåÊâçËÉΩÂæóÂá∫ÂÆåÊï¥ÁöÑÁªìËÆ∫ÔºåÂΩìÁÑ∂Âè¶Â§ñ‰∏ÄÁÇπÊòØ‰∏çÂêåÁöÑÁî®Êà∑ÔºåÂØπÊØîÂú®‰∫§‰∫íÊµÅÁ®ã‰∏≠ÁöÑËΩ¨ÂåñÁéáÊòØÂèØ‰ª•ÊúâÂæàÂ§ßÁöÑÂ∑ÆÂºÇÁöÑÔºåÂÉèÂÆ¢Êà∑Êù•Ëá™‰∏çÂêåÁöÑÊ∏†ÈÅì„ÄÅ‰∏çÂêåÁöÑÂå∫Âüü„ÄÅ‰∏çÂêåÁöÑÁîüÂëΩÂë®Êúü„ÄÅ‰∏çÂêåÊÄßÂà´„ÄÅ‰∏çÂêåÂπ¥ÈæÑÔºå‰ªñ‰ª¨Âú®ÊºèÊñó‰∏≠ÁöÑË°®Áé∞ÈÉΩÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨Âú®ËøõË°åÊºèÊñóÂàÜÊûêÁöÑÊó∂ÂÄôÔºåÂæÄÂæÄËøòÈúÄË¶ÅËøõË°åÁªÜÂàÜÁöÑÊºèÊñóÊ®°ÂûãÂàÜÊûêÔºå\n\nÂ¶ÇÊûúËΩ¨ÂåñÁéáÂπ∂‰∏çÁêÜÊÉ≥ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá **ÁªÜÂàÜÁª¥Â∫¶** ÂØπËΩ¨ÂåñÁéáËøõË°åÊãÜËß£ÔºåÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊìç‰ΩúÁ≥ªÁªüÁª¥Â∫¶Ôºà‰æãÂ¶ÇÂàÜ‰∏∫ Android Âíå iOSÔºâÁúãÂà∞‰∏çÂêåÊìç‰ΩúÁ≥ªÁªüÁöÑÈò∂ÊÆµËΩ¨ÂåñÊÉÖÂÜµÔºå‰πüÂèØ‰ª•ÈÄâÊã©ÊµèËßàÂô®ÔºàChrome„ÄÅSafari„ÄÅFirefox Âíå ÂæÆ‰ø°ÂÜÖÁΩÆÊµèËßàÂô®Á≠âÔºâÁúãÂà∞‰∏çÂêåÊµèËßàÂô®ÁöÑÈò∂ÊÆµËΩ¨ÂåñÊÉÖÂÜµÔºåÁîöËá≥ÂèØ‰ª•ÈÄâÊã©ËÆæÂ§áÁöÑÂìÅÁâåÊù•ÁúãÂà∞ÂØπÂ∫îÁöÑÈò∂ÊÆµËΩ¨ÂåñÊÉÖÂÜµ„ÄÇÂ¶ÇÊûúÊüê‰∏™ËΩ¨ÂåñÁéáÊòéÊòæ‰Ωé‰∫éÊ≠£Â∏∏ÁöÑËΩ¨ÂåñÁéáÊÉÖÂÜµÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÂêàÁêÜÊÄÄÁñëÈ°µÈù¢Ëøô‰∏™Êìç‰ΩúÁ≥ªÁªü„ÄÅÂìÅÁâåÊàñÊµèËßàÂô®‰∏äÔºåÂÖºÂÆπÊÄßÂÅöÂæó‰∏çÂ§ü„ÄÇ\n\nÁªºÂêà‰ª•‰∏äÔºåÂèØ‰ª•ÂæóÂá∫Âü∫‰∫éÊºèÊñóÊ®°ÂûãÁöÑÂàÜÊûêÊñπÊ≥ïÊúâ‰ª•‰∏ãÂá†ÁßçÔºö\n\n- **Ë∂ãÂäøÔºàTrendÔºâ**Ôºö‰ªé `Êó∂Èó¥ËΩ¥` ÁöÑÂèòÂåñÊÉÖÂÜµËøõË°åÂàÜÊûêÔºåÈÄÇÁî®‰∫éÂØπÊüê‰∏ÄÊµÅÁ®ãÊàñÂÖ∂‰∏≠Êüê‰∏™Ê≠•È™§ËøõË°åÊîπËøõÊàñ‰ºòÂåñÁöÑÊïàÊûúÁõëÊéß„ÄÇ\n- **ÊØîËæÉÔºàCompareÔºâ**ÔºöÈÄöËøáÊØîËæÉ `Á±ª‰ºº‰∫ßÂìÅÊàñÊúçÂä°Èó¥` Ë¥≠‰π∞Êàñ‰ΩøÁî®ÊµÅÁ®ãÁöÑËΩ¨ÂåñÁéáÔºåÂèëÁé∞Êüê‰∫õ‰∫ßÂìÅÊàñÂ∫îÁî®‰∏≠Â≠òÂú®ÁöÑÈóÆÈ¢ò„ÄÇ\n- **ÁªÜÂàÜÔºàSegmentÔºâ**ÔºöÁªÜÂàÜÊù•Ê∫êÊàñ `‰∏çÂêåÁöÑÂÆ¢Êà∑Á±ªÂûã` Âú®ËΩ¨ÂåñÁéá‰∏äÁöÑË°®Áé∞ÔºåÂèëÁé∞‰∏Ä‰∫õÈ´òË¥®ÈáèÁöÑÊù•Ê∫êÊàñÂÆ¢Êà∑ÔºåÈÄöÂ∏∏Áî®‰∫éÂàÜÊûêÁΩëÁ´ôÁöÑÂπøÂëäÊàñÊé®ÂπøÁöÑÊïàÊûúÂèä ROI„ÄÇ\n\n### A/B ÊµãËØï\n\nA/B ÊµãËØïÊòØ‰∏∫‰∫Ü Web Êàñ App ÁïåÈù¢ÊàñÊµÅÁ®ãÂà∂‰Ωú‰∏§‰∏™ÊàñÂ§ö‰∏™ÁâàÊú¨ÔºåÂú®Áõ∏ÂêåÊó∂Èó¥Áª¥Â∫¶ÔºåÂàÜÂà´ËÆ©ÁªÑÊàêÊàêÂàÜÁõ∏ÂêåÔºàÁõ∏‰ººÔºâÁöÑËÆøÂÆ¢Áæ§ÁªÑÔºàÁõÆÊ†á‰∫∫Áæ§ÔºâÈöèÊú∫ÁöÑËÆøÈóÆËøô‰∫õÁâàÊú¨ÔºåÊî∂ÈõÜÂêÑÁæ§ÁªÑÁöÑÁî®Êà∑‰ΩìÈ™åÊï∞ÊçÆÂíå‰∏öÂä°Êï∞ÊçÆÔºåÊúÄÂêéÂàÜÊûê„ÄÅËØÑ‰º∞ÂàùÊúÄÂ•ΩÁâàÊú¨ÔºåÊ≠£ÂºèÈááÁî®„ÄÇ\n\nÈÄöËøá A/B ÊµãËØïÂèØ‰ª•ÊúâÊïàÂáèÂ∞ëÂü∫‰∫éÂÅáËÆæÂâçÊèêÁöÑÂêÑÁßçÊó†Ë∞ì‰∫âËÆ∫„ÄÇÈÄöËøá A/B ÊµãËØïÂèØ‰ª•ÁúãÂà∞Áî®Êà∑Èù¢ÂØπ‰∏çÂêåËêΩÂú∞È°µÂÖÉÁ¥†ÁöÑÁúüÂÆûÂèçÂ∫î„ÄÅÁî®Êà∑Êõ¥ÂÆπÊòìÁÇπÂáªËêΩÂú∞È°µÁöÑÂì™‰∫õ‰ΩçÁΩÆÔºå‰ªéËÄåÂæóÂá∫‰øÆÊîπÈ°µÈù¢ÂÖÉÁ¥†ÁöÑÊúâÂäõËØÅÊçÆ„ÄÇ\n\nÂõ†‰∏∫ÁªèÂ∏∏ÈúÄË¶ÅÂú®ÊµÅÈáèÂàÜÈÖçÊó∂ÊúâÊâÄÊùÉË°°Ôºå‰∏ÄËà¨Êúâ‰ª•‰∏ãÂá†‰∏™ÊÉÖÂÜµÔºö\n\n- ‰∏çÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™åÔºöÂ¶Ç UI ÂÆûÈ™å„ÄÅÊñáÊ°àÁ±ªÂÆûÈ™åÁ≠âÔºå‰∏ÄËà¨ÂèØ‰ª•ÂùáÂåÄÂàÜÈÖçÊµÅÈáèÂÆûÈ™åÔºåÂèØ‰ª•Âø´ÈÄüÂæóÂà∞ÂÆûÈ™åÁªìËÆ∫\n- ‰∏çÁ°ÆÂÆöÊÄßËæÉÂº∫ÁöÑÂÆûÈ™åÔºöÂ¶Ç‰∫ßÂìÅÊñ∞ÂäüËÉΩ‰∏äÁ∫øÔºå‰∏ÄËà¨ÈúÄÂ∞èÊµÅÈáèÂÆûÈ™åÔºåÂ∞ΩÈáèÂáèÂ∞ëÁî®Êà∑‰ΩìÈ™åÂΩ±ÂìçÔºåÂú®ÂÖÅËÆ∏ÁöÑÊó∂Èó¥ÂÜÖÂæóÂà∞ÁªìËÆ∫\n- Â∏åÊúõÊî∂ÁõäÊúÄÂ§ßÂåñÁöÑÂÆûÈ™åÔºöÂ¶ÇËøêËê•Ê¥ªÂä®Á≠âÔºåÂ∞ΩÂèØËÉΩÂ∞ÜÊïàÊûúÊúÄÂ§ßÂåñÔºå‰∏ÄËà¨ÈúÄË¶ÅÂ§ßÊµÅÈáèÂÆûÈ™åÔºåÁïôÂá∫Â∞èÈÉ®ÂàÜÂØπÁÖßÁªÑÁî®‰∫éËØÑ‰º∞ ROI\n\nÂõ†‰∏∫ÈÄöÂ∏∏Âçï‰∏™ÈìæÊé•ÁöÑËêΩÂú∞È°µ‰∏çÂÖ∑Â§á A/B test ÁöÑÂäüËÉΩÔºåÈúÄË¶ÅÈÖçÂêà‰∏ìÈó®Áî®‰∫é A/B test È°µÈù¢ÂàÜÂèëÁöÑÁ≥ªÁªüËøõË°åÊµÅÈáèÂàÜÈÖçÔºåÂÆûÈôÖ‰∏äÈÄöËøáÁ±ª‰ººÂèçÂêë‰ª£ÁêÜÁöÑÂéüÁêÜÔºåÊ†πÊçÆÂàÜÈÖçÂà∞‰∏çÂêåÁöÑÈ°µÈù¢ÁöÑÊØî‰æãÂ∞ÜÊ†áËØÜ A/B ‰∏çÂêåÈ°µÈù¢ËøîÂõûÁªôÁî®Êà∑Â±ïÁ§∫„ÄÇ\n\nÁî±‰∫éÊàë‰ª¨ÁöÑÊ≥®ÂÜåËêΩÂú∞È°µÊòØ‰ΩøÁî®ÂèØËßÜÂåñÈ°µÈù¢Êê≠Âª∫Á≥ªÁªüÈÖçÁΩÆÁöÑÔºåÂπ∂‰∏çÊîØÊåÅ A/B ÊµãËØïÔºåÊâÄ‰ª•Êê≠ÈÖçÂè¶‰∏ÄÂ•óÂâçÁ´ØÁöÑÈõÜÊàêÁ≥ªÁªüÂíåÂÆ¢Êà∑Á´ØÁöÑ CMS Á≥ªÁªüÔºåËÉΩÂ§üÂÆûÁé∞ÂØπÈ°µÈù¢ÁöÑ A/B ÊµãËØï„ÄÇËÄåÂú®È°µÈù¢ÁöÑÂüãÁÇπÁªüËÆ°‰∏≠ÔºåÈúÄË¶Å‰∏äÊä• A/B ÁöÑÊ†áËØÜÔºå‰ª•‰æøÂêéÁª≠‰∏öÂä°Êï∞ÊçÆÁöÑËøΩË∏™ÂíåËØÑ‰º∞ÁªìÊûúÔºåËøõËÄåÂæóÂá∫ÊµãËØïÁªìËÆ∫Âπ∂ÊåáÂØºËêΩÂú∞È°µÊîπËøõ„ÄÇ\n\n### Êï∞ÊçÆÊ†°È™åÊµÅÁ®ã\n\nÂØπ‰∫éÂàÜÊûêÂ∏àÊù•ËØ¥ÔºåÊï∞ÊçÆÂàÜÊûêÁöÑÁªìËÆ∫Ê≠£Á°ÆÁöÑÂâçÊèêÊòØÊï∞ÊçÆÊù•Ê∫êÁöÑÊ≠£Á°ÆÊÄßÔºå‰πüÂ∞±ÊòØÊäÄÊúØ‰∫∫ÂëòÈúÄË¶ÅÁ°Æ‰øùÊï∞ÊçÆÈááÈõÜÁöÑÂáÜÁ°ÆÊÄß„ÄÇ\n\nÊï∞ÊçÆÈááÈõÜÁöÑÊ≠£Á°ÆÊÄßÊ†°È™åÔºö\n\n1. ‰∫ã‰ª∂ÊòØÂê¶‰∏äÊä•\n2. ‰∫ã‰ª∂Â±ûÊÄßÊòØÂê¶‰∏äÊä•Ôºå‰∏äÊä•ÁöÑÂ±ûÊÄßÂÄºÊòØÂê¶Ê≠£Á°Æ\n3. ÂÖ¨ÂÖ±Â±ûÊÄßÊòØÂê¶‰∏äÊä•Ôºå‰∏äÊä•ÁöÑÂÖ¨ÂÖ±Â±ûÊÄßÂÄºÊòØÂê¶ËøáÊ≠£Á°Æ\n4. Â¶ÇÊûú‰∏ä‰º†‰∫ÜÁî®Êà∑Â±ûÊÄßÔºåÁî®Êà∑Â±ûÊÄßÊòØÂê¶‰∏äÊä•Ê≠£Á°Æ\n5. ‰∫ã‰ª∂Â±ûÊÄßÂíåÁî®Êà∑Â±ûÊÄßÁöÑÂ±ûÊÄßÂÄºÁ±ªÂûãÊòØÂê¶Ê≠£Á°Æ\n\nÁî®Êà∑ÂÖ≥ËÅîÁöÑÊ≠£Á°ÆÊÄßÊ†°È™åÔºö\n\n1. ÊòØÂê¶ÂÅö‰∫ÜÁî®Êà∑ÂÖ≥ËÅî\n2. ÁôªÂΩï ID ÊòØÂê¶‰∏ä‰º†Ê≠£Á°Æ\n3. ÊòØÂê¶Ê≠£Á°ÆË∞ÉÁî®Áî®Êà∑ÂÖ≥ËÅîÁöÑÊé•Âè£\n\nÂ¶ÇÊûú‰ΩøÁî®ÊºèÊñóÊ®°ÂûãËøõË°åÂàÜÊûêÊó∂Ôºå‰∏äÊä•ÂüãÁÇπÁöÑÊó∂Êú∫Ë¶ÅÁ°Æ‰øùÁ¨¶ÂêàÈ°∫Â∫èÔºåÂú®Áî®Êà∑Á´Ø‰∏äÊä•Êó∂Èó¥‰∏éÁªüËÆ°Âπ≥Âè∞ÁöÑÂüãÁÇπÂÖ•Â∫ìÊó∂Èó¥‰πüÊòØÈúÄË¶ÅÊ≥®ÊÑèÁöÑÁÇπ„ÄÇ\n\n`ÂüãÁÇπÁÆ°ÁêÜ` -> `ÂÆûÊó∂ÂØºÂÖ•Êï∞ÊçÆÊü•ËØ¢` -> `Áî®Êà∑ ID` Êü•ËØ¢Áî®Êà∑ÂÖ≥ËÅîÁöÑÂáÜÁ°ÆÊÄß\n\n---\n\n**ÂèÇËÄÉËµÑÊñôÔºö**\n\n- ‰∫ßÂìÅËÆæËÆ°\n  - [È´òËΩ¨ÂåñÁéáÁöÑ APP Êé®ÂπøËêΩÂú∞È°µÊòØÊÄéÊ†∑ÁÇºÊàêÁöÑ](http://www.woshipm.com/pd/3079851.html)\n  - [ÈÇ£‰∫õÂà∂‰ΩúËêΩÂú∞È°µÁöÑÂ•óË∑Ø](https://www.jianshu.com/p/21db3a53b9e7)\n  - [Â¶Ç‰ΩïÊèêÂçáËêΩÂú∞È°µËΩ¨ÂåñÁéá](https://www.shujike.com/blog/77744)\n  - [‰ªÄ‰πàÊòØËêΩÂú∞È°µ](https://zhuanlan.zhihu.com/p/33882407)\n  - [‰Ω†ÈóÆÊàëÁ≠î 12 ‰∏™ÊµÅÈáèÂíåËΩ¨ÂåñÁõ∏ÂÖ≥ÁöÑÂÆûÊàòÈóÆÈ¢òËß£Á≠î](https://www.27sem.com/article/3634.html)\n  - [È´òËΩ¨ÂåñÁöÑËêΩÂú∞È°µÈïøÂï•Ê†∑](https://zhuanlan.zhihu.com/p/36165204)\n- Êï∞ÊçÆÂàÜÊûê\n  - [‰∫ßÂìÅËøêËê•ÁöÑÂü∫Êú¨Âäü ÊºèÊñóÊ®°Âûã](https://www.yunyingpai.com/user/199.html)\n  - [Ê°à‰æãÂàÜ‰∫´ Ê∏†ÈÅìËêΩÂú∞È°µÊï∞ÊçÆÂàÜÊûê](https://www.sohu.com/a/345808493_165070)\n  - [ÁΩëÈ°µËΩ¨ÂåñÁéá‰∏éÊºèÊñóÊ®°Âûã](http://menvscode.com/detail/5bfc20d030be6232a69c5d94)\n  - [‰ºòÁßÄ‰∫ßÂìÅ‰∫∫ÂøÖÊáÇÁöÑÊï∞ÊçÆÈ©±Âä®Â¢ûÈïøÊ®°Âûã](https://www.niaogebiji.com/article-26780-1.html)\n  - [‰ΩøÁî® Sensors Analytics ËøõË°å A/B Test](https://www.sensorsdata.cn/blog/shi-yong-sensors-analytics-jin-xing-a-b-test/)\n  - [Ê∑±Â∫¶ A/B ÊµãËØï‰∏≠ÁöÑÂõ†ÊûúÊé®Êñ≠‚Äî‚ÄîÊΩúÂú®ÁªìÊûúÊ®°Âûã](https://juejin.im/post/585b7fc161ff4b0058032b84)\n  - [ÈîÄÂîÆÁ∫øÁ¥¢Â±Ö‰Ωé‰∏ç‰∏äÔºå‰Ω†ÂîØ‰∏ÄË¶ÅÂÅöÁöÑÊòØËêΩÂú∞È°µ A/B ÊµãËØï](https://www.infoq.cn/article/PyOwiqA1zmuIcXqySb7V)\n- Êâ©Â±ïÈòÖËØª\n  - [Ê∑òÂÆùÁî®Êà∑Ë°å‰∏∫Êï∞ÊçÆÂàÜÊûêËØ¶Ëß£](https://www.jianshu.com/p/4f64d739fba2)\n  - [ÁæéÂõ¢ DSP ÂπøÂëäÁ≠ñÁï•ÂÆûË∑µ](https://tech.meituan.com/2017/05/05/mt-dsp.html)\n  - [Êó•ÂøóÈááÈõÜ‰∏éÁî®Êà∑Ë°å‰∏∫ÈìæË∑ØÂàÜÊûê](https://www.jianshu.com/p/ab04b1e3a512)\n","source":"_posts/business-experience-summary-of-lading-page.md","raw":"---\ntitle: ÂâçÁ´ØÊ∑±ËÄïËêΩÂú∞È°µ‰∏öÂä°ÂøÉÂæóÊÄªÁªì\ndate: '2020-06-07'\n---\n\nÂú®ÁßëÊäÄÁπÅËç£ÁöÑ‰ªäÂ§©ÔºåËÆ°ÁÆóÊú∫ÁªôÁé∞‰ª£Á§æ‰ºöÂ∏¶Êù•ÁöÑÊòØ‰ø°ÊÅØÂåñÁöÑÂèòÈù©ÔºåÊú¨Ë¥®‰∏äÊâìÁ†¥ÁöÑÊòØÂéüÊúâÁ§æ‰ºö‰∫∫‰ª¨Âú∞ÁêÜ„ÄÅËØ≠Ë®Ä„ÄÅ‰∫∫ÁßçÁ≠âÂêÑÁª¥Â∫¶‰∏äÁöÑÂ∑ÆÂºÇÔºåÈÄöËøá‰∫íËÅîÁΩë‰∫∫‰ª¨ËÉΩÈÄöËøá‰æøÊç∑ÁöÑÊñπÂºèË∂≥‰∏çÂá∫Êà∑Âè£ÔºåÂ∞±ÂèØ‰ª•Ë¥≠‰π∞Âà∞ÂÖ®ÂõΩ‰πÉËá≥ÂÖ®ÁêÉÁöÑÂïÜÂìÅË¥ßÁâ©„ÄÅ‰∫´ÂèóÂà∞ÂêÑÂºèÂêÑÊ†∑ÁöÑÂ∑ÆÂºÇÂåñÊúçÂä°„ÄÇÂõ†Ê≠§ÔºåÂØπ‰∫é‰∏ÄÂÆ∂‰∫íËÅîÁΩë‰ºÅ‰∏öÊù•ËØ¥ÔºåÁî®Êà∑Êó†ÁñëÊòØÊúÄÈáçË¶ÅÁöÑËµÑ‰∫ßÔºåËÆ©Êõ¥Â§öÁöÑÁî®Êà∑Áü•ÈÅì„ÄÅ‰∫ÜËß£ÁîöËá≥‰∫´Âèó‰ºÅ‰∏öÁöÑ‰∫ßÂìÅÔºåÊòØ‰ºÅ‰∏öÁ´ãË∂≥ÁöÑÂâçÊèêÊù°‰ª∂ÔºåÊØïÁ´üÊúâ‰∫ÜÁî®Êà∑ÊñπÊúâÁõàÂà©ÁöÑÂèØËÉΩÊÄßÔºå‰ºÅ‰∏öÊâçËÉΩÂèØÊåÅÁª≠ÂèëÂ±ï„ÄÇ\n\nÂØπ‰∫éÂõΩÂÜÖÂæàÂ§öÂ§ßÂéÇÁöÑÊù•ËØ¥ÔºåÊüêÁßçÁ®ãÂ∫¶‰∏äÂú®Áî®Êà∑Ëøô‰∏™Áª¥Â∫¶‰∏ä‰ºöÊäïÂÖ•Â§ßÈáèËµÑÊ∫êÔºåËØ∏Â¶ÇËÆæÁ´ã‰∏ìÈó®Ë¥üË¥£Áî®Êà∑Â¢ûÈïøÁöÑÁªÑÁªáÂçï‰Ωç„ÄÇ‰ªñ‰ª¨ÂÖ≥Ê≥®Áî®Êà∑Âú®‰∫ßÂìÅÁªàÁ´ØÁöÑ‰ΩìÈ™åÔºåÁõ∏ÂÖ≥‰ªé‰∏ö‰∫∫ÂëòÈúÄË¶ÅÊáÇÂæóÊäì‰ΩèÁî®Êà∑ÂøÉÈáåÔºåÁªìÂêàÂêÑÁßç‰∏öÂä°Âú∫ÊôØÂà∂ÂÆöÂØπÂ∫îÁöÑËê•ÈîÄÁ≠ñÁï•ÔºåÊúÄÁªàÁõÆÁöÑÂ∞±ÊòØÁïô‰ΩèÁî®Êà∑ÔºåËÆ©Áî®Êà∑ÂøÉÁîòÊÉÖÊÑøÂú∞Ê∂àË¥π„ÄÇ\n\nÁ¨îËÄÖÂ∞±ËÅå‰∫é‰∏éÊüê‰∫íËÅîÁΩëÈáëËûç‰ºÅ‰∏öÔºåÁî±‰∫éÊúÄËøëÁªèÂ∏∏ÈúÄË¶ÅÂíå‰∫ßÂìÅ„ÄÅÊé®Âπø„ÄÅËøêËê•Êâì‰∫§ÈÅìÔºåÂ§öÂ§öÂ∞ëÂ∞ë‰ºöÊé•Ëß¶Âà∞ÂæàÂ§öÂ∫ûÊùÇÁöÑÁü•ËØÜËæπÁïåÂ§ñÁöÑÈ¢ÜÂüüÔºåÊâÄ‰ª•ÊâìÁÆóÁ≥ªÁªüÊï¥ÁêÜËøôÊÆµÊó∂Èó¥Êù•ÁöÑ‰∏öÂä°ÂàÜÊûêÊñπÊ≥ïËÆ∫ÂíåÂÆûË∑µÂøÉÂæó„ÄÇ\n\n<!-- more -->\n\n## ËêΩÂú∞È°µ\n\nÊâÄË∞ìÁöÑËêΩÂú∞È°µÔºàLanding PageÔºâÂ∞±ÊòØÁî®‰∫éÊâøÊé•Áî®Êà∑ÈÄöËøá‰ªòË¥πÊêúÁ¥¢Ê∏†ÈÅìËøõÂÖ•ÁöÑÊé®ÂπøÈ°µÈù¢„ÄÇ\n\nÂú®Â¶Ç‰ªäÂπøÂëäÊ®™Èú∏Â§©‰∏ãÁöÑ‰∫íËÅîÁΩëÁ§æ‰ºöÔºåÊàë‰ª¨Áî®ÁôæÂ∫¶ÊêúÁ¥¢ÁªìÊûúÂá∫Êù•ÂêéÊèíÂú®ÂºÄÂ§¥ÁöÑÁªìÊûúÔºåÂú®ËÖæËÆØËßÜÈ¢ëÁúãÂâßÊó∂Á™ÅÁÑ∂Ëπ¶Âá∫Êù•ÁöÑÂ∞èÂπøÂëäÔºåÂà∑Áü•‰πéÊàñËÄÖÂæÆ‰ø°ÊúãÂèãÂúàÁ©øÊèíÂú®‰ø°ÊÅØÊµÅÂΩì‰∏≠ÁöÑ„Äå‰º™„Äç‰ø°ÊÅØÔºåÊäëÊàñÊòØÊ∑òÂÆùÂ∫óÂÆ∂„ÄÅ‰øùÈô©ÂÖ¨Âè∏„ÄÅÁßªÂä®ËÅîÈÄöÁîµ‰ø°Á≠âÈöî‰∏âÂ∑Æ‰∫îÁªô‰Ω†ÂèëÁöÑÁü≠‰ø°ÈáåÁöÑÁü≠ÈìæÊé•ÔºåÂü∫Êú¨ÈÉΩÂèØ‰ª•ÂΩíÁ±ª‰∏∫ËêΩÂú∞È°µÁöÑÂÖ•Âè£„ÄÇÈÄöÂ∏∏Áî±Áü•ÂêçÂ∫¶‰∏çË∂≥ÁöÑÂπøÂëäÂïÜ‰ªòË¥πË¥≠‰π∞Êé®Âπø‰ΩçÔºåÂà©Áî®Áü•ÂêçÂ∫¶ËæÉÈ´òÁöÑÊ∏†ÈÅìÂª∫Á´ãÁî®Êà∑‰∏éËá™ÂÆ∂‰∫ßÂìÅÁöÑËÆ§Áü•ÂÖ≥Á≥ªÔºåËÄåËêΩÂú∞È°µÂ∞±ÊòØÂÖ≥ÈîÆÁöÑËΩΩ‰Ωì„ÄÇ\n\nÂÖ∂ÂÆûËêΩÂú∞È°µÁöÑÁ±ªÂûãËÉΩÁªÜÂàÜÂá∫ÂæàÂ§öÁßçÔºå‰∏ªË¶ÅÂàÜ‰∏∫Ëê•ÈîÄÊ¥ªÂä®È°µ„ÄÅ‰ø°ÊÅØÊî∂ÈõÜÈ°µ„ÄÅÂ∫îÁî®Êé®ÂπøÈ°µ„ÄÅÂî§ÈÜíÊâæÂõûÈ°µÁ≠âÔºåÂêÑÊúâÂêÑÁöÑËÅåË¥£„ÄÇ\n\n### Ëê•ÈîÄÊ¥ªÂä®È°µ\n\nËê•ÈîÄÊ¥ªÂä®È°µÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜËÆ©‰Ω†ÁöÑÁî®Êà∑Áü•ÈÅì‰Ω†ÁöÑ‰∫ßÂìÅÊòØ‰ªÄ‰πà„ÄÅËÉΩÊèê‰æõ‰ªÄ‰πàÊúçÂä°„ÄÅËÉΩËß£ÂÜ≥Áî®Êà∑‰ªÄ‰πàÈúÄÊ±Ç„ÄÇÈÄöËøáËêΩÂú∞È°µËÉΩÁõ¥Êé•Â±ïÁ§∫ÊàñË∑≥ËΩ¨Ëá≥ APP ÂÜÖÁöÑÊ†∏ÂøÉ‰∏öÂä°ÔºåËµ∑Âà∞ÊâøÊé•ÊµÅÈáèÁöÑ‰ΩúÁî®„ÄÇÈ°µÈù¢ÁöÑÂÜÖÂÆπÈÄöÂ∏∏ÊØîËæÉÁÆÄÊ¥ÅÔºå‰ºöÁî®Âà∞Â§ßÈáèËÆæËÆ°ÊÑüÈ´òÁöÑÂõæÁâáÂíåÈÜíÁõÆÁöÑÊñáÊ°àÔºå‰∏∫Áî®Êà∑Â±ïÁ§∫Ëá™Â∑±ÁöÑÊ¥ªÂä®ÂíåÂïÜÂìÅÔºåÈÄöËøáÁ±ª‰ºº‰ºòÊÉ†‰ª∑Ê†ºÂíåËµ†ÂìÅÁ≠âÊâãÊÆµÂºïÂØºÁî®Êà∑ÁÇπÂáªÔºåËé∑ÂèñÂà∞Áî®Êà∑‰ø°ÊÅØÂêéÔºåÂêéÁª≠ÂÜç‰∏éÂÆ¢Êà∑ËÅîÁ≥ªÔºåÊúÄÁªàÂ∞ÜËøô‰∫õÊΩúÂú®ÁöÑÁî®Êà∑ËΩ¨Âåñ‰∏∫ÁúüÊ≠£ÁöÑÁî®Êà∑„ÄÇ\n\n![Ëê•ÈîÄÊ¥ªÂä®È°µ](https://img.mrsingsing.com/landing-page-marketing.jpg)\n\n### ‰ø°ÊÅØÊêúÈõÜÈ°µ\n\n‰ø°ÊÅØÊêúÈõÜÈ°µÈÄÇÁî®‰∫é‰∏öÂä°Â§çÊùÇÊàñ‰ΩéÈ¢ëÁ±ªÁöÑ‰∫ßÂìÅÔºåÂΩì‰∫ßÂìÅÊ†∏ÂøÉ‰∏öÂä°ËÆæËÆ°Âà∞Â§ßÈ¢ù‰∫§Êòì„ÄÅÂÆöÂà∂ÊúçÂä°„ÄÅÂìçÂ∫îÂë®ÊúüÈïøÁ≠âÁâπÂæÅÁöÑÊó∂ÂÄôÔºåËêΩÂú∞È°µÁöÑ‰ªªÂä°Êõ¥ÂÉèÊòØÁªôÁî®Êà∑‰∏Ä‰∏™ÊâøËØ∫ÔºåËÆ∏ËØ∫‰ºöÊúâÂ§ßÈáè‰ºòÊÉ†ÁöÑÁ¶èÂà©ÔºåÁïô‰∏ã‰∏™‰∫∫‰ø°ÊÅØ‰ª•‰æøÂπ≥Âè∞ÂêéÁª≠‰∏ìÂëòÁöÑÁîµËÆø„ÄÇÂõûÊÉ≥Ëµ∑ÂæàÂ§öËØ∏Â¶ÇËÅå‰∏öÂüπËÆ≠ÁöÑÂÖ¨Âè∏ÔºåÊòØ‰∏çÊòØÁΩëÈ°µÂä†ËΩΩÂêéÈÉΩ‰ºöÂºπÁ™óËÆ©‰Ω†Â°´ÂÜô‰∏™‰∫∫‰ø°ÊÅØÔºåÁÑ∂ÂêéÂá†Â§©ÂÜÖÂ∞±‰ºöÊé•Âà∞‰ªñ‰ª¨ÁîµËØùÂêë‰Ω†Êé®ÈîÄËØæÁ®ã„ÄÇ\n\n![‰ø°ÊÅØÊêúÈõÜÈ°µ](https://img.mrsingsing.com/landing-page-information.jpg)\n\n### Â∫îÁî®Êé®ÂπøÈ°µ\n\nÂ∫îÁî®Êé®ÂπøÈ°µÁöÑÁõÆÁöÑÂæàÊòéÁ°ÆÔºåÂ∞±ÊòØÂºïÂØºÁî®Êà∑‰∏ãËΩΩÂ∫îÁî®„ÄÅÊ≥®ÂÜå„ÄÅÁôªÂΩïÁ≠â„ÄÇ\n\n![Â∫îÁî®Êé®ÂπøÈ°µ](https://img.mrsingsing.com/landing-page-application-promotion.jpg)\n\n### Âî§ÈÜíÊâæÂõûÈ°µ\n\nÊó•Ê¥ªÊúàÊ¥ªÊòØ‰∫íËÅîÁΩëÂ∫îÁî®ÂæàÈáçË¶ÅÁöÑÊ¥ªÊÄßÊåáÊ†áÔºåÂî§ÈÜíÊâæÂõûÈ°µÁöÑ‰ΩøÂëΩÂ∞±ÊòØÊøÄÊ¥ªÈÇ£‰∫õÊµÅÂ§±ÊéâÁöÑÁî®Êà∑ÔºåÈÄöËøáÁü≠‰ø°„ÄÅÈÇÆ‰ª∂„ÄÅÊ∂àÊÅØÈÄöÁü•Á≠â‰∏ªÂä®ÂèçÈ¶àÁöÑÂΩ¢ÂºèÂê∏ÂºïËÄÅÁî®Êà∑ÂõûÂΩíÂ∫îÁî®„ÄÇ\n\n![Âî§ÈÜíÊâæÂõûÈ°µ](https://img.mrsingsing.com/landing-page-awaken.jpg)\n\n## Êï∞ÊçÆÊåáÊ†á‰∏éËΩ¨ÂåñÁéáÂàÜÊûê\n\n### Êï∞ÊçÆÊåáÊ†á\n\nËêΩÂú∞È°µÁöÑÂÆûÈôÖÊïàÊûúÈúÄË¶ÅÈáèÂåñÊåáÊ†áÊù•Ë°°ÈáèÔºå‰∏ãÈù¢‰ªéËøêËê•ËßíÂ∫¶ÂàóÂá∫‰∫Ü‰∏Ä‰∫õËêΩÂú∞È°µÂª∫ËÆæÈúÄË¶ÅÂÖ≥Ê≥®ÁöÑÊåáÊ†á„ÄÇ\n\n![ËêΩÂú∞È°µÊåáÊ†á](https://img.mrsingsing.com/landing-page-pointer.jpg)\n\n- **È°µÈù¢ÊµèËßàÈáè**ÔºöÊåáÈ°µÈù¢Ë¢´Áî®Êà∑ÊµèËßàÁöÑÊ¨°Êï∞Ôºå‰∏•Ê†ºÊÑè‰πâ‰∏äÊåáÁî®Êà∑ÂêëÁΩëÁ´ôÂèëÂá∫Âπ∂ÂÆåÊàê‰∏ãËΩΩÈ°µÈù¢ÁöÑËØ∑Ê±Ç\n- **ÁÇπÂáªÁéá**ÔºöÁΩëÈ°µÂÜÖÊüêÂÜÖÂÆπË¢´ÁÇπÂáªÊ¨°Êï∞‰∏éÊòæÁ§∫Ê¨°Êï∞‰πãÊØî\n- **Ë∑≥Âá∫Áéá**ÔºöË°°ÈáèËêΩÂú∞È°µË¥®ÈáèÂ•ΩÂùèÁöÑÈáçË¶ÅÊåáÊ†á„ÄÇÈ°µÈù¢Ë∑≥Âá∫ÁéáÁöÑËÆ°ÁÆó‰∏∫ËØ•È°µÈù¢‰Ωú‰∏∫ËêΩÂú∞È°µË∑≥Âá∫ÁöÑËÆøÈóÆÊ¨°Êï∞Âç†ËØ•È°µÈù¢‰Ωú‰∏∫ËêΩÂú∞È°µËÆøÈóÆÊ¨°Êï∞ÁöÑÁôæÂàÜÊØîÔºåÂÖ®Á´ôË∑≥Âá∫ÁéáÂàô‰∏∫Ë∑≥Âá∫ÁöÑËÆøÈóÆÊ¨°Êï∞Èô§‰ª•ÊÄªÁöÑËÆøÈóÆÊ¨°Êï∞„ÄÇ\n- **ÂÅúÁïôÊó∂Èïø**ÔºöÁî®‰∫éË°°ÈáèÁî®Êà∑‰∏éÁΩëÁ´ô/APP ‰∫§‰∫íÊ∑±Â∫¶Ôºå‰∏ÄËà¨ÊúâÈ°µÈù¢ÂÅúÁïôÊó∂ÈïøÔºå‰ºöËØùÊó∂Èïø‰ª•ÂèäÂπ≥ÂùáÂÅúÁïôÊó∂ÈïøÁ≠âÊ¶ÇÂøµÔºåÂÖ∂ËÆ°ÁÆóÁöÑÊ†∏ÂøÉÂéüÁêÜÂú®‰∫éËÆ∞ÂΩï‰∏ãÁî®Êà∑Ë°å‰∏∫ÂèëÁîüÊó∂ÁöÑÊó∂Èó¥Êà≥ÔºåÂêéÊúüÂÜçÂ∫îÁî®Áõ∏Â∫îÂÖ¨ÂºèÊù•ËÆ°ÁÆó\n- **‰∫§‰∫íÊ∑±Â∫¶**ÔºöÊåáÁî®Êà∑Âú®‰∏ÄÊ¨°ÊµèËßàÁΩëÈ°µÊàñ APP ËøáÁ®ã‰∏≠ÔºåËÆøÈóÆ‰∫ÜÂ§öÂ∞ëÈ°µÈù¢„ÄÇÁî®Êà∑Âú®‰∏ÄÊ¨°ÊµèËßà‰∏≠ËÆøÈóÆÁöÑÈ°µÈù¢Ë∂äÂ§öÔºå‰∫§‰∫íÊ∑±Â∫¶Â∞±Ë∂äÊ∑±„ÄÇ‰∫§‰∫íÊ∑±Â∫¶ËÉΩÂ§ü‰æßÈù¢ÂèçÊò†ÁΩëÁ´ôÊàñ APP ÂØπ‰∫éÁî®Êà∑ÁöÑÂê∏ÂºïÂäõ„ÄÇ\n  ÂèØ‰ª•ÈÄöËøá Session Êù•ËÆ°ÁÆóÁî®Êà∑ÁöÑÂπ≥Âùá‰∫§‰∫íÊ∑±Â∫¶„ÄÇ\n\nÈô§Ê≠§‰πãÂ§ñËøòÊúâ‰∏Ä‰∫õÊàë‰ª¨‰ºöÁªèÂ∏∏Âê¨Âà∞ÁöÑ‰∏Ä‰∫õÊ†∏ÂøÉÊåáÊ†áÔºö\n\n- **DAUÔºàDaily Activited UsersÔºâ**ÔºöÊó•Ê¥ªË∑ÉÁî®Êà∑Êï∞ÈáèÔºåÁªüËÆ°ÂçïÊó•ÂÜÖÔºåÁôªÂΩïÊàñ‰ΩøÁî®Êüê‰∏™‰∫ßÂìÅÁöÑÁî®Êà∑Êï∞ÔºàÂéªÈô§ÈáçÂ§çÁôªÂΩïÁöÑÁî®Êà∑Ôºâ\n- **MAUÔºàMonthly Activited Users**ÔºâÔºöÊúàÊ¥ªË∑ÉÁî®Êà∑Êï∞ÈáèÔºåÁªüËÆ°ÂçïÊúàÂÜÖÔºåÁôªÂΩïÊàñ‰ΩøÁî®Êüê‰∏™‰∫ßÂìÅÁöÑÁî®Êà∑Êï∞ÔºàÂéªÈô§ÈáçÂ§çÁôªÂΩïÁöÑÁî®Êà∑Ôºâ\n- **PVÔºàPage ViewÔºâ**ÔºöÈ°µÈù¢ÊµèËßàÈáèÂíåÁÇπÂáªÈáèÔºåÁî®Êà∑ÊØèÊ¨°ÂØπÁΩëÈ°µËøõË°åËÆøÈóÆË¢´ËÆ∞ÂΩï‰∏∫‰∏ÄÊ¨°\n- **UVÔºàUnique ViewÔºâ**ÔºöÁã¨Á´ãËÆøÂÆ¢ÔºåËÆøÈóÆÁΩëÁ´ôÁöÑ‰∏Ä‰∏™ÁªàÁ´Ø‰∏∫‰∏Ä‰∏™ËÆøÂÆ¢\n- **ËΩ¨ÂåñÁéá**Ôºö‰∏Ä‰∏™ÁªüËÆ°Âë®ÊúüÂÜÖÔºåÂÆåÊàêËΩ¨ÂåñË°å‰∏∫ÁöÑÊ¨°Êï∞Âç†Êé®Âπø‰ø°ÊÅØÊÄªÁÇπÂáªÊ¨°Êï∞ÁöÑÊØîÁéá„ÄÇ\n- **ÁïôÂ≠òÁéá**ÔºöÊüê‰∏ÄÁªüËÆ°Êó∂ÊÆµÂÜÖÁöÑÊñ∞Â¢ûÁî®Êà∑Êï∞‰∏≠ÁªèËøá‰∏ÄÊÆµÊó∂Èó¥Âêé‰ªçÂêØÂä®ËØ•Â∫îÁî®ÁöÑÁî®Êà∑ÊØî‰æã„ÄÇ\n\n### ÊºèÊñóÊ®°Âûã\n\nË°°ÈáèÊåáÊ†áÈúÄË¶ÅËêΩÂÆûÂà∞ÂÖ∑‰ΩìÁöÑÂàÜÊûêÊ®°ÂûãÔºåËÄåÊºèÊñóÊ®°ÂûãÂàôÊòØÊúÄÂ∏∏Áî®ÁöÑËØÑÂà§ËêΩÂú∞È°µËΩ¨ÂåñÊïàÊûúÁöÑÂ∑•ÂÖ∑„ÄÇÊºèÊñóÊ®°ÂûãÁöÑÂÆûÁé∞ÂéüÁêÜÊòØÂú®ÊΩúÂú®Áî®Êà∑‰ªéËÆøÈóÆÈ°µÈù¢Âà∞ÊúÄÁªàËΩ¨Êç¢ÊàêÁúüÊ≠£Áî®Êà∑Ëøô‰∏™Ë°å‰∏∫Ë∑ØÂæÑ‰∏äÁöÑÂÖ≥ÈîÆËäÇÁÇπËøõË°åÂüãÁÇπÊî∂ÈõÜË°å‰∏∫Êï∞ÊçÆÔºåÂπ∂Ê†πÊçÆ‰∏çÂêåÂÖ≥ÈîÆËäÇÁÇπÁöÑÁâπÊÄßËÆæÂÆö‰∏çÂêåÁõÆÊ†áÔºåÊúÄÂêéÈÄöËøáÂêÑÈò∂ÊÆµÁöÑËΩ¨ÂåñÊÉÖÂÜµÊîπÂñÑÂÖ≥ÈîÆËäÇÁÇπËΩ¨ÂåñÁöÑÊµÅÁ®ãËÆæËÆ°Ôºå‰ªéËÄåÊèêÂçáÁî®Êà∑‰ΩìÈ™å„ÄÇ\n\n‰ª•ÊàëÊúÄÁÜüÊÇâÁöÑÂºïÂØºÊµÅÈáèÁöÑÊ≥®ÂÜåËêΩÂú∞È°µ‰∏∫‰æãÔºåÈ°µÈù¢ÂëàÁé∞‰ªÖÊúâÊâãÊú∫Âè∑ËæìÂÖ•Ê°Ü„ÄÅÁü≠‰ø°È™åËØÅÁ†ÅËæìÂÖ•Ê°Ü„ÄÅÂØÜÁ†ÅËæìÂÖ•Ê°ÜÂíåÊ≥®ÂÜåÊåâÈíÆÁ≠âÂõõ‰∏™‰∏ªË¶ÅÁöÑÂèØ‰∫§‰∫íÂÖÉÁ¥†ÔºåÁêÜÊÉ≥ÁöÑÊñ∞Áî®Êà∑Ê≥®ÂÜåÊµÅÁ®ãÂ§ßÊ¶ÇÊòØËøôÊ†∑ÁöÑÔºö\n\n```\nËÆøÈóÆÈ°µÈù¢ -> ËæìÂÖ•ÊâãÊú∫Âè∑ -> ‰∏ãÂèëÁü≠‰ø°È™åËØÅÁ†Å -> ËæìÂÖ•È™åËØÅÁ†Å -> ËæìÂÖ•Ë¥¶Âè∑ÂØÜÁ†Å -> ÁÇπÂáªÊ≥®ÂÜåÊåâÈíÆ -> ÊúçÂä°Á´ØËøõË°åÊ≥®ÂÜåÂ§ÑÁêÜ -> Ê≥®ÂÜåÊàêÂäü\n```\n\nËΩ¨ÂåñÊºèÊñóÂèØ‰ª•Ê∑ªÂä†Â§ö‰∏™‰∫§‰∫íÊ≠•È™§ÔºåÊØîÂ¶ÇÂΩìÁî®Êà∑ËæìÂÖ•ÊâãÊú∫Âè∑ÂêéÔºåÂâçÁ´ØËá™Âä®Ê£ÄÊµãËæìÂÖ•ÂÄºÁî±Ê≠£ÂàôÊ†°È™åÊúâÊïàÂêéÔºåÂàô‰∏äÊä•Ê†áËÆ∞‰∏∫ `ËæìÂÖ•ÊâãÊú∫Âè∑` ÁöÑÂüãÁÇπÔºåÂú®Áî®Êà∑Ëé∑ÂèñÂà∞Áü≠‰ø°È™åËØÅÁ†ÅÔºåÂêåÊ†∑Âú∞ËæìÂÖ•Áü≠‰ø°È™åËØÅÁ†ÅÂπ∂Ê†°È™åÊúâÊïàÂêéÔºåÂç≥‰∏äÊä• `ËæìÂÖ•È™åËØÅÁ†Å` ÁöÑÂüãÁÇπ„ÄÇÈÄöËøáÊ∑ªÂä†‰∏§‰∏™ÂÖ≥ÈîÆËäÇÁÇπÁöÑÂüãÁÇπÔºå‰ΩøÁî®ËΩ¨ÂåñÊºèÊñóÈÖçÂêàÂèØËßÜÂåñËßÜÂõæÔºåÊàë‰ª¨Â∞±ËÉΩÊ∏ÖÊô∞Âú∞Áü•ÈÅìÊúâÂ§öÂ∞ëÁî®Êà∑ÂÆåÊàê‰∫Ü `ËæìÂÖ•ÊâãÊú∫Âè∑` Âà∞ `ËæìÂÖ•È™åËØÅÁ†Å` Ëøô‰∏™Ê≠•È™§ÔºåËÄåÈÄöËøá `ËæìÂÖ•ÊâãÊú∫Âè∑` ÁöÑ‰∫∫Êï∞ÂáèÂéª `ËæìÂÖ•È™åËØÅÁ†Å` ÁöÑ‰∫∫Êï∞ÔºåÊàë‰ª¨Â∞±ËÉΩËé∑Áü•ËØ•Èò∂ÊÆµÊµÅÂ§±ÁöÑÁî®Êà∑Êï∞„ÄÇ\n\nËΩ¨ÂåñÁéáÈúÄË¶Å **ÂØπÊØî**Ôºå‰∏çËÉΩÂú®ÂàÜÊûêÁöÑÊó∂ÂÄôÂèëÁé∞Êüê‰∏™ÁéØËäÇÁöÑËΩ¨ÂåñÁéáÂ§™‰ΩéÔºåÂ∞±ËÆ§‰∏∫‰∏ÄÂÆöÊòØËøô‰∏™ÁéØËäÇÂá∫Áé∞‰∫ÜÈóÆÈ¢ò„ÄÇÊØîÂ¶Ç‰ªé `ËæìÂÖ•ÊâãÊú∫Âè∑` Âà∞ `Ê≥®ÂÜåÊàêÂäü` Ëøô‰∏™ÁéØËäÇËΩ¨ÂåñÁéáÂè™Êúâ 40%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåÊòØÊâÄÊúâÁéØËäÇ‰∏≠ÊúÄ‰ΩéÁöÑÔºå‰ΩÜÊàë‰ª¨ÂèØ‰ª•Áî®ÂéÜÂè≤Êï∞ÊçÆËøõË°åÊØîËæÉÔºå‰ªé**Ë∂ãÂäø**ÁöÑÂèòÂåñÂàÜÊûêËΩ¨ÂåñÊïàÊûúÔºå‰∏ä‰∏™ÊúàÂêåÊúüËØ•ÁéØËäÇÁöÑËΩ¨ÂåñÁéáÈ°µÊòØ 38%ÔºåË°å‰∏öÂêåÁ±ª‰∫ßÂìÅÂùáÂÄºÊòØ 36%ÔºåÈÇ£‰πàÂÖ∂ÂÆûËØ•ÁéØËäÇÂÅöÂæóËøòÊòØ‰∏çÈîôÁöÑ„ÄÇÊàë‰ª¨ÁúãÂêéÈù¢ÁöÑÁéØËäÇÔºå‰ªé `Ê≥®ÂÜåÊàêÂäü` Âà∞ `ËøõÂÖ• APP Â∫îÁî®` ÁöÑÁéØËäÇÁöÑËΩ¨ÂåñÁéáÊòØ 62%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåË∑üÂÖ∂‰ªñÁéØËäÇÁõ∏ÊØîËæÉËµ∑Êù•ÔºåËøô‰∏™ËΩ¨ÂåñÁéáÊòØÊúÄÈ´òÁöÑÔºå‰ΩÜÊòØÊàë‰ª¨ÂØπÊØîË°å‰∏öÂêåÁ±ªÂûã‰∫ßÂìÅ‰ºöÂèëÁé∞ÂùáÂÄºÊòØ 90%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåÂØπÊØî‰∏ä‰∏™ÊúàÂêåÊúüËøô‰∏™ÊØîÁéáÊòØ 91%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞ÂΩìÂâçËøô‰∏™ÊúàÔºåËêΩÂú∞È°µ‰ªéÊ≥®ÂÜåÊàêÂäüÂà∞ÁôªÂΩï APP Â∫îÁî®ÁöÑËΩ¨ÂåñÁéáÊòØÂÅöÂæóÈùûÂ∏∏‰∏çÂ•ΩÁöÑÔºåÂÖ∂ÂÆûËøô‰∏™Â∞±ÂõûÂà∞Êàë‰ª¨Êï∞ÊçÆÂàÜÊûê‰∏≠ÁöÑÂØπÊØîÂàÜÊûê‰∫ÜÔºåÊàë‰ª¨ÈúÄË¶Å‰∏éËá™Â∑±ÁöÑÂéÜÂè≤Êï∞ÊçÆÂÅöÂØπÊØîÔºåÊâçËÉΩÂæóÂá∫ÂÆåÊï¥ÁöÑÁªìËÆ∫ÔºåÂΩìÁÑ∂Âè¶Â§ñ‰∏ÄÁÇπÊòØ‰∏çÂêåÁöÑÁî®Êà∑ÔºåÂØπÊØîÂú®‰∫§‰∫íÊµÅÁ®ã‰∏≠ÁöÑËΩ¨ÂåñÁéáÊòØÂèØ‰ª•ÊúâÂæàÂ§ßÁöÑÂ∑ÆÂºÇÁöÑÔºåÂÉèÂÆ¢Êà∑Êù•Ëá™‰∏çÂêåÁöÑÊ∏†ÈÅì„ÄÅ‰∏çÂêåÁöÑÂå∫Âüü„ÄÅ‰∏çÂêåÁöÑÁîüÂëΩÂë®Êúü„ÄÅ‰∏çÂêåÊÄßÂà´„ÄÅ‰∏çÂêåÂπ¥ÈæÑÔºå‰ªñ‰ª¨Âú®ÊºèÊñó‰∏≠ÁöÑË°®Áé∞ÈÉΩÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨Âú®ËøõË°åÊºèÊñóÂàÜÊûêÁöÑÊó∂ÂÄôÔºåÂæÄÂæÄËøòÈúÄË¶ÅËøõË°åÁªÜÂàÜÁöÑÊºèÊñóÊ®°ÂûãÂàÜÊûêÔºå\n\nÂ¶ÇÊûúËΩ¨ÂåñÁéáÂπ∂‰∏çÁêÜÊÉ≥ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá **ÁªÜÂàÜÁª¥Â∫¶** ÂØπËΩ¨ÂåñÁéáËøõË°åÊãÜËß£ÔºåÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊìç‰ΩúÁ≥ªÁªüÁª¥Â∫¶Ôºà‰æãÂ¶ÇÂàÜ‰∏∫ Android Âíå iOSÔºâÁúãÂà∞‰∏çÂêåÊìç‰ΩúÁ≥ªÁªüÁöÑÈò∂ÊÆµËΩ¨ÂåñÊÉÖÂÜµÔºå‰πüÂèØ‰ª•ÈÄâÊã©ÊµèËßàÂô®ÔºàChrome„ÄÅSafari„ÄÅFirefox Âíå ÂæÆ‰ø°ÂÜÖÁΩÆÊµèËßàÂô®Á≠âÔºâÁúãÂà∞‰∏çÂêåÊµèËßàÂô®ÁöÑÈò∂ÊÆµËΩ¨ÂåñÊÉÖÂÜµÔºåÁîöËá≥ÂèØ‰ª•ÈÄâÊã©ËÆæÂ§áÁöÑÂìÅÁâåÊù•ÁúãÂà∞ÂØπÂ∫îÁöÑÈò∂ÊÆµËΩ¨ÂåñÊÉÖÂÜµ„ÄÇÂ¶ÇÊûúÊüê‰∏™ËΩ¨ÂåñÁéáÊòéÊòæ‰Ωé‰∫éÊ≠£Â∏∏ÁöÑËΩ¨ÂåñÁéáÊÉÖÂÜµÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÂêàÁêÜÊÄÄÁñëÈ°µÈù¢Ëøô‰∏™Êìç‰ΩúÁ≥ªÁªü„ÄÅÂìÅÁâåÊàñÊµèËßàÂô®‰∏äÔºåÂÖºÂÆπÊÄßÂÅöÂæó‰∏çÂ§ü„ÄÇ\n\nÁªºÂêà‰ª•‰∏äÔºåÂèØ‰ª•ÂæóÂá∫Âü∫‰∫éÊºèÊñóÊ®°ÂûãÁöÑÂàÜÊûêÊñπÊ≥ïÊúâ‰ª•‰∏ãÂá†ÁßçÔºö\n\n- **Ë∂ãÂäøÔºàTrendÔºâ**Ôºö‰ªé `Êó∂Èó¥ËΩ¥` ÁöÑÂèòÂåñÊÉÖÂÜµËøõË°åÂàÜÊûêÔºåÈÄÇÁî®‰∫éÂØπÊüê‰∏ÄÊµÅÁ®ãÊàñÂÖ∂‰∏≠Êüê‰∏™Ê≠•È™§ËøõË°åÊîπËøõÊàñ‰ºòÂåñÁöÑÊïàÊûúÁõëÊéß„ÄÇ\n- **ÊØîËæÉÔºàCompareÔºâ**ÔºöÈÄöËøáÊØîËæÉ `Á±ª‰ºº‰∫ßÂìÅÊàñÊúçÂä°Èó¥` Ë¥≠‰π∞Êàñ‰ΩøÁî®ÊµÅÁ®ãÁöÑËΩ¨ÂåñÁéáÔºåÂèëÁé∞Êüê‰∫õ‰∫ßÂìÅÊàñÂ∫îÁî®‰∏≠Â≠òÂú®ÁöÑÈóÆÈ¢ò„ÄÇ\n- **ÁªÜÂàÜÔºàSegmentÔºâ**ÔºöÁªÜÂàÜÊù•Ê∫êÊàñ `‰∏çÂêåÁöÑÂÆ¢Êà∑Á±ªÂûã` Âú®ËΩ¨ÂåñÁéá‰∏äÁöÑË°®Áé∞ÔºåÂèëÁé∞‰∏Ä‰∫õÈ´òË¥®ÈáèÁöÑÊù•Ê∫êÊàñÂÆ¢Êà∑ÔºåÈÄöÂ∏∏Áî®‰∫éÂàÜÊûêÁΩëÁ´ôÁöÑÂπøÂëäÊàñÊé®ÂπøÁöÑÊïàÊûúÂèä ROI„ÄÇ\n\n### A/B ÊµãËØï\n\nA/B ÊµãËØïÊòØ‰∏∫‰∫Ü Web Êàñ App ÁïåÈù¢ÊàñÊµÅÁ®ãÂà∂‰Ωú‰∏§‰∏™ÊàñÂ§ö‰∏™ÁâàÊú¨ÔºåÂú®Áõ∏ÂêåÊó∂Èó¥Áª¥Â∫¶ÔºåÂàÜÂà´ËÆ©ÁªÑÊàêÊàêÂàÜÁõ∏ÂêåÔºàÁõ∏‰ººÔºâÁöÑËÆøÂÆ¢Áæ§ÁªÑÔºàÁõÆÊ†á‰∫∫Áæ§ÔºâÈöèÊú∫ÁöÑËÆøÈóÆËøô‰∫õÁâàÊú¨ÔºåÊî∂ÈõÜÂêÑÁæ§ÁªÑÁöÑÁî®Êà∑‰ΩìÈ™åÊï∞ÊçÆÂíå‰∏öÂä°Êï∞ÊçÆÔºåÊúÄÂêéÂàÜÊûê„ÄÅËØÑ‰º∞ÂàùÊúÄÂ•ΩÁâàÊú¨ÔºåÊ≠£ÂºèÈááÁî®„ÄÇ\n\nÈÄöËøá A/B ÊµãËØïÂèØ‰ª•ÊúâÊïàÂáèÂ∞ëÂü∫‰∫éÂÅáËÆæÂâçÊèêÁöÑÂêÑÁßçÊó†Ë∞ì‰∫âËÆ∫„ÄÇÈÄöËøá A/B ÊµãËØïÂèØ‰ª•ÁúãÂà∞Áî®Êà∑Èù¢ÂØπ‰∏çÂêåËêΩÂú∞È°µÂÖÉÁ¥†ÁöÑÁúüÂÆûÂèçÂ∫î„ÄÅÁî®Êà∑Êõ¥ÂÆπÊòìÁÇπÂáªËêΩÂú∞È°µÁöÑÂì™‰∫õ‰ΩçÁΩÆÔºå‰ªéËÄåÂæóÂá∫‰øÆÊîπÈ°µÈù¢ÂÖÉÁ¥†ÁöÑÊúâÂäõËØÅÊçÆ„ÄÇ\n\nÂõ†‰∏∫ÁªèÂ∏∏ÈúÄË¶ÅÂú®ÊµÅÈáèÂàÜÈÖçÊó∂ÊúâÊâÄÊùÉË°°Ôºå‰∏ÄËà¨Êúâ‰ª•‰∏ãÂá†‰∏™ÊÉÖÂÜµÔºö\n\n- ‰∏çÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™åÔºöÂ¶Ç UI ÂÆûÈ™å„ÄÅÊñáÊ°àÁ±ªÂÆûÈ™åÁ≠âÔºå‰∏ÄËà¨ÂèØ‰ª•ÂùáÂåÄÂàÜÈÖçÊµÅÈáèÂÆûÈ™åÔºåÂèØ‰ª•Âø´ÈÄüÂæóÂà∞ÂÆûÈ™åÁªìËÆ∫\n- ‰∏çÁ°ÆÂÆöÊÄßËæÉÂº∫ÁöÑÂÆûÈ™åÔºöÂ¶Ç‰∫ßÂìÅÊñ∞ÂäüËÉΩ‰∏äÁ∫øÔºå‰∏ÄËà¨ÈúÄÂ∞èÊµÅÈáèÂÆûÈ™åÔºåÂ∞ΩÈáèÂáèÂ∞ëÁî®Êà∑‰ΩìÈ™åÂΩ±ÂìçÔºåÂú®ÂÖÅËÆ∏ÁöÑÊó∂Èó¥ÂÜÖÂæóÂà∞ÁªìËÆ∫\n- Â∏åÊúõÊî∂ÁõäÊúÄÂ§ßÂåñÁöÑÂÆûÈ™åÔºöÂ¶ÇËøêËê•Ê¥ªÂä®Á≠âÔºåÂ∞ΩÂèØËÉΩÂ∞ÜÊïàÊûúÊúÄÂ§ßÂåñÔºå‰∏ÄËà¨ÈúÄË¶ÅÂ§ßÊµÅÈáèÂÆûÈ™åÔºåÁïôÂá∫Â∞èÈÉ®ÂàÜÂØπÁÖßÁªÑÁî®‰∫éËØÑ‰º∞ ROI\n\nÂõ†‰∏∫ÈÄöÂ∏∏Âçï‰∏™ÈìæÊé•ÁöÑËêΩÂú∞È°µ‰∏çÂÖ∑Â§á A/B test ÁöÑÂäüËÉΩÔºåÈúÄË¶ÅÈÖçÂêà‰∏ìÈó®Áî®‰∫é A/B test È°µÈù¢ÂàÜÂèëÁöÑÁ≥ªÁªüËøõË°åÊµÅÈáèÂàÜÈÖçÔºåÂÆûÈôÖ‰∏äÈÄöËøáÁ±ª‰ººÂèçÂêë‰ª£ÁêÜÁöÑÂéüÁêÜÔºåÊ†πÊçÆÂàÜÈÖçÂà∞‰∏çÂêåÁöÑÈ°µÈù¢ÁöÑÊØî‰æãÂ∞ÜÊ†áËØÜ A/B ‰∏çÂêåÈ°µÈù¢ËøîÂõûÁªôÁî®Êà∑Â±ïÁ§∫„ÄÇ\n\nÁî±‰∫éÊàë‰ª¨ÁöÑÊ≥®ÂÜåËêΩÂú∞È°µÊòØ‰ΩøÁî®ÂèØËßÜÂåñÈ°µÈù¢Êê≠Âª∫Á≥ªÁªüÈÖçÁΩÆÁöÑÔºåÂπ∂‰∏çÊîØÊåÅ A/B ÊµãËØïÔºåÊâÄ‰ª•Êê≠ÈÖçÂè¶‰∏ÄÂ•óÂâçÁ´ØÁöÑÈõÜÊàêÁ≥ªÁªüÂíåÂÆ¢Êà∑Á´ØÁöÑ CMS Á≥ªÁªüÔºåËÉΩÂ§üÂÆûÁé∞ÂØπÈ°µÈù¢ÁöÑ A/B ÊµãËØï„ÄÇËÄåÂú®È°µÈù¢ÁöÑÂüãÁÇπÁªüËÆ°‰∏≠ÔºåÈúÄË¶Å‰∏äÊä• A/B ÁöÑÊ†áËØÜÔºå‰ª•‰æøÂêéÁª≠‰∏öÂä°Êï∞ÊçÆÁöÑËøΩË∏™ÂíåËØÑ‰º∞ÁªìÊûúÔºåËøõËÄåÂæóÂá∫ÊµãËØïÁªìËÆ∫Âπ∂ÊåáÂØºËêΩÂú∞È°µÊîπËøõ„ÄÇ\n\n### Êï∞ÊçÆÊ†°È™åÊµÅÁ®ã\n\nÂØπ‰∫éÂàÜÊûêÂ∏àÊù•ËØ¥ÔºåÊï∞ÊçÆÂàÜÊûêÁöÑÁªìËÆ∫Ê≠£Á°ÆÁöÑÂâçÊèêÊòØÊï∞ÊçÆÊù•Ê∫êÁöÑÊ≠£Á°ÆÊÄßÔºå‰πüÂ∞±ÊòØÊäÄÊúØ‰∫∫ÂëòÈúÄË¶ÅÁ°Æ‰øùÊï∞ÊçÆÈááÈõÜÁöÑÂáÜÁ°ÆÊÄß„ÄÇ\n\nÊï∞ÊçÆÈááÈõÜÁöÑÊ≠£Á°ÆÊÄßÊ†°È™åÔºö\n\n1. ‰∫ã‰ª∂ÊòØÂê¶‰∏äÊä•\n2. ‰∫ã‰ª∂Â±ûÊÄßÊòØÂê¶‰∏äÊä•Ôºå‰∏äÊä•ÁöÑÂ±ûÊÄßÂÄºÊòØÂê¶Ê≠£Á°Æ\n3. ÂÖ¨ÂÖ±Â±ûÊÄßÊòØÂê¶‰∏äÊä•Ôºå‰∏äÊä•ÁöÑÂÖ¨ÂÖ±Â±ûÊÄßÂÄºÊòØÂê¶ËøáÊ≠£Á°Æ\n4. Â¶ÇÊûú‰∏ä‰º†‰∫ÜÁî®Êà∑Â±ûÊÄßÔºåÁî®Êà∑Â±ûÊÄßÊòØÂê¶‰∏äÊä•Ê≠£Á°Æ\n5. ‰∫ã‰ª∂Â±ûÊÄßÂíåÁî®Êà∑Â±ûÊÄßÁöÑÂ±ûÊÄßÂÄºÁ±ªÂûãÊòØÂê¶Ê≠£Á°Æ\n\nÁî®Êà∑ÂÖ≥ËÅîÁöÑÊ≠£Á°ÆÊÄßÊ†°È™åÔºö\n\n1. ÊòØÂê¶ÂÅö‰∫ÜÁî®Êà∑ÂÖ≥ËÅî\n2. ÁôªÂΩï ID ÊòØÂê¶‰∏ä‰º†Ê≠£Á°Æ\n3. ÊòØÂê¶Ê≠£Á°ÆË∞ÉÁî®Áî®Êà∑ÂÖ≥ËÅîÁöÑÊé•Âè£\n\nÂ¶ÇÊûú‰ΩøÁî®ÊºèÊñóÊ®°ÂûãËøõË°åÂàÜÊûêÊó∂Ôºå‰∏äÊä•ÂüãÁÇπÁöÑÊó∂Êú∫Ë¶ÅÁ°Æ‰øùÁ¨¶ÂêàÈ°∫Â∫èÔºåÂú®Áî®Êà∑Á´Ø‰∏äÊä•Êó∂Èó¥‰∏éÁªüËÆ°Âπ≥Âè∞ÁöÑÂüãÁÇπÂÖ•Â∫ìÊó∂Èó¥‰πüÊòØÈúÄË¶ÅÊ≥®ÊÑèÁöÑÁÇπ„ÄÇ\n\n`ÂüãÁÇπÁÆ°ÁêÜ` -> `ÂÆûÊó∂ÂØºÂÖ•Êï∞ÊçÆÊü•ËØ¢` -> `Áî®Êà∑ ID` Êü•ËØ¢Áî®Êà∑ÂÖ≥ËÅîÁöÑÂáÜÁ°ÆÊÄß\n\n---\n\n**ÂèÇËÄÉËµÑÊñôÔºö**\n\n- ‰∫ßÂìÅËÆæËÆ°\n  - [È´òËΩ¨ÂåñÁéáÁöÑ APP Êé®ÂπøËêΩÂú∞È°µÊòØÊÄéÊ†∑ÁÇºÊàêÁöÑ](http://www.woshipm.com/pd/3079851.html)\n  - [ÈÇ£‰∫õÂà∂‰ΩúËêΩÂú∞È°µÁöÑÂ•óË∑Ø](https://www.jianshu.com/p/21db3a53b9e7)\n  - [Â¶Ç‰ΩïÊèêÂçáËêΩÂú∞È°µËΩ¨ÂåñÁéá](https://www.shujike.com/blog/77744)\n  - [‰ªÄ‰πàÊòØËêΩÂú∞È°µ](https://zhuanlan.zhihu.com/p/33882407)\n  - [‰Ω†ÈóÆÊàëÁ≠î 12 ‰∏™ÊµÅÈáèÂíåËΩ¨ÂåñÁõ∏ÂÖ≥ÁöÑÂÆûÊàòÈóÆÈ¢òËß£Á≠î](https://www.27sem.com/article/3634.html)\n  - [È´òËΩ¨ÂåñÁöÑËêΩÂú∞È°µÈïøÂï•Ê†∑](https://zhuanlan.zhihu.com/p/36165204)\n- Êï∞ÊçÆÂàÜÊûê\n  - [‰∫ßÂìÅËøêËê•ÁöÑÂü∫Êú¨Âäü ÊºèÊñóÊ®°Âûã](https://www.yunyingpai.com/user/199.html)\n  - [Ê°à‰æãÂàÜ‰∫´ Ê∏†ÈÅìËêΩÂú∞È°µÊï∞ÊçÆÂàÜÊûê](https://www.sohu.com/a/345808493_165070)\n  - [ÁΩëÈ°µËΩ¨ÂåñÁéá‰∏éÊºèÊñóÊ®°Âûã](http://menvscode.com/detail/5bfc20d030be6232a69c5d94)\n  - [‰ºòÁßÄ‰∫ßÂìÅ‰∫∫ÂøÖÊáÇÁöÑÊï∞ÊçÆÈ©±Âä®Â¢ûÈïøÊ®°Âûã](https://www.niaogebiji.com/article-26780-1.html)\n  - [‰ΩøÁî® Sensors Analytics ËøõË°å A/B Test](https://www.sensorsdata.cn/blog/shi-yong-sensors-analytics-jin-xing-a-b-test/)\n  - [Ê∑±Â∫¶ A/B ÊµãËØï‰∏≠ÁöÑÂõ†ÊûúÊé®Êñ≠‚Äî‚ÄîÊΩúÂú®ÁªìÊûúÊ®°Âûã](https://juejin.im/post/585b7fc161ff4b0058032b84)\n  - [ÈîÄÂîÆÁ∫øÁ¥¢Â±Ö‰Ωé‰∏ç‰∏äÔºå‰Ω†ÂîØ‰∏ÄË¶ÅÂÅöÁöÑÊòØËêΩÂú∞È°µ A/B ÊµãËØï](https://www.infoq.cn/article/PyOwiqA1zmuIcXqySb7V)\n- Êâ©Â±ïÈòÖËØª\n  - [Ê∑òÂÆùÁî®Êà∑Ë°å‰∏∫Êï∞ÊçÆÂàÜÊûêËØ¶Ëß£](https://www.jianshu.com/p/4f64d739fba2)\n  - [ÁæéÂõ¢ DSP ÂπøÂëäÁ≠ñÁï•ÂÆûË∑µ](https://tech.meituan.com/2017/05/05/mt-dsp.html)\n  - [Êó•ÂøóÈááÈõÜ‰∏éÁî®Êà∑Ë°å‰∏∫ÈìæË∑ØÂàÜÊûê](https://www.jianshu.com/p/ab04b1e3a512)\n","slug":"business-experience-summary-of-lading-page","published":1,"updated":"2021-09-29T18:09:07.559Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867n6o0004bmjdml2kahch","content":"<p>Âú®ÁßëÊäÄÁπÅËç£ÁöÑ‰ªäÂ§©ÔºåËÆ°ÁÆóÊú∫ÁªôÁé∞‰ª£Á§æ‰ºöÂ∏¶Êù•ÁöÑÊòØ‰ø°ÊÅØÂåñÁöÑÂèòÈù©ÔºåÊú¨Ë¥®‰∏äÊâìÁ†¥ÁöÑÊòØÂéüÊúâÁ§æ‰ºö‰∫∫‰ª¨Âú∞ÁêÜ„ÄÅËØ≠Ë®Ä„ÄÅ‰∫∫ÁßçÁ≠âÂêÑÁª¥Â∫¶‰∏äÁöÑÂ∑ÆÂºÇÔºåÈÄöËøá‰∫íËÅîÁΩë‰∫∫‰ª¨ËÉΩÈÄöËøá‰æøÊç∑ÁöÑÊñπÂºèË∂≥‰∏çÂá∫Êà∑Âè£ÔºåÂ∞±ÂèØ‰ª•Ë¥≠‰π∞Âà∞ÂÖ®ÂõΩ‰πÉËá≥ÂÖ®ÁêÉÁöÑÂïÜÂìÅË¥ßÁâ©„ÄÅ‰∫´ÂèóÂà∞ÂêÑÂºèÂêÑÊ†∑ÁöÑÂ∑ÆÂºÇÂåñÊúçÂä°„ÄÇÂõ†Ê≠§ÔºåÂØπ‰∫é‰∏ÄÂÆ∂‰∫íËÅîÁΩë‰ºÅ‰∏öÊù•ËØ¥ÔºåÁî®Êà∑Êó†ÁñëÊòØÊúÄÈáçË¶ÅÁöÑËµÑ‰∫ßÔºåËÆ©Êõ¥Â§öÁöÑÁî®Êà∑Áü•ÈÅì„ÄÅ‰∫ÜËß£ÁîöËá≥‰∫´Âèó‰ºÅ‰∏öÁöÑ‰∫ßÂìÅÔºåÊòØ‰ºÅ‰∏öÁ´ãË∂≥ÁöÑÂâçÊèêÊù°‰ª∂ÔºåÊØïÁ´üÊúâ‰∫ÜÁî®Êà∑ÊñπÊúâÁõàÂà©ÁöÑÂèØËÉΩÊÄßÔºå‰ºÅ‰∏öÊâçËÉΩÂèØÊåÅÁª≠ÂèëÂ±ï„ÄÇ</p>\n<p>ÂØπ‰∫éÂõΩÂÜÖÂæàÂ§öÂ§ßÂéÇÁöÑÊù•ËØ¥ÔºåÊüêÁßçÁ®ãÂ∫¶‰∏äÂú®Áî®Êà∑Ëøô‰∏™Áª¥Â∫¶‰∏ä‰ºöÊäïÂÖ•Â§ßÈáèËµÑÊ∫êÔºåËØ∏Â¶ÇËÆæÁ´ã‰∏ìÈó®Ë¥üË¥£Áî®Êà∑Â¢ûÈïøÁöÑÁªÑÁªáÂçï‰Ωç„ÄÇ‰ªñ‰ª¨ÂÖ≥Ê≥®Áî®Êà∑Âú®‰∫ßÂìÅÁªàÁ´ØÁöÑ‰ΩìÈ™åÔºåÁõ∏ÂÖ≥‰ªé‰∏ö‰∫∫ÂëòÈúÄË¶ÅÊáÇÂæóÊäì‰ΩèÁî®Êà∑ÂøÉÈáåÔºåÁªìÂêàÂêÑÁßç‰∏öÂä°Âú∫ÊôØÂà∂ÂÆöÂØπÂ∫îÁöÑËê•ÈîÄÁ≠ñÁï•ÔºåÊúÄÁªàÁõÆÁöÑÂ∞±ÊòØÁïô‰ΩèÁî®Êà∑ÔºåËÆ©Áî®Êà∑ÂøÉÁîòÊÉÖÊÑøÂú∞Ê∂àË¥π„ÄÇ</p>\n<p>Á¨îËÄÖÂ∞±ËÅå‰∫é‰∏éÊüê‰∫íËÅîÁΩëÈáëËûç‰ºÅ‰∏öÔºåÁî±‰∫éÊúÄËøëÁªèÂ∏∏ÈúÄË¶ÅÂíå‰∫ßÂìÅ„ÄÅÊé®Âπø„ÄÅËøêËê•Êâì‰∫§ÈÅìÔºåÂ§öÂ§öÂ∞ëÂ∞ë‰ºöÊé•Ëß¶Âà∞ÂæàÂ§öÂ∫ûÊùÇÁöÑÁü•ËØÜËæπÁïåÂ§ñÁöÑÈ¢ÜÂüüÔºåÊâÄ‰ª•ÊâìÁÆóÁ≥ªÁªüÊï¥ÁêÜËøôÊÆµÊó∂Èó¥Êù•ÁöÑ‰∏öÂä°ÂàÜÊûêÊñπÊ≥ïËÆ∫ÂíåÂÆûË∑µÂøÉÂæó„ÄÇ</p>\n<a id=\"more\"></a>\n<h2 id=\"ËêΩÂú∞È°µ\"><a href=\"#ËêΩÂú∞È°µ\" class=\"headerlink\" title=\"ËêΩÂú∞È°µ\"></a>ËêΩÂú∞È°µ</h2><p>ÊâÄË∞ìÁöÑËêΩÂú∞È°µÔºàLanding PageÔºâÂ∞±ÊòØÁî®‰∫éÊâøÊé•Áî®Êà∑ÈÄöËøá‰ªòË¥πÊêúÁ¥¢Ê∏†ÈÅìËøõÂÖ•ÁöÑÊé®ÂπøÈ°µÈù¢„ÄÇ</p>\n<p>Âú®Â¶Ç‰ªäÂπøÂëäÊ®™Èú∏Â§©‰∏ãÁöÑ‰∫íËÅîÁΩëÁ§æ‰ºöÔºåÊàë‰ª¨Áî®ÁôæÂ∫¶ÊêúÁ¥¢ÁªìÊûúÂá∫Êù•ÂêéÊèíÂú®ÂºÄÂ§¥ÁöÑÁªìÊûúÔºåÂú®ËÖæËÆØËßÜÈ¢ëÁúãÂâßÊó∂Á™ÅÁÑ∂Ëπ¶Âá∫Êù•ÁöÑÂ∞èÂπøÂëäÔºåÂà∑Áü•‰πéÊàñËÄÖÂæÆ‰ø°ÊúãÂèãÂúàÁ©øÊèíÂú®‰ø°ÊÅØÊµÅÂΩì‰∏≠ÁöÑ„Äå‰º™„Äç‰ø°ÊÅØÔºåÊäëÊàñÊòØÊ∑òÂÆùÂ∫óÂÆ∂„ÄÅ‰øùÈô©ÂÖ¨Âè∏„ÄÅÁßªÂä®ËÅîÈÄöÁîµ‰ø°Á≠âÈöî‰∏âÂ∑Æ‰∫îÁªô‰Ω†ÂèëÁöÑÁü≠‰ø°ÈáåÁöÑÁü≠ÈìæÊé•ÔºåÂü∫Êú¨ÈÉΩÂèØ‰ª•ÂΩíÁ±ª‰∏∫ËêΩÂú∞È°µÁöÑÂÖ•Âè£„ÄÇÈÄöÂ∏∏Áî±Áü•ÂêçÂ∫¶‰∏çË∂≥ÁöÑÂπøÂëäÂïÜ‰ªòË¥πË¥≠‰π∞Êé®Âπø‰ΩçÔºåÂà©Áî®Áü•ÂêçÂ∫¶ËæÉÈ´òÁöÑÊ∏†ÈÅìÂª∫Á´ãÁî®Êà∑‰∏éËá™ÂÆ∂‰∫ßÂìÅÁöÑËÆ§Áü•ÂÖ≥Á≥ªÔºåËÄåËêΩÂú∞È°µÂ∞±ÊòØÂÖ≥ÈîÆÁöÑËΩΩ‰Ωì„ÄÇ</p>\n<p>ÂÖ∂ÂÆûËêΩÂú∞È°µÁöÑÁ±ªÂûãËÉΩÁªÜÂàÜÂá∫ÂæàÂ§öÁßçÔºå‰∏ªË¶ÅÂàÜ‰∏∫Ëê•ÈîÄÊ¥ªÂä®È°µ„ÄÅ‰ø°ÊÅØÊî∂ÈõÜÈ°µ„ÄÅÂ∫îÁî®Êé®ÂπøÈ°µ„ÄÅÂî§ÈÜíÊâæÂõûÈ°µÁ≠âÔºåÂêÑÊúâÂêÑÁöÑËÅåË¥£„ÄÇ</p>\n<h3 id=\"Ëê•ÈîÄÊ¥ªÂä®È°µ\"><a href=\"#Ëê•ÈîÄÊ¥ªÂä®È°µ\" class=\"headerlink\" title=\"Ëê•ÈîÄÊ¥ªÂä®È°µ\"></a>Ëê•ÈîÄÊ¥ªÂä®È°µ</h3><p>Ëê•ÈîÄÊ¥ªÂä®È°µÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜËÆ©‰Ω†ÁöÑÁî®Êà∑Áü•ÈÅì‰Ω†ÁöÑ‰∫ßÂìÅÊòØ‰ªÄ‰πà„ÄÅËÉΩÊèê‰æõ‰ªÄ‰πàÊúçÂä°„ÄÅËÉΩËß£ÂÜ≥Áî®Êà∑‰ªÄ‰πàÈúÄÊ±Ç„ÄÇÈÄöËøáËêΩÂú∞È°µËÉΩÁõ¥Êé•Â±ïÁ§∫ÊàñË∑≥ËΩ¨Ëá≥ APP ÂÜÖÁöÑÊ†∏ÂøÉ‰∏öÂä°ÔºåËµ∑Âà∞ÊâøÊé•ÊµÅÈáèÁöÑ‰ΩúÁî®„ÄÇÈ°µÈù¢ÁöÑÂÜÖÂÆπÈÄöÂ∏∏ÊØîËæÉÁÆÄÊ¥ÅÔºå‰ºöÁî®Âà∞Â§ßÈáèËÆæËÆ°ÊÑüÈ´òÁöÑÂõæÁâáÂíåÈÜíÁõÆÁöÑÊñáÊ°àÔºå‰∏∫Áî®Êà∑Â±ïÁ§∫Ëá™Â∑±ÁöÑÊ¥ªÂä®ÂíåÂïÜÂìÅÔºåÈÄöËøáÁ±ª‰ºº‰ºòÊÉ†‰ª∑Ê†ºÂíåËµ†ÂìÅÁ≠âÊâãÊÆµÂºïÂØºÁî®Êà∑ÁÇπÂáªÔºåËé∑ÂèñÂà∞Áî®Êà∑‰ø°ÊÅØÂêéÔºåÂêéÁª≠ÂÜç‰∏éÂÆ¢Êà∑ËÅîÁ≥ªÔºåÊúÄÁªàÂ∞ÜËøô‰∫õÊΩúÂú®ÁöÑÁî®Êà∑ËΩ¨Âåñ‰∏∫ÁúüÊ≠£ÁöÑÁî®Êà∑„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/landing-page-marketing.jpg\" alt=\"Ëê•ÈîÄÊ¥ªÂä®È°µ\"></p>\n<h3 id=\"‰ø°ÊÅØÊêúÈõÜÈ°µ\"><a href=\"#‰ø°ÊÅØÊêúÈõÜÈ°µ\" class=\"headerlink\" title=\"‰ø°ÊÅØÊêúÈõÜÈ°µ\"></a>‰ø°ÊÅØÊêúÈõÜÈ°µ</h3><p>‰ø°ÊÅØÊêúÈõÜÈ°µÈÄÇÁî®‰∫é‰∏öÂä°Â§çÊùÇÊàñ‰ΩéÈ¢ëÁ±ªÁöÑ‰∫ßÂìÅÔºåÂΩì‰∫ßÂìÅÊ†∏ÂøÉ‰∏öÂä°ËÆæËÆ°Âà∞Â§ßÈ¢ù‰∫§Êòì„ÄÅÂÆöÂà∂ÊúçÂä°„ÄÅÂìçÂ∫îÂë®ÊúüÈïøÁ≠âÁâπÂæÅÁöÑÊó∂ÂÄôÔºåËêΩÂú∞È°µÁöÑ‰ªªÂä°Êõ¥ÂÉèÊòØÁªôÁî®Êà∑‰∏Ä‰∏™ÊâøËØ∫ÔºåËÆ∏ËØ∫‰ºöÊúâÂ§ßÈáè‰ºòÊÉ†ÁöÑÁ¶èÂà©ÔºåÁïô‰∏ã‰∏™‰∫∫‰ø°ÊÅØ‰ª•‰æøÂπ≥Âè∞ÂêéÁª≠‰∏ìÂëòÁöÑÁîµËÆø„ÄÇÂõûÊÉ≥Ëµ∑ÂæàÂ§öËØ∏Â¶ÇËÅå‰∏öÂüπËÆ≠ÁöÑÂÖ¨Âè∏ÔºåÊòØ‰∏çÊòØÁΩëÈ°µÂä†ËΩΩÂêéÈÉΩ‰ºöÂºπÁ™óËÆ©‰Ω†Â°´ÂÜô‰∏™‰∫∫‰ø°ÊÅØÔºåÁÑ∂ÂêéÂá†Â§©ÂÜÖÂ∞±‰ºöÊé•Âà∞‰ªñ‰ª¨ÁîµËØùÂêë‰Ω†Êé®ÈîÄËØæÁ®ã„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/landing-page-information.jpg\" alt=\"‰ø°ÊÅØÊêúÈõÜÈ°µ\"></p>\n<h3 id=\"Â∫îÁî®Êé®ÂπøÈ°µ\"><a href=\"#Â∫îÁî®Êé®ÂπøÈ°µ\" class=\"headerlink\" title=\"Â∫îÁî®Êé®ÂπøÈ°µ\"></a>Â∫îÁî®Êé®ÂπøÈ°µ</h3><p>Â∫îÁî®Êé®ÂπøÈ°µÁöÑÁõÆÁöÑÂæàÊòéÁ°ÆÔºåÂ∞±ÊòØÂºïÂØºÁî®Êà∑‰∏ãËΩΩÂ∫îÁî®„ÄÅÊ≥®ÂÜå„ÄÅÁôªÂΩïÁ≠â„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/landing-page-application-promotion.jpg\" alt=\"Â∫îÁî®Êé®ÂπøÈ°µ\"></p>\n<h3 id=\"Âî§ÈÜíÊâæÂõûÈ°µ\"><a href=\"#Âî§ÈÜíÊâæÂõûÈ°µ\" class=\"headerlink\" title=\"Âî§ÈÜíÊâæÂõûÈ°µ\"></a>Âî§ÈÜíÊâæÂõûÈ°µ</h3><p>Êó•Ê¥ªÊúàÊ¥ªÊòØ‰∫íËÅîÁΩëÂ∫îÁî®ÂæàÈáçË¶ÅÁöÑÊ¥ªÊÄßÊåáÊ†áÔºåÂî§ÈÜíÊâæÂõûÈ°µÁöÑ‰ΩøÂëΩÂ∞±ÊòØÊøÄÊ¥ªÈÇ£‰∫õÊµÅÂ§±ÊéâÁöÑÁî®Êà∑ÔºåÈÄöËøáÁü≠‰ø°„ÄÅÈÇÆ‰ª∂„ÄÅÊ∂àÊÅØÈÄöÁü•Á≠â‰∏ªÂä®ÂèçÈ¶àÁöÑÂΩ¢ÂºèÂê∏ÂºïËÄÅÁî®Êà∑ÂõûÂΩíÂ∫îÁî®„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/landing-page-awaken.jpg\" alt=\"Âî§ÈÜíÊâæÂõûÈ°µ\"></p>\n<h2 id=\"Êï∞ÊçÆÊåáÊ†á‰∏éËΩ¨ÂåñÁéáÂàÜÊûê\"><a href=\"#Êï∞ÊçÆÊåáÊ†á‰∏éËΩ¨ÂåñÁéáÂàÜÊûê\" class=\"headerlink\" title=\"Êï∞ÊçÆÊåáÊ†á‰∏éËΩ¨ÂåñÁéáÂàÜÊûê\"></a>Êï∞ÊçÆÊåáÊ†á‰∏éËΩ¨ÂåñÁéáÂàÜÊûê</h2><h3 id=\"Êï∞ÊçÆÊåáÊ†á\"><a href=\"#Êï∞ÊçÆÊåáÊ†á\" class=\"headerlink\" title=\"Êï∞ÊçÆÊåáÊ†á\"></a>Êï∞ÊçÆÊåáÊ†á</h3><p>ËêΩÂú∞È°µÁöÑÂÆûÈôÖÊïàÊûúÈúÄË¶ÅÈáèÂåñÊåáÊ†áÊù•Ë°°ÈáèÔºå‰∏ãÈù¢‰ªéËøêËê•ËßíÂ∫¶ÂàóÂá∫‰∫Ü‰∏Ä‰∫õËêΩÂú∞È°µÂª∫ËÆæÈúÄË¶ÅÂÖ≥Ê≥®ÁöÑÊåáÊ†á„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/landing-page-pointer.jpg\" alt=\"ËêΩÂú∞È°µÊåáÊ†á\"></p>\n<ul>\n<li><strong>È°µÈù¢ÊµèËßàÈáè</strong>ÔºöÊåáÈ°µÈù¢Ë¢´Áî®Êà∑ÊµèËßàÁöÑÊ¨°Êï∞Ôºå‰∏•Ê†ºÊÑè‰πâ‰∏äÊåáÁî®Êà∑ÂêëÁΩëÁ´ôÂèëÂá∫Âπ∂ÂÆåÊàê‰∏ãËΩΩÈ°µÈù¢ÁöÑËØ∑Ê±Ç</li>\n<li><strong>ÁÇπÂáªÁéá</strong>ÔºöÁΩëÈ°µÂÜÖÊüêÂÜÖÂÆπË¢´ÁÇπÂáªÊ¨°Êï∞‰∏éÊòæÁ§∫Ê¨°Êï∞‰πãÊØî</li>\n<li><strong>Ë∑≥Âá∫Áéá</strong>ÔºöË°°ÈáèËêΩÂú∞È°µË¥®ÈáèÂ•ΩÂùèÁöÑÈáçË¶ÅÊåáÊ†á„ÄÇÈ°µÈù¢Ë∑≥Âá∫ÁéáÁöÑËÆ°ÁÆó‰∏∫ËØ•È°µÈù¢‰Ωú‰∏∫ËêΩÂú∞È°µË∑≥Âá∫ÁöÑËÆøÈóÆÊ¨°Êï∞Âç†ËØ•È°µÈù¢‰Ωú‰∏∫ËêΩÂú∞È°µËÆøÈóÆÊ¨°Êï∞ÁöÑÁôæÂàÜÊØîÔºåÂÖ®Á´ôË∑≥Âá∫ÁéáÂàô‰∏∫Ë∑≥Âá∫ÁöÑËÆøÈóÆÊ¨°Êï∞Èô§‰ª•ÊÄªÁöÑËÆøÈóÆÊ¨°Êï∞„ÄÇ</li>\n<li><strong>ÂÅúÁïôÊó∂Èïø</strong>ÔºöÁî®‰∫éË°°ÈáèÁî®Êà∑‰∏éÁΩëÁ´ô/APP ‰∫§‰∫íÊ∑±Â∫¶Ôºå‰∏ÄËà¨ÊúâÈ°µÈù¢ÂÅúÁïôÊó∂ÈïøÔºå‰ºöËØùÊó∂Èïø‰ª•ÂèäÂπ≥ÂùáÂÅúÁïôÊó∂ÈïøÁ≠âÊ¶ÇÂøµÔºåÂÖ∂ËÆ°ÁÆóÁöÑÊ†∏ÂøÉÂéüÁêÜÂú®‰∫éËÆ∞ÂΩï‰∏ãÁî®Êà∑Ë°å‰∏∫ÂèëÁîüÊó∂ÁöÑÊó∂Èó¥Êà≥ÔºåÂêéÊúüÂÜçÂ∫îÁî®Áõ∏Â∫îÂÖ¨ÂºèÊù•ËÆ°ÁÆó</li>\n<li><strong>‰∫§‰∫íÊ∑±Â∫¶</strong>ÔºöÊåáÁî®Êà∑Âú®‰∏ÄÊ¨°ÊµèËßàÁΩëÈ°µÊàñ APP ËøáÁ®ã‰∏≠ÔºåËÆøÈóÆ‰∫ÜÂ§öÂ∞ëÈ°µÈù¢„ÄÇÁî®Êà∑Âú®‰∏ÄÊ¨°ÊµèËßà‰∏≠ËÆøÈóÆÁöÑÈ°µÈù¢Ë∂äÂ§öÔºå‰∫§‰∫íÊ∑±Â∫¶Â∞±Ë∂äÊ∑±„ÄÇ‰∫§‰∫íÊ∑±Â∫¶ËÉΩÂ§ü‰æßÈù¢ÂèçÊò†ÁΩëÁ´ôÊàñ APP ÂØπ‰∫éÁî®Êà∑ÁöÑÂê∏ÂºïÂäõ„ÄÇ<br>ÂèØ‰ª•ÈÄöËøá Session Êù•ËÆ°ÁÆóÁî®Êà∑ÁöÑÂπ≥Âùá‰∫§‰∫íÊ∑±Â∫¶„ÄÇ</li>\n</ul>\n<p>Èô§Ê≠§‰πãÂ§ñËøòÊúâ‰∏Ä‰∫õÊàë‰ª¨‰ºöÁªèÂ∏∏Âê¨Âà∞ÁöÑ‰∏Ä‰∫õÊ†∏ÂøÉÊåáÊ†áÔºö</p>\n<ul>\n<li><strong>DAUÔºàDaily Activited UsersÔºâ</strong>ÔºöÊó•Ê¥ªË∑ÉÁî®Êà∑Êï∞ÈáèÔºåÁªüËÆ°ÂçïÊó•ÂÜÖÔºåÁôªÂΩïÊàñ‰ΩøÁî®Êüê‰∏™‰∫ßÂìÅÁöÑÁî®Êà∑Êï∞ÔºàÂéªÈô§ÈáçÂ§çÁôªÂΩïÁöÑÁî®Êà∑Ôºâ</li>\n<li><strong>MAUÔºàMonthly Activited Users</strong>ÔºâÔºöÊúàÊ¥ªË∑ÉÁî®Êà∑Êï∞ÈáèÔºåÁªüËÆ°ÂçïÊúàÂÜÖÔºåÁôªÂΩïÊàñ‰ΩøÁî®Êüê‰∏™‰∫ßÂìÅÁöÑÁî®Êà∑Êï∞ÔºàÂéªÈô§ÈáçÂ§çÁôªÂΩïÁöÑÁî®Êà∑Ôºâ</li>\n<li><strong>PVÔºàPage ViewÔºâ</strong>ÔºöÈ°µÈù¢ÊµèËßàÈáèÂíåÁÇπÂáªÈáèÔºåÁî®Êà∑ÊØèÊ¨°ÂØπÁΩëÈ°µËøõË°åËÆøÈóÆË¢´ËÆ∞ÂΩï‰∏∫‰∏ÄÊ¨°</li>\n<li><strong>UVÔºàUnique ViewÔºâ</strong>ÔºöÁã¨Á´ãËÆøÂÆ¢ÔºåËÆøÈóÆÁΩëÁ´ôÁöÑ‰∏Ä‰∏™ÁªàÁ´Ø‰∏∫‰∏Ä‰∏™ËÆøÂÆ¢</li>\n<li><strong>ËΩ¨ÂåñÁéá</strong>Ôºö‰∏Ä‰∏™ÁªüËÆ°Âë®ÊúüÂÜÖÔºåÂÆåÊàêËΩ¨ÂåñË°å‰∏∫ÁöÑÊ¨°Êï∞Âç†Êé®Âπø‰ø°ÊÅØÊÄªÁÇπÂáªÊ¨°Êï∞ÁöÑÊØîÁéá„ÄÇ</li>\n<li><strong>ÁïôÂ≠òÁéá</strong>ÔºöÊüê‰∏ÄÁªüËÆ°Êó∂ÊÆµÂÜÖÁöÑÊñ∞Â¢ûÁî®Êà∑Êï∞‰∏≠ÁªèËøá‰∏ÄÊÆµÊó∂Èó¥Âêé‰ªçÂêØÂä®ËØ•Â∫îÁî®ÁöÑÁî®Êà∑ÊØî‰æã„ÄÇ</li>\n</ul>\n<h3 id=\"ÊºèÊñóÊ®°Âûã\"><a href=\"#ÊºèÊñóÊ®°Âûã\" class=\"headerlink\" title=\"ÊºèÊñóÊ®°Âûã\"></a>ÊºèÊñóÊ®°Âûã</h3><p>Ë°°ÈáèÊåáÊ†áÈúÄË¶ÅËêΩÂÆûÂà∞ÂÖ∑‰ΩìÁöÑÂàÜÊûêÊ®°ÂûãÔºåËÄåÊºèÊñóÊ®°ÂûãÂàôÊòØÊúÄÂ∏∏Áî®ÁöÑËØÑÂà§ËêΩÂú∞È°µËΩ¨ÂåñÊïàÊûúÁöÑÂ∑•ÂÖ∑„ÄÇÊºèÊñóÊ®°ÂûãÁöÑÂÆûÁé∞ÂéüÁêÜÊòØÂú®ÊΩúÂú®Áî®Êà∑‰ªéËÆøÈóÆÈ°µÈù¢Âà∞ÊúÄÁªàËΩ¨Êç¢ÊàêÁúüÊ≠£Áî®Êà∑Ëøô‰∏™Ë°å‰∏∫Ë∑ØÂæÑ‰∏äÁöÑÂÖ≥ÈîÆËäÇÁÇπËøõË°åÂüãÁÇπÊî∂ÈõÜË°å‰∏∫Êï∞ÊçÆÔºåÂπ∂Ê†πÊçÆ‰∏çÂêåÂÖ≥ÈîÆËäÇÁÇπÁöÑÁâπÊÄßËÆæÂÆö‰∏çÂêåÁõÆÊ†áÔºåÊúÄÂêéÈÄöËøáÂêÑÈò∂ÊÆµÁöÑËΩ¨ÂåñÊÉÖÂÜµÊîπÂñÑÂÖ≥ÈîÆËäÇÁÇπËΩ¨ÂåñÁöÑÊµÅÁ®ãËÆæËÆ°Ôºå‰ªéËÄåÊèêÂçáÁî®Êà∑‰ΩìÈ™å„ÄÇ</p>\n<p>‰ª•ÊàëÊúÄÁÜüÊÇâÁöÑÂºïÂØºÊµÅÈáèÁöÑÊ≥®ÂÜåËêΩÂú∞È°µ‰∏∫‰æãÔºåÈ°µÈù¢ÂëàÁé∞‰ªÖÊúâÊâãÊú∫Âè∑ËæìÂÖ•Ê°Ü„ÄÅÁü≠‰ø°È™åËØÅÁ†ÅËæìÂÖ•Ê°Ü„ÄÅÂØÜÁ†ÅËæìÂÖ•Ê°ÜÂíåÊ≥®ÂÜåÊåâÈíÆÁ≠âÂõõ‰∏™‰∏ªË¶ÅÁöÑÂèØ‰∫§‰∫íÂÖÉÁ¥†ÔºåÁêÜÊÉ≥ÁöÑÊñ∞Áî®Êà∑Ê≥®ÂÜåÊµÅÁ®ãÂ§ßÊ¶ÇÊòØËøôÊ†∑ÁöÑÔºö</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ËÆøÈóÆÈ°µÈù¢ -&gt; ËæìÂÖ•ÊâãÊú∫Âè∑ -&gt; ‰∏ãÂèëÁü≠‰ø°È™åËØÅÁ†Å -&gt; ËæìÂÖ•È™åËØÅÁ†Å -&gt; ËæìÂÖ•Ë¥¶Âè∑ÂØÜÁ†Å -&gt; ÁÇπÂáªÊ≥®ÂÜåÊåâÈíÆ -&gt; ÊúçÂä°Á´ØËøõË°åÊ≥®ÂÜåÂ§ÑÁêÜ -&gt; Ê≥®ÂÜåÊàêÂäü</span><br></pre></td></tr></table></figure>\n<p>ËΩ¨ÂåñÊºèÊñóÂèØ‰ª•Ê∑ªÂä†Â§ö‰∏™‰∫§‰∫íÊ≠•È™§ÔºåÊØîÂ¶ÇÂΩìÁî®Êà∑ËæìÂÖ•ÊâãÊú∫Âè∑ÂêéÔºåÂâçÁ´ØËá™Âä®Ê£ÄÊµãËæìÂÖ•ÂÄºÁî±Ê≠£ÂàôÊ†°È™åÊúâÊïàÂêéÔºåÂàô‰∏äÊä•Ê†áËÆ∞‰∏∫ <code>ËæìÂÖ•ÊâãÊú∫Âè∑</code> ÁöÑÂüãÁÇπÔºåÂú®Áî®Êà∑Ëé∑ÂèñÂà∞Áü≠‰ø°È™åËØÅÁ†ÅÔºåÂêåÊ†∑Âú∞ËæìÂÖ•Áü≠‰ø°È™åËØÅÁ†ÅÂπ∂Ê†°È™åÊúâÊïàÂêéÔºåÂç≥‰∏äÊä• <code>ËæìÂÖ•È™åËØÅÁ†Å</code> ÁöÑÂüãÁÇπ„ÄÇÈÄöËøáÊ∑ªÂä†‰∏§‰∏™ÂÖ≥ÈîÆËäÇÁÇπÁöÑÂüãÁÇπÔºå‰ΩøÁî®ËΩ¨ÂåñÊºèÊñóÈÖçÂêàÂèØËßÜÂåñËßÜÂõæÔºåÊàë‰ª¨Â∞±ËÉΩÊ∏ÖÊô∞Âú∞Áü•ÈÅìÊúâÂ§öÂ∞ëÁî®Êà∑ÂÆåÊàê‰∫Ü <code>ËæìÂÖ•ÊâãÊú∫Âè∑</code> Âà∞ <code>ËæìÂÖ•È™åËØÅÁ†Å</code> Ëøô‰∏™Ê≠•È™§ÔºåËÄåÈÄöËøá <code>ËæìÂÖ•ÊâãÊú∫Âè∑</code> ÁöÑ‰∫∫Êï∞ÂáèÂéª <code>ËæìÂÖ•È™åËØÅÁ†Å</code> ÁöÑ‰∫∫Êï∞ÔºåÊàë‰ª¨Â∞±ËÉΩËé∑Áü•ËØ•Èò∂ÊÆµÊµÅÂ§±ÁöÑÁî®Êà∑Êï∞„ÄÇ</p>\n<p>ËΩ¨ÂåñÁéáÈúÄË¶Å <strong>ÂØπÊØî</strong>Ôºå‰∏çËÉΩÂú®ÂàÜÊûêÁöÑÊó∂ÂÄôÂèëÁé∞Êüê‰∏™ÁéØËäÇÁöÑËΩ¨ÂåñÁéáÂ§™‰ΩéÔºåÂ∞±ËÆ§‰∏∫‰∏ÄÂÆöÊòØËøô‰∏™ÁéØËäÇÂá∫Áé∞‰∫ÜÈóÆÈ¢ò„ÄÇÊØîÂ¶Ç‰ªé <code>ËæìÂÖ•ÊâãÊú∫Âè∑</code> Âà∞ <code>Ê≥®ÂÜåÊàêÂäü</code> Ëøô‰∏™ÁéØËäÇËΩ¨ÂåñÁéáÂè™Êúâ 40%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåÊòØÊâÄÊúâÁéØËäÇ‰∏≠ÊúÄ‰ΩéÁöÑÔºå‰ΩÜÊàë‰ª¨ÂèØ‰ª•Áî®ÂéÜÂè≤Êï∞ÊçÆËøõË°åÊØîËæÉÔºå‰ªé<strong>Ë∂ãÂäø</strong>ÁöÑÂèòÂåñÂàÜÊûêËΩ¨ÂåñÊïàÊûúÔºå‰∏ä‰∏™ÊúàÂêåÊúüËØ•ÁéØËäÇÁöÑËΩ¨ÂåñÁéáÈ°µÊòØ 38%ÔºåË°å‰∏öÂêåÁ±ª‰∫ßÂìÅÂùáÂÄºÊòØ 36%ÔºåÈÇ£‰πàÂÖ∂ÂÆûËØ•ÁéØËäÇÂÅöÂæóËøòÊòØ‰∏çÈîôÁöÑ„ÄÇÊàë‰ª¨ÁúãÂêéÈù¢ÁöÑÁéØËäÇÔºå‰ªé <code>Ê≥®ÂÜåÊàêÂäü</code> Âà∞ <code>ËøõÂÖ• APP Â∫îÁî®</code> ÁöÑÁéØËäÇÁöÑËΩ¨ÂåñÁéáÊòØ 62%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåË∑üÂÖ∂‰ªñÁéØËäÇÁõ∏ÊØîËæÉËµ∑Êù•ÔºåËøô‰∏™ËΩ¨ÂåñÁéáÊòØÊúÄÈ´òÁöÑÔºå‰ΩÜÊòØÊàë‰ª¨ÂØπÊØîË°å‰∏öÂêåÁ±ªÂûã‰∫ßÂìÅ‰ºöÂèëÁé∞ÂùáÂÄºÊòØ 90%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåÂØπÊØî‰∏ä‰∏™ÊúàÂêåÊúüËøô‰∏™ÊØîÁéáÊòØ 91%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞ÂΩìÂâçËøô‰∏™ÊúàÔºåËêΩÂú∞È°µ‰ªéÊ≥®ÂÜåÊàêÂäüÂà∞ÁôªÂΩï APP Â∫îÁî®ÁöÑËΩ¨ÂåñÁéáÊòØÂÅöÂæóÈùûÂ∏∏‰∏çÂ•ΩÁöÑÔºåÂÖ∂ÂÆûËøô‰∏™Â∞±ÂõûÂà∞Êàë‰ª¨Êï∞ÊçÆÂàÜÊûê‰∏≠ÁöÑÂØπÊØîÂàÜÊûê‰∫ÜÔºåÊàë‰ª¨ÈúÄË¶Å‰∏éËá™Â∑±ÁöÑÂéÜÂè≤Êï∞ÊçÆÂÅöÂØπÊØîÔºåÊâçËÉΩÂæóÂá∫ÂÆåÊï¥ÁöÑÁªìËÆ∫ÔºåÂΩìÁÑ∂Âè¶Â§ñ‰∏ÄÁÇπÊòØ‰∏çÂêåÁöÑÁî®Êà∑ÔºåÂØπÊØîÂú®‰∫§‰∫íÊµÅÁ®ã‰∏≠ÁöÑËΩ¨ÂåñÁéáÊòØÂèØ‰ª•ÊúâÂæàÂ§ßÁöÑÂ∑ÆÂºÇÁöÑÔºåÂÉèÂÆ¢Êà∑Êù•Ëá™‰∏çÂêåÁöÑÊ∏†ÈÅì„ÄÅ‰∏çÂêåÁöÑÂå∫Âüü„ÄÅ‰∏çÂêåÁöÑÁîüÂëΩÂë®Êúü„ÄÅ‰∏çÂêåÊÄßÂà´„ÄÅ‰∏çÂêåÂπ¥ÈæÑÔºå‰ªñ‰ª¨Âú®ÊºèÊñó‰∏≠ÁöÑË°®Áé∞ÈÉΩÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨Âú®ËøõË°åÊºèÊñóÂàÜÊûêÁöÑÊó∂ÂÄôÔºåÂæÄÂæÄËøòÈúÄË¶ÅËøõË°åÁªÜÂàÜÁöÑÊºèÊñóÊ®°ÂûãÂàÜÊûêÔºå</p>\n<p>Â¶ÇÊûúËΩ¨ÂåñÁéáÂπ∂‰∏çÁêÜÊÉ≥ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá <strong>ÁªÜÂàÜÁª¥Â∫¶</strong> ÂØπËΩ¨ÂåñÁéáËøõË°åÊãÜËß£ÔºåÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊìç‰ΩúÁ≥ªÁªüÁª¥Â∫¶Ôºà‰æãÂ¶ÇÂàÜ‰∏∫ Android Âíå iOSÔºâÁúãÂà∞‰∏çÂêåÊìç‰ΩúÁ≥ªÁªüÁöÑÈò∂ÊÆµËΩ¨ÂåñÊÉÖÂÜµÔºå‰πüÂèØ‰ª•ÈÄâÊã©ÊµèËßàÂô®ÔºàChrome„ÄÅSafari„ÄÅFirefox Âíå ÂæÆ‰ø°ÂÜÖÁΩÆÊµèËßàÂô®Á≠âÔºâÁúãÂà∞‰∏çÂêåÊµèËßàÂô®ÁöÑÈò∂ÊÆµËΩ¨ÂåñÊÉÖÂÜµÔºåÁîöËá≥ÂèØ‰ª•ÈÄâÊã©ËÆæÂ§áÁöÑÂìÅÁâåÊù•ÁúãÂà∞ÂØπÂ∫îÁöÑÈò∂ÊÆµËΩ¨ÂåñÊÉÖÂÜµ„ÄÇÂ¶ÇÊûúÊüê‰∏™ËΩ¨ÂåñÁéáÊòéÊòæ‰Ωé‰∫éÊ≠£Â∏∏ÁöÑËΩ¨ÂåñÁéáÊÉÖÂÜµÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÂêàÁêÜÊÄÄÁñëÈ°µÈù¢Ëøô‰∏™Êìç‰ΩúÁ≥ªÁªü„ÄÅÂìÅÁâåÊàñÊµèËßàÂô®‰∏äÔºåÂÖºÂÆπÊÄßÂÅöÂæó‰∏çÂ§ü„ÄÇ</p>\n<p>ÁªºÂêà‰ª•‰∏äÔºåÂèØ‰ª•ÂæóÂá∫Âü∫‰∫éÊºèÊñóÊ®°ÂûãÁöÑÂàÜÊûêÊñπÊ≥ïÊúâ‰ª•‰∏ãÂá†ÁßçÔºö</p>\n<ul>\n<li><strong>Ë∂ãÂäøÔºàTrendÔºâ</strong>Ôºö‰ªé <code>Êó∂Èó¥ËΩ¥</code> ÁöÑÂèòÂåñÊÉÖÂÜµËøõË°åÂàÜÊûêÔºåÈÄÇÁî®‰∫éÂØπÊüê‰∏ÄÊµÅÁ®ãÊàñÂÖ∂‰∏≠Êüê‰∏™Ê≠•È™§ËøõË°åÊîπËøõÊàñ‰ºòÂåñÁöÑÊïàÊûúÁõëÊéß„ÄÇ</li>\n<li><strong>ÊØîËæÉÔºàCompareÔºâ</strong>ÔºöÈÄöËøáÊØîËæÉ <code>Á±ª‰ºº‰∫ßÂìÅÊàñÊúçÂä°Èó¥</code> Ë¥≠‰π∞Êàñ‰ΩøÁî®ÊµÅÁ®ãÁöÑËΩ¨ÂåñÁéáÔºåÂèëÁé∞Êüê‰∫õ‰∫ßÂìÅÊàñÂ∫îÁî®‰∏≠Â≠òÂú®ÁöÑÈóÆÈ¢ò„ÄÇ</li>\n<li><strong>ÁªÜÂàÜÔºàSegmentÔºâ</strong>ÔºöÁªÜÂàÜÊù•Ê∫êÊàñ <code>‰∏çÂêåÁöÑÂÆ¢Êà∑Á±ªÂûã</code> Âú®ËΩ¨ÂåñÁéá‰∏äÁöÑË°®Áé∞ÔºåÂèëÁé∞‰∏Ä‰∫õÈ´òË¥®ÈáèÁöÑÊù•Ê∫êÊàñÂÆ¢Êà∑ÔºåÈÄöÂ∏∏Áî®‰∫éÂàÜÊûêÁΩëÁ´ôÁöÑÂπøÂëäÊàñÊé®ÂπøÁöÑÊïàÊûúÂèä ROI„ÄÇ</li>\n</ul>\n<h3 id=\"A-B-ÊµãËØï\"><a href=\"#A-B-ÊµãËØï\" class=\"headerlink\" title=\"A/B ÊµãËØï\"></a>A/B ÊµãËØï</h3><p>A/B ÊµãËØïÊòØ‰∏∫‰∫Ü Web Êàñ App ÁïåÈù¢ÊàñÊµÅÁ®ãÂà∂‰Ωú‰∏§‰∏™ÊàñÂ§ö‰∏™ÁâàÊú¨ÔºåÂú®Áõ∏ÂêåÊó∂Èó¥Áª¥Â∫¶ÔºåÂàÜÂà´ËÆ©ÁªÑÊàêÊàêÂàÜÁõ∏ÂêåÔºàÁõ∏‰ººÔºâÁöÑËÆøÂÆ¢Áæ§ÁªÑÔºàÁõÆÊ†á‰∫∫Áæ§ÔºâÈöèÊú∫ÁöÑËÆøÈóÆËøô‰∫õÁâàÊú¨ÔºåÊî∂ÈõÜÂêÑÁæ§ÁªÑÁöÑÁî®Êà∑‰ΩìÈ™åÊï∞ÊçÆÂíå‰∏öÂä°Êï∞ÊçÆÔºåÊúÄÂêéÂàÜÊûê„ÄÅËØÑ‰º∞ÂàùÊúÄÂ•ΩÁâàÊú¨ÔºåÊ≠£ÂºèÈááÁî®„ÄÇ</p>\n<p>ÈÄöËøá A/B ÊµãËØïÂèØ‰ª•ÊúâÊïàÂáèÂ∞ëÂü∫‰∫éÂÅáËÆæÂâçÊèêÁöÑÂêÑÁßçÊó†Ë∞ì‰∫âËÆ∫„ÄÇÈÄöËøá A/B ÊµãËØïÂèØ‰ª•ÁúãÂà∞Áî®Êà∑Èù¢ÂØπ‰∏çÂêåËêΩÂú∞È°µÂÖÉÁ¥†ÁöÑÁúüÂÆûÂèçÂ∫î„ÄÅÁî®Êà∑Êõ¥ÂÆπÊòìÁÇπÂáªËêΩÂú∞È°µÁöÑÂì™‰∫õ‰ΩçÁΩÆÔºå‰ªéËÄåÂæóÂá∫‰øÆÊîπÈ°µÈù¢ÂÖÉÁ¥†ÁöÑÊúâÂäõËØÅÊçÆ„ÄÇ</p>\n<p>Âõ†‰∏∫ÁªèÂ∏∏ÈúÄË¶ÅÂú®ÊµÅÈáèÂàÜÈÖçÊó∂ÊúâÊâÄÊùÉË°°Ôºå‰∏ÄËà¨Êúâ‰ª•‰∏ãÂá†‰∏™ÊÉÖÂÜµÔºö</p>\n<ul>\n<li>‰∏çÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™åÔºöÂ¶Ç UI ÂÆûÈ™å„ÄÅÊñáÊ°àÁ±ªÂÆûÈ™åÁ≠âÔºå‰∏ÄËà¨ÂèØ‰ª•ÂùáÂåÄÂàÜÈÖçÊµÅÈáèÂÆûÈ™åÔºåÂèØ‰ª•Âø´ÈÄüÂæóÂà∞ÂÆûÈ™åÁªìËÆ∫</li>\n<li>‰∏çÁ°ÆÂÆöÊÄßËæÉÂº∫ÁöÑÂÆûÈ™åÔºöÂ¶Ç‰∫ßÂìÅÊñ∞ÂäüËÉΩ‰∏äÁ∫øÔºå‰∏ÄËà¨ÈúÄÂ∞èÊµÅÈáèÂÆûÈ™åÔºåÂ∞ΩÈáèÂáèÂ∞ëÁî®Êà∑‰ΩìÈ™åÂΩ±ÂìçÔºåÂú®ÂÖÅËÆ∏ÁöÑÊó∂Èó¥ÂÜÖÂæóÂà∞ÁªìËÆ∫</li>\n<li>Â∏åÊúõÊî∂ÁõäÊúÄÂ§ßÂåñÁöÑÂÆûÈ™åÔºöÂ¶ÇËøêËê•Ê¥ªÂä®Á≠âÔºåÂ∞ΩÂèØËÉΩÂ∞ÜÊïàÊûúÊúÄÂ§ßÂåñÔºå‰∏ÄËà¨ÈúÄË¶ÅÂ§ßÊµÅÈáèÂÆûÈ™åÔºåÁïôÂá∫Â∞èÈÉ®ÂàÜÂØπÁÖßÁªÑÁî®‰∫éËØÑ‰º∞ ROI</li>\n</ul>\n<p>Âõ†‰∏∫ÈÄöÂ∏∏Âçï‰∏™ÈìæÊé•ÁöÑËêΩÂú∞È°µ‰∏çÂÖ∑Â§á A/B test ÁöÑÂäüËÉΩÔºåÈúÄË¶ÅÈÖçÂêà‰∏ìÈó®Áî®‰∫é A/B test È°µÈù¢ÂàÜÂèëÁöÑÁ≥ªÁªüËøõË°åÊµÅÈáèÂàÜÈÖçÔºåÂÆûÈôÖ‰∏äÈÄöËøáÁ±ª‰ººÂèçÂêë‰ª£ÁêÜÁöÑÂéüÁêÜÔºåÊ†πÊçÆÂàÜÈÖçÂà∞‰∏çÂêåÁöÑÈ°µÈù¢ÁöÑÊØî‰æãÂ∞ÜÊ†áËØÜ A/B ‰∏çÂêåÈ°µÈù¢ËøîÂõûÁªôÁî®Êà∑Â±ïÁ§∫„ÄÇ</p>\n<p>Áî±‰∫éÊàë‰ª¨ÁöÑÊ≥®ÂÜåËêΩÂú∞È°µÊòØ‰ΩøÁî®ÂèØËßÜÂåñÈ°µÈù¢Êê≠Âª∫Á≥ªÁªüÈÖçÁΩÆÁöÑÔºåÂπ∂‰∏çÊîØÊåÅ A/B ÊµãËØïÔºåÊâÄ‰ª•Êê≠ÈÖçÂè¶‰∏ÄÂ•óÂâçÁ´ØÁöÑÈõÜÊàêÁ≥ªÁªüÂíåÂÆ¢Êà∑Á´ØÁöÑ CMS Á≥ªÁªüÔºåËÉΩÂ§üÂÆûÁé∞ÂØπÈ°µÈù¢ÁöÑ A/B ÊµãËØï„ÄÇËÄåÂú®È°µÈù¢ÁöÑÂüãÁÇπÁªüËÆ°‰∏≠ÔºåÈúÄË¶Å‰∏äÊä• A/B ÁöÑÊ†áËØÜÔºå‰ª•‰æøÂêéÁª≠‰∏öÂä°Êï∞ÊçÆÁöÑËøΩË∏™ÂíåËØÑ‰º∞ÁªìÊûúÔºåËøõËÄåÂæóÂá∫ÊµãËØïÁªìËÆ∫Âπ∂ÊåáÂØºËêΩÂú∞È°µÊîπËøõ„ÄÇ</p>\n<h3 id=\"Êï∞ÊçÆÊ†°È™åÊµÅÁ®ã\"><a href=\"#Êï∞ÊçÆÊ†°È™åÊµÅÁ®ã\" class=\"headerlink\" title=\"Êï∞ÊçÆÊ†°È™åÊµÅÁ®ã\"></a>Êï∞ÊçÆÊ†°È™åÊµÅÁ®ã</h3><p>ÂØπ‰∫éÂàÜÊûêÂ∏àÊù•ËØ¥ÔºåÊï∞ÊçÆÂàÜÊûêÁöÑÁªìËÆ∫Ê≠£Á°ÆÁöÑÂâçÊèêÊòØÊï∞ÊçÆÊù•Ê∫êÁöÑÊ≠£Á°ÆÊÄßÔºå‰πüÂ∞±ÊòØÊäÄÊúØ‰∫∫ÂëòÈúÄË¶ÅÁ°Æ‰øùÊï∞ÊçÆÈááÈõÜÁöÑÂáÜÁ°ÆÊÄß„ÄÇ</p>\n<p>Êï∞ÊçÆÈááÈõÜÁöÑÊ≠£Á°ÆÊÄßÊ†°È™åÔºö</p>\n<ol>\n<li>‰∫ã‰ª∂ÊòØÂê¶‰∏äÊä•</li>\n<li>‰∫ã‰ª∂Â±ûÊÄßÊòØÂê¶‰∏äÊä•Ôºå‰∏äÊä•ÁöÑÂ±ûÊÄßÂÄºÊòØÂê¶Ê≠£Á°Æ</li>\n<li>ÂÖ¨ÂÖ±Â±ûÊÄßÊòØÂê¶‰∏äÊä•Ôºå‰∏äÊä•ÁöÑÂÖ¨ÂÖ±Â±ûÊÄßÂÄºÊòØÂê¶ËøáÊ≠£Á°Æ</li>\n<li>Â¶ÇÊûú‰∏ä‰º†‰∫ÜÁî®Êà∑Â±ûÊÄßÔºåÁî®Êà∑Â±ûÊÄßÊòØÂê¶‰∏äÊä•Ê≠£Á°Æ</li>\n<li>‰∫ã‰ª∂Â±ûÊÄßÂíåÁî®Êà∑Â±ûÊÄßÁöÑÂ±ûÊÄßÂÄºÁ±ªÂûãÊòØÂê¶Ê≠£Á°Æ</li>\n</ol>\n<p>Áî®Êà∑ÂÖ≥ËÅîÁöÑÊ≠£Á°ÆÊÄßÊ†°È™åÔºö</p>\n<ol>\n<li>ÊòØÂê¶ÂÅö‰∫ÜÁî®Êà∑ÂÖ≥ËÅî</li>\n<li>ÁôªÂΩï ID ÊòØÂê¶‰∏ä‰º†Ê≠£Á°Æ</li>\n<li>ÊòØÂê¶Ê≠£Á°ÆË∞ÉÁî®Áî®Êà∑ÂÖ≥ËÅîÁöÑÊé•Âè£</li>\n</ol>\n<p>Â¶ÇÊûú‰ΩøÁî®ÊºèÊñóÊ®°ÂûãËøõË°åÂàÜÊûêÊó∂Ôºå‰∏äÊä•ÂüãÁÇπÁöÑÊó∂Êú∫Ë¶ÅÁ°Æ‰øùÁ¨¶ÂêàÈ°∫Â∫èÔºåÂú®Áî®Êà∑Á´Ø‰∏äÊä•Êó∂Èó¥‰∏éÁªüËÆ°Âπ≥Âè∞ÁöÑÂüãÁÇπÂÖ•Â∫ìÊó∂Èó¥‰πüÊòØÈúÄË¶ÅÊ≥®ÊÑèÁöÑÁÇπ„ÄÇ</p>\n<p><code>ÂüãÁÇπÁÆ°ÁêÜ</code> -&gt; <code>ÂÆûÊó∂ÂØºÂÖ•Êï∞ÊçÆÊü•ËØ¢</code> -&gt; <code>Áî®Êà∑ ID</code> Êü•ËØ¢Áî®Êà∑ÂÖ≥ËÅîÁöÑÂáÜÁ°ÆÊÄß</p>\n<hr>\n<p><strong>ÂèÇËÄÉËµÑÊñôÔºö</strong></p>\n<ul>\n<li>‰∫ßÂìÅËÆæËÆ°<ul>\n<li><a href=\"http://www.woshipm.com/pd/3079851.html\" target=\"_blank\" rel=\"noopener\">È´òËΩ¨ÂåñÁéáÁöÑ APP Êé®ÂπøËêΩÂú∞È°µÊòØÊÄéÊ†∑ÁÇºÊàêÁöÑ</a></li>\n<li><a href=\"https://www.jianshu.com/p/21db3a53b9e7\" target=\"_blank\" rel=\"noopener\">ÈÇ£‰∫õÂà∂‰ΩúËêΩÂú∞È°µÁöÑÂ•óË∑Ø</a></li>\n<li><a href=\"https://www.shujike.com/blog/77744\" target=\"_blank\" rel=\"noopener\">Â¶Ç‰ΩïÊèêÂçáËêΩÂú∞È°µËΩ¨ÂåñÁéá</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/33882407\" target=\"_blank\" rel=\"noopener\">‰ªÄ‰πàÊòØËêΩÂú∞È°µ</a></li>\n<li><a href=\"https://www.27sem.com/article/3634.html\" target=\"_blank\" rel=\"noopener\">‰Ω†ÈóÆÊàëÁ≠î 12 ‰∏™ÊµÅÈáèÂíåËΩ¨ÂåñÁõ∏ÂÖ≥ÁöÑÂÆûÊàòÈóÆÈ¢òËß£Á≠î</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/36165204\" target=\"_blank\" rel=\"noopener\">È´òËΩ¨ÂåñÁöÑËêΩÂú∞È°µÈïøÂï•Ê†∑</a></li>\n</ul>\n</li>\n<li>Êï∞ÊçÆÂàÜÊûê<ul>\n<li><a href=\"https://www.yunyingpai.com/user/199.html\" target=\"_blank\" rel=\"noopener\">‰∫ßÂìÅËøêËê•ÁöÑÂü∫Êú¨Âäü ÊºèÊñóÊ®°Âûã</a></li>\n<li><a href=\"https://www.sohu.com/a/345808493_165070\" target=\"_blank\" rel=\"noopener\">Ê°à‰æãÂàÜ‰∫´ Ê∏†ÈÅìËêΩÂú∞È°µÊï∞ÊçÆÂàÜÊûê</a></li>\n<li><a href=\"http://menvscode.com/detail/5bfc20d030be6232a69c5d94\" target=\"_blank\" rel=\"noopener\">ÁΩëÈ°µËΩ¨ÂåñÁéá‰∏éÊºèÊñóÊ®°Âûã</a></li>\n<li><a href=\"https://www.niaogebiji.com/article-26780-1.html\" target=\"_blank\" rel=\"noopener\">‰ºòÁßÄ‰∫ßÂìÅ‰∫∫ÂøÖÊáÇÁöÑÊï∞ÊçÆÈ©±Âä®Â¢ûÈïøÊ®°Âûã</a></li>\n<li><a href=\"https://www.sensorsdata.cn/blog/shi-yong-sensors-analytics-jin-xing-a-b-test/\" target=\"_blank\" rel=\"noopener\">‰ΩøÁî® Sensors Analytics ËøõË°å A/B Test</a></li>\n<li><a href=\"https://juejin.im/post/585b7fc161ff4b0058032b84\" target=\"_blank\" rel=\"noopener\">Ê∑±Â∫¶ A/B ÊµãËØï‰∏≠ÁöÑÂõ†ÊûúÊé®Êñ≠‚Äî‚ÄîÊΩúÂú®ÁªìÊûúÊ®°Âûã</a></li>\n<li><a href=\"https://www.infoq.cn/article/PyOwiqA1zmuIcXqySb7V\" target=\"_blank\" rel=\"noopener\">ÈîÄÂîÆÁ∫øÁ¥¢Â±Ö‰Ωé‰∏ç‰∏äÔºå‰Ω†ÂîØ‰∏ÄË¶ÅÂÅöÁöÑÊòØËêΩÂú∞È°µ A/B ÊµãËØï</a></li>\n</ul>\n</li>\n<li>Êâ©Â±ïÈòÖËØª<ul>\n<li><a href=\"https://www.jianshu.com/p/4f64d739fba2\" target=\"_blank\" rel=\"noopener\">Ê∑òÂÆùÁî®Êà∑Ë°å‰∏∫Êï∞ÊçÆÂàÜÊûêËØ¶Ëß£</a></li>\n<li><a href=\"https://tech.meituan.com/2017/05/05/mt-dsp.html\" target=\"_blank\" rel=\"noopener\">ÁæéÂõ¢ DSP ÂπøÂëäÁ≠ñÁï•ÂÆûË∑µ</a></li>\n<li><a href=\"https://www.jianshu.com/p/ab04b1e3a512\" target=\"_blank\" rel=\"noopener\">Êó•ÂøóÈááÈõÜ‰∏éÁî®Êà∑Ë°å‰∏∫ÈìæË∑ØÂàÜÊûê</a></li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>Âú®ÁßëÊäÄÁπÅËç£ÁöÑ‰ªäÂ§©ÔºåËÆ°ÁÆóÊú∫ÁªôÁé∞‰ª£Á§æ‰ºöÂ∏¶Êù•ÁöÑÊòØ‰ø°ÊÅØÂåñÁöÑÂèòÈù©ÔºåÊú¨Ë¥®‰∏äÊâìÁ†¥ÁöÑÊòØÂéüÊúâÁ§æ‰ºö‰∫∫‰ª¨Âú∞ÁêÜ„ÄÅËØ≠Ë®Ä„ÄÅ‰∫∫ÁßçÁ≠âÂêÑÁª¥Â∫¶‰∏äÁöÑÂ∑ÆÂºÇÔºåÈÄöËøá‰∫íËÅîÁΩë‰∫∫‰ª¨ËÉΩÈÄöËøá‰æøÊç∑ÁöÑÊñπÂºèË∂≥‰∏çÂá∫Êà∑Âè£ÔºåÂ∞±ÂèØ‰ª•Ë¥≠‰π∞Âà∞ÂÖ®ÂõΩ‰πÉËá≥ÂÖ®ÁêÉÁöÑÂïÜÂìÅË¥ßÁâ©„ÄÅ‰∫´ÂèóÂà∞ÂêÑÂºèÂêÑÊ†∑ÁöÑÂ∑ÆÂºÇÂåñÊúçÂä°„ÄÇÂõ†Ê≠§ÔºåÂØπ‰∫é‰∏ÄÂÆ∂‰∫íËÅîÁΩë‰ºÅ‰∏öÊù•ËØ¥ÔºåÁî®Êà∑Êó†ÁñëÊòØÊúÄÈáçË¶ÅÁöÑËµÑ‰∫ßÔºåËÆ©Êõ¥Â§öÁöÑÁî®Êà∑Áü•ÈÅì„ÄÅ‰∫ÜËß£ÁîöËá≥‰∫´Âèó‰ºÅ‰∏öÁöÑ‰∫ßÂìÅÔºåÊòØ‰ºÅ‰∏öÁ´ãË∂≥ÁöÑÂâçÊèêÊù°‰ª∂ÔºåÊØïÁ´üÊúâ‰∫ÜÁî®Êà∑ÊñπÊúâÁõàÂà©ÁöÑÂèØËÉΩÊÄßÔºå‰ºÅ‰∏öÊâçËÉΩÂèØÊåÅÁª≠ÂèëÂ±ï„ÄÇ</p>\n<p>ÂØπ‰∫éÂõΩÂÜÖÂæàÂ§öÂ§ßÂéÇÁöÑÊù•ËØ¥ÔºåÊüêÁßçÁ®ãÂ∫¶‰∏äÂú®Áî®Êà∑Ëøô‰∏™Áª¥Â∫¶‰∏ä‰ºöÊäïÂÖ•Â§ßÈáèËµÑÊ∫êÔºåËØ∏Â¶ÇËÆæÁ´ã‰∏ìÈó®Ë¥üË¥£Áî®Êà∑Â¢ûÈïøÁöÑÁªÑÁªáÂçï‰Ωç„ÄÇ‰ªñ‰ª¨ÂÖ≥Ê≥®Áî®Êà∑Âú®‰∫ßÂìÅÁªàÁ´ØÁöÑ‰ΩìÈ™åÔºåÁõ∏ÂÖ≥‰ªé‰∏ö‰∫∫ÂëòÈúÄË¶ÅÊáÇÂæóÊäì‰ΩèÁî®Êà∑ÂøÉÈáåÔºåÁªìÂêàÂêÑÁßç‰∏öÂä°Âú∫ÊôØÂà∂ÂÆöÂØπÂ∫îÁöÑËê•ÈîÄÁ≠ñÁï•ÔºåÊúÄÁªàÁõÆÁöÑÂ∞±ÊòØÁïô‰ΩèÁî®Êà∑ÔºåËÆ©Áî®Êà∑ÂøÉÁîòÊÉÖÊÑøÂú∞Ê∂àË¥π„ÄÇ</p>\n<p>Á¨îËÄÖÂ∞±ËÅå‰∫é‰∏éÊüê‰∫íËÅîÁΩëÈáëËûç‰ºÅ‰∏öÔºåÁî±‰∫éÊúÄËøëÁªèÂ∏∏ÈúÄË¶ÅÂíå‰∫ßÂìÅ„ÄÅÊé®Âπø„ÄÅËøêËê•Êâì‰∫§ÈÅìÔºåÂ§öÂ§öÂ∞ëÂ∞ë‰ºöÊé•Ëß¶Âà∞ÂæàÂ§öÂ∫ûÊùÇÁöÑÁü•ËØÜËæπÁïåÂ§ñÁöÑÈ¢ÜÂüüÔºåÊâÄ‰ª•ÊâìÁÆóÁ≥ªÁªüÊï¥ÁêÜËøôÊÆµÊó∂Èó¥Êù•ÁöÑ‰∏öÂä°ÂàÜÊûêÊñπÊ≥ïËÆ∫ÂíåÂÆûË∑µÂøÉÂæó„ÄÇ</p>","more":"<h2 id=\"ËêΩÂú∞È°µ\"><a href=\"#ËêΩÂú∞È°µ\" class=\"headerlink\" title=\"ËêΩÂú∞È°µ\"></a>ËêΩÂú∞È°µ</h2><p>ÊâÄË∞ìÁöÑËêΩÂú∞È°µÔºàLanding PageÔºâÂ∞±ÊòØÁî®‰∫éÊâøÊé•Áî®Êà∑ÈÄöËøá‰ªòË¥πÊêúÁ¥¢Ê∏†ÈÅìËøõÂÖ•ÁöÑÊé®ÂπøÈ°µÈù¢„ÄÇ</p>\n<p>Âú®Â¶Ç‰ªäÂπøÂëäÊ®™Èú∏Â§©‰∏ãÁöÑ‰∫íËÅîÁΩëÁ§æ‰ºöÔºåÊàë‰ª¨Áî®ÁôæÂ∫¶ÊêúÁ¥¢ÁªìÊûúÂá∫Êù•ÂêéÊèíÂú®ÂºÄÂ§¥ÁöÑÁªìÊûúÔºåÂú®ËÖæËÆØËßÜÈ¢ëÁúãÂâßÊó∂Á™ÅÁÑ∂Ëπ¶Âá∫Êù•ÁöÑÂ∞èÂπøÂëäÔºåÂà∑Áü•‰πéÊàñËÄÖÂæÆ‰ø°ÊúãÂèãÂúàÁ©øÊèíÂú®‰ø°ÊÅØÊµÅÂΩì‰∏≠ÁöÑ„Äå‰º™„Äç‰ø°ÊÅØÔºåÊäëÊàñÊòØÊ∑òÂÆùÂ∫óÂÆ∂„ÄÅ‰øùÈô©ÂÖ¨Âè∏„ÄÅÁßªÂä®ËÅîÈÄöÁîµ‰ø°Á≠âÈöî‰∏âÂ∑Æ‰∫îÁªô‰Ω†ÂèëÁöÑÁü≠‰ø°ÈáåÁöÑÁü≠ÈìæÊé•ÔºåÂü∫Êú¨ÈÉΩÂèØ‰ª•ÂΩíÁ±ª‰∏∫ËêΩÂú∞È°µÁöÑÂÖ•Âè£„ÄÇÈÄöÂ∏∏Áî±Áü•ÂêçÂ∫¶‰∏çË∂≥ÁöÑÂπøÂëäÂïÜ‰ªòË¥πË¥≠‰π∞Êé®Âπø‰ΩçÔºåÂà©Áî®Áü•ÂêçÂ∫¶ËæÉÈ´òÁöÑÊ∏†ÈÅìÂª∫Á´ãÁî®Êà∑‰∏éËá™ÂÆ∂‰∫ßÂìÅÁöÑËÆ§Áü•ÂÖ≥Á≥ªÔºåËÄåËêΩÂú∞È°µÂ∞±ÊòØÂÖ≥ÈîÆÁöÑËΩΩ‰Ωì„ÄÇ</p>\n<p>ÂÖ∂ÂÆûËêΩÂú∞È°µÁöÑÁ±ªÂûãËÉΩÁªÜÂàÜÂá∫ÂæàÂ§öÁßçÔºå‰∏ªË¶ÅÂàÜ‰∏∫Ëê•ÈîÄÊ¥ªÂä®È°µ„ÄÅ‰ø°ÊÅØÊî∂ÈõÜÈ°µ„ÄÅÂ∫îÁî®Êé®ÂπøÈ°µ„ÄÅÂî§ÈÜíÊâæÂõûÈ°µÁ≠âÔºåÂêÑÊúâÂêÑÁöÑËÅåË¥£„ÄÇ</p>\n<h3 id=\"Ëê•ÈîÄÊ¥ªÂä®È°µ\"><a href=\"#Ëê•ÈîÄÊ¥ªÂä®È°µ\" class=\"headerlink\" title=\"Ëê•ÈîÄÊ¥ªÂä®È°µ\"></a>Ëê•ÈîÄÊ¥ªÂä®È°µ</h3><p>Ëê•ÈîÄÊ¥ªÂä®È°µÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜËÆ©‰Ω†ÁöÑÁî®Êà∑Áü•ÈÅì‰Ω†ÁöÑ‰∫ßÂìÅÊòØ‰ªÄ‰πà„ÄÅËÉΩÊèê‰æõ‰ªÄ‰πàÊúçÂä°„ÄÅËÉΩËß£ÂÜ≥Áî®Êà∑‰ªÄ‰πàÈúÄÊ±Ç„ÄÇÈÄöËøáËêΩÂú∞È°µËÉΩÁõ¥Êé•Â±ïÁ§∫ÊàñË∑≥ËΩ¨Ëá≥ APP ÂÜÖÁöÑÊ†∏ÂøÉ‰∏öÂä°ÔºåËµ∑Âà∞ÊâøÊé•ÊµÅÈáèÁöÑ‰ΩúÁî®„ÄÇÈ°µÈù¢ÁöÑÂÜÖÂÆπÈÄöÂ∏∏ÊØîËæÉÁÆÄÊ¥ÅÔºå‰ºöÁî®Âà∞Â§ßÈáèËÆæËÆ°ÊÑüÈ´òÁöÑÂõæÁâáÂíåÈÜíÁõÆÁöÑÊñáÊ°àÔºå‰∏∫Áî®Êà∑Â±ïÁ§∫Ëá™Â∑±ÁöÑÊ¥ªÂä®ÂíåÂïÜÂìÅÔºåÈÄöËøáÁ±ª‰ºº‰ºòÊÉ†‰ª∑Ê†ºÂíåËµ†ÂìÅÁ≠âÊâãÊÆµÂºïÂØºÁî®Êà∑ÁÇπÂáªÔºåËé∑ÂèñÂà∞Áî®Êà∑‰ø°ÊÅØÂêéÔºåÂêéÁª≠ÂÜç‰∏éÂÆ¢Êà∑ËÅîÁ≥ªÔºåÊúÄÁªàÂ∞ÜËøô‰∫õÊΩúÂú®ÁöÑÁî®Êà∑ËΩ¨Âåñ‰∏∫ÁúüÊ≠£ÁöÑÁî®Êà∑„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/landing-page-marketing.jpg\" alt=\"Ëê•ÈîÄÊ¥ªÂä®È°µ\"></p>\n<h3 id=\"‰ø°ÊÅØÊêúÈõÜÈ°µ\"><a href=\"#‰ø°ÊÅØÊêúÈõÜÈ°µ\" class=\"headerlink\" title=\"‰ø°ÊÅØÊêúÈõÜÈ°µ\"></a>‰ø°ÊÅØÊêúÈõÜÈ°µ</h3><p>‰ø°ÊÅØÊêúÈõÜÈ°µÈÄÇÁî®‰∫é‰∏öÂä°Â§çÊùÇÊàñ‰ΩéÈ¢ëÁ±ªÁöÑ‰∫ßÂìÅÔºåÂΩì‰∫ßÂìÅÊ†∏ÂøÉ‰∏öÂä°ËÆæËÆ°Âà∞Â§ßÈ¢ù‰∫§Êòì„ÄÅÂÆöÂà∂ÊúçÂä°„ÄÅÂìçÂ∫îÂë®ÊúüÈïøÁ≠âÁâπÂæÅÁöÑÊó∂ÂÄôÔºåËêΩÂú∞È°µÁöÑ‰ªªÂä°Êõ¥ÂÉèÊòØÁªôÁî®Êà∑‰∏Ä‰∏™ÊâøËØ∫ÔºåËÆ∏ËØ∫‰ºöÊúâÂ§ßÈáè‰ºòÊÉ†ÁöÑÁ¶èÂà©ÔºåÁïô‰∏ã‰∏™‰∫∫‰ø°ÊÅØ‰ª•‰æøÂπ≥Âè∞ÂêéÁª≠‰∏ìÂëòÁöÑÁîµËÆø„ÄÇÂõûÊÉ≥Ëµ∑ÂæàÂ§öËØ∏Â¶ÇËÅå‰∏öÂüπËÆ≠ÁöÑÂÖ¨Âè∏ÔºåÊòØ‰∏çÊòØÁΩëÈ°µÂä†ËΩΩÂêéÈÉΩ‰ºöÂºπÁ™óËÆ©‰Ω†Â°´ÂÜô‰∏™‰∫∫‰ø°ÊÅØÔºåÁÑ∂ÂêéÂá†Â§©ÂÜÖÂ∞±‰ºöÊé•Âà∞‰ªñ‰ª¨ÁîµËØùÂêë‰Ω†Êé®ÈîÄËØæÁ®ã„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/landing-page-information.jpg\" alt=\"‰ø°ÊÅØÊêúÈõÜÈ°µ\"></p>\n<h3 id=\"Â∫îÁî®Êé®ÂπøÈ°µ\"><a href=\"#Â∫îÁî®Êé®ÂπøÈ°µ\" class=\"headerlink\" title=\"Â∫îÁî®Êé®ÂπøÈ°µ\"></a>Â∫îÁî®Êé®ÂπøÈ°µ</h3><p>Â∫îÁî®Êé®ÂπøÈ°µÁöÑÁõÆÁöÑÂæàÊòéÁ°ÆÔºåÂ∞±ÊòØÂºïÂØºÁî®Êà∑‰∏ãËΩΩÂ∫îÁî®„ÄÅÊ≥®ÂÜå„ÄÅÁôªÂΩïÁ≠â„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/landing-page-application-promotion.jpg\" alt=\"Â∫îÁî®Êé®ÂπøÈ°µ\"></p>\n<h3 id=\"Âî§ÈÜíÊâæÂõûÈ°µ\"><a href=\"#Âî§ÈÜíÊâæÂõûÈ°µ\" class=\"headerlink\" title=\"Âî§ÈÜíÊâæÂõûÈ°µ\"></a>Âî§ÈÜíÊâæÂõûÈ°µ</h3><p>Êó•Ê¥ªÊúàÊ¥ªÊòØ‰∫íËÅîÁΩëÂ∫îÁî®ÂæàÈáçË¶ÅÁöÑÊ¥ªÊÄßÊåáÊ†áÔºåÂî§ÈÜíÊâæÂõûÈ°µÁöÑ‰ΩøÂëΩÂ∞±ÊòØÊøÄÊ¥ªÈÇ£‰∫õÊµÅÂ§±ÊéâÁöÑÁî®Êà∑ÔºåÈÄöËøáÁü≠‰ø°„ÄÅÈÇÆ‰ª∂„ÄÅÊ∂àÊÅØÈÄöÁü•Á≠â‰∏ªÂä®ÂèçÈ¶àÁöÑÂΩ¢ÂºèÂê∏ÂºïËÄÅÁî®Êà∑ÂõûÂΩíÂ∫îÁî®„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/landing-page-awaken.jpg\" alt=\"Âî§ÈÜíÊâæÂõûÈ°µ\"></p>\n<h2 id=\"Êï∞ÊçÆÊåáÊ†á‰∏éËΩ¨ÂåñÁéáÂàÜÊûê\"><a href=\"#Êï∞ÊçÆÊåáÊ†á‰∏éËΩ¨ÂåñÁéáÂàÜÊûê\" class=\"headerlink\" title=\"Êï∞ÊçÆÊåáÊ†á‰∏éËΩ¨ÂåñÁéáÂàÜÊûê\"></a>Êï∞ÊçÆÊåáÊ†á‰∏éËΩ¨ÂåñÁéáÂàÜÊûê</h2><h3 id=\"Êï∞ÊçÆÊåáÊ†á\"><a href=\"#Êï∞ÊçÆÊåáÊ†á\" class=\"headerlink\" title=\"Êï∞ÊçÆÊåáÊ†á\"></a>Êï∞ÊçÆÊåáÊ†á</h3><p>ËêΩÂú∞È°µÁöÑÂÆûÈôÖÊïàÊûúÈúÄË¶ÅÈáèÂåñÊåáÊ†áÊù•Ë°°ÈáèÔºå‰∏ãÈù¢‰ªéËøêËê•ËßíÂ∫¶ÂàóÂá∫‰∫Ü‰∏Ä‰∫õËêΩÂú∞È°µÂª∫ËÆæÈúÄË¶ÅÂÖ≥Ê≥®ÁöÑÊåáÊ†á„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/landing-page-pointer.jpg\" alt=\"ËêΩÂú∞È°µÊåáÊ†á\"></p>\n<ul>\n<li><strong>È°µÈù¢ÊµèËßàÈáè</strong>ÔºöÊåáÈ°µÈù¢Ë¢´Áî®Êà∑ÊµèËßàÁöÑÊ¨°Êï∞Ôºå‰∏•Ê†ºÊÑè‰πâ‰∏äÊåáÁî®Êà∑ÂêëÁΩëÁ´ôÂèëÂá∫Âπ∂ÂÆåÊàê‰∏ãËΩΩÈ°µÈù¢ÁöÑËØ∑Ê±Ç</li>\n<li><strong>ÁÇπÂáªÁéá</strong>ÔºöÁΩëÈ°µÂÜÖÊüêÂÜÖÂÆπË¢´ÁÇπÂáªÊ¨°Êï∞‰∏éÊòæÁ§∫Ê¨°Êï∞‰πãÊØî</li>\n<li><strong>Ë∑≥Âá∫Áéá</strong>ÔºöË°°ÈáèËêΩÂú∞È°µË¥®ÈáèÂ•ΩÂùèÁöÑÈáçË¶ÅÊåáÊ†á„ÄÇÈ°µÈù¢Ë∑≥Âá∫ÁéáÁöÑËÆ°ÁÆó‰∏∫ËØ•È°µÈù¢‰Ωú‰∏∫ËêΩÂú∞È°µË∑≥Âá∫ÁöÑËÆøÈóÆÊ¨°Êï∞Âç†ËØ•È°µÈù¢‰Ωú‰∏∫ËêΩÂú∞È°µËÆøÈóÆÊ¨°Êï∞ÁöÑÁôæÂàÜÊØîÔºåÂÖ®Á´ôË∑≥Âá∫ÁéáÂàô‰∏∫Ë∑≥Âá∫ÁöÑËÆøÈóÆÊ¨°Êï∞Èô§‰ª•ÊÄªÁöÑËÆøÈóÆÊ¨°Êï∞„ÄÇ</li>\n<li><strong>ÂÅúÁïôÊó∂Èïø</strong>ÔºöÁî®‰∫éË°°ÈáèÁî®Êà∑‰∏éÁΩëÁ´ô/APP ‰∫§‰∫íÊ∑±Â∫¶Ôºå‰∏ÄËà¨ÊúâÈ°µÈù¢ÂÅúÁïôÊó∂ÈïøÔºå‰ºöËØùÊó∂Èïø‰ª•ÂèäÂπ≥ÂùáÂÅúÁïôÊó∂ÈïøÁ≠âÊ¶ÇÂøµÔºåÂÖ∂ËÆ°ÁÆóÁöÑÊ†∏ÂøÉÂéüÁêÜÂú®‰∫éËÆ∞ÂΩï‰∏ãÁî®Êà∑Ë°å‰∏∫ÂèëÁîüÊó∂ÁöÑÊó∂Èó¥Êà≥ÔºåÂêéÊúüÂÜçÂ∫îÁî®Áõ∏Â∫îÂÖ¨ÂºèÊù•ËÆ°ÁÆó</li>\n<li><strong>‰∫§‰∫íÊ∑±Â∫¶</strong>ÔºöÊåáÁî®Êà∑Âú®‰∏ÄÊ¨°ÊµèËßàÁΩëÈ°µÊàñ APP ËøáÁ®ã‰∏≠ÔºåËÆøÈóÆ‰∫ÜÂ§öÂ∞ëÈ°µÈù¢„ÄÇÁî®Êà∑Âú®‰∏ÄÊ¨°ÊµèËßà‰∏≠ËÆøÈóÆÁöÑÈ°µÈù¢Ë∂äÂ§öÔºå‰∫§‰∫íÊ∑±Â∫¶Â∞±Ë∂äÊ∑±„ÄÇ‰∫§‰∫íÊ∑±Â∫¶ËÉΩÂ§ü‰æßÈù¢ÂèçÊò†ÁΩëÁ´ôÊàñ APP ÂØπ‰∫éÁî®Êà∑ÁöÑÂê∏ÂºïÂäõ„ÄÇ<br>ÂèØ‰ª•ÈÄöËøá Session Êù•ËÆ°ÁÆóÁî®Êà∑ÁöÑÂπ≥Âùá‰∫§‰∫íÊ∑±Â∫¶„ÄÇ</li>\n</ul>\n<p>Èô§Ê≠§‰πãÂ§ñËøòÊúâ‰∏Ä‰∫õÊàë‰ª¨‰ºöÁªèÂ∏∏Âê¨Âà∞ÁöÑ‰∏Ä‰∫õÊ†∏ÂøÉÊåáÊ†áÔºö</p>\n<ul>\n<li><strong>DAUÔºàDaily Activited UsersÔºâ</strong>ÔºöÊó•Ê¥ªË∑ÉÁî®Êà∑Êï∞ÈáèÔºåÁªüËÆ°ÂçïÊó•ÂÜÖÔºåÁôªÂΩïÊàñ‰ΩøÁî®Êüê‰∏™‰∫ßÂìÅÁöÑÁî®Êà∑Êï∞ÔºàÂéªÈô§ÈáçÂ§çÁôªÂΩïÁöÑÁî®Êà∑Ôºâ</li>\n<li><strong>MAUÔºàMonthly Activited Users</strong>ÔºâÔºöÊúàÊ¥ªË∑ÉÁî®Êà∑Êï∞ÈáèÔºåÁªüËÆ°ÂçïÊúàÂÜÖÔºåÁôªÂΩïÊàñ‰ΩøÁî®Êüê‰∏™‰∫ßÂìÅÁöÑÁî®Êà∑Êï∞ÔºàÂéªÈô§ÈáçÂ§çÁôªÂΩïÁöÑÁî®Êà∑Ôºâ</li>\n<li><strong>PVÔºàPage ViewÔºâ</strong>ÔºöÈ°µÈù¢ÊµèËßàÈáèÂíåÁÇπÂáªÈáèÔºåÁî®Êà∑ÊØèÊ¨°ÂØπÁΩëÈ°µËøõË°åËÆøÈóÆË¢´ËÆ∞ÂΩï‰∏∫‰∏ÄÊ¨°</li>\n<li><strong>UVÔºàUnique ViewÔºâ</strong>ÔºöÁã¨Á´ãËÆøÂÆ¢ÔºåËÆøÈóÆÁΩëÁ´ôÁöÑ‰∏Ä‰∏™ÁªàÁ´Ø‰∏∫‰∏Ä‰∏™ËÆøÂÆ¢</li>\n<li><strong>ËΩ¨ÂåñÁéá</strong>Ôºö‰∏Ä‰∏™ÁªüËÆ°Âë®ÊúüÂÜÖÔºåÂÆåÊàêËΩ¨ÂåñË°å‰∏∫ÁöÑÊ¨°Êï∞Âç†Êé®Âπø‰ø°ÊÅØÊÄªÁÇπÂáªÊ¨°Êï∞ÁöÑÊØîÁéá„ÄÇ</li>\n<li><strong>ÁïôÂ≠òÁéá</strong>ÔºöÊüê‰∏ÄÁªüËÆ°Êó∂ÊÆµÂÜÖÁöÑÊñ∞Â¢ûÁî®Êà∑Êï∞‰∏≠ÁªèËøá‰∏ÄÊÆµÊó∂Èó¥Âêé‰ªçÂêØÂä®ËØ•Â∫îÁî®ÁöÑÁî®Êà∑ÊØî‰æã„ÄÇ</li>\n</ul>\n<h3 id=\"ÊºèÊñóÊ®°Âûã\"><a href=\"#ÊºèÊñóÊ®°Âûã\" class=\"headerlink\" title=\"ÊºèÊñóÊ®°Âûã\"></a>ÊºèÊñóÊ®°Âûã</h3><p>Ë°°ÈáèÊåáÊ†áÈúÄË¶ÅËêΩÂÆûÂà∞ÂÖ∑‰ΩìÁöÑÂàÜÊûêÊ®°ÂûãÔºåËÄåÊºèÊñóÊ®°ÂûãÂàôÊòØÊúÄÂ∏∏Áî®ÁöÑËØÑÂà§ËêΩÂú∞È°µËΩ¨ÂåñÊïàÊûúÁöÑÂ∑•ÂÖ∑„ÄÇÊºèÊñóÊ®°ÂûãÁöÑÂÆûÁé∞ÂéüÁêÜÊòØÂú®ÊΩúÂú®Áî®Êà∑‰ªéËÆøÈóÆÈ°µÈù¢Âà∞ÊúÄÁªàËΩ¨Êç¢ÊàêÁúüÊ≠£Áî®Êà∑Ëøô‰∏™Ë°å‰∏∫Ë∑ØÂæÑ‰∏äÁöÑÂÖ≥ÈîÆËäÇÁÇπËøõË°åÂüãÁÇπÊî∂ÈõÜË°å‰∏∫Êï∞ÊçÆÔºåÂπ∂Ê†πÊçÆ‰∏çÂêåÂÖ≥ÈîÆËäÇÁÇπÁöÑÁâπÊÄßËÆæÂÆö‰∏çÂêåÁõÆÊ†áÔºåÊúÄÂêéÈÄöËøáÂêÑÈò∂ÊÆµÁöÑËΩ¨ÂåñÊÉÖÂÜµÊîπÂñÑÂÖ≥ÈîÆËäÇÁÇπËΩ¨ÂåñÁöÑÊµÅÁ®ãËÆæËÆ°Ôºå‰ªéËÄåÊèêÂçáÁî®Êà∑‰ΩìÈ™å„ÄÇ</p>\n<p>‰ª•ÊàëÊúÄÁÜüÊÇâÁöÑÂºïÂØºÊµÅÈáèÁöÑÊ≥®ÂÜåËêΩÂú∞È°µ‰∏∫‰æãÔºåÈ°µÈù¢ÂëàÁé∞‰ªÖÊúâÊâãÊú∫Âè∑ËæìÂÖ•Ê°Ü„ÄÅÁü≠‰ø°È™åËØÅÁ†ÅËæìÂÖ•Ê°Ü„ÄÅÂØÜÁ†ÅËæìÂÖ•Ê°ÜÂíåÊ≥®ÂÜåÊåâÈíÆÁ≠âÂõõ‰∏™‰∏ªË¶ÅÁöÑÂèØ‰∫§‰∫íÂÖÉÁ¥†ÔºåÁêÜÊÉ≥ÁöÑÊñ∞Áî®Êà∑Ê≥®ÂÜåÊµÅÁ®ãÂ§ßÊ¶ÇÊòØËøôÊ†∑ÁöÑÔºö</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ËÆøÈóÆÈ°µÈù¢ -&gt; ËæìÂÖ•ÊâãÊú∫Âè∑ -&gt; ‰∏ãÂèëÁü≠‰ø°È™åËØÅÁ†Å -&gt; ËæìÂÖ•È™åËØÅÁ†Å -&gt; ËæìÂÖ•Ë¥¶Âè∑ÂØÜÁ†Å -&gt; ÁÇπÂáªÊ≥®ÂÜåÊåâÈíÆ -&gt; ÊúçÂä°Á´ØËøõË°åÊ≥®ÂÜåÂ§ÑÁêÜ -&gt; Ê≥®ÂÜåÊàêÂäü</span><br></pre></td></tr></table></figure>\n<p>ËΩ¨ÂåñÊºèÊñóÂèØ‰ª•Ê∑ªÂä†Â§ö‰∏™‰∫§‰∫íÊ≠•È™§ÔºåÊØîÂ¶ÇÂΩìÁî®Êà∑ËæìÂÖ•ÊâãÊú∫Âè∑ÂêéÔºåÂâçÁ´ØËá™Âä®Ê£ÄÊµãËæìÂÖ•ÂÄºÁî±Ê≠£ÂàôÊ†°È™åÊúâÊïàÂêéÔºåÂàô‰∏äÊä•Ê†áËÆ∞‰∏∫ <code>ËæìÂÖ•ÊâãÊú∫Âè∑</code> ÁöÑÂüãÁÇπÔºåÂú®Áî®Êà∑Ëé∑ÂèñÂà∞Áü≠‰ø°È™åËØÅÁ†ÅÔºåÂêåÊ†∑Âú∞ËæìÂÖ•Áü≠‰ø°È™åËØÅÁ†ÅÂπ∂Ê†°È™åÊúâÊïàÂêéÔºåÂç≥‰∏äÊä• <code>ËæìÂÖ•È™åËØÅÁ†Å</code> ÁöÑÂüãÁÇπ„ÄÇÈÄöËøáÊ∑ªÂä†‰∏§‰∏™ÂÖ≥ÈîÆËäÇÁÇπÁöÑÂüãÁÇπÔºå‰ΩøÁî®ËΩ¨ÂåñÊºèÊñóÈÖçÂêàÂèØËßÜÂåñËßÜÂõæÔºåÊàë‰ª¨Â∞±ËÉΩÊ∏ÖÊô∞Âú∞Áü•ÈÅìÊúâÂ§öÂ∞ëÁî®Êà∑ÂÆåÊàê‰∫Ü <code>ËæìÂÖ•ÊâãÊú∫Âè∑</code> Âà∞ <code>ËæìÂÖ•È™åËØÅÁ†Å</code> Ëøô‰∏™Ê≠•È™§ÔºåËÄåÈÄöËøá <code>ËæìÂÖ•ÊâãÊú∫Âè∑</code> ÁöÑ‰∫∫Êï∞ÂáèÂéª <code>ËæìÂÖ•È™åËØÅÁ†Å</code> ÁöÑ‰∫∫Êï∞ÔºåÊàë‰ª¨Â∞±ËÉΩËé∑Áü•ËØ•Èò∂ÊÆµÊµÅÂ§±ÁöÑÁî®Êà∑Êï∞„ÄÇ</p>\n<p>ËΩ¨ÂåñÁéáÈúÄË¶Å <strong>ÂØπÊØî</strong>Ôºå‰∏çËÉΩÂú®ÂàÜÊûêÁöÑÊó∂ÂÄôÂèëÁé∞Êüê‰∏™ÁéØËäÇÁöÑËΩ¨ÂåñÁéáÂ§™‰ΩéÔºåÂ∞±ËÆ§‰∏∫‰∏ÄÂÆöÊòØËøô‰∏™ÁéØËäÇÂá∫Áé∞‰∫ÜÈóÆÈ¢ò„ÄÇÊØîÂ¶Ç‰ªé <code>ËæìÂÖ•ÊâãÊú∫Âè∑</code> Âà∞ <code>Ê≥®ÂÜåÊàêÂäü</code> Ëøô‰∏™ÁéØËäÇËΩ¨ÂåñÁéáÂè™Êúâ 40%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåÊòØÊâÄÊúâÁéØËäÇ‰∏≠ÊúÄ‰ΩéÁöÑÔºå‰ΩÜÊàë‰ª¨ÂèØ‰ª•Áî®ÂéÜÂè≤Êï∞ÊçÆËøõË°åÊØîËæÉÔºå‰ªé<strong>Ë∂ãÂäø</strong>ÁöÑÂèòÂåñÂàÜÊûêËΩ¨ÂåñÊïàÊûúÔºå‰∏ä‰∏™ÊúàÂêåÊúüËØ•ÁéØËäÇÁöÑËΩ¨ÂåñÁéáÈ°µÊòØ 38%ÔºåË°å‰∏öÂêåÁ±ª‰∫ßÂìÅÂùáÂÄºÊòØ 36%ÔºåÈÇ£‰πàÂÖ∂ÂÆûËØ•ÁéØËäÇÂÅöÂæóËøòÊòØ‰∏çÈîôÁöÑ„ÄÇÊàë‰ª¨ÁúãÂêéÈù¢ÁöÑÁéØËäÇÔºå‰ªé <code>Ê≥®ÂÜåÊàêÂäü</code> Âà∞ <code>ËøõÂÖ• APP Â∫îÁî®</code> ÁöÑÁéØËäÇÁöÑËΩ¨ÂåñÁéáÊòØ 62%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåË∑üÂÖ∂‰ªñÁéØËäÇÁõ∏ÊØîËæÉËµ∑Êù•ÔºåËøô‰∏™ËΩ¨ÂåñÁéáÊòØÊúÄÈ´òÁöÑÔºå‰ΩÜÊòØÊàë‰ª¨ÂØπÊØîË°å‰∏öÂêåÁ±ªÂûã‰∫ßÂìÅ‰ºöÂèëÁé∞ÂùáÂÄºÊòØ 90%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåÂØπÊØî‰∏ä‰∏™ÊúàÂêåÊúüËøô‰∏™ÊØîÁéáÊòØ 91%ÔºàËôöÊûÑÊï∞ÊçÆÔºâÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÂèëÁé∞ÂΩìÂâçËøô‰∏™ÊúàÔºåËêΩÂú∞È°µ‰ªéÊ≥®ÂÜåÊàêÂäüÂà∞ÁôªÂΩï APP Â∫îÁî®ÁöÑËΩ¨ÂåñÁéáÊòØÂÅöÂæóÈùûÂ∏∏‰∏çÂ•ΩÁöÑÔºåÂÖ∂ÂÆûËøô‰∏™Â∞±ÂõûÂà∞Êàë‰ª¨Êï∞ÊçÆÂàÜÊûê‰∏≠ÁöÑÂØπÊØîÂàÜÊûê‰∫ÜÔºåÊàë‰ª¨ÈúÄË¶Å‰∏éËá™Â∑±ÁöÑÂéÜÂè≤Êï∞ÊçÆÂÅöÂØπÊØîÔºåÊâçËÉΩÂæóÂá∫ÂÆåÊï¥ÁöÑÁªìËÆ∫ÔºåÂΩìÁÑ∂Âè¶Â§ñ‰∏ÄÁÇπÊòØ‰∏çÂêåÁöÑÁî®Êà∑ÔºåÂØπÊØîÂú®‰∫§‰∫íÊµÅÁ®ã‰∏≠ÁöÑËΩ¨ÂåñÁéáÊòØÂèØ‰ª•ÊúâÂæàÂ§ßÁöÑÂ∑ÆÂºÇÁöÑÔºåÂÉèÂÆ¢Êà∑Êù•Ëá™‰∏çÂêåÁöÑÊ∏†ÈÅì„ÄÅ‰∏çÂêåÁöÑÂå∫Âüü„ÄÅ‰∏çÂêåÁöÑÁîüÂëΩÂë®Êúü„ÄÅ‰∏çÂêåÊÄßÂà´„ÄÅ‰∏çÂêåÂπ¥ÈæÑÔºå‰ªñ‰ª¨Âú®ÊºèÊñó‰∏≠ÁöÑË°®Áé∞ÈÉΩÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨Âú®ËøõË°åÊºèÊñóÂàÜÊûêÁöÑÊó∂ÂÄôÔºåÂæÄÂæÄËøòÈúÄË¶ÅËøõË°åÁªÜÂàÜÁöÑÊºèÊñóÊ®°ÂûãÂàÜÊûêÔºå</p>\n<p>Â¶ÇÊûúËΩ¨ÂåñÁéáÂπ∂‰∏çÁêÜÊÉ≥ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá <strong>ÁªÜÂàÜÁª¥Â∫¶</strong> ÂØπËΩ¨ÂåñÁéáËøõË°åÊãÜËß£ÔºåÊØîÂ¶ÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÊìç‰ΩúÁ≥ªÁªüÁª¥Â∫¶Ôºà‰æãÂ¶ÇÂàÜ‰∏∫ Android Âíå iOSÔºâÁúãÂà∞‰∏çÂêåÊìç‰ΩúÁ≥ªÁªüÁöÑÈò∂ÊÆµËΩ¨ÂåñÊÉÖÂÜµÔºå‰πüÂèØ‰ª•ÈÄâÊã©ÊµèËßàÂô®ÔºàChrome„ÄÅSafari„ÄÅFirefox Âíå ÂæÆ‰ø°ÂÜÖÁΩÆÊµèËßàÂô®Á≠âÔºâÁúãÂà∞‰∏çÂêåÊµèËßàÂô®ÁöÑÈò∂ÊÆµËΩ¨ÂåñÊÉÖÂÜµÔºåÁîöËá≥ÂèØ‰ª•ÈÄâÊã©ËÆæÂ§áÁöÑÂìÅÁâåÊù•ÁúãÂà∞ÂØπÂ∫îÁöÑÈò∂ÊÆµËΩ¨ÂåñÊÉÖÂÜµ„ÄÇÂ¶ÇÊûúÊüê‰∏™ËΩ¨ÂåñÁéáÊòéÊòæ‰Ωé‰∫éÊ≠£Â∏∏ÁöÑËΩ¨ÂåñÁéáÊÉÖÂÜµÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÂêàÁêÜÊÄÄÁñëÈ°µÈù¢Ëøô‰∏™Êìç‰ΩúÁ≥ªÁªü„ÄÅÂìÅÁâåÊàñÊµèËßàÂô®‰∏äÔºåÂÖºÂÆπÊÄßÂÅöÂæó‰∏çÂ§ü„ÄÇ</p>\n<p>ÁªºÂêà‰ª•‰∏äÔºåÂèØ‰ª•ÂæóÂá∫Âü∫‰∫éÊºèÊñóÊ®°ÂûãÁöÑÂàÜÊûêÊñπÊ≥ïÊúâ‰ª•‰∏ãÂá†ÁßçÔºö</p>\n<ul>\n<li><strong>Ë∂ãÂäøÔºàTrendÔºâ</strong>Ôºö‰ªé <code>Êó∂Èó¥ËΩ¥</code> ÁöÑÂèòÂåñÊÉÖÂÜµËøõË°åÂàÜÊûêÔºåÈÄÇÁî®‰∫éÂØπÊüê‰∏ÄÊµÅÁ®ãÊàñÂÖ∂‰∏≠Êüê‰∏™Ê≠•È™§ËøõË°åÊîπËøõÊàñ‰ºòÂåñÁöÑÊïàÊûúÁõëÊéß„ÄÇ</li>\n<li><strong>ÊØîËæÉÔºàCompareÔºâ</strong>ÔºöÈÄöËøáÊØîËæÉ <code>Á±ª‰ºº‰∫ßÂìÅÊàñÊúçÂä°Èó¥</code> Ë¥≠‰π∞Êàñ‰ΩøÁî®ÊµÅÁ®ãÁöÑËΩ¨ÂåñÁéáÔºåÂèëÁé∞Êüê‰∫õ‰∫ßÂìÅÊàñÂ∫îÁî®‰∏≠Â≠òÂú®ÁöÑÈóÆÈ¢ò„ÄÇ</li>\n<li><strong>ÁªÜÂàÜÔºàSegmentÔºâ</strong>ÔºöÁªÜÂàÜÊù•Ê∫êÊàñ <code>‰∏çÂêåÁöÑÂÆ¢Êà∑Á±ªÂûã</code> Âú®ËΩ¨ÂåñÁéá‰∏äÁöÑË°®Áé∞ÔºåÂèëÁé∞‰∏Ä‰∫õÈ´òË¥®ÈáèÁöÑÊù•Ê∫êÊàñÂÆ¢Êà∑ÔºåÈÄöÂ∏∏Áî®‰∫éÂàÜÊûêÁΩëÁ´ôÁöÑÂπøÂëäÊàñÊé®ÂπøÁöÑÊïàÊûúÂèä ROI„ÄÇ</li>\n</ul>\n<h3 id=\"A-B-ÊµãËØï\"><a href=\"#A-B-ÊµãËØï\" class=\"headerlink\" title=\"A/B ÊµãËØï\"></a>A/B ÊµãËØï</h3><p>A/B ÊµãËØïÊòØ‰∏∫‰∫Ü Web Êàñ App ÁïåÈù¢ÊàñÊµÅÁ®ãÂà∂‰Ωú‰∏§‰∏™ÊàñÂ§ö‰∏™ÁâàÊú¨ÔºåÂú®Áõ∏ÂêåÊó∂Èó¥Áª¥Â∫¶ÔºåÂàÜÂà´ËÆ©ÁªÑÊàêÊàêÂàÜÁõ∏ÂêåÔºàÁõ∏‰ººÔºâÁöÑËÆøÂÆ¢Áæ§ÁªÑÔºàÁõÆÊ†á‰∫∫Áæ§ÔºâÈöèÊú∫ÁöÑËÆøÈóÆËøô‰∫õÁâàÊú¨ÔºåÊî∂ÈõÜÂêÑÁæ§ÁªÑÁöÑÁî®Êà∑‰ΩìÈ™åÊï∞ÊçÆÂíå‰∏öÂä°Êï∞ÊçÆÔºåÊúÄÂêéÂàÜÊûê„ÄÅËØÑ‰º∞ÂàùÊúÄÂ•ΩÁâàÊú¨ÔºåÊ≠£ÂºèÈááÁî®„ÄÇ</p>\n<p>ÈÄöËøá A/B ÊµãËØïÂèØ‰ª•ÊúâÊïàÂáèÂ∞ëÂü∫‰∫éÂÅáËÆæÂâçÊèêÁöÑÂêÑÁßçÊó†Ë∞ì‰∫âËÆ∫„ÄÇÈÄöËøá A/B ÊµãËØïÂèØ‰ª•ÁúãÂà∞Áî®Êà∑Èù¢ÂØπ‰∏çÂêåËêΩÂú∞È°µÂÖÉÁ¥†ÁöÑÁúüÂÆûÂèçÂ∫î„ÄÅÁî®Êà∑Êõ¥ÂÆπÊòìÁÇπÂáªËêΩÂú∞È°µÁöÑÂì™‰∫õ‰ΩçÁΩÆÔºå‰ªéËÄåÂæóÂá∫‰øÆÊîπÈ°µÈù¢ÂÖÉÁ¥†ÁöÑÊúâÂäõËØÅÊçÆ„ÄÇ</p>\n<p>Âõ†‰∏∫ÁªèÂ∏∏ÈúÄË¶ÅÂú®ÊµÅÈáèÂàÜÈÖçÊó∂ÊúâÊâÄÊùÉË°°Ôºå‰∏ÄËà¨Êúâ‰ª•‰∏ãÂá†‰∏™ÊÉÖÂÜµÔºö</p>\n<ul>\n<li>‰∏çÂΩ±ÂìçÁî®Êà∑‰ΩìÈ™åÔºöÂ¶Ç UI ÂÆûÈ™å„ÄÅÊñáÊ°àÁ±ªÂÆûÈ™åÁ≠âÔºå‰∏ÄËà¨ÂèØ‰ª•ÂùáÂåÄÂàÜÈÖçÊµÅÈáèÂÆûÈ™åÔºåÂèØ‰ª•Âø´ÈÄüÂæóÂà∞ÂÆûÈ™åÁªìËÆ∫</li>\n<li>‰∏çÁ°ÆÂÆöÊÄßËæÉÂº∫ÁöÑÂÆûÈ™åÔºöÂ¶Ç‰∫ßÂìÅÊñ∞ÂäüËÉΩ‰∏äÁ∫øÔºå‰∏ÄËà¨ÈúÄÂ∞èÊµÅÈáèÂÆûÈ™åÔºåÂ∞ΩÈáèÂáèÂ∞ëÁî®Êà∑‰ΩìÈ™åÂΩ±ÂìçÔºåÂú®ÂÖÅËÆ∏ÁöÑÊó∂Èó¥ÂÜÖÂæóÂà∞ÁªìËÆ∫</li>\n<li>Â∏åÊúõÊî∂ÁõäÊúÄÂ§ßÂåñÁöÑÂÆûÈ™åÔºöÂ¶ÇËøêËê•Ê¥ªÂä®Á≠âÔºåÂ∞ΩÂèØËÉΩÂ∞ÜÊïàÊûúÊúÄÂ§ßÂåñÔºå‰∏ÄËà¨ÈúÄË¶ÅÂ§ßÊµÅÈáèÂÆûÈ™åÔºåÁïôÂá∫Â∞èÈÉ®ÂàÜÂØπÁÖßÁªÑÁî®‰∫éËØÑ‰º∞ ROI</li>\n</ul>\n<p>Âõ†‰∏∫ÈÄöÂ∏∏Âçï‰∏™ÈìæÊé•ÁöÑËêΩÂú∞È°µ‰∏çÂÖ∑Â§á A/B test ÁöÑÂäüËÉΩÔºåÈúÄË¶ÅÈÖçÂêà‰∏ìÈó®Áî®‰∫é A/B test È°µÈù¢ÂàÜÂèëÁöÑÁ≥ªÁªüËøõË°åÊµÅÈáèÂàÜÈÖçÔºåÂÆûÈôÖ‰∏äÈÄöËøáÁ±ª‰ººÂèçÂêë‰ª£ÁêÜÁöÑÂéüÁêÜÔºåÊ†πÊçÆÂàÜÈÖçÂà∞‰∏çÂêåÁöÑÈ°µÈù¢ÁöÑÊØî‰æãÂ∞ÜÊ†áËØÜ A/B ‰∏çÂêåÈ°µÈù¢ËøîÂõûÁªôÁî®Êà∑Â±ïÁ§∫„ÄÇ</p>\n<p>Áî±‰∫éÊàë‰ª¨ÁöÑÊ≥®ÂÜåËêΩÂú∞È°µÊòØ‰ΩøÁî®ÂèØËßÜÂåñÈ°µÈù¢Êê≠Âª∫Á≥ªÁªüÈÖçÁΩÆÁöÑÔºåÂπ∂‰∏çÊîØÊåÅ A/B ÊµãËØïÔºåÊâÄ‰ª•Êê≠ÈÖçÂè¶‰∏ÄÂ•óÂâçÁ´ØÁöÑÈõÜÊàêÁ≥ªÁªüÂíåÂÆ¢Êà∑Á´ØÁöÑ CMS Á≥ªÁªüÔºåËÉΩÂ§üÂÆûÁé∞ÂØπÈ°µÈù¢ÁöÑ A/B ÊµãËØï„ÄÇËÄåÂú®È°µÈù¢ÁöÑÂüãÁÇπÁªüËÆ°‰∏≠ÔºåÈúÄË¶Å‰∏äÊä• A/B ÁöÑÊ†áËØÜÔºå‰ª•‰æøÂêéÁª≠‰∏öÂä°Êï∞ÊçÆÁöÑËøΩË∏™ÂíåËØÑ‰º∞ÁªìÊûúÔºåËøõËÄåÂæóÂá∫ÊµãËØïÁªìËÆ∫Âπ∂ÊåáÂØºËêΩÂú∞È°µÊîπËøõ„ÄÇ</p>\n<h3 id=\"Êï∞ÊçÆÊ†°È™åÊµÅÁ®ã\"><a href=\"#Êï∞ÊçÆÊ†°È™åÊµÅÁ®ã\" class=\"headerlink\" title=\"Êï∞ÊçÆÊ†°È™åÊµÅÁ®ã\"></a>Êï∞ÊçÆÊ†°È™åÊµÅÁ®ã</h3><p>ÂØπ‰∫éÂàÜÊûêÂ∏àÊù•ËØ¥ÔºåÊï∞ÊçÆÂàÜÊûêÁöÑÁªìËÆ∫Ê≠£Á°ÆÁöÑÂâçÊèêÊòØÊï∞ÊçÆÊù•Ê∫êÁöÑÊ≠£Á°ÆÊÄßÔºå‰πüÂ∞±ÊòØÊäÄÊúØ‰∫∫ÂëòÈúÄË¶ÅÁ°Æ‰øùÊï∞ÊçÆÈááÈõÜÁöÑÂáÜÁ°ÆÊÄß„ÄÇ</p>\n<p>Êï∞ÊçÆÈááÈõÜÁöÑÊ≠£Á°ÆÊÄßÊ†°È™åÔºö</p>\n<ol>\n<li>‰∫ã‰ª∂ÊòØÂê¶‰∏äÊä•</li>\n<li>‰∫ã‰ª∂Â±ûÊÄßÊòØÂê¶‰∏äÊä•Ôºå‰∏äÊä•ÁöÑÂ±ûÊÄßÂÄºÊòØÂê¶Ê≠£Á°Æ</li>\n<li>ÂÖ¨ÂÖ±Â±ûÊÄßÊòØÂê¶‰∏äÊä•Ôºå‰∏äÊä•ÁöÑÂÖ¨ÂÖ±Â±ûÊÄßÂÄºÊòØÂê¶ËøáÊ≠£Á°Æ</li>\n<li>Â¶ÇÊûú‰∏ä‰º†‰∫ÜÁî®Êà∑Â±ûÊÄßÔºåÁî®Êà∑Â±ûÊÄßÊòØÂê¶‰∏äÊä•Ê≠£Á°Æ</li>\n<li>‰∫ã‰ª∂Â±ûÊÄßÂíåÁî®Êà∑Â±ûÊÄßÁöÑÂ±ûÊÄßÂÄºÁ±ªÂûãÊòØÂê¶Ê≠£Á°Æ</li>\n</ol>\n<p>Áî®Êà∑ÂÖ≥ËÅîÁöÑÊ≠£Á°ÆÊÄßÊ†°È™åÔºö</p>\n<ol>\n<li>ÊòØÂê¶ÂÅö‰∫ÜÁî®Êà∑ÂÖ≥ËÅî</li>\n<li>ÁôªÂΩï ID ÊòØÂê¶‰∏ä‰º†Ê≠£Á°Æ</li>\n<li>ÊòØÂê¶Ê≠£Á°ÆË∞ÉÁî®Áî®Êà∑ÂÖ≥ËÅîÁöÑÊé•Âè£</li>\n</ol>\n<p>Â¶ÇÊûú‰ΩøÁî®ÊºèÊñóÊ®°ÂûãËøõË°åÂàÜÊûêÊó∂Ôºå‰∏äÊä•ÂüãÁÇπÁöÑÊó∂Êú∫Ë¶ÅÁ°Æ‰øùÁ¨¶ÂêàÈ°∫Â∫èÔºåÂú®Áî®Êà∑Á´Ø‰∏äÊä•Êó∂Èó¥‰∏éÁªüËÆ°Âπ≥Âè∞ÁöÑÂüãÁÇπÂÖ•Â∫ìÊó∂Èó¥‰πüÊòØÈúÄË¶ÅÊ≥®ÊÑèÁöÑÁÇπ„ÄÇ</p>\n<p><code>ÂüãÁÇπÁÆ°ÁêÜ</code> -&gt; <code>ÂÆûÊó∂ÂØºÂÖ•Êï∞ÊçÆÊü•ËØ¢</code> -&gt; <code>Áî®Êà∑ ID</code> Êü•ËØ¢Áî®Êà∑ÂÖ≥ËÅîÁöÑÂáÜÁ°ÆÊÄß</p>\n<hr>\n<p><strong>ÂèÇËÄÉËµÑÊñôÔºö</strong></p>\n<ul>\n<li>‰∫ßÂìÅËÆæËÆ°<ul>\n<li><a href=\"http://www.woshipm.com/pd/3079851.html\" target=\"_blank\" rel=\"noopener\">È´òËΩ¨ÂåñÁéáÁöÑ APP Êé®ÂπøËêΩÂú∞È°µÊòØÊÄéÊ†∑ÁÇºÊàêÁöÑ</a></li>\n<li><a href=\"https://www.jianshu.com/p/21db3a53b9e7\" target=\"_blank\" rel=\"noopener\">ÈÇ£‰∫õÂà∂‰ΩúËêΩÂú∞È°µÁöÑÂ•óË∑Ø</a></li>\n<li><a href=\"https://www.shujike.com/blog/77744\" target=\"_blank\" rel=\"noopener\">Â¶Ç‰ΩïÊèêÂçáËêΩÂú∞È°µËΩ¨ÂåñÁéá</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/33882407\" target=\"_blank\" rel=\"noopener\">‰ªÄ‰πàÊòØËêΩÂú∞È°µ</a></li>\n<li><a href=\"https://www.27sem.com/article/3634.html\" target=\"_blank\" rel=\"noopener\">‰Ω†ÈóÆÊàëÁ≠î 12 ‰∏™ÊµÅÈáèÂíåËΩ¨ÂåñÁõ∏ÂÖ≥ÁöÑÂÆûÊàòÈóÆÈ¢òËß£Á≠î</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/36165204\" target=\"_blank\" rel=\"noopener\">È´òËΩ¨ÂåñÁöÑËêΩÂú∞È°µÈïøÂï•Ê†∑</a></li>\n</ul>\n</li>\n<li>Êï∞ÊçÆÂàÜÊûê<ul>\n<li><a href=\"https://www.yunyingpai.com/user/199.html\" target=\"_blank\" rel=\"noopener\">‰∫ßÂìÅËøêËê•ÁöÑÂü∫Êú¨Âäü ÊºèÊñóÊ®°Âûã</a></li>\n<li><a href=\"https://www.sohu.com/a/345808493_165070\" target=\"_blank\" rel=\"noopener\">Ê°à‰æãÂàÜ‰∫´ Ê∏†ÈÅìËêΩÂú∞È°µÊï∞ÊçÆÂàÜÊûê</a></li>\n<li><a href=\"http://menvscode.com/detail/5bfc20d030be6232a69c5d94\" target=\"_blank\" rel=\"noopener\">ÁΩëÈ°µËΩ¨ÂåñÁéá‰∏éÊºèÊñóÊ®°Âûã</a></li>\n<li><a href=\"https://www.niaogebiji.com/article-26780-1.html\" target=\"_blank\" rel=\"noopener\">‰ºòÁßÄ‰∫ßÂìÅ‰∫∫ÂøÖÊáÇÁöÑÊï∞ÊçÆÈ©±Âä®Â¢ûÈïøÊ®°Âûã</a></li>\n<li><a href=\"https://www.sensorsdata.cn/blog/shi-yong-sensors-analytics-jin-xing-a-b-test/\" target=\"_blank\" rel=\"noopener\">‰ΩøÁî® Sensors Analytics ËøõË°å A/B Test</a></li>\n<li><a href=\"https://juejin.im/post/585b7fc161ff4b0058032b84\" target=\"_blank\" rel=\"noopener\">Ê∑±Â∫¶ A/B ÊµãËØï‰∏≠ÁöÑÂõ†ÊûúÊé®Êñ≠‚Äî‚ÄîÊΩúÂú®ÁªìÊûúÊ®°Âûã</a></li>\n<li><a href=\"https://www.infoq.cn/article/PyOwiqA1zmuIcXqySb7V\" target=\"_blank\" rel=\"noopener\">ÈîÄÂîÆÁ∫øÁ¥¢Â±Ö‰Ωé‰∏ç‰∏äÔºå‰Ω†ÂîØ‰∏ÄË¶ÅÂÅöÁöÑÊòØËêΩÂú∞È°µ A/B ÊµãËØï</a></li>\n</ul>\n</li>\n<li>Êâ©Â±ïÈòÖËØª<ul>\n<li><a href=\"https://www.jianshu.com/p/4f64d739fba2\" target=\"_blank\" rel=\"noopener\">Ê∑òÂÆùÁî®Êà∑Ë°å‰∏∫Êï∞ÊçÆÂàÜÊûêËØ¶Ëß£</a></li>\n<li><a href=\"https://tech.meituan.com/2017/05/05/mt-dsp.html\" target=\"_blank\" rel=\"noopener\">ÁæéÂõ¢ DSP ÂπøÂëäÁ≠ñÁï•ÂÆûË∑µ</a></li>\n<li><a href=\"https://www.jianshu.com/p/ab04b1e3a512\" target=\"_blank\" rel=\"noopener\">Êó•ÂøóÈááÈõÜ‰∏éÁî®Êà∑Ë°å‰∏∫ÈìæË∑ØÂàÜÊûê</a></li>\n</ul>\n</li>\n</ul>"},{"title":"AntDesign ÁªÑ‰ª∂ÂåñÂºÄÂèëÊé¢Á¥¢‰πãË°®Âçï‰∏öÂä°ËÆæËÆ°ÂÆûË∑µÊÄªÁªì","date":"2019-04-05T00:00:00.000Z","_content":"\n## ÈúÄÊ±ÇÂàÜÊûê\n\nÊúÄËøëÊé•Âà∞‰∏ÄÂùóÂÖ≥‰∫é‰øÉÈîÄÊ¥ªÂä®ÂäüËÉΩÁöÑÈúÄÊ±ÇÔºåÈô§‰∫ÜÂ∏∏ËßÑÁöÑÊï∞‰∏™Êó•ÂøóÁ±ªÂûãÂíåÁ≠õÈÄâÁªüËÆ°Á±ªÂûãÂ±ïÁ§∫ÁöÑÂàóË°®‰πãÂ§ñÔºåËøòÈúÄË¶ÅÂÆåÊàêÂÖ≥‰∫é‰øÉÈîÄÊ¥ªÂä®ÁöÑÂàõÂª∫‰∏éÁºñËæëÈ°µÈù¢ÁöÑÁªÑ‰ª∂ÂåñËÆæËÆ°„ÄÇ\n\nÊ¥ªÂä®ÁöÑÂàõÂª∫È°µÈù¢‰∏éÁºñËæëÈ°µÈù¢ÊòØ‰∏Ä‰∏™ÂàÜÊ≠•Ë°®ÂçïÔºåÂàÜÂà´‰∏∫Ê¥ªÂä®ÁöÑÂü∫Êú¨‰ø°ÊÅØ„ÄÅÈ¢ÜÂèñÊù°‰ª∂‰ª•Âèä‰ΩøÁî®Êù°‰ª∂‰∏â‰∏™ÈÉ®ÂàÜ„ÄÇ\n\nÊåâÁÖßÂæÄÂ∏∏ÁöÑÂºÄÂèë‰π†ÊÉØÔºå‰ºöÊääËøôÂçï‰∏™È°µÈù¢ÁöÑÂàÜÊ≠•Ë°®ÂçïÁöÑ‰∏â‰∏™ÈÉ®ÂàÜÈÉΩÂÜôÂú®‰∏Ä‰∏™ÁªÑ‰ª∂ÂÜÖÔºå‰ΩÜÊòØËøôÊ†∑Â§ÑÁêÜÊòéÊòæÊòØ‰∏çÂêàÁêÜÁöÑÔºåÂõ†‰∏∫ÊåâÁÖßËøôÂá†‰∏™ÈÉ®ÂàÜÁöÑË°®ÂçïÈúÄÊ±ÇÊù•ÁúãÔºåËá≥Â∞ë‰πüÈúÄË¶Å‰∏äÂçÉË°åÁöÑ‰ª£Á†ÅÂÆûÁé∞ÔºåÊó†ËÆ∫‰ªé‰ª£Á†ÅÂèØËØªÊÄßÊàñËÄÖÂêéÊúüÁª¥Êä§ÁöÑ‰æøÂà©ÊÄßÊù•ËØ¥ÔºåÈÉΩÊòØ‰∏çÂèØÂèñÁöÑ„ÄÇÊâÄ‰ª•Â¶Ç‰ΩïÂêàÁêÜÂú∞ËÆæËÆ°Êï¥‰∏™Ë°®ÂçïÈ°µÂØπÊï¥‰∏™ÂäüËÉΩÁöÑÂÆûÁé∞‰ª•ÂèäÂêéÊúüÈúÄÊ±ÇËø≠‰ª£ÁöÑ‰æøÊç∑ÊÄßËá≥ÂÖ≥ÈáçË¶Å„ÄÇ\n\nÈÄöËøáÁªÜÂàÜÂèØËÉΩÊ∂âÂèäÂà∞ÁöÑÈÄªËæëÈöæÁÇπÂÅö‰∫Ü‰ª•‰∏ãÂàÜÊûêÔºö\n\n- È°∂Â±ÇÁªÑ‰ª∂‰∏ªË¶ÅË¥üË¥£ÂêÑ‰∏™Ê≠•È™§Ë°®ÂçïÁöÑÊ∏≤ÊüìÂàÜÂèëÂô®Ôºå‰ª•ÂèäÊï¥‰∏™ÂàÜÊ≠•Ë°®ÂçïÊèê‰∫§ÂâçÁõ∏ÂÖ≥Êï∞ÊçÆÂ§ÑÁêÜÔºåÂàÜÂèëÂô®ÈÄöËøáËÆæÂÆöÊ†áËØÜÂèòÈáèÊéßÂà∂Áî®Êà∑ÂèØËßÜÈÉ®ÂàÜË°®ÂçïÊ∏≤ÊüìÔºåÊï∞ÊçÆÂ§ÑÁêÜÂàôÈúÄË¶ÅÊ†πÊçÆÊé•Âè£ÈúÄÊ±ÇÁöÑÊï∞ÊçÆÁªìÊûÑËøõË°åËΩ¨Êç¢\n- ÂèØËßÜË°®ÂçïÂú®ËøõÂÖ•‰∏ã‰∏Ä‰∏™Ê≠•È™§‰πãÂâçÈúÄË¶ÅÂØπÂΩìÂâçÊ≠•È™§Ë°®Âçï‰ø°ÊÅØËøõË°å‰ø°ÊÅØÊ†°È™å\n- Ê†πÊçÆ antd Ë°®ÂçïÁªÑ‰ª∂ÁöÑËÆæËÆ°ÂéüÂàôÂ∞ÅË£ÖÂ§çÂêàË°®ÂçïÈ°πÔºàÂçïÈÄâ+Â§öÈÄâ+Êó∂Èó¥ÈÄâÊã©ËæìÂÖ•Ê°ÜÔºâ\n  - Â§çÂêàË°®ÂçïÁªÑ‰ª∂ÊîØÊåÅÂ§çÁî®ÔºåÂπ∂Êèê‰æõ‰∏ÄÈîÆËá™Âä®Â°´ÂÖÖÂäüËÉΩ\n  - Âä®ÊÄÅÂ¢ûÂáèËæìÂÖ•Ê°ÜÊéß‰ª∂Âπ∂ÊîØÊåÅÊéß‰ª∂Èó¥ÁöÑ‰∏•Ê†ºËßÑÂàôÊ†°È™å\n- ÂÖºÂÆπÊñ∞Âª∫È°µÈù¢ÂíåÁºñËæëÈ°µÈù¢Ôºå‰∏ªË¶ÅÂå∫Âà´Âú®‰∫éÁºñËæëÈ°µÈù¢ÈúÄË¶ÅËé∑ÂèñÂπ∂ËÆæÁΩÆË°®ÂçïÈªòËÆ§ÂÄº\n\n<!-- more -->\n\n## ÂàÜÊ≠•Ë°®ÂçïÂÆûË∑µÂàÜÊûê\n\n### ÂàÜÊ≠•Ë°®ÂçïÁªÑÁªáÁªìÊûÑ\n\nÊï¥‰∏™ÂàÜÊ≠•Ë°®ÂçïÈ°µÈù¢‰ªé UI ‰∏äÂàíÂàÜÂ§ß‰Ωì‰∏äÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜÔºöÊ≠•È™§ËøõÂ∫¶Êù°„ÄÅÂØπÂ∫îÁöÑË°®ÂçïÈ°π‰ª•ÂèäÂàáÊç¢È°µÈù¢ÁöÑÊåâÈíÆÁªÑ„ÄÇ\n\nÊ†πÊçÆ `antd` ÁªÑ‰ª∂Â∫ìÁöÑË°®ÂçïËÆæËÆ°ÂéüÂàôÔºåÂ¶ÇÊûúÈúÄË¶Å Form ÁªÑ‰ª∂Ëá™Â∏¶ÁöÑÊî∂ÈõÜÊ†°È™åÂäüËÉΩÔºåÈúÄË¶Å‰ΩøÁî® `Form.create()` ÂØπËá™ÂÆö‰πâÁöÑÁªÑ‰ª∂ËøõË°åÂåÖË£ÖÔºåËÄå‰∏îÊØè‰∏™ÈúÄË¶ÅÊî∂ÈõÜÁöÑÂÄºËøòÈúÄË¶Å `getFieldDecorator` ËøõË°åÊ≥®ÂÜå„ÄÇ\n\n`Form.create()` Áî®‰∫éÂàõÂª∫‰∏Ä‰∏™ÂÖ∑ÊúâÊ≥®ÂÜå„ÄÅÊî∂ÈõÜ„ÄÅÊ†°È™åÂäüËÉΩÁöÑÂÆû‰æã„ÄÇ\n\n```jsx\nclass Basic extends React.Component {\n  render(){\n    <Form>\n      <Form.Item>\n        {\n          getFieldDecorator('expiration', {\n            initialValue: fields.expiration ? fields.expiration : undefined,\n            validateFirst: true,\n            rules: [\n              { required: true, message: 'ÂøÖÂ°´' }\n            ]\n          })(<SuffixInput unit=\"Â§©\" placeholder=\"ËØ∑ËæìÂÖ•Êï¥Êï∞\" />)\n        }\n      </Form.Item>\n    <Form>\n  }\n}\n\nForm.create()(Basic)\n```\n\nÊï¥‰∏™È°µÈù¢ÁöÑÊï∞ÊçÆÂÇ®Â≠òÊñπÂºèÂÜ≥ÂÆö‰∫ÜÊï¥‰∏™ÂàÜÊ≠•Ë°®ÂçïÁöÑÁªÑÁªáÁªìÊûÑÔºå‰πüÂÜ≥ÂÆö‰∫ÜÁºñÂÜô‰∏öÂä°ÈÄªËæëÊó∂ÂØπÊï∞ÊçÆÊµÅÁöÑÂ§ÑÁêÜÊñπÊ≥ï„ÄÇÂõ†Ê≠§ÊàëÂØπ‰∏§ÁßçÂäüËÉΩÊñπÊ°àËøõË°å‰∫ÜÂØπÊØî„ÄÇ\n\n### Êï∞ÊçÆÂ≠òÂÇ®ÊñπÊ°à\n\n**È°∂Â±ÇÁªÑ‰ª∂**\n\n**ÈöîÂ±Ç‰º†ÈÄÅÔºö** Â¶ÇÊûúÂú®È°∂Â±ÇÁªÑ‰ª∂ÂåÖË£ÖÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÊää Form ÂÜÖÈÉ®ÂàõÂª∫ÁöÑÂÆû‰æã‰ª•Âèä‰∏Ä‰∫õ‰øÆÈ•∞Âô® `getFieldDecorator`„ÄÅÊ†°È™åË°®ÂçïÂÄº `validateFields` Á≠âÊñπÊ≥ïÈÄöËøá Props ÂÜç‰º†ÈÄíÁªôÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂„ÄÇ\n\n**ÂêåÊ≠•Âç∏ËΩΩÔºö** Âú®ÂØπÂΩìÂâçÊ≠•È™§Ë°®ÂçïÂ°´ÂÖÖÂÆåÊàêÂπ∂ÂàáÊç¢Ê≠•È™§ÂêéÂêéÔºå‰∏ä‰∏™Ê≠•È™§ÁöÑÁªÑ‰ª∂‰ºö‰ªéÈ°µÈù¢Âç∏ËΩΩÔºåÊúÄÁªàË°®ÂçïÊèê‰∫§Êó∂ÂÄô‰ºöÊó†Ê≥ïËé∑Âèñ‰πãÂâçÂ∑≤ÁªèÂ°´ÂÖÖÁöÑË°®ÂçïÁöÑÂÄº„ÄÇÂõ†‰∏∫Ëøô‰∫õÊ≠•È™§ÁöÑÁªÑ‰ª∂Âç∏ËΩΩÂêéÂ≠òÂÇ®Ë°®ÂçïÂÄºÁöÑÂÆû‰æã‰πü‰ºöÂêåÊó∂Âç∏ËΩΩ„ÄÇ\n\n**ÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂**\n\n**ÈúÄÂêåÊ≠•Êï∞ÊçÆÔºö** Â¶ÇÊûúÂú®È°∂Â±ÇÁªÑ‰ª∂‰∏ãÁöÑÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂ËøõË°åÂåÖË£ÖÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂú®ÂàáÊç¢‰∏ã‰∏™Ê≠•È™§ÂâçÂØπË°®ÂçïÂÄºËøõË°åÈ™åËØÅÔºåÈ™åËØÅÂ§±Ë¥•‰ºöËøõË°åÊã¶Êà™ÔºåËÄåÈ™åËØÅÊàêÂäüÂàô‰ºöÂ∞ÜÊï∞ÊçÆÊò†Â∞ÑÂà∞È°∂Â±ÇÁªÑ‰ª∂ÁöÑ State ‰∏≠ÔºåËØ•ÂàÜÊ≠•È™§ÁªÑ‰ª∂‰ª•Âèä Form ÂàõÂª∫ÁöÑË°®ÂçïÊï∞ÊçÆÂ≠òÂÇ®ÂÆû‰æãÂùá‰ºö‰∏ÄÂπ∂Âç∏ËΩΩ„ÄÇËã•È°µÈù¢ÂÜçÂàáÊç¢Âà∞ÂÖ∂‰ªñÊ≠•È™§ÁöÑÈ°µÈù¢Êó∂ÔºåÈúÄË¶Å‰ªé Props Ëé∑ÂèñËØ•Ê≠•È™§È°µÈù¢ÁöÑË°®ÂçïÂÄºÔºåÂÜçÈÄöËøá `initialValue` Êò†Â∞ÑÂà∞ Form ÁªÑ‰ª∂ÂÜÖÈÉ®ÁîüÊàêÁöÑÂÆû‰æã‰∏≠„ÄÇ\n\n**ÂäüËÉΩÊòéÁ°ÆÔºö** ËøôÊ†∑ËÆæËÆ°ÁöÑÂ•ΩÂ§ÑÊòØÂ∞ÜÂêÑ‰∏™ÂàÜÊ≠•ÁöÑË°®ÂçïÂàÜ‰∏∫ÂçïÁã¨ÁöÑË°®ÂçïÁúãÂæÖÔºåÂäüËÉΩÂàÜÂ∑•Êõ¥Âä†ÊòéÁ°ÆÔºåÊó†ËÆ∫‰ªéÂäüËÉΩÂÆûÁé∞ËøòÊòØÂêéÊúüÁª¥Êä§‰∏äÂè™ÈúÄË¶ÅÂØπËØ•ÁªÑ‰ª∂ÂÜÖÁöÑ‰∏öÂä°ÈÄªËæëËøõË°å‰øÆÊîπÂç≥ÂèØÔºå‰∏çÁî®ÂÖºÂÆπÈ°∂Â±ÇÁªÑ‰ª∂ÁöÑÈÄªËæë„ÄÇ\n\n**ÂÖºÂÆπÈ°µÈù¢Ôºö** Êõ¥ÈáçË¶ÅÁöÑÊòØÔºåÈ°∂Â±ÇÁªÑ‰ª∂ÂØπÂêÑ‰∏™Ê≠•È™§ÁöÑË°®ÂçïÂüüÂÄºËøõË°åÂàÜÂèëÔºåÂÜçÈÄöËøá `initialValue` ËÆæÁΩÆË°®ÂçïÈªòËÆ§ÂÄºÁöÑÊñπÂºèÂú®ÁºñËæëÈ°µÈù¢ÁöÑÂ∫îÁî®‰∏ä‰ºöÊõ¥Âä†ÂêàÁêÜ„ÄÇÂõ†Ê≠§ÊúÄÁªàÈááÁî®ÂØπÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂ËøõË°åÂ∞ÅË£ÖÁöÑÊñπÊ≥ï„ÄÇ\n\n### ÂêåÊ≠•Êï∞ÊçÆÁöÑÊó∂Êú∫\n\nÂ∞ΩÁÆ°Â∑≤ÁªèÂÜ≥ÂÆöÂú®ÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂‰∏≠ËøõË°å Form ÁªÑ‰ª∂ÂåÖË£ÖÔºå‰ΩÜÊòØÂè¶‰∏ÄÊñπÈù¢ÈúÄË¶ÅËÄÉËôëÂΩìÁî®Êà∑Â°´ÂÖÖÂäüËÉΩË°®ÂçïÊó∂Êï∞ÊçÆÊòØÂú®ÂàáÊç¢È°µÈù¢Êó∂Áªü‰∏ÄÊ†°È™åÂÜçÂ≠òÂÇ®Âú®‰∏äÁ∫ßÁªÑ‰ª∂ÔºåËøòÊòØÂÆûÊó∂Â≠òÂÇ®Âë¢„ÄÇ\n\nÂ¶ÇÊûúÊòØÈááÁî®ÂÆûÊó∂Â≠òÂÇ®ÁöÑÊñπÊ°àÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî® AntDesign Êèê‰æõÁöÑÂÆòÊñπÊ°à‰æã [Ë°®ÂçïÊï∞ÊçÆÂ≠òÂÇ®‰∫é‰∏äÂ±ÇÁªÑ‰ª∂](https://ant.design/components/form-cn/#components-form-demo-global-state) Ôºå‰ΩÜÊòØËøôÊó∂ÂÄô‰ºöÈù¢‰∏¥‰∏Ä‰∏™ÈóÆÈ¢òÊòØÔºåÊØèÊ¨°ÂèòÊõ¥ËæìÂÖ•Ê°ÜÂÜÖÁöÑÂÄºÊó∂ÈÉΩ‰ºöËß¶Âèë‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑ Re-Render ÔºåÂΩìÂàÜÊ≠•ÁªÑ‰ª∂‰∏≠Ë°®ÂçïÈ°πÊØîËæÉÂ§öÁöÑÊó∂ÂÄôÔºåÊàñËÄÖË°®ÂçïÈ°πÂµåÂ•óÁöÑÊòØ‰∏Ä‰∏™Â§çÊùÇÁöÑÈúÄË¶ÅÈ¢ëÁπÅÂèòÊõ¥ÂÄºÁöÑÊéß‰ª∂Â∞±ÂæàÂèØËÉΩÂá∫Áé∞È°µÈù¢Âç°È°øÁ≠âÁöÑÊÄßËÉΩÈóÆÈ¢ò„ÄÇ\n\nÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåÂç≥ÊòØÂÆûÊó∂Êõ¥Êñ∞Ë°®ÂçïÂüüÂÄºÁöÑÊï∞ÊçÆÂêåÊ≠•ÊñπÊ°àÔºö\n\n- ÈÄöËøá Form ÁªÑ‰ª∂ÂÜÖÈÉ®ÁõëÂê¨ÂáΩÊï∞ onFieldsChange Ëé∑ÂèñÂÆûÊó∂ÂèòÂåñÁöÑË°®ÂçïÂÄºÔºåÂπ∂ÈÄöËøá‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑ `handleFormChange` Â≠òÂÇ®Âú® State ‰∏≠\n- ‰∏äÂ±ÇÁªÑ‰ª∂ State ÂèëÁîüÂèòÂåñÔºåË°®ÂçïÂÄºÈÄöËøá Props ‰º†ÈÄíÁªôÂ≠êÁªÑ‰ª∂ÔºåÂú®‰º†ÈÄíÁªôÂ≠êÁªÑ‰ª∂‰πãÂâç‰ºöÁªèËøá‰øÆÈ•∞Â≠êÁªÑ‰ª∂ÁöÑ Form ÁªÑ‰ª∂ÔºåÁªÑ‰ª∂ÂÜÖÈÉ®Êèê‰æõ `mapPropsToFields` ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÁöÑ‰ΩúÁî®ÊòØÊääÁà∂ÁªÑ‰ª∂ÁöÑÂ±ûÊÄßÊò†Â∞ÑÂà∞Ë°®ÂçïÈ°π‰∏äÔºå‰ΩÜÊòØÈúÄË¶ÅÂØπËøîÂõûÂÄº‰∏≠ÁöÑË°®ÂçïÂüüÊï∞ÊçÆÁî® `Form.createFormField` Ê†áËÆ∞\n\n![real-time-synchronization](https://img.mrsingsing.com/ant-form-real-time-synchronization.png)\n\nÂàáÊç¢È°µÈù¢Êó∂ËøõË°åÊï∞ÊçÆÈ™åËØÅÂπ∂ÂêåÊ≠•Âà∞‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑÊï∞ÊçÆÂêåÊ≠•ÊñπÊ°àÔºö\n\n- ÂΩìÁî®Êà∑ÂØπË°®ÂçïËøõË°åÂ°´ÂÖÖÊó∂ÔºåË°®ÂçïÂÄºÁöÑÂèòÂåñ‰ºöÂÆûÊó∂ÂèçÊò†Âà∞ Form ÁªÑ‰ª∂ÂÜÖÈÉ®ÊûÑÂª∫ÁöÑ FieldsStore ÂÆû‰æã‰∏≠ÔºåÈ©±Âä® Child ÁªÑ‰ª∂ Re-Render\n- ÂΩìÁî®Êà∑Â°´ÂÖÖÂÆåÊØïÂπ∂Êèê‰∫§ÂΩìÂâçÊ≠•È™§ÁöÑË°®ÂçïÊó∂ÔºåËß¶Âèë‰∏äÂ±ÇÁªÑ‰ª∂ handleFormChange ËøõË°åÊï∞ÊçÆÂêåÊ≠•\n\nÊï¥‰∏™ÊµÅÁ®ãÁõ∏ÊØîÂÆûÊó∂Â≠òÂÇ®ÁöÑÊñπÊ°à‰ºöÊõ¥Âä†ÁÆÄÊ¥ÅÔºåÂáèÂ∞ëÂõ†Êï∞ÊçÆÂêåÊ≠•ÂØºËá¥‰∏äÂ±ÇÁªÑ‰ª∂ Re-Render„ÄÇ\n\n![verifying-synchronization](https://img.mrsingsing.com/ant-form-verifying-synchronization.png)\n\n### ÂºÇÊ≠•ËØ∑Ê±ÇÂ§ÑÁêÜÊñπÊ°à\n\nË°®ÂçïÁºñËæëÈ°µÂú®Âä†ËΩΩÈ°µÈù¢Êó∂ÔºåÈÄöËøá Model ËøõË°åÂºÇÊ≠•ÂêëÊúçÂä°Âô®ËØ∑Ê±ÇÊï∞ÊçÆÔºåËÄåÂΩìÊúçÂä°Âô®ÂìçÂ∫îËøîÂõûÊµèËßàÂô®ËøôÊÆµÊó∂Èó¥ÔºåÈ°µÈù¢ÁöÑÁªÑ‰ª∂Â∑≤ÁªèÂÆåÊàêÂàùÂßãÂåñÈò∂ÊÆµÂπ∂ÊåÇËΩΩÂà∞ÊµèËßàÂô® DOM Ê†ë‰∏≠„ÄÇ\n\nÂ¶ÇÊûúÊåâÁÖßÊñ∞Âª∫È°µÈù¢Ê†πÊçÆÈ°∂Â±ÇÁªÑ‰ª∂ÁöÑÁä∂ÊÄÅÂêëÂ∫ïÂ±ÇÁªÑ‰ª∂‰º†ÈÄíË°®ÂçïÂüüÂÄºÔºåÂπ∂‰∫éÂêÑ‰∏™Ë°®ÂçïÈ°πÂàùÂßãÂåñÊó∂‰ΩøÁî® `initialValue` ËÆæÁΩÆË°®ÂçïÁöÑÂàùÂßãÂÄºÔºåËØ•ÂÄº‰ºöÁî±‰∫éÁªÑ‰ª∂ÂàùÂßãÂåñ‰∏éÂºÇÊ≠•ËØ∑Ê±ÇÂìçÂ∫î‰πãÈó¥Â≠òÂú®Êó∂Èó¥Â∑ÆËÄåÂ§±ÊïàÔºåÂõ†Ê≠§ÈúÄË¶ÅÊèê‰æõ‰∏ÄÁßçÊñπÊ°àÁ≠âÂæÖÂºÇÊ≠•ËØ∑Ê±ÇÂìçÂ∫îÂêéÂÜçÂØπÂ∫ïÂ±ÇÁªÑ‰ª∂ËøõË°åÂàùÂßãÂåñÊ∏≤Êüì„ÄÇ\n\nÊó¢ÁÑ∂Â∫ïÂ±ÇÁªÑ‰ª∂ÈúÄË¶ÅÂØπË°®ÂçïÂüüÂÄºËøõË°åÂàùÂßãÂåñÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÊâãÂä®ËÆæÁΩÆÈòªÂ°ûÁ≠âÂæÖÊï∞ÊçÆÂìçÂ∫îÂêéÊâçÂØπÂ∫ïÂ±ÇÁªÑ‰ª∂Ê∏≤Êüì„ÄÇ\n\n**ÁÆÄÊòìÁ§∫‰æãÔºö**\n\n```jsx\nstatic getDerviedStateFromProps(nextProps, prevState){\n  if (\n    !isEmptyObject(dataDetail) &&\n    !isEmptyArray(dataList) &&\n    !prevState.isInitial\n  ){\n    // ...Logic Disposal\n\n    return {\n      basic, receipt, usage, isInitial: true\n    }\n  }\n  return null\n}\n```\n\nÈÄöËøáÁîüÂëΩÂë®ÊúüÂáΩÊï∞ `getDerivedStateFromProps` Ê†πÊçÆ Model ‰º†ÂÖ•ÁöÑ Store ÂÜçËΩ¨Â≠òÂà∞È°∂Â±ÇÁªÑ‰ª∂ÁöÑÁä∂ÊÄÅ‰∏≠ÔºåËøôÈáåËÆæÁΩÆ‰∫ÜÁä∂ÊÄÅ `isInitial` Áî®‰∫éÂà§Êñ≠ÊòØÂê¶‰∏∫ÂºÇÊ≠•ËØ∑Ê±ÇÂìçÂ∫îÂêéÁöÑÂàùÊ¨°Ëß¶ÂèëÔºåÁõÆÁöÑÊòØÈÅøÂÖç Props ÂèòÂåñÊàñËÄÖÈ°∂Â±ÇÁªÑ‰ª∂ÁöÑÁà∂ÁªÑ‰ª∂ÈáçÊ∏≤ÊüìÂØºËá¥ËØ•ÁîüÂëΩÂë®ÊúüÂáΩÊï∞Ëß¶Âèë„ÄÇ\n\nÈô§‰∫ÜÂú® `getDerivedStateFromProps` ÂØπ State ËµãÂÄºÁöÑÊìç‰ΩúËøõË°åÊã¶Êà™Â§ñÔºåËøòÈúÄË¶ÅÂú®ÁªÑ‰ª∂Ê∏≤ÊüìÊéßÂà∂Âô®ËÆæÂÆöÂä†ËΩΩÂä®ÊïàÔºå‰ª•Â∫¶ËøáÁ≠âÂæÖÂºÇÊ≠•ËØ∑Ê±ÇÁöÑÊó∂Èó¥ÔºåËÉΩÊúâÊïàÁºìËß£Áî®Êà∑ÁöÑÁÑ¶Ëôë„ÄÇ\n\n```jsx\ngetCurrentStepComponent(current) {\n  const canRendering = [basic, receipt, usage].every(item => !isEmptyObject(item));\n  if (!canRendering) {\n    return (\n      <div className={styles.spin}>\n        <Spin style={{ margin: 32 }}/>\n      </div>\n    );\n  }\n  // Return SubComponent to render\n}\n```\n\n## Â§çÂêàË°®ÂçïÈ°πËÆæËÆ°ÂàÜÊûê\n\n### Âä®ÊÄÅÂ¢ûÂáèÂ§çÂêàÁªÑ‰ª∂\n\nÂú®È¢ÜÂèñÊù°‰ª∂ÁöÑÂàÜÊ≠•Ë°®Âçï‰∏≠ÈúÄË¶ÅËÆæËÆ°‰∏Ä‰∏™Â§çÂêàÁªÑ‰ª∂Áî®‰∫éËÆæÂÆö‰øÉÈîÄ‰ºòÊÉ†Âà∏‰ΩøÁî®ÁöÑÊó∂Èó¥ÊÆµ„ÄÇ\n\n‰∏ªË¶ÅÂåÖÂê´‰ª•‰∏ãÂäüËÉΩ‰ª•ÂèäÁõ∏ÂÖ≥ËßÑÂàôÔºö\n\n- Âü∫Á°ÄÁªÑ‰ª∂ÁªÑÂêà\n  - ÂçïÈ°πÈÄâÊã©ÁªÑ‰ª∂ÔºöÁî®‰∫éÊéßÂà∂ÂÖ∂‰ΩôÂü∫Á°ÄÁªÑ‰ª∂ÈöêËóè‰∏éÊòæÁ§∫\n  - Â§öÈ°πÈÄâÊã©ÁªÑ‰ª∂ÔºöÈÄâÊã©Âë®‰∏ÄËá≥Âë®Êó•ÁöÑÂ§öÈÄâËæìÂÖ•Ê°Ü\n  - Êó∂Èó¥ÈÄâÊã©ÁªÑ‰ª∂ÔºöÊØèÈ°π‰∏∫Êó∂ÂàÜ‰∏∫ÂÖÉÁ¥†ÁöÑÊó∂Èó¥ÊÆµÈÄâÊã©ËæìÂÖ•Ê°Ü\n- Êó∂Èó¥ÈÄâÊã©ÁªÑ‰ª∂ÊîØÊåÅÂä®ÊÄÅÂ¢ûÂáèÔºåËá≥Â∞ëÂ≠òÂú®‰∏Ä‰∏™ÔºåËá≥Â§öÂ≠òÂú®‰∫î‰∏™\n- ÊîØÊåÅË°®ÂçïÊ†°È™åÔºåÊó∂Èó¥ËåÉÂõ¥ÈÄâÊã©ÂøÖÈ°ªÂêàÊ≥ïÔºå‰∏îÂ§ö‰∏™Êó∂Èó¥ËåÉÂõ¥Èó¥‰∏çËÉΩÂ≠òÂú®ÈáçÂè†ÊÉÖÂÜµ\n\nÊ†πÊçÆ AntDesign ÁöÑÊñáÊ°£Êèê‰æõÁöÑÁõ∏ÂÖ≥ÂÆûÁé∞ÊñπÊ≥ïÔºåËøôÈáåÊúâ‰∏§ÁßçÂÆûÁé∞ÊñπÊ°àÔºö\n\n- ‰∏ÄÁßçÊòØËá™ÂÆö‰πâË°®ÂçïÊéß‰ª∂ÔºåÂ∞ÜÂ§öÁßçÁ±ªÂûãÁöÑÂü∫Á°ÄÁªÑ‰ª∂Á≥ÖÂêàÂú®‰∏ÄËµ∑ÔºåÂ§ö‰∏™Â≠óÊÆµÁªºÂêà‰∏∫‰∏Ä‰∏™ÂØπË±°ÔºåÂ≠òÂÇ®Âú®‰∏Ä‰∏™‰∏äÂ±ÇÂ≠óÊÆµ‰∏≠Ôºà‰∏äÂ±ÇÂ≠óÊÆµ‰∏éÂÖ∂‰ªñË°®ÂçïÈ°πÂπ≥Á∫ßÔºâ\n\n```jsx\nconst data = {\n  name: 'Foo',\n  interval: {\n    type: 'ALL',\n    week: ['1', '2', '3']\n    interval: [\n      { startTime: '08:00', endTime: '10:00'},\n      { startTime: '12:00', endTime: '14: 00'}\n    ]\n  }\n}\n```\n\n- ‰∏ÄÁßçÊòØÊ†πÊçÆÂä®ÊÄÅÂ¢ûÂáèË°®ÂçïÈ°πÔºåÂ∞ÜÂ§ö‰∏™Á±ªÂûãÁöÑÂü∫Á°ÄÁªÑ‰ª∂ÁîüÊàêÂ§ö‰∏™Â≠óÊÆµÔºå‰∏éÂÖ∂‰ªñË°®ÂçïÈ°πÂπ≥Á∫ß„ÄÇ[ÂÆòÊñπÁ§∫‰æãÂÆûÁé∞](https://ant.design/components/form-cn/#components-form-demo-dynamic-form-item)\n\n‰ªéÈúÄÊ±ÇÂá∫ÂèëÔºåÊó†ËÆ∫Âá∫ÂéüÂûãËÆæËÆ°‰∏äËøòÊòØÂâçÁ´ØÁªÑ‰ª∂ËÆæËÆ°‰∏äÔºåÈÉΩÂ∫îËØ•‰øùÊåÅÂäüËÉΩ‰∏ÄËá¥Ôºå‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™ÁªÑ‰ª∂Â∫îËØ•Â∞ÅË£ÖÊàêÂçïÁã¨ÁöÑÁªÑ‰ª∂ÔºåÁªÑ‰ª∂ÂÜÖÈÉ®ÊúâÊéßÂà∂ÂºÄÂÖ≥ÔºåÊ†πÊçÆÂçïÈ°πÈÄâÊã©Â±ïÁ§∫‰∏çÂêåÁöÑÊ¨°Á∫ßË°®ÂçïÈ°πÔºåËÄå‰∏îÂä®ÊÄÅÂ¢ûÂáèÁöÑÂè™ÊòØÊó∂Èó¥ÊÆµËæìÂÖ•Ê°ÜÔºåËÄå‰∏éÂçïÈ°πÈÄâÊã©ÂíåÊó•ÊúüÈÄâÊã©Êó†ÂÖ≥ÔºåÂõ†Ê≠§Â∞ÜÂ§ö‰∏™Âü∫Á°ÄÁªÑ‰ª∂Â∞ÅË£ÖËµ∑Êù•Âπ∂ÈÄöËøá Ant Design Êèê‰æõÁöÑËá™ÂÆö‰πâË°®ÂçïÊéß‰ª∂ÁöÑÁªÑÂêàÊ®°ÂºèËÉΩÂ§üÊõ¥ÂêàÁêÜÂú∞ÂÆûÁé∞Ê≠§ÂäüËÉΩ„ÄÇ\n\n![time-interval-exhibition](https://img.mrsingsing.com/ant-form-time-interval-exhibition.gif)\n\n## Form ÁªÑ‰ª∂‰ΩøÁî®ÊÄªÁªì\n\n- ‰ΩøÁî® Radio / Checked Ëøô‰∫õÈÄâÊã©ÁªÑ‰ª∂ÊòØ‰∏çÊé®Ëçê‰ΩøÁî® feedback #issue\n- input Âú®Êåâ Tab ÂàáÊç¢ÊñáÊú¨ËæìÂÖ•Ê°ÜÊó∂‰∏çËé∑ÂèñÁÑ¶ÁÇπÁöÑÊñπÊ≥ïÔºöÂ∞Ü input ÁöÑ tabindex ËÆæÁΩÆ‰∏∫ -1\n- input ‰∏çË¢´ÈÄâ‰∏≠ÁöÑÊñπÊ≥ïÔºöËÆæÁΩÆ readonly Âè™ËØªÂ±ûÊÄß\n- input ÂèñÊ∂àÊµèËßàÂô®Êèê‰æõÁöÑËá™Âä®Â°´ÂÖÖ `autoComplete=off`\n- Áî± getFieldDecorator ÂåÖË£πÁöÑË°®ÂçïÁªÑ‰ª∂ÈªòËÆ§ÂÄº‰∏∫ `undefined` ËÄåÈùû `null` ÊàñËÄÖ `''`\n\nÊØîÂ¶ÇËÆæÁΩÆÈªòËÆ§ÂÄºÂèØ‰ª•ËøôÊ†∑ËÆæÁΩÆ\n\n```jsx\ngetFieldDecorator('name', {\n  initialValue: fields.name ? fields.name : undefined,\n  rules: [],\n})(<Input />);\n```\n\n- Â§ö‰∏™Ê†°È™åËßÑÂàôÂú®Ê†°È™åÊó∂ÂèçÈ¶àÂè™ÂçïÁã¨ÊòæÁ§∫‰∏ÄÊù°ËßÑÂàôÔºåÂΩìËØ•ËßÑÂàôÈÄöËøáÊó∂ÂÜçÊ†°È™å‰∏ãÊù°ËßÑÂàôÔºåÂèØ‰ª•ËÆæÁΩÆ `validateFirst: true`\n- Â¶ÇÊûúËß¶Âèë‰∫ã‰ª∂ÈúÄË¶ÅÂú®‰∏äÂ±ÇÂ§ÑÁêÜÔºåËÄåÊï∞ÊçÆÂú®ÂΩìÂâçÁªÑ‰ª∂Â≠òÂÇ®ÔºåÈÇ£‰πàÂèØ‰ª•Âú®ÂΩìÂâçÁªÑ‰ª∂ÂÅö‰∏ÄÂ±ÇÊã¶Êà™ÔºåÂú®ÂΩìÂâçÁªÑ‰ª∂‰∫ã‰ª∂Ëß¶Âèë `props` ‰º†ÂÖ•ÁöÑ‰∫ã‰ª∂„ÄÇ\n- Êï∞ÁªÑÊìç‰ΩúÂ∞ëÁî® `push` Áõ¥Êé•Âú®ÂéüÊï∞ÁªÑ‰∏≠Êìç‰ΩúÁöÑÊñπÊ≥ïÔºåÂ§ö‰ΩøÁî® `concat` „ÄÅ `filter` Á≠âËøîÂõûÊñ∞Êï∞ÁªÑÁöÑÊñπÊ≥ïÔºàImmutable ÁöÑÊ¶ÇÂøµÔºâ\n\n## ÊÄªÁªìÊÄùËÄÉ\n\n- Â∫îËØ•ÂáèÂ∞ëÈúÄÊ±ÇÂäüËÉΩÂÆûÁé∞ÁöÑËÄóÊó∂ÔºåÊõ¥Â∫îËØ•ÂÖ≥Ê≥®Áî®Êà∑ÁöÑ‰ΩìÈ™å„ÄÅÁªÑ‰ª∂ËÆæËÆ°ÁöÑÂêàÁêÜÊÄßÂíåÂèØÊâ©Â±ïÊÄß„ÄÅÂäüËÉΩÁöÑÂèØÁî®ÊÄß„ÄÅÂäüËÉΩÁöÑ‰ºòÂåñ‰ª•ÂèäÊµãËØïÁöÑË¶ÜÁõñÊÄß\n- Âõ†‰∏∫ËØ•È°πÁõÆÁöÑ‰∏ªË¶ÅÈúÄÊ±ÇÈÉΩÊòØÂü∫‰∫é antd Âü∫Á°ÄÁªÑ‰ª∂Â∫ìËøõË°å‰∏öÂä°ÁªÑ‰ª∂ÁöÑÂ∞ÅË£ÖÔºåÂõ†Ê≠§ÈÄÇÂΩìÂú∞Á†îÁ©∂ antd Â∫ïÂ±ÇÊ∫ê‰ª£Á†ÅÂèØ‰ª•Êõ¥Â•ΩÂú∞ÁêÜËß£ÁªÑ‰ª∂ËøêË°åÂéüÁêÜÔºåËÄå‰∏îËÉΩÂ≠¶‰π†Âà∞ÂæàÂ§ö React ÁªÑ‰ª∂‰ºòÁßÄÁöÑËÆæËÆ°Ê®°ÂºèÂíå‰ª£Á†Å‰π¶ÂÜôÊñπÂºè\n- Á±ª‰ººÁöÑ‰∏öÂä°Ê®°ÂùóÂäüËÉΩÂèØËÉΩ‰ºöÁªèÂéÜÂ§öÊ¨°Ëø≠‰ª£ÔºåÂäüËÉΩÂèØÂ¢ûÂèØÂáèÔºåÂõ†Ê≠§ÂºÄÂèëÈúÄÊ±ÇÂâçÂØπÂäüËÉΩ‰∏öÂä°ÈúÄË¶ÅÊúâÈÄÇÂΩìÂú∞ÁêÜËß£ÔºåËøôÊúâÂä©‰∫éÂâçÁ´ØÂºÄÂèëÂØπÁªÑ‰ª∂Ê®°ÂùóÁöÑËÆæËÆ°ÔºåËÄåËÆæËÆ°ÁöÑÂêàÁêÜÊÄß‰∏ç‰ªÖÂú®Âá∫Áé∞ÈóÆÈ¢òÊó∂Âø´ÈÄüÂÆö‰ΩçÈîôËØØÔºåËÄå‰∏îËÉΩÊúâÊïàÂú∞ÂáèÂ∞ëÂêéÊúüÁª¥Êä§ÁöÑÊàêÊú¨\n\n## ÂèÇËÄÉËµÑÊñô\n\n### Áõ∏ÂÖ≥ÂºÄÊ∫êÈ°πÁõÆ\n\n- [antd: ^3.12.0](https://github.com/ant-design/ant-design)\n  - [FormComponent](https://github.com/ant-design/ant-design/blob/master/components/form/index.en-US.md)\n  - [rc-form](https://github.com/react-component/form)\n  - [async-validator](https://github.com/yiminghe/async-validator)\n- [moment: ^2.22.1](https://github.com/moment/moment)\n\n### ÂàÜÊûê\n\n- [Ë°®ÂçïÂÆûÁé∞ÂéüÁêÜ](https://github.com/ant-design/ant-design/blob/master/components/form/docs/tutorial.md)\n- [10 ÂàÜÈíüÁ≤æÈÄö Ant Design Form Ë°®Âçï](https://juejin.im/post/5c47ffff51882533e05ef4f9)\n- [antd Ë°®ÂçïÊÄßËÉΩÁöÑÊîπËøõÂÆûË∑µ](https://zhuanlan.zhihu.com/p/27740483?utm_medium=hao.caibaojian.com&utm_source=hao.caibaojian.com)\n- [Redux-sage API](https://redux-saga-in-chinese.js.org/docs/api/)\n","source":"_posts/form-business-design-pratice-in-antd.md","raw":"---\ntitle: AntDesign ÁªÑ‰ª∂ÂåñÂºÄÂèëÊé¢Á¥¢‰πãË°®Âçï‰∏öÂä°ËÆæËÆ°ÂÆûË∑µÊÄªÁªì\ndate: '2019-04-05'\n---\n\n## ÈúÄÊ±ÇÂàÜÊûê\n\nÊúÄËøëÊé•Âà∞‰∏ÄÂùóÂÖ≥‰∫é‰øÉÈîÄÊ¥ªÂä®ÂäüËÉΩÁöÑÈúÄÊ±ÇÔºåÈô§‰∫ÜÂ∏∏ËßÑÁöÑÊï∞‰∏™Êó•ÂøóÁ±ªÂûãÂíåÁ≠õÈÄâÁªüËÆ°Á±ªÂûãÂ±ïÁ§∫ÁöÑÂàóË°®‰πãÂ§ñÔºåËøòÈúÄË¶ÅÂÆåÊàêÂÖ≥‰∫é‰øÉÈîÄÊ¥ªÂä®ÁöÑÂàõÂª∫‰∏éÁºñËæëÈ°µÈù¢ÁöÑÁªÑ‰ª∂ÂåñËÆæËÆ°„ÄÇ\n\nÊ¥ªÂä®ÁöÑÂàõÂª∫È°µÈù¢‰∏éÁºñËæëÈ°µÈù¢ÊòØ‰∏Ä‰∏™ÂàÜÊ≠•Ë°®ÂçïÔºåÂàÜÂà´‰∏∫Ê¥ªÂä®ÁöÑÂü∫Êú¨‰ø°ÊÅØ„ÄÅÈ¢ÜÂèñÊù°‰ª∂‰ª•Âèä‰ΩøÁî®Êù°‰ª∂‰∏â‰∏™ÈÉ®ÂàÜ„ÄÇ\n\nÊåâÁÖßÂæÄÂ∏∏ÁöÑÂºÄÂèë‰π†ÊÉØÔºå‰ºöÊääËøôÂçï‰∏™È°µÈù¢ÁöÑÂàÜÊ≠•Ë°®ÂçïÁöÑ‰∏â‰∏™ÈÉ®ÂàÜÈÉΩÂÜôÂú®‰∏Ä‰∏™ÁªÑ‰ª∂ÂÜÖÔºå‰ΩÜÊòØËøôÊ†∑Â§ÑÁêÜÊòéÊòæÊòØ‰∏çÂêàÁêÜÁöÑÔºåÂõ†‰∏∫ÊåâÁÖßËøôÂá†‰∏™ÈÉ®ÂàÜÁöÑË°®ÂçïÈúÄÊ±ÇÊù•ÁúãÔºåËá≥Â∞ë‰πüÈúÄË¶Å‰∏äÂçÉË°åÁöÑ‰ª£Á†ÅÂÆûÁé∞ÔºåÊó†ËÆ∫‰ªé‰ª£Á†ÅÂèØËØªÊÄßÊàñËÄÖÂêéÊúüÁª¥Êä§ÁöÑ‰æøÂà©ÊÄßÊù•ËØ¥ÔºåÈÉΩÊòØ‰∏çÂèØÂèñÁöÑ„ÄÇÊâÄ‰ª•Â¶Ç‰ΩïÂêàÁêÜÂú∞ËÆæËÆ°Êï¥‰∏™Ë°®ÂçïÈ°µÂØπÊï¥‰∏™ÂäüËÉΩÁöÑÂÆûÁé∞‰ª•ÂèäÂêéÊúüÈúÄÊ±ÇËø≠‰ª£ÁöÑ‰æøÊç∑ÊÄßËá≥ÂÖ≥ÈáçË¶Å„ÄÇ\n\nÈÄöËøáÁªÜÂàÜÂèØËÉΩÊ∂âÂèäÂà∞ÁöÑÈÄªËæëÈöæÁÇπÂÅö‰∫Ü‰ª•‰∏ãÂàÜÊûêÔºö\n\n- È°∂Â±ÇÁªÑ‰ª∂‰∏ªË¶ÅË¥üË¥£ÂêÑ‰∏™Ê≠•È™§Ë°®ÂçïÁöÑÊ∏≤ÊüìÂàÜÂèëÂô®Ôºå‰ª•ÂèäÊï¥‰∏™ÂàÜÊ≠•Ë°®ÂçïÊèê‰∫§ÂâçÁõ∏ÂÖ≥Êï∞ÊçÆÂ§ÑÁêÜÔºåÂàÜÂèëÂô®ÈÄöËøáËÆæÂÆöÊ†áËØÜÂèòÈáèÊéßÂà∂Áî®Êà∑ÂèØËßÜÈÉ®ÂàÜË°®ÂçïÊ∏≤ÊüìÔºåÊï∞ÊçÆÂ§ÑÁêÜÂàôÈúÄË¶ÅÊ†πÊçÆÊé•Âè£ÈúÄÊ±ÇÁöÑÊï∞ÊçÆÁªìÊûÑËøõË°åËΩ¨Êç¢\n- ÂèØËßÜË°®ÂçïÂú®ËøõÂÖ•‰∏ã‰∏Ä‰∏™Ê≠•È™§‰πãÂâçÈúÄË¶ÅÂØπÂΩìÂâçÊ≠•È™§Ë°®Âçï‰ø°ÊÅØËøõË°å‰ø°ÊÅØÊ†°È™å\n- Ê†πÊçÆ antd Ë°®ÂçïÁªÑ‰ª∂ÁöÑËÆæËÆ°ÂéüÂàôÂ∞ÅË£ÖÂ§çÂêàË°®ÂçïÈ°πÔºàÂçïÈÄâ+Â§öÈÄâ+Êó∂Èó¥ÈÄâÊã©ËæìÂÖ•Ê°ÜÔºâ\n  - Â§çÂêàË°®ÂçïÁªÑ‰ª∂ÊîØÊåÅÂ§çÁî®ÔºåÂπ∂Êèê‰æõ‰∏ÄÈîÆËá™Âä®Â°´ÂÖÖÂäüËÉΩ\n  - Âä®ÊÄÅÂ¢ûÂáèËæìÂÖ•Ê°ÜÊéß‰ª∂Âπ∂ÊîØÊåÅÊéß‰ª∂Èó¥ÁöÑ‰∏•Ê†ºËßÑÂàôÊ†°È™å\n- ÂÖºÂÆπÊñ∞Âª∫È°µÈù¢ÂíåÁºñËæëÈ°µÈù¢Ôºå‰∏ªË¶ÅÂå∫Âà´Âú®‰∫éÁºñËæëÈ°µÈù¢ÈúÄË¶ÅËé∑ÂèñÂπ∂ËÆæÁΩÆË°®ÂçïÈªòËÆ§ÂÄº\n\n<!-- more -->\n\n## ÂàÜÊ≠•Ë°®ÂçïÂÆûË∑µÂàÜÊûê\n\n### ÂàÜÊ≠•Ë°®ÂçïÁªÑÁªáÁªìÊûÑ\n\nÊï¥‰∏™ÂàÜÊ≠•Ë°®ÂçïÈ°µÈù¢‰ªé UI ‰∏äÂàíÂàÜÂ§ß‰Ωì‰∏äÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜÔºöÊ≠•È™§ËøõÂ∫¶Êù°„ÄÅÂØπÂ∫îÁöÑË°®ÂçïÈ°π‰ª•ÂèäÂàáÊç¢È°µÈù¢ÁöÑÊåâÈíÆÁªÑ„ÄÇ\n\nÊ†πÊçÆ `antd` ÁªÑ‰ª∂Â∫ìÁöÑË°®ÂçïËÆæËÆ°ÂéüÂàôÔºåÂ¶ÇÊûúÈúÄË¶Å Form ÁªÑ‰ª∂Ëá™Â∏¶ÁöÑÊî∂ÈõÜÊ†°È™åÂäüËÉΩÔºåÈúÄË¶Å‰ΩøÁî® `Form.create()` ÂØπËá™ÂÆö‰πâÁöÑÁªÑ‰ª∂ËøõË°åÂåÖË£ÖÔºåËÄå‰∏îÊØè‰∏™ÈúÄË¶ÅÊî∂ÈõÜÁöÑÂÄºËøòÈúÄË¶Å `getFieldDecorator` ËøõË°åÊ≥®ÂÜå„ÄÇ\n\n`Form.create()` Áî®‰∫éÂàõÂª∫‰∏Ä‰∏™ÂÖ∑ÊúâÊ≥®ÂÜå„ÄÅÊî∂ÈõÜ„ÄÅÊ†°È™åÂäüËÉΩÁöÑÂÆû‰æã„ÄÇ\n\n```jsx\nclass Basic extends React.Component {\n  render(){\n    <Form>\n      <Form.Item>\n        {\n          getFieldDecorator('expiration', {\n            initialValue: fields.expiration ? fields.expiration : undefined,\n            validateFirst: true,\n            rules: [\n              { required: true, message: 'ÂøÖÂ°´' }\n            ]\n          })(<SuffixInput unit=\"Â§©\" placeholder=\"ËØ∑ËæìÂÖ•Êï¥Êï∞\" />)\n        }\n      </Form.Item>\n    <Form>\n  }\n}\n\nForm.create()(Basic)\n```\n\nÊï¥‰∏™È°µÈù¢ÁöÑÊï∞ÊçÆÂÇ®Â≠òÊñπÂºèÂÜ≥ÂÆö‰∫ÜÊï¥‰∏™ÂàÜÊ≠•Ë°®ÂçïÁöÑÁªÑÁªáÁªìÊûÑÔºå‰πüÂÜ≥ÂÆö‰∫ÜÁºñÂÜô‰∏öÂä°ÈÄªËæëÊó∂ÂØπÊï∞ÊçÆÊµÅÁöÑÂ§ÑÁêÜÊñπÊ≥ï„ÄÇÂõ†Ê≠§ÊàëÂØπ‰∏§ÁßçÂäüËÉΩÊñπÊ°àËøõË°å‰∫ÜÂØπÊØî„ÄÇ\n\n### Êï∞ÊçÆÂ≠òÂÇ®ÊñπÊ°à\n\n**È°∂Â±ÇÁªÑ‰ª∂**\n\n**ÈöîÂ±Ç‰º†ÈÄÅÔºö** Â¶ÇÊûúÂú®È°∂Â±ÇÁªÑ‰ª∂ÂåÖË£ÖÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÊää Form ÂÜÖÈÉ®ÂàõÂª∫ÁöÑÂÆû‰æã‰ª•Âèä‰∏Ä‰∫õ‰øÆÈ•∞Âô® `getFieldDecorator`„ÄÅÊ†°È™åË°®ÂçïÂÄº `validateFields` Á≠âÊñπÊ≥ïÈÄöËøá Props ÂÜç‰º†ÈÄíÁªôÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂„ÄÇ\n\n**ÂêåÊ≠•Âç∏ËΩΩÔºö** Âú®ÂØπÂΩìÂâçÊ≠•È™§Ë°®ÂçïÂ°´ÂÖÖÂÆåÊàêÂπ∂ÂàáÊç¢Ê≠•È™§ÂêéÂêéÔºå‰∏ä‰∏™Ê≠•È™§ÁöÑÁªÑ‰ª∂‰ºö‰ªéÈ°µÈù¢Âç∏ËΩΩÔºåÊúÄÁªàË°®ÂçïÊèê‰∫§Êó∂ÂÄô‰ºöÊó†Ê≥ïËé∑Âèñ‰πãÂâçÂ∑≤ÁªèÂ°´ÂÖÖÁöÑË°®ÂçïÁöÑÂÄº„ÄÇÂõ†‰∏∫Ëøô‰∫õÊ≠•È™§ÁöÑÁªÑ‰ª∂Âç∏ËΩΩÂêéÂ≠òÂÇ®Ë°®ÂçïÂÄºÁöÑÂÆû‰æã‰πü‰ºöÂêåÊó∂Âç∏ËΩΩ„ÄÇ\n\n**ÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂**\n\n**ÈúÄÂêåÊ≠•Êï∞ÊçÆÔºö** Â¶ÇÊûúÂú®È°∂Â±ÇÁªÑ‰ª∂‰∏ãÁöÑÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂ËøõË°åÂåÖË£ÖÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂú®ÂàáÊç¢‰∏ã‰∏™Ê≠•È™§ÂâçÂØπË°®ÂçïÂÄºËøõË°åÈ™åËØÅÔºåÈ™åËØÅÂ§±Ë¥•‰ºöËøõË°åÊã¶Êà™ÔºåËÄåÈ™åËØÅÊàêÂäüÂàô‰ºöÂ∞ÜÊï∞ÊçÆÊò†Â∞ÑÂà∞È°∂Â±ÇÁªÑ‰ª∂ÁöÑ State ‰∏≠ÔºåËØ•ÂàÜÊ≠•È™§ÁªÑ‰ª∂‰ª•Âèä Form ÂàõÂª∫ÁöÑË°®ÂçïÊï∞ÊçÆÂ≠òÂÇ®ÂÆû‰æãÂùá‰ºö‰∏ÄÂπ∂Âç∏ËΩΩ„ÄÇËã•È°µÈù¢ÂÜçÂàáÊç¢Âà∞ÂÖ∂‰ªñÊ≠•È™§ÁöÑÈ°µÈù¢Êó∂ÔºåÈúÄË¶Å‰ªé Props Ëé∑ÂèñËØ•Ê≠•È™§È°µÈù¢ÁöÑË°®ÂçïÂÄºÔºåÂÜçÈÄöËøá `initialValue` Êò†Â∞ÑÂà∞ Form ÁªÑ‰ª∂ÂÜÖÈÉ®ÁîüÊàêÁöÑÂÆû‰æã‰∏≠„ÄÇ\n\n**ÂäüËÉΩÊòéÁ°ÆÔºö** ËøôÊ†∑ËÆæËÆ°ÁöÑÂ•ΩÂ§ÑÊòØÂ∞ÜÂêÑ‰∏™ÂàÜÊ≠•ÁöÑË°®ÂçïÂàÜ‰∏∫ÂçïÁã¨ÁöÑË°®ÂçïÁúãÂæÖÔºåÂäüËÉΩÂàÜÂ∑•Êõ¥Âä†ÊòéÁ°ÆÔºåÊó†ËÆ∫‰ªéÂäüËÉΩÂÆûÁé∞ËøòÊòØÂêéÊúüÁª¥Êä§‰∏äÂè™ÈúÄË¶ÅÂØπËØ•ÁªÑ‰ª∂ÂÜÖÁöÑ‰∏öÂä°ÈÄªËæëËøõË°å‰øÆÊîπÂç≥ÂèØÔºå‰∏çÁî®ÂÖºÂÆπÈ°∂Â±ÇÁªÑ‰ª∂ÁöÑÈÄªËæë„ÄÇ\n\n**ÂÖºÂÆπÈ°µÈù¢Ôºö** Êõ¥ÈáçË¶ÅÁöÑÊòØÔºåÈ°∂Â±ÇÁªÑ‰ª∂ÂØπÂêÑ‰∏™Ê≠•È™§ÁöÑË°®ÂçïÂüüÂÄºËøõË°åÂàÜÂèëÔºåÂÜçÈÄöËøá `initialValue` ËÆæÁΩÆË°®ÂçïÈªòËÆ§ÂÄºÁöÑÊñπÂºèÂú®ÁºñËæëÈ°µÈù¢ÁöÑÂ∫îÁî®‰∏ä‰ºöÊõ¥Âä†ÂêàÁêÜ„ÄÇÂõ†Ê≠§ÊúÄÁªàÈááÁî®ÂØπÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂ËøõË°åÂ∞ÅË£ÖÁöÑÊñπÊ≥ï„ÄÇ\n\n### ÂêåÊ≠•Êï∞ÊçÆÁöÑÊó∂Êú∫\n\nÂ∞ΩÁÆ°Â∑≤ÁªèÂÜ≥ÂÆöÂú®ÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂‰∏≠ËøõË°å Form ÁªÑ‰ª∂ÂåÖË£ÖÔºå‰ΩÜÊòØÂè¶‰∏ÄÊñπÈù¢ÈúÄË¶ÅËÄÉËôëÂΩìÁî®Êà∑Â°´ÂÖÖÂäüËÉΩË°®ÂçïÊó∂Êï∞ÊçÆÊòØÂú®ÂàáÊç¢È°µÈù¢Êó∂Áªü‰∏ÄÊ†°È™åÂÜçÂ≠òÂÇ®Âú®‰∏äÁ∫ßÁªÑ‰ª∂ÔºåËøòÊòØÂÆûÊó∂Â≠òÂÇ®Âë¢„ÄÇ\n\nÂ¶ÇÊûúÊòØÈááÁî®ÂÆûÊó∂Â≠òÂÇ®ÁöÑÊñπÊ°àÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî® AntDesign Êèê‰æõÁöÑÂÆòÊñπÊ°à‰æã [Ë°®ÂçïÊï∞ÊçÆÂ≠òÂÇ®‰∫é‰∏äÂ±ÇÁªÑ‰ª∂](https://ant.design/components/form-cn/#components-form-demo-global-state) Ôºå‰ΩÜÊòØËøôÊó∂ÂÄô‰ºöÈù¢‰∏¥‰∏Ä‰∏™ÈóÆÈ¢òÊòØÔºåÊØèÊ¨°ÂèòÊõ¥ËæìÂÖ•Ê°ÜÂÜÖÁöÑÂÄºÊó∂ÈÉΩ‰ºöËß¶Âèë‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑ Re-Render ÔºåÂΩìÂàÜÊ≠•ÁªÑ‰ª∂‰∏≠Ë°®ÂçïÈ°πÊØîËæÉÂ§öÁöÑÊó∂ÂÄôÔºåÊàñËÄÖË°®ÂçïÈ°πÂµåÂ•óÁöÑÊòØ‰∏Ä‰∏™Â§çÊùÇÁöÑÈúÄË¶ÅÈ¢ëÁπÅÂèòÊõ¥ÂÄºÁöÑÊéß‰ª∂Â∞±ÂæàÂèØËÉΩÂá∫Áé∞È°µÈù¢Âç°È°øÁ≠âÁöÑÊÄßËÉΩÈóÆÈ¢ò„ÄÇ\n\nÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåÂç≥ÊòØÂÆûÊó∂Êõ¥Êñ∞Ë°®ÂçïÂüüÂÄºÁöÑÊï∞ÊçÆÂêåÊ≠•ÊñπÊ°àÔºö\n\n- ÈÄöËøá Form ÁªÑ‰ª∂ÂÜÖÈÉ®ÁõëÂê¨ÂáΩÊï∞ onFieldsChange Ëé∑ÂèñÂÆûÊó∂ÂèòÂåñÁöÑË°®ÂçïÂÄºÔºåÂπ∂ÈÄöËøá‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑ `handleFormChange` Â≠òÂÇ®Âú® State ‰∏≠\n- ‰∏äÂ±ÇÁªÑ‰ª∂ State ÂèëÁîüÂèòÂåñÔºåË°®ÂçïÂÄºÈÄöËøá Props ‰º†ÈÄíÁªôÂ≠êÁªÑ‰ª∂ÔºåÂú®‰º†ÈÄíÁªôÂ≠êÁªÑ‰ª∂‰πãÂâç‰ºöÁªèËøá‰øÆÈ•∞Â≠êÁªÑ‰ª∂ÁöÑ Form ÁªÑ‰ª∂ÔºåÁªÑ‰ª∂ÂÜÖÈÉ®Êèê‰æõ `mapPropsToFields` ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÁöÑ‰ΩúÁî®ÊòØÊääÁà∂ÁªÑ‰ª∂ÁöÑÂ±ûÊÄßÊò†Â∞ÑÂà∞Ë°®ÂçïÈ°π‰∏äÔºå‰ΩÜÊòØÈúÄË¶ÅÂØπËøîÂõûÂÄº‰∏≠ÁöÑË°®ÂçïÂüüÊï∞ÊçÆÁî® `Form.createFormField` Ê†áËÆ∞\n\n![real-time-synchronization](https://img.mrsingsing.com/ant-form-real-time-synchronization.png)\n\nÂàáÊç¢È°µÈù¢Êó∂ËøõË°åÊï∞ÊçÆÈ™åËØÅÂπ∂ÂêåÊ≠•Âà∞‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑÊï∞ÊçÆÂêåÊ≠•ÊñπÊ°àÔºö\n\n- ÂΩìÁî®Êà∑ÂØπË°®ÂçïËøõË°åÂ°´ÂÖÖÊó∂ÔºåË°®ÂçïÂÄºÁöÑÂèòÂåñ‰ºöÂÆûÊó∂ÂèçÊò†Âà∞ Form ÁªÑ‰ª∂ÂÜÖÈÉ®ÊûÑÂª∫ÁöÑ FieldsStore ÂÆû‰æã‰∏≠ÔºåÈ©±Âä® Child ÁªÑ‰ª∂ Re-Render\n- ÂΩìÁî®Êà∑Â°´ÂÖÖÂÆåÊØïÂπ∂Êèê‰∫§ÂΩìÂâçÊ≠•È™§ÁöÑË°®ÂçïÊó∂ÔºåËß¶Âèë‰∏äÂ±ÇÁªÑ‰ª∂ handleFormChange ËøõË°åÊï∞ÊçÆÂêåÊ≠•\n\nÊï¥‰∏™ÊµÅÁ®ãÁõ∏ÊØîÂÆûÊó∂Â≠òÂÇ®ÁöÑÊñπÊ°à‰ºöÊõ¥Âä†ÁÆÄÊ¥ÅÔºåÂáèÂ∞ëÂõ†Êï∞ÊçÆÂêåÊ≠•ÂØºËá¥‰∏äÂ±ÇÁªÑ‰ª∂ Re-Render„ÄÇ\n\n![verifying-synchronization](https://img.mrsingsing.com/ant-form-verifying-synchronization.png)\n\n### ÂºÇÊ≠•ËØ∑Ê±ÇÂ§ÑÁêÜÊñπÊ°à\n\nË°®ÂçïÁºñËæëÈ°µÂú®Âä†ËΩΩÈ°µÈù¢Êó∂ÔºåÈÄöËøá Model ËøõË°åÂºÇÊ≠•ÂêëÊúçÂä°Âô®ËØ∑Ê±ÇÊï∞ÊçÆÔºåËÄåÂΩìÊúçÂä°Âô®ÂìçÂ∫îËøîÂõûÊµèËßàÂô®ËøôÊÆµÊó∂Èó¥ÔºåÈ°µÈù¢ÁöÑÁªÑ‰ª∂Â∑≤ÁªèÂÆåÊàêÂàùÂßãÂåñÈò∂ÊÆµÂπ∂ÊåÇËΩΩÂà∞ÊµèËßàÂô® DOM Ê†ë‰∏≠„ÄÇ\n\nÂ¶ÇÊûúÊåâÁÖßÊñ∞Âª∫È°µÈù¢Ê†πÊçÆÈ°∂Â±ÇÁªÑ‰ª∂ÁöÑÁä∂ÊÄÅÂêëÂ∫ïÂ±ÇÁªÑ‰ª∂‰º†ÈÄíË°®ÂçïÂüüÂÄºÔºåÂπ∂‰∫éÂêÑ‰∏™Ë°®ÂçïÈ°πÂàùÂßãÂåñÊó∂‰ΩøÁî® `initialValue` ËÆæÁΩÆË°®ÂçïÁöÑÂàùÂßãÂÄºÔºåËØ•ÂÄº‰ºöÁî±‰∫éÁªÑ‰ª∂ÂàùÂßãÂåñ‰∏éÂºÇÊ≠•ËØ∑Ê±ÇÂìçÂ∫î‰πãÈó¥Â≠òÂú®Êó∂Èó¥Â∑ÆËÄåÂ§±ÊïàÔºåÂõ†Ê≠§ÈúÄË¶ÅÊèê‰æõ‰∏ÄÁßçÊñπÊ°àÁ≠âÂæÖÂºÇÊ≠•ËØ∑Ê±ÇÂìçÂ∫îÂêéÂÜçÂØπÂ∫ïÂ±ÇÁªÑ‰ª∂ËøõË°åÂàùÂßãÂåñÊ∏≤Êüì„ÄÇ\n\nÊó¢ÁÑ∂Â∫ïÂ±ÇÁªÑ‰ª∂ÈúÄË¶ÅÂØπË°®ÂçïÂüüÂÄºËøõË°åÂàùÂßãÂåñÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÊâãÂä®ËÆæÁΩÆÈòªÂ°ûÁ≠âÂæÖÊï∞ÊçÆÂìçÂ∫îÂêéÊâçÂØπÂ∫ïÂ±ÇÁªÑ‰ª∂Ê∏≤Êüì„ÄÇ\n\n**ÁÆÄÊòìÁ§∫‰æãÔºö**\n\n```jsx\nstatic getDerviedStateFromProps(nextProps, prevState){\n  if (\n    !isEmptyObject(dataDetail) &&\n    !isEmptyArray(dataList) &&\n    !prevState.isInitial\n  ){\n    // ...Logic Disposal\n\n    return {\n      basic, receipt, usage, isInitial: true\n    }\n  }\n  return null\n}\n```\n\nÈÄöËøáÁîüÂëΩÂë®ÊúüÂáΩÊï∞ `getDerivedStateFromProps` Ê†πÊçÆ Model ‰º†ÂÖ•ÁöÑ Store ÂÜçËΩ¨Â≠òÂà∞È°∂Â±ÇÁªÑ‰ª∂ÁöÑÁä∂ÊÄÅ‰∏≠ÔºåËøôÈáåËÆæÁΩÆ‰∫ÜÁä∂ÊÄÅ `isInitial` Áî®‰∫éÂà§Êñ≠ÊòØÂê¶‰∏∫ÂºÇÊ≠•ËØ∑Ê±ÇÂìçÂ∫îÂêéÁöÑÂàùÊ¨°Ëß¶ÂèëÔºåÁõÆÁöÑÊòØÈÅøÂÖç Props ÂèòÂåñÊàñËÄÖÈ°∂Â±ÇÁªÑ‰ª∂ÁöÑÁà∂ÁªÑ‰ª∂ÈáçÊ∏≤ÊüìÂØºËá¥ËØ•ÁîüÂëΩÂë®ÊúüÂáΩÊï∞Ëß¶Âèë„ÄÇ\n\nÈô§‰∫ÜÂú® `getDerivedStateFromProps` ÂØπ State ËµãÂÄºÁöÑÊìç‰ΩúËøõË°åÊã¶Êà™Â§ñÔºåËøòÈúÄË¶ÅÂú®ÁªÑ‰ª∂Ê∏≤ÊüìÊéßÂà∂Âô®ËÆæÂÆöÂä†ËΩΩÂä®ÊïàÔºå‰ª•Â∫¶ËøáÁ≠âÂæÖÂºÇÊ≠•ËØ∑Ê±ÇÁöÑÊó∂Èó¥ÔºåËÉΩÊúâÊïàÁºìËß£Áî®Êà∑ÁöÑÁÑ¶Ëôë„ÄÇ\n\n```jsx\ngetCurrentStepComponent(current) {\n  const canRendering = [basic, receipt, usage].every(item => !isEmptyObject(item));\n  if (!canRendering) {\n    return (\n      <div className={styles.spin}>\n        <Spin style={{ margin: 32 }}/>\n      </div>\n    );\n  }\n  // Return SubComponent to render\n}\n```\n\n## Â§çÂêàË°®ÂçïÈ°πËÆæËÆ°ÂàÜÊûê\n\n### Âä®ÊÄÅÂ¢ûÂáèÂ§çÂêàÁªÑ‰ª∂\n\nÂú®È¢ÜÂèñÊù°‰ª∂ÁöÑÂàÜÊ≠•Ë°®Âçï‰∏≠ÈúÄË¶ÅËÆæËÆ°‰∏Ä‰∏™Â§çÂêàÁªÑ‰ª∂Áî®‰∫éËÆæÂÆö‰øÉÈîÄ‰ºòÊÉ†Âà∏‰ΩøÁî®ÁöÑÊó∂Èó¥ÊÆµ„ÄÇ\n\n‰∏ªË¶ÅÂåÖÂê´‰ª•‰∏ãÂäüËÉΩ‰ª•ÂèäÁõ∏ÂÖ≥ËßÑÂàôÔºö\n\n- Âü∫Á°ÄÁªÑ‰ª∂ÁªÑÂêà\n  - ÂçïÈ°πÈÄâÊã©ÁªÑ‰ª∂ÔºöÁî®‰∫éÊéßÂà∂ÂÖ∂‰ΩôÂü∫Á°ÄÁªÑ‰ª∂ÈöêËóè‰∏éÊòæÁ§∫\n  - Â§öÈ°πÈÄâÊã©ÁªÑ‰ª∂ÔºöÈÄâÊã©Âë®‰∏ÄËá≥Âë®Êó•ÁöÑÂ§öÈÄâËæìÂÖ•Ê°Ü\n  - Êó∂Èó¥ÈÄâÊã©ÁªÑ‰ª∂ÔºöÊØèÈ°π‰∏∫Êó∂ÂàÜ‰∏∫ÂÖÉÁ¥†ÁöÑÊó∂Èó¥ÊÆµÈÄâÊã©ËæìÂÖ•Ê°Ü\n- Êó∂Èó¥ÈÄâÊã©ÁªÑ‰ª∂ÊîØÊåÅÂä®ÊÄÅÂ¢ûÂáèÔºåËá≥Â∞ëÂ≠òÂú®‰∏Ä‰∏™ÔºåËá≥Â§öÂ≠òÂú®‰∫î‰∏™\n- ÊîØÊåÅË°®ÂçïÊ†°È™åÔºåÊó∂Èó¥ËåÉÂõ¥ÈÄâÊã©ÂøÖÈ°ªÂêàÊ≥ïÔºå‰∏îÂ§ö‰∏™Êó∂Èó¥ËåÉÂõ¥Èó¥‰∏çËÉΩÂ≠òÂú®ÈáçÂè†ÊÉÖÂÜµ\n\nÊ†πÊçÆ AntDesign ÁöÑÊñáÊ°£Êèê‰æõÁöÑÁõ∏ÂÖ≥ÂÆûÁé∞ÊñπÊ≥ïÔºåËøôÈáåÊúâ‰∏§ÁßçÂÆûÁé∞ÊñπÊ°àÔºö\n\n- ‰∏ÄÁßçÊòØËá™ÂÆö‰πâË°®ÂçïÊéß‰ª∂ÔºåÂ∞ÜÂ§öÁßçÁ±ªÂûãÁöÑÂü∫Á°ÄÁªÑ‰ª∂Á≥ÖÂêàÂú®‰∏ÄËµ∑ÔºåÂ§ö‰∏™Â≠óÊÆµÁªºÂêà‰∏∫‰∏Ä‰∏™ÂØπË±°ÔºåÂ≠òÂÇ®Âú®‰∏Ä‰∏™‰∏äÂ±ÇÂ≠óÊÆµ‰∏≠Ôºà‰∏äÂ±ÇÂ≠óÊÆµ‰∏éÂÖ∂‰ªñË°®ÂçïÈ°πÂπ≥Á∫ßÔºâ\n\n```jsx\nconst data = {\n  name: 'Foo',\n  interval: {\n    type: 'ALL',\n    week: ['1', '2', '3']\n    interval: [\n      { startTime: '08:00', endTime: '10:00'},\n      { startTime: '12:00', endTime: '14: 00'}\n    ]\n  }\n}\n```\n\n- ‰∏ÄÁßçÊòØÊ†πÊçÆÂä®ÊÄÅÂ¢ûÂáèË°®ÂçïÈ°πÔºåÂ∞ÜÂ§ö‰∏™Á±ªÂûãÁöÑÂü∫Á°ÄÁªÑ‰ª∂ÁîüÊàêÂ§ö‰∏™Â≠óÊÆµÔºå‰∏éÂÖ∂‰ªñË°®ÂçïÈ°πÂπ≥Á∫ß„ÄÇ[ÂÆòÊñπÁ§∫‰æãÂÆûÁé∞](https://ant.design/components/form-cn/#components-form-demo-dynamic-form-item)\n\n‰ªéÈúÄÊ±ÇÂá∫ÂèëÔºåÊó†ËÆ∫Âá∫ÂéüÂûãËÆæËÆ°‰∏äËøòÊòØÂâçÁ´ØÁªÑ‰ª∂ËÆæËÆ°‰∏äÔºåÈÉΩÂ∫îËØ•‰øùÊåÅÂäüËÉΩ‰∏ÄËá¥Ôºå‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™ÁªÑ‰ª∂Â∫îËØ•Â∞ÅË£ÖÊàêÂçïÁã¨ÁöÑÁªÑ‰ª∂ÔºåÁªÑ‰ª∂ÂÜÖÈÉ®ÊúâÊéßÂà∂ÂºÄÂÖ≥ÔºåÊ†πÊçÆÂçïÈ°πÈÄâÊã©Â±ïÁ§∫‰∏çÂêåÁöÑÊ¨°Á∫ßË°®ÂçïÈ°πÔºåËÄå‰∏îÂä®ÊÄÅÂ¢ûÂáèÁöÑÂè™ÊòØÊó∂Èó¥ÊÆµËæìÂÖ•Ê°ÜÔºåËÄå‰∏éÂçïÈ°πÈÄâÊã©ÂíåÊó•ÊúüÈÄâÊã©Êó†ÂÖ≥ÔºåÂõ†Ê≠§Â∞ÜÂ§ö‰∏™Âü∫Á°ÄÁªÑ‰ª∂Â∞ÅË£ÖËµ∑Êù•Âπ∂ÈÄöËøá Ant Design Êèê‰æõÁöÑËá™ÂÆö‰πâË°®ÂçïÊéß‰ª∂ÁöÑÁªÑÂêàÊ®°ÂºèËÉΩÂ§üÊõ¥ÂêàÁêÜÂú∞ÂÆûÁé∞Ê≠§ÂäüËÉΩ„ÄÇ\n\n![time-interval-exhibition](https://img.mrsingsing.com/ant-form-time-interval-exhibition.gif)\n\n## Form ÁªÑ‰ª∂‰ΩøÁî®ÊÄªÁªì\n\n- ‰ΩøÁî® Radio / Checked Ëøô‰∫õÈÄâÊã©ÁªÑ‰ª∂ÊòØ‰∏çÊé®Ëçê‰ΩøÁî® feedback #issue\n- input Âú®Êåâ Tab ÂàáÊç¢ÊñáÊú¨ËæìÂÖ•Ê°ÜÊó∂‰∏çËé∑ÂèñÁÑ¶ÁÇπÁöÑÊñπÊ≥ïÔºöÂ∞Ü input ÁöÑ tabindex ËÆæÁΩÆ‰∏∫ -1\n- input ‰∏çË¢´ÈÄâ‰∏≠ÁöÑÊñπÊ≥ïÔºöËÆæÁΩÆ readonly Âè™ËØªÂ±ûÊÄß\n- input ÂèñÊ∂àÊµèËßàÂô®Êèê‰æõÁöÑËá™Âä®Â°´ÂÖÖ `autoComplete=off`\n- Áî± getFieldDecorator ÂåÖË£πÁöÑË°®ÂçïÁªÑ‰ª∂ÈªòËÆ§ÂÄº‰∏∫ `undefined` ËÄåÈùû `null` ÊàñËÄÖ `''`\n\nÊØîÂ¶ÇËÆæÁΩÆÈªòËÆ§ÂÄºÂèØ‰ª•ËøôÊ†∑ËÆæÁΩÆ\n\n```jsx\ngetFieldDecorator('name', {\n  initialValue: fields.name ? fields.name : undefined,\n  rules: [],\n})(<Input />);\n```\n\n- Â§ö‰∏™Ê†°È™åËßÑÂàôÂú®Ê†°È™åÊó∂ÂèçÈ¶àÂè™ÂçïÁã¨ÊòæÁ§∫‰∏ÄÊù°ËßÑÂàôÔºåÂΩìËØ•ËßÑÂàôÈÄöËøáÊó∂ÂÜçÊ†°È™å‰∏ãÊù°ËßÑÂàôÔºåÂèØ‰ª•ËÆæÁΩÆ `validateFirst: true`\n- Â¶ÇÊûúËß¶Âèë‰∫ã‰ª∂ÈúÄË¶ÅÂú®‰∏äÂ±ÇÂ§ÑÁêÜÔºåËÄåÊï∞ÊçÆÂú®ÂΩìÂâçÁªÑ‰ª∂Â≠òÂÇ®ÔºåÈÇ£‰πàÂèØ‰ª•Âú®ÂΩìÂâçÁªÑ‰ª∂ÂÅö‰∏ÄÂ±ÇÊã¶Êà™ÔºåÂú®ÂΩìÂâçÁªÑ‰ª∂‰∫ã‰ª∂Ëß¶Âèë `props` ‰º†ÂÖ•ÁöÑ‰∫ã‰ª∂„ÄÇ\n- Êï∞ÁªÑÊìç‰ΩúÂ∞ëÁî® `push` Áõ¥Êé•Âú®ÂéüÊï∞ÁªÑ‰∏≠Êìç‰ΩúÁöÑÊñπÊ≥ïÔºåÂ§ö‰ΩøÁî® `concat` „ÄÅ `filter` Á≠âËøîÂõûÊñ∞Êï∞ÁªÑÁöÑÊñπÊ≥ïÔºàImmutable ÁöÑÊ¶ÇÂøµÔºâ\n\n## ÊÄªÁªìÊÄùËÄÉ\n\n- Â∫îËØ•ÂáèÂ∞ëÈúÄÊ±ÇÂäüËÉΩÂÆûÁé∞ÁöÑËÄóÊó∂ÔºåÊõ¥Â∫îËØ•ÂÖ≥Ê≥®Áî®Êà∑ÁöÑ‰ΩìÈ™å„ÄÅÁªÑ‰ª∂ËÆæËÆ°ÁöÑÂêàÁêÜÊÄßÂíåÂèØÊâ©Â±ïÊÄß„ÄÅÂäüËÉΩÁöÑÂèØÁî®ÊÄß„ÄÅÂäüËÉΩÁöÑ‰ºòÂåñ‰ª•ÂèäÊµãËØïÁöÑË¶ÜÁõñÊÄß\n- Âõ†‰∏∫ËØ•È°πÁõÆÁöÑ‰∏ªË¶ÅÈúÄÊ±ÇÈÉΩÊòØÂü∫‰∫é antd Âü∫Á°ÄÁªÑ‰ª∂Â∫ìËøõË°å‰∏öÂä°ÁªÑ‰ª∂ÁöÑÂ∞ÅË£ÖÔºåÂõ†Ê≠§ÈÄÇÂΩìÂú∞Á†îÁ©∂ antd Â∫ïÂ±ÇÊ∫ê‰ª£Á†ÅÂèØ‰ª•Êõ¥Â•ΩÂú∞ÁêÜËß£ÁªÑ‰ª∂ËøêË°åÂéüÁêÜÔºåËÄå‰∏îËÉΩÂ≠¶‰π†Âà∞ÂæàÂ§ö React ÁªÑ‰ª∂‰ºòÁßÄÁöÑËÆæËÆ°Ê®°ÂºèÂíå‰ª£Á†Å‰π¶ÂÜôÊñπÂºè\n- Á±ª‰ººÁöÑ‰∏öÂä°Ê®°ÂùóÂäüËÉΩÂèØËÉΩ‰ºöÁªèÂéÜÂ§öÊ¨°Ëø≠‰ª£ÔºåÂäüËÉΩÂèØÂ¢ûÂèØÂáèÔºåÂõ†Ê≠§ÂºÄÂèëÈúÄÊ±ÇÂâçÂØπÂäüËÉΩ‰∏öÂä°ÈúÄË¶ÅÊúâÈÄÇÂΩìÂú∞ÁêÜËß£ÔºåËøôÊúâÂä©‰∫éÂâçÁ´ØÂºÄÂèëÂØπÁªÑ‰ª∂Ê®°ÂùóÁöÑËÆæËÆ°ÔºåËÄåËÆæËÆ°ÁöÑÂêàÁêÜÊÄß‰∏ç‰ªÖÂú®Âá∫Áé∞ÈóÆÈ¢òÊó∂Âø´ÈÄüÂÆö‰ΩçÈîôËØØÔºåËÄå‰∏îËÉΩÊúâÊïàÂú∞ÂáèÂ∞ëÂêéÊúüÁª¥Êä§ÁöÑÊàêÊú¨\n\n## ÂèÇËÄÉËµÑÊñô\n\n### Áõ∏ÂÖ≥ÂºÄÊ∫êÈ°πÁõÆ\n\n- [antd: ^3.12.0](https://github.com/ant-design/ant-design)\n  - [FormComponent](https://github.com/ant-design/ant-design/blob/master/components/form/index.en-US.md)\n  - [rc-form](https://github.com/react-component/form)\n  - [async-validator](https://github.com/yiminghe/async-validator)\n- [moment: ^2.22.1](https://github.com/moment/moment)\n\n### ÂàÜÊûê\n\n- [Ë°®ÂçïÂÆûÁé∞ÂéüÁêÜ](https://github.com/ant-design/ant-design/blob/master/components/form/docs/tutorial.md)\n- [10 ÂàÜÈíüÁ≤æÈÄö Ant Design Form Ë°®Âçï](https://juejin.im/post/5c47ffff51882533e05ef4f9)\n- [antd Ë°®ÂçïÊÄßËÉΩÁöÑÊîπËøõÂÆûË∑µ](https://zhuanlan.zhihu.com/p/27740483?utm_medium=hao.caibaojian.com&utm_source=hao.caibaojian.com)\n- [Redux-sage API](https://redux-saga-in-chinese.js.org/docs/api/)\n","slug":"form-business-design-pratice-in-antd","published":1,"updated":"2021-09-29T18:09:38.554Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867n6p0005bmjd8rbuz24x","content":"<h2 id=\"ÈúÄÊ±ÇÂàÜÊûê\"><a href=\"#ÈúÄÊ±ÇÂàÜÊûê\" class=\"headerlink\" title=\"ÈúÄÊ±ÇÂàÜÊûê\"></a>ÈúÄÊ±ÇÂàÜÊûê</h2><p>ÊúÄËøëÊé•Âà∞‰∏ÄÂùóÂÖ≥‰∫é‰øÉÈîÄÊ¥ªÂä®ÂäüËÉΩÁöÑÈúÄÊ±ÇÔºåÈô§‰∫ÜÂ∏∏ËßÑÁöÑÊï∞‰∏™Êó•ÂøóÁ±ªÂûãÂíåÁ≠õÈÄâÁªüËÆ°Á±ªÂûãÂ±ïÁ§∫ÁöÑÂàóË°®‰πãÂ§ñÔºåËøòÈúÄË¶ÅÂÆåÊàêÂÖ≥‰∫é‰øÉÈîÄÊ¥ªÂä®ÁöÑÂàõÂª∫‰∏éÁºñËæëÈ°µÈù¢ÁöÑÁªÑ‰ª∂ÂåñËÆæËÆ°„ÄÇ</p>\n<p>Ê¥ªÂä®ÁöÑÂàõÂª∫È°µÈù¢‰∏éÁºñËæëÈ°µÈù¢ÊòØ‰∏Ä‰∏™ÂàÜÊ≠•Ë°®ÂçïÔºåÂàÜÂà´‰∏∫Ê¥ªÂä®ÁöÑÂü∫Êú¨‰ø°ÊÅØ„ÄÅÈ¢ÜÂèñÊù°‰ª∂‰ª•Âèä‰ΩøÁî®Êù°‰ª∂‰∏â‰∏™ÈÉ®ÂàÜ„ÄÇ</p>\n<p>ÊåâÁÖßÂæÄÂ∏∏ÁöÑÂºÄÂèë‰π†ÊÉØÔºå‰ºöÊääËøôÂçï‰∏™È°µÈù¢ÁöÑÂàÜÊ≠•Ë°®ÂçïÁöÑ‰∏â‰∏™ÈÉ®ÂàÜÈÉΩÂÜôÂú®‰∏Ä‰∏™ÁªÑ‰ª∂ÂÜÖÔºå‰ΩÜÊòØËøôÊ†∑Â§ÑÁêÜÊòéÊòæÊòØ‰∏çÂêàÁêÜÁöÑÔºåÂõ†‰∏∫ÊåâÁÖßËøôÂá†‰∏™ÈÉ®ÂàÜÁöÑË°®ÂçïÈúÄÊ±ÇÊù•ÁúãÔºåËá≥Â∞ë‰πüÈúÄË¶Å‰∏äÂçÉË°åÁöÑ‰ª£Á†ÅÂÆûÁé∞ÔºåÊó†ËÆ∫‰ªé‰ª£Á†ÅÂèØËØªÊÄßÊàñËÄÖÂêéÊúüÁª¥Êä§ÁöÑ‰æøÂà©ÊÄßÊù•ËØ¥ÔºåÈÉΩÊòØ‰∏çÂèØÂèñÁöÑ„ÄÇÊâÄ‰ª•Â¶Ç‰ΩïÂêàÁêÜÂú∞ËÆæËÆ°Êï¥‰∏™Ë°®ÂçïÈ°µÂØπÊï¥‰∏™ÂäüËÉΩÁöÑÂÆûÁé∞‰ª•ÂèäÂêéÊúüÈúÄÊ±ÇËø≠‰ª£ÁöÑ‰æøÊç∑ÊÄßËá≥ÂÖ≥ÈáçË¶Å„ÄÇ</p>\n<p>ÈÄöËøáÁªÜÂàÜÂèØËÉΩÊ∂âÂèäÂà∞ÁöÑÈÄªËæëÈöæÁÇπÂÅö‰∫Ü‰ª•‰∏ãÂàÜÊûêÔºö</p>\n<ul>\n<li>È°∂Â±ÇÁªÑ‰ª∂‰∏ªË¶ÅË¥üË¥£ÂêÑ‰∏™Ê≠•È™§Ë°®ÂçïÁöÑÊ∏≤ÊüìÂàÜÂèëÂô®Ôºå‰ª•ÂèäÊï¥‰∏™ÂàÜÊ≠•Ë°®ÂçïÊèê‰∫§ÂâçÁõ∏ÂÖ≥Êï∞ÊçÆÂ§ÑÁêÜÔºåÂàÜÂèëÂô®ÈÄöËøáËÆæÂÆöÊ†áËØÜÂèòÈáèÊéßÂà∂Áî®Êà∑ÂèØËßÜÈÉ®ÂàÜË°®ÂçïÊ∏≤ÊüìÔºåÊï∞ÊçÆÂ§ÑÁêÜÂàôÈúÄË¶ÅÊ†πÊçÆÊé•Âè£ÈúÄÊ±ÇÁöÑÊï∞ÊçÆÁªìÊûÑËøõË°åËΩ¨Êç¢</li>\n<li>ÂèØËßÜË°®ÂçïÂú®ËøõÂÖ•‰∏ã‰∏Ä‰∏™Ê≠•È™§‰πãÂâçÈúÄË¶ÅÂØπÂΩìÂâçÊ≠•È™§Ë°®Âçï‰ø°ÊÅØËøõË°å‰ø°ÊÅØÊ†°È™å</li>\n<li>Ê†πÊçÆ antd Ë°®ÂçïÁªÑ‰ª∂ÁöÑËÆæËÆ°ÂéüÂàôÂ∞ÅË£ÖÂ§çÂêàË°®ÂçïÈ°πÔºàÂçïÈÄâ+Â§öÈÄâ+Êó∂Èó¥ÈÄâÊã©ËæìÂÖ•Ê°ÜÔºâ<ul>\n<li>Â§çÂêàË°®ÂçïÁªÑ‰ª∂ÊîØÊåÅÂ§çÁî®ÔºåÂπ∂Êèê‰æõ‰∏ÄÈîÆËá™Âä®Â°´ÂÖÖÂäüËÉΩ</li>\n<li>Âä®ÊÄÅÂ¢ûÂáèËæìÂÖ•Ê°ÜÊéß‰ª∂Âπ∂ÊîØÊåÅÊéß‰ª∂Èó¥ÁöÑ‰∏•Ê†ºËßÑÂàôÊ†°È™å</li>\n</ul>\n</li>\n<li>ÂÖºÂÆπÊñ∞Âª∫È°µÈù¢ÂíåÁºñËæëÈ°µÈù¢Ôºå‰∏ªË¶ÅÂå∫Âà´Âú®‰∫éÁºñËæëÈ°µÈù¢ÈúÄË¶ÅËé∑ÂèñÂπ∂ËÆæÁΩÆË°®ÂçïÈªòËÆ§ÂÄº</li>\n</ul>\n<a id=\"more\"></a>\n<h2 id=\"ÂàÜÊ≠•Ë°®ÂçïÂÆûË∑µÂàÜÊûê\"><a href=\"#ÂàÜÊ≠•Ë°®ÂçïÂÆûË∑µÂàÜÊûê\" class=\"headerlink\" title=\"ÂàÜÊ≠•Ë°®ÂçïÂÆûË∑µÂàÜÊûê\"></a>ÂàÜÊ≠•Ë°®ÂçïÂÆûË∑µÂàÜÊûê</h2><h3 id=\"ÂàÜÊ≠•Ë°®ÂçïÁªÑÁªáÁªìÊûÑ\"><a href=\"#ÂàÜÊ≠•Ë°®ÂçïÁªÑÁªáÁªìÊûÑ\" class=\"headerlink\" title=\"ÂàÜÊ≠•Ë°®ÂçïÁªÑÁªáÁªìÊûÑ\"></a>ÂàÜÊ≠•Ë°®ÂçïÁªÑÁªáÁªìÊûÑ</h3><p>Êï¥‰∏™ÂàÜÊ≠•Ë°®ÂçïÈ°µÈù¢‰ªé UI ‰∏äÂàíÂàÜÂ§ß‰Ωì‰∏äÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜÔºöÊ≠•È™§ËøõÂ∫¶Êù°„ÄÅÂØπÂ∫îÁöÑË°®ÂçïÈ°π‰ª•ÂèäÂàáÊç¢È°µÈù¢ÁöÑÊåâÈíÆÁªÑ„ÄÇ</p>\n<p>Ê†πÊçÆ <code>antd</code> ÁªÑ‰ª∂Â∫ìÁöÑË°®ÂçïËÆæËÆ°ÂéüÂàôÔºåÂ¶ÇÊûúÈúÄË¶Å Form ÁªÑ‰ª∂Ëá™Â∏¶ÁöÑÊî∂ÈõÜÊ†°È™åÂäüËÉΩÔºåÈúÄË¶Å‰ΩøÁî® <code>Form.create()</code> ÂØπËá™ÂÆö‰πâÁöÑÁªÑ‰ª∂ËøõË°åÂåÖË£ÖÔºåËÄå‰∏îÊØè‰∏™ÈúÄË¶ÅÊî∂ÈõÜÁöÑÂÄºËøòÈúÄË¶Å <code>getFieldDecorator</code> ËøõË°åÊ≥®ÂÜå„ÄÇ</p>\n<p><code>Form.create()</code> Áî®‰∫éÂàõÂª∫‰∏Ä‰∏™ÂÖ∑ÊúâÊ≥®ÂÜå„ÄÅÊî∂ÈõÜ„ÄÅÊ†°È™åÂäüËÉΩÁöÑÂÆû‰æã„ÄÇ</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Basic</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  render()&#123;</span><br><span class=\"line\">    &lt;Form&gt;</span><br><span class=\"line\">      &lt;Form.Item&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          getFieldDecorator(<span class=\"string\">'expiration'</span>, &#123;</span><br><span class=\"line\">            initialValue: fields.expiration ? fields.expiration : <span class=\"literal\">undefined</span>,</span><br><span class=\"line\">            validateFirst: <span class=\"literal\">true</span>,</span><br><span class=\"line\">            rules: [</span><br><span class=\"line\">              &#123; <span class=\"attr\">required</span>: <span class=\"literal\">true</span>, <span class=\"attr\">message</span>: <span class=\"string\">'ÂøÖÂ°´'</span> &#125;</span><br><span class=\"line\">            ]</span><br><span class=\"line\">          &#125;)(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">SuffixInput</span> <span class=\"attr\">unit</span>=<span class=\"string\">\"Â§©\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"ËØ∑ËæìÂÖ•Êï¥Êï∞\"</span> /&gt;</span></span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/Form.Item&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;Form&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  &#125;</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">Form.create()(Basic)</span></span><br></pre></td></tr></table></figure>\n<p>Êï¥‰∏™È°µÈù¢ÁöÑÊï∞ÊçÆÂÇ®Â≠òÊñπÂºèÂÜ≥ÂÆö‰∫ÜÊï¥‰∏™ÂàÜÊ≠•Ë°®ÂçïÁöÑÁªÑÁªáÁªìÊûÑÔºå‰πüÂÜ≥ÂÆö‰∫ÜÁºñÂÜô‰∏öÂä°ÈÄªËæëÊó∂ÂØπÊï∞ÊçÆÊµÅÁöÑÂ§ÑÁêÜÊñπÊ≥ï„ÄÇÂõ†Ê≠§ÊàëÂØπ‰∏§ÁßçÂäüËÉΩÊñπÊ°àËøõË°å‰∫ÜÂØπÊØî„ÄÇ</p>\n<h3 id=\"Êï∞ÊçÆÂ≠òÂÇ®ÊñπÊ°à\"><a href=\"#Êï∞ÊçÆÂ≠òÂÇ®ÊñπÊ°à\" class=\"headerlink\" title=\"Êï∞ÊçÆÂ≠òÂÇ®ÊñπÊ°à\"></a>Êï∞ÊçÆÂ≠òÂÇ®ÊñπÊ°à</h3><p><strong>È°∂Â±ÇÁªÑ‰ª∂</strong></p>\n<p><strong>ÈöîÂ±Ç‰º†ÈÄÅÔºö</strong> Â¶ÇÊûúÂú®È°∂Â±ÇÁªÑ‰ª∂ÂåÖË£ÖÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÊää Form ÂÜÖÈÉ®ÂàõÂª∫ÁöÑÂÆû‰æã‰ª•Âèä‰∏Ä‰∫õ‰øÆÈ•∞Âô® <code>getFieldDecorator</code>„ÄÅÊ†°È™åË°®ÂçïÂÄº <code>validateFields</code> Á≠âÊñπÊ≥ïÈÄöËøá Props ÂÜç‰º†ÈÄíÁªôÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂„ÄÇ</p>\n<p><strong>ÂêåÊ≠•Âç∏ËΩΩÔºö</strong> Âú®ÂØπÂΩìÂâçÊ≠•È™§Ë°®ÂçïÂ°´ÂÖÖÂÆåÊàêÂπ∂ÂàáÊç¢Ê≠•È™§ÂêéÂêéÔºå‰∏ä‰∏™Ê≠•È™§ÁöÑÁªÑ‰ª∂‰ºö‰ªéÈ°µÈù¢Âç∏ËΩΩÔºåÊúÄÁªàË°®ÂçïÊèê‰∫§Êó∂ÂÄô‰ºöÊó†Ê≥ïËé∑Âèñ‰πãÂâçÂ∑≤ÁªèÂ°´ÂÖÖÁöÑË°®ÂçïÁöÑÂÄº„ÄÇÂõ†‰∏∫Ëøô‰∫õÊ≠•È™§ÁöÑÁªÑ‰ª∂Âç∏ËΩΩÂêéÂ≠òÂÇ®Ë°®ÂçïÂÄºÁöÑÂÆû‰æã‰πü‰ºöÂêåÊó∂Âç∏ËΩΩ„ÄÇ</p>\n<p><strong>ÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂</strong></p>\n<p><strong>ÈúÄÂêåÊ≠•Êï∞ÊçÆÔºö</strong> Â¶ÇÊûúÂú®È°∂Â±ÇÁªÑ‰ª∂‰∏ãÁöÑÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂ËøõË°åÂåÖË£ÖÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂú®ÂàáÊç¢‰∏ã‰∏™Ê≠•È™§ÂâçÂØπË°®ÂçïÂÄºËøõË°åÈ™åËØÅÔºåÈ™åËØÅÂ§±Ë¥•‰ºöËøõË°åÊã¶Êà™ÔºåËÄåÈ™åËØÅÊàêÂäüÂàô‰ºöÂ∞ÜÊï∞ÊçÆÊò†Â∞ÑÂà∞È°∂Â±ÇÁªÑ‰ª∂ÁöÑ State ‰∏≠ÔºåËØ•ÂàÜÊ≠•È™§ÁªÑ‰ª∂‰ª•Âèä Form ÂàõÂª∫ÁöÑË°®ÂçïÊï∞ÊçÆÂ≠òÂÇ®ÂÆû‰æãÂùá‰ºö‰∏ÄÂπ∂Âç∏ËΩΩ„ÄÇËã•È°µÈù¢ÂÜçÂàáÊç¢Âà∞ÂÖ∂‰ªñÊ≠•È™§ÁöÑÈ°µÈù¢Êó∂ÔºåÈúÄË¶Å‰ªé Props Ëé∑ÂèñËØ•Ê≠•È™§È°µÈù¢ÁöÑË°®ÂçïÂÄºÔºåÂÜçÈÄöËøá <code>initialValue</code> Êò†Â∞ÑÂà∞ Form ÁªÑ‰ª∂ÂÜÖÈÉ®ÁîüÊàêÁöÑÂÆû‰æã‰∏≠„ÄÇ</p>\n<p><strong>ÂäüËÉΩÊòéÁ°ÆÔºö</strong> ËøôÊ†∑ËÆæËÆ°ÁöÑÂ•ΩÂ§ÑÊòØÂ∞ÜÂêÑ‰∏™ÂàÜÊ≠•ÁöÑË°®ÂçïÂàÜ‰∏∫ÂçïÁã¨ÁöÑË°®ÂçïÁúãÂæÖÔºåÂäüËÉΩÂàÜÂ∑•Êõ¥Âä†ÊòéÁ°ÆÔºåÊó†ËÆ∫‰ªéÂäüËÉΩÂÆûÁé∞ËøòÊòØÂêéÊúüÁª¥Êä§‰∏äÂè™ÈúÄË¶ÅÂØπËØ•ÁªÑ‰ª∂ÂÜÖÁöÑ‰∏öÂä°ÈÄªËæëËøõË°å‰øÆÊîπÂç≥ÂèØÔºå‰∏çÁî®ÂÖºÂÆπÈ°∂Â±ÇÁªÑ‰ª∂ÁöÑÈÄªËæë„ÄÇ</p>\n<p><strong>ÂÖºÂÆπÈ°µÈù¢Ôºö</strong> Êõ¥ÈáçË¶ÅÁöÑÊòØÔºåÈ°∂Â±ÇÁªÑ‰ª∂ÂØπÂêÑ‰∏™Ê≠•È™§ÁöÑË°®ÂçïÂüüÂÄºËøõË°åÂàÜÂèëÔºåÂÜçÈÄöËøá <code>initialValue</code> ËÆæÁΩÆË°®ÂçïÈªòËÆ§ÂÄºÁöÑÊñπÂºèÂú®ÁºñËæëÈ°µÈù¢ÁöÑÂ∫îÁî®‰∏ä‰ºöÊõ¥Âä†ÂêàÁêÜ„ÄÇÂõ†Ê≠§ÊúÄÁªàÈááÁî®ÂØπÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂ËøõË°åÂ∞ÅË£ÖÁöÑÊñπÊ≥ï„ÄÇ</p>\n<h3 id=\"ÂêåÊ≠•Êï∞ÊçÆÁöÑÊó∂Êú∫\"><a href=\"#ÂêåÊ≠•Êï∞ÊçÆÁöÑÊó∂Êú∫\" class=\"headerlink\" title=\"ÂêåÊ≠•Êï∞ÊçÆÁöÑÊó∂Êú∫\"></a>ÂêåÊ≠•Êï∞ÊçÆÁöÑÊó∂Êú∫</h3><p>Â∞ΩÁÆ°Â∑≤ÁªèÂÜ≥ÂÆöÂú®ÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂‰∏≠ËøõË°å Form ÁªÑ‰ª∂ÂåÖË£ÖÔºå‰ΩÜÊòØÂè¶‰∏ÄÊñπÈù¢ÈúÄË¶ÅËÄÉËôëÂΩìÁî®Êà∑Â°´ÂÖÖÂäüËÉΩË°®ÂçïÊó∂Êï∞ÊçÆÊòØÂú®ÂàáÊç¢È°µÈù¢Êó∂Áªü‰∏ÄÊ†°È™åÂÜçÂ≠òÂÇ®Âú®‰∏äÁ∫ßÁªÑ‰ª∂ÔºåËøòÊòØÂÆûÊó∂Â≠òÂÇ®Âë¢„ÄÇ</p>\n<p>Â¶ÇÊûúÊòØÈááÁî®ÂÆûÊó∂Â≠òÂÇ®ÁöÑÊñπÊ°àÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî® AntDesign Êèê‰æõÁöÑÂÆòÊñπÊ°à‰æã <a href=\"https://ant.design/components/form-cn/#components-form-demo-global-state\" target=\"_blank\" rel=\"noopener\">Ë°®ÂçïÊï∞ÊçÆÂ≠òÂÇ®‰∫é‰∏äÂ±ÇÁªÑ‰ª∂</a> Ôºå‰ΩÜÊòØËøôÊó∂ÂÄô‰ºöÈù¢‰∏¥‰∏Ä‰∏™ÈóÆÈ¢òÊòØÔºåÊØèÊ¨°ÂèòÊõ¥ËæìÂÖ•Ê°ÜÂÜÖÁöÑÂÄºÊó∂ÈÉΩ‰ºöËß¶Âèë‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑ Re-Render ÔºåÂΩìÂàÜÊ≠•ÁªÑ‰ª∂‰∏≠Ë°®ÂçïÈ°πÊØîËæÉÂ§öÁöÑÊó∂ÂÄôÔºåÊàñËÄÖË°®ÂçïÈ°πÂµåÂ•óÁöÑÊòØ‰∏Ä‰∏™Â§çÊùÇÁöÑÈúÄË¶ÅÈ¢ëÁπÅÂèòÊõ¥ÂÄºÁöÑÊéß‰ª∂Â∞±ÂæàÂèØËÉΩÂá∫Áé∞È°µÈù¢Âç°È°øÁ≠âÁöÑÊÄßËÉΩÈóÆÈ¢ò„ÄÇ</p>\n<p>Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåÂç≥ÊòØÂÆûÊó∂Êõ¥Êñ∞Ë°®ÂçïÂüüÂÄºÁöÑÊï∞ÊçÆÂêåÊ≠•ÊñπÊ°àÔºö</p>\n<ul>\n<li>ÈÄöËøá Form ÁªÑ‰ª∂ÂÜÖÈÉ®ÁõëÂê¨ÂáΩÊï∞ onFieldsChange Ëé∑ÂèñÂÆûÊó∂ÂèòÂåñÁöÑË°®ÂçïÂÄºÔºåÂπ∂ÈÄöËøá‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑ <code>handleFormChange</code> Â≠òÂÇ®Âú® State ‰∏≠</li>\n<li>‰∏äÂ±ÇÁªÑ‰ª∂ State ÂèëÁîüÂèòÂåñÔºåË°®ÂçïÂÄºÈÄöËøá Props ‰º†ÈÄíÁªôÂ≠êÁªÑ‰ª∂ÔºåÂú®‰º†ÈÄíÁªôÂ≠êÁªÑ‰ª∂‰πãÂâç‰ºöÁªèËøá‰øÆÈ•∞Â≠êÁªÑ‰ª∂ÁöÑ Form ÁªÑ‰ª∂ÔºåÁªÑ‰ª∂ÂÜÖÈÉ®Êèê‰æõ <code>mapPropsToFields</code> ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÁöÑ‰ΩúÁî®ÊòØÊääÁà∂ÁªÑ‰ª∂ÁöÑÂ±ûÊÄßÊò†Â∞ÑÂà∞Ë°®ÂçïÈ°π‰∏äÔºå‰ΩÜÊòØÈúÄË¶ÅÂØπËøîÂõûÂÄº‰∏≠ÁöÑË°®ÂçïÂüüÊï∞ÊçÆÁî® <code>Form.createFormField</code> Ê†áËÆ∞</li>\n</ul>\n<p><img src=\"https://img.mrsingsing.com/ant-form-real-time-synchronization.png\" alt=\"real-time-synchronization\"></p>\n<p>ÂàáÊç¢È°µÈù¢Êó∂ËøõË°åÊï∞ÊçÆÈ™åËØÅÂπ∂ÂêåÊ≠•Âà∞‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑÊï∞ÊçÆÂêåÊ≠•ÊñπÊ°àÔºö</p>\n<ul>\n<li>ÂΩìÁî®Êà∑ÂØπË°®ÂçïËøõË°åÂ°´ÂÖÖÊó∂ÔºåË°®ÂçïÂÄºÁöÑÂèòÂåñ‰ºöÂÆûÊó∂ÂèçÊò†Âà∞ Form ÁªÑ‰ª∂ÂÜÖÈÉ®ÊûÑÂª∫ÁöÑ FieldsStore ÂÆû‰æã‰∏≠ÔºåÈ©±Âä® Child ÁªÑ‰ª∂ Re-Render</li>\n<li>ÂΩìÁî®Êà∑Â°´ÂÖÖÂÆåÊØïÂπ∂Êèê‰∫§ÂΩìÂâçÊ≠•È™§ÁöÑË°®ÂçïÊó∂ÔºåËß¶Âèë‰∏äÂ±ÇÁªÑ‰ª∂ handleFormChange ËøõË°åÊï∞ÊçÆÂêåÊ≠•</li>\n</ul>\n<p>Êï¥‰∏™ÊµÅÁ®ãÁõ∏ÊØîÂÆûÊó∂Â≠òÂÇ®ÁöÑÊñπÊ°à‰ºöÊõ¥Âä†ÁÆÄÊ¥ÅÔºåÂáèÂ∞ëÂõ†Êï∞ÊçÆÂêåÊ≠•ÂØºËá¥‰∏äÂ±ÇÁªÑ‰ª∂ Re-Render„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/ant-form-verifying-synchronization.png\" alt=\"verifying-synchronization\"></p>\n<h3 id=\"ÂºÇÊ≠•ËØ∑Ê±ÇÂ§ÑÁêÜÊñπÊ°à\"><a href=\"#ÂºÇÊ≠•ËØ∑Ê±ÇÂ§ÑÁêÜÊñπÊ°à\" class=\"headerlink\" title=\"ÂºÇÊ≠•ËØ∑Ê±ÇÂ§ÑÁêÜÊñπÊ°à\"></a>ÂºÇÊ≠•ËØ∑Ê±ÇÂ§ÑÁêÜÊñπÊ°à</h3><p>Ë°®ÂçïÁºñËæëÈ°µÂú®Âä†ËΩΩÈ°µÈù¢Êó∂ÔºåÈÄöËøá Model ËøõË°åÂºÇÊ≠•ÂêëÊúçÂä°Âô®ËØ∑Ê±ÇÊï∞ÊçÆÔºåËÄåÂΩìÊúçÂä°Âô®ÂìçÂ∫îËøîÂõûÊµèËßàÂô®ËøôÊÆµÊó∂Èó¥ÔºåÈ°µÈù¢ÁöÑÁªÑ‰ª∂Â∑≤ÁªèÂÆåÊàêÂàùÂßãÂåñÈò∂ÊÆµÂπ∂ÊåÇËΩΩÂà∞ÊµèËßàÂô® DOM Ê†ë‰∏≠„ÄÇ</p>\n<p>Â¶ÇÊûúÊåâÁÖßÊñ∞Âª∫È°µÈù¢Ê†πÊçÆÈ°∂Â±ÇÁªÑ‰ª∂ÁöÑÁä∂ÊÄÅÂêëÂ∫ïÂ±ÇÁªÑ‰ª∂‰º†ÈÄíË°®ÂçïÂüüÂÄºÔºåÂπ∂‰∫éÂêÑ‰∏™Ë°®ÂçïÈ°πÂàùÂßãÂåñÊó∂‰ΩøÁî® <code>initialValue</code> ËÆæÁΩÆË°®ÂçïÁöÑÂàùÂßãÂÄºÔºåËØ•ÂÄº‰ºöÁî±‰∫éÁªÑ‰ª∂ÂàùÂßãÂåñ‰∏éÂºÇÊ≠•ËØ∑Ê±ÇÂìçÂ∫î‰πãÈó¥Â≠òÂú®Êó∂Èó¥Â∑ÆËÄåÂ§±ÊïàÔºåÂõ†Ê≠§ÈúÄË¶ÅÊèê‰æõ‰∏ÄÁßçÊñπÊ°àÁ≠âÂæÖÂºÇÊ≠•ËØ∑Ê±ÇÂìçÂ∫îÂêéÂÜçÂØπÂ∫ïÂ±ÇÁªÑ‰ª∂ËøõË°åÂàùÂßãÂåñÊ∏≤Êüì„ÄÇ</p>\n<p>Êó¢ÁÑ∂Â∫ïÂ±ÇÁªÑ‰ª∂ÈúÄË¶ÅÂØπË°®ÂçïÂüüÂÄºËøõË°åÂàùÂßãÂåñÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÊâãÂä®ËÆæÁΩÆÈòªÂ°ûÁ≠âÂæÖÊï∞ÊçÆÂìçÂ∫îÂêéÊâçÂØπÂ∫ïÂ±ÇÁªÑ‰ª∂Ê∏≤Êüì„ÄÇ</p>\n<p><strong>ÁÆÄÊòìÁ§∫‰æãÔºö</strong></p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">static</span> getDerviedStateFromProps(nextProps, prevState)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (</span><br><span class=\"line\">    !isEmptyObject(dataDetail) &amp;&amp;</span><br><span class=\"line\">    !isEmptyArray(dataList) &amp;&amp;</span><br><span class=\"line\">    !prevState.isInitial</span><br><span class=\"line\">  )&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...Logic Disposal</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      basic, receipt, usage, <span class=\"attr\">isInitial</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">null</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÈÄöËøáÁîüÂëΩÂë®ÊúüÂáΩÊï∞ <code>getDerivedStateFromProps</code> Ê†πÊçÆ Model ‰º†ÂÖ•ÁöÑ Store ÂÜçËΩ¨Â≠òÂà∞È°∂Â±ÇÁªÑ‰ª∂ÁöÑÁä∂ÊÄÅ‰∏≠ÔºåËøôÈáåËÆæÁΩÆ‰∫ÜÁä∂ÊÄÅ <code>isInitial</code> Áî®‰∫éÂà§Êñ≠ÊòØÂê¶‰∏∫ÂºÇÊ≠•ËØ∑Ê±ÇÂìçÂ∫îÂêéÁöÑÂàùÊ¨°Ëß¶ÂèëÔºåÁõÆÁöÑÊòØÈÅøÂÖç Props ÂèòÂåñÊàñËÄÖÈ°∂Â±ÇÁªÑ‰ª∂ÁöÑÁà∂ÁªÑ‰ª∂ÈáçÊ∏≤ÊüìÂØºËá¥ËØ•ÁîüÂëΩÂë®ÊúüÂáΩÊï∞Ëß¶Âèë„ÄÇ</p>\n<p>Èô§‰∫ÜÂú® <code>getDerivedStateFromProps</code> ÂØπ State ËµãÂÄºÁöÑÊìç‰ΩúËøõË°åÊã¶Êà™Â§ñÔºåËøòÈúÄË¶ÅÂú®ÁªÑ‰ª∂Ê∏≤ÊüìÊéßÂà∂Âô®ËÆæÂÆöÂä†ËΩΩÂä®ÊïàÔºå‰ª•Â∫¶ËøáÁ≠âÂæÖÂºÇÊ≠•ËØ∑Ê±ÇÁöÑÊó∂Èó¥ÔºåËÉΩÊúâÊïàÁºìËß£Áî®Êà∑ÁöÑÁÑ¶Ëôë„ÄÇ</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getCurrentStepComponent(current) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> canRendering = [basic, receipt, usage].every(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> !isEmptyObject(item));</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!canRendering) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=&#123;styles.spin&#125;&gt;</span><br><span class=\"line\">        &lt;Spin style=&#123;&#123; <span class=\"attr\">margin</span>: <span class=\"number\">32</span> &#125;&#125;/&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    );</span></span><br><span class=\"line\"><span class=\"regexp\">  &#125;</span></span><br><span class=\"line\"><span class=\"regexp\">  /</span><span class=\"regexp\">/ Return SubComponent to render</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Â§çÂêàË°®ÂçïÈ°πËÆæËÆ°ÂàÜÊûê\"><a href=\"#Â§çÂêàË°®ÂçïÈ°πËÆæËÆ°ÂàÜÊûê\" class=\"headerlink\" title=\"Â§çÂêàË°®ÂçïÈ°πËÆæËÆ°ÂàÜÊûê\"></a>Â§çÂêàË°®ÂçïÈ°πËÆæËÆ°ÂàÜÊûê</h2><h3 id=\"Âä®ÊÄÅÂ¢ûÂáèÂ§çÂêàÁªÑ‰ª∂\"><a href=\"#Âä®ÊÄÅÂ¢ûÂáèÂ§çÂêàÁªÑ‰ª∂\" class=\"headerlink\" title=\"Âä®ÊÄÅÂ¢ûÂáèÂ§çÂêàÁªÑ‰ª∂\"></a>Âä®ÊÄÅÂ¢ûÂáèÂ§çÂêàÁªÑ‰ª∂</h3><p>Âú®È¢ÜÂèñÊù°‰ª∂ÁöÑÂàÜÊ≠•Ë°®Âçï‰∏≠ÈúÄË¶ÅËÆæËÆ°‰∏Ä‰∏™Â§çÂêàÁªÑ‰ª∂Áî®‰∫éËÆæÂÆö‰øÉÈîÄ‰ºòÊÉ†Âà∏‰ΩøÁî®ÁöÑÊó∂Èó¥ÊÆµ„ÄÇ</p>\n<p>‰∏ªË¶ÅÂåÖÂê´‰ª•‰∏ãÂäüËÉΩ‰ª•ÂèäÁõ∏ÂÖ≥ËßÑÂàôÔºö</p>\n<ul>\n<li>Âü∫Á°ÄÁªÑ‰ª∂ÁªÑÂêà<ul>\n<li>ÂçïÈ°πÈÄâÊã©ÁªÑ‰ª∂ÔºöÁî®‰∫éÊéßÂà∂ÂÖ∂‰ΩôÂü∫Á°ÄÁªÑ‰ª∂ÈöêËóè‰∏éÊòæÁ§∫</li>\n<li>Â§öÈ°πÈÄâÊã©ÁªÑ‰ª∂ÔºöÈÄâÊã©Âë®‰∏ÄËá≥Âë®Êó•ÁöÑÂ§öÈÄâËæìÂÖ•Ê°Ü</li>\n<li>Êó∂Èó¥ÈÄâÊã©ÁªÑ‰ª∂ÔºöÊØèÈ°π‰∏∫Êó∂ÂàÜ‰∏∫ÂÖÉÁ¥†ÁöÑÊó∂Èó¥ÊÆµÈÄâÊã©ËæìÂÖ•Ê°Ü</li>\n</ul>\n</li>\n<li>Êó∂Èó¥ÈÄâÊã©ÁªÑ‰ª∂ÊîØÊåÅÂä®ÊÄÅÂ¢ûÂáèÔºåËá≥Â∞ëÂ≠òÂú®‰∏Ä‰∏™ÔºåËá≥Â§öÂ≠òÂú®‰∫î‰∏™</li>\n<li>ÊîØÊåÅË°®ÂçïÊ†°È™åÔºåÊó∂Èó¥ËåÉÂõ¥ÈÄâÊã©ÂøÖÈ°ªÂêàÊ≥ïÔºå‰∏îÂ§ö‰∏™Êó∂Èó¥ËåÉÂõ¥Èó¥‰∏çËÉΩÂ≠òÂú®ÈáçÂè†ÊÉÖÂÜµ</li>\n</ul>\n<p>Ê†πÊçÆ AntDesign ÁöÑÊñáÊ°£Êèê‰æõÁöÑÁõ∏ÂÖ≥ÂÆûÁé∞ÊñπÊ≥ïÔºåËøôÈáåÊúâ‰∏§ÁßçÂÆûÁé∞ÊñπÊ°àÔºö</p>\n<ul>\n<li>‰∏ÄÁßçÊòØËá™ÂÆö‰πâË°®ÂçïÊéß‰ª∂ÔºåÂ∞ÜÂ§öÁßçÁ±ªÂûãÁöÑÂü∫Á°ÄÁªÑ‰ª∂Á≥ÖÂêàÂú®‰∏ÄËµ∑ÔºåÂ§ö‰∏™Â≠óÊÆµÁªºÂêà‰∏∫‰∏Ä‰∏™ÂØπË±°ÔºåÂ≠òÂÇ®Âú®‰∏Ä‰∏™‰∏äÂ±ÇÂ≠óÊÆµ‰∏≠Ôºà‰∏äÂ±ÇÂ≠óÊÆµ‰∏éÂÖ∂‰ªñË°®ÂçïÈ°πÂπ≥Á∫ßÔºâ</li>\n</ul>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> data = &#123;</span><br><span class=\"line\">  name: <span class=\"string\">'Foo'</span>,</span><br><span class=\"line\">  interval: &#123;</span><br><span class=\"line\">    type: <span class=\"string\">'ALL'</span>,</span><br><span class=\"line\">    week: [<span class=\"string\">'1'</span>, <span class=\"string\">'2'</span>, <span class=\"string\">'3'</span>]</span><br><span class=\"line\">    interval: [</span><br><span class=\"line\">      &#123; <span class=\"attr\">startTime</span>: <span class=\"string\">'08:00'</span>, <span class=\"attr\">endTime</span>: <span class=\"string\">'10:00'</span>&#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">startTime</span>: <span class=\"string\">'12:00'</span>, <span class=\"attr\">endTime</span>: <span class=\"string\">'14: 00'</span>&#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>‰∏ÄÁßçÊòØÊ†πÊçÆÂä®ÊÄÅÂ¢ûÂáèË°®ÂçïÈ°πÔºåÂ∞ÜÂ§ö‰∏™Á±ªÂûãÁöÑÂü∫Á°ÄÁªÑ‰ª∂ÁîüÊàêÂ§ö‰∏™Â≠óÊÆµÔºå‰∏éÂÖ∂‰ªñË°®ÂçïÈ°πÂπ≥Á∫ß„ÄÇ<a href=\"https://ant.design/components/form-cn/#components-form-demo-dynamic-form-item\" target=\"_blank\" rel=\"noopener\">ÂÆòÊñπÁ§∫‰æãÂÆûÁé∞</a></li>\n</ul>\n<p>‰ªéÈúÄÊ±ÇÂá∫ÂèëÔºåÊó†ËÆ∫Âá∫ÂéüÂûãËÆæËÆ°‰∏äËøòÊòØÂâçÁ´ØÁªÑ‰ª∂ËÆæËÆ°‰∏äÔºåÈÉΩÂ∫îËØ•‰øùÊåÅÂäüËÉΩ‰∏ÄËá¥Ôºå‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™ÁªÑ‰ª∂Â∫îËØ•Â∞ÅË£ÖÊàêÂçïÁã¨ÁöÑÁªÑ‰ª∂ÔºåÁªÑ‰ª∂ÂÜÖÈÉ®ÊúâÊéßÂà∂ÂºÄÂÖ≥ÔºåÊ†πÊçÆÂçïÈ°πÈÄâÊã©Â±ïÁ§∫‰∏çÂêåÁöÑÊ¨°Á∫ßË°®ÂçïÈ°πÔºåËÄå‰∏îÂä®ÊÄÅÂ¢ûÂáèÁöÑÂè™ÊòØÊó∂Èó¥ÊÆµËæìÂÖ•Ê°ÜÔºåËÄå‰∏éÂçïÈ°πÈÄâÊã©ÂíåÊó•ÊúüÈÄâÊã©Êó†ÂÖ≥ÔºåÂõ†Ê≠§Â∞ÜÂ§ö‰∏™Âü∫Á°ÄÁªÑ‰ª∂Â∞ÅË£ÖËµ∑Êù•Âπ∂ÈÄöËøá Ant Design Êèê‰æõÁöÑËá™ÂÆö‰πâË°®ÂçïÊéß‰ª∂ÁöÑÁªÑÂêàÊ®°ÂºèËÉΩÂ§üÊõ¥ÂêàÁêÜÂú∞ÂÆûÁé∞Ê≠§ÂäüËÉΩ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/ant-form-time-interval-exhibition.gif\" alt=\"time-interval-exhibition\"></p>\n<h2 id=\"Form-ÁªÑ‰ª∂‰ΩøÁî®ÊÄªÁªì\"><a href=\"#Form-ÁªÑ‰ª∂‰ΩøÁî®ÊÄªÁªì\" class=\"headerlink\" title=\"Form ÁªÑ‰ª∂‰ΩøÁî®ÊÄªÁªì\"></a>Form ÁªÑ‰ª∂‰ΩøÁî®ÊÄªÁªì</h2><ul>\n<li>‰ΩøÁî® Radio / Checked Ëøô‰∫õÈÄâÊã©ÁªÑ‰ª∂ÊòØ‰∏çÊé®Ëçê‰ΩøÁî® feedback #issue</li>\n<li>input Âú®Êåâ Tab ÂàáÊç¢ÊñáÊú¨ËæìÂÖ•Ê°ÜÊó∂‰∏çËé∑ÂèñÁÑ¶ÁÇπÁöÑÊñπÊ≥ïÔºöÂ∞Ü input ÁöÑ tabindex ËÆæÁΩÆ‰∏∫ -1</li>\n<li>input ‰∏çË¢´ÈÄâ‰∏≠ÁöÑÊñπÊ≥ïÔºöËÆæÁΩÆ readonly Âè™ËØªÂ±ûÊÄß</li>\n<li>input ÂèñÊ∂àÊµèËßàÂô®Êèê‰æõÁöÑËá™Âä®Â°´ÂÖÖ <code>autoComplete=off</code></li>\n<li>Áî± getFieldDecorator ÂåÖË£πÁöÑË°®ÂçïÁªÑ‰ª∂ÈªòËÆ§ÂÄº‰∏∫ <code>undefined</code> ËÄåÈùû <code>null</code> ÊàñËÄÖ <code>&#39;&#39;</code></li>\n</ul>\n<p>ÊØîÂ¶ÇËÆæÁΩÆÈªòËÆ§ÂÄºÂèØ‰ª•ËøôÊ†∑ËÆæÁΩÆ</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getFieldDecorator(<span class=\"string\">'name'</span>, &#123;</span><br><span class=\"line\">  initialValue: fields.name ? fields.name : <span class=\"literal\">undefined</span>,</span><br><span class=\"line\">  rules: [],</span><br><span class=\"line\">&#125;)(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Input</span> /&gt;</span></span>);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Â§ö‰∏™Ê†°È™åËßÑÂàôÂú®Ê†°È™åÊó∂ÂèçÈ¶àÂè™ÂçïÁã¨ÊòæÁ§∫‰∏ÄÊù°ËßÑÂàôÔºåÂΩìËØ•ËßÑÂàôÈÄöËøáÊó∂ÂÜçÊ†°È™å‰∏ãÊù°ËßÑÂàôÔºåÂèØ‰ª•ËÆæÁΩÆ <code>validateFirst: true</code></li>\n<li>Â¶ÇÊûúËß¶Âèë‰∫ã‰ª∂ÈúÄË¶ÅÂú®‰∏äÂ±ÇÂ§ÑÁêÜÔºåËÄåÊï∞ÊçÆÂú®ÂΩìÂâçÁªÑ‰ª∂Â≠òÂÇ®ÔºåÈÇ£‰πàÂèØ‰ª•Âú®ÂΩìÂâçÁªÑ‰ª∂ÂÅö‰∏ÄÂ±ÇÊã¶Êà™ÔºåÂú®ÂΩìÂâçÁªÑ‰ª∂‰∫ã‰ª∂Ëß¶Âèë <code>props</code> ‰º†ÂÖ•ÁöÑ‰∫ã‰ª∂„ÄÇ</li>\n<li>Êï∞ÁªÑÊìç‰ΩúÂ∞ëÁî® <code>push</code> Áõ¥Êé•Âú®ÂéüÊï∞ÁªÑ‰∏≠Êìç‰ΩúÁöÑÊñπÊ≥ïÔºåÂ§ö‰ΩøÁî® <code>concat</code> „ÄÅ <code>filter</code> Á≠âËøîÂõûÊñ∞Êï∞ÁªÑÁöÑÊñπÊ≥ïÔºàImmutable ÁöÑÊ¶ÇÂøµÔºâ</li>\n</ul>\n<h2 id=\"ÊÄªÁªìÊÄùËÄÉ\"><a href=\"#ÊÄªÁªìÊÄùËÄÉ\" class=\"headerlink\" title=\"ÊÄªÁªìÊÄùËÄÉ\"></a>ÊÄªÁªìÊÄùËÄÉ</h2><ul>\n<li>Â∫îËØ•ÂáèÂ∞ëÈúÄÊ±ÇÂäüËÉΩÂÆûÁé∞ÁöÑËÄóÊó∂ÔºåÊõ¥Â∫îËØ•ÂÖ≥Ê≥®Áî®Êà∑ÁöÑ‰ΩìÈ™å„ÄÅÁªÑ‰ª∂ËÆæËÆ°ÁöÑÂêàÁêÜÊÄßÂíåÂèØÊâ©Â±ïÊÄß„ÄÅÂäüËÉΩÁöÑÂèØÁî®ÊÄß„ÄÅÂäüËÉΩÁöÑ‰ºòÂåñ‰ª•ÂèäÊµãËØïÁöÑË¶ÜÁõñÊÄß</li>\n<li>Âõ†‰∏∫ËØ•È°πÁõÆÁöÑ‰∏ªË¶ÅÈúÄÊ±ÇÈÉΩÊòØÂü∫‰∫é antd Âü∫Á°ÄÁªÑ‰ª∂Â∫ìËøõË°å‰∏öÂä°ÁªÑ‰ª∂ÁöÑÂ∞ÅË£ÖÔºåÂõ†Ê≠§ÈÄÇÂΩìÂú∞Á†îÁ©∂ antd Â∫ïÂ±ÇÊ∫ê‰ª£Á†ÅÂèØ‰ª•Êõ¥Â•ΩÂú∞ÁêÜËß£ÁªÑ‰ª∂ËøêË°åÂéüÁêÜÔºåËÄå‰∏îËÉΩÂ≠¶‰π†Âà∞ÂæàÂ§ö React ÁªÑ‰ª∂‰ºòÁßÄÁöÑËÆæËÆ°Ê®°ÂºèÂíå‰ª£Á†Å‰π¶ÂÜôÊñπÂºè</li>\n<li>Á±ª‰ººÁöÑ‰∏öÂä°Ê®°ÂùóÂäüËÉΩÂèØËÉΩ‰ºöÁªèÂéÜÂ§öÊ¨°Ëø≠‰ª£ÔºåÂäüËÉΩÂèØÂ¢ûÂèØÂáèÔºåÂõ†Ê≠§ÂºÄÂèëÈúÄÊ±ÇÂâçÂØπÂäüËÉΩ‰∏öÂä°ÈúÄË¶ÅÊúâÈÄÇÂΩìÂú∞ÁêÜËß£ÔºåËøôÊúâÂä©‰∫éÂâçÁ´ØÂºÄÂèëÂØπÁªÑ‰ª∂Ê®°ÂùóÁöÑËÆæËÆ°ÔºåËÄåËÆæËÆ°ÁöÑÂêàÁêÜÊÄß‰∏ç‰ªÖÂú®Âá∫Áé∞ÈóÆÈ¢òÊó∂Âø´ÈÄüÂÆö‰ΩçÈîôËØØÔºåËÄå‰∏îËÉΩÊúâÊïàÂú∞ÂáèÂ∞ëÂêéÊúüÁª¥Êä§ÁöÑÊàêÊú¨</li>\n</ul>\n<h2 id=\"ÂèÇËÄÉËµÑÊñô\"><a href=\"#ÂèÇËÄÉËµÑÊñô\" class=\"headerlink\" title=\"ÂèÇËÄÉËµÑÊñô\"></a>ÂèÇËÄÉËµÑÊñô</h2><h3 id=\"Áõ∏ÂÖ≥ÂºÄÊ∫êÈ°πÁõÆ\"><a href=\"#Áõ∏ÂÖ≥ÂºÄÊ∫êÈ°πÁõÆ\" class=\"headerlink\" title=\"Áõ∏ÂÖ≥ÂºÄÊ∫êÈ°πÁõÆ\"></a>Áõ∏ÂÖ≥ÂºÄÊ∫êÈ°πÁõÆ</h3><ul>\n<li><a href=\"https://github.com/ant-design/ant-design\" target=\"_blank\" rel=\"noopener\">antd: ^3.12.0</a><ul>\n<li><a href=\"https://github.com/ant-design/ant-design/blob/master/components/form/index.en-US.md\" target=\"_blank\" rel=\"noopener\">FormComponent</a></li>\n<li><a href=\"https://github.com/react-component/form\" target=\"_blank\" rel=\"noopener\">rc-form</a></li>\n<li><a href=\"https://github.com/yiminghe/async-validator\" target=\"_blank\" rel=\"noopener\">async-validator</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/moment/moment\" target=\"_blank\" rel=\"noopener\">moment: ^2.22.1</a></li>\n</ul>\n<h3 id=\"ÂàÜÊûê\"><a href=\"#ÂàÜÊûê\" class=\"headerlink\" title=\"ÂàÜÊûê\"></a>ÂàÜÊûê</h3><ul>\n<li><a href=\"https://github.com/ant-design/ant-design/blob/master/components/form/docs/tutorial.md\" target=\"_blank\" rel=\"noopener\">Ë°®ÂçïÂÆûÁé∞ÂéüÁêÜ</a></li>\n<li><a href=\"https://juejin.im/post/5c47ffff51882533e05ef4f9\" target=\"_blank\" rel=\"noopener\">10 ÂàÜÈíüÁ≤æÈÄö Ant Design Form Ë°®Âçï</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/27740483?utm_medium=hao.caibaojian.com&amp;utm_source=hao.caibaojian.com\" target=\"_blank\" rel=\"noopener\">antd Ë°®ÂçïÊÄßËÉΩÁöÑÊîπËøõÂÆûË∑µ</a></li>\n<li><a href=\"https://redux-saga-in-chinese.js.org/docs/api/\" target=\"_blank\" rel=\"noopener\">Redux-sage API</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<h2 id=\"ÈúÄÊ±ÇÂàÜÊûê\"><a href=\"#ÈúÄÊ±ÇÂàÜÊûê\" class=\"headerlink\" title=\"ÈúÄÊ±ÇÂàÜÊûê\"></a>ÈúÄÊ±ÇÂàÜÊûê</h2><p>ÊúÄËøëÊé•Âà∞‰∏ÄÂùóÂÖ≥‰∫é‰øÉÈîÄÊ¥ªÂä®ÂäüËÉΩÁöÑÈúÄÊ±ÇÔºåÈô§‰∫ÜÂ∏∏ËßÑÁöÑÊï∞‰∏™Êó•ÂøóÁ±ªÂûãÂíåÁ≠õÈÄâÁªüËÆ°Á±ªÂûãÂ±ïÁ§∫ÁöÑÂàóË°®‰πãÂ§ñÔºåËøòÈúÄË¶ÅÂÆåÊàêÂÖ≥‰∫é‰øÉÈîÄÊ¥ªÂä®ÁöÑÂàõÂª∫‰∏éÁºñËæëÈ°µÈù¢ÁöÑÁªÑ‰ª∂ÂåñËÆæËÆ°„ÄÇ</p>\n<p>Ê¥ªÂä®ÁöÑÂàõÂª∫È°µÈù¢‰∏éÁºñËæëÈ°µÈù¢ÊòØ‰∏Ä‰∏™ÂàÜÊ≠•Ë°®ÂçïÔºåÂàÜÂà´‰∏∫Ê¥ªÂä®ÁöÑÂü∫Êú¨‰ø°ÊÅØ„ÄÅÈ¢ÜÂèñÊù°‰ª∂‰ª•Âèä‰ΩøÁî®Êù°‰ª∂‰∏â‰∏™ÈÉ®ÂàÜ„ÄÇ</p>\n<p>ÊåâÁÖßÂæÄÂ∏∏ÁöÑÂºÄÂèë‰π†ÊÉØÔºå‰ºöÊääËøôÂçï‰∏™È°µÈù¢ÁöÑÂàÜÊ≠•Ë°®ÂçïÁöÑ‰∏â‰∏™ÈÉ®ÂàÜÈÉΩÂÜôÂú®‰∏Ä‰∏™ÁªÑ‰ª∂ÂÜÖÔºå‰ΩÜÊòØËøôÊ†∑Â§ÑÁêÜÊòéÊòæÊòØ‰∏çÂêàÁêÜÁöÑÔºåÂõ†‰∏∫ÊåâÁÖßËøôÂá†‰∏™ÈÉ®ÂàÜÁöÑË°®ÂçïÈúÄÊ±ÇÊù•ÁúãÔºåËá≥Â∞ë‰πüÈúÄË¶Å‰∏äÂçÉË°åÁöÑ‰ª£Á†ÅÂÆûÁé∞ÔºåÊó†ËÆ∫‰ªé‰ª£Á†ÅÂèØËØªÊÄßÊàñËÄÖÂêéÊúüÁª¥Êä§ÁöÑ‰æøÂà©ÊÄßÊù•ËØ¥ÔºåÈÉΩÊòØ‰∏çÂèØÂèñÁöÑ„ÄÇÊâÄ‰ª•Â¶Ç‰ΩïÂêàÁêÜÂú∞ËÆæËÆ°Êï¥‰∏™Ë°®ÂçïÈ°µÂØπÊï¥‰∏™ÂäüËÉΩÁöÑÂÆûÁé∞‰ª•ÂèäÂêéÊúüÈúÄÊ±ÇËø≠‰ª£ÁöÑ‰æøÊç∑ÊÄßËá≥ÂÖ≥ÈáçË¶Å„ÄÇ</p>\n<p>ÈÄöËøáÁªÜÂàÜÂèØËÉΩÊ∂âÂèäÂà∞ÁöÑÈÄªËæëÈöæÁÇπÂÅö‰∫Ü‰ª•‰∏ãÂàÜÊûêÔºö</p>\n<ul>\n<li>È°∂Â±ÇÁªÑ‰ª∂‰∏ªË¶ÅË¥üË¥£ÂêÑ‰∏™Ê≠•È™§Ë°®ÂçïÁöÑÊ∏≤ÊüìÂàÜÂèëÂô®Ôºå‰ª•ÂèäÊï¥‰∏™ÂàÜÊ≠•Ë°®ÂçïÊèê‰∫§ÂâçÁõ∏ÂÖ≥Êï∞ÊçÆÂ§ÑÁêÜÔºåÂàÜÂèëÂô®ÈÄöËøáËÆæÂÆöÊ†áËØÜÂèòÈáèÊéßÂà∂Áî®Êà∑ÂèØËßÜÈÉ®ÂàÜË°®ÂçïÊ∏≤ÊüìÔºåÊï∞ÊçÆÂ§ÑÁêÜÂàôÈúÄË¶ÅÊ†πÊçÆÊé•Âè£ÈúÄÊ±ÇÁöÑÊï∞ÊçÆÁªìÊûÑËøõË°åËΩ¨Êç¢</li>\n<li>ÂèØËßÜË°®ÂçïÂú®ËøõÂÖ•‰∏ã‰∏Ä‰∏™Ê≠•È™§‰πãÂâçÈúÄË¶ÅÂØπÂΩìÂâçÊ≠•È™§Ë°®Âçï‰ø°ÊÅØËøõË°å‰ø°ÊÅØÊ†°È™å</li>\n<li>Ê†πÊçÆ antd Ë°®ÂçïÁªÑ‰ª∂ÁöÑËÆæËÆ°ÂéüÂàôÂ∞ÅË£ÖÂ§çÂêàË°®ÂçïÈ°πÔºàÂçïÈÄâ+Â§öÈÄâ+Êó∂Èó¥ÈÄâÊã©ËæìÂÖ•Ê°ÜÔºâ<ul>\n<li>Â§çÂêàË°®ÂçïÁªÑ‰ª∂ÊîØÊåÅÂ§çÁî®ÔºåÂπ∂Êèê‰æõ‰∏ÄÈîÆËá™Âä®Â°´ÂÖÖÂäüËÉΩ</li>\n<li>Âä®ÊÄÅÂ¢ûÂáèËæìÂÖ•Ê°ÜÊéß‰ª∂Âπ∂ÊîØÊåÅÊéß‰ª∂Èó¥ÁöÑ‰∏•Ê†ºËßÑÂàôÊ†°È™å</li>\n</ul>\n</li>\n<li>ÂÖºÂÆπÊñ∞Âª∫È°µÈù¢ÂíåÁºñËæëÈ°µÈù¢Ôºå‰∏ªË¶ÅÂå∫Âà´Âú®‰∫éÁºñËæëÈ°µÈù¢ÈúÄË¶ÅËé∑ÂèñÂπ∂ËÆæÁΩÆË°®ÂçïÈªòËÆ§ÂÄº</li>\n</ul>","more":"<h2 id=\"ÂàÜÊ≠•Ë°®ÂçïÂÆûË∑µÂàÜÊûê\"><a href=\"#ÂàÜÊ≠•Ë°®ÂçïÂÆûË∑µÂàÜÊûê\" class=\"headerlink\" title=\"ÂàÜÊ≠•Ë°®ÂçïÂÆûË∑µÂàÜÊûê\"></a>ÂàÜÊ≠•Ë°®ÂçïÂÆûË∑µÂàÜÊûê</h2><h3 id=\"ÂàÜÊ≠•Ë°®ÂçïÁªÑÁªáÁªìÊûÑ\"><a href=\"#ÂàÜÊ≠•Ë°®ÂçïÁªÑÁªáÁªìÊûÑ\" class=\"headerlink\" title=\"ÂàÜÊ≠•Ë°®ÂçïÁªÑÁªáÁªìÊûÑ\"></a>ÂàÜÊ≠•Ë°®ÂçïÁªÑÁªáÁªìÊûÑ</h3><p>Êï¥‰∏™ÂàÜÊ≠•Ë°®ÂçïÈ°µÈù¢‰ªé UI ‰∏äÂàíÂàÜÂ§ß‰Ωì‰∏äÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜÔºöÊ≠•È™§ËøõÂ∫¶Êù°„ÄÅÂØπÂ∫îÁöÑË°®ÂçïÈ°π‰ª•ÂèäÂàáÊç¢È°µÈù¢ÁöÑÊåâÈíÆÁªÑ„ÄÇ</p>\n<p>Ê†πÊçÆ <code>antd</code> ÁªÑ‰ª∂Â∫ìÁöÑË°®ÂçïËÆæËÆ°ÂéüÂàôÔºåÂ¶ÇÊûúÈúÄË¶Å Form ÁªÑ‰ª∂Ëá™Â∏¶ÁöÑÊî∂ÈõÜÊ†°È™åÂäüËÉΩÔºåÈúÄË¶Å‰ΩøÁî® <code>Form.create()</code> ÂØπËá™ÂÆö‰πâÁöÑÁªÑ‰ª∂ËøõË°åÂåÖË£ÖÔºåËÄå‰∏îÊØè‰∏™ÈúÄË¶ÅÊî∂ÈõÜÁöÑÂÄºËøòÈúÄË¶Å <code>getFieldDecorator</code> ËøõË°åÊ≥®ÂÜå„ÄÇ</p>\n<p><code>Form.create()</code> Áî®‰∫éÂàõÂª∫‰∏Ä‰∏™ÂÖ∑ÊúâÊ≥®ÂÜå„ÄÅÊî∂ÈõÜ„ÄÅÊ†°È™åÂäüËÉΩÁöÑÂÆû‰æã„ÄÇ</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Basic</span> <span class=\"keyword\">extends</span> <span class=\"title\">React</span>.<span class=\"title\">Component</span> </span>&#123;</span><br><span class=\"line\">  render()&#123;</span><br><span class=\"line\">    &lt;Form&gt;</span><br><span class=\"line\">      &lt;Form.Item&gt;</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          getFieldDecorator(<span class=\"string\">'expiration'</span>, &#123;</span><br><span class=\"line\">            initialValue: fields.expiration ? fields.expiration : <span class=\"literal\">undefined</span>,</span><br><span class=\"line\">            validateFirst: <span class=\"literal\">true</span>,</span><br><span class=\"line\">            rules: [</span><br><span class=\"line\">              &#123; <span class=\"attr\">required</span>: <span class=\"literal\">true</span>, <span class=\"attr\">message</span>: <span class=\"string\">'ÂøÖÂ°´'</span> &#125;</span><br><span class=\"line\">            ]</span><br><span class=\"line\">          &#125;)(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">SuffixInput</span> <span class=\"attr\">unit</span>=<span class=\"string\">\"Â§©\"</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">\"ËØ∑ËæìÂÖ•Êï¥Êï∞\"</span> /&gt;</span></span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/Form.Item&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    &lt;Form&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">  &#125;</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br><span class=\"line\"><span class=\"regexp\"></span></span><br><span class=\"line\"><span class=\"regexp\">Form.create()(Basic)</span></span><br></pre></td></tr></table></figure>\n<p>Êï¥‰∏™È°µÈù¢ÁöÑÊï∞ÊçÆÂÇ®Â≠òÊñπÂºèÂÜ≥ÂÆö‰∫ÜÊï¥‰∏™ÂàÜÊ≠•Ë°®ÂçïÁöÑÁªÑÁªáÁªìÊûÑÔºå‰πüÂÜ≥ÂÆö‰∫ÜÁºñÂÜô‰∏öÂä°ÈÄªËæëÊó∂ÂØπÊï∞ÊçÆÊµÅÁöÑÂ§ÑÁêÜÊñπÊ≥ï„ÄÇÂõ†Ê≠§ÊàëÂØπ‰∏§ÁßçÂäüËÉΩÊñπÊ°àËøõË°å‰∫ÜÂØπÊØî„ÄÇ</p>\n<h3 id=\"Êï∞ÊçÆÂ≠òÂÇ®ÊñπÊ°à\"><a href=\"#Êï∞ÊçÆÂ≠òÂÇ®ÊñπÊ°à\" class=\"headerlink\" title=\"Êï∞ÊçÆÂ≠òÂÇ®ÊñπÊ°à\"></a>Êï∞ÊçÆÂ≠òÂÇ®ÊñπÊ°à</h3><p><strong>È°∂Â±ÇÁªÑ‰ª∂</strong></p>\n<p><strong>ÈöîÂ±Ç‰º†ÈÄÅÔºö</strong> Â¶ÇÊûúÂú®È°∂Â±ÇÁªÑ‰ª∂ÂåÖË£ÖÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÊää Form ÂÜÖÈÉ®ÂàõÂª∫ÁöÑÂÆû‰æã‰ª•Âèä‰∏Ä‰∫õ‰øÆÈ•∞Âô® <code>getFieldDecorator</code>„ÄÅÊ†°È™åË°®ÂçïÂÄº <code>validateFields</code> Á≠âÊñπÊ≥ïÈÄöËøá Props ÂÜç‰º†ÈÄíÁªôÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂„ÄÇ</p>\n<p><strong>ÂêåÊ≠•Âç∏ËΩΩÔºö</strong> Âú®ÂØπÂΩìÂâçÊ≠•È™§Ë°®ÂçïÂ°´ÂÖÖÂÆåÊàêÂπ∂ÂàáÊç¢Ê≠•È™§ÂêéÂêéÔºå‰∏ä‰∏™Ê≠•È™§ÁöÑÁªÑ‰ª∂‰ºö‰ªéÈ°µÈù¢Âç∏ËΩΩÔºåÊúÄÁªàË°®ÂçïÊèê‰∫§Êó∂ÂÄô‰ºöÊó†Ê≥ïËé∑Âèñ‰πãÂâçÂ∑≤ÁªèÂ°´ÂÖÖÁöÑË°®ÂçïÁöÑÂÄº„ÄÇÂõ†‰∏∫Ëøô‰∫õÊ≠•È™§ÁöÑÁªÑ‰ª∂Âç∏ËΩΩÂêéÂ≠òÂÇ®Ë°®ÂçïÂÄºÁöÑÂÆû‰æã‰πü‰ºöÂêåÊó∂Âç∏ËΩΩ„ÄÇ</p>\n<p><strong>ÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂</strong></p>\n<p><strong>ÈúÄÂêåÊ≠•Êï∞ÊçÆÔºö</strong> Â¶ÇÊûúÂú®È°∂Â±ÇÁªÑ‰ª∂‰∏ãÁöÑÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂ËøõË°åÂåÖË£ÖÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÂú®ÂàáÊç¢‰∏ã‰∏™Ê≠•È™§ÂâçÂØπË°®ÂçïÂÄºËøõË°åÈ™åËØÅÔºåÈ™åËØÅÂ§±Ë¥•‰ºöËøõË°åÊã¶Êà™ÔºåËÄåÈ™åËØÅÊàêÂäüÂàô‰ºöÂ∞ÜÊï∞ÊçÆÊò†Â∞ÑÂà∞È°∂Â±ÇÁªÑ‰ª∂ÁöÑ State ‰∏≠ÔºåËØ•ÂàÜÊ≠•È™§ÁªÑ‰ª∂‰ª•Âèä Form ÂàõÂª∫ÁöÑË°®ÂçïÊï∞ÊçÆÂ≠òÂÇ®ÂÆû‰æãÂùá‰ºö‰∏ÄÂπ∂Âç∏ËΩΩ„ÄÇËã•È°µÈù¢ÂÜçÂàáÊç¢Âà∞ÂÖ∂‰ªñÊ≠•È™§ÁöÑÈ°µÈù¢Êó∂ÔºåÈúÄË¶Å‰ªé Props Ëé∑ÂèñËØ•Ê≠•È™§È°µÈù¢ÁöÑË°®ÂçïÂÄºÔºåÂÜçÈÄöËøá <code>initialValue</code> Êò†Â∞ÑÂà∞ Form ÁªÑ‰ª∂ÂÜÖÈÉ®ÁîüÊàêÁöÑÂÆû‰æã‰∏≠„ÄÇ</p>\n<p><strong>ÂäüËÉΩÊòéÁ°ÆÔºö</strong> ËøôÊ†∑ËÆæËÆ°ÁöÑÂ•ΩÂ§ÑÊòØÂ∞ÜÂêÑ‰∏™ÂàÜÊ≠•ÁöÑË°®ÂçïÂàÜ‰∏∫ÂçïÁã¨ÁöÑË°®ÂçïÁúãÂæÖÔºåÂäüËÉΩÂàÜÂ∑•Êõ¥Âä†ÊòéÁ°ÆÔºåÊó†ËÆ∫‰ªéÂäüËÉΩÂÆûÁé∞ËøòÊòØÂêéÊúüÁª¥Êä§‰∏äÂè™ÈúÄË¶ÅÂØπËØ•ÁªÑ‰ª∂ÂÜÖÁöÑ‰∏öÂä°ÈÄªËæëËøõË°å‰øÆÊîπÂç≥ÂèØÔºå‰∏çÁî®ÂÖºÂÆπÈ°∂Â±ÇÁªÑ‰ª∂ÁöÑÈÄªËæë„ÄÇ</p>\n<p><strong>ÂÖºÂÆπÈ°µÈù¢Ôºö</strong> Êõ¥ÈáçË¶ÅÁöÑÊòØÔºåÈ°∂Â±ÇÁªÑ‰ª∂ÂØπÂêÑ‰∏™Ê≠•È™§ÁöÑË°®ÂçïÂüüÂÄºËøõË°åÂàÜÂèëÔºåÂÜçÈÄöËøá <code>initialValue</code> ËÆæÁΩÆË°®ÂçïÈªòËÆ§ÂÄºÁöÑÊñπÂºèÂú®ÁºñËæëÈ°µÈù¢ÁöÑÂ∫îÁî®‰∏ä‰ºöÊõ¥Âä†ÂêàÁêÜ„ÄÇÂõ†Ê≠§ÊúÄÁªàÈááÁî®ÂØπÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂ËøõË°åÂ∞ÅË£ÖÁöÑÊñπÊ≥ï„ÄÇ</p>\n<h3 id=\"ÂêåÊ≠•Êï∞ÊçÆÁöÑÊó∂Êú∫\"><a href=\"#ÂêåÊ≠•Êï∞ÊçÆÁöÑÊó∂Êú∫\" class=\"headerlink\" title=\"ÂêåÊ≠•Êï∞ÊçÆÁöÑÊó∂Êú∫\"></a>ÂêåÊ≠•Êï∞ÊçÆÁöÑÊó∂Êú∫</h3><p>Â∞ΩÁÆ°Â∑≤ÁªèÂÜ≥ÂÆöÂú®ÂêÑ‰∏™Ê≠•È™§ÁªÑ‰ª∂‰∏≠ËøõË°å Form ÁªÑ‰ª∂ÂåÖË£ÖÔºå‰ΩÜÊòØÂè¶‰∏ÄÊñπÈù¢ÈúÄË¶ÅËÄÉËôëÂΩìÁî®Êà∑Â°´ÂÖÖÂäüËÉΩË°®ÂçïÊó∂Êï∞ÊçÆÊòØÂú®ÂàáÊç¢È°µÈù¢Êó∂Áªü‰∏ÄÊ†°È™åÂÜçÂ≠òÂÇ®Âú®‰∏äÁ∫ßÁªÑ‰ª∂ÔºåËøòÊòØÂÆûÊó∂Â≠òÂÇ®Âë¢„ÄÇ</p>\n<p>Â¶ÇÊûúÊòØÈááÁî®ÂÆûÊó∂Â≠òÂÇ®ÁöÑÊñπÊ°àÁöÑËØùÔºåÂèØ‰ª•‰ΩøÁî® AntDesign Êèê‰æõÁöÑÂÆòÊñπÊ°à‰æã <a href=\"https://ant.design/components/form-cn/#components-form-demo-global-state\" target=\"_blank\" rel=\"noopener\">Ë°®ÂçïÊï∞ÊçÆÂ≠òÂÇ®‰∫é‰∏äÂ±ÇÁªÑ‰ª∂</a> Ôºå‰ΩÜÊòØËøôÊó∂ÂÄô‰ºöÈù¢‰∏¥‰∏Ä‰∏™ÈóÆÈ¢òÊòØÔºåÊØèÊ¨°ÂèòÊõ¥ËæìÂÖ•Ê°ÜÂÜÖÁöÑÂÄºÊó∂ÈÉΩ‰ºöËß¶Âèë‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑ Re-Render ÔºåÂΩìÂàÜÊ≠•ÁªÑ‰ª∂‰∏≠Ë°®ÂçïÈ°πÊØîËæÉÂ§öÁöÑÊó∂ÂÄôÔºåÊàñËÄÖË°®ÂçïÈ°πÂµåÂ•óÁöÑÊòØ‰∏Ä‰∏™Â§çÊùÇÁöÑÈúÄË¶ÅÈ¢ëÁπÅÂèòÊõ¥ÂÄºÁöÑÊéß‰ª∂Â∞±ÂæàÂèØËÉΩÂá∫Áé∞È°µÈù¢Âç°È°øÁ≠âÁöÑÊÄßËÉΩÈóÆÈ¢ò„ÄÇ</p>\n<p>Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåÂç≥ÊòØÂÆûÊó∂Êõ¥Êñ∞Ë°®ÂçïÂüüÂÄºÁöÑÊï∞ÊçÆÂêåÊ≠•ÊñπÊ°àÔºö</p>\n<ul>\n<li>ÈÄöËøá Form ÁªÑ‰ª∂ÂÜÖÈÉ®ÁõëÂê¨ÂáΩÊï∞ onFieldsChange Ëé∑ÂèñÂÆûÊó∂ÂèòÂåñÁöÑË°®ÂçïÂÄºÔºåÂπ∂ÈÄöËøá‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑ <code>handleFormChange</code> Â≠òÂÇ®Âú® State ‰∏≠</li>\n<li>‰∏äÂ±ÇÁªÑ‰ª∂ State ÂèëÁîüÂèòÂåñÔºåË°®ÂçïÂÄºÈÄöËøá Props ‰º†ÈÄíÁªôÂ≠êÁªÑ‰ª∂ÔºåÂú®‰º†ÈÄíÁªôÂ≠êÁªÑ‰ª∂‰πãÂâç‰ºöÁªèËøá‰øÆÈ•∞Â≠êÁªÑ‰ª∂ÁöÑ Form ÁªÑ‰ª∂ÔºåÁªÑ‰ª∂ÂÜÖÈÉ®Êèê‰æõ <code>mapPropsToFields</code> ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïÁöÑ‰ΩúÁî®ÊòØÊääÁà∂ÁªÑ‰ª∂ÁöÑÂ±ûÊÄßÊò†Â∞ÑÂà∞Ë°®ÂçïÈ°π‰∏äÔºå‰ΩÜÊòØÈúÄË¶ÅÂØπËøîÂõûÂÄº‰∏≠ÁöÑË°®ÂçïÂüüÊï∞ÊçÆÁî® <code>Form.createFormField</code> Ê†áËÆ∞</li>\n</ul>\n<p><img src=\"https://img.mrsingsing.com/ant-form-real-time-synchronization.png\" alt=\"real-time-synchronization\"></p>\n<p>ÂàáÊç¢È°µÈù¢Êó∂ËøõË°åÊï∞ÊçÆÈ™åËØÅÂπ∂ÂêåÊ≠•Âà∞‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑÊï∞ÊçÆÂêåÊ≠•ÊñπÊ°àÔºö</p>\n<ul>\n<li>ÂΩìÁî®Êà∑ÂØπË°®ÂçïËøõË°åÂ°´ÂÖÖÊó∂ÔºåË°®ÂçïÂÄºÁöÑÂèòÂåñ‰ºöÂÆûÊó∂ÂèçÊò†Âà∞ Form ÁªÑ‰ª∂ÂÜÖÈÉ®ÊûÑÂª∫ÁöÑ FieldsStore ÂÆû‰æã‰∏≠ÔºåÈ©±Âä® Child ÁªÑ‰ª∂ Re-Render</li>\n<li>ÂΩìÁî®Êà∑Â°´ÂÖÖÂÆåÊØïÂπ∂Êèê‰∫§ÂΩìÂâçÊ≠•È™§ÁöÑË°®ÂçïÊó∂ÔºåËß¶Âèë‰∏äÂ±ÇÁªÑ‰ª∂ handleFormChange ËøõË°åÊï∞ÊçÆÂêåÊ≠•</li>\n</ul>\n<p>Êï¥‰∏™ÊµÅÁ®ãÁõ∏ÊØîÂÆûÊó∂Â≠òÂÇ®ÁöÑÊñπÊ°à‰ºöÊõ¥Âä†ÁÆÄÊ¥ÅÔºåÂáèÂ∞ëÂõ†Êï∞ÊçÆÂêåÊ≠•ÂØºËá¥‰∏äÂ±ÇÁªÑ‰ª∂ Re-Render„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/ant-form-verifying-synchronization.png\" alt=\"verifying-synchronization\"></p>\n<h3 id=\"ÂºÇÊ≠•ËØ∑Ê±ÇÂ§ÑÁêÜÊñπÊ°à\"><a href=\"#ÂºÇÊ≠•ËØ∑Ê±ÇÂ§ÑÁêÜÊñπÊ°à\" class=\"headerlink\" title=\"ÂºÇÊ≠•ËØ∑Ê±ÇÂ§ÑÁêÜÊñπÊ°à\"></a>ÂºÇÊ≠•ËØ∑Ê±ÇÂ§ÑÁêÜÊñπÊ°à</h3><p>Ë°®ÂçïÁºñËæëÈ°µÂú®Âä†ËΩΩÈ°µÈù¢Êó∂ÔºåÈÄöËøá Model ËøõË°åÂºÇÊ≠•ÂêëÊúçÂä°Âô®ËØ∑Ê±ÇÊï∞ÊçÆÔºåËÄåÂΩìÊúçÂä°Âô®ÂìçÂ∫îËøîÂõûÊµèËßàÂô®ËøôÊÆµÊó∂Èó¥ÔºåÈ°µÈù¢ÁöÑÁªÑ‰ª∂Â∑≤ÁªèÂÆåÊàêÂàùÂßãÂåñÈò∂ÊÆµÂπ∂ÊåÇËΩΩÂà∞ÊµèËßàÂô® DOM Ê†ë‰∏≠„ÄÇ</p>\n<p>Â¶ÇÊûúÊåâÁÖßÊñ∞Âª∫È°µÈù¢Ê†πÊçÆÈ°∂Â±ÇÁªÑ‰ª∂ÁöÑÁä∂ÊÄÅÂêëÂ∫ïÂ±ÇÁªÑ‰ª∂‰º†ÈÄíË°®ÂçïÂüüÂÄºÔºåÂπ∂‰∫éÂêÑ‰∏™Ë°®ÂçïÈ°πÂàùÂßãÂåñÊó∂‰ΩøÁî® <code>initialValue</code> ËÆæÁΩÆË°®ÂçïÁöÑÂàùÂßãÂÄºÔºåËØ•ÂÄº‰ºöÁî±‰∫éÁªÑ‰ª∂ÂàùÂßãÂåñ‰∏éÂºÇÊ≠•ËØ∑Ê±ÇÂìçÂ∫î‰πãÈó¥Â≠òÂú®Êó∂Èó¥Â∑ÆËÄåÂ§±ÊïàÔºåÂõ†Ê≠§ÈúÄË¶ÅÊèê‰æõ‰∏ÄÁßçÊñπÊ°àÁ≠âÂæÖÂºÇÊ≠•ËØ∑Ê±ÇÂìçÂ∫îÂêéÂÜçÂØπÂ∫ïÂ±ÇÁªÑ‰ª∂ËøõË°åÂàùÂßãÂåñÊ∏≤Êüì„ÄÇ</p>\n<p>Êó¢ÁÑ∂Â∫ïÂ±ÇÁªÑ‰ª∂ÈúÄË¶ÅÂØπË°®ÂçïÂüüÂÄºËøõË°åÂàùÂßãÂåñÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÊâãÂä®ËÆæÁΩÆÈòªÂ°ûÁ≠âÂæÖÊï∞ÊçÆÂìçÂ∫îÂêéÊâçÂØπÂ∫ïÂ±ÇÁªÑ‰ª∂Ê∏≤Êüì„ÄÇ</p>\n<p><strong>ÁÆÄÊòìÁ§∫‰æãÔºö</strong></p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">static</span> getDerviedStateFromProps(nextProps, prevState)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (</span><br><span class=\"line\">    !isEmptyObject(dataDetail) &amp;&amp;</span><br><span class=\"line\">    !isEmptyArray(dataList) &amp;&amp;</span><br><span class=\"line\">    !prevState.isInitial</span><br><span class=\"line\">  )&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ...Logic Disposal</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      basic, receipt, usage, <span class=\"attr\">isInitial</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">null</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÈÄöËøáÁîüÂëΩÂë®ÊúüÂáΩÊï∞ <code>getDerivedStateFromProps</code> Ê†πÊçÆ Model ‰º†ÂÖ•ÁöÑ Store ÂÜçËΩ¨Â≠òÂà∞È°∂Â±ÇÁªÑ‰ª∂ÁöÑÁä∂ÊÄÅ‰∏≠ÔºåËøôÈáåËÆæÁΩÆ‰∫ÜÁä∂ÊÄÅ <code>isInitial</code> Áî®‰∫éÂà§Êñ≠ÊòØÂê¶‰∏∫ÂºÇÊ≠•ËØ∑Ê±ÇÂìçÂ∫îÂêéÁöÑÂàùÊ¨°Ëß¶ÂèëÔºåÁõÆÁöÑÊòØÈÅøÂÖç Props ÂèòÂåñÊàñËÄÖÈ°∂Â±ÇÁªÑ‰ª∂ÁöÑÁà∂ÁªÑ‰ª∂ÈáçÊ∏≤ÊüìÂØºËá¥ËØ•ÁîüÂëΩÂë®ÊúüÂáΩÊï∞Ëß¶Âèë„ÄÇ</p>\n<p>Èô§‰∫ÜÂú® <code>getDerivedStateFromProps</code> ÂØπ State ËµãÂÄºÁöÑÊìç‰ΩúËøõË°åÊã¶Êà™Â§ñÔºåËøòÈúÄË¶ÅÂú®ÁªÑ‰ª∂Ê∏≤ÊüìÊéßÂà∂Âô®ËÆæÂÆöÂä†ËΩΩÂä®ÊïàÔºå‰ª•Â∫¶ËøáÁ≠âÂæÖÂºÇÊ≠•ËØ∑Ê±ÇÁöÑÊó∂Èó¥ÔºåËÉΩÊúâÊïàÁºìËß£Áî®Êà∑ÁöÑÁÑ¶Ëôë„ÄÇ</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getCurrentStepComponent(current) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> canRendering = [basic, receipt, usage].every(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> !isEmptyObject(item));</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!canRendering) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (</span><br><span class=\"line\">      &lt;div className=&#123;styles.spin&#125;&gt;</span><br><span class=\"line\">        &lt;Spin style=&#123;&#123; <span class=\"attr\">margin</span>: <span class=\"number\">32</span> &#125;&#125;/&gt;</span><br><span class=\"line\">      &lt;<span class=\"regexp\">/div&gt;</span></span><br><span class=\"line\"><span class=\"regexp\">    );</span></span><br><span class=\"line\"><span class=\"regexp\">  &#125;</span></span><br><span class=\"line\"><span class=\"regexp\">  /</span><span class=\"regexp\">/ Return SubComponent to render</span></span><br><span class=\"line\"><span class=\"regexp\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"Â§çÂêàË°®ÂçïÈ°πËÆæËÆ°ÂàÜÊûê\"><a href=\"#Â§çÂêàË°®ÂçïÈ°πËÆæËÆ°ÂàÜÊûê\" class=\"headerlink\" title=\"Â§çÂêàË°®ÂçïÈ°πËÆæËÆ°ÂàÜÊûê\"></a>Â§çÂêàË°®ÂçïÈ°πËÆæËÆ°ÂàÜÊûê</h2><h3 id=\"Âä®ÊÄÅÂ¢ûÂáèÂ§çÂêàÁªÑ‰ª∂\"><a href=\"#Âä®ÊÄÅÂ¢ûÂáèÂ§çÂêàÁªÑ‰ª∂\" class=\"headerlink\" title=\"Âä®ÊÄÅÂ¢ûÂáèÂ§çÂêàÁªÑ‰ª∂\"></a>Âä®ÊÄÅÂ¢ûÂáèÂ§çÂêàÁªÑ‰ª∂</h3><p>Âú®È¢ÜÂèñÊù°‰ª∂ÁöÑÂàÜÊ≠•Ë°®Âçï‰∏≠ÈúÄË¶ÅËÆæËÆ°‰∏Ä‰∏™Â§çÂêàÁªÑ‰ª∂Áî®‰∫éËÆæÂÆö‰øÉÈîÄ‰ºòÊÉ†Âà∏‰ΩøÁî®ÁöÑÊó∂Èó¥ÊÆµ„ÄÇ</p>\n<p>‰∏ªË¶ÅÂåÖÂê´‰ª•‰∏ãÂäüËÉΩ‰ª•ÂèäÁõ∏ÂÖ≥ËßÑÂàôÔºö</p>\n<ul>\n<li>Âü∫Á°ÄÁªÑ‰ª∂ÁªÑÂêà<ul>\n<li>ÂçïÈ°πÈÄâÊã©ÁªÑ‰ª∂ÔºöÁî®‰∫éÊéßÂà∂ÂÖ∂‰ΩôÂü∫Á°ÄÁªÑ‰ª∂ÈöêËóè‰∏éÊòæÁ§∫</li>\n<li>Â§öÈ°πÈÄâÊã©ÁªÑ‰ª∂ÔºöÈÄâÊã©Âë®‰∏ÄËá≥Âë®Êó•ÁöÑÂ§öÈÄâËæìÂÖ•Ê°Ü</li>\n<li>Êó∂Èó¥ÈÄâÊã©ÁªÑ‰ª∂ÔºöÊØèÈ°π‰∏∫Êó∂ÂàÜ‰∏∫ÂÖÉÁ¥†ÁöÑÊó∂Èó¥ÊÆµÈÄâÊã©ËæìÂÖ•Ê°Ü</li>\n</ul>\n</li>\n<li>Êó∂Èó¥ÈÄâÊã©ÁªÑ‰ª∂ÊîØÊåÅÂä®ÊÄÅÂ¢ûÂáèÔºåËá≥Â∞ëÂ≠òÂú®‰∏Ä‰∏™ÔºåËá≥Â§öÂ≠òÂú®‰∫î‰∏™</li>\n<li>ÊîØÊåÅË°®ÂçïÊ†°È™åÔºåÊó∂Èó¥ËåÉÂõ¥ÈÄâÊã©ÂøÖÈ°ªÂêàÊ≥ïÔºå‰∏îÂ§ö‰∏™Êó∂Èó¥ËåÉÂõ¥Èó¥‰∏çËÉΩÂ≠òÂú®ÈáçÂè†ÊÉÖÂÜµ</li>\n</ul>\n<p>Ê†πÊçÆ AntDesign ÁöÑÊñáÊ°£Êèê‰æõÁöÑÁõ∏ÂÖ≥ÂÆûÁé∞ÊñπÊ≥ïÔºåËøôÈáåÊúâ‰∏§ÁßçÂÆûÁé∞ÊñπÊ°àÔºö</p>\n<ul>\n<li>‰∏ÄÁßçÊòØËá™ÂÆö‰πâË°®ÂçïÊéß‰ª∂ÔºåÂ∞ÜÂ§öÁßçÁ±ªÂûãÁöÑÂü∫Á°ÄÁªÑ‰ª∂Á≥ÖÂêàÂú®‰∏ÄËµ∑ÔºåÂ§ö‰∏™Â≠óÊÆµÁªºÂêà‰∏∫‰∏Ä‰∏™ÂØπË±°ÔºåÂ≠òÂÇ®Âú®‰∏Ä‰∏™‰∏äÂ±ÇÂ≠óÊÆµ‰∏≠Ôºà‰∏äÂ±ÇÂ≠óÊÆµ‰∏éÂÖ∂‰ªñË°®ÂçïÈ°πÂπ≥Á∫ßÔºâ</li>\n</ul>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> data = &#123;</span><br><span class=\"line\">  name: <span class=\"string\">'Foo'</span>,</span><br><span class=\"line\">  interval: &#123;</span><br><span class=\"line\">    type: <span class=\"string\">'ALL'</span>,</span><br><span class=\"line\">    week: [<span class=\"string\">'1'</span>, <span class=\"string\">'2'</span>, <span class=\"string\">'3'</span>]</span><br><span class=\"line\">    interval: [</span><br><span class=\"line\">      &#123; <span class=\"attr\">startTime</span>: <span class=\"string\">'08:00'</span>, <span class=\"attr\">endTime</span>: <span class=\"string\">'10:00'</span>&#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">startTime</span>: <span class=\"string\">'12:00'</span>, <span class=\"attr\">endTime</span>: <span class=\"string\">'14: 00'</span>&#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>‰∏ÄÁßçÊòØÊ†πÊçÆÂä®ÊÄÅÂ¢ûÂáèË°®ÂçïÈ°πÔºåÂ∞ÜÂ§ö‰∏™Á±ªÂûãÁöÑÂü∫Á°ÄÁªÑ‰ª∂ÁîüÊàêÂ§ö‰∏™Â≠óÊÆµÔºå‰∏éÂÖ∂‰ªñË°®ÂçïÈ°πÂπ≥Á∫ß„ÄÇ<a href=\"https://ant.design/components/form-cn/#components-form-demo-dynamic-form-item\" target=\"_blank\" rel=\"noopener\">ÂÆòÊñπÁ§∫‰æãÂÆûÁé∞</a></li>\n</ul>\n<p>‰ªéÈúÄÊ±ÇÂá∫ÂèëÔºåÊó†ËÆ∫Âá∫ÂéüÂûãËÆæËÆ°‰∏äËøòÊòØÂâçÁ´ØÁªÑ‰ª∂ËÆæËÆ°‰∏äÔºåÈÉΩÂ∫îËØ•‰øùÊåÅÂäüËÉΩ‰∏ÄËá¥Ôºå‰πüÂ∞±ÊòØËØ¥Ëøô‰∏™ÁªÑ‰ª∂Â∫îËØ•Â∞ÅË£ÖÊàêÂçïÁã¨ÁöÑÁªÑ‰ª∂ÔºåÁªÑ‰ª∂ÂÜÖÈÉ®ÊúâÊéßÂà∂ÂºÄÂÖ≥ÔºåÊ†πÊçÆÂçïÈ°πÈÄâÊã©Â±ïÁ§∫‰∏çÂêåÁöÑÊ¨°Á∫ßË°®ÂçïÈ°πÔºåËÄå‰∏îÂä®ÊÄÅÂ¢ûÂáèÁöÑÂè™ÊòØÊó∂Èó¥ÊÆµËæìÂÖ•Ê°ÜÔºåËÄå‰∏éÂçïÈ°πÈÄâÊã©ÂíåÊó•ÊúüÈÄâÊã©Êó†ÂÖ≥ÔºåÂõ†Ê≠§Â∞ÜÂ§ö‰∏™Âü∫Á°ÄÁªÑ‰ª∂Â∞ÅË£ÖËµ∑Êù•Âπ∂ÈÄöËøá Ant Design Êèê‰æõÁöÑËá™ÂÆö‰πâË°®ÂçïÊéß‰ª∂ÁöÑÁªÑÂêàÊ®°ÂºèËÉΩÂ§üÊõ¥ÂêàÁêÜÂú∞ÂÆûÁé∞Ê≠§ÂäüËÉΩ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/ant-form-time-interval-exhibition.gif\" alt=\"time-interval-exhibition\"></p>\n<h2 id=\"Form-ÁªÑ‰ª∂‰ΩøÁî®ÊÄªÁªì\"><a href=\"#Form-ÁªÑ‰ª∂‰ΩøÁî®ÊÄªÁªì\" class=\"headerlink\" title=\"Form ÁªÑ‰ª∂‰ΩøÁî®ÊÄªÁªì\"></a>Form ÁªÑ‰ª∂‰ΩøÁî®ÊÄªÁªì</h2><ul>\n<li>‰ΩøÁî® Radio / Checked Ëøô‰∫õÈÄâÊã©ÁªÑ‰ª∂ÊòØ‰∏çÊé®Ëçê‰ΩøÁî® feedback #issue</li>\n<li>input Âú®Êåâ Tab ÂàáÊç¢ÊñáÊú¨ËæìÂÖ•Ê°ÜÊó∂‰∏çËé∑ÂèñÁÑ¶ÁÇπÁöÑÊñπÊ≥ïÔºöÂ∞Ü input ÁöÑ tabindex ËÆæÁΩÆ‰∏∫ -1</li>\n<li>input ‰∏çË¢´ÈÄâ‰∏≠ÁöÑÊñπÊ≥ïÔºöËÆæÁΩÆ readonly Âè™ËØªÂ±ûÊÄß</li>\n<li>input ÂèñÊ∂àÊµèËßàÂô®Êèê‰æõÁöÑËá™Âä®Â°´ÂÖÖ <code>autoComplete=off</code></li>\n<li>Áî± getFieldDecorator ÂåÖË£πÁöÑË°®ÂçïÁªÑ‰ª∂ÈªòËÆ§ÂÄº‰∏∫ <code>undefined</code> ËÄåÈùû <code>null</code> ÊàñËÄÖ <code>&#39;&#39;</code></li>\n</ul>\n<p>ÊØîÂ¶ÇËÆæÁΩÆÈªòËÆ§ÂÄºÂèØ‰ª•ËøôÊ†∑ËÆæÁΩÆ</p>\n<figure class=\"highlight jsx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getFieldDecorator(<span class=\"string\">'name'</span>, &#123;</span><br><span class=\"line\">  initialValue: fields.name ? fields.name : <span class=\"literal\">undefined</span>,</span><br><span class=\"line\">  rules: [],</span><br><span class=\"line\">&#125;)(<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">Input</span> /&gt;</span></span>);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Â§ö‰∏™Ê†°È™åËßÑÂàôÂú®Ê†°È™åÊó∂ÂèçÈ¶àÂè™ÂçïÁã¨ÊòæÁ§∫‰∏ÄÊù°ËßÑÂàôÔºåÂΩìËØ•ËßÑÂàôÈÄöËøáÊó∂ÂÜçÊ†°È™å‰∏ãÊù°ËßÑÂàôÔºåÂèØ‰ª•ËÆæÁΩÆ <code>validateFirst: true</code></li>\n<li>Â¶ÇÊûúËß¶Âèë‰∫ã‰ª∂ÈúÄË¶ÅÂú®‰∏äÂ±ÇÂ§ÑÁêÜÔºåËÄåÊï∞ÊçÆÂú®ÂΩìÂâçÁªÑ‰ª∂Â≠òÂÇ®ÔºåÈÇ£‰πàÂèØ‰ª•Âú®ÂΩìÂâçÁªÑ‰ª∂ÂÅö‰∏ÄÂ±ÇÊã¶Êà™ÔºåÂú®ÂΩìÂâçÁªÑ‰ª∂‰∫ã‰ª∂Ëß¶Âèë <code>props</code> ‰º†ÂÖ•ÁöÑ‰∫ã‰ª∂„ÄÇ</li>\n<li>Êï∞ÁªÑÊìç‰ΩúÂ∞ëÁî® <code>push</code> Áõ¥Êé•Âú®ÂéüÊï∞ÁªÑ‰∏≠Êìç‰ΩúÁöÑÊñπÊ≥ïÔºåÂ§ö‰ΩøÁî® <code>concat</code> „ÄÅ <code>filter</code> Á≠âËøîÂõûÊñ∞Êï∞ÁªÑÁöÑÊñπÊ≥ïÔºàImmutable ÁöÑÊ¶ÇÂøµÔºâ</li>\n</ul>\n<h2 id=\"ÊÄªÁªìÊÄùËÄÉ\"><a href=\"#ÊÄªÁªìÊÄùËÄÉ\" class=\"headerlink\" title=\"ÊÄªÁªìÊÄùËÄÉ\"></a>ÊÄªÁªìÊÄùËÄÉ</h2><ul>\n<li>Â∫îËØ•ÂáèÂ∞ëÈúÄÊ±ÇÂäüËÉΩÂÆûÁé∞ÁöÑËÄóÊó∂ÔºåÊõ¥Â∫îËØ•ÂÖ≥Ê≥®Áî®Êà∑ÁöÑ‰ΩìÈ™å„ÄÅÁªÑ‰ª∂ËÆæËÆ°ÁöÑÂêàÁêÜÊÄßÂíåÂèØÊâ©Â±ïÊÄß„ÄÅÂäüËÉΩÁöÑÂèØÁî®ÊÄß„ÄÅÂäüËÉΩÁöÑ‰ºòÂåñ‰ª•ÂèäÊµãËØïÁöÑË¶ÜÁõñÊÄß</li>\n<li>Âõ†‰∏∫ËØ•È°πÁõÆÁöÑ‰∏ªË¶ÅÈúÄÊ±ÇÈÉΩÊòØÂü∫‰∫é antd Âü∫Á°ÄÁªÑ‰ª∂Â∫ìËøõË°å‰∏öÂä°ÁªÑ‰ª∂ÁöÑÂ∞ÅË£ÖÔºåÂõ†Ê≠§ÈÄÇÂΩìÂú∞Á†îÁ©∂ antd Â∫ïÂ±ÇÊ∫ê‰ª£Á†ÅÂèØ‰ª•Êõ¥Â•ΩÂú∞ÁêÜËß£ÁªÑ‰ª∂ËøêË°åÂéüÁêÜÔºåËÄå‰∏îËÉΩÂ≠¶‰π†Âà∞ÂæàÂ§ö React ÁªÑ‰ª∂‰ºòÁßÄÁöÑËÆæËÆ°Ê®°ÂºèÂíå‰ª£Á†Å‰π¶ÂÜôÊñπÂºè</li>\n<li>Á±ª‰ººÁöÑ‰∏öÂä°Ê®°ÂùóÂäüËÉΩÂèØËÉΩ‰ºöÁªèÂéÜÂ§öÊ¨°Ëø≠‰ª£ÔºåÂäüËÉΩÂèØÂ¢ûÂèØÂáèÔºåÂõ†Ê≠§ÂºÄÂèëÈúÄÊ±ÇÂâçÂØπÂäüËÉΩ‰∏öÂä°ÈúÄË¶ÅÊúâÈÄÇÂΩìÂú∞ÁêÜËß£ÔºåËøôÊúâÂä©‰∫éÂâçÁ´ØÂºÄÂèëÂØπÁªÑ‰ª∂Ê®°ÂùóÁöÑËÆæËÆ°ÔºåËÄåËÆæËÆ°ÁöÑÂêàÁêÜÊÄß‰∏ç‰ªÖÂú®Âá∫Áé∞ÈóÆÈ¢òÊó∂Âø´ÈÄüÂÆö‰ΩçÈîôËØØÔºåËÄå‰∏îËÉΩÊúâÊïàÂú∞ÂáèÂ∞ëÂêéÊúüÁª¥Êä§ÁöÑÊàêÊú¨</li>\n</ul>\n<h2 id=\"ÂèÇËÄÉËµÑÊñô\"><a href=\"#ÂèÇËÄÉËµÑÊñô\" class=\"headerlink\" title=\"ÂèÇËÄÉËµÑÊñô\"></a>ÂèÇËÄÉËµÑÊñô</h2><h3 id=\"Áõ∏ÂÖ≥ÂºÄÊ∫êÈ°πÁõÆ\"><a href=\"#Áõ∏ÂÖ≥ÂºÄÊ∫êÈ°πÁõÆ\" class=\"headerlink\" title=\"Áõ∏ÂÖ≥ÂºÄÊ∫êÈ°πÁõÆ\"></a>Áõ∏ÂÖ≥ÂºÄÊ∫êÈ°πÁõÆ</h3><ul>\n<li><a href=\"https://github.com/ant-design/ant-design\" target=\"_blank\" rel=\"noopener\">antd: ^3.12.0</a><ul>\n<li><a href=\"https://github.com/ant-design/ant-design/blob/master/components/form/index.en-US.md\" target=\"_blank\" rel=\"noopener\">FormComponent</a></li>\n<li><a href=\"https://github.com/react-component/form\" target=\"_blank\" rel=\"noopener\">rc-form</a></li>\n<li><a href=\"https://github.com/yiminghe/async-validator\" target=\"_blank\" rel=\"noopener\">async-validator</a></li>\n</ul>\n</li>\n<li><a href=\"https://github.com/moment/moment\" target=\"_blank\" rel=\"noopener\">moment: ^2.22.1</a></li>\n</ul>\n<h3 id=\"ÂàÜÊûê\"><a href=\"#ÂàÜÊûê\" class=\"headerlink\" title=\"ÂàÜÊûê\"></a>ÂàÜÊûê</h3><ul>\n<li><a href=\"https://github.com/ant-design/ant-design/blob/master/components/form/docs/tutorial.md\" target=\"_blank\" rel=\"noopener\">Ë°®ÂçïÂÆûÁé∞ÂéüÁêÜ</a></li>\n<li><a href=\"https://juejin.im/post/5c47ffff51882533e05ef4f9\" target=\"_blank\" rel=\"noopener\">10 ÂàÜÈíüÁ≤æÈÄö Ant Design Form Ë°®Âçï</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/27740483?utm_medium=hao.caibaojian.com&amp;utm_source=hao.caibaojian.com\" target=\"_blank\" rel=\"noopener\">antd Ë°®ÂçïÊÄßËÉΩÁöÑÊîπËøõÂÆûË∑µ</a></li>\n<li><a href=\"https://redux-saga-in-chinese.js.org/docs/api/\" target=\"_blank\" rel=\"noopener\">Redux-sage API</a></li>\n</ul>"},{"title":"ÈæôÁå´ X Âü∫‰∫é‰∫ã‰ª∂ÈìæÁöÑËá™Âä®ÂåñÊµãËØïÊñπÊ°àÂ§çÁõò","date":"2020-03-01T00:00:00.000Z","_content":"\n**Â§ßÁ∫≤Ôºö**\n\n- Âü∫‰∫éÈæôÁå´ X ‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®\n- ‰ΩøÁî® Egg Âíå Socket.IO Êê≠Âª∫Ëá™Âä®ÂåñÊµãËØïÊúçÂä°\n- Âà©Áî® Puppeteer ËøõË°åËá™Âä®ÂåñÊµãËØï\n- ÊµãËØïÁî®‰æãÁöÑÊâßË°åÊñπÊ°àÁ†îËÆ®\n\nÈæôÁå´ X ‰Ωú‰∏∫ÊúçÂä°‰∫é‰∫ßÂìÅ„ÄÅËøêËê•„ÄÅÂºÄÂèëÁöÑÈ°µÈù¢Êê≠Âª∫Âπ≥Âè∞ÔºåÈÄöËøáÂèØËßÜÂåñÁöÑÊãñÊãΩ„ÄÅÈÖçÁΩÆÁîüÊàê‰∏öÂä°ÊâÄÈúÄÁöÑÂêÑÁßçÈ°µÈù¢„ÄÇÂú®Êó•Â∏∏ÁöÑÂºÄÂèë‰∏≠ÔºåÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÈÉΩÊòØÁî±ËøêËê•Áõ¥Êé•ÂÆåÊàêÈúÄÊ±ÇÔºåÊàñÊòØËøêËê•‰∫ßÂìÅÁõ¥Êé•Êèê‰∫§Â∑•ÂçïÂêéÁî±ÂºÄÂèëËøõË°åÂÆåÊàêÔºåÊµãËØïÂú®ËØÑÂÆ°Èò∂ÊÆµÁöÑÂèÇ‰∏éÁéá‰∏çÈ´ò„ÄÇËøôÂ∞±ÂØºËá¥ÊµãËØïÂú®ÂäüËÉΩÈ°µÈù¢ÁöÑÊµãËØï‰∏≠Êó†Ê≥ïÂÖ®Êñπ‰ΩçÂú∞Ê£ÄÊµãÈ°µÈù¢ÁöÑÂäüËÉΩÊïàÊûúÔºåÂêåÊó∂‰πüÁî±‰∫éÈæôÁå´ X È°πÁõÆÊµãËØïÂ∞ëÊúâÂèÇ‰∏éÔºåÊµãËØïÂèÇ‰∏éÁöÑÂ§öÊòØÁªèÁî±ÈæôÁå´ X ÁîüÊàêÁöÑÈ°µÈù¢ÁöÑÂäüËÉΩÊµãËØïÔºåÊâÄ‰ª•ÊµãËØïÂØπ‰∫éÈæôÁå´ X È°µÈù¢ÁöÑÂÜÖÂú®ÈÄªËæë‰πüÁº∫‰πè‰∫ÜËß£„ÄÇÂõ†Ê≠§Ôºå‰∏∫ÊµãËØïÊñπÊèê‰æõËÉΩÊéåÊè°ÈæôÁå´ X È°µÈù¢ÈÄªËæëÂÖ≥Á≥ªÁöÑÂ∑•ÂÖ∑ÂØπÊèêÂçáÈ°µÈù¢ÁöÑËøêË°åË¥®ÈáèÂÖ∑ÊúâÈáçË¶ÅÊÑè‰πâ„ÄÇ\n\nÊú¨ÊñáÈíàÂØπ‰∏äËø∞ÊÉÖÂÜµÔºåÂõ¢ÈòüÂºÄÂèëÂá∫ÈíàÂØπÈæôÁå´ X ÁöÑ‰∫ã‰ª∂ÈìæËá™Âä®ÂåñÊµãËØïÊñπÊ°àÔºåÁî±‰∫é‰∏é‰∏öÂä°ËÄ¶ÂêàÂ∫¶ÊûÅÈ´òÔºåÂèØËÉΩÂØπÂÖ∂‰ªñÂÖ¨Âè∏Âõ¢ÈòüÊú™ÂøÖÂÖ∑ÊúâÈÄöÁî®ÊÄßÔºåÊùÉÂΩìÊäÄÊúØÊñπÊ°àÂèÇËÄÉ‰∏é‰∫§ÊµÅ„ÄÇ\n\n<!-- more -->\n\nÂºÄÂßãÂâçÔºåÁõ¥Êé•ÊäõÂá∫Êï¥‰∏™‰∏öÂä°ÊµÅÁ®ãÁöÑÊ®°ÂºèÂõæÔºå‰ª•‰æøÂØπËØ•ÂäüËÉΩÊúâ‰∏™ÂÖ®Ë≤åÁöÑËÆ§Áü•„ÄÇ\n\n![Ëá™Âä®ÂåñÊµãËØï‰∏öÂä°ÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/automatation-test-workflow.jpg)\n\nÁÆÄÂçïÈòêËø∞‰∏Ä‰∏ãÂèÇ‰∏éÊµÅÁ®ãÁöÑÂá†‰∏™ÊúçÂä°ÔºåÂåÖÊã¨Áî®Êà∑Êìç‰ΩúËá™Âä®ÂåñÊµãËØïÁöÑÂâçÁ´ØÁïåÈù¢„ÄÅËé∑ÂèñÈ°µÈù¢Êï∞ÊçÆÁöÑÈæôÁå´ X ÊúçÂä°„ÄÅÁî®‰∫éËøõË°åÊµãËØïÈÄªËæëÁöÑÊúçÂä°‰ª•ÂèäËøûÊé•ÊµãËØïÊúçÂä°ÁöÑÊó†Â§¥ÊµèËßàÂô®Á´Ø„ÄÇ\n\n‰∏ªÊµÅÁ®ãÂ∞±ÊòØÈÄöËøáËé∑ÂèñÈ°µÈù¢Êï∞ÊçÆÁîüÊàê‰∫ã‰ª∂ÈìæÔºåÊµãËØï‰∫∫ÂëòÈÖçÁΩÆÊµãËØïÁî®‰æãÂêéËß¶ÂèëÂØπÂ∫î‰∫ã‰ª∂ÔºåÁî±ÊµãËØïÊúçÂä°ÂíåÊó†Â§¥ÊµèËßàÂô®Ëá™Âä®ÂÆåÊàêÂØπÂ∫îÈìæÊù°ÁöÑÊµãËØïÈúÄÊ±ÇÔºåÊúÄÂêéÂâçÁ´ØÈ°µÈù¢ÊòæÁ§∫ÊµãËØïË¶ÜÁõñÁéáÂèäÊàêÂäüÁéá„ÄÇ\n\n## Âü∫‰∫éÈæôÁå´ X ‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®\n\nÂú®ËØ¥Êòé‰∫ã‰ª∂ÈìæÁöÑÁîüÊàêÊú∫Âà∂ÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÁ†îÁ©∂‰∏Ä‰∏ãÈæôÁå´ X ÁöÑÈÄöËÆØÊú∫Âà∂„ÄÇ\n\nÈæôÁå´ X ÁöÑÊï∞ÊçÆÈÄöËÆØÊú∫Âà∂Áî±ËÆ¢ÈòÖÂèëÂ∏ÉÊ®°ÂºèÊú∫Âà∂ÁªÑÊàêÔºå‰ª•‰∏ãÁΩóÂàó‰∫ÜÂú®ÂÆûÈôÖ‰∏öÂä°‰∏≠ÁªÑ‰ª∂Èó¥ÈÄöËÆØÁöÑÊµÅÂêëÁ§∫ÊÑèÂõæÔºö\n\n```\nA ÁªÑ‰ª∂ÔºàA1 ‰∫ã‰ª∂Ôºâ-> ÂèëÂ∏É‰∫ã‰ª∂Ôºà‰∏ªÂä®‰∫ã‰ª∂Ôºâ -> ËÆ¢ÈòÖ‰∫ã‰ª∂ÔºàË¢´Âä®‰∫ã‰ª∂Ôºâ -> B ÁªÑ‰ª∂ÔºàB1 ‰∫ã‰ª∂Ôºâ\n\nB ÁªÑ‰ª∂ÔºàB2 ‰∫ã‰ª∂Ôºâ-> C ÁªÑ‰ª∂ÔºàC1 ‰∫ã‰ª∂Ôºâ\n\nÁ´ãÂç≥Ê≥®ÂÜåÔºàButton ÁªÑ‰ª∂Ôºâ-> ÊòæÁ§∫ÂºπÁ™óÔºàFixedContainer ÁªÑ‰ª∂Ôºâ\n\nÁ´ãÂç≥Á≠æÂà∞ÔºàButton ÁªÑ‰ª∂Ôºâ-> Á≠æÂà∞Êé•Âè£ÔºàInterface ÁªÑ‰ª∂Ôºâ\n\nÁ≠æÂà∞Êé•Âè£ÔºàInterface ÁªÑ‰ª∂Ôºâ-> Á≠æÂà∞ÊàêÂäüÔºàInterface ÁªÑ‰ª∂Ôºâ\n```\n\nÁªÑ‰ª∂ÁªÑÁªáÊñπÂºèÊòØÊâÅÂπ≥ÂåñÁöÑÔºå‰∫ã‰ª∂ÂÖ≥Á≥ªÂÖ∑ÊúâÈõ∂Êï£ÂåñÁöÑÁâπÁÇπ„ÄÇ\n\nÁî®Êà∑Ëß¶ÂèëÁªÑ‰ª∂ A ÁöÑ A1 ‰∫ã‰ª∂ÔºåÁªèËøáÂèëÂ∏ÉËÆ¢ÈòÖÊú∫Âà∂Ëß¶ËææÁªÑ‰ª∂ B ÁöÑ B1 ‰∫ã‰ª∂„ÄÇÂ¶ÇÊûú B1 ‰∫ã‰ª∂ÊòØÁ±ª‰ºº‰∫éÊòæÁ§∫/ÈöêËóè„ÄÅÊîπÂèòÊ†∑ÂºèÁ≠âÊìç‰ΩúÔºåÈÇ£‰πàÂ±û‰∫é‰∏Ä‰∏™Êï∞ÊçÆÊµÅÂêëÁöÑÁªàÁÇπ„ÄÇ\n\nÂ¶ÇÊûú B1 ‰∫ã‰ª∂ÊòØÁ±ª‰ºº‰∫éÂèëÈÄÅËØ∑Ê±ÇÁ≠â‰∫ã‰ª∂ÔºåËØ∑Ê±ÇÂìçÂ∫îÊàêÂäüÂç≥ÈúÄË¶ÅÊâßË°åÂè¶‰∏Ä‰∏™ÂõûË∞ÉÂëΩ‰ª§Ôºå‰æãÂ¶ÇÊàë‰ª¨Êää B2 Áúã‰ΩúËØ∑Ê±ÇÁöÑÂìçÂ∫îÊàêÂäü `fetchSuccess` ‰∫ã‰ª∂ÔºåÂΩìËØ∑Ê±ÇÂìçÂ∫îÊàêÂäüÂêéÔºåËá™Âä®ÊâßË°åÂêéÁª≠ËøûÊé•ÁöÑÁªÑ‰ª∂ C ÁöÑ C1 ‰∫ã‰ª∂„ÄÇ\n\n‰ªé‰∏äËø∞ËØ¥Êòé‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÊûÑÂª∫Âá∫ÈæôÁå´ X ÁªÑ‰ª∂Èó¥‰∫ã‰ª∂ÊµÅÊ®°Âûã `ÁªÑ‰ª∂ A ‰∫ã‰ª∂ A1 -> ÁªÑ‰ª∂B‰∫ã‰ª∂B1`Ôºå`ÁªÑ‰ª∂B‰∫ã‰ª∂B2 => ÁªÑ‰ª∂C‰∫ã‰ª∂C1`„ÄÇ\n\nÁî±‰∫éËÆ¢ÈòÖÂèëÂ∏ÉÈÄöËÆØÊú∫Âà∂ÁöÑÂ≠òÂú®ÔºåÂèëÂ∏É‰∫ã‰ª∂ÔºàÊàë‰ª¨Áß∞‰∏∫‰∏ªÂä®‰∫ã‰ª∂ÔºâÂ§©ÁÑ∂Âú∞‰∏éËÆ¢ÈòÖ‰∫ã‰ª∂ÔºàÊàë‰ª¨Áß∞‰∏∫Ë¢´Âä®‰∫ã‰ª∂ÔºâËá™Âä®ËøûÊé•Ëµ∑Êù•Ôºå‰ΩÜÊòØÂÖ≥ÈîÆÁöÑËäÇÁÇπÂú®‰∫éÔºå‰ªç‰ª•‰∏äËø∞ÁªÑ‰ª∂ B ÁöÑ‰æãÂ≠êÊï∞ÂêçÔºåÁªÑ‰ª∂ B ÂÜÖÂ≠òÂú®‰∏§‰∏™ÂÆö‰πâÁöÑ‰∫ã‰ª∂ B1 Âíå B2ÔºåÂÆÉ‰ª¨ÈÄöËøáÁªÑ‰ª∂ÂÜÖÈÉ®ÁöÑ‰ª£Á†ÅËÆæÂÆöÁöÑÂõûË∞ÉËÅîÁ≥ªËµ∑Êù•Ôºå‰ΩÜÊòØÂú®Êàë‰ª¨ÁöÑÈÖçÁΩÆÊï∞ÊçÆÂ±ÇÈù¢Âπ∂Êú™Ëß£ÂÜ≥ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶Å‰∏Ä‰ªΩÊ∏ÖÂçïÊÄªÁªìÊâÄÊúâÈæôÁå´ X ÁªÑ‰ª∂‰∏≠Â≠òÂú®ÁöÑÁªÑ‰ª∂ÂÜÖË¢´Âä®Âíå‰∏ªÂä®‰∫ã‰ª∂ÈùûÁî®Êà∑Ëß¶ÂèëËøûÊé•ÁöÑÂÖ≥Á≥ªË°®ÔºåËøô‰∏™ÂØπ‰∫éÂêéÁª≠ÊûÑÊàê‰∫ã‰ª∂ÈìæÊòØÂÖ≥ÈîÆÁöÑ‰∏ÄÊ≠•„ÄÇ\n\n1. Â∞ÜÈõ∂Êï£‰∫ã‰ª∂ÂÖ≥Á≥ªÔºå‰ª•Êî∂ÈõÜÁªÑ‰ª∂‰∫ã‰ª∂ÂÜÖËÅîÁöÑÂÖ≥Á≥ªË°®Ëß£ÂÜ≥Âçï‰∏™‰∫ã‰ª∂ÈÄöËÆØÈó¥Êó†Ê≥ïËøûÁªìÁöÑÈóÆÈ¢òÔºåÊúÄÁªàÁªÑÁªáÊàê‰∫ã‰ª∂Èìæ\n2. ÈÄöËøáÊüê‰∏Ä‰∫ã‰ª∂ÔºåËÉΩËá™Âä®Ëß¶ÂèëÂêéÁª≠‰∫ã‰ª∂ÔºàÊüê‰∫õÈæôÁå´ X ÂÆö‰πâ‰∏∫‰∏ªÂä®‰∫ã‰ª∂Âπ∂ÈùûÊâÄÊúâÁî±Áî®Êà∑Ëß¶ÂèëÔºå‰πüËÉΩÊòØÁªÑ‰ª∂ÂÜÖÈÉ®Ëß¶ÂèëÔºâ\n\n![‰∫ã‰ª∂ÈìæÁ§∫ÊÑèÂõæ](https://img.mrsingsing.com/automatation-test-events-chain.jpg)\n\n‰∏äËø∞ÂõæÁâáÂ±ïÁ§∫‰∫ÜÂÆûÈôÖ‰∏öÂä°‰∏≠ÁöÑ‰∫ã‰ª∂ÈìæÁ§∫‰æãÔºåËØ•‰∫ã‰ª∂Èìæ‰ª•Âêç‰∏∫„ÄåÁ´ãÂç≥Ê≥®ÂÜå„ÄçÁöÑ Button ÊåâÈíÆÁªÑ‰ª∂Ëß¶ÂèëÔºåÂêéÁª≠ÁªèÁî± Input ËæìÂÖ•Ê°ÜÁªÑ‰ª∂Ëé∑ÂèñÂ∑≤ÂâçÁΩÆËæìÂÖ•ÁöÑÊâãÊú∫Âè∑Êï∞ÊçÆÔºåÂÜÖÈÉ®Êï∞ÊçÆÊµÅËé∑ÂèñÊï∞ÊçÆÂêéËß¶Âèë Input ÁªÑ‰ª∂ÂÜÖÁöÑÂè¶‰∏Ä‰∏™ÂèñÂÄºÁöÑ‰∏ªÂä®‰∫ã‰ª∂ÔºåÁÑ∂ÂêéÂèñÂÄº‰ºöÊ£ÄÈ™åËæìÂÖ•Ê°ÜËæìÂÖ•Êï∞ÊçÆÁöÑÊúâÊïàÊÄßÔºåÊ†πÊçÆÊúâÊïàÊÄßÂàÜÊµÅÂèñÂÄºÊàêÂäü‰∏éÂèñÂÄºÂ§±Ë¥•ÁöÑË¢´Âä®‰∫ã‰ª∂„ÄÇÂ¶ÇÊûúÂèñÂÄºÂ§±Ë¥•ÔºåÂàô‰ºöÂºπÂá∫ Message ÁªÑ‰ª∂ÊèêÁ§∫ËæìÂÖ•Ê°ÜËæìÂÖ•Êï∞ÊçÆÊó†ÊïàÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºõÂ¶ÇÊûúÂèñÂÄºÊàêÂäüÔºåÂàô‰ºöÁî®Ëé∑ÂèñÂà∞ÁöÑÊâãÊú∫Âè∑ÂíåÂÖ∂‰ªñÁõ∏ÂÖ≥ÂèÇÊï∞ËØ∑Ê±ÇÊé•Âè£È™åËØÅÔºåÂìçÂ∫îÂêéÊ†πÊçÆÂêéÂè∞ËøîÂõûÁªìÊûúÂàÜÊµÅ‰∏∫ËøõËÄåËØ∑Ê±ÇÂè¶‰∏Ä‰∏™ËØ∑Ê±ÇÁü≠‰ø°È™åËØÅÁ†ÅÁöÑÊé•Âè£ËøòÊòØÈúÄË¶ÅËøõË°åÈâ¥ÂÆöÁî®Êà∑‰∏∫ÁúüÂÆûÁî®Êà∑ÁöÑÂõæÂΩ¢È™åËØÅÁ†ÅÊìç‰Ωú„ÄÇËøôÂ∞±ÊûÑÊàê‰∏ÄÊù°ÂÆåÊï¥ÁöÑ‰∫ã‰ª∂ÈìæÔºåÊï¥‰∏™‰∫ã‰ª∂Èìæ‰∏≠Èô§‰∫ÜËæìÂÖ•Ê°ÜÈ¢ùÂ§ñÁöÑÊï∞ÊçÆÊî∂ÂÖ•Â§ñÔºåÁî®Êà∑Âè™ÈúÄËß¶Âèë‰∏ÄÊ¨°„ÄåÁ´ãÂç≥Ê≥®ÂÜå„ÄçÁöÑÊåâÈíÆÂç≥ÂèØÊ£ÄÈ™åÂêéÁª≠ÊµÅÁ®ã„ÄÇ\n\nÂú®Âà∂ÂÆö‰∫ã‰ª∂ÈìæÂΩ¢ÊàêÊñπÊ°àÂêéÔºåÈÇ£‰πàÊëÜÂú®Èù¢ÂâçÁöÑ‰ªçÊúâÂá†‰∏™ÈóÆÈ¢òÔºö\n\n- Â¶Ç‰ΩïÂêØÂä®ÊâßË°åÂçï‰∏™‰∫ã‰ª∂ÈìæÔºü\n- Â¶Ç‰ΩïÁü•ÈÅì‰∏Ä‰∏™‰∫ã‰ª∂ÈìæÊµÅÁ®ãÂ∑≤ÁªèÊâßË°åÂÆåÊØïÔºü\n- Âú®‰ªÄ‰πàÊó∂Êú∫ÂØπÊâßË°åÁªìÊûúËøõË°åÊñ≠Ë®ÄÊµãËØïÔºü\n\nÁªèËøáÂàÜÊûêÁé∞ÊúâÈæôÁå´ÁªÑ‰ª∂ÁöÑÁâπÁÇπ„ÄÇ‰∫ã‰ª∂ÈìæËß¶ÂèëÁßçÁ±ª‰∏ªË¶ÅÊúâ‰ª•‰∏ãÂá†‰∏™Á±ªÂûãÔºö\n\n- ÊµèËßàÂô®ÈªòËÆ§‰∫ã‰ª∂ÔºöÈ°µÈù¢ÂÆπÂô®Âä†ËΩΩÂÆåÊØï„ÄÅÁõ∏ÂÖ≥ SDK Ê≥®ÂÜåÊàêÂäüÁ≠â\n- Áî®Êà∑‰∫§‰∫íËß¶ÂèëÔºöÁÇπÂáªÊåâÈíÆ„ÄÅÁÇπÂáªÂõæÁâá\n- ÁªÑ‰ª∂Èí©Â≠êÔºàË¢´Âä®ÊÄßË¥®/Èó¥Êé•ÁöÑ‰∏ªÂä®‰∫ã‰ª∂ÔºâÔºöÊé•Âè£ËØ∑Ê±ÇÊàêÂäüÂ§±Ë¥•/Êî∂ÈõÜÂÄºÊàêÂäüÂ§±Ë¥•/Ë°®ÂçïÈ°πÂÄºÊîπÂèòÊó∂/ÂèäË¥∑ SDK ÁöÑ Ready ‰∫ã‰ª∂\n\nÂ¶ÇÊûúÂØπÊµèËßàÂô®ÁöÑÁöÑ‰∫ã‰ª∂Âæ™ÁéØÊú∫Âà∂ÊúâËøá‰∫ÜËß£ÁöÑÔºå‰∏çÈöæËÅîÊÉ≥Âà∞ËøôÈÉΩ‰∏é JavaScript ÂºÇÊ≠•‰∫ã‰ª∂Áõ∏ÂÖ≥Ôºö\n\n- ÂÆöÊó∂Âô® Timer\n- HTML Parsing\n- HTTP Request\n- I/OÔºàMouse„ÄÅEventÔºâ\n- Promise„ÄÇthen\n\nÊÄªÁªìÔºö\n\n- JavaScript ÂÆø‰∏ªÁéØÂ¢ÉËøêË°å‰∏≠ÁöÑ‰∫ã‰ª∂Âæ™ÁéØÊú∫Âà∂ÔºàÂÆöÊó∂Âô®„ÄÅUI Rendering„ÄÅI/O„ÄÅHTTP RequestÔºâ\n- Áî®‰∫éÂ≠òÂÇ®Áä∂ÊÄÅÁöÑË°®ÂçïÈ´òÈò∂ÁªÑ‰ª∂ÁöÑÂèñÂÄº‰∫ã‰ª∂ÔºàÂÖ∂ÂÆûÊòØÁõ∏ÂΩì‰∫éÂèñÂÄºÂêéÔºåÂú®ÁªÑ‰ª∂ÂÜÖÈÉ®ËÆæÂÆöÊ†°È™åÈÄªËæëÔºâ\n\nÊ†πÊçÆ‰∏äËø∞ÁîüÊàê‰∫ã‰ª∂ÈìæÁöÑÊú∫Âà∂ÔºåËÉΩÂ∞ÜÈ°µÈù¢ÈÖçÁΩÆÁöÑ‰∫ã‰ª∂ÈìæËá™Âä®Êï¥ÁêÜÁîüÊàêÂàóË°®ÔºåÂêéÁª≠ÈúÄË¶ÅÈÄöËøáÊµãËØïÊúçÂä°ËøõË°åËá™Âä®ÂåñÊµãËØï„ÄÇ\n\n## Âà©Áî® Puppeteer ËøõË°åËá™Âä®ÂåñÊµãËØï\n\nÊµãËØïÁî®ÁöÑÂêéÁ´ØÈ°πÁõÆ‰ΩøÁî® Egg ÁöÑÊäÄÊúØÊê≠Âª∫ÔºåÈâ¥‰∫éÂâçÂêéÁ´Ø‰ø°ÊÅØ‰∫§‰∫íÂèØËÉΩ‰ºöÊØîËæÉÈ¢ëÁπÅÁöÑÂéüÂõ†ÔºåÊê≠ÈÖç Socket.IO Âª∫Á´ãËµ∑ÂâçÂêéÁ´ØÁöÑÈÄöËÆØ„ÄÇ\n\nËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåSocket.IO ÂâçÂêéÁ´ØÈÄâÁî®ÁöÑÂÖ∑‰ΩìÂ∫ìÂåÖÂÖ∑ÊúâÂ∑ÆÂºÇÔºö\n\n- ÂâçÁ´ØÔºö`socket.io-client`\n- ÂêéÁ´ØÔºö`egg-socket.io`\n\n```\nchat\n‚îú‚îÄ‚îÄ app\n‚îÇ   ‚îú‚îÄ‚îÄ extend\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ helper.js\n‚îÇ   ‚îú‚îÄ‚îÄ io\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ default.js\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ middleware\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ connection.js\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ packet.js\n‚îÇ   ‚îî‚îÄ‚îÄ router.js\n‚îú‚îÄ‚îÄ config\n‚îî‚îÄ‚îÄ package.json\n```\n\nEgg Ê°ÜÊû∂ÁöÑÂ•ΩÂ§ÑÊòØÂÖ∂ÁîüÊÄÅÊèê‰æõ‰∫ÜÁõ∏ÂÖ≥ÁöÑÊèí‰ª∂ÔºåÂæàÂ•ΩÂú∞‰∏éÈ°πÁõÆÈõÜÊàêÔºåÂºÄÂèëËµ∑Êù•‰ΩìÈ™åÂæàÂ•Ω„ÄÇ\n\nÂÖ∑‰ΩìÂÆûÁé∞ÁªÜËäÇÂèÇËÄÉ [Egg - Socket.IO ÊïôÁ®ã](https://eggjs.org/zh-cn/tutorials/socketio.html)\n\nËÄåÂè¶‰∏ÄÊñπÈù¢ÔºåÈúÄË¶Å‰ΩøÁî®‰∏öÂÜÖËæÉ‰∏∫ÊàêÁÜüÁöÑÊµãËØïÊñπÊ≥ïËøõË°åÊµãËØïÔºåÊàë‰ª¨ÁªèËøáÂØπÊØîÁ†îÁ©∂ÂêéÈÄâÊã© Puppeteer ËøôÊ¨æÁî± Google Âá∫ÂìÅÁöÑÂºÄÊ∫êÊîØÊåÅÊó†Â§¥ÊµèËßàÂô®ÁöÑÊ°ÜÊû∂„ÄÇ\n\nPuppeteer Âü∫‰∫é Chrome DevTool ProtocolÔºàÁÆÄÁß∞ CDPÔºâÔºåËÄå CDP Âü∫‰∫é WebSocketÔºåÂà©Áî® WebSocket ÂÆûÁé∞‰∏éÊµèËßàÂô®ÂÜÖÊ†∏ÁöÑÂø´ÈÄüÈÄöÈÅì„ÄÇ\n\n![Puppeteer ÂÆûÁé∞Ê®°Âûã](https://img.mrsingsing.com/automatation-test-puppeteer-pyramid.png)\n\nPuppeteer ÂπøÊ≥õÂ∫îÁî®‰∫éÂêÑÂ§ßÂÖ¨Âè∏Âõ¢ÈòüÁöÑÂÆûÈôÖ‰∏öÂä°Âú∫ÊôØÔºö\n\n- ÈÄöÁî®\n  - ÁîüÊàêÈ°µÈù¢ÁöÑÂ±èÂπïÊà™ÂõæÂíå PDF\n  - Ëá™Âä®ÂåñÊèê‰∫§Ë°®Âçï„ÄÅÊ®°ÊãüÈîÆÈº†ËæìÂÖ•„ÄÅËá™Âä®ÂåñÂçïÂÖÉÊµãËØï\n  - ÁΩëÁ´ôÊÄßËÉΩÂàÜÊûêÔºöÂèØ‰ª•ÊäìÂèñÂπ∂Ë∑üË∏™ÁΩëÁ´ôÁöÑÊâßË°åÊó∂Èó¥ËΩ¥ÔºåÂ∏ÆÂä©ÂàÜÊûêÊïàÁéáÈóÆÈ¢ò\n  - ÊäìÂèñÁΩëÈ°µÂÜÖÂÆπÔºå‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑÁà¨Ëô´\n- ‰∏öÂä°ÂÆûË∑µ\n  - ÈòøÈáåÔºö[ÈòøÈáå 99 Â§ß‰øÉÊ®°ÂûãËØÜÂà´ËÉåÂêéÁöÑÊ†∑Êú¨ÁîüÊàê](https://yq.aliyun.com/articles/718188)\n  - ÊúâËµûÔºö[‰ΩøÁî® Puppeteer Êê≠Âª∫Áªü‰∏ÄÊµ∑Êä•Ê∏≤ÊüìÊúçÂä°](https://www.infoq.cn/article/dcSBL_9AzCwVPsaQ70dh)\n  - ÂÖ∂‰ªñÔºö[Âü∫‰∫é Puppeteer ÊâìÈÄ†ÂâçÁ´ØÂ∑°Ê£ÄÁõëÊéß‰ΩìÁ≥ª](https://www.jianshu.com/p/42585c78eeec)\n\nÈÇ£‰πà Node ÊúçÂä°ÊòØÂ¶Ç‰Ωï‰∏é Puppeteer ËøõË°åÊúçÂä°ÁöÑÂë¢Ôºü\n\nPuppeteer Êèê‰æõ‰∏ÄÁßçÊñπÊ≥ï `page.exposeFunction` Â∞ÜËÉΩÂú® Node ÊúçÂä°ËøõÁ®ãË∞ÉÁî®ÁöÑÂáΩÊï∞ÊñπÊ≥ïÂêçÊåÇËΩΩÂú® Puppeteer ÂàõÂª∫ÁöÑÊµãËØïÈ°µÈù¢ÁöÑÂÖ®Â±ÄÂèòÈáè `window` ‰∏ä„ÄÇ\n\nÂΩìÊàë‰ª¨Âú®Ëß¶Âèë‰∫ã‰ª∂ÈìæÂºÄÁ´Ø‰∫ã‰ª∂Êó∂ÔºåÈÄöËøá Node ÊúçÂä°ËøõËÄåÊìç‰ΩúÊó†Â§¥ÊµèËßàÂô®ÂÜÖÁöÑÈ°µÈù¢ÔºåÂπ∂Âú®‰∏ìÁî®‰∫éÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∫ã‰ª∂ÂÖ≥Á≥ª‰º†ÈÄí‰∏≠Ë∞ÉÁî®ËØ•ÊåÇËΩΩÂÖ®Â±ÄÁöÑÂáΩÊï∞ÔºåÂ∞ÜÁõ∏ÂÖ≥ÂèÇÊï∞ÁªìÊûúËøîÂõûÂà∞ Node ÊúçÂä°ÁöÑÁõ∏ÂÖ≥ÊúçÂä°‰∏≠„ÄÇ\n\n![Êó†Â§¥ÊµèËßàÂô®‰∫ã‰ª∂ÂìçÂ∫î‰ø°ÊÅØÂìçÂ∫îÊú∫Âà∂](https://img.mrsingsing.com/automatation-test-case.jpg)\n\n‰ªé‰∏äÂõæÂèØ‰ª•ÁúãÂà∞ÔºåÊØèÂΩìË¢´Âä®ÊÄßË¥®‰∫ã‰ª∂Ëß¶ÂèëÂêéÔºå‰∫ã‰ª∂Èìæ‰∏≠ÁöÑË¢´Âä®‰∫ã‰ª∂‰ºöÂú®Ëß¶ÂèëÊó∂È¢ùÂ§ñÂèëÈÄÅÊ∂àÊÅØÂèëÈÄÅÂà∞ Node ÊúçÂä°ÔºåËé∑ÂæóÂìçÂ∫îÂêéË∑ëËøáÊµãËØïÁî®‰æãÂç≥Â∞ÜÊúÄÁªàÁªìÊûúËøîÂõûÂà∞ÂâçÁ´Ø„ÄÇ\n\n**ÈÇ£‰πàÂêåÊó∂Â§ö‰∏™ Node.js ËøõÁ®ã‰ºöÈÅ≠ÈÅáÊÄßËÉΩÈóÆÈ¢òÔºü**\n\nÂ≠òÂú®ÁöÑÈóÆÈ¢òÔºö\n\n- ÂêØÂä®ËÄóÊó∂Èïø\n  - Â§çÁî®ÊµèËßàÂô®ÂÆû‰æãÂíåÈ°µÈù¢ÂÆû‰æã\n  - Puppeteer ÁöÑ‰ºòÂåñÊâãÊÆµ => Chromium Command Line\n- ÊÄßËÉΩÊ∂àËÄóÈ´ò\n  - ÂÆöÊó∂ÈáçÂêØÊó†Â§¥ÊµèËßàÂô®ÂÆû‰æãÁöÑÊú∫Âà∂ => ÂÆöÊó∂Âô®\n\nÊó†Â§¥ÊµèËßàÂô®ÂÆû‰æã‰∏éÊµãËØïÈ°µÈù¢ Tab ÊåÅ‰πÖÂåñ\n\n- ÈÄöËøáËØ∑Ê±Ç Headless Chrome ËøõÁ®ãÁ´ØÂè£ÔºåËé∑ÂèñÊó†Â§¥ÊµèËßàÂô®ÂÆû‰æãÁöÑ WS URLÔºåÈÄöËøá `browser.connect` ÈáçËøû\n- Radis ÁºìÂ≠ò\n- Â≠òÊñá‰ª∂\n- Â≠òÂú® Egg App Config ‰∏≠ÔºàÁõ∏ÂΩì‰∫éÂÖ®Â±ÄÂèòÈáèÔºâ\n\nÂ¶ÇÊ≠§ËøôËà¨ÔºåÂ∞±Â∞ÜÊï¥‰∏™ÊµÅÁ®ãÈÉΩÂÆûÁé∞‰∫ÜÈó≠ÁéØÔºö\n\n1. Ê†πÊçÆÈ°µÈù¢ÈÖçÁΩÆÊï∞ÊçÆÁîüÊàê‰∫ã‰ª∂ÈìæÔºàÂàóË°®Ôºâ\n2. ÈÄâÊã©ÂâçÁΩÆÊï∞ÊçÆËæìÂÖ•ÂèäÊµãËØïÁî®‰æã\n3. Âª∫Á´ãÂâçÂêéÁ´ØÈÄöËÆØÂèäÊµãËØïÊúçÂä°ÂíåÊó†Â§¥ÊµèËßàÂô®ÁöÑÈÄöËÆØ\n4. Ëß¶ÂèëÁî®Êà∑‰∫§‰∫í‰∫ã‰ª∂\n5. ÊâßË°åÊó†Â§¥ÊµèËßàÂô®ÂÜÖÈ°µÈù¢ÂØπÂ∫î‰∫ã‰ª∂\n6. ËøîÂõûÂìçÂ∫îÁªìÊûú\n","source":"_posts/event-chain-based-automatic-test-scheme-of-totorox.md","raw":"---\ntitle: ÈæôÁå´ X Âü∫‰∫é‰∫ã‰ª∂ÈìæÁöÑËá™Âä®ÂåñÊµãËØïÊñπÊ°àÂ§çÁõò\ndate: '2020-03-01'\n---\n\n**Â§ßÁ∫≤Ôºö**\n\n- Âü∫‰∫éÈæôÁå´ X ‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®\n- ‰ΩøÁî® Egg Âíå Socket.IO Êê≠Âª∫Ëá™Âä®ÂåñÊµãËØïÊúçÂä°\n- Âà©Áî® Puppeteer ËøõË°åËá™Âä®ÂåñÊµãËØï\n- ÊµãËØïÁî®‰æãÁöÑÊâßË°åÊñπÊ°àÁ†îËÆ®\n\nÈæôÁå´ X ‰Ωú‰∏∫ÊúçÂä°‰∫é‰∫ßÂìÅ„ÄÅËøêËê•„ÄÅÂºÄÂèëÁöÑÈ°µÈù¢Êê≠Âª∫Âπ≥Âè∞ÔºåÈÄöËøáÂèØËßÜÂåñÁöÑÊãñÊãΩ„ÄÅÈÖçÁΩÆÁîüÊàê‰∏öÂä°ÊâÄÈúÄÁöÑÂêÑÁßçÈ°µÈù¢„ÄÇÂú®Êó•Â∏∏ÁöÑÂºÄÂèë‰∏≠ÔºåÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÈÉΩÊòØÁî±ËøêËê•Áõ¥Êé•ÂÆåÊàêÈúÄÊ±ÇÔºåÊàñÊòØËøêËê•‰∫ßÂìÅÁõ¥Êé•Êèê‰∫§Â∑•ÂçïÂêéÁî±ÂºÄÂèëËøõË°åÂÆåÊàêÔºåÊµãËØïÂú®ËØÑÂÆ°Èò∂ÊÆµÁöÑÂèÇ‰∏éÁéá‰∏çÈ´ò„ÄÇËøôÂ∞±ÂØºËá¥ÊµãËØïÂú®ÂäüËÉΩÈ°µÈù¢ÁöÑÊµãËØï‰∏≠Êó†Ê≥ïÂÖ®Êñπ‰ΩçÂú∞Ê£ÄÊµãÈ°µÈù¢ÁöÑÂäüËÉΩÊïàÊûúÔºåÂêåÊó∂‰πüÁî±‰∫éÈæôÁå´ X È°πÁõÆÊµãËØïÂ∞ëÊúâÂèÇ‰∏éÔºåÊµãËØïÂèÇ‰∏éÁöÑÂ§öÊòØÁªèÁî±ÈæôÁå´ X ÁîüÊàêÁöÑÈ°µÈù¢ÁöÑÂäüËÉΩÊµãËØïÔºåÊâÄ‰ª•ÊµãËØïÂØπ‰∫éÈæôÁå´ X È°µÈù¢ÁöÑÂÜÖÂú®ÈÄªËæë‰πüÁº∫‰πè‰∫ÜËß£„ÄÇÂõ†Ê≠§Ôºå‰∏∫ÊµãËØïÊñπÊèê‰æõËÉΩÊéåÊè°ÈæôÁå´ X È°µÈù¢ÈÄªËæëÂÖ≥Á≥ªÁöÑÂ∑•ÂÖ∑ÂØπÊèêÂçáÈ°µÈù¢ÁöÑËøêË°åË¥®ÈáèÂÖ∑ÊúâÈáçË¶ÅÊÑè‰πâ„ÄÇ\n\nÊú¨ÊñáÈíàÂØπ‰∏äËø∞ÊÉÖÂÜµÔºåÂõ¢ÈòüÂºÄÂèëÂá∫ÈíàÂØπÈæôÁå´ X ÁöÑ‰∫ã‰ª∂ÈìæËá™Âä®ÂåñÊµãËØïÊñπÊ°àÔºåÁî±‰∫é‰∏é‰∏öÂä°ËÄ¶ÂêàÂ∫¶ÊûÅÈ´òÔºåÂèØËÉΩÂØπÂÖ∂‰ªñÂÖ¨Âè∏Âõ¢ÈòüÊú™ÂøÖÂÖ∑ÊúâÈÄöÁî®ÊÄßÔºåÊùÉÂΩìÊäÄÊúØÊñπÊ°àÂèÇËÄÉ‰∏é‰∫§ÊµÅ„ÄÇ\n\n<!-- more -->\n\nÂºÄÂßãÂâçÔºåÁõ¥Êé•ÊäõÂá∫Êï¥‰∏™‰∏öÂä°ÊµÅÁ®ãÁöÑÊ®°ÂºèÂõæÔºå‰ª•‰æøÂØπËØ•ÂäüËÉΩÊúâ‰∏™ÂÖ®Ë≤åÁöÑËÆ§Áü•„ÄÇ\n\n![Ëá™Âä®ÂåñÊµãËØï‰∏öÂä°ÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/automatation-test-workflow.jpg)\n\nÁÆÄÂçïÈòêËø∞‰∏Ä‰∏ãÂèÇ‰∏éÊµÅÁ®ãÁöÑÂá†‰∏™ÊúçÂä°ÔºåÂåÖÊã¨Áî®Êà∑Êìç‰ΩúËá™Âä®ÂåñÊµãËØïÁöÑÂâçÁ´ØÁïåÈù¢„ÄÅËé∑ÂèñÈ°µÈù¢Êï∞ÊçÆÁöÑÈæôÁå´ X ÊúçÂä°„ÄÅÁî®‰∫éËøõË°åÊµãËØïÈÄªËæëÁöÑÊúçÂä°‰ª•ÂèäËøûÊé•ÊµãËØïÊúçÂä°ÁöÑÊó†Â§¥ÊµèËßàÂô®Á´Ø„ÄÇ\n\n‰∏ªÊµÅÁ®ãÂ∞±ÊòØÈÄöËøáËé∑ÂèñÈ°µÈù¢Êï∞ÊçÆÁîüÊàê‰∫ã‰ª∂ÈìæÔºåÊµãËØï‰∫∫ÂëòÈÖçÁΩÆÊµãËØïÁî®‰æãÂêéËß¶ÂèëÂØπÂ∫î‰∫ã‰ª∂ÔºåÁî±ÊµãËØïÊúçÂä°ÂíåÊó†Â§¥ÊµèËßàÂô®Ëá™Âä®ÂÆåÊàêÂØπÂ∫îÈìæÊù°ÁöÑÊµãËØïÈúÄÊ±ÇÔºåÊúÄÂêéÂâçÁ´ØÈ°µÈù¢ÊòæÁ§∫ÊµãËØïË¶ÜÁõñÁéáÂèäÊàêÂäüÁéá„ÄÇ\n\n## Âü∫‰∫éÈæôÁå´ X ‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®\n\nÂú®ËØ¥Êòé‰∫ã‰ª∂ÈìæÁöÑÁîüÊàêÊú∫Âà∂ÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÁ†îÁ©∂‰∏Ä‰∏ãÈæôÁå´ X ÁöÑÈÄöËÆØÊú∫Âà∂„ÄÇ\n\nÈæôÁå´ X ÁöÑÊï∞ÊçÆÈÄöËÆØÊú∫Âà∂Áî±ËÆ¢ÈòÖÂèëÂ∏ÉÊ®°ÂºèÊú∫Âà∂ÁªÑÊàêÔºå‰ª•‰∏ãÁΩóÂàó‰∫ÜÂú®ÂÆûÈôÖ‰∏öÂä°‰∏≠ÁªÑ‰ª∂Èó¥ÈÄöËÆØÁöÑÊµÅÂêëÁ§∫ÊÑèÂõæÔºö\n\n```\nA ÁªÑ‰ª∂ÔºàA1 ‰∫ã‰ª∂Ôºâ-> ÂèëÂ∏É‰∫ã‰ª∂Ôºà‰∏ªÂä®‰∫ã‰ª∂Ôºâ -> ËÆ¢ÈòÖ‰∫ã‰ª∂ÔºàË¢´Âä®‰∫ã‰ª∂Ôºâ -> B ÁªÑ‰ª∂ÔºàB1 ‰∫ã‰ª∂Ôºâ\n\nB ÁªÑ‰ª∂ÔºàB2 ‰∫ã‰ª∂Ôºâ-> C ÁªÑ‰ª∂ÔºàC1 ‰∫ã‰ª∂Ôºâ\n\nÁ´ãÂç≥Ê≥®ÂÜåÔºàButton ÁªÑ‰ª∂Ôºâ-> ÊòæÁ§∫ÂºπÁ™óÔºàFixedContainer ÁªÑ‰ª∂Ôºâ\n\nÁ´ãÂç≥Á≠æÂà∞ÔºàButton ÁªÑ‰ª∂Ôºâ-> Á≠æÂà∞Êé•Âè£ÔºàInterface ÁªÑ‰ª∂Ôºâ\n\nÁ≠æÂà∞Êé•Âè£ÔºàInterface ÁªÑ‰ª∂Ôºâ-> Á≠æÂà∞ÊàêÂäüÔºàInterface ÁªÑ‰ª∂Ôºâ\n```\n\nÁªÑ‰ª∂ÁªÑÁªáÊñπÂºèÊòØÊâÅÂπ≥ÂåñÁöÑÔºå‰∫ã‰ª∂ÂÖ≥Á≥ªÂÖ∑ÊúâÈõ∂Êï£ÂåñÁöÑÁâπÁÇπ„ÄÇ\n\nÁî®Êà∑Ëß¶ÂèëÁªÑ‰ª∂ A ÁöÑ A1 ‰∫ã‰ª∂ÔºåÁªèËøáÂèëÂ∏ÉËÆ¢ÈòÖÊú∫Âà∂Ëß¶ËææÁªÑ‰ª∂ B ÁöÑ B1 ‰∫ã‰ª∂„ÄÇÂ¶ÇÊûú B1 ‰∫ã‰ª∂ÊòØÁ±ª‰ºº‰∫éÊòæÁ§∫/ÈöêËóè„ÄÅÊîπÂèòÊ†∑ÂºèÁ≠âÊìç‰ΩúÔºåÈÇ£‰πàÂ±û‰∫é‰∏Ä‰∏™Êï∞ÊçÆÊµÅÂêëÁöÑÁªàÁÇπ„ÄÇ\n\nÂ¶ÇÊûú B1 ‰∫ã‰ª∂ÊòØÁ±ª‰ºº‰∫éÂèëÈÄÅËØ∑Ê±ÇÁ≠â‰∫ã‰ª∂ÔºåËØ∑Ê±ÇÂìçÂ∫îÊàêÂäüÂç≥ÈúÄË¶ÅÊâßË°åÂè¶‰∏Ä‰∏™ÂõûË∞ÉÂëΩ‰ª§Ôºå‰æãÂ¶ÇÊàë‰ª¨Êää B2 Áúã‰ΩúËØ∑Ê±ÇÁöÑÂìçÂ∫îÊàêÂäü `fetchSuccess` ‰∫ã‰ª∂ÔºåÂΩìËØ∑Ê±ÇÂìçÂ∫îÊàêÂäüÂêéÔºåËá™Âä®ÊâßË°åÂêéÁª≠ËøûÊé•ÁöÑÁªÑ‰ª∂ C ÁöÑ C1 ‰∫ã‰ª∂„ÄÇ\n\n‰ªé‰∏äËø∞ËØ¥Êòé‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÊûÑÂª∫Âá∫ÈæôÁå´ X ÁªÑ‰ª∂Èó¥‰∫ã‰ª∂ÊµÅÊ®°Âûã `ÁªÑ‰ª∂ A ‰∫ã‰ª∂ A1 -> ÁªÑ‰ª∂B‰∫ã‰ª∂B1`Ôºå`ÁªÑ‰ª∂B‰∫ã‰ª∂B2 => ÁªÑ‰ª∂C‰∫ã‰ª∂C1`„ÄÇ\n\nÁî±‰∫éËÆ¢ÈòÖÂèëÂ∏ÉÈÄöËÆØÊú∫Âà∂ÁöÑÂ≠òÂú®ÔºåÂèëÂ∏É‰∫ã‰ª∂ÔºàÊàë‰ª¨Áß∞‰∏∫‰∏ªÂä®‰∫ã‰ª∂ÔºâÂ§©ÁÑ∂Âú∞‰∏éËÆ¢ÈòÖ‰∫ã‰ª∂ÔºàÊàë‰ª¨Áß∞‰∏∫Ë¢´Âä®‰∫ã‰ª∂ÔºâËá™Âä®ËøûÊé•Ëµ∑Êù•Ôºå‰ΩÜÊòØÂÖ≥ÈîÆÁöÑËäÇÁÇπÂú®‰∫éÔºå‰ªç‰ª•‰∏äËø∞ÁªÑ‰ª∂ B ÁöÑ‰æãÂ≠êÊï∞ÂêçÔºåÁªÑ‰ª∂ B ÂÜÖÂ≠òÂú®‰∏§‰∏™ÂÆö‰πâÁöÑ‰∫ã‰ª∂ B1 Âíå B2ÔºåÂÆÉ‰ª¨ÈÄöËøáÁªÑ‰ª∂ÂÜÖÈÉ®ÁöÑ‰ª£Á†ÅËÆæÂÆöÁöÑÂõûË∞ÉËÅîÁ≥ªËµ∑Êù•Ôºå‰ΩÜÊòØÂú®Êàë‰ª¨ÁöÑÈÖçÁΩÆÊï∞ÊçÆÂ±ÇÈù¢Âπ∂Êú™Ëß£ÂÜ≥ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶Å‰∏Ä‰ªΩÊ∏ÖÂçïÊÄªÁªìÊâÄÊúâÈæôÁå´ X ÁªÑ‰ª∂‰∏≠Â≠òÂú®ÁöÑÁªÑ‰ª∂ÂÜÖË¢´Âä®Âíå‰∏ªÂä®‰∫ã‰ª∂ÈùûÁî®Êà∑Ëß¶ÂèëËøûÊé•ÁöÑÂÖ≥Á≥ªË°®ÔºåËøô‰∏™ÂØπ‰∫éÂêéÁª≠ÊûÑÊàê‰∫ã‰ª∂ÈìæÊòØÂÖ≥ÈîÆÁöÑ‰∏ÄÊ≠•„ÄÇ\n\n1. Â∞ÜÈõ∂Êï£‰∫ã‰ª∂ÂÖ≥Á≥ªÔºå‰ª•Êî∂ÈõÜÁªÑ‰ª∂‰∫ã‰ª∂ÂÜÖËÅîÁöÑÂÖ≥Á≥ªË°®Ëß£ÂÜ≥Âçï‰∏™‰∫ã‰ª∂ÈÄöËÆØÈó¥Êó†Ê≥ïËøûÁªìÁöÑÈóÆÈ¢òÔºåÊúÄÁªàÁªÑÁªáÊàê‰∫ã‰ª∂Èìæ\n2. ÈÄöËøáÊüê‰∏Ä‰∫ã‰ª∂ÔºåËÉΩËá™Âä®Ëß¶ÂèëÂêéÁª≠‰∫ã‰ª∂ÔºàÊüê‰∫õÈæôÁå´ X ÂÆö‰πâ‰∏∫‰∏ªÂä®‰∫ã‰ª∂Âπ∂ÈùûÊâÄÊúâÁî±Áî®Êà∑Ëß¶ÂèëÔºå‰πüËÉΩÊòØÁªÑ‰ª∂ÂÜÖÈÉ®Ëß¶ÂèëÔºâ\n\n![‰∫ã‰ª∂ÈìæÁ§∫ÊÑèÂõæ](https://img.mrsingsing.com/automatation-test-events-chain.jpg)\n\n‰∏äËø∞ÂõæÁâáÂ±ïÁ§∫‰∫ÜÂÆûÈôÖ‰∏öÂä°‰∏≠ÁöÑ‰∫ã‰ª∂ÈìæÁ§∫‰æãÔºåËØ•‰∫ã‰ª∂Èìæ‰ª•Âêç‰∏∫„ÄåÁ´ãÂç≥Ê≥®ÂÜå„ÄçÁöÑ Button ÊåâÈíÆÁªÑ‰ª∂Ëß¶ÂèëÔºåÂêéÁª≠ÁªèÁî± Input ËæìÂÖ•Ê°ÜÁªÑ‰ª∂Ëé∑ÂèñÂ∑≤ÂâçÁΩÆËæìÂÖ•ÁöÑÊâãÊú∫Âè∑Êï∞ÊçÆÔºåÂÜÖÈÉ®Êï∞ÊçÆÊµÅËé∑ÂèñÊï∞ÊçÆÂêéËß¶Âèë Input ÁªÑ‰ª∂ÂÜÖÁöÑÂè¶‰∏Ä‰∏™ÂèñÂÄºÁöÑ‰∏ªÂä®‰∫ã‰ª∂ÔºåÁÑ∂ÂêéÂèñÂÄº‰ºöÊ£ÄÈ™åËæìÂÖ•Ê°ÜËæìÂÖ•Êï∞ÊçÆÁöÑÊúâÊïàÊÄßÔºåÊ†πÊçÆÊúâÊïàÊÄßÂàÜÊµÅÂèñÂÄºÊàêÂäü‰∏éÂèñÂÄºÂ§±Ë¥•ÁöÑË¢´Âä®‰∫ã‰ª∂„ÄÇÂ¶ÇÊûúÂèñÂÄºÂ§±Ë¥•ÔºåÂàô‰ºöÂºπÂá∫ Message ÁªÑ‰ª∂ÊèêÁ§∫ËæìÂÖ•Ê°ÜËæìÂÖ•Êï∞ÊçÆÊó†ÊïàÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºõÂ¶ÇÊûúÂèñÂÄºÊàêÂäüÔºåÂàô‰ºöÁî®Ëé∑ÂèñÂà∞ÁöÑÊâãÊú∫Âè∑ÂíåÂÖ∂‰ªñÁõ∏ÂÖ≥ÂèÇÊï∞ËØ∑Ê±ÇÊé•Âè£È™åËØÅÔºåÂìçÂ∫îÂêéÊ†πÊçÆÂêéÂè∞ËøîÂõûÁªìÊûúÂàÜÊµÅ‰∏∫ËøõËÄåËØ∑Ê±ÇÂè¶‰∏Ä‰∏™ËØ∑Ê±ÇÁü≠‰ø°È™åËØÅÁ†ÅÁöÑÊé•Âè£ËøòÊòØÈúÄË¶ÅËøõË°åÈâ¥ÂÆöÁî®Êà∑‰∏∫ÁúüÂÆûÁî®Êà∑ÁöÑÂõæÂΩ¢È™åËØÅÁ†ÅÊìç‰Ωú„ÄÇËøôÂ∞±ÊûÑÊàê‰∏ÄÊù°ÂÆåÊï¥ÁöÑ‰∫ã‰ª∂ÈìæÔºåÊï¥‰∏™‰∫ã‰ª∂Èìæ‰∏≠Èô§‰∫ÜËæìÂÖ•Ê°ÜÈ¢ùÂ§ñÁöÑÊï∞ÊçÆÊî∂ÂÖ•Â§ñÔºåÁî®Êà∑Âè™ÈúÄËß¶Âèë‰∏ÄÊ¨°„ÄåÁ´ãÂç≥Ê≥®ÂÜå„ÄçÁöÑÊåâÈíÆÂç≥ÂèØÊ£ÄÈ™åÂêéÁª≠ÊµÅÁ®ã„ÄÇ\n\nÂú®Âà∂ÂÆö‰∫ã‰ª∂ÈìæÂΩ¢ÊàêÊñπÊ°àÂêéÔºåÈÇ£‰πàÊëÜÂú®Èù¢ÂâçÁöÑ‰ªçÊúâÂá†‰∏™ÈóÆÈ¢òÔºö\n\n- Â¶Ç‰ΩïÂêØÂä®ÊâßË°åÂçï‰∏™‰∫ã‰ª∂ÈìæÔºü\n- Â¶Ç‰ΩïÁü•ÈÅì‰∏Ä‰∏™‰∫ã‰ª∂ÈìæÊµÅÁ®ãÂ∑≤ÁªèÊâßË°åÂÆåÊØïÔºü\n- Âú®‰ªÄ‰πàÊó∂Êú∫ÂØπÊâßË°åÁªìÊûúËøõË°åÊñ≠Ë®ÄÊµãËØïÔºü\n\nÁªèËøáÂàÜÊûêÁé∞ÊúâÈæôÁå´ÁªÑ‰ª∂ÁöÑÁâπÁÇπ„ÄÇ‰∫ã‰ª∂ÈìæËß¶ÂèëÁßçÁ±ª‰∏ªË¶ÅÊúâ‰ª•‰∏ãÂá†‰∏™Á±ªÂûãÔºö\n\n- ÊµèËßàÂô®ÈªòËÆ§‰∫ã‰ª∂ÔºöÈ°µÈù¢ÂÆπÂô®Âä†ËΩΩÂÆåÊØï„ÄÅÁõ∏ÂÖ≥ SDK Ê≥®ÂÜåÊàêÂäüÁ≠â\n- Áî®Êà∑‰∫§‰∫íËß¶ÂèëÔºöÁÇπÂáªÊåâÈíÆ„ÄÅÁÇπÂáªÂõæÁâá\n- ÁªÑ‰ª∂Èí©Â≠êÔºàË¢´Âä®ÊÄßË¥®/Èó¥Êé•ÁöÑ‰∏ªÂä®‰∫ã‰ª∂ÔºâÔºöÊé•Âè£ËØ∑Ê±ÇÊàêÂäüÂ§±Ë¥•/Êî∂ÈõÜÂÄºÊàêÂäüÂ§±Ë¥•/Ë°®ÂçïÈ°πÂÄºÊîπÂèòÊó∂/ÂèäË¥∑ SDK ÁöÑ Ready ‰∫ã‰ª∂\n\nÂ¶ÇÊûúÂØπÊµèËßàÂô®ÁöÑÁöÑ‰∫ã‰ª∂Âæ™ÁéØÊú∫Âà∂ÊúâËøá‰∫ÜËß£ÁöÑÔºå‰∏çÈöæËÅîÊÉ≥Âà∞ËøôÈÉΩ‰∏é JavaScript ÂºÇÊ≠•‰∫ã‰ª∂Áõ∏ÂÖ≥Ôºö\n\n- ÂÆöÊó∂Âô® Timer\n- HTML Parsing\n- HTTP Request\n- I/OÔºàMouse„ÄÅEventÔºâ\n- Promise„ÄÇthen\n\nÊÄªÁªìÔºö\n\n- JavaScript ÂÆø‰∏ªÁéØÂ¢ÉËøêË°å‰∏≠ÁöÑ‰∫ã‰ª∂Âæ™ÁéØÊú∫Âà∂ÔºàÂÆöÊó∂Âô®„ÄÅUI Rendering„ÄÅI/O„ÄÅHTTP RequestÔºâ\n- Áî®‰∫éÂ≠òÂÇ®Áä∂ÊÄÅÁöÑË°®ÂçïÈ´òÈò∂ÁªÑ‰ª∂ÁöÑÂèñÂÄº‰∫ã‰ª∂ÔºàÂÖ∂ÂÆûÊòØÁõ∏ÂΩì‰∫éÂèñÂÄºÂêéÔºåÂú®ÁªÑ‰ª∂ÂÜÖÈÉ®ËÆæÂÆöÊ†°È™åÈÄªËæëÔºâ\n\nÊ†πÊçÆ‰∏äËø∞ÁîüÊàê‰∫ã‰ª∂ÈìæÁöÑÊú∫Âà∂ÔºåËÉΩÂ∞ÜÈ°µÈù¢ÈÖçÁΩÆÁöÑ‰∫ã‰ª∂ÈìæËá™Âä®Êï¥ÁêÜÁîüÊàêÂàóË°®ÔºåÂêéÁª≠ÈúÄË¶ÅÈÄöËøáÊµãËØïÊúçÂä°ËøõË°åËá™Âä®ÂåñÊµãËØï„ÄÇ\n\n## Âà©Áî® Puppeteer ËøõË°åËá™Âä®ÂåñÊµãËØï\n\nÊµãËØïÁî®ÁöÑÂêéÁ´ØÈ°πÁõÆ‰ΩøÁî® Egg ÁöÑÊäÄÊúØÊê≠Âª∫ÔºåÈâ¥‰∫éÂâçÂêéÁ´Ø‰ø°ÊÅØ‰∫§‰∫íÂèØËÉΩ‰ºöÊØîËæÉÈ¢ëÁπÅÁöÑÂéüÂõ†ÔºåÊê≠ÈÖç Socket.IO Âª∫Á´ãËµ∑ÂâçÂêéÁ´ØÁöÑÈÄöËÆØ„ÄÇ\n\nËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåSocket.IO ÂâçÂêéÁ´ØÈÄâÁî®ÁöÑÂÖ∑‰ΩìÂ∫ìÂåÖÂÖ∑ÊúâÂ∑ÆÂºÇÔºö\n\n- ÂâçÁ´ØÔºö`socket.io-client`\n- ÂêéÁ´ØÔºö`egg-socket.io`\n\n```\nchat\n‚îú‚îÄ‚îÄ app\n‚îÇ   ‚îú‚îÄ‚îÄ extend\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ helper.js\n‚îÇ   ‚îú‚îÄ‚îÄ io\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ default.js\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ middleware\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ connection.js\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ packet.js\n‚îÇ   ‚îî‚îÄ‚îÄ router.js\n‚îú‚îÄ‚îÄ config\n‚îî‚îÄ‚îÄ package.json\n```\n\nEgg Ê°ÜÊû∂ÁöÑÂ•ΩÂ§ÑÊòØÂÖ∂ÁîüÊÄÅÊèê‰æõ‰∫ÜÁõ∏ÂÖ≥ÁöÑÊèí‰ª∂ÔºåÂæàÂ•ΩÂú∞‰∏éÈ°πÁõÆÈõÜÊàêÔºåÂºÄÂèëËµ∑Êù•‰ΩìÈ™åÂæàÂ•Ω„ÄÇ\n\nÂÖ∑‰ΩìÂÆûÁé∞ÁªÜËäÇÂèÇËÄÉ [Egg - Socket.IO ÊïôÁ®ã](https://eggjs.org/zh-cn/tutorials/socketio.html)\n\nËÄåÂè¶‰∏ÄÊñπÈù¢ÔºåÈúÄË¶Å‰ΩøÁî®‰∏öÂÜÖËæÉ‰∏∫ÊàêÁÜüÁöÑÊµãËØïÊñπÊ≥ïËøõË°åÊµãËØïÔºåÊàë‰ª¨ÁªèËøáÂØπÊØîÁ†îÁ©∂ÂêéÈÄâÊã© Puppeteer ËøôÊ¨æÁî± Google Âá∫ÂìÅÁöÑÂºÄÊ∫êÊîØÊåÅÊó†Â§¥ÊµèËßàÂô®ÁöÑÊ°ÜÊû∂„ÄÇ\n\nPuppeteer Âü∫‰∫é Chrome DevTool ProtocolÔºàÁÆÄÁß∞ CDPÔºâÔºåËÄå CDP Âü∫‰∫é WebSocketÔºåÂà©Áî® WebSocket ÂÆûÁé∞‰∏éÊµèËßàÂô®ÂÜÖÊ†∏ÁöÑÂø´ÈÄüÈÄöÈÅì„ÄÇ\n\n![Puppeteer ÂÆûÁé∞Ê®°Âûã](https://img.mrsingsing.com/automatation-test-puppeteer-pyramid.png)\n\nPuppeteer ÂπøÊ≥õÂ∫îÁî®‰∫éÂêÑÂ§ßÂÖ¨Âè∏Âõ¢ÈòüÁöÑÂÆûÈôÖ‰∏öÂä°Âú∫ÊôØÔºö\n\n- ÈÄöÁî®\n  - ÁîüÊàêÈ°µÈù¢ÁöÑÂ±èÂπïÊà™ÂõæÂíå PDF\n  - Ëá™Âä®ÂåñÊèê‰∫§Ë°®Âçï„ÄÅÊ®°ÊãüÈîÆÈº†ËæìÂÖ•„ÄÅËá™Âä®ÂåñÂçïÂÖÉÊµãËØï\n  - ÁΩëÁ´ôÊÄßËÉΩÂàÜÊûêÔºöÂèØ‰ª•ÊäìÂèñÂπ∂Ë∑üË∏™ÁΩëÁ´ôÁöÑÊâßË°åÊó∂Èó¥ËΩ¥ÔºåÂ∏ÆÂä©ÂàÜÊûêÊïàÁéáÈóÆÈ¢ò\n  - ÊäìÂèñÁΩëÈ°µÂÜÖÂÆπÔºå‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑÁà¨Ëô´\n- ‰∏öÂä°ÂÆûË∑µ\n  - ÈòøÈáåÔºö[ÈòøÈáå 99 Â§ß‰øÉÊ®°ÂûãËØÜÂà´ËÉåÂêéÁöÑÊ†∑Êú¨ÁîüÊàê](https://yq.aliyun.com/articles/718188)\n  - ÊúâËµûÔºö[‰ΩøÁî® Puppeteer Êê≠Âª∫Áªü‰∏ÄÊµ∑Êä•Ê∏≤ÊüìÊúçÂä°](https://www.infoq.cn/article/dcSBL_9AzCwVPsaQ70dh)\n  - ÂÖ∂‰ªñÔºö[Âü∫‰∫é Puppeteer ÊâìÈÄ†ÂâçÁ´ØÂ∑°Ê£ÄÁõëÊéß‰ΩìÁ≥ª](https://www.jianshu.com/p/42585c78eeec)\n\nÈÇ£‰πà Node ÊúçÂä°ÊòØÂ¶Ç‰Ωï‰∏é Puppeteer ËøõË°åÊúçÂä°ÁöÑÂë¢Ôºü\n\nPuppeteer Êèê‰æõ‰∏ÄÁßçÊñπÊ≥ï `page.exposeFunction` Â∞ÜËÉΩÂú® Node ÊúçÂä°ËøõÁ®ãË∞ÉÁî®ÁöÑÂáΩÊï∞ÊñπÊ≥ïÂêçÊåÇËΩΩÂú® Puppeteer ÂàõÂª∫ÁöÑÊµãËØïÈ°µÈù¢ÁöÑÂÖ®Â±ÄÂèòÈáè `window` ‰∏ä„ÄÇ\n\nÂΩìÊàë‰ª¨Âú®Ëß¶Âèë‰∫ã‰ª∂ÈìæÂºÄÁ´Ø‰∫ã‰ª∂Êó∂ÔºåÈÄöËøá Node ÊúçÂä°ËøõËÄåÊìç‰ΩúÊó†Â§¥ÊµèËßàÂô®ÂÜÖÁöÑÈ°µÈù¢ÔºåÂπ∂Âú®‰∏ìÁî®‰∫éÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∫ã‰ª∂ÂÖ≥Á≥ª‰º†ÈÄí‰∏≠Ë∞ÉÁî®ËØ•ÊåÇËΩΩÂÖ®Â±ÄÁöÑÂáΩÊï∞ÔºåÂ∞ÜÁõ∏ÂÖ≥ÂèÇÊï∞ÁªìÊûúËøîÂõûÂà∞ Node ÊúçÂä°ÁöÑÁõ∏ÂÖ≥ÊúçÂä°‰∏≠„ÄÇ\n\n![Êó†Â§¥ÊµèËßàÂô®‰∫ã‰ª∂ÂìçÂ∫î‰ø°ÊÅØÂìçÂ∫îÊú∫Âà∂](https://img.mrsingsing.com/automatation-test-case.jpg)\n\n‰ªé‰∏äÂõæÂèØ‰ª•ÁúãÂà∞ÔºåÊØèÂΩìË¢´Âä®ÊÄßË¥®‰∫ã‰ª∂Ëß¶ÂèëÂêéÔºå‰∫ã‰ª∂Èìæ‰∏≠ÁöÑË¢´Âä®‰∫ã‰ª∂‰ºöÂú®Ëß¶ÂèëÊó∂È¢ùÂ§ñÂèëÈÄÅÊ∂àÊÅØÂèëÈÄÅÂà∞ Node ÊúçÂä°ÔºåËé∑ÂæóÂìçÂ∫îÂêéË∑ëËøáÊµãËØïÁî®‰æãÂç≥Â∞ÜÊúÄÁªàÁªìÊûúËøîÂõûÂà∞ÂâçÁ´Ø„ÄÇ\n\n**ÈÇ£‰πàÂêåÊó∂Â§ö‰∏™ Node.js ËøõÁ®ã‰ºöÈÅ≠ÈÅáÊÄßËÉΩÈóÆÈ¢òÔºü**\n\nÂ≠òÂú®ÁöÑÈóÆÈ¢òÔºö\n\n- ÂêØÂä®ËÄóÊó∂Èïø\n  - Â§çÁî®ÊµèËßàÂô®ÂÆû‰æãÂíåÈ°µÈù¢ÂÆû‰æã\n  - Puppeteer ÁöÑ‰ºòÂåñÊâãÊÆµ => Chromium Command Line\n- ÊÄßËÉΩÊ∂àËÄóÈ´ò\n  - ÂÆöÊó∂ÈáçÂêØÊó†Â§¥ÊµèËßàÂô®ÂÆû‰æãÁöÑÊú∫Âà∂ => ÂÆöÊó∂Âô®\n\nÊó†Â§¥ÊµèËßàÂô®ÂÆû‰æã‰∏éÊµãËØïÈ°µÈù¢ Tab ÊåÅ‰πÖÂåñ\n\n- ÈÄöËøáËØ∑Ê±Ç Headless Chrome ËøõÁ®ãÁ´ØÂè£ÔºåËé∑ÂèñÊó†Â§¥ÊµèËßàÂô®ÂÆû‰æãÁöÑ WS URLÔºåÈÄöËøá `browser.connect` ÈáçËøû\n- Radis ÁºìÂ≠ò\n- Â≠òÊñá‰ª∂\n- Â≠òÂú® Egg App Config ‰∏≠ÔºàÁõ∏ÂΩì‰∫éÂÖ®Â±ÄÂèòÈáèÔºâ\n\nÂ¶ÇÊ≠§ËøôËà¨ÔºåÂ∞±Â∞ÜÊï¥‰∏™ÊµÅÁ®ãÈÉΩÂÆûÁé∞‰∫ÜÈó≠ÁéØÔºö\n\n1. Ê†πÊçÆÈ°µÈù¢ÈÖçÁΩÆÊï∞ÊçÆÁîüÊàê‰∫ã‰ª∂ÈìæÔºàÂàóË°®Ôºâ\n2. ÈÄâÊã©ÂâçÁΩÆÊï∞ÊçÆËæìÂÖ•ÂèäÊµãËØïÁî®‰æã\n3. Âª∫Á´ãÂâçÂêéÁ´ØÈÄöËÆØÂèäÊµãËØïÊúçÂä°ÂíåÊó†Â§¥ÊµèËßàÂô®ÁöÑÈÄöËÆØ\n4. Ëß¶ÂèëÁî®Êà∑‰∫§‰∫í‰∫ã‰ª∂\n5. ÊâßË°åÊó†Â§¥ÊµèËßàÂô®ÂÜÖÈ°µÈù¢ÂØπÂ∫î‰∫ã‰ª∂\n6. ËøîÂõûÂìçÂ∫îÁªìÊûú\n","slug":"event-chain-based-automatic-test-scheme-of-totorox","published":1,"updated":"2021-09-29T18:09:28.988Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867n6q0006bmjdvpztr4ci","content":"<p><strong>Â§ßÁ∫≤Ôºö</strong></p>\n<ul>\n<li>Âü∫‰∫éÈæôÁå´ X ‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®</li>\n<li>‰ΩøÁî® Egg Âíå Socket.IO Êê≠Âª∫Ëá™Âä®ÂåñÊµãËØïÊúçÂä°</li>\n<li>Âà©Áî® Puppeteer ËøõË°åËá™Âä®ÂåñÊµãËØï</li>\n<li>ÊµãËØïÁî®‰æãÁöÑÊâßË°åÊñπÊ°àÁ†îËÆ®</li>\n</ul>\n<p>ÈæôÁå´ X ‰Ωú‰∏∫ÊúçÂä°‰∫é‰∫ßÂìÅ„ÄÅËøêËê•„ÄÅÂºÄÂèëÁöÑÈ°µÈù¢Êê≠Âª∫Âπ≥Âè∞ÔºåÈÄöËøáÂèØËßÜÂåñÁöÑÊãñÊãΩ„ÄÅÈÖçÁΩÆÁîüÊàê‰∏öÂä°ÊâÄÈúÄÁöÑÂêÑÁßçÈ°µÈù¢„ÄÇÂú®Êó•Â∏∏ÁöÑÂºÄÂèë‰∏≠ÔºåÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÈÉΩÊòØÁî±ËøêËê•Áõ¥Êé•ÂÆåÊàêÈúÄÊ±ÇÔºåÊàñÊòØËøêËê•‰∫ßÂìÅÁõ¥Êé•Êèê‰∫§Â∑•ÂçïÂêéÁî±ÂºÄÂèëËøõË°åÂÆåÊàêÔºåÊµãËØïÂú®ËØÑÂÆ°Èò∂ÊÆµÁöÑÂèÇ‰∏éÁéá‰∏çÈ´ò„ÄÇËøôÂ∞±ÂØºËá¥ÊµãËØïÂú®ÂäüËÉΩÈ°µÈù¢ÁöÑÊµãËØï‰∏≠Êó†Ê≥ïÂÖ®Êñπ‰ΩçÂú∞Ê£ÄÊµãÈ°µÈù¢ÁöÑÂäüËÉΩÊïàÊûúÔºåÂêåÊó∂‰πüÁî±‰∫éÈæôÁå´ X È°πÁõÆÊµãËØïÂ∞ëÊúâÂèÇ‰∏éÔºåÊµãËØïÂèÇ‰∏éÁöÑÂ§öÊòØÁªèÁî±ÈæôÁå´ X ÁîüÊàêÁöÑÈ°µÈù¢ÁöÑÂäüËÉΩÊµãËØïÔºåÊâÄ‰ª•ÊµãËØïÂØπ‰∫éÈæôÁå´ X È°µÈù¢ÁöÑÂÜÖÂú®ÈÄªËæë‰πüÁº∫‰πè‰∫ÜËß£„ÄÇÂõ†Ê≠§Ôºå‰∏∫ÊµãËØïÊñπÊèê‰æõËÉΩÊéåÊè°ÈæôÁå´ X È°µÈù¢ÈÄªËæëÂÖ≥Á≥ªÁöÑÂ∑•ÂÖ∑ÂØπÊèêÂçáÈ°µÈù¢ÁöÑËøêË°åË¥®ÈáèÂÖ∑ÊúâÈáçË¶ÅÊÑè‰πâ„ÄÇ</p>\n<p>Êú¨ÊñáÈíàÂØπ‰∏äËø∞ÊÉÖÂÜµÔºåÂõ¢ÈòüÂºÄÂèëÂá∫ÈíàÂØπÈæôÁå´ X ÁöÑ‰∫ã‰ª∂ÈìæËá™Âä®ÂåñÊµãËØïÊñπÊ°àÔºåÁî±‰∫é‰∏é‰∏öÂä°ËÄ¶ÂêàÂ∫¶ÊûÅÈ´òÔºåÂèØËÉΩÂØπÂÖ∂‰ªñÂÖ¨Âè∏Âõ¢ÈòüÊú™ÂøÖÂÖ∑ÊúâÈÄöÁî®ÊÄßÔºåÊùÉÂΩìÊäÄÊúØÊñπÊ°àÂèÇËÄÉ‰∏é‰∫§ÊµÅ„ÄÇ</p>\n<a id=\"more\"></a>\n<p>ÂºÄÂßãÂâçÔºåÁõ¥Êé•ÊäõÂá∫Êï¥‰∏™‰∏öÂä°ÊµÅÁ®ãÁöÑÊ®°ÂºèÂõæÔºå‰ª•‰æøÂØπËØ•ÂäüËÉΩÊúâ‰∏™ÂÖ®Ë≤åÁöÑËÆ§Áü•„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/automatation-test-workflow.jpg\" alt=\"Ëá™Âä®ÂåñÊµãËØï‰∏öÂä°ÊµÅÁ®ãÂõæ\"></p>\n<p>ÁÆÄÂçïÈòêËø∞‰∏Ä‰∏ãÂèÇ‰∏éÊµÅÁ®ãÁöÑÂá†‰∏™ÊúçÂä°ÔºåÂåÖÊã¨Áî®Êà∑Êìç‰ΩúËá™Âä®ÂåñÊµãËØïÁöÑÂâçÁ´ØÁïåÈù¢„ÄÅËé∑ÂèñÈ°µÈù¢Êï∞ÊçÆÁöÑÈæôÁå´ X ÊúçÂä°„ÄÅÁî®‰∫éËøõË°åÊµãËØïÈÄªËæëÁöÑÊúçÂä°‰ª•ÂèäËøûÊé•ÊµãËØïÊúçÂä°ÁöÑÊó†Â§¥ÊµèËßàÂô®Á´Ø„ÄÇ</p>\n<p>‰∏ªÊµÅÁ®ãÂ∞±ÊòØÈÄöËøáËé∑ÂèñÈ°µÈù¢Êï∞ÊçÆÁîüÊàê‰∫ã‰ª∂ÈìæÔºåÊµãËØï‰∫∫ÂëòÈÖçÁΩÆÊµãËØïÁî®‰æãÂêéËß¶ÂèëÂØπÂ∫î‰∫ã‰ª∂ÔºåÁî±ÊµãËØïÊúçÂä°ÂíåÊó†Â§¥ÊµèËßàÂô®Ëá™Âä®ÂÆåÊàêÂØπÂ∫îÈìæÊù°ÁöÑÊµãËØïÈúÄÊ±ÇÔºåÊúÄÂêéÂâçÁ´ØÈ°µÈù¢ÊòæÁ§∫ÊµãËØïË¶ÜÁõñÁéáÂèäÊàêÂäüÁéá„ÄÇ</p>\n<h2 id=\"Âü∫‰∫éÈæôÁå´-X-‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®\"><a href=\"#Âü∫‰∫éÈæôÁå´-X-‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®\" class=\"headerlink\" title=\"Âü∫‰∫éÈæôÁå´ X ‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®\"></a>Âü∫‰∫éÈæôÁå´ X ‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®</h2><p>Âú®ËØ¥Êòé‰∫ã‰ª∂ÈìæÁöÑÁîüÊàêÊú∫Âà∂ÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÁ†îÁ©∂‰∏Ä‰∏ãÈæôÁå´ X ÁöÑÈÄöËÆØÊú∫Âà∂„ÄÇ</p>\n<p>ÈæôÁå´ X ÁöÑÊï∞ÊçÆÈÄöËÆØÊú∫Âà∂Áî±ËÆ¢ÈòÖÂèëÂ∏ÉÊ®°ÂºèÊú∫Âà∂ÁªÑÊàêÔºå‰ª•‰∏ãÁΩóÂàó‰∫ÜÂú®ÂÆûÈôÖ‰∏öÂä°‰∏≠ÁªÑ‰ª∂Èó¥ÈÄöËÆØÁöÑÊµÅÂêëÁ§∫ÊÑèÂõæÔºö</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">A ÁªÑ‰ª∂ÔºàA1 ‰∫ã‰ª∂Ôºâ-&gt; ÂèëÂ∏É‰∫ã‰ª∂Ôºà‰∏ªÂä®‰∫ã‰ª∂Ôºâ -&gt; ËÆ¢ÈòÖ‰∫ã‰ª∂ÔºàË¢´Âä®‰∫ã‰ª∂Ôºâ -&gt; B ÁªÑ‰ª∂ÔºàB1 ‰∫ã‰ª∂Ôºâ</span><br><span class=\"line\"></span><br><span class=\"line\">B ÁªÑ‰ª∂ÔºàB2 ‰∫ã‰ª∂Ôºâ-&gt; C ÁªÑ‰ª∂ÔºàC1 ‰∫ã‰ª∂Ôºâ</span><br><span class=\"line\"></span><br><span class=\"line\">Á´ãÂç≥Ê≥®ÂÜåÔºàButton ÁªÑ‰ª∂Ôºâ-&gt; ÊòæÁ§∫ÂºπÁ™óÔºàFixedContainer ÁªÑ‰ª∂Ôºâ</span><br><span class=\"line\"></span><br><span class=\"line\">Á´ãÂç≥Á≠æÂà∞ÔºàButton ÁªÑ‰ª∂Ôºâ-&gt; Á≠æÂà∞Êé•Âè£ÔºàInterface ÁªÑ‰ª∂Ôºâ</span><br><span class=\"line\"></span><br><span class=\"line\">Á≠æÂà∞Êé•Âè£ÔºàInterface ÁªÑ‰ª∂Ôºâ-&gt; Á≠æÂà∞ÊàêÂäüÔºàInterface ÁªÑ‰ª∂Ôºâ</span><br></pre></td></tr></table></figure>\n<p>ÁªÑ‰ª∂ÁªÑÁªáÊñπÂºèÊòØÊâÅÂπ≥ÂåñÁöÑÔºå‰∫ã‰ª∂ÂÖ≥Á≥ªÂÖ∑ÊúâÈõ∂Êï£ÂåñÁöÑÁâπÁÇπ„ÄÇ</p>\n<p>Áî®Êà∑Ëß¶ÂèëÁªÑ‰ª∂ A ÁöÑ A1 ‰∫ã‰ª∂ÔºåÁªèËøáÂèëÂ∏ÉËÆ¢ÈòÖÊú∫Âà∂Ëß¶ËææÁªÑ‰ª∂ B ÁöÑ B1 ‰∫ã‰ª∂„ÄÇÂ¶ÇÊûú B1 ‰∫ã‰ª∂ÊòØÁ±ª‰ºº‰∫éÊòæÁ§∫/ÈöêËóè„ÄÅÊîπÂèòÊ†∑ÂºèÁ≠âÊìç‰ΩúÔºåÈÇ£‰πàÂ±û‰∫é‰∏Ä‰∏™Êï∞ÊçÆÊµÅÂêëÁöÑÁªàÁÇπ„ÄÇ</p>\n<p>Â¶ÇÊûú B1 ‰∫ã‰ª∂ÊòØÁ±ª‰ºº‰∫éÂèëÈÄÅËØ∑Ê±ÇÁ≠â‰∫ã‰ª∂ÔºåËØ∑Ê±ÇÂìçÂ∫îÊàêÂäüÂç≥ÈúÄË¶ÅÊâßË°åÂè¶‰∏Ä‰∏™ÂõûË∞ÉÂëΩ‰ª§Ôºå‰æãÂ¶ÇÊàë‰ª¨Êää B2 Áúã‰ΩúËØ∑Ê±ÇÁöÑÂìçÂ∫îÊàêÂäü <code>fetchSuccess</code> ‰∫ã‰ª∂ÔºåÂΩìËØ∑Ê±ÇÂìçÂ∫îÊàêÂäüÂêéÔºåËá™Âä®ÊâßË°åÂêéÁª≠ËøûÊé•ÁöÑÁªÑ‰ª∂ C ÁöÑ C1 ‰∫ã‰ª∂„ÄÇ</p>\n<p>‰ªé‰∏äËø∞ËØ¥Êòé‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÊûÑÂª∫Âá∫ÈæôÁå´ X ÁªÑ‰ª∂Èó¥‰∫ã‰ª∂ÊµÅÊ®°Âûã <code>ÁªÑ‰ª∂ A ‰∫ã‰ª∂ A1 -&gt; ÁªÑ‰ª∂B‰∫ã‰ª∂B1</code>Ôºå<code>ÁªÑ‰ª∂B‰∫ã‰ª∂B2 =&gt; ÁªÑ‰ª∂C‰∫ã‰ª∂C1</code>„ÄÇ</p>\n<p>Áî±‰∫éËÆ¢ÈòÖÂèëÂ∏ÉÈÄöËÆØÊú∫Âà∂ÁöÑÂ≠òÂú®ÔºåÂèëÂ∏É‰∫ã‰ª∂ÔºàÊàë‰ª¨Áß∞‰∏∫‰∏ªÂä®‰∫ã‰ª∂ÔºâÂ§©ÁÑ∂Âú∞‰∏éËÆ¢ÈòÖ‰∫ã‰ª∂ÔºàÊàë‰ª¨Áß∞‰∏∫Ë¢´Âä®‰∫ã‰ª∂ÔºâËá™Âä®ËøûÊé•Ëµ∑Êù•Ôºå‰ΩÜÊòØÂÖ≥ÈîÆÁöÑËäÇÁÇπÂú®‰∫éÔºå‰ªç‰ª•‰∏äËø∞ÁªÑ‰ª∂ B ÁöÑ‰æãÂ≠êÊï∞ÂêçÔºåÁªÑ‰ª∂ B ÂÜÖÂ≠òÂú®‰∏§‰∏™ÂÆö‰πâÁöÑ‰∫ã‰ª∂ B1 Âíå B2ÔºåÂÆÉ‰ª¨ÈÄöËøáÁªÑ‰ª∂ÂÜÖÈÉ®ÁöÑ‰ª£Á†ÅËÆæÂÆöÁöÑÂõûË∞ÉËÅîÁ≥ªËµ∑Êù•Ôºå‰ΩÜÊòØÂú®Êàë‰ª¨ÁöÑÈÖçÁΩÆÊï∞ÊçÆÂ±ÇÈù¢Âπ∂Êú™Ëß£ÂÜ≥ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶Å‰∏Ä‰ªΩÊ∏ÖÂçïÊÄªÁªìÊâÄÊúâÈæôÁå´ X ÁªÑ‰ª∂‰∏≠Â≠òÂú®ÁöÑÁªÑ‰ª∂ÂÜÖË¢´Âä®Âíå‰∏ªÂä®‰∫ã‰ª∂ÈùûÁî®Êà∑Ëß¶ÂèëËøûÊé•ÁöÑÂÖ≥Á≥ªË°®ÔºåËøô‰∏™ÂØπ‰∫éÂêéÁª≠ÊûÑÊàê‰∫ã‰ª∂ÈìæÊòØÂÖ≥ÈîÆÁöÑ‰∏ÄÊ≠•„ÄÇ</p>\n<ol>\n<li>Â∞ÜÈõ∂Êï£‰∫ã‰ª∂ÂÖ≥Á≥ªÔºå‰ª•Êî∂ÈõÜÁªÑ‰ª∂‰∫ã‰ª∂ÂÜÖËÅîÁöÑÂÖ≥Á≥ªË°®Ëß£ÂÜ≥Âçï‰∏™‰∫ã‰ª∂ÈÄöËÆØÈó¥Êó†Ê≥ïËøûÁªìÁöÑÈóÆÈ¢òÔºåÊúÄÁªàÁªÑÁªáÊàê‰∫ã‰ª∂Èìæ</li>\n<li>ÈÄöËøáÊüê‰∏Ä‰∫ã‰ª∂ÔºåËÉΩËá™Âä®Ëß¶ÂèëÂêéÁª≠‰∫ã‰ª∂ÔºàÊüê‰∫õÈæôÁå´ X ÂÆö‰πâ‰∏∫‰∏ªÂä®‰∫ã‰ª∂Âπ∂ÈùûÊâÄÊúâÁî±Áî®Êà∑Ëß¶ÂèëÔºå‰πüËÉΩÊòØÁªÑ‰ª∂ÂÜÖÈÉ®Ëß¶ÂèëÔºâ</li>\n</ol>\n<p><img src=\"https://img.mrsingsing.com/automatation-test-events-chain.jpg\" alt=\"‰∫ã‰ª∂ÈìæÁ§∫ÊÑèÂõæ\"></p>\n<p>‰∏äËø∞ÂõæÁâáÂ±ïÁ§∫‰∫ÜÂÆûÈôÖ‰∏öÂä°‰∏≠ÁöÑ‰∫ã‰ª∂ÈìæÁ§∫‰æãÔºåËØ•‰∫ã‰ª∂Èìæ‰ª•Âêç‰∏∫„ÄåÁ´ãÂç≥Ê≥®ÂÜå„ÄçÁöÑ Button ÊåâÈíÆÁªÑ‰ª∂Ëß¶ÂèëÔºåÂêéÁª≠ÁªèÁî± Input ËæìÂÖ•Ê°ÜÁªÑ‰ª∂Ëé∑ÂèñÂ∑≤ÂâçÁΩÆËæìÂÖ•ÁöÑÊâãÊú∫Âè∑Êï∞ÊçÆÔºåÂÜÖÈÉ®Êï∞ÊçÆÊµÅËé∑ÂèñÊï∞ÊçÆÂêéËß¶Âèë Input ÁªÑ‰ª∂ÂÜÖÁöÑÂè¶‰∏Ä‰∏™ÂèñÂÄºÁöÑ‰∏ªÂä®‰∫ã‰ª∂ÔºåÁÑ∂ÂêéÂèñÂÄº‰ºöÊ£ÄÈ™åËæìÂÖ•Ê°ÜËæìÂÖ•Êï∞ÊçÆÁöÑÊúâÊïàÊÄßÔºåÊ†πÊçÆÊúâÊïàÊÄßÂàÜÊµÅÂèñÂÄºÊàêÂäü‰∏éÂèñÂÄºÂ§±Ë¥•ÁöÑË¢´Âä®‰∫ã‰ª∂„ÄÇÂ¶ÇÊûúÂèñÂÄºÂ§±Ë¥•ÔºåÂàô‰ºöÂºπÂá∫ Message ÁªÑ‰ª∂ÊèêÁ§∫ËæìÂÖ•Ê°ÜËæìÂÖ•Êï∞ÊçÆÊó†ÊïàÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºõÂ¶ÇÊûúÂèñÂÄºÊàêÂäüÔºåÂàô‰ºöÁî®Ëé∑ÂèñÂà∞ÁöÑÊâãÊú∫Âè∑ÂíåÂÖ∂‰ªñÁõ∏ÂÖ≥ÂèÇÊï∞ËØ∑Ê±ÇÊé•Âè£È™åËØÅÔºåÂìçÂ∫îÂêéÊ†πÊçÆÂêéÂè∞ËøîÂõûÁªìÊûúÂàÜÊµÅ‰∏∫ËøõËÄåËØ∑Ê±ÇÂè¶‰∏Ä‰∏™ËØ∑Ê±ÇÁü≠‰ø°È™åËØÅÁ†ÅÁöÑÊé•Âè£ËøòÊòØÈúÄË¶ÅËøõË°åÈâ¥ÂÆöÁî®Êà∑‰∏∫ÁúüÂÆûÁî®Êà∑ÁöÑÂõæÂΩ¢È™åËØÅÁ†ÅÊìç‰Ωú„ÄÇËøôÂ∞±ÊûÑÊàê‰∏ÄÊù°ÂÆåÊï¥ÁöÑ‰∫ã‰ª∂ÈìæÔºåÊï¥‰∏™‰∫ã‰ª∂Èìæ‰∏≠Èô§‰∫ÜËæìÂÖ•Ê°ÜÈ¢ùÂ§ñÁöÑÊï∞ÊçÆÊî∂ÂÖ•Â§ñÔºåÁî®Êà∑Âè™ÈúÄËß¶Âèë‰∏ÄÊ¨°„ÄåÁ´ãÂç≥Ê≥®ÂÜå„ÄçÁöÑÊåâÈíÆÂç≥ÂèØÊ£ÄÈ™åÂêéÁª≠ÊµÅÁ®ã„ÄÇ</p>\n<p>Âú®Âà∂ÂÆö‰∫ã‰ª∂ÈìæÂΩ¢ÊàêÊñπÊ°àÂêéÔºåÈÇ£‰πàÊëÜÂú®Èù¢ÂâçÁöÑ‰ªçÊúâÂá†‰∏™ÈóÆÈ¢òÔºö</p>\n<ul>\n<li>Â¶Ç‰ΩïÂêØÂä®ÊâßË°åÂçï‰∏™‰∫ã‰ª∂ÈìæÔºü</li>\n<li>Â¶Ç‰ΩïÁü•ÈÅì‰∏Ä‰∏™‰∫ã‰ª∂ÈìæÊµÅÁ®ãÂ∑≤ÁªèÊâßË°åÂÆåÊØïÔºü</li>\n<li>Âú®‰ªÄ‰πàÊó∂Êú∫ÂØπÊâßË°åÁªìÊûúËøõË°åÊñ≠Ë®ÄÊµãËØïÔºü</li>\n</ul>\n<p>ÁªèËøáÂàÜÊûêÁé∞ÊúâÈæôÁå´ÁªÑ‰ª∂ÁöÑÁâπÁÇπ„ÄÇ‰∫ã‰ª∂ÈìæËß¶ÂèëÁßçÁ±ª‰∏ªË¶ÅÊúâ‰ª•‰∏ãÂá†‰∏™Á±ªÂûãÔºö</p>\n<ul>\n<li>ÊµèËßàÂô®ÈªòËÆ§‰∫ã‰ª∂ÔºöÈ°µÈù¢ÂÆπÂô®Âä†ËΩΩÂÆåÊØï„ÄÅÁõ∏ÂÖ≥ SDK Ê≥®ÂÜåÊàêÂäüÁ≠â</li>\n<li>Áî®Êà∑‰∫§‰∫íËß¶ÂèëÔºöÁÇπÂáªÊåâÈíÆ„ÄÅÁÇπÂáªÂõæÁâá</li>\n<li>ÁªÑ‰ª∂Èí©Â≠êÔºàË¢´Âä®ÊÄßË¥®/Èó¥Êé•ÁöÑ‰∏ªÂä®‰∫ã‰ª∂ÔºâÔºöÊé•Âè£ËØ∑Ê±ÇÊàêÂäüÂ§±Ë¥•/Êî∂ÈõÜÂÄºÊàêÂäüÂ§±Ë¥•/Ë°®ÂçïÈ°πÂÄºÊîπÂèòÊó∂/ÂèäË¥∑ SDK ÁöÑ Ready ‰∫ã‰ª∂</li>\n</ul>\n<p>Â¶ÇÊûúÂØπÊµèËßàÂô®ÁöÑÁöÑ‰∫ã‰ª∂Âæ™ÁéØÊú∫Âà∂ÊúâËøá‰∫ÜËß£ÁöÑÔºå‰∏çÈöæËÅîÊÉ≥Âà∞ËøôÈÉΩ‰∏é JavaScript ÂºÇÊ≠•‰∫ã‰ª∂Áõ∏ÂÖ≥Ôºö</p>\n<ul>\n<li>ÂÆöÊó∂Âô® Timer</li>\n<li>HTML Parsing</li>\n<li>HTTP Request</li>\n<li>I/OÔºàMouse„ÄÅEventÔºâ</li>\n<li>Promise„ÄÇthen</li>\n</ul>\n<p>ÊÄªÁªìÔºö</p>\n<ul>\n<li>JavaScript ÂÆø‰∏ªÁéØÂ¢ÉËøêË°å‰∏≠ÁöÑ‰∫ã‰ª∂Âæ™ÁéØÊú∫Âà∂ÔºàÂÆöÊó∂Âô®„ÄÅUI Rendering„ÄÅI/O„ÄÅHTTP RequestÔºâ</li>\n<li>Áî®‰∫éÂ≠òÂÇ®Áä∂ÊÄÅÁöÑË°®ÂçïÈ´òÈò∂ÁªÑ‰ª∂ÁöÑÂèñÂÄº‰∫ã‰ª∂ÔºàÂÖ∂ÂÆûÊòØÁõ∏ÂΩì‰∫éÂèñÂÄºÂêéÔºåÂú®ÁªÑ‰ª∂ÂÜÖÈÉ®ËÆæÂÆöÊ†°È™åÈÄªËæëÔºâ</li>\n</ul>\n<p>Ê†πÊçÆ‰∏äËø∞ÁîüÊàê‰∫ã‰ª∂ÈìæÁöÑÊú∫Âà∂ÔºåËÉΩÂ∞ÜÈ°µÈù¢ÈÖçÁΩÆÁöÑ‰∫ã‰ª∂ÈìæËá™Âä®Êï¥ÁêÜÁîüÊàêÂàóË°®ÔºåÂêéÁª≠ÈúÄË¶ÅÈÄöËøáÊµãËØïÊúçÂä°ËøõË°åËá™Âä®ÂåñÊµãËØï„ÄÇ</p>\n<h2 id=\"Âà©Áî®-Puppeteer-ËøõË°åËá™Âä®ÂåñÊµãËØï\"><a href=\"#Âà©Áî®-Puppeteer-ËøõË°åËá™Âä®ÂåñÊµãËØï\" class=\"headerlink\" title=\"Âà©Áî® Puppeteer ËøõË°åËá™Âä®ÂåñÊµãËØï\"></a>Âà©Áî® Puppeteer ËøõË°åËá™Âä®ÂåñÊµãËØï</h2><p>ÊµãËØïÁî®ÁöÑÂêéÁ´ØÈ°πÁõÆ‰ΩøÁî® Egg ÁöÑÊäÄÊúØÊê≠Âª∫ÔºåÈâ¥‰∫éÂâçÂêéÁ´Ø‰ø°ÊÅØ‰∫§‰∫íÂèØËÉΩ‰ºöÊØîËæÉÈ¢ëÁπÅÁöÑÂéüÂõ†ÔºåÊê≠ÈÖç Socket.IO Âª∫Á´ãËµ∑ÂâçÂêéÁ´ØÁöÑÈÄöËÆØ„ÄÇ</p>\n<p>ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåSocket.IO ÂâçÂêéÁ´ØÈÄâÁî®ÁöÑÂÖ∑‰ΩìÂ∫ìÂåÖÂÖ∑ÊúâÂ∑ÆÂºÇÔºö</p>\n<ul>\n<li>ÂâçÁ´ØÔºö<code>socket.io-client</code></li>\n<li>ÂêéÁ´ØÔºö<code>egg-socket.io</code></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chat</span><br><span class=\"line\">‚îú‚îÄ‚îÄ app</span><br><span class=\"line\">‚îÇ   ‚îú‚îÄ‚îÄ extend</span><br><span class=\"line\">‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ helper.js</span><br><span class=\"line\">‚îÇ   ‚îú‚îÄ‚îÄ io</span><br><span class=\"line\">‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller</span><br><span class=\"line\">‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ default.js</span><br><span class=\"line\">‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ middleware</span><br><span class=\"line\">‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ connection.js</span><br><span class=\"line\">‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ packet.js</span><br><span class=\"line\">‚îÇ   ‚îî‚îÄ‚îÄ router.js</span><br><span class=\"line\">‚îú‚îÄ‚îÄ config</span><br><span class=\"line\">‚îî‚îÄ‚îÄ package.json</span><br></pre></td></tr></table></figure>\n<p>Egg Ê°ÜÊû∂ÁöÑÂ•ΩÂ§ÑÊòØÂÖ∂ÁîüÊÄÅÊèê‰æõ‰∫ÜÁõ∏ÂÖ≥ÁöÑÊèí‰ª∂ÔºåÂæàÂ•ΩÂú∞‰∏éÈ°πÁõÆÈõÜÊàêÔºåÂºÄÂèëËµ∑Êù•‰ΩìÈ™åÂæàÂ•Ω„ÄÇ</p>\n<p>ÂÖ∑‰ΩìÂÆûÁé∞ÁªÜËäÇÂèÇËÄÉ <a href=\"https://eggjs.org/zh-cn/tutorials/socketio.html\" target=\"_blank\" rel=\"noopener\">Egg - Socket.IO ÊïôÁ®ã</a></p>\n<p>ËÄåÂè¶‰∏ÄÊñπÈù¢ÔºåÈúÄË¶Å‰ΩøÁî®‰∏öÂÜÖËæÉ‰∏∫ÊàêÁÜüÁöÑÊµãËØïÊñπÊ≥ïËøõË°åÊµãËØïÔºåÊàë‰ª¨ÁªèËøáÂØπÊØîÁ†îÁ©∂ÂêéÈÄâÊã© Puppeteer ËøôÊ¨æÁî± Google Âá∫ÂìÅÁöÑÂºÄÊ∫êÊîØÊåÅÊó†Â§¥ÊµèËßàÂô®ÁöÑÊ°ÜÊû∂„ÄÇ</p>\n<p>Puppeteer Âü∫‰∫é Chrome DevTool ProtocolÔºàÁÆÄÁß∞ CDPÔºâÔºåËÄå CDP Âü∫‰∫é WebSocketÔºåÂà©Áî® WebSocket ÂÆûÁé∞‰∏éÊµèËßàÂô®ÂÜÖÊ†∏ÁöÑÂø´ÈÄüÈÄöÈÅì„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/automatation-test-puppeteer-pyramid.png\" alt=\"Puppeteer ÂÆûÁé∞Ê®°Âûã\"></p>\n<p>Puppeteer ÂπøÊ≥õÂ∫îÁî®‰∫éÂêÑÂ§ßÂÖ¨Âè∏Âõ¢ÈòüÁöÑÂÆûÈôÖ‰∏öÂä°Âú∫ÊôØÔºö</p>\n<ul>\n<li>ÈÄöÁî®<ul>\n<li>ÁîüÊàêÈ°µÈù¢ÁöÑÂ±èÂπïÊà™ÂõæÂíå PDF</li>\n<li>Ëá™Âä®ÂåñÊèê‰∫§Ë°®Âçï„ÄÅÊ®°ÊãüÈîÆÈº†ËæìÂÖ•„ÄÅËá™Âä®ÂåñÂçïÂÖÉÊµãËØï</li>\n<li>ÁΩëÁ´ôÊÄßËÉΩÂàÜÊûêÔºöÂèØ‰ª•ÊäìÂèñÂπ∂Ë∑üË∏™ÁΩëÁ´ôÁöÑÊâßË°åÊó∂Èó¥ËΩ¥ÔºåÂ∏ÆÂä©ÂàÜÊûêÊïàÁéáÈóÆÈ¢ò</li>\n<li>ÊäìÂèñÁΩëÈ°µÂÜÖÂÆπÔºå‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑÁà¨Ëô´</li>\n</ul>\n</li>\n<li>‰∏öÂä°ÂÆûË∑µ<ul>\n<li>ÈòøÈáåÔºö<a href=\"https://yq.aliyun.com/articles/718188\" target=\"_blank\" rel=\"noopener\">ÈòøÈáå 99 Â§ß‰øÉÊ®°ÂûãËØÜÂà´ËÉåÂêéÁöÑÊ†∑Êú¨ÁîüÊàê</a></li>\n<li>ÊúâËµûÔºö<a href=\"https://www.infoq.cn/article/dcSBL_9AzCwVPsaQ70dh\" target=\"_blank\" rel=\"noopener\">‰ΩøÁî® Puppeteer Êê≠Âª∫Áªü‰∏ÄÊµ∑Êä•Ê∏≤ÊüìÊúçÂä°</a></li>\n<li>ÂÖ∂‰ªñÔºö<a href=\"https://www.jianshu.com/p/42585c78eeec\" target=\"_blank\" rel=\"noopener\">Âü∫‰∫é Puppeteer ÊâìÈÄ†ÂâçÁ´ØÂ∑°Ê£ÄÁõëÊéß‰ΩìÁ≥ª</a></li>\n</ul>\n</li>\n</ul>\n<p>ÈÇ£‰πà Node ÊúçÂä°ÊòØÂ¶Ç‰Ωï‰∏é Puppeteer ËøõË°åÊúçÂä°ÁöÑÂë¢Ôºü</p>\n<p>Puppeteer Êèê‰æõ‰∏ÄÁßçÊñπÊ≥ï <code>page.exposeFunction</code> Â∞ÜËÉΩÂú® Node ÊúçÂä°ËøõÁ®ãË∞ÉÁî®ÁöÑÂáΩÊï∞ÊñπÊ≥ïÂêçÊåÇËΩΩÂú® Puppeteer ÂàõÂª∫ÁöÑÊµãËØïÈ°µÈù¢ÁöÑÂÖ®Â±ÄÂèòÈáè <code>window</code> ‰∏ä„ÄÇ</p>\n<p>ÂΩìÊàë‰ª¨Âú®Ëß¶Âèë‰∫ã‰ª∂ÈìæÂºÄÁ´Ø‰∫ã‰ª∂Êó∂ÔºåÈÄöËøá Node ÊúçÂä°ËøõËÄåÊìç‰ΩúÊó†Â§¥ÊµèËßàÂô®ÂÜÖÁöÑÈ°µÈù¢ÔºåÂπ∂Âú®‰∏ìÁî®‰∫éÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∫ã‰ª∂ÂÖ≥Á≥ª‰º†ÈÄí‰∏≠Ë∞ÉÁî®ËØ•ÊåÇËΩΩÂÖ®Â±ÄÁöÑÂáΩÊï∞ÔºåÂ∞ÜÁõ∏ÂÖ≥ÂèÇÊï∞ÁªìÊûúËøîÂõûÂà∞ Node ÊúçÂä°ÁöÑÁõ∏ÂÖ≥ÊúçÂä°‰∏≠„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/automatation-test-case.jpg\" alt=\"Êó†Â§¥ÊµèËßàÂô®‰∫ã‰ª∂ÂìçÂ∫î‰ø°ÊÅØÂìçÂ∫îÊú∫Âà∂\"></p>\n<p>‰ªé‰∏äÂõæÂèØ‰ª•ÁúãÂà∞ÔºåÊØèÂΩìË¢´Âä®ÊÄßË¥®‰∫ã‰ª∂Ëß¶ÂèëÂêéÔºå‰∫ã‰ª∂Èìæ‰∏≠ÁöÑË¢´Âä®‰∫ã‰ª∂‰ºöÂú®Ëß¶ÂèëÊó∂È¢ùÂ§ñÂèëÈÄÅÊ∂àÊÅØÂèëÈÄÅÂà∞ Node ÊúçÂä°ÔºåËé∑ÂæóÂìçÂ∫îÂêéË∑ëËøáÊµãËØïÁî®‰æãÂç≥Â∞ÜÊúÄÁªàÁªìÊûúËøîÂõûÂà∞ÂâçÁ´Ø„ÄÇ</p>\n<p><strong>ÈÇ£‰πàÂêåÊó∂Â§ö‰∏™ Node.js ËøõÁ®ã‰ºöÈÅ≠ÈÅáÊÄßËÉΩÈóÆÈ¢òÔºü</strong></p>\n<p>Â≠òÂú®ÁöÑÈóÆÈ¢òÔºö</p>\n<ul>\n<li>ÂêØÂä®ËÄóÊó∂Èïø<ul>\n<li>Â§çÁî®ÊµèËßàÂô®ÂÆû‰æãÂíåÈ°µÈù¢ÂÆû‰æã</li>\n<li>Puppeteer ÁöÑ‰ºòÂåñÊâãÊÆµ =&gt; Chromium Command Line</li>\n</ul>\n</li>\n<li>ÊÄßËÉΩÊ∂àËÄóÈ´ò<ul>\n<li>ÂÆöÊó∂ÈáçÂêØÊó†Â§¥ÊµèËßàÂô®ÂÆû‰æãÁöÑÊú∫Âà∂ =&gt; ÂÆöÊó∂Âô®</li>\n</ul>\n</li>\n</ul>\n<p>Êó†Â§¥ÊµèËßàÂô®ÂÆû‰æã‰∏éÊµãËØïÈ°µÈù¢ Tab ÊåÅ‰πÖÂåñ</p>\n<ul>\n<li>ÈÄöËøáËØ∑Ê±Ç Headless Chrome ËøõÁ®ãÁ´ØÂè£ÔºåËé∑ÂèñÊó†Â§¥ÊµèËßàÂô®ÂÆû‰æãÁöÑ WS URLÔºåÈÄöËøá <code>browser.connect</code> ÈáçËøû</li>\n<li>Radis ÁºìÂ≠ò</li>\n<li>Â≠òÊñá‰ª∂</li>\n<li>Â≠òÂú® Egg App Config ‰∏≠ÔºàÁõ∏ÂΩì‰∫éÂÖ®Â±ÄÂèòÈáèÔºâ</li>\n</ul>\n<p>Â¶ÇÊ≠§ËøôËà¨ÔºåÂ∞±Â∞ÜÊï¥‰∏™ÊµÅÁ®ãÈÉΩÂÆûÁé∞‰∫ÜÈó≠ÁéØÔºö</p>\n<ol>\n<li>Ê†πÊçÆÈ°µÈù¢ÈÖçÁΩÆÊï∞ÊçÆÁîüÊàê‰∫ã‰ª∂ÈìæÔºàÂàóË°®Ôºâ</li>\n<li>ÈÄâÊã©ÂâçÁΩÆÊï∞ÊçÆËæìÂÖ•ÂèäÊµãËØïÁî®‰æã</li>\n<li>Âª∫Á´ãÂâçÂêéÁ´ØÈÄöËÆØÂèäÊµãËØïÊúçÂä°ÂíåÊó†Â§¥ÊµèËßàÂô®ÁöÑÈÄöËÆØ</li>\n<li>Ëß¶ÂèëÁî®Êà∑‰∫§‰∫í‰∫ã‰ª∂</li>\n<li>ÊâßË°åÊó†Â§¥ÊµèËßàÂô®ÂÜÖÈ°µÈù¢ÂØπÂ∫î‰∫ã‰ª∂</li>\n<li>ËøîÂõûÂìçÂ∫îÁªìÊûú</li>\n</ol>\n","site":{"data":{}},"excerpt":"<p><strong>Â§ßÁ∫≤Ôºö</strong></p>\n<ul>\n<li>Âü∫‰∫éÈæôÁå´ X ‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®</li>\n<li>‰ΩøÁî® Egg Âíå Socket.IO Êê≠Âª∫Ëá™Âä®ÂåñÊµãËØïÊúçÂä°</li>\n<li>Âà©Áî® Puppeteer ËøõË°åËá™Âä®ÂåñÊµãËØï</li>\n<li>ÊµãËØïÁî®‰æãÁöÑÊâßË°åÊñπÊ°àÁ†îËÆ®</li>\n</ul>\n<p>ÈæôÁå´ X ‰Ωú‰∏∫ÊúçÂä°‰∫é‰∫ßÂìÅ„ÄÅËøêËê•„ÄÅÂºÄÂèëÁöÑÈ°µÈù¢Êê≠Âª∫Âπ≥Âè∞ÔºåÈÄöËøáÂèØËßÜÂåñÁöÑÊãñÊãΩ„ÄÅÈÖçÁΩÆÁîüÊàê‰∏öÂä°ÊâÄÈúÄÁöÑÂêÑÁßçÈ°µÈù¢„ÄÇÂú®Êó•Â∏∏ÁöÑÂºÄÂèë‰∏≠ÔºåÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÈÉΩÊòØÁî±ËøêËê•Áõ¥Êé•ÂÆåÊàêÈúÄÊ±ÇÔºåÊàñÊòØËøêËê•‰∫ßÂìÅÁõ¥Êé•Êèê‰∫§Â∑•ÂçïÂêéÁî±ÂºÄÂèëËøõË°åÂÆåÊàêÔºåÊµãËØïÂú®ËØÑÂÆ°Èò∂ÊÆµÁöÑÂèÇ‰∏éÁéá‰∏çÈ´ò„ÄÇËøôÂ∞±ÂØºËá¥ÊµãËØïÂú®ÂäüËÉΩÈ°µÈù¢ÁöÑÊµãËØï‰∏≠Êó†Ê≥ïÂÖ®Êñπ‰ΩçÂú∞Ê£ÄÊµãÈ°µÈù¢ÁöÑÂäüËÉΩÊïàÊûúÔºåÂêåÊó∂‰πüÁî±‰∫éÈæôÁå´ X È°πÁõÆÊµãËØïÂ∞ëÊúâÂèÇ‰∏éÔºåÊµãËØïÂèÇ‰∏éÁöÑÂ§öÊòØÁªèÁî±ÈæôÁå´ X ÁîüÊàêÁöÑÈ°µÈù¢ÁöÑÂäüËÉΩÊµãËØïÔºåÊâÄ‰ª•ÊµãËØïÂØπ‰∫éÈæôÁå´ X È°µÈù¢ÁöÑÂÜÖÂú®ÈÄªËæë‰πüÁº∫‰πè‰∫ÜËß£„ÄÇÂõ†Ê≠§Ôºå‰∏∫ÊµãËØïÊñπÊèê‰æõËÉΩÊéåÊè°ÈæôÁå´ X È°µÈù¢ÈÄªËæëÂÖ≥Á≥ªÁöÑÂ∑•ÂÖ∑ÂØπÊèêÂçáÈ°µÈù¢ÁöÑËøêË°åË¥®ÈáèÂÖ∑ÊúâÈáçË¶ÅÊÑè‰πâ„ÄÇ</p>\n<p>Êú¨ÊñáÈíàÂØπ‰∏äËø∞ÊÉÖÂÜµÔºåÂõ¢ÈòüÂºÄÂèëÂá∫ÈíàÂØπÈæôÁå´ X ÁöÑ‰∫ã‰ª∂ÈìæËá™Âä®ÂåñÊµãËØïÊñπÊ°àÔºåÁî±‰∫é‰∏é‰∏öÂä°ËÄ¶ÂêàÂ∫¶ÊûÅÈ´òÔºåÂèØËÉΩÂØπÂÖ∂‰ªñÂÖ¨Âè∏Âõ¢ÈòüÊú™ÂøÖÂÖ∑ÊúâÈÄöÁî®ÊÄßÔºåÊùÉÂΩìÊäÄÊúØÊñπÊ°àÂèÇËÄÉ‰∏é‰∫§ÊµÅ„ÄÇ</p>","more":"<p>ÂºÄÂßãÂâçÔºåÁõ¥Êé•ÊäõÂá∫Êï¥‰∏™‰∏öÂä°ÊµÅÁ®ãÁöÑÊ®°ÂºèÂõæÔºå‰ª•‰æøÂØπËØ•ÂäüËÉΩÊúâ‰∏™ÂÖ®Ë≤åÁöÑËÆ§Áü•„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/automatation-test-workflow.jpg\" alt=\"Ëá™Âä®ÂåñÊµãËØï‰∏öÂä°ÊµÅÁ®ãÂõæ\"></p>\n<p>ÁÆÄÂçïÈòêËø∞‰∏Ä‰∏ãÂèÇ‰∏éÊµÅÁ®ãÁöÑÂá†‰∏™ÊúçÂä°ÔºåÂåÖÊã¨Áî®Êà∑Êìç‰ΩúËá™Âä®ÂåñÊµãËØïÁöÑÂâçÁ´ØÁïåÈù¢„ÄÅËé∑ÂèñÈ°µÈù¢Êï∞ÊçÆÁöÑÈæôÁå´ X ÊúçÂä°„ÄÅÁî®‰∫éËøõË°åÊµãËØïÈÄªËæëÁöÑÊúçÂä°‰ª•ÂèäËøûÊé•ÊµãËØïÊúçÂä°ÁöÑÊó†Â§¥ÊµèËßàÂô®Á´Ø„ÄÇ</p>\n<p>‰∏ªÊµÅÁ®ãÂ∞±ÊòØÈÄöËøáËé∑ÂèñÈ°µÈù¢Êï∞ÊçÆÁîüÊàê‰∫ã‰ª∂ÈìæÔºåÊµãËØï‰∫∫ÂëòÈÖçÁΩÆÊµãËØïÁî®‰æãÂêéËß¶ÂèëÂØπÂ∫î‰∫ã‰ª∂ÔºåÁî±ÊµãËØïÊúçÂä°ÂíåÊó†Â§¥ÊµèËßàÂô®Ëá™Âä®ÂÆåÊàêÂØπÂ∫îÈìæÊù°ÁöÑÊµãËØïÈúÄÊ±ÇÔºåÊúÄÂêéÂâçÁ´ØÈ°µÈù¢ÊòæÁ§∫ÊµãËØïË¶ÜÁõñÁéáÂèäÊàêÂäüÁéá„ÄÇ</p>\n<h2 id=\"Âü∫‰∫éÈæôÁå´-X-‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®\"><a href=\"#Âü∫‰∫éÈæôÁå´-X-‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®\" class=\"headerlink\" title=\"Âü∫‰∫éÈæôÁå´ X ‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®\"></a>Âü∫‰∫éÈæôÁå´ X ‰∫ã‰ª∂Êú∫Âà∂ÁîüÊàê‰∫ã‰ª∂ÈìæÂàóË°®</h2><p>Âú®ËØ¥Êòé‰∫ã‰ª∂ÈìæÁöÑÁîüÊàêÊú∫Âà∂ÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÁ†îÁ©∂‰∏Ä‰∏ãÈæôÁå´ X ÁöÑÈÄöËÆØÊú∫Âà∂„ÄÇ</p>\n<p>ÈæôÁå´ X ÁöÑÊï∞ÊçÆÈÄöËÆØÊú∫Âà∂Áî±ËÆ¢ÈòÖÂèëÂ∏ÉÊ®°ÂºèÊú∫Âà∂ÁªÑÊàêÔºå‰ª•‰∏ãÁΩóÂàó‰∫ÜÂú®ÂÆûÈôÖ‰∏öÂä°‰∏≠ÁªÑ‰ª∂Èó¥ÈÄöËÆØÁöÑÊµÅÂêëÁ§∫ÊÑèÂõæÔºö</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">A ÁªÑ‰ª∂ÔºàA1 ‰∫ã‰ª∂Ôºâ-&gt; ÂèëÂ∏É‰∫ã‰ª∂Ôºà‰∏ªÂä®‰∫ã‰ª∂Ôºâ -&gt; ËÆ¢ÈòÖ‰∫ã‰ª∂ÔºàË¢´Âä®‰∫ã‰ª∂Ôºâ -&gt; B ÁªÑ‰ª∂ÔºàB1 ‰∫ã‰ª∂Ôºâ</span><br><span class=\"line\"></span><br><span class=\"line\">B ÁªÑ‰ª∂ÔºàB2 ‰∫ã‰ª∂Ôºâ-&gt; C ÁªÑ‰ª∂ÔºàC1 ‰∫ã‰ª∂Ôºâ</span><br><span class=\"line\"></span><br><span class=\"line\">Á´ãÂç≥Ê≥®ÂÜåÔºàButton ÁªÑ‰ª∂Ôºâ-&gt; ÊòæÁ§∫ÂºπÁ™óÔºàFixedContainer ÁªÑ‰ª∂Ôºâ</span><br><span class=\"line\"></span><br><span class=\"line\">Á´ãÂç≥Á≠æÂà∞ÔºàButton ÁªÑ‰ª∂Ôºâ-&gt; Á≠æÂà∞Êé•Âè£ÔºàInterface ÁªÑ‰ª∂Ôºâ</span><br><span class=\"line\"></span><br><span class=\"line\">Á≠æÂà∞Êé•Âè£ÔºàInterface ÁªÑ‰ª∂Ôºâ-&gt; Á≠æÂà∞ÊàêÂäüÔºàInterface ÁªÑ‰ª∂Ôºâ</span><br></pre></td></tr></table></figure>\n<p>ÁªÑ‰ª∂ÁªÑÁªáÊñπÂºèÊòØÊâÅÂπ≥ÂåñÁöÑÔºå‰∫ã‰ª∂ÂÖ≥Á≥ªÂÖ∑ÊúâÈõ∂Êï£ÂåñÁöÑÁâπÁÇπ„ÄÇ</p>\n<p>Áî®Êà∑Ëß¶ÂèëÁªÑ‰ª∂ A ÁöÑ A1 ‰∫ã‰ª∂ÔºåÁªèËøáÂèëÂ∏ÉËÆ¢ÈòÖÊú∫Âà∂Ëß¶ËææÁªÑ‰ª∂ B ÁöÑ B1 ‰∫ã‰ª∂„ÄÇÂ¶ÇÊûú B1 ‰∫ã‰ª∂ÊòØÁ±ª‰ºº‰∫éÊòæÁ§∫/ÈöêËóè„ÄÅÊîπÂèòÊ†∑ÂºèÁ≠âÊìç‰ΩúÔºåÈÇ£‰πàÂ±û‰∫é‰∏Ä‰∏™Êï∞ÊçÆÊµÅÂêëÁöÑÁªàÁÇπ„ÄÇ</p>\n<p>Â¶ÇÊûú B1 ‰∫ã‰ª∂ÊòØÁ±ª‰ºº‰∫éÂèëÈÄÅËØ∑Ê±ÇÁ≠â‰∫ã‰ª∂ÔºåËØ∑Ê±ÇÂìçÂ∫îÊàêÂäüÂç≥ÈúÄË¶ÅÊâßË°åÂè¶‰∏Ä‰∏™ÂõûË∞ÉÂëΩ‰ª§Ôºå‰æãÂ¶ÇÊàë‰ª¨Êää B2 Áúã‰ΩúËØ∑Ê±ÇÁöÑÂìçÂ∫îÊàêÂäü <code>fetchSuccess</code> ‰∫ã‰ª∂ÔºåÂΩìËØ∑Ê±ÇÂìçÂ∫îÊàêÂäüÂêéÔºåËá™Âä®ÊâßË°åÂêéÁª≠ËøûÊé•ÁöÑÁªÑ‰ª∂ C ÁöÑ C1 ‰∫ã‰ª∂„ÄÇ</p>\n<p>‰ªé‰∏äËø∞ËØ¥Êòé‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÊûÑÂª∫Âá∫ÈæôÁå´ X ÁªÑ‰ª∂Èó¥‰∫ã‰ª∂ÊµÅÊ®°Âûã <code>ÁªÑ‰ª∂ A ‰∫ã‰ª∂ A1 -&gt; ÁªÑ‰ª∂B‰∫ã‰ª∂B1</code>Ôºå<code>ÁªÑ‰ª∂B‰∫ã‰ª∂B2 =&gt; ÁªÑ‰ª∂C‰∫ã‰ª∂C1</code>„ÄÇ</p>\n<p>Áî±‰∫éËÆ¢ÈòÖÂèëÂ∏ÉÈÄöËÆØÊú∫Âà∂ÁöÑÂ≠òÂú®ÔºåÂèëÂ∏É‰∫ã‰ª∂ÔºàÊàë‰ª¨Áß∞‰∏∫‰∏ªÂä®‰∫ã‰ª∂ÔºâÂ§©ÁÑ∂Âú∞‰∏éËÆ¢ÈòÖ‰∫ã‰ª∂ÔºàÊàë‰ª¨Áß∞‰∏∫Ë¢´Âä®‰∫ã‰ª∂ÔºâËá™Âä®ËøûÊé•Ëµ∑Êù•Ôºå‰ΩÜÊòØÂÖ≥ÈîÆÁöÑËäÇÁÇπÂú®‰∫éÔºå‰ªç‰ª•‰∏äËø∞ÁªÑ‰ª∂ B ÁöÑ‰æãÂ≠êÊï∞ÂêçÔºåÁªÑ‰ª∂ B ÂÜÖÂ≠òÂú®‰∏§‰∏™ÂÆö‰πâÁöÑ‰∫ã‰ª∂ B1 Âíå B2ÔºåÂÆÉ‰ª¨ÈÄöËøáÁªÑ‰ª∂ÂÜÖÈÉ®ÁöÑ‰ª£Á†ÅËÆæÂÆöÁöÑÂõûË∞ÉËÅîÁ≥ªËµ∑Êù•Ôºå‰ΩÜÊòØÂú®Êàë‰ª¨ÁöÑÈÖçÁΩÆÊï∞ÊçÆÂ±ÇÈù¢Âπ∂Êú™Ëß£ÂÜ≥ÔºåÊâÄ‰ª•Êàë‰ª¨ÈúÄË¶Å‰∏Ä‰ªΩÊ∏ÖÂçïÊÄªÁªìÊâÄÊúâÈæôÁå´ X ÁªÑ‰ª∂‰∏≠Â≠òÂú®ÁöÑÁªÑ‰ª∂ÂÜÖË¢´Âä®Âíå‰∏ªÂä®‰∫ã‰ª∂ÈùûÁî®Êà∑Ëß¶ÂèëËøûÊé•ÁöÑÂÖ≥Á≥ªË°®ÔºåËøô‰∏™ÂØπ‰∫éÂêéÁª≠ÊûÑÊàê‰∫ã‰ª∂ÈìæÊòØÂÖ≥ÈîÆÁöÑ‰∏ÄÊ≠•„ÄÇ</p>\n<ol>\n<li>Â∞ÜÈõ∂Êï£‰∫ã‰ª∂ÂÖ≥Á≥ªÔºå‰ª•Êî∂ÈõÜÁªÑ‰ª∂‰∫ã‰ª∂ÂÜÖËÅîÁöÑÂÖ≥Á≥ªË°®Ëß£ÂÜ≥Âçï‰∏™‰∫ã‰ª∂ÈÄöËÆØÈó¥Êó†Ê≥ïËøûÁªìÁöÑÈóÆÈ¢òÔºåÊúÄÁªàÁªÑÁªáÊàê‰∫ã‰ª∂Èìæ</li>\n<li>ÈÄöËøáÊüê‰∏Ä‰∫ã‰ª∂ÔºåËÉΩËá™Âä®Ëß¶ÂèëÂêéÁª≠‰∫ã‰ª∂ÔºàÊüê‰∫õÈæôÁå´ X ÂÆö‰πâ‰∏∫‰∏ªÂä®‰∫ã‰ª∂Âπ∂ÈùûÊâÄÊúâÁî±Áî®Êà∑Ëß¶ÂèëÔºå‰πüËÉΩÊòØÁªÑ‰ª∂ÂÜÖÈÉ®Ëß¶ÂèëÔºâ</li>\n</ol>\n<p><img src=\"https://img.mrsingsing.com/automatation-test-events-chain.jpg\" alt=\"‰∫ã‰ª∂ÈìæÁ§∫ÊÑèÂõæ\"></p>\n<p>‰∏äËø∞ÂõæÁâáÂ±ïÁ§∫‰∫ÜÂÆûÈôÖ‰∏öÂä°‰∏≠ÁöÑ‰∫ã‰ª∂ÈìæÁ§∫‰æãÔºåËØ•‰∫ã‰ª∂Èìæ‰ª•Âêç‰∏∫„ÄåÁ´ãÂç≥Ê≥®ÂÜå„ÄçÁöÑ Button ÊåâÈíÆÁªÑ‰ª∂Ëß¶ÂèëÔºåÂêéÁª≠ÁªèÁî± Input ËæìÂÖ•Ê°ÜÁªÑ‰ª∂Ëé∑ÂèñÂ∑≤ÂâçÁΩÆËæìÂÖ•ÁöÑÊâãÊú∫Âè∑Êï∞ÊçÆÔºåÂÜÖÈÉ®Êï∞ÊçÆÊµÅËé∑ÂèñÊï∞ÊçÆÂêéËß¶Âèë Input ÁªÑ‰ª∂ÂÜÖÁöÑÂè¶‰∏Ä‰∏™ÂèñÂÄºÁöÑ‰∏ªÂä®‰∫ã‰ª∂ÔºåÁÑ∂ÂêéÂèñÂÄº‰ºöÊ£ÄÈ™åËæìÂÖ•Ê°ÜËæìÂÖ•Êï∞ÊçÆÁöÑÊúâÊïàÊÄßÔºåÊ†πÊçÆÊúâÊïàÊÄßÂàÜÊµÅÂèñÂÄºÊàêÂäü‰∏éÂèñÂÄºÂ§±Ë¥•ÁöÑË¢´Âä®‰∫ã‰ª∂„ÄÇÂ¶ÇÊûúÂèñÂÄºÂ§±Ë¥•ÔºåÂàô‰ºöÂºπÂá∫ Message ÁªÑ‰ª∂ÊèêÁ§∫ËæìÂÖ•Ê°ÜËæìÂÖ•Êï∞ÊçÆÊó†ÊïàÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºõÂ¶ÇÊûúÂèñÂÄºÊàêÂäüÔºåÂàô‰ºöÁî®Ëé∑ÂèñÂà∞ÁöÑÊâãÊú∫Âè∑ÂíåÂÖ∂‰ªñÁõ∏ÂÖ≥ÂèÇÊï∞ËØ∑Ê±ÇÊé•Âè£È™åËØÅÔºåÂìçÂ∫îÂêéÊ†πÊçÆÂêéÂè∞ËøîÂõûÁªìÊûúÂàÜÊµÅ‰∏∫ËøõËÄåËØ∑Ê±ÇÂè¶‰∏Ä‰∏™ËØ∑Ê±ÇÁü≠‰ø°È™åËØÅÁ†ÅÁöÑÊé•Âè£ËøòÊòØÈúÄË¶ÅËøõË°åÈâ¥ÂÆöÁî®Êà∑‰∏∫ÁúüÂÆûÁî®Êà∑ÁöÑÂõæÂΩ¢È™åËØÅÁ†ÅÊìç‰Ωú„ÄÇËøôÂ∞±ÊûÑÊàê‰∏ÄÊù°ÂÆåÊï¥ÁöÑ‰∫ã‰ª∂ÈìæÔºåÊï¥‰∏™‰∫ã‰ª∂Èìæ‰∏≠Èô§‰∫ÜËæìÂÖ•Ê°ÜÈ¢ùÂ§ñÁöÑÊï∞ÊçÆÊî∂ÂÖ•Â§ñÔºåÁî®Êà∑Âè™ÈúÄËß¶Âèë‰∏ÄÊ¨°„ÄåÁ´ãÂç≥Ê≥®ÂÜå„ÄçÁöÑÊåâÈíÆÂç≥ÂèØÊ£ÄÈ™åÂêéÁª≠ÊµÅÁ®ã„ÄÇ</p>\n<p>Âú®Âà∂ÂÆö‰∫ã‰ª∂ÈìæÂΩ¢ÊàêÊñπÊ°àÂêéÔºåÈÇ£‰πàÊëÜÂú®Èù¢ÂâçÁöÑ‰ªçÊúâÂá†‰∏™ÈóÆÈ¢òÔºö</p>\n<ul>\n<li>Â¶Ç‰ΩïÂêØÂä®ÊâßË°åÂçï‰∏™‰∫ã‰ª∂ÈìæÔºü</li>\n<li>Â¶Ç‰ΩïÁü•ÈÅì‰∏Ä‰∏™‰∫ã‰ª∂ÈìæÊµÅÁ®ãÂ∑≤ÁªèÊâßË°åÂÆåÊØïÔºü</li>\n<li>Âú®‰ªÄ‰πàÊó∂Êú∫ÂØπÊâßË°åÁªìÊûúËøõË°åÊñ≠Ë®ÄÊµãËØïÔºü</li>\n</ul>\n<p>ÁªèËøáÂàÜÊûêÁé∞ÊúâÈæôÁå´ÁªÑ‰ª∂ÁöÑÁâπÁÇπ„ÄÇ‰∫ã‰ª∂ÈìæËß¶ÂèëÁßçÁ±ª‰∏ªË¶ÅÊúâ‰ª•‰∏ãÂá†‰∏™Á±ªÂûãÔºö</p>\n<ul>\n<li>ÊµèËßàÂô®ÈªòËÆ§‰∫ã‰ª∂ÔºöÈ°µÈù¢ÂÆπÂô®Âä†ËΩΩÂÆåÊØï„ÄÅÁõ∏ÂÖ≥ SDK Ê≥®ÂÜåÊàêÂäüÁ≠â</li>\n<li>Áî®Êà∑‰∫§‰∫íËß¶ÂèëÔºöÁÇπÂáªÊåâÈíÆ„ÄÅÁÇπÂáªÂõæÁâá</li>\n<li>ÁªÑ‰ª∂Èí©Â≠êÔºàË¢´Âä®ÊÄßË¥®/Èó¥Êé•ÁöÑ‰∏ªÂä®‰∫ã‰ª∂ÔºâÔºöÊé•Âè£ËØ∑Ê±ÇÊàêÂäüÂ§±Ë¥•/Êî∂ÈõÜÂÄºÊàêÂäüÂ§±Ë¥•/Ë°®ÂçïÈ°πÂÄºÊîπÂèòÊó∂/ÂèäË¥∑ SDK ÁöÑ Ready ‰∫ã‰ª∂</li>\n</ul>\n<p>Â¶ÇÊûúÂØπÊµèËßàÂô®ÁöÑÁöÑ‰∫ã‰ª∂Âæ™ÁéØÊú∫Âà∂ÊúâËøá‰∫ÜËß£ÁöÑÔºå‰∏çÈöæËÅîÊÉ≥Âà∞ËøôÈÉΩ‰∏é JavaScript ÂºÇÊ≠•‰∫ã‰ª∂Áõ∏ÂÖ≥Ôºö</p>\n<ul>\n<li>ÂÆöÊó∂Âô® Timer</li>\n<li>HTML Parsing</li>\n<li>HTTP Request</li>\n<li>I/OÔºàMouse„ÄÅEventÔºâ</li>\n<li>Promise„ÄÇthen</li>\n</ul>\n<p>ÊÄªÁªìÔºö</p>\n<ul>\n<li>JavaScript ÂÆø‰∏ªÁéØÂ¢ÉËøêË°å‰∏≠ÁöÑ‰∫ã‰ª∂Âæ™ÁéØÊú∫Âà∂ÔºàÂÆöÊó∂Âô®„ÄÅUI Rendering„ÄÅI/O„ÄÅHTTP RequestÔºâ</li>\n<li>Áî®‰∫éÂ≠òÂÇ®Áä∂ÊÄÅÁöÑË°®ÂçïÈ´òÈò∂ÁªÑ‰ª∂ÁöÑÂèñÂÄº‰∫ã‰ª∂ÔºàÂÖ∂ÂÆûÊòØÁõ∏ÂΩì‰∫éÂèñÂÄºÂêéÔºåÂú®ÁªÑ‰ª∂ÂÜÖÈÉ®ËÆæÂÆöÊ†°È™åÈÄªËæëÔºâ</li>\n</ul>\n<p>Ê†πÊçÆ‰∏äËø∞ÁîüÊàê‰∫ã‰ª∂ÈìæÁöÑÊú∫Âà∂ÔºåËÉΩÂ∞ÜÈ°µÈù¢ÈÖçÁΩÆÁöÑ‰∫ã‰ª∂ÈìæËá™Âä®Êï¥ÁêÜÁîüÊàêÂàóË°®ÔºåÂêéÁª≠ÈúÄË¶ÅÈÄöËøáÊµãËØïÊúçÂä°ËøõË°åËá™Âä®ÂåñÊµãËØï„ÄÇ</p>\n<h2 id=\"Âà©Áî®-Puppeteer-ËøõË°åËá™Âä®ÂåñÊµãËØï\"><a href=\"#Âà©Áî®-Puppeteer-ËøõË°åËá™Âä®ÂåñÊµãËØï\" class=\"headerlink\" title=\"Âà©Áî® Puppeteer ËøõË°åËá™Âä®ÂåñÊµãËØï\"></a>Âà©Áî® Puppeteer ËøõË°åËá™Âä®ÂåñÊµãËØï</h2><p>ÊµãËØïÁî®ÁöÑÂêéÁ´ØÈ°πÁõÆ‰ΩøÁî® Egg ÁöÑÊäÄÊúØÊê≠Âª∫ÔºåÈâ¥‰∫éÂâçÂêéÁ´Ø‰ø°ÊÅØ‰∫§‰∫íÂèØËÉΩ‰ºöÊØîËæÉÈ¢ëÁπÅÁöÑÂéüÂõ†ÔºåÊê≠ÈÖç Socket.IO Âª∫Á´ãËµ∑ÂâçÂêéÁ´ØÁöÑÈÄöËÆØ„ÄÇ</p>\n<p>ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåSocket.IO ÂâçÂêéÁ´ØÈÄâÁî®ÁöÑÂÖ∑‰ΩìÂ∫ìÂåÖÂÖ∑ÊúâÂ∑ÆÂºÇÔºö</p>\n<ul>\n<li>ÂâçÁ´ØÔºö<code>socket.io-client</code></li>\n<li>ÂêéÁ´ØÔºö<code>egg-socket.io</code></li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">chat</span><br><span class=\"line\">‚îú‚îÄ‚îÄ app</span><br><span class=\"line\">‚îÇ   ‚îú‚îÄ‚îÄ extend</span><br><span class=\"line\">‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ helper.js</span><br><span class=\"line\">‚îÇ   ‚îú‚îÄ‚îÄ io</span><br><span class=\"line\">‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller</span><br><span class=\"line\">‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ default.js</span><br><span class=\"line\">‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ middleware</span><br><span class=\"line\">‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ connection.js</span><br><span class=\"line\">‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ packet.js</span><br><span class=\"line\">‚îÇ   ‚îî‚îÄ‚îÄ router.js</span><br><span class=\"line\">‚îú‚îÄ‚îÄ config</span><br><span class=\"line\">‚îî‚îÄ‚îÄ package.json</span><br></pre></td></tr></table></figure>\n<p>Egg Ê°ÜÊû∂ÁöÑÂ•ΩÂ§ÑÊòØÂÖ∂ÁîüÊÄÅÊèê‰æõ‰∫ÜÁõ∏ÂÖ≥ÁöÑÊèí‰ª∂ÔºåÂæàÂ•ΩÂú∞‰∏éÈ°πÁõÆÈõÜÊàêÔºåÂºÄÂèëËµ∑Êù•‰ΩìÈ™åÂæàÂ•Ω„ÄÇ</p>\n<p>ÂÖ∑‰ΩìÂÆûÁé∞ÁªÜËäÇÂèÇËÄÉ <a href=\"https://eggjs.org/zh-cn/tutorials/socketio.html\" target=\"_blank\" rel=\"noopener\">Egg - Socket.IO ÊïôÁ®ã</a></p>\n<p>ËÄåÂè¶‰∏ÄÊñπÈù¢ÔºåÈúÄË¶Å‰ΩøÁî®‰∏öÂÜÖËæÉ‰∏∫ÊàêÁÜüÁöÑÊµãËØïÊñπÊ≥ïËøõË°åÊµãËØïÔºåÊàë‰ª¨ÁªèËøáÂØπÊØîÁ†îÁ©∂ÂêéÈÄâÊã© Puppeteer ËøôÊ¨æÁî± Google Âá∫ÂìÅÁöÑÂºÄÊ∫êÊîØÊåÅÊó†Â§¥ÊµèËßàÂô®ÁöÑÊ°ÜÊû∂„ÄÇ</p>\n<p>Puppeteer Âü∫‰∫é Chrome DevTool ProtocolÔºàÁÆÄÁß∞ CDPÔºâÔºåËÄå CDP Âü∫‰∫é WebSocketÔºåÂà©Áî® WebSocket ÂÆûÁé∞‰∏éÊµèËßàÂô®ÂÜÖÊ†∏ÁöÑÂø´ÈÄüÈÄöÈÅì„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/automatation-test-puppeteer-pyramid.png\" alt=\"Puppeteer ÂÆûÁé∞Ê®°Âûã\"></p>\n<p>Puppeteer ÂπøÊ≥õÂ∫îÁî®‰∫éÂêÑÂ§ßÂÖ¨Âè∏Âõ¢ÈòüÁöÑÂÆûÈôÖ‰∏öÂä°Âú∫ÊôØÔºö</p>\n<ul>\n<li>ÈÄöÁî®<ul>\n<li>ÁîüÊàêÈ°µÈù¢ÁöÑÂ±èÂπïÊà™ÂõæÂíå PDF</li>\n<li>Ëá™Âä®ÂåñÊèê‰∫§Ë°®Âçï„ÄÅÊ®°ÊãüÈîÆÈº†ËæìÂÖ•„ÄÅËá™Âä®ÂåñÂçïÂÖÉÊµãËØï</li>\n<li>ÁΩëÁ´ôÊÄßËÉΩÂàÜÊûêÔºöÂèØ‰ª•ÊäìÂèñÂπ∂Ë∑üË∏™ÁΩëÁ´ôÁöÑÊâßË°åÊó∂Èó¥ËΩ¥ÔºåÂ∏ÆÂä©ÂàÜÊûêÊïàÁéáÈóÆÈ¢ò</li>\n<li>ÊäìÂèñÁΩëÈ°µÂÜÖÂÆπÔºå‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑÁà¨Ëô´</li>\n</ul>\n</li>\n<li>‰∏öÂä°ÂÆûË∑µ<ul>\n<li>ÈòøÈáåÔºö<a href=\"https://yq.aliyun.com/articles/718188\" target=\"_blank\" rel=\"noopener\">ÈòøÈáå 99 Â§ß‰øÉÊ®°ÂûãËØÜÂà´ËÉåÂêéÁöÑÊ†∑Êú¨ÁîüÊàê</a></li>\n<li>ÊúâËµûÔºö<a href=\"https://www.infoq.cn/article/dcSBL_9AzCwVPsaQ70dh\" target=\"_blank\" rel=\"noopener\">‰ΩøÁî® Puppeteer Êê≠Âª∫Áªü‰∏ÄÊµ∑Êä•Ê∏≤ÊüìÊúçÂä°</a></li>\n<li>ÂÖ∂‰ªñÔºö<a href=\"https://www.jianshu.com/p/42585c78eeec\" target=\"_blank\" rel=\"noopener\">Âü∫‰∫é Puppeteer ÊâìÈÄ†ÂâçÁ´ØÂ∑°Ê£ÄÁõëÊéß‰ΩìÁ≥ª</a></li>\n</ul>\n</li>\n</ul>\n<p>ÈÇ£‰πà Node ÊúçÂä°ÊòØÂ¶Ç‰Ωï‰∏é Puppeteer ËøõË°åÊúçÂä°ÁöÑÂë¢Ôºü</p>\n<p>Puppeteer Êèê‰æõ‰∏ÄÁßçÊñπÊ≥ï <code>page.exposeFunction</code> Â∞ÜËÉΩÂú® Node ÊúçÂä°ËøõÁ®ãË∞ÉÁî®ÁöÑÂáΩÊï∞ÊñπÊ≥ïÂêçÊåÇËΩΩÂú® Puppeteer ÂàõÂª∫ÁöÑÊµãËØïÈ°µÈù¢ÁöÑÂÖ®Â±ÄÂèòÈáè <code>window</code> ‰∏ä„ÄÇ</p>\n<p>ÂΩìÊàë‰ª¨Âú®Ëß¶Âèë‰∫ã‰ª∂ÈìæÂºÄÁ´Ø‰∫ã‰ª∂Êó∂ÔºåÈÄöËøá Node ÊúçÂä°ËøõËÄåÊìç‰ΩúÊó†Â§¥ÊµèËßàÂô®ÂÜÖÁöÑÈ°µÈù¢ÔºåÂπ∂Âú®‰∏ìÁî®‰∫éÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∫ã‰ª∂ÂÖ≥Á≥ª‰º†ÈÄí‰∏≠Ë∞ÉÁî®ËØ•ÊåÇËΩΩÂÖ®Â±ÄÁöÑÂáΩÊï∞ÔºåÂ∞ÜÁõ∏ÂÖ≥ÂèÇÊï∞ÁªìÊûúËøîÂõûÂà∞ Node ÊúçÂä°ÁöÑÁõ∏ÂÖ≥ÊúçÂä°‰∏≠„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/automatation-test-case.jpg\" alt=\"Êó†Â§¥ÊµèËßàÂô®‰∫ã‰ª∂ÂìçÂ∫î‰ø°ÊÅØÂìçÂ∫îÊú∫Âà∂\"></p>\n<p>‰ªé‰∏äÂõæÂèØ‰ª•ÁúãÂà∞ÔºåÊØèÂΩìË¢´Âä®ÊÄßË¥®‰∫ã‰ª∂Ëß¶ÂèëÂêéÔºå‰∫ã‰ª∂Èìæ‰∏≠ÁöÑË¢´Âä®‰∫ã‰ª∂‰ºöÂú®Ëß¶ÂèëÊó∂È¢ùÂ§ñÂèëÈÄÅÊ∂àÊÅØÂèëÈÄÅÂà∞ Node ÊúçÂä°ÔºåËé∑ÂæóÂìçÂ∫îÂêéË∑ëËøáÊµãËØïÁî®‰æãÂç≥Â∞ÜÊúÄÁªàÁªìÊûúËøîÂõûÂà∞ÂâçÁ´Ø„ÄÇ</p>\n<p><strong>ÈÇ£‰πàÂêåÊó∂Â§ö‰∏™ Node.js ËøõÁ®ã‰ºöÈÅ≠ÈÅáÊÄßËÉΩÈóÆÈ¢òÔºü</strong></p>\n<p>Â≠òÂú®ÁöÑÈóÆÈ¢òÔºö</p>\n<ul>\n<li>ÂêØÂä®ËÄóÊó∂Èïø<ul>\n<li>Â§çÁî®ÊµèËßàÂô®ÂÆû‰æãÂíåÈ°µÈù¢ÂÆû‰æã</li>\n<li>Puppeteer ÁöÑ‰ºòÂåñÊâãÊÆµ =&gt; Chromium Command Line</li>\n</ul>\n</li>\n<li>ÊÄßËÉΩÊ∂àËÄóÈ´ò<ul>\n<li>ÂÆöÊó∂ÈáçÂêØÊó†Â§¥ÊµèËßàÂô®ÂÆû‰æãÁöÑÊú∫Âà∂ =&gt; ÂÆöÊó∂Âô®</li>\n</ul>\n</li>\n</ul>\n<p>Êó†Â§¥ÊµèËßàÂô®ÂÆû‰æã‰∏éÊµãËØïÈ°µÈù¢ Tab ÊåÅ‰πÖÂåñ</p>\n<ul>\n<li>ÈÄöËøáËØ∑Ê±Ç Headless Chrome ËøõÁ®ãÁ´ØÂè£ÔºåËé∑ÂèñÊó†Â§¥ÊµèËßàÂô®ÂÆû‰æãÁöÑ WS URLÔºåÈÄöËøá <code>browser.connect</code> ÈáçËøû</li>\n<li>Radis ÁºìÂ≠ò</li>\n<li>Â≠òÊñá‰ª∂</li>\n<li>Â≠òÂú® Egg App Config ‰∏≠ÔºàÁõ∏ÂΩì‰∫éÂÖ®Â±ÄÂèòÈáèÔºâ</li>\n</ul>\n<p>Â¶ÇÊ≠§ËøôËà¨ÔºåÂ∞±Â∞ÜÊï¥‰∏™ÊµÅÁ®ãÈÉΩÂÆûÁé∞‰∫ÜÈó≠ÁéØÔºö</p>\n<ol>\n<li>Ê†πÊçÆÈ°µÈù¢ÈÖçÁΩÆÊï∞ÊçÆÁîüÊàê‰∫ã‰ª∂ÈìæÔºàÂàóË°®Ôºâ</li>\n<li>ÈÄâÊã©ÂâçÁΩÆÊï∞ÊçÆËæìÂÖ•ÂèäÊµãËØïÁî®‰æã</li>\n<li>Âª∫Á´ãÂâçÂêéÁ´ØÈÄöËÆØÂèäÊµãËØïÊúçÂä°ÂíåÊó†Â§¥ÊµèËßàÂô®ÁöÑÈÄöËÆØ</li>\n<li>Ëß¶ÂèëÁî®Êà∑‰∫§‰∫í‰∫ã‰ª∂</li>\n<li>ÊâßË°åÊó†Â§¥ÊµèËßàÂô®ÂÜÖÈ°µÈù¢ÂØπÂ∫î‰∫ã‰ª∂</li>\n<li>ËøîÂõûÂìçÂ∫îÁªìÊûú</li>\n</ol>"},{"title":"ÂâçÁ´ØÁõ∏ÂÖ≥‰∏öÂä°ÊÄßËÉΩ‰ºòÂåñÊäÄÊúØÊâãÊÆµÊÄªÁªì","date":"2019-05-19T00:00:00.000Z","_content":"\nÊäÄÊúØÁ§æÂå∫‰∏≠ÂÖ∂ÂÆûÂ∑≤ÁªèÊúâËæÉÂ§öÁöÑÂÖ≥‰∫éÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÁöÑÁõ∏ÂÖ≥ÊñáÁ´†ÔºåÁúã‰∫ÜÂ§öÁØá‰πãÂêéÊÄªÊòØËßâÂæóÂÜÖÂÆπËøòÊúâÂæàÂ§öÈÅóÊºèÊàñÂÜôÂæó‰∏çÂ§üÂÆåÁæéÔºåÂ∞ΩÁÆ°ËøòÊ≤°Êé•ÊâãËøáÊµÅÈáèÁâπÂà´Â§ßÁöÑÁΩëÁ´ôÂ∫îÁî®È°πÁõÆÔºå‰ΩÜÊòØÊú¨‰∫∫ËÆ§‰∏∫Êó•Â∏∏È°πÁõÆ‰∏≠‰πüÈúÄË¶ÅÂ∞ΩÂèØËÉΩÂú∞ËøõË°åÊÄßËÉΩ‰ºòÂåñÁöÑÂ∑•‰ΩúÔºåÂõ†‰∏∫ÂâçÁ´ØÂ∑•Á®ãÂ∏àÁöÑÂ∑•‰ΩúÂæàÂ§ßÁ®ãÂ∫¶‰∏äÂèØ‰ª•ÊèèËø∞‰∏∫‚ÄúÁî®Â∞ΩÈáèÂ∞ëÁöÑ‰ª£‰ª∑‰∏∫Áî®Êà∑Êèê‰æõÊïàÁéáÂ∞ΩÂèØËÉΩÈ´ò„ÄÅÂäüËÉΩÂ∞ΩÂèØËÉΩÂ§ö„ÄÅ‰ΩìÈ™åÂ∞ΩÂèØËÉΩÂ•ΩÁöÑÁΩëÈ°µÂ∫îÁî®‚ÄùÔºåËÄåÊÄßËÉΩ‰ºòÂåñÂæàÂ§ßÁ®ãÂ∫¶‰∏äÂ∞±ÊòØÂÆûÁé∞‚ÄúÂ∞ΩÂèØËÉΩÂ∞ëÁöÑ‰ª£‰ª∑‚Äù„ÄÅ‚ÄúÊïàÁéáÂ∞ΩÂèØËÉΩÈ´ò‚Äù‰ª•Âèä‚Äú‰ΩìÈ™åÂ∞ΩÂèØËÉΩÂ•Ω‚Äù„ÄÇ\n\nÂõ†Ê≠§ÔºåÊ≠§Êñá‰ºöÊ†πÊçÆÁΩëÁªúËØ∑Ê±ÇÂà∞ÁΩëÈ°µÂëàÁé∞ÁöÑÂÆåÊï¥ÊµÅÁ®ãÔºåÈíàÂØπÊÄßÂú∞ÊèêÂá∫Áõ∏ÂÖ≥Èò∂ÊÆµ‰æõÂºÄÂèëÂÜ≥Á≠ñËÄÖËÄÉËôëÈááÂèñÁöÑ‰ºòÂåñÊñπÊ°àÔºåÂõ†Ê≠§Êú¨ÊñáÊõ¥ÂÉèÊòØÊÄßËÉΩ‰ºòÂåñÊñπÊ°àÁöÑÂÜ≥Á≠ñÊ†ëÔºåËÄåÈùûÊ†áÂáÜÊñπÊ°àÔºö\n\n- ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢\n- ÊúçÂä°Á´ØÂ±ÇÈù¢\n- ÂÆ¢Êà∑Á´ØÊ∏≤ÊüìÂ±ÇÈù¢\n- ÁºñÁ†ÅÂ±ÇÈù¢\n\n**ÁΩëÁªúËØ∑Ê±ÇÂà∞ÁΩëÈ°µÂëàÁé∞ÁöÑÂ§ßËá¥ÊµÅÁ®ã**\n\n```\nÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç => ÁΩëÁªúÈìæË∑Ø => ËøîÂõûËµÑÊ∫ê(ÊúçÂä°Á´Ø) => Ê∏≤ÊüìËµÑÊ∫ê(ÂÆ¢Êà∑Á´Ø)\n```\n\n<!-- more -->\n\n# ÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑ\n\nÂú®ÊèêÂá∫ÂêÑÂ±ÇÊ¨°ÁöÑ‰ºòÂåñÊñπÊ°à‰πãÂâçÔºåÊúâÂøÖË¶Å‰∫ÜËß£‰∏Ä‰∏ãÊÄßËÉΩ‰ºòÂåñÊñπÊ°àÂÆûÈôÖ‰∏äËß£ÂÜ≥‰∫ÜÂì™‰∫õÊÄßËÉΩÈóÆÈ¢ò‰ª•ÂèäËß£ÂÜ≥Ëøô‰∫õÈóÆÈ¢òÁöÑÊ†∏ÂøÉÂΩíÁªìÁÇπ„ÄÇ\n\n‰ª•‰∏ãÈÉ®ÂàÜÂÖ≥‰∫é‰ºòÂåñÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑÁöÑÂª∫ËÆÆÊëòÂΩïËá™ Google ÂºÄÂèëËÄÖÊñáÊ°£Ôºö\n[üìñ Optimizing the Critical Rendering Path](https://developers.google.com/web/fundamentals/performance/critical-rendering-path/optimizing-critical-rendering-path)\n\n‰∏∫‰∫ÜÂ∞ΩÂø´ÂÆåÊàêÈ¶ñÊ¨°Ê∏≤ÊüìÔºåÊàë‰ª¨ÈúÄË¶ÅÊúÄÂ§ßÈôêÂ∫¶ÂáèÂ∞è‰ª•‰∏ã‰∏âÁßçÂèØÂèòÂõ†Á¥†Ôºö\n\n- ÂÖ≥ÈîÆËµÑÊ∫êÁöÑÊï∞Èáè\n- ÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶\n- ÂÖ≥ÈîÆÂ≠óËäÇÁöÑÊï∞Èáè\n\nÂÖ≥ÈîÆËµÑÊ∫êÊòØÂèØËÉΩÈòªÊ≠¢ÁΩëÈ°µÈ¶ñÊ¨°Ê∏≤ÊüìÁöÑËµÑÊ∫ê„ÄÇËøô‰∫õËµÑÊ∫êË∂äÂ∞ëÔºåÊµèËßàÂô®ÁöÑÂ∑•‰ΩúÈáèÂ∞±Ë∂äÂ∞èÔºåÂØπ CPU ‰ª•ÂèäÂÖ∂‰ªñËµÑÊ∫êÁöÑÂç†Áî®‰πüÂ∞±Ë∂äÂ∞ë„ÄÇ\n\nÂêåÊ†∑ÔºåÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶ÂèóÊâÄÊúâÂÖ≥ÈîÆËµÑÊ∫ê‰∏éÂÖ∂Â≠óËäÇÂ§ßÂ∞è‰πãÈó¥‰æùËµñÂÖ≥Á≥ªÂõæÁöÑÂΩ±ÂìçÔºöÊüê‰∫õËµÑÊ∫êÂè™ËÉΩÂú®‰∏ä‰∏ÄËµÑÊ∫êÂ§ÑÁêÜÂÆåÊØï‰πãÂêéÊâçËÉΩÂºÄÂßã‰∏ãËΩΩÔºåÂπ∂‰∏îËµÑÊ∫êË∂äÂ§ßÔºå‰∏ãËΩΩÊâÄÈúÄÁöÑÂæÄËøîÊ¨°Êï∞Â∞±Ë∂äÂ§ö„ÄÇ\n\nÊúÄÂêéÔºåÊµèËßàÂô®ÈúÄË¶Å‰∏ãËΩΩÁöÑÂÖ≥ÈîÆÂ≠óËäÇË∂äÂ∞ëÔºåÂ§ÑÁêÜÂÜÖÂÆπÂπ∂ËÆ©ÂÖ∂Âá∫Áé∞Âú®Â±èÂπï‰∏äÁöÑÈÄüÂ∫¶Â∞±Ë∂äÂø´„ÄÇË¶ÅÂáèÂ∞ëÂ≠óËäÇÊï∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÂáèÂ∞ëËµÑÊ∫êÊï∞ÔºàÂ∞ÜÂÆÉ‰ª¨Âà†Èô§ÊàñËÆæ‰∏∫ÈùûÂÖ≥ÈîÆËµÑÊ∫êÔºâÔºåÊ≠§Â§ñËøòË¶ÅÂéãÁº©Âíå‰ºòÂåñÂêÑÈ°πËµÑÊ∫êÔºåÁ°Æ‰øùÊúÄÂ§ßÈôêÂ∫¶ÂáèÂ∞è‰º†ÈÄÅÂ§ßÂ∞è„ÄÇ\n\n**‰ºòÂåñÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑÁöÑÂ∏∏ËßÑÊ≠•È™§Â¶Ç‰∏ãÔºö**\n\n1. ÂØπÂÖ≥ÈîÆË∑ØÂæÑËøõË°åÂàÜÊûêÂíåÁâπÊÄßÊèèËø∞ÔºöËµÑÊ∫êÊï∞„ÄÅÂ≠óËäÇÊï∞„ÄÅÈïøÂ∫¶\n2. ÊúÄÂ§ßÈôêÂ∫¶ÂáèÂ∞ëÂÖ≥ÈîÆËµÑÊ∫êÁöÑÊï∞ÈáèÔºöÂà†Èô§ÂÆÉ‰ª¨ÔºåÂª∂ËøüÂÆÉ‰ª¨ÁöÑ‰∏ãËΩΩÔºåÂ∞ÜÂÆÉ‰ª¨Ê†áËÆ∞‰∏∫ÂºÇÊ≠•Á≠â\n3. ‰ºòÂåñÂÖ≥ÈîÆÂ≠óËäÇÊï∞‰ª•Áº©Áü≠‰∏ãËΩΩÊó∂Èó¥ÔºàÂæÄËøîÊ¨°Êï∞Ôºâ\n4. ‰ºòÂåñÂÖ∂‰ΩôÂÖ≥ÈîÆËµÑÊ∫êÁöÑÂä†ËΩΩÈ°∫Â∫èÔºöÊÇ®ÈúÄË¶ÅÂ∞ΩÊó©‰∏ãËΩΩÊâÄÊúâÂÖ≥ÈîÆËµÑ‰∫ßÔºå‰ª•Áº©Áü≠ÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶\n\n# ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢\n\nÁΩëÁªúÈìæË∑Ø‰Ωú‰∏∫ÁΩëÁªúËµÑÊ∫êÂíåÊï∞ÊçÆÁöÑ‰º†ËæìÈÄöÈÅìÔºåÂÖÖÂàÜÂà©Áî®ÁΩëÁªúÊäÄÊúØÊâãÊÆµËÉΩÊúâÊïàÂú∞ÂáèÂ∞ëÁΩëÈ°µËµÑÊ∫êÂìçÂ∫îÁöÑÈÄüÂ∫¶„ÄÅÊèêÂçáÁΩëÈ°µËµÑÊ∫ê‰º†ËæìÈÄüÂ∫¶‰ª•ÂèäÈÅøÂÖçÈáçÂ§ç‰º†ËæìÂØºËá¥ÁöÑËµÑÊ∫êÊµ™Ë¥πÁ≠âÈóÆÈ¢ò„ÄÇ\n\n## ‰º†ËæìÁ≠ñÁï•\n\n### DNS Êü•ËØ¢\n\nDNS ÂüüÂêçËß£ÊûêÂçèËÆÆÁÆÄÂçïÊù•Â∞±ËØ¥Ë¥üË¥£Â∞ÜÂüüÂêç URL ËΩ¨Âåñ‰∏∫ÊúçÂä°Âô®‰∏ªÊú∫ IP„ÄÇ‰∫ÜËß£Êõ¥Â§ö [DNS ÂüüÂêçËß£ÊûêÂçèËÆÆ](https://tsejx.github.io/JavaScript-Guidebook/computer-networks/dns.html)\n\nDNS Êü•ËØ¢ËÉΩ‰ªé‰∏§ÊñπÈù¢ËøõË°å‰ºòÂåñÔºö\n\n- **ÂáèÂ∞ë DNS Êü•ËØ¢Ê¨°Êï∞**\n- **DNS È¢ÑËß£Êûê**\n\nÈÄöËøáÂú®ÊñáÊ°£‰∏≠‰ΩøÁî®ÂÄº‰∏∫ `http-equiv` ÁöÑ `<meta>` Ê†áÁ≠æÊâìÂºÄ DNS È¢ÑËß£ÊûêÔºö\n\n```html\n<meta http-equiv=\"x-dns-prefetch-control\" content=\"on\" />\n```\n\nÈÄöËøá `rel` Â±ûÊÄßÂÄº‰∏∫ `dns-prefetch` ÁöÑ `<link>` Ê†áÁ≠æÂØπÁâπÂÆöÂüüÂêçËøõË°åÈ¢ÑËØªÂèñ\n\n```html\n<link rel='dns-prefetch\" href=\"//host_name_to_prefetch.com\"/>\n```\n\n**Áõ∏ÂÖ≥ÈìæÊé•Ôºö**\n\n- [MDNÔºöX-DNS-Prefetch-Control](https://developer.mozilla.org/zh-CN/docs/Controlling_DNS_prefetching)\n- [DNS Prefetching](https://dev.chromium.org/developers/design-documents/dns-prefetching)\n- [DNS Prefetching for Firefox](https://bitsup.blogspot.com/2008/11/dns-prefetching-for-firefox.html)\n\n### TCP ËøûÊé•\n\n**ÊåÅ‰πÖÂåñËøûÊé•**ÔºöÈÅøÂÖçÈáçÂ§çËøõË°å TCP ÁöÑ‰∏âÊ¨°Êè°ÊâãÔºåHTTP/1.1 ÈªòËÆ§ÂºÄÂêØÔºåHTTP/1.0 ÂèØ‰ª•‰ΩøÁî®„ÄÇ\n\nKeep-Alive ‰∏ç‰ºöÊ∞∏‰πÖ‰øùÊåÅËøûÊé•ÔºåÂºÄÂèëËÄÖÂèØÈÄöËøáÊúçÂä°Âô®ÈÖçÁΩÆÈôêÂÆöÊó∂Èó¥„ÄÇ\n\n```http\nConnection: keep-alive\n```\n\n### HTTP ËØ∑Ê±Ç\n\n- **ÂáèÂ∞ë HTTP ËØ∑Ê±Ç**\n  - ÈÄöËøáÂâçÁ´ØÊûÑÂª∫Â∑•ÂÖ∑ÂêàÂπ∂ËÑöÊú¨ÂíåÊ†∑ÂºèË°®\n  - CSS Sprites Á≤æÁÅµÂõæ\n  - ÂõæÁâá‰ΩøÁî® Base64 ÁºñÁ†ÅÂµåÂÖ•ÁΩëÈ°µÔºåÂáèÂ∞ëÂõæÁâáÂ§ñÈÉ®ËΩΩÂÖ•ÁöÑËØ∑Ê±ÇÊï∞\n- **ËµÑÊ∫êÂàÜÂ∏ÉÂºèÈÉ®ÁΩ≤Ëá≥‰∏çÂêåÂüüÂêç**\n  - **ÂéüÂõ†**Ôºö‰∏ªÊµÅÊµèËßàÂô®ÂØπÁõ∏ÂêåÂüüÂêçÁöÑÂπ∂Âèë HTTP ËØ∑Ê±ÇÊï∞ÈôêÂà∂Âú® 4~8 ‰∏™ÔºåÂΩìËµÑÊ∫êËøáÂ§öÊó∂ÔºåÂèØ‰ª•ÈááÁî®Â¢ûÂä†ÂüüÂêçÁöÑÊñπÊ≥ïÂ¢ûÂä† HTTP ËØ∑Ê±ÇÁöÑÂπ∂ÂèëÈáè\n  - **ÂéüÁêÜ**ÔºöÂà©Áî®Â§ö‰∏™‰∏çÂêåÁöÑÂüüÂêçÂèØ‰ª•‰øùËØÅËøô‰∫õÂüüÂêçËÉΩÂ§üÂêåÊó∂Âä†ËΩΩÂõæÁâáÔºåËÄå‰∏çÁî®ÊéíÈòü„ÄÇ‰∏çËøáÂ¶ÇÊûúÂΩì‰ΩøÁî®ÁöÑÂüüÂêçËøáÂ§öÊó∂ÔºåÂìçÂ∫îÊó∂Èó¥Â∞±‰ºöÊÖ¢ÔºåÂõ†‰∏∫‰∏çÂêåÂìçÂ∫îÂüüÂêçÊó∂Èó¥‰∏ç‰∏ÄËá¥\n- **ÈÅøÂÖçÈáçÂÆöÂêë**\n  - URL Êú´Â∞æÂ∫îËØ•Ê∑ªÂä† `/` ‰ΩÜÊú™Ê∑ªÂä†\n- **Ê∂àÈô§‰∏çÂøÖË¶ÅÁöÑËØ∑Ê±ÇÂ≠óËäÇ**\n- **Cookie**\n  - ÂéãÁº© Cookie Â§ßÂ∞è\n    - ÂéªÈô§‰∏çÂøÖË¶ÅÁöÑ Cookie\n    - Ê≥®ÊÑèËÆæÁΩÆ Cookie ÁöÑ domain Á∫ßÂà´ÔºåÂ¶ÇÊ≤°ÂøÖË¶ÅÔºå‰∏çË¶ÅÂΩ±ÂìçÂ≠êÂüüÂêç\n    - ËÆæÁΩÆÂêàÈÄÇÁöÑËøáÊúüÊó∂Èó¥\n  - ÈùôÊÄÅËµÑÊ∫ê‰ΩøÁî®Êó† Cookie ÂüüÂêç\n- [HTTP/2](https://tsejx.github.io/JavaScript-Guidebook/computer-networks/http/http2.html)\n  - ‰∫åËøõÂà∂ÂàÜÂ∏ß\n  - Â§öË∑ØÂ§çÁî®\n  - ÊúçÂä°Âô®Êé®ÈÄÅ\n  - Â§¥ÈÉ®ÂéãÁº©\n  - ‰∫ÜËß£Êõ¥Â§ö [HTTP/2]\n- [HTTP/3](https://zh.wikipedia.org/wiki/HTTP/3)\n\n**Áõ∏ÂÖ≥ÈìæÊé•Ôºö**\n\n- [ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñ - ËµÑÊ∫êÈ¢ÑÂä†ËΩΩ](http://bubkoo.com/2015/11/19/prefetching-preloading-prebrowsing/)\n- [HTTP/2 ÁÆÄ‰ªãÂíåÂü∫‰∫é HTTP/2 ÁöÑ Web ‰ºòÂåñ](https://github.com/creeperyang/blog/issues/23)\n\n## ÁºìÂ≠òÁ≠ñÁï•\n\nÂà∂ÂÆöÊúâÊïàÁöÑÁºìÂ≠òÁ≠ñÁï•ÔºåÂæàÂ§ßÁ®ãÂ∫¶‰∏äËÉΩÂÆûÁé∞ËµÑÊ∫êÁöÑÈáçÂ§çÂà©Áî®Âèä‰º†ËæìË∑ØÂæÑÁöÑ‰ºòÂåñÔºåÂáèÂ∞ëÂÆ¢Êà∑Á´ØÂØπÊúçÂä°Á´ØÁöÑÁΩëÁªúËØ∑Ê±ÇÂéãÂäõÔºåÂáèËΩªÂÆΩÂ∫¶ÊµÅÈáè„ÄÇ\n\n- [HTTP ÁºìÂ≠ò](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html)\n  - [Âº∫ÁºìÂ≠ò](<[https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#%E5%BC%BA%E7%BC%93%E5%AD%98](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#Âº∫ÁºìÂ≠ò)>)\n    - Expires ÁªùÂØπÊó∂Èó¥ `Expires: Thu, 21 Jan 2017 23:59:59 GMT` ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÊó∂Èó¥ÂèØËÉΩ‰∏ç‰∏ÄËá¥\n    - Cache-Control Áõ∏ÂØπÊó∂Èó¥ `Cache-Control: max-age=3600`\n  - [ÂçèÂïÜÁºìÂ≠ò](<[https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#ÂçèÂïÜÁºìÂ≠ò)>)\n    - Last-Modified / If-Modified-Since ÁªùÂØπÊó∂Èó¥ `Expires: Wed, 26 Jan 2017 00:35:11 GMT` ËµÑÊ∫ê‰∏äÊ¨°‰øÆÊîπÁöÑÊó∂Èó¥\n    - Etag / If-None-Match ÈöèÊú∫ÁîüÊàêÁöÑ‰π±Á†ÅÂÄº\n  - ‰ºòÂÖà‰ΩøÁî®Âº∫ÁºìÂ≠ò\n    - ÂΩìËµÑÊ∫êÊñá‰ª∂ÂèëÁîüÂèòÂåñÊó∂ÔºåÈÄöËøáÊõ¥Êñ∞È°µÈù¢‰∏≠ÂºïÁî®ÁöÑËµÑÊ∫êË∑ØÂæÑÔºåËÆ©ÊµèËßàÂô®ÊîæÂºÉÁºìÂ≠òÔºåÂä†ËΩΩÊñ∞ËµÑÊ∫ê\n    - ÈÄöËøá [Êï∞ÊçÆÊëòË¶ÅÁÆóÊ≥ï](https://link.zhihu.com/?target=http%3A//baike.baidu.com/view/10961371.htm) Á≤æÂáÜÂà∞Âçï‰∏™Êñá‰ª∂Á≤íÂ∫¶ÁöÑÁºìÂ≠òÊéßÂà∂\n- [CDN ÁºìÂ≠ò](https://tsejx.github.io/JavaScript-Guidebook/computer-networks/cdn.html)Ôºö Â∞ÜÈùôÊÄÅËµÑÊ∫êÂíåÂä®ÊÄÅÁΩëÈ°µÂàÜÈõÜÁæ§ÈÉ®ÁΩ≤\n  - HTML ÈÉ®ÁΩ≤Âú®Ëá™Ë∫´ÁöÑÊúçÂä°Âô®‰∏ä\n  - ÊâìÂåÖÂêéÁöÑÂõæÁâá / JavaScript ËÑöÊú¨Êñá‰ª∂ / CSS Ê†∑ÂºèÊñá‰ª∂Á≠âËµÑÊ∫êÈÉ®ÁΩ≤Âà∞ CDN ËäÇÁÇπ‰∏äÔºåÊñá‰ª∂Â∏¶‰∏ä Hash ÂÄº\n  - Áî±‰∫éÊµèËßàÂô®ÂØπÂçï‰∏™ÂüüÂêçËØ∑Ê±ÇÁöÑÈôêÂà∂ÔºåÂèØ‰ª•Â∞ÜËµÑÊ∫êÊîæÂú®Â§ö‰∏™‰∏çÂêåÂüüÁöÑ CDN ‰∏äÔºåÂèØ‰ª•ÁªïÂºÄËØ•ÈôêÂà∂\n  - CDN Ê≤°Êúâ CookieÔºå‰ΩøÁî® CDN ÂèØ‰ª•ÂáèÂ∞ë Cookie\n  - CDN ‰ºöËá™Âä®ÂêàÂπ∂ËÑöÊú¨Êñá‰ª∂Á≠âÔºåÂáèÂ∞ëËØ∑Ê±ÇÊï∞Èáè\n  - ‰ΩÜÊòØÔºåCDN ÂêåÊó∂‰πüÂ¢ûÂä†‰∫ÜÂüüÂêçÔºåÂ¢ûÂ§ß‰∫ÜÂêåÊó∂ËØ∑Ê±ÇÊï∞Èáè\n- **ÊúçÂä°Âô®ÁºìÂ≠òÔºö**Â∞Ü‰∏çÂèòÁöÑÊï∞ÊçÆ„ÄÅÈ°µÈù¢ÁºìÂ≠òÂà∞**ÂÜÖÂ≠ò**Êàñ**ËøúÁ®ãÂ≠òÂÇ®**ÔºàÂ¶Ç Redis Á≠âÔºâ‰∏ä\n- **ÊµèËßàÂô®ÁºìÂ≠ò**: ÈÄöËøáËÆæÁΩÆËØ∑Ê±ÇÁöÑËøáÊúüÊó∂Èó¥ÔºåÂ∞ÜÂêÑÁßç‰∏çÂ∏∏ÂèòÁöÑÊï∞ÊçÆËøõË°åÁºìÂ≠òÔºåÂêàÁêÜËøêÁî®ÊµèËßàÂô®ÁºìÂ≠òÔºåÁº©Áü≠Êï∞ÊçÆÁöÑËé∑ÂèñÊó∂Èó¥\n  - [Cookie](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/cookie.html)\n  - [WebStorage](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/web-storage.html)\n    - LocalStorage\n    - SessionStorage\n  - IndexDB\n  - [ServiceWorker](https://tsejx.github.io/JavaScript-Guidebook/html5-scripting-programming/offline-and-storage/service-worker.html)\n  - AppCacheÔºöÈááÁî® mainfest Êñá‰ª∂ËøõË°åÁºìÂ≠ò\n\n**Áõ∏ÂÖ≥ÈìæÊé•Ôºö**\n\n- [Â§ßÂÖ¨Âè∏ÈáåÊÄéÊ†∑ÂºÄÂèëÂíåÈÉ®ÁΩ≤ÂâçÁ´Ø‰ª£Á†ÅÔºü](https://www.zhihu.com/question/20790576)\n- [‰ΩøÁî® SRI Â¢ûÂº∫ LocalStorage ‰ª£Á†ÅÂÆâÂÖ®](https://link.juejin.im/?target=https%3A%2F%2Fimququ.com%2Fpost%2Fenhance-security-for-ls-code.html)\n\n# ÊúçÂä°Á´ØÂ±ÇÈù¢\n\nÁî±‰∫éÊú¨ÊñáÂè™Ê∂âÂèäÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÔºå‰ΩÜ‰∏∫Ê±ÇÊµÅÁ®ãÂÆåÊï¥ÔºåÁÆÄÂçïÁΩóÂàó‰∏éÊúçÂä°Á´ØÁõ∏ÂÖ≥ÁöÑ‰ºòÂåñÊñπÊ°àÁöÑÂ∏∏ËßÅÊâãÊÆµ„ÄÇ\n\n- Â§öÂüüÂêçËµÑÊ∫êÂä†ËΩΩ\n- Ë¥üËΩΩÂùáË°°\n- Êï∞ÊçÆÁºìÂ≠ò\n- ÂèçÂêë‰ª£ÁêÜ\n\n# ÂÆ¢Êà∑Á´ØÂ±ÇÈù¢\n\n- ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè/Â§ßÂ∞è\n- ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ\n- Áî®Êà∑‰ΩìÈ™å\n\n## ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè/Â§ßÂ∞è\n\n- **ÂéãÁº©ÈùôÊÄÅËµÑÊ∫êÔºåÊ∏ÖÈô§Êó†Áî®‰ª£Á†Å**\n  - Tree Shaking Êó†Áî®‰ª£Á†ÅÁßªÈô§\n  - UglifyJs Ê∑∑Ê∑Ü / ÂéãÁº©‰ª£Á†Å\n  - Code Spliting ‰ª£Á†ÅÂàÜÂâ≤ÔºàËµÑÊ∫êÊåâÈúÄÂä†ËΩΩÊàñÂπ∂Ë°åÂä†ËΩΩÔºâ\n- **ÂºÄÂêØ Gzip ÂéãÁº©**\n  - ËØ∑Ê±ÇÂ§¥ `Accept-Encoding: gzip, deflate`\n  - ÂìçÂ∫îÂ§¥ `Content-Encoding: gzip`\n  - Gzip ËÉΩÂ§üÂéãÁº©‰ªª‰ΩïÊñáÊú¨Á±ªÂûãÁöÑÂìçÂ∫îÔºåÂåÖÊã¨ HTMl„ÄÅXML Âíå JSON\n  - Â∑≤ÁªèÂéãÁº©ËøáÁöÑÂÜÖÂÆπÂ¶ÇÂõæÁâá„ÄÅÂíå PDF ‰∏çË¶Å‰ΩøÁî® GzipÔºåËøô‰∫õËµÑÊ∫êÂÜÖÂÆπÊú¨Ë∫´‰ΩìÁßØÂ∞±Â∞èÔºåÂÜç‰ΩøÁî® Gzip ÂèçËÄå‰ºöÂ¢ûÂä†ËµÑÊ∫ê‰∏ãËΩΩÊó∂Èó¥ÔºåÊµ™Ë¥π CPU ËµÑÊ∫êÔºåËÄå‰∏îÊúâÂ¢ûÂä†Êñá‰ª∂‰ΩìÁßØÁöÑÂèØËÉΩ\n- **Â§ö‰ªΩÁºñËØëÊñá‰ª∂ÊåâÊù°‰ª∂ÂºïÂÖ•**\n  - ÈíàÂØπÁé∞‰ª£ÊµèËßàÂô®Áõ¥Êé•Áªô ES6 Êñá‰ª∂ÔºåÂè™ÈíàÂØπ‰ΩéÁ´ØÊµèËßàÂô®ÂºïÁî®ÁºñËØëÂêéÁöÑ ES5 Êñá‰ª∂\n  - ÂèØ‰ª•Âà©Áî® `<script type=\"module\"> / <script type=\"module\">`ËøõË°åÊù°‰ª∂ÂºïÂÖ•Áî®\n- **Âä®ÊÄÅ Polyfill**\n  - Âè™ÈíàÂØπ‰∏çÊîØÊåÅÁöÑÊµèËßàÂô®ËøêË°åÁéØÂ¢ÉÂºïÂÖ• Polyfill\n- **ÂõæÁâá‰ºòÂåñ**\n  - Ê†πÊçÆ‰∏öÂä°Âú∫ÊôØÔºå‰∏é UI Êé¢ËÆ®ÈÄâÊã© **ÂêàÈÄÇË¥®ÈáèÔºåÂêàÈÄÇÂ∞∫ÂØ∏**\n  - Ê†πÊçÆÈúÄÊ±ÇÂíåÂπ≥Âè∞ÔºåÈÄâÊã© **ÂêàÈÄÇÊ†ºÂºè**Ôºå‰æãÂ¶ÇÈùûÈÄèÊòéÊó∂ÂèØÁî® jpgÔºõÈùûËãπÊûúÁ´ØÔºå‰ΩøÁî® webp\n  - Â∞èÂõæÁâáÂêàÊàê **Èõ™Á¢ßÂõæ CSS Sprite**Ôºå‰Ωé‰∫é 5K ÁöÑÂõæÁâáÂèØ‰ª•ËΩ¨Êç¢Êàê B**ase64** ÂÜÖÂµå\n  - ÂêàÈÄÇÂú∫ÊôØ‰∏ãÔºå‰ΩøÁî® I**confont** ÊàñËÄÖ **SVG**\n  - ÂéãÁº© favicon.ico Âπ∂ÁºìÂ≠ò\n  - ‰ΩøÁî® Blob ÂºÇÊ≠•Âä†ËΩΩ\n  - ‰ΩøÁî® [img-2](https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FRevillWeb%2Fimg-2) ‰ª£Êõø img Ê†áÁ≠æ\n  - ÂµåÂÖ•ËµÑÊ∫êÔºöBase64 ÂµåÂÖ•ËµÑÊ∫êÔºàÈíàÂØπÂ∞èÁöÑÈùôÊÄÅÂõæÁâáËµÑÊ∫êÔºâ\n- **Â≠ó‰Ωì‰ºòÂåñ**\n  - ÊµèËßàÂô®‰∏∫‰∫ÜÈÅøÂÖç FOUTÔºàFlash Of Unstyled TextÔºâÔºå‰ºöÂ∞ΩÈáèÁ≠âÂæÖÂ≠ó‰ΩìÂä†ËΩΩÂÆåÊàêÂêéÔºåÂÜçÊòæÁ§∫Â∫îÁî®‰∫ÜËØ•Â≠ó‰ΩìÁöÑÂÜÖÂÆπ„ÄÇÂ∏¶Êù•‰∫Ü FOITÔºàFlash Of Invisible Text ÈóÆÈ¢òÔºâÔºåÂØºËá¥Á©∫ÁôΩ\n  - ËÆæÁΩÆÂ§öÂ≠ó‰ΩìÔºåÈôçÁ∫ßÊñπÊ≥ïÔºö‰ΩøÁî®ÈªòËÆ§Â≠ó‰Ωì\n  - ÂºÇÊ≠•Âä†ËΩΩÂ≠ó‰ΩìÊñá‰ª∂ÔºöÈÄöËøáÂºÇÊ≠•Âä†ËΩΩ CSSÔºåÂç≥ÂèØÈÅøÂÖçÂ≠ó‰ΩìÈòªÂ°ûÊ∏≤ÊüìÔºåËøòÊòØ‰ºöÁ©∫ÁôΩ\n- **Â§öÂ™í‰Ωì‰ºòÂåñ**\n  - Èü≥ËßÜÈ¢ë\n\n## ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ\n\n- **‰ºòÂåñÂä†ËΩΩÈ°∫Â∫è**\n  - CSS Ê†∑ÂºèÊñá‰ª∂ÊîæÂú®ÊñáÊ°£ `<head>` Ê†áÁ≠æ‰∏≠ÂºïÂÖ•\n    - ÊääÊ†∑ÂºèË°®ÊîæÂú® `<head>` ‰∏≠ÂèØ‰ª•ËÆ©È°µÈù¢Ê∏êËøõÊ∏≤ÊüìÔºåÂ∞ΩÊó©ÂëàÁé∞ËßÜËßâÂèçÈ¶àÔºåÁªôÁî®Êà∑Âä†ËΩΩÈÄüÂ∫¶ÂæàÂø´ÁöÑÊÑüËßâ\n  - JavaScript ËÑöÊú¨Êñá‰ª∂ÊîæÂú® `<body>` Ê†áÁ≠æÂ∫ïÈÉ®ÂºïÂÖ•\n    - **ÂéüÂõ†**ÔºöÂä†ËΩΩËÑöÊú¨Êñá‰ª∂‰ºöÂØπÂêéÁª≠ËµÑÊ∫êÊ∏≤ÊüìÈÄ†ÊàêÈòªÂ°û\n    - **ÊñπÊ°à**ÔºöÂà∂ÂÆöÂêàÁêÜÁöÑËÑöÊú¨Êñá‰ª∂Âä†ËΩΩÁ≠ñÁï•\n      - Âä®ÊÄÅËÑöÊú¨Âä†ËΩΩÔºàÂºÇÊ≠•Âä†ËΩΩ„ÄÅÂª∂ËøüÂä†ËΩΩ„ÄÅÊåâÈúÄÂä†ËΩΩÔºâ\n      - Ê∑ªÂä† `defer` Â±ûÊÄßÁöÑËÑöÊú¨Êñá‰ª∂ÊòØÂú® HTML Ëß£ÊûêÂÆå‰πãÂêéÊâç‰ºöÊâßË°å„ÄÇÂ¶ÇÊûúÊòØÂ§ö‰∏™ÔºåÊåâÁÖßÂä†ËΩΩÁöÑÈ°∫Â∫è‰æùÊ¨°ÊâßË°å\n      - Ê∑ªÂä† `async` Â±ûÊÄßÁöÑËÑöÊú¨Êñá‰ª∂ÊòØÂú®Âä†ËΩΩ‰πãÂêéÁ´ãÂç≥ÊâßË°åÔºåÂ¶ÇÊûú HTML ËøòÊ≤°Ëß£ÊûêÂÆåÔºå‰ºöÈòªÂ°û HTML ÁªßÁª≠Ëß£Êûê„ÄÇÂ¶ÇÊûúÊòØÂ§ö‰∏™ÔºåÊâßË°åÈ°∫Â∫èÂíåÂä†ËΩΩÈ°∫Â∫èÊó†ÂÖ≥\n  - ÂΩ±ÂìçÈ¶ñÂ±èÁöÑÔºå‰ºòÂÖàÁ∫ßÂæàÈ´òÁöÑËÑöÊú¨Êñá‰ª∂‰πüÂèØ‰ª• `<head>` Êàñ `<body>` È¶ñÂ≠êËäÇÁÇπÂºïÂÖ•ÔºåÁîöËá≥Âà©Áî® `style` Êàñ `script` ÂÜÖËÅî\n- **ËµÑÊ∫êÂä†ËΩΩÊñπÂºè**\n\n  - ÈùûÂÖ≥ÈîÆÊÄßÁöÑÊñá‰ª∂Â∞ΩÂèØËÉΩÁöÑ**ÂºÇÊ≠•Âä†ËΩΩÂíåÂª∂ËøüÂä†ËΩΩ**ÔºåÈÅøÂÖçÈòªÂ°ûÈ¶ñÈ°µÊ∏≤Êüì\n  - **ËµÑÊ∫êÊèêÁ§∫Êåá‰ª§**\n    - Preload\n    - Prefetch\n    - Preconnect\n    - Subresource\n  - **ÂºÇÊ≠•Âä†ËΩΩÔºàÈ¢ÑÂä†ËΩΩÔºâ**\n    - Âà©Áî®ÊµèËßàÂô®Á©∫Èó≤Êó∂Èó¥ËØ∑Ê±ÇÂ∞ÜÊù•Ë¶Å‰ΩøÁî®ÁöÑËµÑÊ∫êÔºå‰ª•‰æøÁî®Êà∑ËÆøÈóÆ‰∏ã‰∏ÄÈ°µÈù¢Êó∂Êõ¥Âø´Âú∞ÂìçÂ∫î\n    - È¢ÑÂà§Áî®Êà∑ÁöÑË°å‰∏∫ÔºåÊèêÂâçÂä†ËΩΩÊâÄÈúÄË¶ÅÁöÑËµÑÊ∫êÔºåÂàôÂèØ‰ª•Âø´ÈÄüÂú∞ÂìçÂ∫îÁî®Êà∑ÁöÑÊìç‰ΩúÔºå‰ªéËÄåÊâìÈÄ†Êõ¥Â•ΩÁöÑÁî®Êà∑‰ΩìÈ™å„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÈÄöËøáÊèêÂâçÂèëËµ∑ÁΩëÁªúËØ∑Ê±ÇÔºå‰πüÂèØ‰ª•ÂáèÂ∞ëÁî±‰∫éÁΩëÁªúËøáÊÖ¢ÂØºËá¥ÁöÑÁî®Êà∑Á≠âÂæÖÊó∂Èó¥„ÄÇ\n    - Preload ËßÑËåÉ W3CPreload\n      - rel ÊòéÁ°ÆÂëäÁü•ÊµèËßàÂô®ÂêØÁî® preload ÂäüËÉΩ\n      - as ÊòéÁ°ÆÈúÄË¶ÅÈ¢ÑÂä†ËΩΩËµÑÊ∫êÁöÑÁ±ªÂûãÔºåÂåÖÊã¨ JavaScript„ÄÅImages„ÄÅCSS„ÄÅMedia Á≠â\n  - **Âª∂ËøüÂä†ËΩΩÔºàÊáíÂä†ËΩΩ„ÄÅÊåâÈúÄÂä†ËΩΩÔºâ**\n    - È°µÈù¢ÂàùÂßãÂä†ËΩΩÊó∂Â∞ÜÈùûÁªùÂØπÂøÖÈ°ªÁöÑËµÑÊ∫êÂª∂ËøüÂä†ËΩΩÔºå‰ªéËÄåÊèêÈ´òÈ°µÈù¢ÁöÑÂä†ËΩΩÂíåÂìçÂ∫îÈÄüÂ∫¶\n      - ÈùûÈ¶ñÂ±è‰ΩøÁî®ÁöÑÊï∞ÊçÆ„ÄÅÊ†∑Âºè„ÄÅËÑöÊú¨„ÄÅÂõæÁâáÁ≠â\n      - Áî®Êà∑‰∫§‰∫íÊó∂Êâç‰ºöÊòæÁ§∫ÁöÑÂÜÖÂÆπ\n    - **ÂÆûÁé∞ÊñπÂºèÔºö**\n      - ËôöÊãü‰ª£ÁêÜÊäÄÊúØÔºöÁúüÊ≠£Âä†ËΩΩÁöÑÂØπË±°‰∫ãÂÖàÊèê‰æõ‰∏Ä‰∏™‰ª£ÁêÜÊàñËÄÖËØ¥Âç†‰ΩçÁ¨¶„ÄÇÊúÄÂ∏∏ËßÅÁöÑÂú∫ÊôØÊòØÂú®ÂõæÁâáÁöÑÊáíÂä†ËΩΩ‰∏≠ÔºåÂÖàÁî®‰∏ÄÁßç loading ÁöÑÂõæÁâáÂç†‰ΩçÔºåÁÑ∂ÂêéÂÜçÁî®ÂºÇÊ≠•ÁöÑÊñπÂºèÂä†ËΩΩÂõæÁâá„ÄÇÁ≠âÁúüÊ≠£ÂõæÁâáÂä†ËΩΩÂÆåÊàêÂêéÂ∞±Â°´ÂÖÖËøõÂõæÁâáËäÇÁÇπ‰∏≠Âéª„ÄÇ\n      - ÊÉ∞ÊÄßÂàùÂßãÂåñÊäÄÊúØÔºöÂ∞Ü‰ª£Á†ÅÂàùÂßãÂåñÁöÑÊó∂Êú∫Êé®ËøüÔºàÁâπÂà´ÊòØÈÇ£‰∫õÂàùÂßãÂåñÊ∂àËÄóËæÉÂ§ßÁöÑËµÑÊ∫êÔºâ\n    - **ÈÄâÊã©Êó∂Êú∫Ôºö**\n      - ÊªöÂä®Êù°ÁõëÂê¨ÔºöÂ§ßÂûãÂõæÁâáÊµÅÂú∫ÊôØÔºåÈÄöËøáÂØπÁî®Êà∑ÊªöÂä®ÁªìÊùüÂå∫ÂüüËøõË°åËÆ°ÁÆóÔºå‰ªéËÄåÂè™Âä†ËΩΩÁõÆÊ†áÂå∫ÂüüÁöÑËµÑÊ∫êÔºåËøôÊ†∑ÂèØ‰ª•ÂÆûÁé∞ËäÇÊµÅÁöÑÁõÆÁöÑ\n      - ‰∫ã‰ª∂ÂõûË∞ÉÔºöÂ∏∏Áî®‰∫éÈúÄË¶ÅÁî®Êà∑‰∫§‰∫íÁöÑÂú∞ÊñπÔºåÂ¶ÇÁÇπÂáªÂä†ËΩΩÊõ¥Â§ö‰πãÁ±ªÁöÑÔºåËøô‰∫õËµÑÊ∫êÂæÄÂæÄÈÄöËøáÂú®Áî®Êà∑‰∫§‰∫íÁöÑÁû¨Èó¥ÔºàÂ¶ÇÁÇπÂáª‰∏Ä‰∏™Ëß¶ÂèëÊåâÈíÆÔºâÔºåÂèëËµ∑ AJAX ËØ∑Ê±ÇÊù•Ëé∑ÂèñËµÑÊ∫ê„ÄÇÊØîËæÉÁÆÄÂçïÔºåÂú®Ê≠§‰∏çÂÜçËµòËø∞„ÄÇ\n    - ÈÅµÂæ™Ê∏êËøõÂ¢ûÂº∫ÁêÜÂøµÁêÜÂøµÂºÄÂèëÁΩëÁ´ôÔºöJavaScript Áî®‰∫éÂ¢ûÂº∫Áî®Áî®Êà∑‰ΩìÈ™åÔºå‰ΩÜÊ≤°ÊúâÔºà‰∏çÊîØÊåÅÔºâ JavaScript ‰πüËÉΩÊ≠£Â∏∏Â∑•‰ΩúÔºåÂÆåÂÖ®ÂèØ‰ª•Âª∂ËøüÂä†ËΩΩ JavaScript\n    - Â∞ÜÈ¶ñÂ±è‰ª•Â§ñÁöÑ HTML ÊîæÂú®‰∏çÊ∏≤ÊüìÁöÑÂÖÉÁ¥†‰∏≠ÔºåÂ¶ÇÈöêËóèÁöÑ `<textarea>`ÔºåÊàñËÄÖ `type` Â±ûÊÄß‰∏∫ÈùûÊâßË°åËÑöÊú¨ÁöÑ `<script>` Ê†áÁ≠æ‰∏≠ÔºåÂáèÂ∞ëÂàùÂßãÊ∏≤ÊüìÁöÑ DOM ÂÖÉÁ¥†Êï∞ÈáèÔºåÊèêÈ´òÈÄüÂ∫¶„ÄÇÁ≠âÈ¶ñÂ±èÂä†ËΩΩÂÆåÊàêÊàñËÄÖÁî®Êà∑Êìç‰ΩúÊó∂ÔºåÂÜçÂéªÊ∏≤ÊüìÂâ©‰ΩôÁöÑÈ°µÈù¢ÂÜÖÂÆπ„ÄÇ\n\n- **ËµÑÊ∫êÊ∏≤Êüì**\n  - ÈÅøÂÖçÈáçÊéíÔºåÂáèÂ∞ëÈáçÁªòÔºåÈÅøÂÖçÁôΩÂ±èÔºåÊàñËÄÖ‰∫§‰∫íËøáÁ®ã‰∏≠ÁöÑÂç°È°ø\n  - ÈÄöËøá [CSS Trigger](https://csstriggers.com/) Êü•ËØ¢Âì™‰∫õÊ†∑ÂºèÂ±ûÊÄß‰ºöËß¶ÂèëÈáçÊéí‰∏éÈáçÁªò\n  - **ÂáèÂ∞ëÈáçÊéíÁöÑÊñπÊ≥ï**\n    - È°µÈù¢ÂàùÂßãÂåñ\n    - ÂáèÂ∞ëÂØπ DOM ÂÖÉÁ¥†ÂÜÖÂÆπÊîπÂèòÔºàÂ¶ÇÔºöÊñáÊú¨ÊîπÂèò„ÄÅÂõæÁâáË¢´Âè¶‰∏Ä‰∏™ÂêåÂ∞∫ÂØ∏ÂÖÉÁ¥†Êõø‰ª£Ôºâ\n    - ÂáèÂ∞ëÂØπ DOM ÂÖÉÁ¥†Â∞∫ÂØ∏ÊîπÂèòÔºàÂõ†‰∏∫ËæπË∑ù„ÄÅÂ°´ÂÖÖ„ÄÅËæπÊ°ÜÂÆΩÂ∫¶„ÄÅÂÆΩÂ∫¶„ÄÅÈ´òÂ∫¶Á≠âÂ±ûÊÄßÊîπÂèòÔºâ\n    - ÂáèÂ∞ëÂØπ DOM ÂÖÉÁ¥†‰ΩçÁΩÆÊîπÂèò\n    - ÂáèÂ∞ëÂØπÂèØËßÅ DOM ÂÖÉÁ¥†ÁöÑÊìç‰ΩúÔºàÂ¶ÇÔºöÂ¢ûÂä†„ÄÅÁßªÂä®ÂíåÂà†Èô§Ôºâ\n      - Â§öÊ¨° DOM Êìç‰ΩúÂêàÂπ∂‰∏∫‰∏ÄÊ¨°Â§ÑÁêÜ\n      - Â§ßÈáèÊìç‰ΩúÊó∂ÔºåÂèØÂ∞Ü DOM ËÑ±Á¶ªÊñáÊ°£ÊµÅÊàñËÄÖÈöêËóèÔºåÂæÖÊìç‰ΩúÂÆåÊàêÂêéÂÜçÈáçÊñ∞ÊÅ¢Â§ç\n    - ÂáèÂ∞ëÊóãËΩ¨Â±èÂπïÁöÑÊìç‰Ωú\n    - ÂáèÂ∞ëÊîπÂèòÊµèËßàÂô®Á™óÂè£Â∞∫ÂØ∏ÁöÑÊìç‰Ωú\n    - ÂáèÂ∞ëËÆæÁΩÆÂÖÉÁ¥† style Â±ûÊÄß\n    - ÂáèÂ∞ëËÆæÁΩÆÂÖÉÁ¥† class Â±ûÊÄß\n    - ÈÄöËøáÂª∂ËøüËÆøÈóÆÂ∏ÉÂ±Ä‰ø°ÊÅØÈÅøÂÖçÈáçÊéíÁâà\n      - Â¶Ç `offsetWidth`„ÄÅ`offsetHeight` Âíå `getComputedStyle` Á≠â\n      - ÂéüÂõ†ÔºöÊµèËßàÂô®ÈúÄË¶ÅËé∑ÂèñÊúÄÊñ∞ÂáÜÁ°ÆÁöÑÂÄºÔºåÂõ†Ê≠§ÂøÖÈ°ªÁ´ãÂç≥ËøõË°åÈáçÊéíÔºåËøôÊ†∑‰ºöÁ†¥Âùè‰∫ÜÊµèËßàÂô®ÁöÑÈòüÂàóÊï¥ÂêàÔºåÂ∞ΩÈáèÂ∞ÜÂÄºËøõË°åÁºìÂ≠ò‰ΩøÁî®\n    - ÂáèÂ∞ëÂú® HTML ‰∏≠Áº©ÊîæÂõæÁâá\n    - ÈÅøÂÖçÂØπÂ§ßÈÉ®ÂàÜÈ°µÈù¢ËøõË°åÈáçÊéíÁâà\n      - ‰ΩøÁî®ÁªùÂØπÂùêÊ†áÂÆö‰ΩçÈ°µÈù¢Âä®ÁîªÁöÑÂÖÉÁ¥†Ôºå‰ΩøÂÆÉ‰Ωç‰∫éÈ°µÈù¢Â∏ÉÂ±ÄÊµÅ‰πãÂ§ñ\n      - ÂêØÂä®ÂÖÉÁ¥†Âä®ÁîªÔºåÂΩìÂÆÉÊâ©Â§ßÊó∂ÔºåÂÆÉ‰∏¥Êó∂Ë¶ÜÁõñÈÉ®ÂàÜÈ°µÈù¢\n      - ÂΩìÂä®ÁîªÁªìÊùüÊó∂ÔºåÈáçÊñ∞ÂÆö‰ΩçÔºå‰ªéËÄåÂè™‰∏ÄÊ¨°‰∏ãÁßªÊñáÊ°£ÂÖ∂‰ªñÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆ\n    - ÂºÄÂêØ GPU Âä†ÈÄü\n      - transform\n      - opacity\n      - filter\n\n**Áõ∏ÂÖ≥ÈìæÊé•Ôºö**\n\n- [ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñ‰πãÂä†ËΩΩÊäÄÊúØ](https://juejin.im/post/59b73ef75188253db70acdb5#heading-5)\n- [ËµÑÊ∫êÊèêÁ§∫‚Äî‚Äî‰ªÄ‰πàÊòØ PreloadÔºåPrefetch Âíå PreconnectÔºü](https://juejin.im/post/5b5984b851882561da216311)\n- [preload-webpack-plugin](https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FGoogleChrome%2Fpreload-webpack-plugin)\n- [Preload ÊäÄÊúØÁªÜËäÇ](https://link.juejin.im/?target=https%3A%2F%2Fwww.smashingmagazine.com%2F2016%2F02%2Fpreload-what-is-it-good-for%2F)\n\n## Áî®Êà∑‰ΩìÈ™å\n\n- Ë∞®ÊÖéÊéßÂà∂Â•Ω Web Â≠ó‰ΩìÔºå‰∏Ä‰∏™Â§ßÂ≠ó‰ΩìÂåÖË∂≥Â§üËÆ©‰Ω†Âäü‰∫è‰∏ÄÁØë\n  - ÊéßÂà∂Â≠ó‰ΩìÂåÖÁöÑÂä†ËΩΩÊó∂Êú∫\n  - Â¶ÇÊûú‰ΩøÁî®ÁöÑÂ≠ó‰ΩìÊúâÈôêÔºåÈÇ£Â∞ΩÂèØËÉΩÂè™Â∞Ü‰ΩøÁî®ÁöÑÊñáÂ≠óÂçïÁã¨ÊâìÂåÖÔºåËÉΩÊúâÊïàÂáèÂ∞ë‰ΩìÁßØ\n- ÂàÜÊ∏ÖËΩªÈáçÁºìÊÄ•\n  - ÈáçË¶ÅÁöÑÂÖÉÁ¥†‰ºòÂÖàÊ∏≤Êüì\n  - ËßÜÁ™óÂÜÖÁöÑÂÖÉÁ¥†‰ºòÂÖàÊ∏≤Êüì\n- ÊúçÂä°Á´ØÊ∏≤ÊüìÔºàSSRÔºâ\n  - ÂáèÂ∞ëÈ¶ñÂ±èÈúÄË¶ÅÁöÑÊï∞ÊçÆÈáèÔºåÂâîÈô§ÂÜó‰ΩôÊï∞ÊçÆÂíåËØ∑Ê±Ç\n  - ÊéßÂà∂Â•ΩÁºìÂ≠òÔºåÂØπÊï∞ÊçÆ/È°µÈù¢ËøõË°åÂêàÁêÜÁöÑÁºìÂ≠ò\n  - È°µÈù¢ÁöÑËØ∑Ê±Ç‰ΩøÁî®ÊµÅÁöÑÂΩ¢ÂºèËøõË°å‰º†ÈÄí\n- ‰ºòÂåñÁî®Êà∑ÊÑüÁü•\n  - Âà©Áî®‰∏Ä‰∫õÂä®Áîª **ËøáÊ∏°ÊïàÊûú**ÔºåËÉΩÊúâÊïàÂáèÂ∞ëÁî®Êà∑ÂØπÂç°È°øÁöÑÊÑüÁü•\n  - Â∞ΩÂèØËÉΩÂà©Áî® **È™®Êû∂Â±èÔºàSkeletonÔºâ/ Loading** Á≠âÂáèÂ∞ëÁî®Êà∑ÂØπÁôΩÂ±èÁöÑÊÑüÁü•\n  - Âä®ÁîªÂ∏ßÊï∞Â∞ΩÈáè‰øùËØÅÂú® **30 Â∏ß** ‰ª•‰∏äÔºå‰ΩéÂ∏ßÊï∞„ÄÅÂç°È°øÁöÑÂä®ÁîªÂÆÅÊÑø‰∏çË¶Å\n  - JavaScript ÊâßË°åÊó∂Èó¥ÈÅøÂÖçË∂ÖËøá 100ms ÔºåË∂ÖËøáÁöÑËØùÂ∞±ÈúÄË¶ÅÂÅöÔºö\n    - ÂØªÊâæÂèØÁºìÂ≠òÁöÑÁÇπ\n    - ‰ªªÂä°ÁöÑÂàÜÂâ≤ÂºÇÊ≠•Êàñ web worker ÊâßË°å\n\n# ÁºñÁ†ÅÂ±ÇÈù¢\n\nÁºñÁ†Å‰ºòÂåñÔºåÊåáÁöÑÂ∞±ÊòØÂú®‰ª£Á†ÅÁºñÂÜôÊó∂ÁöÑÔºåÈÄöËøá‰∏Ä‰∫õ **ÊúÄ‰Ω≥ÂÆûË∑µ**ÔºåÊèêÂçá‰ª£Á†ÅÁöÑÊâßË°åÊÄßËÉΩ„ÄÇÈÄöÂ∏∏ËøôÂπ∂‰∏ç‰ºöÂ∏¶Êù•ÈùûÂ∏∏Â§ßÁöÑÊî∂ÁõäÔºå‰ΩÜËøôÂ±û‰∫é**Á®ãÂ∫èÂëòÁöÑËá™Êàë‰øÆÂÖª**ÔºåËÄå‰∏îËøô‰πüÊòØÈù¢ËØï‰∏≠ÁªèÂ∏∏Ë¢´ÈóÆÂà∞ÁöÑ‰∏Ä‰∏™ÊñπÈù¢ÔºåËÄÉÂØüËá™ÊàëÁÆ°ÁêÜ‰∏éÁªÜËäÇÁöÑÂ§ÑÁêÜ„ÄÇ\n\n## JavaScript ‰ºòÂåñ\n\n- **Êï∞ÊçÆËØªÂèñ**\n  - ÈÄöËøá‰ΩúÁî®ÂüüÈìæ / ÂéüÂûãÈìæËØªÂèñÂèòÈáèÊàñÊñπÊ≥ïÊó∂ÔºåÈúÄË¶ÅÊõ¥Â§öÁöÑËÄóÊó∂Ôºå‰∏îË∂äÈïøË∂äÊÖ¢\n  - ÂØπË±°ÂµåÂ•óË∂äÊ∑±ÔºåËØªÂèñÂÄº‰πüË∂äÊÖ¢\n  - ÊúÄ‰Ω≥ÂÆûË∑µÔºö\n    - Â∞ΩÈáèÂú®Â±ÄÈÉ®‰ΩúÁî®Âüü‰∏≠ËøõË°å **ÂèòÈáèÁºìÂ≠ò**\n    - ÈÅøÂÖçÂµåÂ•óËøáÊ∑±ÁöÑÊï∞ÊçÆÁªìÊûÑÔºå**Êï∞ÊçÆÊâÅÂπ≥Âåñ** ÊúâÂà©‰∫éÊï∞ÊçÆÁöÑËØªÂèñÂíåÁª¥Êä§\n- **Âæ™ÁéØ**ÔºöÂæ™ÁéØÈÄöÂ∏∏ÊòØÁºñÁ†ÅÊÄßËÉΩÁöÑÂÖ≥ÈîÆÁÇπ\n  - ‰ª£Á†ÅÁöÑÊÄßËÉΩÈóÆÈ¢ò‰ºöÂú®Âæ™ÁéØ‰∏≠Ë¢´ÊåáÊï∞ÂÄçÊîæÂ§ß\n  - ÊúÄ‰Ω≥ÂÆûË∑µ:\n    - Â∞ΩÂèØËÉΩ ÂáèÂ∞ëÂæ™ÁéØÊ¨°Êï∞Ôºõ\n      - ÂáèÂ∞ëÈÅçÂéÜÁöÑÊï∞ÊçÆÈáè\n      - ÂÆåÊàêÁõÆÁöÑÂêéÈ©¨‰∏äÁªìÊùüÂæ™ÁéØ\n    - ÈÅøÂÖçÂú®Âæ™ÁéØ‰∏≠ÊâßË°åÂ§ßÈáèÁöÑËøêÁÆóÔºåÈÅøÂÖçÈáçÂ§çËÆ°ÁÆóÔºåÁõ∏ÂêåÁöÑÊâßË°åÁªìÊûúÂ∫îËØ•‰ΩøÁî®ÁºìÂ≠ò\n    - JavaScript ‰∏≠‰ΩøÁî® **ÂÄíÂ∫èÂæ™ÁéØ** ‰ºöÁï•ÂæÆÊèêÂçáÊÄßËÉΩ\n    - Â∞ΩÈáèÈÅøÂÖç‰ΩøÁî® for-in Âæ™ÁéØÔºåÂõ†‰∏∫ÂÆÉ‰ºöÊûö‰∏æÂéüÂûãÂØπË±°ÔºåËÄóÊó∂Â§ß‰∫éÊôÆÈÄöÂæ™ÁéØ\n- **Êù°‰ª∂ÊµÅÁ®ãÊÄßËÉΩ**ÔºöMap / Object > switch > if-else\n- **Ê®°ÂùóÂåñ**ÔºöÂ∞ùËØï‰ΩøÁî® `import()`\n\n## DOM ‰ºòÂåñ\n\n- ÂáèÂ∞ë DOM ÁöÑÂ±ÇÁ∫ßÔºåÂèØ‰ª•ÂáèÂ∞ëÊ∏≤ÊüìÂºïÊìéÂ∑•‰ΩúËøáÁ®ã‰∏≠ÁöÑËÆ°ÁÆóÈáè\n- ÂáèÂ∞ëËÆøÈóÆ DOM ÁöÑÊ¨°Êï∞ÔºåÂ¶ÇÈúÄÂ§öÊ¨°ÔºåÂ∞Ü DOM ÁºìÂ≠ò‰∫éÂèòÈáè‰∏≠\n- ‰ΩøÁî®‰∫ã‰ª∂ÂßîÊâòÔºåÈÅøÂÖçÂ§ßÈáèÁöÑ‰∫ã‰ª∂ÁªëÂÆö\n- ‰ΩøÁî® `requestAnimationFrame` Êù•ÂÆûÁé∞ËßÜËßâÂèòÂåñÔºö‰∏ÄËà¨Êù•ËØ¥Êàë‰ª¨‰ºö‰ΩøÁî® `setTimeout` Êàñ `setInterval` Êù•ÊâßË°åÂä®Áîª‰πãÁ±ªÁöÑËßÜËßâÂèòÂåñÔºå‰ΩÜËøôÁßçÂÅöÊ≥ïÁöÑÈóÆÈ¢òÊòØÔºåÂõûË∞ÉÂ∞ÜÂú®Â∏ß‰∏≠ÁöÑÊüê‰∏™Êó∂ÁÇπËøêË°åÔºåÂèØËÉΩÂàöÂ•ΩÂú®Êú´Â∞æÔºåËÄåËøôÂèØËÉΩÁªèÂ∏∏‰ºö‰ΩøÊàë‰ª¨‰∏¢Â§±Â∏ßÔºåÂØºËá¥Âç°È°ø\n\n## CSS ‰ºòÂåñ\n\n- **Â±ÇÁ∫ßÊâÅÂπ≥**ÔºåÈÅøÂÖçËøá‰∫éÂ§öÂ±ÇÁ∫ßÁöÑÈÄâÊã©Âô®ÂµåÂ•ó\n- **ÁâπÂÆöÁöÑÈÄâÊã©Âô®**ÔºöÂ•ΩËøá‰∏ÄÂ±Ç‰∏ÄÂ±ÇÊü•ÊâæÔºö`.xxx-child-text{}` ‰ºò‰∫é `.xxx .child .text{}`\n- **ÂáèÂ∞ë‰ΩøÁî®ÈÄöÈÖçÁ¨¶‰∏éÂ±ûÊÄßÈÄâÊã©Âô®**\n  - ÈÄâÊã©Âô®Ë∂äÂ§çÊùÇÔºåÂåπÈÖçÁî®ÁöÑÊó∂Èó¥Ë∂äÂ§ö\n- **ÂáèÂ∞ë‰∏çÂøÖË¶ÅÁöÑÂ§ö‰ΩôÂ±ûÊÄß**\n- ‰ΩøÁî® **Âä®ÁîªÂ±ûÊÄß** ÂÆûÁé∞Âä®ÁîªÔºåÂä®ÁîªÊó∂ËÑ±Á¶ªÊñáÊ°£ÊµÅÔºåÂºÄÂêØÁ°¨‰ª∂Âä†ÈÄüÔºå‰ºòÂÖà‰ΩøÁî® CSS Âä®Áîª\n- ‰ΩøÁî® `<link>` Êõø‰ª£ÂéüÁîü @import\n- ÈÅøÂÖç‰ΩøÁî®Ë°®ËææÂºèÔºå‰æãÂ¶Ç `font-color: expression((new Date()).getHours()%3?\"#FFF\":\"#AAA\")` Ëøô‰∏™Ë°®ËææÂºè‰ºöÊåÅÁª≠Âú∞Âú®È°µÈù¢‰∏äËÆ°ÁÆóÊ†∑ÂºèÔºåÂΩ±ÂìçÈ°µÈù¢ÊÄßËÉΩ\n\n## HTML ‰ºòÂåñ\n\n- ÂÜôÂØπÊñáÊ°£Á±ªÂûãÂ£∞Êòé `<!DOCTYPE html>` ËøôËÉΩÁ°Æ‰øùÊµèËßàÂô®ÊåâÁÖßÊúÄ‰Ω≥ÁöÑÁõ∏ÂÖ≥ËßÑËåÉËøõË°åÊ∏≤Êüì\n- **ÂáèÂ∞ë DOM Êï∞Èáè**ÔºåÈÅøÂÖç‰∏çÂøÖË¶ÅÁöÑËäÇÁÇπÊàñÂµåÂ•óÔºõ\n- ÈÅøÂÖçÁ©∫ÁöÑ `src` Âíå `href`ÔºöÂΩì `src` Âíå `href` ‰∏∫Á©∫Êó∂ÔºåÊµèËßàÂô®‰ºöÈªòËÆ§Â°´ÂÖÖÈìæÊé•ÔºåÂπ∂Â∞ÜÈ°µÈù¢ÁöÑÂÜÖÂÆπÂä†ËΩΩËøõÊù•‰Ωú‰∏∫ÂÆÉ‰ª¨ÁöÑÂÄºÔºåÂÖ∑‰ΩìËßÑÂàôÂ¶Ç‰∏ãÔºö\n  - IE Âêë**È°µÈù¢ÊâÄÂú®ÁöÑÁõÆÂΩï**ÂèëÈÄÅËØ∑Ê±Ç\n  - Safari„ÄÅChrome„ÄÅFirefox ÂêëÈ°µÈù¢Êú¨Ë∫´ URL ÂèëÈÄÅËØ∑Ê±Ç\n  - Opera ‰∏çÊâßË°å‰ªª‰ΩïÊìç‰Ωú\n- ÂõæÁâáÊèêÂâç **ÊåáÂÆöÂÆΩÈ´ò** ÊàñËÄÖ **ËÑ±Á¶ªÊñáÊ°£ÊµÅ**ÔºåËÉΩÊúâÊïàÂáèÂ∞ëÂõ†ÂõæÁâáÂä†ËΩΩÂØºËá¥ÁöÑÈ°µÈù¢ÂõûÊµÅ\n- **ËØ≠‰πâÂåñÊ†áÁ≠æ** ÊúâÂà©‰∫é SEO ‰∏éÊµèËßàÂô®ÁöÑËß£ÊûêÊó∂Èó¥\n- ÂáèÂ∞ë‰ΩøÁî® table ËøõË°åÂ∏ÉÂ±ÄÔºåÈÅøÂÖç‰ΩøÁî® `<br/>` ‰∏é `<hr/>`\n\n# ÂèÇËÄÉËµÑÊñô\n\n**ÊÄßËÉΩ‰ºòÂåñÊñπÊ°àÊ∏ÖÂçï**\n\n- üßæ [2018 ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÊ∏ÖÂçï](https://juejin.im/post/5a966bd16fb9a0635172a50a)\n- üßæ [Âó®ÔºåÈÄÅ‰Ω†‰∏ÄÂº† Web ÊÄßËÉΩ‰ºòÂåñÂú∞Âõæ](https://github.com/berwin/Blog/issues/23)\n- üßæ [Web ÊÄßËÉΩ‰ºòÂåñÊÄªÁªì](https://segmentfault.com/a/1190000018263418?utm_medium=hao.caibaojian.com&utm_source=hao.caibaojian.com&share_user=1030000000178452)\n- üßæ [Â§ßÂâçÁ´ØÊÄßËÉΩÊÄªÁªì](https://juejin.im/post/5b025d856fb9a07aa0484e54)\n- üßæ [CSS ÊÄßËÉΩ‰ºòÂåñÁöÑ 8 ‰∏™ÊäÄÂ∑ß](https://juejin.im/post/5b6133a351882519d346853f)\n- üßæ [Á≤æËØª „ÄäÈ´òÊïà JavaScript„Äã](https://juejin.im/post/5b7e1f81f265da436a075db4)\n- üßæ [Web ÊÄßËÉΩ‰ºòÂåñÊ∏ÖÂçï](https://juejin.im/post/5c011e0c5188252ea66afdfa)\n- üóÉ [ÊÄßËÉΩÁõ∏ÂÖ≥Âü∫Á°ÄÁü•ËØÜÁÇπÁ†îÁ©∂](https://github.com/barretlee/performance-column/milestone/1)\n- üóÉ [ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñËµÑÊ∫êÂàóË°®](https://github.com/liangsenzhi/awesome-wpo-chinese)\n- üóÉ [awesome-wpo](https://github.com/davidsonfellipe/awesome-wpo)\n- üóÉ [A Frontend Checklist for Websites](https://github.com/drublic/checklist)\n\n**‰ºòÂåñÊñπÂêë**\n\n- üé° [ÊµèËßàÂô®ÁöÑÂ∑•‰ΩúÂéüÁêÜÔºöÊñ∞ÂºèÁΩëÁªúÊµèËßàÂô®ÂπïÂêéÊè≠Áßò](https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/)\n- üé° [16 ÊØ´ÁßíÁöÑ‰ºòÂåñ](http://velocity.oreilly.com.cn/2013/ppts/16_ms_optimization--web_front-end_performance_optimization.pdf)\n- üé° [Optimize JavaScript Execution ‰ºòÂåñ JavaScript ÊâßË°å](https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution)\n","source":"_posts/means-for-performance-optimization.md","raw":"---\ntitle: ÂâçÁ´ØÁõ∏ÂÖ≥‰∏öÂä°ÊÄßËÉΩ‰ºòÂåñÊäÄÊúØÊâãÊÆµÊÄªÁªì\ndate: '2019-05-19'\n---\n\nÊäÄÊúØÁ§æÂå∫‰∏≠ÂÖ∂ÂÆûÂ∑≤ÁªèÊúâËæÉÂ§öÁöÑÂÖ≥‰∫éÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÁöÑÁõ∏ÂÖ≥ÊñáÁ´†ÔºåÁúã‰∫ÜÂ§öÁØá‰πãÂêéÊÄªÊòØËßâÂæóÂÜÖÂÆπËøòÊúâÂæàÂ§öÈÅóÊºèÊàñÂÜôÂæó‰∏çÂ§üÂÆåÁæéÔºåÂ∞ΩÁÆ°ËøòÊ≤°Êé•ÊâãËøáÊµÅÈáèÁâπÂà´Â§ßÁöÑÁΩëÁ´ôÂ∫îÁî®È°πÁõÆÔºå‰ΩÜÊòØÊú¨‰∫∫ËÆ§‰∏∫Êó•Â∏∏È°πÁõÆ‰∏≠‰πüÈúÄË¶ÅÂ∞ΩÂèØËÉΩÂú∞ËøõË°åÊÄßËÉΩ‰ºòÂåñÁöÑÂ∑•‰ΩúÔºåÂõ†‰∏∫ÂâçÁ´ØÂ∑•Á®ãÂ∏àÁöÑÂ∑•‰ΩúÂæàÂ§ßÁ®ãÂ∫¶‰∏äÂèØ‰ª•ÊèèËø∞‰∏∫‚ÄúÁî®Â∞ΩÈáèÂ∞ëÁöÑ‰ª£‰ª∑‰∏∫Áî®Êà∑Êèê‰æõÊïàÁéáÂ∞ΩÂèØËÉΩÈ´ò„ÄÅÂäüËÉΩÂ∞ΩÂèØËÉΩÂ§ö„ÄÅ‰ΩìÈ™åÂ∞ΩÂèØËÉΩÂ•ΩÁöÑÁΩëÈ°µÂ∫îÁî®‚ÄùÔºåËÄåÊÄßËÉΩ‰ºòÂåñÂæàÂ§ßÁ®ãÂ∫¶‰∏äÂ∞±ÊòØÂÆûÁé∞‚ÄúÂ∞ΩÂèØËÉΩÂ∞ëÁöÑ‰ª£‰ª∑‚Äù„ÄÅ‚ÄúÊïàÁéáÂ∞ΩÂèØËÉΩÈ´ò‚Äù‰ª•Âèä‚Äú‰ΩìÈ™åÂ∞ΩÂèØËÉΩÂ•Ω‚Äù„ÄÇ\n\nÂõ†Ê≠§ÔºåÊ≠§Êñá‰ºöÊ†πÊçÆÁΩëÁªúËØ∑Ê±ÇÂà∞ÁΩëÈ°µÂëàÁé∞ÁöÑÂÆåÊï¥ÊµÅÁ®ãÔºåÈíàÂØπÊÄßÂú∞ÊèêÂá∫Áõ∏ÂÖ≥Èò∂ÊÆµ‰æõÂºÄÂèëÂÜ≥Á≠ñËÄÖËÄÉËôëÈááÂèñÁöÑ‰ºòÂåñÊñπÊ°àÔºåÂõ†Ê≠§Êú¨ÊñáÊõ¥ÂÉèÊòØÊÄßËÉΩ‰ºòÂåñÊñπÊ°àÁöÑÂÜ≥Á≠ñÊ†ëÔºåËÄåÈùûÊ†áÂáÜÊñπÊ°àÔºö\n\n- ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢\n- ÊúçÂä°Á´ØÂ±ÇÈù¢\n- ÂÆ¢Êà∑Á´ØÊ∏≤ÊüìÂ±ÇÈù¢\n- ÁºñÁ†ÅÂ±ÇÈù¢\n\n**ÁΩëÁªúËØ∑Ê±ÇÂà∞ÁΩëÈ°µÂëàÁé∞ÁöÑÂ§ßËá¥ÊµÅÁ®ã**\n\n```\nÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç => ÁΩëÁªúÈìæË∑Ø => ËøîÂõûËµÑÊ∫ê(ÊúçÂä°Á´Ø) => Ê∏≤ÊüìËµÑÊ∫ê(ÂÆ¢Êà∑Á´Ø)\n```\n\n<!-- more -->\n\n# ÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑ\n\nÂú®ÊèêÂá∫ÂêÑÂ±ÇÊ¨°ÁöÑ‰ºòÂåñÊñπÊ°à‰πãÂâçÔºåÊúâÂøÖË¶Å‰∫ÜËß£‰∏Ä‰∏ãÊÄßËÉΩ‰ºòÂåñÊñπÊ°àÂÆûÈôÖ‰∏äËß£ÂÜ≥‰∫ÜÂì™‰∫õÊÄßËÉΩÈóÆÈ¢ò‰ª•ÂèäËß£ÂÜ≥Ëøô‰∫õÈóÆÈ¢òÁöÑÊ†∏ÂøÉÂΩíÁªìÁÇπ„ÄÇ\n\n‰ª•‰∏ãÈÉ®ÂàÜÂÖ≥‰∫é‰ºòÂåñÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑÁöÑÂª∫ËÆÆÊëòÂΩïËá™ Google ÂºÄÂèëËÄÖÊñáÊ°£Ôºö\n[üìñ Optimizing the Critical Rendering Path](https://developers.google.com/web/fundamentals/performance/critical-rendering-path/optimizing-critical-rendering-path)\n\n‰∏∫‰∫ÜÂ∞ΩÂø´ÂÆåÊàêÈ¶ñÊ¨°Ê∏≤ÊüìÔºåÊàë‰ª¨ÈúÄË¶ÅÊúÄÂ§ßÈôêÂ∫¶ÂáèÂ∞è‰ª•‰∏ã‰∏âÁßçÂèØÂèòÂõ†Á¥†Ôºö\n\n- ÂÖ≥ÈîÆËµÑÊ∫êÁöÑÊï∞Èáè\n- ÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶\n- ÂÖ≥ÈîÆÂ≠óËäÇÁöÑÊï∞Èáè\n\nÂÖ≥ÈîÆËµÑÊ∫êÊòØÂèØËÉΩÈòªÊ≠¢ÁΩëÈ°µÈ¶ñÊ¨°Ê∏≤ÊüìÁöÑËµÑÊ∫ê„ÄÇËøô‰∫õËµÑÊ∫êË∂äÂ∞ëÔºåÊµèËßàÂô®ÁöÑÂ∑•‰ΩúÈáèÂ∞±Ë∂äÂ∞èÔºåÂØπ CPU ‰ª•ÂèäÂÖ∂‰ªñËµÑÊ∫êÁöÑÂç†Áî®‰πüÂ∞±Ë∂äÂ∞ë„ÄÇ\n\nÂêåÊ†∑ÔºåÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶ÂèóÊâÄÊúâÂÖ≥ÈîÆËµÑÊ∫ê‰∏éÂÖ∂Â≠óËäÇÂ§ßÂ∞è‰πãÈó¥‰æùËµñÂÖ≥Á≥ªÂõæÁöÑÂΩ±ÂìçÔºöÊüê‰∫õËµÑÊ∫êÂè™ËÉΩÂú®‰∏ä‰∏ÄËµÑÊ∫êÂ§ÑÁêÜÂÆåÊØï‰πãÂêéÊâçËÉΩÂºÄÂßã‰∏ãËΩΩÔºåÂπ∂‰∏îËµÑÊ∫êË∂äÂ§ßÔºå‰∏ãËΩΩÊâÄÈúÄÁöÑÂæÄËøîÊ¨°Êï∞Â∞±Ë∂äÂ§ö„ÄÇ\n\nÊúÄÂêéÔºåÊµèËßàÂô®ÈúÄË¶Å‰∏ãËΩΩÁöÑÂÖ≥ÈîÆÂ≠óËäÇË∂äÂ∞ëÔºåÂ§ÑÁêÜÂÜÖÂÆπÂπ∂ËÆ©ÂÖ∂Âá∫Áé∞Âú®Â±èÂπï‰∏äÁöÑÈÄüÂ∫¶Â∞±Ë∂äÂø´„ÄÇË¶ÅÂáèÂ∞ëÂ≠óËäÇÊï∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÂáèÂ∞ëËµÑÊ∫êÊï∞ÔºàÂ∞ÜÂÆÉ‰ª¨Âà†Èô§ÊàñËÆæ‰∏∫ÈùûÂÖ≥ÈîÆËµÑÊ∫êÔºâÔºåÊ≠§Â§ñËøòË¶ÅÂéãÁº©Âíå‰ºòÂåñÂêÑÈ°πËµÑÊ∫êÔºåÁ°Æ‰øùÊúÄÂ§ßÈôêÂ∫¶ÂáèÂ∞è‰º†ÈÄÅÂ§ßÂ∞è„ÄÇ\n\n**‰ºòÂåñÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑÁöÑÂ∏∏ËßÑÊ≠•È™§Â¶Ç‰∏ãÔºö**\n\n1. ÂØπÂÖ≥ÈîÆË∑ØÂæÑËøõË°åÂàÜÊûêÂíåÁâπÊÄßÊèèËø∞ÔºöËµÑÊ∫êÊï∞„ÄÅÂ≠óËäÇÊï∞„ÄÅÈïøÂ∫¶\n2. ÊúÄÂ§ßÈôêÂ∫¶ÂáèÂ∞ëÂÖ≥ÈîÆËµÑÊ∫êÁöÑÊï∞ÈáèÔºöÂà†Èô§ÂÆÉ‰ª¨ÔºåÂª∂ËøüÂÆÉ‰ª¨ÁöÑ‰∏ãËΩΩÔºåÂ∞ÜÂÆÉ‰ª¨Ê†áËÆ∞‰∏∫ÂºÇÊ≠•Á≠â\n3. ‰ºòÂåñÂÖ≥ÈîÆÂ≠óËäÇÊï∞‰ª•Áº©Áü≠‰∏ãËΩΩÊó∂Èó¥ÔºàÂæÄËøîÊ¨°Êï∞Ôºâ\n4. ‰ºòÂåñÂÖ∂‰ΩôÂÖ≥ÈîÆËµÑÊ∫êÁöÑÂä†ËΩΩÈ°∫Â∫èÔºöÊÇ®ÈúÄË¶ÅÂ∞ΩÊó©‰∏ãËΩΩÊâÄÊúâÂÖ≥ÈîÆËµÑ‰∫ßÔºå‰ª•Áº©Áü≠ÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶\n\n# ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢\n\nÁΩëÁªúÈìæË∑Ø‰Ωú‰∏∫ÁΩëÁªúËµÑÊ∫êÂíåÊï∞ÊçÆÁöÑ‰º†ËæìÈÄöÈÅìÔºåÂÖÖÂàÜÂà©Áî®ÁΩëÁªúÊäÄÊúØÊâãÊÆµËÉΩÊúâÊïàÂú∞ÂáèÂ∞ëÁΩëÈ°µËµÑÊ∫êÂìçÂ∫îÁöÑÈÄüÂ∫¶„ÄÅÊèêÂçáÁΩëÈ°µËµÑÊ∫ê‰º†ËæìÈÄüÂ∫¶‰ª•ÂèäÈÅøÂÖçÈáçÂ§ç‰º†ËæìÂØºËá¥ÁöÑËµÑÊ∫êÊµ™Ë¥πÁ≠âÈóÆÈ¢ò„ÄÇ\n\n## ‰º†ËæìÁ≠ñÁï•\n\n### DNS Êü•ËØ¢\n\nDNS ÂüüÂêçËß£ÊûêÂçèËÆÆÁÆÄÂçïÊù•Â∞±ËØ¥Ë¥üË¥£Â∞ÜÂüüÂêç URL ËΩ¨Âåñ‰∏∫ÊúçÂä°Âô®‰∏ªÊú∫ IP„ÄÇ‰∫ÜËß£Êõ¥Â§ö [DNS ÂüüÂêçËß£ÊûêÂçèËÆÆ](https://tsejx.github.io/JavaScript-Guidebook/computer-networks/dns.html)\n\nDNS Êü•ËØ¢ËÉΩ‰ªé‰∏§ÊñπÈù¢ËøõË°å‰ºòÂåñÔºö\n\n- **ÂáèÂ∞ë DNS Êü•ËØ¢Ê¨°Êï∞**\n- **DNS È¢ÑËß£Êûê**\n\nÈÄöËøáÂú®ÊñáÊ°£‰∏≠‰ΩøÁî®ÂÄº‰∏∫ `http-equiv` ÁöÑ `<meta>` Ê†áÁ≠æÊâìÂºÄ DNS È¢ÑËß£ÊûêÔºö\n\n```html\n<meta http-equiv=\"x-dns-prefetch-control\" content=\"on\" />\n```\n\nÈÄöËøá `rel` Â±ûÊÄßÂÄº‰∏∫ `dns-prefetch` ÁöÑ `<link>` Ê†áÁ≠æÂØπÁâπÂÆöÂüüÂêçËøõË°åÈ¢ÑËØªÂèñ\n\n```html\n<link rel='dns-prefetch\" href=\"//host_name_to_prefetch.com\"/>\n```\n\n**Áõ∏ÂÖ≥ÈìæÊé•Ôºö**\n\n- [MDNÔºöX-DNS-Prefetch-Control](https://developer.mozilla.org/zh-CN/docs/Controlling_DNS_prefetching)\n- [DNS Prefetching](https://dev.chromium.org/developers/design-documents/dns-prefetching)\n- [DNS Prefetching for Firefox](https://bitsup.blogspot.com/2008/11/dns-prefetching-for-firefox.html)\n\n### TCP ËøûÊé•\n\n**ÊåÅ‰πÖÂåñËøûÊé•**ÔºöÈÅøÂÖçÈáçÂ§çËøõË°å TCP ÁöÑ‰∏âÊ¨°Êè°ÊâãÔºåHTTP/1.1 ÈªòËÆ§ÂºÄÂêØÔºåHTTP/1.0 ÂèØ‰ª•‰ΩøÁî®„ÄÇ\n\nKeep-Alive ‰∏ç‰ºöÊ∞∏‰πÖ‰øùÊåÅËøûÊé•ÔºåÂºÄÂèëËÄÖÂèØÈÄöËøáÊúçÂä°Âô®ÈÖçÁΩÆÈôêÂÆöÊó∂Èó¥„ÄÇ\n\n```http\nConnection: keep-alive\n```\n\n### HTTP ËØ∑Ê±Ç\n\n- **ÂáèÂ∞ë HTTP ËØ∑Ê±Ç**\n  - ÈÄöËøáÂâçÁ´ØÊûÑÂª∫Â∑•ÂÖ∑ÂêàÂπ∂ËÑöÊú¨ÂíåÊ†∑ÂºèË°®\n  - CSS Sprites Á≤æÁÅµÂõæ\n  - ÂõæÁâá‰ΩøÁî® Base64 ÁºñÁ†ÅÂµåÂÖ•ÁΩëÈ°µÔºåÂáèÂ∞ëÂõæÁâáÂ§ñÈÉ®ËΩΩÂÖ•ÁöÑËØ∑Ê±ÇÊï∞\n- **ËµÑÊ∫êÂàÜÂ∏ÉÂºèÈÉ®ÁΩ≤Ëá≥‰∏çÂêåÂüüÂêç**\n  - **ÂéüÂõ†**Ôºö‰∏ªÊµÅÊµèËßàÂô®ÂØπÁõ∏ÂêåÂüüÂêçÁöÑÂπ∂Âèë HTTP ËØ∑Ê±ÇÊï∞ÈôêÂà∂Âú® 4~8 ‰∏™ÔºåÂΩìËµÑÊ∫êËøáÂ§öÊó∂ÔºåÂèØ‰ª•ÈááÁî®Â¢ûÂä†ÂüüÂêçÁöÑÊñπÊ≥ïÂ¢ûÂä† HTTP ËØ∑Ê±ÇÁöÑÂπ∂ÂèëÈáè\n  - **ÂéüÁêÜ**ÔºöÂà©Áî®Â§ö‰∏™‰∏çÂêåÁöÑÂüüÂêçÂèØ‰ª•‰øùËØÅËøô‰∫õÂüüÂêçËÉΩÂ§üÂêåÊó∂Âä†ËΩΩÂõæÁâáÔºåËÄå‰∏çÁî®ÊéíÈòü„ÄÇ‰∏çËøáÂ¶ÇÊûúÂΩì‰ΩøÁî®ÁöÑÂüüÂêçËøáÂ§öÊó∂ÔºåÂìçÂ∫îÊó∂Èó¥Â∞±‰ºöÊÖ¢ÔºåÂõ†‰∏∫‰∏çÂêåÂìçÂ∫îÂüüÂêçÊó∂Èó¥‰∏ç‰∏ÄËá¥\n- **ÈÅøÂÖçÈáçÂÆöÂêë**\n  - URL Êú´Â∞æÂ∫îËØ•Ê∑ªÂä† `/` ‰ΩÜÊú™Ê∑ªÂä†\n- **Ê∂àÈô§‰∏çÂøÖË¶ÅÁöÑËØ∑Ê±ÇÂ≠óËäÇ**\n- **Cookie**\n  - ÂéãÁº© Cookie Â§ßÂ∞è\n    - ÂéªÈô§‰∏çÂøÖË¶ÅÁöÑ Cookie\n    - Ê≥®ÊÑèËÆæÁΩÆ Cookie ÁöÑ domain Á∫ßÂà´ÔºåÂ¶ÇÊ≤°ÂøÖË¶ÅÔºå‰∏çË¶ÅÂΩ±ÂìçÂ≠êÂüüÂêç\n    - ËÆæÁΩÆÂêàÈÄÇÁöÑËøáÊúüÊó∂Èó¥\n  - ÈùôÊÄÅËµÑÊ∫ê‰ΩøÁî®Êó† Cookie ÂüüÂêç\n- [HTTP/2](https://tsejx.github.io/JavaScript-Guidebook/computer-networks/http/http2.html)\n  - ‰∫åËøõÂà∂ÂàÜÂ∏ß\n  - Â§öË∑ØÂ§çÁî®\n  - ÊúçÂä°Âô®Êé®ÈÄÅ\n  - Â§¥ÈÉ®ÂéãÁº©\n  - ‰∫ÜËß£Êõ¥Â§ö [HTTP/2]\n- [HTTP/3](https://zh.wikipedia.org/wiki/HTTP/3)\n\n**Áõ∏ÂÖ≥ÈìæÊé•Ôºö**\n\n- [ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñ - ËµÑÊ∫êÈ¢ÑÂä†ËΩΩ](http://bubkoo.com/2015/11/19/prefetching-preloading-prebrowsing/)\n- [HTTP/2 ÁÆÄ‰ªãÂíåÂü∫‰∫é HTTP/2 ÁöÑ Web ‰ºòÂåñ](https://github.com/creeperyang/blog/issues/23)\n\n## ÁºìÂ≠òÁ≠ñÁï•\n\nÂà∂ÂÆöÊúâÊïàÁöÑÁºìÂ≠òÁ≠ñÁï•ÔºåÂæàÂ§ßÁ®ãÂ∫¶‰∏äËÉΩÂÆûÁé∞ËµÑÊ∫êÁöÑÈáçÂ§çÂà©Áî®Âèä‰º†ËæìË∑ØÂæÑÁöÑ‰ºòÂåñÔºåÂáèÂ∞ëÂÆ¢Êà∑Á´ØÂØπÊúçÂä°Á´ØÁöÑÁΩëÁªúËØ∑Ê±ÇÂéãÂäõÔºåÂáèËΩªÂÆΩÂ∫¶ÊµÅÈáè„ÄÇ\n\n- [HTTP ÁºìÂ≠ò](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html)\n  - [Âº∫ÁºìÂ≠ò](<[https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#%E5%BC%BA%E7%BC%93%E5%AD%98](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#Âº∫ÁºìÂ≠ò)>)\n    - Expires ÁªùÂØπÊó∂Èó¥ `Expires: Thu, 21 Jan 2017 23:59:59 GMT` ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÊó∂Èó¥ÂèØËÉΩ‰∏ç‰∏ÄËá¥\n    - Cache-Control Áõ∏ÂØπÊó∂Èó¥ `Cache-Control: max-age=3600`\n  - [ÂçèÂïÜÁºìÂ≠ò](<[https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#ÂçèÂïÜÁºìÂ≠ò)>)\n    - Last-Modified / If-Modified-Since ÁªùÂØπÊó∂Èó¥ `Expires: Wed, 26 Jan 2017 00:35:11 GMT` ËµÑÊ∫ê‰∏äÊ¨°‰øÆÊîπÁöÑÊó∂Èó¥\n    - Etag / If-None-Match ÈöèÊú∫ÁîüÊàêÁöÑ‰π±Á†ÅÂÄº\n  - ‰ºòÂÖà‰ΩøÁî®Âº∫ÁºìÂ≠ò\n    - ÂΩìËµÑÊ∫êÊñá‰ª∂ÂèëÁîüÂèòÂåñÊó∂ÔºåÈÄöËøáÊõ¥Êñ∞È°µÈù¢‰∏≠ÂºïÁî®ÁöÑËµÑÊ∫êË∑ØÂæÑÔºåËÆ©ÊµèËßàÂô®ÊîæÂºÉÁºìÂ≠òÔºåÂä†ËΩΩÊñ∞ËµÑÊ∫ê\n    - ÈÄöËøá [Êï∞ÊçÆÊëòË¶ÅÁÆóÊ≥ï](https://link.zhihu.com/?target=http%3A//baike.baidu.com/view/10961371.htm) Á≤æÂáÜÂà∞Âçï‰∏™Êñá‰ª∂Á≤íÂ∫¶ÁöÑÁºìÂ≠òÊéßÂà∂\n- [CDN ÁºìÂ≠ò](https://tsejx.github.io/JavaScript-Guidebook/computer-networks/cdn.html)Ôºö Â∞ÜÈùôÊÄÅËµÑÊ∫êÂíåÂä®ÊÄÅÁΩëÈ°µÂàÜÈõÜÁæ§ÈÉ®ÁΩ≤\n  - HTML ÈÉ®ÁΩ≤Âú®Ëá™Ë∫´ÁöÑÊúçÂä°Âô®‰∏ä\n  - ÊâìÂåÖÂêéÁöÑÂõæÁâá / JavaScript ËÑöÊú¨Êñá‰ª∂ / CSS Ê†∑ÂºèÊñá‰ª∂Á≠âËµÑÊ∫êÈÉ®ÁΩ≤Âà∞ CDN ËäÇÁÇπ‰∏äÔºåÊñá‰ª∂Â∏¶‰∏ä Hash ÂÄº\n  - Áî±‰∫éÊµèËßàÂô®ÂØπÂçï‰∏™ÂüüÂêçËØ∑Ê±ÇÁöÑÈôêÂà∂ÔºåÂèØ‰ª•Â∞ÜËµÑÊ∫êÊîæÂú®Â§ö‰∏™‰∏çÂêåÂüüÁöÑ CDN ‰∏äÔºåÂèØ‰ª•ÁªïÂºÄËØ•ÈôêÂà∂\n  - CDN Ê≤°Êúâ CookieÔºå‰ΩøÁî® CDN ÂèØ‰ª•ÂáèÂ∞ë Cookie\n  - CDN ‰ºöËá™Âä®ÂêàÂπ∂ËÑöÊú¨Êñá‰ª∂Á≠âÔºåÂáèÂ∞ëËØ∑Ê±ÇÊï∞Èáè\n  - ‰ΩÜÊòØÔºåCDN ÂêåÊó∂‰πüÂ¢ûÂä†‰∫ÜÂüüÂêçÔºåÂ¢ûÂ§ß‰∫ÜÂêåÊó∂ËØ∑Ê±ÇÊï∞Èáè\n- **ÊúçÂä°Âô®ÁºìÂ≠òÔºö**Â∞Ü‰∏çÂèòÁöÑÊï∞ÊçÆ„ÄÅÈ°µÈù¢ÁºìÂ≠òÂà∞**ÂÜÖÂ≠ò**Êàñ**ËøúÁ®ãÂ≠òÂÇ®**ÔºàÂ¶Ç Redis Á≠âÔºâ‰∏ä\n- **ÊµèËßàÂô®ÁºìÂ≠ò**: ÈÄöËøáËÆæÁΩÆËØ∑Ê±ÇÁöÑËøáÊúüÊó∂Èó¥ÔºåÂ∞ÜÂêÑÁßç‰∏çÂ∏∏ÂèòÁöÑÊï∞ÊçÆËøõË°åÁºìÂ≠òÔºåÂêàÁêÜËøêÁî®ÊµèËßàÂô®ÁºìÂ≠òÔºåÁº©Áü≠Êï∞ÊçÆÁöÑËé∑ÂèñÊó∂Èó¥\n  - [Cookie](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/cookie.html)\n  - [WebStorage](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/web-storage.html)\n    - LocalStorage\n    - SessionStorage\n  - IndexDB\n  - [ServiceWorker](https://tsejx.github.io/JavaScript-Guidebook/html5-scripting-programming/offline-and-storage/service-worker.html)\n  - AppCacheÔºöÈááÁî® mainfest Êñá‰ª∂ËøõË°åÁºìÂ≠ò\n\n**Áõ∏ÂÖ≥ÈìæÊé•Ôºö**\n\n- [Â§ßÂÖ¨Âè∏ÈáåÊÄéÊ†∑ÂºÄÂèëÂíåÈÉ®ÁΩ≤ÂâçÁ´Ø‰ª£Á†ÅÔºü](https://www.zhihu.com/question/20790576)\n- [‰ΩøÁî® SRI Â¢ûÂº∫ LocalStorage ‰ª£Á†ÅÂÆâÂÖ®](https://link.juejin.im/?target=https%3A%2F%2Fimququ.com%2Fpost%2Fenhance-security-for-ls-code.html)\n\n# ÊúçÂä°Á´ØÂ±ÇÈù¢\n\nÁî±‰∫éÊú¨ÊñáÂè™Ê∂âÂèäÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÔºå‰ΩÜ‰∏∫Ê±ÇÊµÅÁ®ãÂÆåÊï¥ÔºåÁÆÄÂçïÁΩóÂàó‰∏éÊúçÂä°Á´ØÁõ∏ÂÖ≥ÁöÑ‰ºòÂåñÊñπÊ°àÁöÑÂ∏∏ËßÅÊâãÊÆµ„ÄÇ\n\n- Â§öÂüüÂêçËµÑÊ∫êÂä†ËΩΩ\n- Ë¥üËΩΩÂùáË°°\n- Êï∞ÊçÆÁºìÂ≠ò\n- ÂèçÂêë‰ª£ÁêÜ\n\n# ÂÆ¢Êà∑Á´ØÂ±ÇÈù¢\n\n- ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè/Â§ßÂ∞è\n- ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ\n- Áî®Êà∑‰ΩìÈ™å\n\n## ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè/Â§ßÂ∞è\n\n- **ÂéãÁº©ÈùôÊÄÅËµÑÊ∫êÔºåÊ∏ÖÈô§Êó†Áî®‰ª£Á†Å**\n  - Tree Shaking Êó†Áî®‰ª£Á†ÅÁßªÈô§\n  - UglifyJs Ê∑∑Ê∑Ü / ÂéãÁº©‰ª£Á†Å\n  - Code Spliting ‰ª£Á†ÅÂàÜÂâ≤ÔºàËµÑÊ∫êÊåâÈúÄÂä†ËΩΩÊàñÂπ∂Ë°åÂä†ËΩΩÔºâ\n- **ÂºÄÂêØ Gzip ÂéãÁº©**\n  - ËØ∑Ê±ÇÂ§¥ `Accept-Encoding: gzip, deflate`\n  - ÂìçÂ∫îÂ§¥ `Content-Encoding: gzip`\n  - Gzip ËÉΩÂ§üÂéãÁº©‰ªª‰ΩïÊñáÊú¨Á±ªÂûãÁöÑÂìçÂ∫îÔºåÂåÖÊã¨ HTMl„ÄÅXML Âíå JSON\n  - Â∑≤ÁªèÂéãÁº©ËøáÁöÑÂÜÖÂÆπÂ¶ÇÂõæÁâá„ÄÅÂíå PDF ‰∏çË¶Å‰ΩøÁî® GzipÔºåËøô‰∫õËµÑÊ∫êÂÜÖÂÆπÊú¨Ë∫´‰ΩìÁßØÂ∞±Â∞èÔºåÂÜç‰ΩøÁî® Gzip ÂèçËÄå‰ºöÂ¢ûÂä†ËµÑÊ∫ê‰∏ãËΩΩÊó∂Èó¥ÔºåÊµ™Ë¥π CPU ËµÑÊ∫êÔºåËÄå‰∏îÊúâÂ¢ûÂä†Êñá‰ª∂‰ΩìÁßØÁöÑÂèØËÉΩ\n- **Â§ö‰ªΩÁºñËØëÊñá‰ª∂ÊåâÊù°‰ª∂ÂºïÂÖ•**\n  - ÈíàÂØπÁé∞‰ª£ÊµèËßàÂô®Áõ¥Êé•Áªô ES6 Êñá‰ª∂ÔºåÂè™ÈíàÂØπ‰ΩéÁ´ØÊµèËßàÂô®ÂºïÁî®ÁºñËØëÂêéÁöÑ ES5 Êñá‰ª∂\n  - ÂèØ‰ª•Âà©Áî® `<script type=\"module\"> / <script type=\"module\">`ËøõË°åÊù°‰ª∂ÂºïÂÖ•Áî®\n- **Âä®ÊÄÅ Polyfill**\n  - Âè™ÈíàÂØπ‰∏çÊîØÊåÅÁöÑÊµèËßàÂô®ËøêË°åÁéØÂ¢ÉÂºïÂÖ• Polyfill\n- **ÂõæÁâá‰ºòÂåñ**\n  - Ê†πÊçÆ‰∏öÂä°Âú∫ÊôØÔºå‰∏é UI Êé¢ËÆ®ÈÄâÊã© **ÂêàÈÄÇË¥®ÈáèÔºåÂêàÈÄÇÂ∞∫ÂØ∏**\n  - Ê†πÊçÆÈúÄÊ±ÇÂíåÂπ≥Âè∞ÔºåÈÄâÊã© **ÂêàÈÄÇÊ†ºÂºè**Ôºå‰æãÂ¶ÇÈùûÈÄèÊòéÊó∂ÂèØÁî® jpgÔºõÈùûËãπÊûúÁ´ØÔºå‰ΩøÁî® webp\n  - Â∞èÂõæÁâáÂêàÊàê **Èõ™Á¢ßÂõæ CSS Sprite**Ôºå‰Ωé‰∫é 5K ÁöÑÂõæÁâáÂèØ‰ª•ËΩ¨Êç¢Êàê B**ase64** ÂÜÖÂµå\n  - ÂêàÈÄÇÂú∫ÊôØ‰∏ãÔºå‰ΩøÁî® I**confont** ÊàñËÄÖ **SVG**\n  - ÂéãÁº© favicon.ico Âπ∂ÁºìÂ≠ò\n  - ‰ΩøÁî® Blob ÂºÇÊ≠•Âä†ËΩΩ\n  - ‰ΩøÁî® [img-2](https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FRevillWeb%2Fimg-2) ‰ª£Êõø img Ê†áÁ≠æ\n  - ÂµåÂÖ•ËµÑÊ∫êÔºöBase64 ÂµåÂÖ•ËµÑÊ∫êÔºàÈíàÂØπÂ∞èÁöÑÈùôÊÄÅÂõæÁâáËµÑÊ∫êÔºâ\n- **Â≠ó‰Ωì‰ºòÂåñ**\n  - ÊµèËßàÂô®‰∏∫‰∫ÜÈÅøÂÖç FOUTÔºàFlash Of Unstyled TextÔºâÔºå‰ºöÂ∞ΩÈáèÁ≠âÂæÖÂ≠ó‰ΩìÂä†ËΩΩÂÆåÊàêÂêéÔºåÂÜçÊòæÁ§∫Â∫îÁî®‰∫ÜËØ•Â≠ó‰ΩìÁöÑÂÜÖÂÆπ„ÄÇÂ∏¶Êù•‰∫Ü FOITÔºàFlash Of Invisible Text ÈóÆÈ¢òÔºâÔºåÂØºËá¥Á©∫ÁôΩ\n  - ËÆæÁΩÆÂ§öÂ≠ó‰ΩìÔºåÈôçÁ∫ßÊñπÊ≥ïÔºö‰ΩøÁî®ÈªòËÆ§Â≠ó‰Ωì\n  - ÂºÇÊ≠•Âä†ËΩΩÂ≠ó‰ΩìÊñá‰ª∂ÔºöÈÄöËøáÂºÇÊ≠•Âä†ËΩΩ CSSÔºåÂç≥ÂèØÈÅøÂÖçÂ≠ó‰ΩìÈòªÂ°ûÊ∏≤ÊüìÔºåËøòÊòØ‰ºöÁ©∫ÁôΩ\n- **Â§öÂ™í‰Ωì‰ºòÂåñ**\n  - Èü≥ËßÜÈ¢ë\n\n## ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ\n\n- **‰ºòÂåñÂä†ËΩΩÈ°∫Â∫è**\n  - CSS Ê†∑ÂºèÊñá‰ª∂ÊîæÂú®ÊñáÊ°£ `<head>` Ê†áÁ≠æ‰∏≠ÂºïÂÖ•\n    - ÊääÊ†∑ÂºèË°®ÊîæÂú® `<head>` ‰∏≠ÂèØ‰ª•ËÆ©È°µÈù¢Ê∏êËøõÊ∏≤ÊüìÔºåÂ∞ΩÊó©ÂëàÁé∞ËßÜËßâÂèçÈ¶àÔºåÁªôÁî®Êà∑Âä†ËΩΩÈÄüÂ∫¶ÂæàÂø´ÁöÑÊÑüËßâ\n  - JavaScript ËÑöÊú¨Êñá‰ª∂ÊîæÂú® `<body>` Ê†áÁ≠æÂ∫ïÈÉ®ÂºïÂÖ•\n    - **ÂéüÂõ†**ÔºöÂä†ËΩΩËÑöÊú¨Êñá‰ª∂‰ºöÂØπÂêéÁª≠ËµÑÊ∫êÊ∏≤ÊüìÈÄ†ÊàêÈòªÂ°û\n    - **ÊñπÊ°à**ÔºöÂà∂ÂÆöÂêàÁêÜÁöÑËÑöÊú¨Êñá‰ª∂Âä†ËΩΩÁ≠ñÁï•\n      - Âä®ÊÄÅËÑöÊú¨Âä†ËΩΩÔºàÂºÇÊ≠•Âä†ËΩΩ„ÄÅÂª∂ËøüÂä†ËΩΩ„ÄÅÊåâÈúÄÂä†ËΩΩÔºâ\n      - Ê∑ªÂä† `defer` Â±ûÊÄßÁöÑËÑöÊú¨Êñá‰ª∂ÊòØÂú® HTML Ëß£ÊûêÂÆå‰πãÂêéÊâç‰ºöÊâßË°å„ÄÇÂ¶ÇÊûúÊòØÂ§ö‰∏™ÔºåÊåâÁÖßÂä†ËΩΩÁöÑÈ°∫Â∫è‰æùÊ¨°ÊâßË°å\n      - Ê∑ªÂä† `async` Â±ûÊÄßÁöÑËÑöÊú¨Êñá‰ª∂ÊòØÂú®Âä†ËΩΩ‰πãÂêéÁ´ãÂç≥ÊâßË°åÔºåÂ¶ÇÊûú HTML ËøòÊ≤°Ëß£ÊûêÂÆåÔºå‰ºöÈòªÂ°û HTML ÁªßÁª≠Ëß£Êûê„ÄÇÂ¶ÇÊûúÊòØÂ§ö‰∏™ÔºåÊâßË°åÈ°∫Â∫èÂíåÂä†ËΩΩÈ°∫Â∫èÊó†ÂÖ≥\n  - ÂΩ±ÂìçÈ¶ñÂ±èÁöÑÔºå‰ºòÂÖàÁ∫ßÂæàÈ´òÁöÑËÑöÊú¨Êñá‰ª∂‰πüÂèØ‰ª• `<head>` Êàñ `<body>` È¶ñÂ≠êËäÇÁÇπÂºïÂÖ•ÔºåÁîöËá≥Âà©Áî® `style` Êàñ `script` ÂÜÖËÅî\n- **ËµÑÊ∫êÂä†ËΩΩÊñπÂºè**\n\n  - ÈùûÂÖ≥ÈîÆÊÄßÁöÑÊñá‰ª∂Â∞ΩÂèØËÉΩÁöÑ**ÂºÇÊ≠•Âä†ËΩΩÂíåÂª∂ËøüÂä†ËΩΩ**ÔºåÈÅøÂÖçÈòªÂ°ûÈ¶ñÈ°µÊ∏≤Êüì\n  - **ËµÑÊ∫êÊèêÁ§∫Êåá‰ª§**\n    - Preload\n    - Prefetch\n    - Preconnect\n    - Subresource\n  - **ÂºÇÊ≠•Âä†ËΩΩÔºàÈ¢ÑÂä†ËΩΩÔºâ**\n    - Âà©Áî®ÊµèËßàÂô®Á©∫Èó≤Êó∂Èó¥ËØ∑Ê±ÇÂ∞ÜÊù•Ë¶Å‰ΩøÁî®ÁöÑËµÑÊ∫êÔºå‰ª•‰æøÁî®Êà∑ËÆøÈóÆ‰∏ã‰∏ÄÈ°µÈù¢Êó∂Êõ¥Âø´Âú∞ÂìçÂ∫î\n    - È¢ÑÂà§Áî®Êà∑ÁöÑË°å‰∏∫ÔºåÊèêÂâçÂä†ËΩΩÊâÄÈúÄË¶ÅÁöÑËµÑÊ∫êÔºåÂàôÂèØ‰ª•Âø´ÈÄüÂú∞ÂìçÂ∫îÁî®Êà∑ÁöÑÊìç‰ΩúÔºå‰ªéËÄåÊâìÈÄ†Êõ¥Â•ΩÁöÑÁî®Êà∑‰ΩìÈ™å„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÈÄöËøáÊèêÂâçÂèëËµ∑ÁΩëÁªúËØ∑Ê±ÇÔºå‰πüÂèØ‰ª•ÂáèÂ∞ëÁî±‰∫éÁΩëÁªúËøáÊÖ¢ÂØºËá¥ÁöÑÁî®Êà∑Á≠âÂæÖÊó∂Èó¥„ÄÇ\n    - Preload ËßÑËåÉ W3CPreload\n      - rel ÊòéÁ°ÆÂëäÁü•ÊµèËßàÂô®ÂêØÁî® preload ÂäüËÉΩ\n      - as ÊòéÁ°ÆÈúÄË¶ÅÈ¢ÑÂä†ËΩΩËµÑÊ∫êÁöÑÁ±ªÂûãÔºåÂåÖÊã¨ JavaScript„ÄÅImages„ÄÅCSS„ÄÅMedia Á≠â\n  - **Âª∂ËøüÂä†ËΩΩÔºàÊáíÂä†ËΩΩ„ÄÅÊåâÈúÄÂä†ËΩΩÔºâ**\n    - È°µÈù¢ÂàùÂßãÂä†ËΩΩÊó∂Â∞ÜÈùûÁªùÂØπÂøÖÈ°ªÁöÑËµÑÊ∫êÂª∂ËøüÂä†ËΩΩÔºå‰ªéËÄåÊèêÈ´òÈ°µÈù¢ÁöÑÂä†ËΩΩÂíåÂìçÂ∫îÈÄüÂ∫¶\n      - ÈùûÈ¶ñÂ±è‰ΩøÁî®ÁöÑÊï∞ÊçÆ„ÄÅÊ†∑Âºè„ÄÅËÑöÊú¨„ÄÅÂõæÁâáÁ≠â\n      - Áî®Êà∑‰∫§‰∫íÊó∂Êâç‰ºöÊòæÁ§∫ÁöÑÂÜÖÂÆπ\n    - **ÂÆûÁé∞ÊñπÂºèÔºö**\n      - ËôöÊãü‰ª£ÁêÜÊäÄÊúØÔºöÁúüÊ≠£Âä†ËΩΩÁöÑÂØπË±°‰∫ãÂÖàÊèê‰æõ‰∏Ä‰∏™‰ª£ÁêÜÊàñËÄÖËØ¥Âç†‰ΩçÁ¨¶„ÄÇÊúÄÂ∏∏ËßÅÁöÑÂú∫ÊôØÊòØÂú®ÂõæÁâáÁöÑÊáíÂä†ËΩΩ‰∏≠ÔºåÂÖàÁî®‰∏ÄÁßç loading ÁöÑÂõæÁâáÂç†‰ΩçÔºåÁÑ∂ÂêéÂÜçÁî®ÂºÇÊ≠•ÁöÑÊñπÂºèÂä†ËΩΩÂõæÁâá„ÄÇÁ≠âÁúüÊ≠£ÂõæÁâáÂä†ËΩΩÂÆåÊàêÂêéÂ∞±Â°´ÂÖÖËøõÂõæÁâáËäÇÁÇπ‰∏≠Âéª„ÄÇ\n      - ÊÉ∞ÊÄßÂàùÂßãÂåñÊäÄÊúØÔºöÂ∞Ü‰ª£Á†ÅÂàùÂßãÂåñÁöÑÊó∂Êú∫Êé®ËøüÔºàÁâπÂà´ÊòØÈÇ£‰∫õÂàùÂßãÂåñÊ∂àËÄóËæÉÂ§ßÁöÑËµÑÊ∫êÔºâ\n    - **ÈÄâÊã©Êó∂Êú∫Ôºö**\n      - ÊªöÂä®Êù°ÁõëÂê¨ÔºöÂ§ßÂûãÂõæÁâáÊµÅÂú∫ÊôØÔºåÈÄöËøáÂØπÁî®Êà∑ÊªöÂä®ÁªìÊùüÂå∫ÂüüËøõË°åËÆ°ÁÆóÔºå‰ªéËÄåÂè™Âä†ËΩΩÁõÆÊ†áÂå∫ÂüüÁöÑËµÑÊ∫êÔºåËøôÊ†∑ÂèØ‰ª•ÂÆûÁé∞ËäÇÊµÅÁöÑÁõÆÁöÑ\n      - ‰∫ã‰ª∂ÂõûË∞ÉÔºöÂ∏∏Áî®‰∫éÈúÄË¶ÅÁî®Êà∑‰∫§‰∫íÁöÑÂú∞ÊñπÔºåÂ¶ÇÁÇπÂáªÂä†ËΩΩÊõ¥Â§ö‰πãÁ±ªÁöÑÔºåËøô‰∫õËµÑÊ∫êÂæÄÂæÄÈÄöËøáÂú®Áî®Êà∑‰∫§‰∫íÁöÑÁû¨Èó¥ÔºàÂ¶ÇÁÇπÂáª‰∏Ä‰∏™Ëß¶ÂèëÊåâÈíÆÔºâÔºåÂèëËµ∑ AJAX ËØ∑Ê±ÇÊù•Ëé∑ÂèñËµÑÊ∫ê„ÄÇÊØîËæÉÁÆÄÂçïÔºåÂú®Ê≠§‰∏çÂÜçËµòËø∞„ÄÇ\n    - ÈÅµÂæ™Ê∏êËøõÂ¢ûÂº∫ÁêÜÂøµÁêÜÂøµÂºÄÂèëÁΩëÁ´ôÔºöJavaScript Áî®‰∫éÂ¢ûÂº∫Áî®Áî®Êà∑‰ΩìÈ™åÔºå‰ΩÜÊ≤°ÊúâÔºà‰∏çÊîØÊåÅÔºâ JavaScript ‰πüËÉΩÊ≠£Â∏∏Â∑•‰ΩúÔºåÂÆåÂÖ®ÂèØ‰ª•Âª∂ËøüÂä†ËΩΩ JavaScript\n    - Â∞ÜÈ¶ñÂ±è‰ª•Â§ñÁöÑ HTML ÊîæÂú®‰∏çÊ∏≤ÊüìÁöÑÂÖÉÁ¥†‰∏≠ÔºåÂ¶ÇÈöêËóèÁöÑ `<textarea>`ÔºåÊàñËÄÖ `type` Â±ûÊÄß‰∏∫ÈùûÊâßË°åËÑöÊú¨ÁöÑ `<script>` Ê†áÁ≠æ‰∏≠ÔºåÂáèÂ∞ëÂàùÂßãÊ∏≤ÊüìÁöÑ DOM ÂÖÉÁ¥†Êï∞ÈáèÔºåÊèêÈ´òÈÄüÂ∫¶„ÄÇÁ≠âÈ¶ñÂ±èÂä†ËΩΩÂÆåÊàêÊàñËÄÖÁî®Êà∑Êìç‰ΩúÊó∂ÔºåÂÜçÂéªÊ∏≤ÊüìÂâ©‰ΩôÁöÑÈ°µÈù¢ÂÜÖÂÆπ„ÄÇ\n\n- **ËµÑÊ∫êÊ∏≤Êüì**\n  - ÈÅøÂÖçÈáçÊéíÔºåÂáèÂ∞ëÈáçÁªòÔºåÈÅøÂÖçÁôΩÂ±èÔºåÊàñËÄÖ‰∫§‰∫íËøáÁ®ã‰∏≠ÁöÑÂç°È°ø\n  - ÈÄöËøá [CSS Trigger](https://csstriggers.com/) Êü•ËØ¢Âì™‰∫õÊ†∑ÂºèÂ±ûÊÄß‰ºöËß¶ÂèëÈáçÊéí‰∏éÈáçÁªò\n  - **ÂáèÂ∞ëÈáçÊéíÁöÑÊñπÊ≥ï**\n    - È°µÈù¢ÂàùÂßãÂåñ\n    - ÂáèÂ∞ëÂØπ DOM ÂÖÉÁ¥†ÂÜÖÂÆπÊîπÂèòÔºàÂ¶ÇÔºöÊñáÊú¨ÊîπÂèò„ÄÅÂõæÁâáË¢´Âè¶‰∏Ä‰∏™ÂêåÂ∞∫ÂØ∏ÂÖÉÁ¥†Êõø‰ª£Ôºâ\n    - ÂáèÂ∞ëÂØπ DOM ÂÖÉÁ¥†Â∞∫ÂØ∏ÊîπÂèòÔºàÂõ†‰∏∫ËæπË∑ù„ÄÅÂ°´ÂÖÖ„ÄÅËæπÊ°ÜÂÆΩÂ∫¶„ÄÅÂÆΩÂ∫¶„ÄÅÈ´òÂ∫¶Á≠âÂ±ûÊÄßÊîπÂèòÔºâ\n    - ÂáèÂ∞ëÂØπ DOM ÂÖÉÁ¥†‰ΩçÁΩÆÊîπÂèò\n    - ÂáèÂ∞ëÂØπÂèØËßÅ DOM ÂÖÉÁ¥†ÁöÑÊìç‰ΩúÔºàÂ¶ÇÔºöÂ¢ûÂä†„ÄÅÁßªÂä®ÂíåÂà†Èô§Ôºâ\n      - Â§öÊ¨° DOM Êìç‰ΩúÂêàÂπ∂‰∏∫‰∏ÄÊ¨°Â§ÑÁêÜ\n      - Â§ßÈáèÊìç‰ΩúÊó∂ÔºåÂèØÂ∞Ü DOM ËÑ±Á¶ªÊñáÊ°£ÊµÅÊàñËÄÖÈöêËóèÔºåÂæÖÊìç‰ΩúÂÆåÊàêÂêéÂÜçÈáçÊñ∞ÊÅ¢Â§ç\n    - ÂáèÂ∞ëÊóãËΩ¨Â±èÂπïÁöÑÊìç‰Ωú\n    - ÂáèÂ∞ëÊîπÂèòÊµèËßàÂô®Á™óÂè£Â∞∫ÂØ∏ÁöÑÊìç‰Ωú\n    - ÂáèÂ∞ëËÆæÁΩÆÂÖÉÁ¥† style Â±ûÊÄß\n    - ÂáèÂ∞ëËÆæÁΩÆÂÖÉÁ¥† class Â±ûÊÄß\n    - ÈÄöËøáÂª∂ËøüËÆøÈóÆÂ∏ÉÂ±Ä‰ø°ÊÅØÈÅøÂÖçÈáçÊéíÁâà\n      - Â¶Ç `offsetWidth`„ÄÅ`offsetHeight` Âíå `getComputedStyle` Á≠â\n      - ÂéüÂõ†ÔºöÊµèËßàÂô®ÈúÄË¶ÅËé∑ÂèñÊúÄÊñ∞ÂáÜÁ°ÆÁöÑÂÄºÔºåÂõ†Ê≠§ÂøÖÈ°ªÁ´ãÂç≥ËøõË°åÈáçÊéíÔºåËøôÊ†∑‰ºöÁ†¥Âùè‰∫ÜÊµèËßàÂô®ÁöÑÈòüÂàóÊï¥ÂêàÔºåÂ∞ΩÈáèÂ∞ÜÂÄºËøõË°åÁºìÂ≠ò‰ΩøÁî®\n    - ÂáèÂ∞ëÂú® HTML ‰∏≠Áº©ÊîæÂõæÁâá\n    - ÈÅøÂÖçÂØπÂ§ßÈÉ®ÂàÜÈ°µÈù¢ËøõË°åÈáçÊéíÁâà\n      - ‰ΩøÁî®ÁªùÂØπÂùêÊ†áÂÆö‰ΩçÈ°µÈù¢Âä®ÁîªÁöÑÂÖÉÁ¥†Ôºå‰ΩøÂÆÉ‰Ωç‰∫éÈ°µÈù¢Â∏ÉÂ±ÄÊµÅ‰πãÂ§ñ\n      - ÂêØÂä®ÂÖÉÁ¥†Âä®ÁîªÔºåÂΩìÂÆÉÊâ©Â§ßÊó∂ÔºåÂÆÉ‰∏¥Êó∂Ë¶ÜÁõñÈÉ®ÂàÜÈ°µÈù¢\n      - ÂΩìÂä®ÁîªÁªìÊùüÊó∂ÔºåÈáçÊñ∞ÂÆö‰ΩçÔºå‰ªéËÄåÂè™‰∏ÄÊ¨°‰∏ãÁßªÊñáÊ°£ÂÖ∂‰ªñÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆ\n    - ÂºÄÂêØ GPU Âä†ÈÄü\n      - transform\n      - opacity\n      - filter\n\n**Áõ∏ÂÖ≥ÈìæÊé•Ôºö**\n\n- [ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñ‰πãÂä†ËΩΩÊäÄÊúØ](https://juejin.im/post/59b73ef75188253db70acdb5#heading-5)\n- [ËµÑÊ∫êÊèêÁ§∫‚Äî‚Äî‰ªÄ‰πàÊòØ PreloadÔºåPrefetch Âíå PreconnectÔºü](https://juejin.im/post/5b5984b851882561da216311)\n- [preload-webpack-plugin](https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FGoogleChrome%2Fpreload-webpack-plugin)\n- [Preload ÊäÄÊúØÁªÜËäÇ](https://link.juejin.im/?target=https%3A%2F%2Fwww.smashingmagazine.com%2F2016%2F02%2Fpreload-what-is-it-good-for%2F)\n\n## Áî®Êà∑‰ΩìÈ™å\n\n- Ë∞®ÊÖéÊéßÂà∂Â•Ω Web Â≠ó‰ΩìÔºå‰∏Ä‰∏™Â§ßÂ≠ó‰ΩìÂåÖË∂≥Â§üËÆ©‰Ω†Âäü‰∫è‰∏ÄÁØë\n  - ÊéßÂà∂Â≠ó‰ΩìÂåÖÁöÑÂä†ËΩΩÊó∂Êú∫\n  - Â¶ÇÊûú‰ΩøÁî®ÁöÑÂ≠ó‰ΩìÊúâÈôêÔºåÈÇ£Â∞ΩÂèØËÉΩÂè™Â∞Ü‰ΩøÁî®ÁöÑÊñáÂ≠óÂçïÁã¨ÊâìÂåÖÔºåËÉΩÊúâÊïàÂáèÂ∞ë‰ΩìÁßØ\n- ÂàÜÊ∏ÖËΩªÈáçÁºìÊÄ•\n  - ÈáçË¶ÅÁöÑÂÖÉÁ¥†‰ºòÂÖàÊ∏≤Êüì\n  - ËßÜÁ™óÂÜÖÁöÑÂÖÉÁ¥†‰ºòÂÖàÊ∏≤Êüì\n- ÊúçÂä°Á´ØÊ∏≤ÊüìÔºàSSRÔºâ\n  - ÂáèÂ∞ëÈ¶ñÂ±èÈúÄË¶ÅÁöÑÊï∞ÊçÆÈáèÔºåÂâîÈô§ÂÜó‰ΩôÊï∞ÊçÆÂíåËØ∑Ê±Ç\n  - ÊéßÂà∂Â•ΩÁºìÂ≠òÔºåÂØπÊï∞ÊçÆ/È°µÈù¢ËøõË°åÂêàÁêÜÁöÑÁºìÂ≠ò\n  - È°µÈù¢ÁöÑËØ∑Ê±Ç‰ΩøÁî®ÊµÅÁöÑÂΩ¢ÂºèËøõË°å‰º†ÈÄí\n- ‰ºòÂåñÁî®Êà∑ÊÑüÁü•\n  - Âà©Áî®‰∏Ä‰∫õÂä®Áîª **ËøáÊ∏°ÊïàÊûú**ÔºåËÉΩÊúâÊïàÂáèÂ∞ëÁî®Êà∑ÂØπÂç°È°øÁöÑÊÑüÁü•\n  - Â∞ΩÂèØËÉΩÂà©Áî® **È™®Êû∂Â±èÔºàSkeletonÔºâ/ Loading** Á≠âÂáèÂ∞ëÁî®Êà∑ÂØπÁôΩÂ±èÁöÑÊÑüÁü•\n  - Âä®ÁîªÂ∏ßÊï∞Â∞ΩÈáè‰øùËØÅÂú® **30 Â∏ß** ‰ª•‰∏äÔºå‰ΩéÂ∏ßÊï∞„ÄÅÂç°È°øÁöÑÂä®ÁîªÂÆÅÊÑø‰∏çË¶Å\n  - JavaScript ÊâßË°åÊó∂Èó¥ÈÅøÂÖçË∂ÖËøá 100ms ÔºåË∂ÖËøáÁöÑËØùÂ∞±ÈúÄË¶ÅÂÅöÔºö\n    - ÂØªÊâæÂèØÁºìÂ≠òÁöÑÁÇπ\n    - ‰ªªÂä°ÁöÑÂàÜÂâ≤ÂºÇÊ≠•Êàñ web worker ÊâßË°å\n\n# ÁºñÁ†ÅÂ±ÇÈù¢\n\nÁºñÁ†Å‰ºòÂåñÔºåÊåáÁöÑÂ∞±ÊòØÂú®‰ª£Á†ÅÁºñÂÜôÊó∂ÁöÑÔºåÈÄöËøá‰∏Ä‰∫õ **ÊúÄ‰Ω≥ÂÆûË∑µ**ÔºåÊèêÂçá‰ª£Á†ÅÁöÑÊâßË°åÊÄßËÉΩ„ÄÇÈÄöÂ∏∏ËøôÂπ∂‰∏ç‰ºöÂ∏¶Êù•ÈùûÂ∏∏Â§ßÁöÑÊî∂ÁõäÔºå‰ΩÜËøôÂ±û‰∫é**Á®ãÂ∫èÂëòÁöÑËá™Êàë‰øÆÂÖª**ÔºåËÄå‰∏îËøô‰πüÊòØÈù¢ËØï‰∏≠ÁªèÂ∏∏Ë¢´ÈóÆÂà∞ÁöÑ‰∏Ä‰∏™ÊñπÈù¢ÔºåËÄÉÂØüËá™ÊàëÁÆ°ÁêÜ‰∏éÁªÜËäÇÁöÑÂ§ÑÁêÜ„ÄÇ\n\n## JavaScript ‰ºòÂåñ\n\n- **Êï∞ÊçÆËØªÂèñ**\n  - ÈÄöËøá‰ΩúÁî®ÂüüÈìæ / ÂéüÂûãÈìæËØªÂèñÂèòÈáèÊàñÊñπÊ≥ïÊó∂ÔºåÈúÄË¶ÅÊõ¥Â§öÁöÑËÄóÊó∂Ôºå‰∏îË∂äÈïøË∂äÊÖ¢\n  - ÂØπË±°ÂµåÂ•óË∂äÊ∑±ÔºåËØªÂèñÂÄº‰πüË∂äÊÖ¢\n  - ÊúÄ‰Ω≥ÂÆûË∑µÔºö\n    - Â∞ΩÈáèÂú®Â±ÄÈÉ®‰ΩúÁî®Âüü‰∏≠ËøõË°å **ÂèòÈáèÁºìÂ≠ò**\n    - ÈÅøÂÖçÂµåÂ•óËøáÊ∑±ÁöÑÊï∞ÊçÆÁªìÊûÑÔºå**Êï∞ÊçÆÊâÅÂπ≥Âåñ** ÊúâÂà©‰∫éÊï∞ÊçÆÁöÑËØªÂèñÂíåÁª¥Êä§\n- **Âæ™ÁéØ**ÔºöÂæ™ÁéØÈÄöÂ∏∏ÊòØÁºñÁ†ÅÊÄßËÉΩÁöÑÂÖ≥ÈîÆÁÇπ\n  - ‰ª£Á†ÅÁöÑÊÄßËÉΩÈóÆÈ¢ò‰ºöÂú®Âæ™ÁéØ‰∏≠Ë¢´ÊåáÊï∞ÂÄçÊîæÂ§ß\n  - ÊúÄ‰Ω≥ÂÆûË∑µ:\n    - Â∞ΩÂèØËÉΩ ÂáèÂ∞ëÂæ™ÁéØÊ¨°Êï∞Ôºõ\n      - ÂáèÂ∞ëÈÅçÂéÜÁöÑÊï∞ÊçÆÈáè\n      - ÂÆåÊàêÁõÆÁöÑÂêéÈ©¨‰∏äÁªìÊùüÂæ™ÁéØ\n    - ÈÅøÂÖçÂú®Âæ™ÁéØ‰∏≠ÊâßË°åÂ§ßÈáèÁöÑËøêÁÆóÔºåÈÅøÂÖçÈáçÂ§çËÆ°ÁÆóÔºåÁõ∏ÂêåÁöÑÊâßË°åÁªìÊûúÂ∫îËØ•‰ΩøÁî®ÁºìÂ≠ò\n    - JavaScript ‰∏≠‰ΩøÁî® **ÂÄíÂ∫èÂæ™ÁéØ** ‰ºöÁï•ÂæÆÊèêÂçáÊÄßËÉΩ\n    - Â∞ΩÈáèÈÅøÂÖç‰ΩøÁî® for-in Âæ™ÁéØÔºåÂõ†‰∏∫ÂÆÉ‰ºöÊûö‰∏æÂéüÂûãÂØπË±°ÔºåËÄóÊó∂Â§ß‰∫éÊôÆÈÄöÂæ™ÁéØ\n- **Êù°‰ª∂ÊµÅÁ®ãÊÄßËÉΩ**ÔºöMap / Object > switch > if-else\n- **Ê®°ÂùóÂåñ**ÔºöÂ∞ùËØï‰ΩøÁî® `import()`\n\n## DOM ‰ºòÂåñ\n\n- ÂáèÂ∞ë DOM ÁöÑÂ±ÇÁ∫ßÔºåÂèØ‰ª•ÂáèÂ∞ëÊ∏≤ÊüìÂºïÊìéÂ∑•‰ΩúËøáÁ®ã‰∏≠ÁöÑËÆ°ÁÆóÈáè\n- ÂáèÂ∞ëËÆøÈóÆ DOM ÁöÑÊ¨°Êï∞ÔºåÂ¶ÇÈúÄÂ§öÊ¨°ÔºåÂ∞Ü DOM ÁºìÂ≠ò‰∫éÂèòÈáè‰∏≠\n- ‰ΩøÁî®‰∫ã‰ª∂ÂßîÊâòÔºåÈÅøÂÖçÂ§ßÈáèÁöÑ‰∫ã‰ª∂ÁªëÂÆö\n- ‰ΩøÁî® `requestAnimationFrame` Êù•ÂÆûÁé∞ËßÜËßâÂèòÂåñÔºö‰∏ÄËà¨Êù•ËØ¥Êàë‰ª¨‰ºö‰ΩøÁî® `setTimeout` Êàñ `setInterval` Êù•ÊâßË°åÂä®Áîª‰πãÁ±ªÁöÑËßÜËßâÂèòÂåñÔºå‰ΩÜËøôÁßçÂÅöÊ≥ïÁöÑÈóÆÈ¢òÊòØÔºåÂõûË∞ÉÂ∞ÜÂú®Â∏ß‰∏≠ÁöÑÊüê‰∏™Êó∂ÁÇπËøêË°åÔºåÂèØËÉΩÂàöÂ•ΩÂú®Êú´Â∞æÔºåËÄåËøôÂèØËÉΩÁªèÂ∏∏‰ºö‰ΩøÊàë‰ª¨‰∏¢Â§±Â∏ßÔºåÂØºËá¥Âç°È°ø\n\n## CSS ‰ºòÂåñ\n\n- **Â±ÇÁ∫ßÊâÅÂπ≥**ÔºåÈÅøÂÖçËøá‰∫éÂ§öÂ±ÇÁ∫ßÁöÑÈÄâÊã©Âô®ÂµåÂ•ó\n- **ÁâπÂÆöÁöÑÈÄâÊã©Âô®**ÔºöÂ•ΩËøá‰∏ÄÂ±Ç‰∏ÄÂ±ÇÊü•ÊâæÔºö`.xxx-child-text{}` ‰ºò‰∫é `.xxx .child .text{}`\n- **ÂáèÂ∞ë‰ΩøÁî®ÈÄöÈÖçÁ¨¶‰∏éÂ±ûÊÄßÈÄâÊã©Âô®**\n  - ÈÄâÊã©Âô®Ë∂äÂ§çÊùÇÔºåÂåπÈÖçÁî®ÁöÑÊó∂Èó¥Ë∂äÂ§ö\n- **ÂáèÂ∞ë‰∏çÂøÖË¶ÅÁöÑÂ§ö‰ΩôÂ±ûÊÄß**\n- ‰ΩøÁî® **Âä®ÁîªÂ±ûÊÄß** ÂÆûÁé∞Âä®ÁîªÔºåÂä®ÁîªÊó∂ËÑ±Á¶ªÊñáÊ°£ÊµÅÔºåÂºÄÂêØÁ°¨‰ª∂Âä†ÈÄüÔºå‰ºòÂÖà‰ΩøÁî® CSS Âä®Áîª\n- ‰ΩøÁî® `<link>` Êõø‰ª£ÂéüÁîü @import\n- ÈÅøÂÖç‰ΩøÁî®Ë°®ËææÂºèÔºå‰æãÂ¶Ç `font-color: expression((new Date()).getHours()%3?\"#FFF\":\"#AAA\")` Ëøô‰∏™Ë°®ËææÂºè‰ºöÊåÅÁª≠Âú∞Âú®È°µÈù¢‰∏äËÆ°ÁÆóÊ†∑ÂºèÔºåÂΩ±ÂìçÈ°µÈù¢ÊÄßËÉΩ\n\n## HTML ‰ºòÂåñ\n\n- ÂÜôÂØπÊñáÊ°£Á±ªÂûãÂ£∞Êòé `<!DOCTYPE html>` ËøôËÉΩÁ°Æ‰øùÊµèËßàÂô®ÊåâÁÖßÊúÄ‰Ω≥ÁöÑÁõ∏ÂÖ≥ËßÑËåÉËøõË°åÊ∏≤Êüì\n- **ÂáèÂ∞ë DOM Êï∞Èáè**ÔºåÈÅøÂÖç‰∏çÂøÖË¶ÅÁöÑËäÇÁÇπÊàñÂµåÂ•óÔºõ\n- ÈÅøÂÖçÁ©∫ÁöÑ `src` Âíå `href`ÔºöÂΩì `src` Âíå `href` ‰∏∫Á©∫Êó∂ÔºåÊµèËßàÂô®‰ºöÈªòËÆ§Â°´ÂÖÖÈìæÊé•ÔºåÂπ∂Â∞ÜÈ°µÈù¢ÁöÑÂÜÖÂÆπÂä†ËΩΩËøõÊù•‰Ωú‰∏∫ÂÆÉ‰ª¨ÁöÑÂÄºÔºåÂÖ∑‰ΩìËßÑÂàôÂ¶Ç‰∏ãÔºö\n  - IE Âêë**È°µÈù¢ÊâÄÂú®ÁöÑÁõÆÂΩï**ÂèëÈÄÅËØ∑Ê±Ç\n  - Safari„ÄÅChrome„ÄÅFirefox ÂêëÈ°µÈù¢Êú¨Ë∫´ URL ÂèëÈÄÅËØ∑Ê±Ç\n  - Opera ‰∏çÊâßË°å‰ªª‰ΩïÊìç‰Ωú\n- ÂõæÁâáÊèêÂâç **ÊåáÂÆöÂÆΩÈ´ò** ÊàñËÄÖ **ËÑ±Á¶ªÊñáÊ°£ÊµÅ**ÔºåËÉΩÊúâÊïàÂáèÂ∞ëÂõ†ÂõæÁâáÂä†ËΩΩÂØºËá¥ÁöÑÈ°µÈù¢ÂõûÊµÅ\n- **ËØ≠‰πâÂåñÊ†áÁ≠æ** ÊúâÂà©‰∫é SEO ‰∏éÊµèËßàÂô®ÁöÑËß£ÊûêÊó∂Èó¥\n- ÂáèÂ∞ë‰ΩøÁî® table ËøõË°åÂ∏ÉÂ±ÄÔºåÈÅøÂÖç‰ΩøÁî® `<br/>` ‰∏é `<hr/>`\n\n# ÂèÇËÄÉËµÑÊñô\n\n**ÊÄßËÉΩ‰ºòÂåñÊñπÊ°àÊ∏ÖÂçï**\n\n- üßæ [2018 ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÊ∏ÖÂçï](https://juejin.im/post/5a966bd16fb9a0635172a50a)\n- üßæ [Âó®ÔºåÈÄÅ‰Ω†‰∏ÄÂº† Web ÊÄßËÉΩ‰ºòÂåñÂú∞Âõæ](https://github.com/berwin/Blog/issues/23)\n- üßæ [Web ÊÄßËÉΩ‰ºòÂåñÊÄªÁªì](https://segmentfault.com/a/1190000018263418?utm_medium=hao.caibaojian.com&utm_source=hao.caibaojian.com&share_user=1030000000178452)\n- üßæ [Â§ßÂâçÁ´ØÊÄßËÉΩÊÄªÁªì](https://juejin.im/post/5b025d856fb9a07aa0484e54)\n- üßæ [CSS ÊÄßËÉΩ‰ºòÂåñÁöÑ 8 ‰∏™ÊäÄÂ∑ß](https://juejin.im/post/5b6133a351882519d346853f)\n- üßæ [Á≤æËØª „ÄäÈ´òÊïà JavaScript„Äã](https://juejin.im/post/5b7e1f81f265da436a075db4)\n- üßæ [Web ÊÄßËÉΩ‰ºòÂåñÊ∏ÖÂçï](https://juejin.im/post/5c011e0c5188252ea66afdfa)\n- üóÉ [ÊÄßËÉΩÁõ∏ÂÖ≥Âü∫Á°ÄÁü•ËØÜÁÇπÁ†îÁ©∂](https://github.com/barretlee/performance-column/milestone/1)\n- üóÉ [ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñËµÑÊ∫êÂàóË°®](https://github.com/liangsenzhi/awesome-wpo-chinese)\n- üóÉ [awesome-wpo](https://github.com/davidsonfellipe/awesome-wpo)\n- üóÉ [A Frontend Checklist for Websites](https://github.com/drublic/checklist)\n\n**‰ºòÂåñÊñπÂêë**\n\n- üé° [ÊµèËßàÂô®ÁöÑÂ∑•‰ΩúÂéüÁêÜÔºöÊñ∞ÂºèÁΩëÁªúÊµèËßàÂô®ÂπïÂêéÊè≠Áßò](https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/)\n- üé° [16 ÊØ´ÁßíÁöÑ‰ºòÂåñ](http://velocity.oreilly.com.cn/2013/ppts/16_ms_optimization--web_front-end_performance_optimization.pdf)\n- üé° [Optimize JavaScript Execution ‰ºòÂåñ JavaScript ÊâßË°å](https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution)\n","slug":"means-for-performance-optimization","published":1,"updated":"2021-08-18T03:31:26.484Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867nbx0007bmjdnhos0dsl","content":"<p>ÊäÄÊúØÁ§æÂå∫‰∏≠ÂÖ∂ÂÆûÂ∑≤ÁªèÊúâËæÉÂ§öÁöÑÂÖ≥‰∫éÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÁöÑÁõ∏ÂÖ≥ÊñáÁ´†ÔºåÁúã‰∫ÜÂ§öÁØá‰πãÂêéÊÄªÊòØËßâÂæóÂÜÖÂÆπËøòÊúâÂæàÂ§öÈÅóÊºèÊàñÂÜôÂæó‰∏çÂ§üÂÆåÁæéÔºåÂ∞ΩÁÆ°ËøòÊ≤°Êé•ÊâãËøáÊµÅÈáèÁâπÂà´Â§ßÁöÑÁΩëÁ´ôÂ∫îÁî®È°πÁõÆÔºå‰ΩÜÊòØÊú¨‰∫∫ËÆ§‰∏∫Êó•Â∏∏È°πÁõÆ‰∏≠‰πüÈúÄË¶ÅÂ∞ΩÂèØËÉΩÂú∞ËøõË°åÊÄßËÉΩ‰ºòÂåñÁöÑÂ∑•‰ΩúÔºåÂõ†‰∏∫ÂâçÁ´ØÂ∑•Á®ãÂ∏àÁöÑÂ∑•‰ΩúÂæàÂ§ßÁ®ãÂ∫¶‰∏äÂèØ‰ª•ÊèèËø∞‰∏∫‚ÄúÁî®Â∞ΩÈáèÂ∞ëÁöÑ‰ª£‰ª∑‰∏∫Áî®Êà∑Êèê‰æõÊïàÁéáÂ∞ΩÂèØËÉΩÈ´ò„ÄÅÂäüËÉΩÂ∞ΩÂèØËÉΩÂ§ö„ÄÅ‰ΩìÈ™åÂ∞ΩÂèØËÉΩÂ•ΩÁöÑÁΩëÈ°µÂ∫îÁî®‚ÄùÔºåËÄåÊÄßËÉΩ‰ºòÂåñÂæàÂ§ßÁ®ãÂ∫¶‰∏äÂ∞±ÊòØÂÆûÁé∞‚ÄúÂ∞ΩÂèØËÉΩÂ∞ëÁöÑ‰ª£‰ª∑‚Äù„ÄÅ‚ÄúÊïàÁéáÂ∞ΩÂèØËÉΩÈ´ò‚Äù‰ª•Âèä‚Äú‰ΩìÈ™åÂ∞ΩÂèØËÉΩÂ•Ω‚Äù„ÄÇ</p>\n<p>Âõ†Ê≠§ÔºåÊ≠§Êñá‰ºöÊ†πÊçÆÁΩëÁªúËØ∑Ê±ÇÂà∞ÁΩëÈ°µÂëàÁé∞ÁöÑÂÆåÊï¥ÊµÅÁ®ãÔºåÈíàÂØπÊÄßÂú∞ÊèêÂá∫Áõ∏ÂÖ≥Èò∂ÊÆµ‰æõÂºÄÂèëÂÜ≥Á≠ñËÄÖËÄÉËôëÈááÂèñÁöÑ‰ºòÂåñÊñπÊ°àÔºåÂõ†Ê≠§Êú¨ÊñáÊõ¥ÂÉèÊòØÊÄßËÉΩ‰ºòÂåñÊñπÊ°àÁöÑÂÜ≥Á≠ñÊ†ëÔºåËÄåÈùûÊ†áÂáÜÊñπÊ°àÔºö</p>\n<ul>\n<li>ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢</li>\n<li>ÊúçÂä°Á´ØÂ±ÇÈù¢</li>\n<li>ÂÆ¢Êà∑Á´ØÊ∏≤ÊüìÂ±ÇÈù¢</li>\n<li>ÁºñÁ†ÅÂ±ÇÈù¢</li>\n</ul>\n<p><strong>ÁΩëÁªúËØ∑Ê±ÇÂà∞ÁΩëÈ°µÂëàÁé∞ÁöÑÂ§ßËá¥ÊµÅÁ®ã</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç =&gt; ÁΩëÁªúÈìæË∑Ø =&gt; ËøîÂõûËµÑÊ∫ê(ÊúçÂä°Á´Ø) =&gt; Ê∏≤ÊüìËµÑÊ∫ê(ÂÆ¢Êà∑Á´Ø)</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h1 id=\"ÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑ\"><a href=\"#ÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑ\" class=\"headerlink\" title=\"ÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑ\"></a>ÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑ</h1><p>Âú®ÊèêÂá∫ÂêÑÂ±ÇÊ¨°ÁöÑ‰ºòÂåñÊñπÊ°à‰πãÂâçÔºåÊúâÂøÖË¶Å‰∫ÜËß£‰∏Ä‰∏ãÊÄßËÉΩ‰ºòÂåñÊñπÊ°àÂÆûÈôÖ‰∏äËß£ÂÜ≥‰∫ÜÂì™‰∫õÊÄßËÉΩÈóÆÈ¢ò‰ª•ÂèäËß£ÂÜ≥Ëøô‰∫õÈóÆÈ¢òÁöÑÊ†∏ÂøÉÂΩíÁªìÁÇπ„ÄÇ</p>\n<p>‰ª•‰∏ãÈÉ®ÂàÜÂÖ≥‰∫é‰ºòÂåñÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑÁöÑÂª∫ËÆÆÊëòÂΩïËá™ Google ÂºÄÂèëËÄÖÊñáÊ°£Ôºö<br><a href=\"https://developers.google.com/web/fundamentals/performance/critical-rendering-path/optimizing-critical-rendering-path\" target=\"_blank\" rel=\"noopener\">üìñ Optimizing the Critical Rendering Path</a></p>\n<p>‰∏∫‰∫ÜÂ∞ΩÂø´ÂÆåÊàêÈ¶ñÊ¨°Ê∏≤ÊüìÔºåÊàë‰ª¨ÈúÄË¶ÅÊúÄÂ§ßÈôêÂ∫¶ÂáèÂ∞è‰ª•‰∏ã‰∏âÁßçÂèØÂèòÂõ†Á¥†Ôºö</p>\n<ul>\n<li>ÂÖ≥ÈîÆËµÑÊ∫êÁöÑÊï∞Èáè</li>\n<li>ÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶</li>\n<li>ÂÖ≥ÈîÆÂ≠óËäÇÁöÑÊï∞Èáè</li>\n</ul>\n<p>ÂÖ≥ÈîÆËµÑÊ∫êÊòØÂèØËÉΩÈòªÊ≠¢ÁΩëÈ°µÈ¶ñÊ¨°Ê∏≤ÊüìÁöÑËµÑÊ∫ê„ÄÇËøô‰∫õËµÑÊ∫êË∂äÂ∞ëÔºåÊµèËßàÂô®ÁöÑÂ∑•‰ΩúÈáèÂ∞±Ë∂äÂ∞èÔºåÂØπ CPU ‰ª•ÂèäÂÖ∂‰ªñËµÑÊ∫êÁöÑÂç†Áî®‰πüÂ∞±Ë∂äÂ∞ë„ÄÇ</p>\n<p>ÂêåÊ†∑ÔºåÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶ÂèóÊâÄÊúâÂÖ≥ÈîÆËµÑÊ∫ê‰∏éÂÖ∂Â≠óËäÇÂ§ßÂ∞è‰πãÈó¥‰æùËµñÂÖ≥Á≥ªÂõæÁöÑÂΩ±ÂìçÔºöÊüê‰∫õËµÑÊ∫êÂè™ËÉΩÂú®‰∏ä‰∏ÄËµÑÊ∫êÂ§ÑÁêÜÂÆåÊØï‰πãÂêéÊâçËÉΩÂºÄÂßã‰∏ãËΩΩÔºåÂπ∂‰∏îËµÑÊ∫êË∂äÂ§ßÔºå‰∏ãËΩΩÊâÄÈúÄÁöÑÂæÄËøîÊ¨°Êï∞Â∞±Ë∂äÂ§ö„ÄÇ</p>\n<p>ÊúÄÂêéÔºåÊµèËßàÂô®ÈúÄË¶Å‰∏ãËΩΩÁöÑÂÖ≥ÈîÆÂ≠óËäÇË∂äÂ∞ëÔºåÂ§ÑÁêÜÂÜÖÂÆπÂπ∂ËÆ©ÂÖ∂Âá∫Áé∞Âú®Â±èÂπï‰∏äÁöÑÈÄüÂ∫¶Â∞±Ë∂äÂø´„ÄÇË¶ÅÂáèÂ∞ëÂ≠óËäÇÊï∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÂáèÂ∞ëËµÑÊ∫êÊï∞ÔºàÂ∞ÜÂÆÉ‰ª¨Âà†Èô§ÊàñËÆæ‰∏∫ÈùûÂÖ≥ÈîÆËµÑÊ∫êÔºâÔºåÊ≠§Â§ñËøòË¶ÅÂéãÁº©Âíå‰ºòÂåñÂêÑÈ°πËµÑÊ∫êÔºåÁ°Æ‰øùÊúÄÂ§ßÈôêÂ∫¶ÂáèÂ∞è‰º†ÈÄÅÂ§ßÂ∞è„ÄÇ</p>\n<p><strong>‰ºòÂåñÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑÁöÑÂ∏∏ËßÑÊ≠•È™§Â¶Ç‰∏ãÔºö</strong></p>\n<ol>\n<li>ÂØπÂÖ≥ÈîÆË∑ØÂæÑËøõË°åÂàÜÊûêÂíåÁâπÊÄßÊèèËø∞ÔºöËµÑÊ∫êÊï∞„ÄÅÂ≠óËäÇÊï∞„ÄÅÈïøÂ∫¶</li>\n<li>ÊúÄÂ§ßÈôêÂ∫¶ÂáèÂ∞ëÂÖ≥ÈîÆËµÑÊ∫êÁöÑÊï∞ÈáèÔºöÂà†Èô§ÂÆÉ‰ª¨ÔºåÂª∂ËøüÂÆÉ‰ª¨ÁöÑ‰∏ãËΩΩÔºåÂ∞ÜÂÆÉ‰ª¨Ê†áËÆ∞‰∏∫ÂºÇÊ≠•Á≠â</li>\n<li>‰ºòÂåñÂÖ≥ÈîÆÂ≠óËäÇÊï∞‰ª•Áº©Áü≠‰∏ãËΩΩÊó∂Èó¥ÔºàÂæÄËøîÊ¨°Êï∞Ôºâ</li>\n<li>‰ºòÂåñÂÖ∂‰ΩôÂÖ≥ÈîÆËµÑÊ∫êÁöÑÂä†ËΩΩÈ°∫Â∫èÔºöÊÇ®ÈúÄË¶ÅÂ∞ΩÊó©‰∏ãËΩΩÊâÄÊúâÂÖ≥ÈîÆËµÑ‰∫ßÔºå‰ª•Áº©Áü≠ÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶</li>\n</ol>\n<h1 id=\"ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢\"><a href=\"#ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢\" class=\"headerlink\" title=\"ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢\"></a>ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢</h1><p>ÁΩëÁªúÈìæË∑Ø‰Ωú‰∏∫ÁΩëÁªúËµÑÊ∫êÂíåÊï∞ÊçÆÁöÑ‰º†ËæìÈÄöÈÅìÔºåÂÖÖÂàÜÂà©Áî®ÁΩëÁªúÊäÄÊúØÊâãÊÆµËÉΩÊúâÊïàÂú∞ÂáèÂ∞ëÁΩëÈ°µËµÑÊ∫êÂìçÂ∫îÁöÑÈÄüÂ∫¶„ÄÅÊèêÂçáÁΩëÈ°µËµÑÊ∫ê‰º†ËæìÈÄüÂ∫¶‰ª•ÂèäÈÅøÂÖçÈáçÂ§ç‰º†ËæìÂØºËá¥ÁöÑËµÑÊ∫êÊµ™Ë¥πÁ≠âÈóÆÈ¢ò„ÄÇ</p>\n<h2 id=\"‰º†ËæìÁ≠ñÁï•\"><a href=\"#‰º†ËæìÁ≠ñÁï•\" class=\"headerlink\" title=\"‰º†ËæìÁ≠ñÁï•\"></a>‰º†ËæìÁ≠ñÁï•</h2><h3 id=\"DNS-Êü•ËØ¢\"><a href=\"#DNS-Êü•ËØ¢\" class=\"headerlink\" title=\"DNS Êü•ËØ¢\"></a>DNS Êü•ËØ¢</h3><p>DNS ÂüüÂêçËß£ÊûêÂçèËÆÆÁÆÄÂçïÊù•Â∞±ËØ¥Ë¥üË¥£Â∞ÜÂüüÂêç URL ËΩ¨Âåñ‰∏∫ÊúçÂä°Âô®‰∏ªÊú∫ IP„ÄÇ‰∫ÜËß£Êõ¥Â§ö <a href=\"https://tsejx.github.io/JavaScript-Guidebook/computer-networks/dns.html\">DNS ÂüüÂêçËß£ÊûêÂçèËÆÆ</a></p>\n<p>DNS Êü•ËØ¢ËÉΩ‰ªé‰∏§ÊñπÈù¢ËøõË°å‰ºòÂåñÔºö</p>\n<ul>\n<li><strong>ÂáèÂ∞ë DNS Êü•ËØ¢Ê¨°Êï∞</strong></li>\n<li><strong>DNS È¢ÑËß£Êûê</strong></li>\n</ul>\n<p>ÈÄöËøáÂú®ÊñáÊ°£‰∏≠‰ΩøÁî®ÂÄº‰∏∫ <code>http-equiv</code> ÁöÑ <code>&lt;meta&gt;</code> Ê†áÁ≠æÊâìÂºÄ DNS È¢ÑËß£ÊûêÔºö</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"x-dns-prefetch-control\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"on\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<p>ÈÄöËøá <code>rel</code> Â±ûÊÄßÂÄº‰∏∫ <code>dns-prefetch</code> ÁöÑ <code>&lt;link&gt;</code> Ê†áÁ≠æÂØπÁâπÂÆöÂüüÂêçËøõË°åÈ¢ÑËØªÂèñ</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">'dns-prefetch\" href=\"//host_name_to_prefetch.com\"/&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p><strong>Áõ∏ÂÖ≥ÈìæÊé•Ôºö</strong></p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Controlling_DNS_prefetching\" target=\"_blank\" rel=\"noopener\">MDNÔºöX-DNS-Prefetch-Control</a></li>\n<li><a href=\"https://dev.chromium.org/developers/design-documents/dns-prefetching\" target=\"_blank\" rel=\"noopener\">DNS Prefetching</a></li>\n<li><a href=\"https://bitsup.blogspot.com/2008/11/dns-prefetching-for-firefox.html\" target=\"_blank\" rel=\"noopener\">DNS Prefetching for Firefox</a></li>\n</ul>\n<h3 id=\"TCP-ËøûÊé•\"><a href=\"#TCP-ËøûÊé•\" class=\"headerlink\" title=\"TCP ËøûÊé•\"></a>TCP ËøûÊé•</h3><p><strong>ÊåÅ‰πÖÂåñËøûÊé•</strong>ÔºöÈÅøÂÖçÈáçÂ§çËøõË°å TCP ÁöÑ‰∏âÊ¨°Êè°ÊâãÔºåHTTP/1.1 ÈªòËÆ§ÂºÄÂêØÔºåHTTP/1.0 ÂèØ‰ª•‰ΩøÁî®„ÄÇ</p>\n<p>Keep-Alive ‰∏ç‰ºöÊ∞∏‰πÖ‰øùÊåÅËøûÊé•ÔºåÂºÄÂèëËÄÖÂèØÈÄöËøáÊúçÂä°Âô®ÈÖçÁΩÆÈôêÂÆöÊó∂Èó¥„ÄÇ</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: keep-alive</span><br></pre></td></tr></table></figure>\n<h3 id=\"HTTP-ËØ∑Ê±Ç\"><a href=\"#HTTP-ËØ∑Ê±Ç\" class=\"headerlink\" title=\"HTTP ËØ∑Ê±Ç\"></a>HTTP ËØ∑Ê±Ç</h3><ul>\n<li><strong>ÂáèÂ∞ë HTTP ËØ∑Ê±Ç</strong><ul>\n<li>ÈÄöËøáÂâçÁ´ØÊûÑÂª∫Â∑•ÂÖ∑ÂêàÂπ∂ËÑöÊú¨ÂíåÊ†∑ÂºèË°®</li>\n<li>CSS Sprites Á≤æÁÅµÂõæ</li>\n<li>ÂõæÁâá‰ΩøÁî® Base64 ÁºñÁ†ÅÂµåÂÖ•ÁΩëÈ°µÔºåÂáèÂ∞ëÂõæÁâáÂ§ñÈÉ®ËΩΩÂÖ•ÁöÑËØ∑Ê±ÇÊï∞</li>\n</ul>\n</li>\n<li><strong>ËµÑÊ∫êÂàÜÂ∏ÉÂºèÈÉ®ÁΩ≤Ëá≥‰∏çÂêåÂüüÂêç</strong><ul>\n<li><strong>ÂéüÂõ†</strong>Ôºö‰∏ªÊµÅÊµèËßàÂô®ÂØπÁõ∏ÂêåÂüüÂêçÁöÑÂπ∂Âèë HTTP ËØ∑Ê±ÇÊï∞ÈôêÂà∂Âú® 4~8 ‰∏™ÔºåÂΩìËµÑÊ∫êËøáÂ§öÊó∂ÔºåÂèØ‰ª•ÈááÁî®Â¢ûÂä†ÂüüÂêçÁöÑÊñπÊ≥ïÂ¢ûÂä† HTTP ËØ∑Ê±ÇÁöÑÂπ∂ÂèëÈáè</li>\n<li><strong>ÂéüÁêÜ</strong>ÔºöÂà©Áî®Â§ö‰∏™‰∏çÂêåÁöÑÂüüÂêçÂèØ‰ª•‰øùËØÅËøô‰∫õÂüüÂêçËÉΩÂ§üÂêåÊó∂Âä†ËΩΩÂõæÁâáÔºåËÄå‰∏çÁî®ÊéíÈòü„ÄÇ‰∏çËøáÂ¶ÇÊûúÂΩì‰ΩøÁî®ÁöÑÂüüÂêçËøáÂ§öÊó∂ÔºåÂìçÂ∫îÊó∂Èó¥Â∞±‰ºöÊÖ¢ÔºåÂõ†‰∏∫‰∏çÂêåÂìçÂ∫îÂüüÂêçÊó∂Èó¥‰∏ç‰∏ÄËá¥</li>\n</ul>\n</li>\n<li><strong>ÈÅøÂÖçÈáçÂÆöÂêë</strong><ul>\n<li>URL Êú´Â∞æÂ∫îËØ•Ê∑ªÂä† <code>/</code> ‰ΩÜÊú™Ê∑ªÂä†</li>\n</ul>\n</li>\n<li><strong>Ê∂àÈô§‰∏çÂøÖË¶ÅÁöÑËØ∑Ê±ÇÂ≠óËäÇ</strong></li>\n<li><strong>Cookie</strong><ul>\n<li>ÂéãÁº© Cookie Â§ßÂ∞è<ul>\n<li>ÂéªÈô§‰∏çÂøÖË¶ÅÁöÑ Cookie</li>\n<li>Ê≥®ÊÑèËÆæÁΩÆ Cookie ÁöÑ domain Á∫ßÂà´ÔºåÂ¶ÇÊ≤°ÂøÖË¶ÅÔºå‰∏çË¶ÅÂΩ±ÂìçÂ≠êÂüüÂêç</li>\n<li>ËÆæÁΩÆÂêàÈÄÇÁöÑËøáÊúüÊó∂Èó¥</li>\n</ul>\n</li>\n<li>ÈùôÊÄÅËµÑÊ∫ê‰ΩøÁî®Êó† Cookie ÂüüÂêç</li>\n</ul>\n</li>\n<li><a href=\"https://tsejx.github.io/JavaScript-Guidebook/computer-networks/http/http2.html\">HTTP/2</a><ul>\n<li>‰∫åËøõÂà∂ÂàÜÂ∏ß</li>\n<li>Â§öË∑ØÂ§çÁî®</li>\n<li>ÊúçÂä°Âô®Êé®ÈÄÅ</li>\n<li>Â§¥ÈÉ®ÂéãÁº©</li>\n<li>‰∫ÜËß£Êõ¥Â§ö [HTTP/2]</li>\n</ul>\n</li>\n<li><a href=\"https://zh.wikipedia.org/wiki/HTTP/3\" target=\"_blank\" rel=\"noopener\">HTTP/3</a></li>\n</ul>\n<p><strong>Áõ∏ÂÖ≥ÈìæÊé•Ôºö</strong></p>\n<ul>\n<li><a href=\"http://bubkoo.com/2015/11/19/prefetching-preloading-prebrowsing/\" target=\"_blank\" rel=\"noopener\">ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñ - ËµÑÊ∫êÈ¢ÑÂä†ËΩΩ</a></li>\n<li><a href=\"https://github.com/creeperyang/blog/issues/23\" target=\"_blank\" rel=\"noopener\">HTTP/2 ÁÆÄ‰ªãÂíåÂü∫‰∫é HTTP/2 ÁöÑ Web ‰ºòÂåñ</a></li>\n</ul>\n<h2 id=\"ÁºìÂ≠òÁ≠ñÁï•\"><a href=\"#ÁºìÂ≠òÁ≠ñÁï•\" class=\"headerlink\" title=\"ÁºìÂ≠òÁ≠ñÁï•\"></a>ÁºìÂ≠òÁ≠ñÁï•</h2><p>Âà∂ÂÆöÊúâÊïàÁöÑÁºìÂ≠òÁ≠ñÁï•ÔºåÂæàÂ§ßÁ®ãÂ∫¶‰∏äËÉΩÂÆûÁé∞ËµÑÊ∫êÁöÑÈáçÂ§çÂà©Áî®Âèä‰º†ËæìË∑ØÂæÑÁöÑ‰ºòÂåñÔºåÂáèÂ∞ëÂÆ¢Êà∑Á´ØÂØπÊúçÂä°Á´ØÁöÑÁΩëÁªúËØ∑Ê±ÇÂéãÂäõÔºåÂáèËΩªÂÆΩÂ∫¶ÊµÅÈáè„ÄÇ</p>\n<ul>\n<li><a href=\"https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html\">HTTP ÁºìÂ≠ò</a><ul>\n<li><a href=\"[https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#%E5%BC%BA%E7%BC%93%E5%AD%98](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#Âº∫ÁºìÂ≠ò\">Âº∫ÁºìÂ≠ò</a>&gt;)<ul>\n<li>Expires ÁªùÂØπÊó∂Èó¥ <code>Expires: Thu, 21 Jan 2017 23:59:59 GMT</code> ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÊó∂Èó¥ÂèØËÉΩ‰∏ç‰∏ÄËá¥</li>\n<li>Cache-Control Áõ∏ÂØπÊó∂Èó¥ <code>Cache-Control: max-age=3600</code></li>\n</ul>\n</li>\n<li><a href=\"[https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#ÂçèÂïÜÁºìÂ≠ò\">ÂçèÂïÜÁºìÂ≠ò</a>&gt;)<ul>\n<li>Last-Modified / If-Modified-Since ÁªùÂØπÊó∂Èó¥ <code>Expires: Wed, 26 Jan 2017 00:35:11 GMT</code> ËµÑÊ∫ê‰∏äÊ¨°‰øÆÊîπÁöÑÊó∂Èó¥</li>\n<li>Etag / If-None-Match ÈöèÊú∫ÁîüÊàêÁöÑ‰π±Á†ÅÂÄº</li>\n</ul>\n</li>\n<li>‰ºòÂÖà‰ΩøÁî®Âº∫ÁºìÂ≠ò<ul>\n<li>ÂΩìËµÑÊ∫êÊñá‰ª∂ÂèëÁîüÂèòÂåñÊó∂ÔºåÈÄöËøáÊõ¥Êñ∞È°µÈù¢‰∏≠ÂºïÁî®ÁöÑËµÑÊ∫êË∑ØÂæÑÔºåËÆ©ÊµèËßàÂô®ÊîæÂºÉÁºìÂ≠òÔºåÂä†ËΩΩÊñ∞ËµÑÊ∫ê</li>\n<li>ÈÄöËøá <a href=\"https://link.zhihu.com/?target=http%3A//baike.baidu.com/view/10961371.htm\" target=\"_blank\" rel=\"noopener\">Êï∞ÊçÆÊëòË¶ÅÁÆóÊ≥ï</a> Á≤æÂáÜÂà∞Âçï‰∏™Êñá‰ª∂Á≤íÂ∫¶ÁöÑÁºìÂ≠òÊéßÂà∂</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"https://tsejx.github.io/JavaScript-Guidebook/computer-networks/cdn.html\">CDN ÁºìÂ≠ò</a>Ôºö Â∞ÜÈùôÊÄÅËµÑÊ∫êÂíåÂä®ÊÄÅÁΩëÈ°µÂàÜÈõÜÁæ§ÈÉ®ÁΩ≤<ul>\n<li>HTML ÈÉ®ÁΩ≤Âú®Ëá™Ë∫´ÁöÑÊúçÂä°Âô®‰∏ä</li>\n<li>ÊâìÂåÖÂêéÁöÑÂõæÁâá / JavaScript ËÑöÊú¨Êñá‰ª∂ / CSS Ê†∑ÂºèÊñá‰ª∂Á≠âËµÑÊ∫êÈÉ®ÁΩ≤Âà∞ CDN ËäÇÁÇπ‰∏äÔºåÊñá‰ª∂Â∏¶‰∏ä Hash ÂÄº</li>\n<li>Áî±‰∫éÊµèËßàÂô®ÂØπÂçï‰∏™ÂüüÂêçËØ∑Ê±ÇÁöÑÈôêÂà∂ÔºåÂèØ‰ª•Â∞ÜËµÑÊ∫êÊîæÂú®Â§ö‰∏™‰∏çÂêåÂüüÁöÑ CDN ‰∏äÔºåÂèØ‰ª•ÁªïÂºÄËØ•ÈôêÂà∂</li>\n<li>CDN Ê≤°Êúâ CookieÔºå‰ΩøÁî® CDN ÂèØ‰ª•ÂáèÂ∞ë Cookie</li>\n<li>CDN ‰ºöËá™Âä®ÂêàÂπ∂ËÑöÊú¨Êñá‰ª∂Á≠âÔºåÂáèÂ∞ëËØ∑Ê±ÇÊï∞Èáè</li>\n<li>‰ΩÜÊòØÔºåCDN ÂêåÊó∂‰πüÂ¢ûÂä†‰∫ÜÂüüÂêçÔºåÂ¢ûÂ§ß‰∫ÜÂêåÊó∂ËØ∑Ê±ÇÊï∞Èáè</li>\n</ul>\n</li>\n<li><strong>ÊúçÂä°Âô®ÁºìÂ≠òÔºö</strong>Â∞Ü‰∏çÂèòÁöÑÊï∞ÊçÆ„ÄÅÈ°µÈù¢ÁºìÂ≠òÂà∞<strong>ÂÜÖÂ≠ò</strong>Êàñ<strong>ËøúÁ®ãÂ≠òÂÇ®</strong>ÔºàÂ¶Ç Redis Á≠âÔºâ‰∏ä</li>\n<li><strong>ÊµèËßàÂô®ÁºìÂ≠ò</strong>: ÈÄöËøáËÆæÁΩÆËØ∑Ê±ÇÁöÑËøáÊúüÊó∂Èó¥ÔºåÂ∞ÜÂêÑÁßç‰∏çÂ∏∏ÂèòÁöÑÊï∞ÊçÆËøõË°åÁºìÂ≠òÔºåÂêàÁêÜËøêÁî®ÊµèËßàÂô®ÁºìÂ≠òÔºåÁº©Áü≠Êï∞ÊçÆÁöÑËé∑ÂèñÊó∂Èó¥<ul>\n<li><a href=\"https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/cookie.html\">Cookie</a></li>\n<li><a href=\"https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/web-storage.html\">WebStorage</a><ul>\n<li>LocalStorage</li>\n<li>SessionStorage</li>\n</ul>\n</li>\n<li>IndexDB</li>\n<li><a href=\"https://tsejx.github.io/JavaScript-Guidebook/html5-scripting-programming/offline-and-storage/service-worker.html\">ServiceWorker</a></li>\n<li>AppCacheÔºöÈááÁî® mainfest Êñá‰ª∂ËøõË°åÁºìÂ≠ò</li>\n</ul>\n</li>\n</ul>\n<p><strong>Áõ∏ÂÖ≥ÈìæÊé•Ôºö</strong></p>\n<ul>\n<li><a href=\"https://www.zhihu.com/question/20790576\" target=\"_blank\" rel=\"noopener\">Â§ßÂÖ¨Âè∏ÈáåÊÄéÊ†∑ÂºÄÂèëÂíåÈÉ®ÁΩ≤ÂâçÁ´Ø‰ª£Á†ÅÔºü</a></li>\n<li><a href=\"https://link.juejin.im/?target=https%3A%2F%2Fimququ.com%2Fpost%2Fenhance-security-for-ls-code.html\" target=\"_blank\" rel=\"noopener\">‰ΩøÁî® SRI Â¢ûÂº∫ LocalStorage ‰ª£Á†ÅÂÆâÂÖ®</a></li>\n</ul>\n<h1 id=\"ÊúçÂä°Á´ØÂ±ÇÈù¢\"><a href=\"#ÊúçÂä°Á´ØÂ±ÇÈù¢\" class=\"headerlink\" title=\"ÊúçÂä°Á´ØÂ±ÇÈù¢\"></a>ÊúçÂä°Á´ØÂ±ÇÈù¢</h1><p>Áî±‰∫éÊú¨ÊñáÂè™Ê∂âÂèäÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÔºå‰ΩÜ‰∏∫Ê±ÇÊµÅÁ®ãÂÆåÊï¥ÔºåÁÆÄÂçïÁΩóÂàó‰∏éÊúçÂä°Á´ØÁõ∏ÂÖ≥ÁöÑ‰ºòÂåñÊñπÊ°àÁöÑÂ∏∏ËßÅÊâãÊÆµ„ÄÇ</p>\n<ul>\n<li>Â§öÂüüÂêçËµÑÊ∫êÂä†ËΩΩ</li>\n<li>Ë¥üËΩΩÂùáË°°</li>\n<li>Êï∞ÊçÆÁºìÂ≠ò</li>\n<li>ÂèçÂêë‰ª£ÁêÜ</li>\n</ul>\n<h1 id=\"ÂÆ¢Êà∑Á´ØÂ±ÇÈù¢\"><a href=\"#ÂÆ¢Êà∑Á´ØÂ±ÇÈù¢\" class=\"headerlink\" title=\"ÂÆ¢Êà∑Á´ØÂ±ÇÈù¢\"></a>ÂÆ¢Êà∑Á´ØÂ±ÇÈù¢</h1><ul>\n<li>ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè/Â§ßÂ∞è</li>\n<li>ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ</li>\n<li>Áî®Êà∑‰ΩìÈ™å</li>\n</ul>\n<h2 id=\"ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè-Â§ßÂ∞è\"><a href=\"#ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè-Â§ßÂ∞è\" class=\"headerlink\" title=\"ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè/Â§ßÂ∞è\"></a>ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè/Â§ßÂ∞è</h2><ul>\n<li><strong>ÂéãÁº©ÈùôÊÄÅËµÑÊ∫êÔºåÊ∏ÖÈô§Êó†Áî®‰ª£Á†Å</strong><ul>\n<li>Tree Shaking Êó†Áî®‰ª£Á†ÅÁßªÈô§</li>\n<li>UglifyJs Ê∑∑Ê∑Ü / ÂéãÁº©‰ª£Á†Å</li>\n<li>Code Spliting ‰ª£Á†ÅÂàÜÂâ≤ÔºàËµÑÊ∫êÊåâÈúÄÂä†ËΩΩÊàñÂπ∂Ë°åÂä†ËΩΩÔºâ</li>\n</ul>\n</li>\n<li><strong>ÂºÄÂêØ Gzip ÂéãÁº©</strong><ul>\n<li>ËØ∑Ê±ÇÂ§¥ <code>Accept-Encoding: gzip, deflate</code></li>\n<li>ÂìçÂ∫îÂ§¥ <code>Content-Encoding: gzip</code></li>\n<li>Gzip ËÉΩÂ§üÂéãÁº©‰ªª‰ΩïÊñáÊú¨Á±ªÂûãÁöÑÂìçÂ∫îÔºåÂåÖÊã¨ HTMl„ÄÅXML Âíå JSON</li>\n<li>Â∑≤ÁªèÂéãÁº©ËøáÁöÑÂÜÖÂÆπÂ¶ÇÂõæÁâá„ÄÅÂíå PDF ‰∏çË¶Å‰ΩøÁî® GzipÔºåËøô‰∫õËµÑÊ∫êÂÜÖÂÆπÊú¨Ë∫´‰ΩìÁßØÂ∞±Â∞èÔºåÂÜç‰ΩøÁî® Gzip ÂèçËÄå‰ºöÂ¢ûÂä†ËµÑÊ∫ê‰∏ãËΩΩÊó∂Èó¥ÔºåÊµ™Ë¥π CPU ËµÑÊ∫êÔºåËÄå‰∏îÊúâÂ¢ûÂä†Êñá‰ª∂‰ΩìÁßØÁöÑÂèØËÉΩ</li>\n</ul>\n</li>\n<li><strong>Â§ö‰ªΩÁºñËØëÊñá‰ª∂ÊåâÊù°‰ª∂ÂºïÂÖ•</strong><ul>\n<li>ÈíàÂØπÁé∞‰ª£ÊµèËßàÂô®Áõ¥Êé•Áªô ES6 Êñá‰ª∂ÔºåÂè™ÈíàÂØπ‰ΩéÁ´ØÊµèËßàÂô®ÂºïÁî®ÁºñËØëÂêéÁöÑ ES5 Êñá‰ª∂</li>\n<li>ÂèØ‰ª•Âà©Áî® <code>&lt;script type=&quot;module&quot;&gt; / &lt;script type=&quot;module&quot;&gt;</code>ËøõË°åÊù°‰ª∂ÂºïÂÖ•Áî®</li>\n</ul>\n</li>\n<li><strong>Âä®ÊÄÅ Polyfill</strong><ul>\n<li>Âè™ÈíàÂØπ‰∏çÊîØÊåÅÁöÑÊµèËßàÂô®ËøêË°åÁéØÂ¢ÉÂºïÂÖ• Polyfill</li>\n</ul>\n</li>\n<li><strong>ÂõæÁâá‰ºòÂåñ</strong><ul>\n<li>Ê†πÊçÆ‰∏öÂä°Âú∫ÊôØÔºå‰∏é UI Êé¢ËÆ®ÈÄâÊã© <strong>ÂêàÈÄÇË¥®ÈáèÔºåÂêàÈÄÇÂ∞∫ÂØ∏</strong></li>\n<li>Ê†πÊçÆÈúÄÊ±ÇÂíåÂπ≥Âè∞ÔºåÈÄâÊã© <strong>ÂêàÈÄÇÊ†ºÂºè</strong>Ôºå‰æãÂ¶ÇÈùûÈÄèÊòéÊó∂ÂèØÁî® jpgÔºõÈùûËãπÊûúÁ´ØÔºå‰ΩøÁî® webp</li>\n<li>Â∞èÂõæÁâáÂêàÊàê <strong>Èõ™Á¢ßÂõæ CSS Sprite</strong>Ôºå‰Ωé‰∫é 5K ÁöÑÂõæÁâáÂèØ‰ª•ËΩ¨Êç¢Êàê B<strong>ase64</strong> ÂÜÖÂµå</li>\n<li>ÂêàÈÄÇÂú∫ÊôØ‰∏ãÔºå‰ΩøÁî® I<strong>confont</strong> ÊàñËÄÖ <strong>SVG</strong></li>\n<li>ÂéãÁº© favicon.ico Âπ∂ÁºìÂ≠ò</li>\n<li>‰ΩøÁî® Blob ÂºÇÊ≠•Âä†ËΩΩ</li>\n<li>‰ΩøÁî® <a href=\"https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FRevillWeb%2Fimg-2\" target=\"_blank\" rel=\"noopener\">img-2</a> ‰ª£Êõø img Ê†áÁ≠æ</li>\n<li>ÂµåÂÖ•ËµÑÊ∫êÔºöBase64 ÂµåÂÖ•ËµÑÊ∫êÔºàÈíàÂØπÂ∞èÁöÑÈùôÊÄÅÂõæÁâáËµÑÊ∫êÔºâ</li>\n</ul>\n</li>\n<li><strong>Â≠ó‰Ωì‰ºòÂåñ</strong><ul>\n<li>ÊµèËßàÂô®‰∏∫‰∫ÜÈÅøÂÖç FOUTÔºàFlash Of Unstyled TextÔºâÔºå‰ºöÂ∞ΩÈáèÁ≠âÂæÖÂ≠ó‰ΩìÂä†ËΩΩÂÆåÊàêÂêéÔºåÂÜçÊòæÁ§∫Â∫îÁî®‰∫ÜËØ•Â≠ó‰ΩìÁöÑÂÜÖÂÆπ„ÄÇÂ∏¶Êù•‰∫Ü FOITÔºàFlash Of Invisible Text ÈóÆÈ¢òÔºâÔºåÂØºËá¥Á©∫ÁôΩ</li>\n<li>ËÆæÁΩÆÂ§öÂ≠ó‰ΩìÔºåÈôçÁ∫ßÊñπÊ≥ïÔºö‰ΩøÁî®ÈªòËÆ§Â≠ó‰Ωì</li>\n<li>ÂºÇÊ≠•Âä†ËΩΩÂ≠ó‰ΩìÊñá‰ª∂ÔºöÈÄöËøáÂºÇÊ≠•Âä†ËΩΩ CSSÔºåÂç≥ÂèØÈÅøÂÖçÂ≠ó‰ΩìÈòªÂ°ûÊ∏≤ÊüìÔºåËøòÊòØ‰ºöÁ©∫ÁôΩ</li>\n</ul>\n</li>\n<li><strong>Â§öÂ™í‰Ωì‰ºòÂåñ</strong><ul>\n<li>Èü≥ËßÜÈ¢ë</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ\"><a href=\"#ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ\" class=\"headerlink\" title=\"ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ\"></a>ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ</h2><ul>\n<li><strong>‰ºòÂåñÂä†ËΩΩÈ°∫Â∫è</strong><ul>\n<li>CSS Ê†∑ÂºèÊñá‰ª∂ÊîæÂú®ÊñáÊ°£ <code>&lt;head&gt;</code> Ê†áÁ≠æ‰∏≠ÂºïÂÖ•<ul>\n<li>ÊääÊ†∑ÂºèË°®ÊîæÂú® <code>&lt;head&gt;</code> ‰∏≠ÂèØ‰ª•ËÆ©È°µÈù¢Ê∏êËøõÊ∏≤ÊüìÔºåÂ∞ΩÊó©ÂëàÁé∞ËßÜËßâÂèçÈ¶àÔºåÁªôÁî®Êà∑Âä†ËΩΩÈÄüÂ∫¶ÂæàÂø´ÁöÑÊÑüËßâ</li>\n</ul>\n</li>\n<li>JavaScript ËÑöÊú¨Êñá‰ª∂ÊîæÂú® <code>&lt;body&gt;</code> Ê†áÁ≠æÂ∫ïÈÉ®ÂºïÂÖ•<ul>\n<li><strong>ÂéüÂõ†</strong>ÔºöÂä†ËΩΩËÑöÊú¨Êñá‰ª∂‰ºöÂØπÂêéÁª≠ËµÑÊ∫êÊ∏≤ÊüìÈÄ†ÊàêÈòªÂ°û</li>\n<li><strong>ÊñπÊ°à</strong>ÔºöÂà∂ÂÆöÂêàÁêÜÁöÑËÑöÊú¨Êñá‰ª∂Âä†ËΩΩÁ≠ñÁï•<ul>\n<li>Âä®ÊÄÅËÑöÊú¨Âä†ËΩΩÔºàÂºÇÊ≠•Âä†ËΩΩ„ÄÅÂª∂ËøüÂä†ËΩΩ„ÄÅÊåâÈúÄÂä†ËΩΩÔºâ</li>\n<li>Ê∑ªÂä† <code>defer</code> Â±ûÊÄßÁöÑËÑöÊú¨Êñá‰ª∂ÊòØÂú® HTML Ëß£ÊûêÂÆå‰πãÂêéÊâç‰ºöÊâßË°å„ÄÇÂ¶ÇÊûúÊòØÂ§ö‰∏™ÔºåÊåâÁÖßÂä†ËΩΩÁöÑÈ°∫Â∫è‰æùÊ¨°ÊâßË°å</li>\n<li>Ê∑ªÂä† <code>async</code> Â±ûÊÄßÁöÑËÑöÊú¨Êñá‰ª∂ÊòØÂú®Âä†ËΩΩ‰πãÂêéÁ´ãÂç≥ÊâßË°åÔºåÂ¶ÇÊûú HTML ËøòÊ≤°Ëß£ÊûêÂÆåÔºå‰ºöÈòªÂ°û HTML ÁªßÁª≠Ëß£Êûê„ÄÇÂ¶ÇÊûúÊòØÂ§ö‰∏™ÔºåÊâßË°åÈ°∫Â∫èÂíåÂä†ËΩΩÈ°∫Â∫èÊó†ÂÖ≥</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>ÂΩ±ÂìçÈ¶ñÂ±èÁöÑÔºå‰ºòÂÖàÁ∫ßÂæàÈ´òÁöÑËÑöÊú¨Êñá‰ª∂‰πüÂèØ‰ª• <code>&lt;head&gt;</code> Êàñ <code>&lt;body&gt;</code> È¶ñÂ≠êËäÇÁÇπÂºïÂÖ•ÔºåÁîöËá≥Âà©Áî® <code>style</code> Êàñ <code>script</code> ÂÜÖËÅî</li>\n</ul>\n</li>\n<li><p><strong>ËµÑÊ∫êÂä†ËΩΩÊñπÂºè</strong></p>\n<ul>\n<li>ÈùûÂÖ≥ÈîÆÊÄßÁöÑÊñá‰ª∂Â∞ΩÂèØËÉΩÁöÑ<strong>ÂºÇÊ≠•Âä†ËΩΩÂíåÂª∂ËøüÂä†ËΩΩ</strong>ÔºåÈÅøÂÖçÈòªÂ°ûÈ¶ñÈ°µÊ∏≤Êüì</li>\n<li><strong>ËµÑÊ∫êÊèêÁ§∫Êåá‰ª§</strong><ul>\n<li>Preload</li>\n<li>Prefetch</li>\n<li>Preconnect</li>\n<li>Subresource</li>\n</ul>\n</li>\n<li><strong>ÂºÇÊ≠•Âä†ËΩΩÔºàÈ¢ÑÂä†ËΩΩÔºâ</strong><ul>\n<li>Âà©Áî®ÊµèËßàÂô®Á©∫Èó≤Êó∂Èó¥ËØ∑Ê±ÇÂ∞ÜÊù•Ë¶Å‰ΩøÁî®ÁöÑËµÑÊ∫êÔºå‰ª•‰æøÁî®Êà∑ËÆøÈóÆ‰∏ã‰∏ÄÈ°µÈù¢Êó∂Êõ¥Âø´Âú∞ÂìçÂ∫î</li>\n<li>È¢ÑÂà§Áî®Êà∑ÁöÑË°å‰∏∫ÔºåÊèêÂâçÂä†ËΩΩÊâÄÈúÄË¶ÅÁöÑËµÑÊ∫êÔºåÂàôÂèØ‰ª•Âø´ÈÄüÂú∞ÂìçÂ∫îÁî®Êà∑ÁöÑÊìç‰ΩúÔºå‰ªéËÄåÊâìÈÄ†Êõ¥Â•ΩÁöÑÁî®Êà∑‰ΩìÈ™å„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÈÄöËøáÊèêÂâçÂèëËµ∑ÁΩëÁªúËØ∑Ê±ÇÔºå‰πüÂèØ‰ª•ÂáèÂ∞ëÁî±‰∫éÁΩëÁªúËøáÊÖ¢ÂØºËá¥ÁöÑÁî®Êà∑Á≠âÂæÖÊó∂Èó¥„ÄÇ</li>\n<li>Preload ËßÑËåÉ W3CPreload<ul>\n<li>rel ÊòéÁ°ÆÂëäÁü•ÊµèËßàÂô®ÂêØÁî® preload ÂäüËÉΩ</li>\n<li>as ÊòéÁ°ÆÈúÄË¶ÅÈ¢ÑÂä†ËΩΩËµÑÊ∫êÁöÑÁ±ªÂûãÔºåÂåÖÊã¨ JavaScript„ÄÅImages„ÄÅCSS„ÄÅMedia Á≠â</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>Âª∂ËøüÂä†ËΩΩÔºàÊáíÂä†ËΩΩ„ÄÅÊåâÈúÄÂä†ËΩΩÔºâ</strong><ul>\n<li>È°µÈù¢ÂàùÂßãÂä†ËΩΩÊó∂Â∞ÜÈùûÁªùÂØπÂøÖÈ°ªÁöÑËµÑÊ∫êÂª∂ËøüÂä†ËΩΩÔºå‰ªéËÄåÊèêÈ´òÈ°µÈù¢ÁöÑÂä†ËΩΩÂíåÂìçÂ∫îÈÄüÂ∫¶<ul>\n<li>ÈùûÈ¶ñÂ±è‰ΩøÁî®ÁöÑÊï∞ÊçÆ„ÄÅÊ†∑Âºè„ÄÅËÑöÊú¨„ÄÅÂõæÁâáÁ≠â</li>\n<li>Áî®Êà∑‰∫§‰∫íÊó∂Êâç‰ºöÊòæÁ§∫ÁöÑÂÜÖÂÆπ</li>\n</ul>\n</li>\n<li><strong>ÂÆûÁé∞ÊñπÂºèÔºö</strong><ul>\n<li>ËôöÊãü‰ª£ÁêÜÊäÄÊúØÔºöÁúüÊ≠£Âä†ËΩΩÁöÑÂØπË±°‰∫ãÂÖàÊèê‰æõ‰∏Ä‰∏™‰ª£ÁêÜÊàñËÄÖËØ¥Âç†‰ΩçÁ¨¶„ÄÇÊúÄÂ∏∏ËßÅÁöÑÂú∫ÊôØÊòØÂú®ÂõæÁâáÁöÑÊáíÂä†ËΩΩ‰∏≠ÔºåÂÖàÁî®‰∏ÄÁßç loading ÁöÑÂõæÁâáÂç†‰ΩçÔºåÁÑ∂ÂêéÂÜçÁî®ÂºÇÊ≠•ÁöÑÊñπÂºèÂä†ËΩΩÂõæÁâá„ÄÇÁ≠âÁúüÊ≠£ÂõæÁâáÂä†ËΩΩÂÆåÊàêÂêéÂ∞±Â°´ÂÖÖËøõÂõæÁâáËäÇÁÇπ‰∏≠Âéª„ÄÇ</li>\n<li>ÊÉ∞ÊÄßÂàùÂßãÂåñÊäÄÊúØÔºöÂ∞Ü‰ª£Á†ÅÂàùÂßãÂåñÁöÑÊó∂Êú∫Êé®ËøüÔºàÁâπÂà´ÊòØÈÇ£‰∫õÂàùÂßãÂåñÊ∂àËÄóËæÉÂ§ßÁöÑËµÑÊ∫êÔºâ</li>\n</ul>\n</li>\n<li><strong>ÈÄâÊã©Êó∂Êú∫Ôºö</strong><ul>\n<li>ÊªöÂä®Êù°ÁõëÂê¨ÔºöÂ§ßÂûãÂõæÁâáÊµÅÂú∫ÊôØÔºåÈÄöËøáÂØπÁî®Êà∑ÊªöÂä®ÁªìÊùüÂå∫ÂüüËøõË°åËÆ°ÁÆóÔºå‰ªéËÄåÂè™Âä†ËΩΩÁõÆÊ†áÂå∫ÂüüÁöÑËµÑÊ∫êÔºåËøôÊ†∑ÂèØ‰ª•ÂÆûÁé∞ËäÇÊµÅÁöÑÁõÆÁöÑ</li>\n<li>‰∫ã‰ª∂ÂõûË∞ÉÔºöÂ∏∏Áî®‰∫éÈúÄË¶ÅÁî®Êà∑‰∫§‰∫íÁöÑÂú∞ÊñπÔºåÂ¶ÇÁÇπÂáªÂä†ËΩΩÊõ¥Â§ö‰πãÁ±ªÁöÑÔºåËøô‰∫õËµÑÊ∫êÂæÄÂæÄÈÄöËøáÂú®Áî®Êà∑‰∫§‰∫íÁöÑÁû¨Èó¥ÔºàÂ¶ÇÁÇπÂáª‰∏Ä‰∏™Ëß¶ÂèëÊåâÈíÆÔºâÔºåÂèëËµ∑ AJAX ËØ∑Ê±ÇÊù•Ëé∑ÂèñËµÑÊ∫ê„ÄÇÊØîËæÉÁÆÄÂçïÔºåÂú®Ê≠§‰∏çÂÜçËµòËø∞„ÄÇ</li>\n</ul>\n</li>\n<li>ÈÅµÂæ™Ê∏êËøõÂ¢ûÂº∫ÁêÜÂøµÁêÜÂøµÂºÄÂèëÁΩëÁ´ôÔºöJavaScript Áî®‰∫éÂ¢ûÂº∫Áî®Áî®Êà∑‰ΩìÈ™åÔºå‰ΩÜÊ≤°ÊúâÔºà‰∏çÊîØÊåÅÔºâ JavaScript ‰πüËÉΩÊ≠£Â∏∏Â∑•‰ΩúÔºåÂÆåÂÖ®ÂèØ‰ª•Âª∂ËøüÂä†ËΩΩ JavaScript</li>\n<li>Â∞ÜÈ¶ñÂ±è‰ª•Â§ñÁöÑ HTML ÊîæÂú®‰∏çÊ∏≤ÊüìÁöÑÂÖÉÁ¥†‰∏≠ÔºåÂ¶ÇÈöêËóèÁöÑ <code>&lt;textarea&gt;</code>ÔºåÊàñËÄÖ <code>type</code> Â±ûÊÄß‰∏∫ÈùûÊâßË°åËÑöÊú¨ÁöÑ <code>&lt;script&gt;</code> Ê†áÁ≠æ‰∏≠ÔºåÂáèÂ∞ëÂàùÂßãÊ∏≤ÊüìÁöÑ DOM ÂÖÉÁ¥†Êï∞ÈáèÔºåÊèêÈ´òÈÄüÂ∫¶„ÄÇÁ≠âÈ¶ñÂ±èÂä†ËΩΩÂÆåÊàêÊàñËÄÖÁî®Êà∑Êìç‰ΩúÊó∂ÔºåÂÜçÂéªÊ∏≤ÊüìÂâ©‰ΩôÁöÑÈ°µÈù¢ÂÜÖÂÆπ„ÄÇ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong>ËµÑÊ∫êÊ∏≤Êüì</strong></p>\n<ul>\n<li>ÈÅøÂÖçÈáçÊéíÔºåÂáèÂ∞ëÈáçÁªòÔºåÈÅøÂÖçÁôΩÂ±èÔºåÊàñËÄÖ‰∫§‰∫íËøáÁ®ã‰∏≠ÁöÑÂç°È°ø</li>\n<li>ÈÄöËøá <a href=\"https://csstriggers.com/\" target=\"_blank\" rel=\"noopener\">CSS Trigger</a> Êü•ËØ¢Âì™‰∫õÊ†∑ÂºèÂ±ûÊÄß‰ºöËß¶ÂèëÈáçÊéí‰∏éÈáçÁªò</li>\n<li><strong>ÂáèÂ∞ëÈáçÊéíÁöÑÊñπÊ≥ï</strong><ul>\n<li>È°µÈù¢ÂàùÂßãÂåñ</li>\n<li>ÂáèÂ∞ëÂØπ DOM ÂÖÉÁ¥†ÂÜÖÂÆπÊîπÂèòÔºàÂ¶ÇÔºöÊñáÊú¨ÊîπÂèò„ÄÅÂõæÁâáË¢´Âè¶‰∏Ä‰∏™ÂêåÂ∞∫ÂØ∏ÂÖÉÁ¥†Êõø‰ª£Ôºâ</li>\n<li>ÂáèÂ∞ëÂØπ DOM ÂÖÉÁ¥†Â∞∫ÂØ∏ÊîπÂèòÔºàÂõ†‰∏∫ËæπË∑ù„ÄÅÂ°´ÂÖÖ„ÄÅËæπÊ°ÜÂÆΩÂ∫¶„ÄÅÂÆΩÂ∫¶„ÄÅÈ´òÂ∫¶Á≠âÂ±ûÊÄßÊîπÂèòÔºâ</li>\n<li>ÂáèÂ∞ëÂØπ DOM ÂÖÉÁ¥†‰ΩçÁΩÆÊîπÂèò</li>\n<li>ÂáèÂ∞ëÂØπÂèØËßÅ DOM ÂÖÉÁ¥†ÁöÑÊìç‰ΩúÔºàÂ¶ÇÔºöÂ¢ûÂä†„ÄÅÁßªÂä®ÂíåÂà†Èô§Ôºâ<ul>\n<li>Â§öÊ¨° DOM Êìç‰ΩúÂêàÂπ∂‰∏∫‰∏ÄÊ¨°Â§ÑÁêÜ</li>\n<li>Â§ßÈáèÊìç‰ΩúÊó∂ÔºåÂèØÂ∞Ü DOM ËÑ±Á¶ªÊñáÊ°£ÊµÅÊàñËÄÖÈöêËóèÔºåÂæÖÊìç‰ΩúÂÆåÊàêÂêéÂÜçÈáçÊñ∞ÊÅ¢Â§ç</li>\n</ul>\n</li>\n<li>ÂáèÂ∞ëÊóãËΩ¨Â±èÂπïÁöÑÊìç‰Ωú</li>\n<li>ÂáèÂ∞ëÊîπÂèòÊµèËßàÂô®Á™óÂè£Â∞∫ÂØ∏ÁöÑÊìç‰Ωú</li>\n<li>ÂáèÂ∞ëËÆæÁΩÆÂÖÉÁ¥† style Â±ûÊÄß</li>\n<li>ÂáèÂ∞ëËÆæÁΩÆÂÖÉÁ¥† class Â±ûÊÄß</li>\n<li>ÈÄöËøáÂª∂ËøüËÆøÈóÆÂ∏ÉÂ±Ä‰ø°ÊÅØÈÅøÂÖçÈáçÊéíÁâà<ul>\n<li>Â¶Ç <code>offsetWidth</code>„ÄÅ<code>offsetHeight</code> Âíå <code>getComputedStyle</code> Á≠â</li>\n<li>ÂéüÂõ†ÔºöÊµèËßàÂô®ÈúÄË¶ÅËé∑ÂèñÊúÄÊñ∞ÂáÜÁ°ÆÁöÑÂÄºÔºåÂõ†Ê≠§ÂøÖÈ°ªÁ´ãÂç≥ËøõË°åÈáçÊéíÔºåËøôÊ†∑‰ºöÁ†¥Âùè‰∫ÜÊµèËßàÂô®ÁöÑÈòüÂàóÊï¥ÂêàÔºåÂ∞ΩÈáèÂ∞ÜÂÄºËøõË°åÁºìÂ≠ò‰ΩøÁî®</li>\n</ul>\n</li>\n<li>ÂáèÂ∞ëÂú® HTML ‰∏≠Áº©ÊîæÂõæÁâá</li>\n<li>ÈÅøÂÖçÂØπÂ§ßÈÉ®ÂàÜÈ°µÈù¢ËøõË°åÈáçÊéíÁâà<ul>\n<li>‰ΩøÁî®ÁªùÂØπÂùêÊ†áÂÆö‰ΩçÈ°µÈù¢Âä®ÁîªÁöÑÂÖÉÁ¥†Ôºå‰ΩøÂÆÉ‰Ωç‰∫éÈ°µÈù¢Â∏ÉÂ±ÄÊµÅ‰πãÂ§ñ</li>\n<li>ÂêØÂä®ÂÖÉÁ¥†Âä®ÁîªÔºåÂΩìÂÆÉÊâ©Â§ßÊó∂ÔºåÂÆÉ‰∏¥Êó∂Ë¶ÜÁõñÈÉ®ÂàÜÈ°µÈù¢</li>\n<li>ÂΩìÂä®ÁîªÁªìÊùüÊó∂ÔºåÈáçÊñ∞ÂÆö‰ΩçÔºå‰ªéËÄåÂè™‰∏ÄÊ¨°‰∏ãÁßªÊñáÊ°£ÂÖ∂‰ªñÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆ</li>\n</ul>\n</li>\n<li>ÂºÄÂêØ GPU Âä†ÈÄü<ul>\n<li>transform</li>\n<li>opacity</li>\n<li>filter</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>Áõ∏ÂÖ≥ÈìæÊé•Ôºö</strong></p>\n<ul>\n<li><a href=\"https://juejin.im/post/59b73ef75188253db70acdb5#heading-5\" target=\"_blank\" rel=\"noopener\">ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñ‰πãÂä†ËΩΩÊäÄÊúØ</a></li>\n<li><a href=\"https://juejin.im/post/5b5984b851882561da216311\" target=\"_blank\" rel=\"noopener\">ËµÑÊ∫êÊèêÁ§∫‚Äî‚Äî‰ªÄ‰πàÊòØ PreloadÔºåPrefetch Âíå PreconnectÔºü</a></li>\n<li><a href=\"https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FGoogleChrome%2Fpreload-webpack-plugin\" target=\"_blank\" rel=\"noopener\">preload-webpack-plugin</a></li>\n<li><a href=\"https://link.juejin.im/?target=https%3A%2F%2Fwww.smashingmagazine.com%2F2016%2F02%2Fpreload-what-is-it-good-for%2F\" target=\"_blank\" rel=\"noopener\">Preload ÊäÄÊúØÁªÜËäÇ</a></li>\n</ul>\n<h2 id=\"Áî®Êà∑‰ΩìÈ™å\"><a href=\"#Áî®Êà∑‰ΩìÈ™å\" class=\"headerlink\" title=\"Áî®Êà∑‰ΩìÈ™å\"></a>Áî®Êà∑‰ΩìÈ™å</h2><ul>\n<li>Ë∞®ÊÖéÊéßÂà∂Â•Ω Web Â≠ó‰ΩìÔºå‰∏Ä‰∏™Â§ßÂ≠ó‰ΩìÂåÖË∂≥Â§üËÆ©‰Ω†Âäü‰∫è‰∏ÄÁØë<ul>\n<li>ÊéßÂà∂Â≠ó‰ΩìÂåÖÁöÑÂä†ËΩΩÊó∂Êú∫</li>\n<li>Â¶ÇÊûú‰ΩøÁî®ÁöÑÂ≠ó‰ΩìÊúâÈôêÔºåÈÇ£Â∞ΩÂèØËÉΩÂè™Â∞Ü‰ΩøÁî®ÁöÑÊñáÂ≠óÂçïÁã¨ÊâìÂåÖÔºåËÉΩÊúâÊïàÂáèÂ∞ë‰ΩìÁßØ</li>\n</ul>\n</li>\n<li>ÂàÜÊ∏ÖËΩªÈáçÁºìÊÄ•<ul>\n<li>ÈáçË¶ÅÁöÑÂÖÉÁ¥†‰ºòÂÖàÊ∏≤Êüì</li>\n<li>ËßÜÁ™óÂÜÖÁöÑÂÖÉÁ¥†‰ºòÂÖàÊ∏≤Êüì</li>\n</ul>\n</li>\n<li>ÊúçÂä°Á´ØÊ∏≤ÊüìÔºàSSRÔºâ<ul>\n<li>ÂáèÂ∞ëÈ¶ñÂ±èÈúÄË¶ÅÁöÑÊï∞ÊçÆÈáèÔºåÂâîÈô§ÂÜó‰ΩôÊï∞ÊçÆÂíåËØ∑Ê±Ç</li>\n<li>ÊéßÂà∂Â•ΩÁºìÂ≠òÔºåÂØπÊï∞ÊçÆ/È°µÈù¢ËøõË°åÂêàÁêÜÁöÑÁºìÂ≠ò</li>\n<li>È°µÈù¢ÁöÑËØ∑Ê±Ç‰ΩøÁî®ÊµÅÁöÑÂΩ¢ÂºèËøõË°å‰º†ÈÄí</li>\n</ul>\n</li>\n<li>‰ºòÂåñÁî®Êà∑ÊÑüÁü•<ul>\n<li>Âà©Áî®‰∏Ä‰∫õÂä®Áîª <strong>ËøáÊ∏°ÊïàÊûú</strong>ÔºåËÉΩÊúâÊïàÂáèÂ∞ëÁî®Êà∑ÂØπÂç°È°øÁöÑÊÑüÁü•</li>\n<li>Â∞ΩÂèØËÉΩÂà©Áî® <strong>È™®Êû∂Â±èÔºàSkeletonÔºâ/ Loading</strong> Á≠âÂáèÂ∞ëÁî®Êà∑ÂØπÁôΩÂ±èÁöÑÊÑüÁü•</li>\n<li>Âä®ÁîªÂ∏ßÊï∞Â∞ΩÈáè‰øùËØÅÂú® <strong>30 Â∏ß</strong> ‰ª•‰∏äÔºå‰ΩéÂ∏ßÊï∞„ÄÅÂç°È°øÁöÑÂä®ÁîªÂÆÅÊÑø‰∏çË¶Å</li>\n<li>JavaScript ÊâßË°åÊó∂Èó¥ÈÅøÂÖçË∂ÖËøá 100ms ÔºåË∂ÖËøáÁöÑËØùÂ∞±ÈúÄË¶ÅÂÅöÔºö<ul>\n<li>ÂØªÊâæÂèØÁºìÂ≠òÁöÑÁÇπ</li>\n<li>‰ªªÂä°ÁöÑÂàÜÂâ≤ÂºÇÊ≠•Êàñ web worker ÊâßË°å</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"ÁºñÁ†ÅÂ±ÇÈù¢\"><a href=\"#ÁºñÁ†ÅÂ±ÇÈù¢\" class=\"headerlink\" title=\"ÁºñÁ†ÅÂ±ÇÈù¢\"></a>ÁºñÁ†ÅÂ±ÇÈù¢</h1><p>ÁºñÁ†Å‰ºòÂåñÔºåÊåáÁöÑÂ∞±ÊòØÂú®‰ª£Á†ÅÁºñÂÜôÊó∂ÁöÑÔºåÈÄöËøá‰∏Ä‰∫õ <strong>ÊúÄ‰Ω≥ÂÆûË∑µ</strong>ÔºåÊèêÂçá‰ª£Á†ÅÁöÑÊâßË°åÊÄßËÉΩ„ÄÇÈÄöÂ∏∏ËøôÂπ∂‰∏ç‰ºöÂ∏¶Êù•ÈùûÂ∏∏Â§ßÁöÑÊî∂ÁõäÔºå‰ΩÜËøôÂ±û‰∫é<strong>Á®ãÂ∫èÂëòÁöÑËá™Êàë‰øÆÂÖª</strong>ÔºåËÄå‰∏îËøô‰πüÊòØÈù¢ËØï‰∏≠ÁªèÂ∏∏Ë¢´ÈóÆÂà∞ÁöÑ‰∏Ä‰∏™ÊñπÈù¢ÔºåËÄÉÂØüËá™ÊàëÁÆ°ÁêÜ‰∏éÁªÜËäÇÁöÑÂ§ÑÁêÜ„ÄÇ</p>\n<h2 id=\"JavaScript-‰ºòÂåñ\"><a href=\"#JavaScript-‰ºòÂåñ\" class=\"headerlink\" title=\"JavaScript ‰ºòÂåñ\"></a>JavaScript ‰ºòÂåñ</h2><ul>\n<li><strong>Êï∞ÊçÆËØªÂèñ</strong><ul>\n<li>ÈÄöËøá‰ΩúÁî®ÂüüÈìæ / ÂéüÂûãÈìæËØªÂèñÂèòÈáèÊàñÊñπÊ≥ïÊó∂ÔºåÈúÄË¶ÅÊõ¥Â§öÁöÑËÄóÊó∂Ôºå‰∏îË∂äÈïøË∂äÊÖ¢</li>\n<li>ÂØπË±°ÂµåÂ•óË∂äÊ∑±ÔºåËØªÂèñÂÄº‰πüË∂äÊÖ¢</li>\n<li>ÊúÄ‰Ω≥ÂÆûË∑µÔºö<ul>\n<li>Â∞ΩÈáèÂú®Â±ÄÈÉ®‰ΩúÁî®Âüü‰∏≠ËøõË°å <strong>ÂèòÈáèÁºìÂ≠ò</strong></li>\n<li>ÈÅøÂÖçÂµåÂ•óËøáÊ∑±ÁöÑÊï∞ÊçÆÁªìÊûÑÔºå<strong>Êï∞ÊçÆÊâÅÂπ≥Âåñ</strong> ÊúâÂà©‰∫éÊï∞ÊçÆÁöÑËØªÂèñÂíåÁª¥Êä§</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>Âæ™ÁéØ</strong>ÔºöÂæ™ÁéØÈÄöÂ∏∏ÊòØÁºñÁ†ÅÊÄßËÉΩÁöÑÂÖ≥ÈîÆÁÇπ<ul>\n<li>‰ª£Á†ÅÁöÑÊÄßËÉΩÈóÆÈ¢ò‰ºöÂú®Âæ™ÁéØ‰∏≠Ë¢´ÊåáÊï∞ÂÄçÊîæÂ§ß</li>\n<li>ÊúÄ‰Ω≥ÂÆûË∑µ:<ul>\n<li>Â∞ΩÂèØËÉΩ ÂáèÂ∞ëÂæ™ÁéØÊ¨°Êï∞Ôºõ<ul>\n<li>ÂáèÂ∞ëÈÅçÂéÜÁöÑÊï∞ÊçÆÈáè</li>\n<li>ÂÆåÊàêÁõÆÁöÑÂêéÈ©¨‰∏äÁªìÊùüÂæ™ÁéØ</li>\n</ul>\n</li>\n<li>ÈÅøÂÖçÂú®Âæ™ÁéØ‰∏≠ÊâßË°åÂ§ßÈáèÁöÑËøêÁÆóÔºåÈÅøÂÖçÈáçÂ§çËÆ°ÁÆóÔºåÁõ∏ÂêåÁöÑÊâßË°åÁªìÊûúÂ∫îËØ•‰ΩøÁî®ÁºìÂ≠ò</li>\n<li>JavaScript ‰∏≠‰ΩøÁî® <strong>ÂÄíÂ∫èÂæ™ÁéØ</strong> ‰ºöÁï•ÂæÆÊèêÂçáÊÄßËÉΩ</li>\n<li>Â∞ΩÈáèÈÅøÂÖç‰ΩøÁî® for-in Âæ™ÁéØÔºåÂõ†‰∏∫ÂÆÉ‰ºöÊûö‰∏æÂéüÂûãÂØπË±°ÔºåËÄóÊó∂Â§ß‰∫éÊôÆÈÄöÂæ™ÁéØ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>Êù°‰ª∂ÊµÅÁ®ãÊÄßËÉΩ</strong>ÔºöMap / Object &gt; switch &gt; if-else</li>\n<li><strong>Ê®°ÂùóÂåñ</strong>ÔºöÂ∞ùËØï‰ΩøÁî® <code>import()</code></li>\n</ul>\n<h2 id=\"DOM-‰ºòÂåñ\"><a href=\"#DOM-‰ºòÂåñ\" class=\"headerlink\" title=\"DOM ‰ºòÂåñ\"></a>DOM ‰ºòÂåñ</h2><ul>\n<li>ÂáèÂ∞ë DOM ÁöÑÂ±ÇÁ∫ßÔºåÂèØ‰ª•ÂáèÂ∞ëÊ∏≤ÊüìÂºïÊìéÂ∑•‰ΩúËøáÁ®ã‰∏≠ÁöÑËÆ°ÁÆóÈáè</li>\n<li>ÂáèÂ∞ëËÆøÈóÆ DOM ÁöÑÊ¨°Êï∞ÔºåÂ¶ÇÈúÄÂ§öÊ¨°ÔºåÂ∞Ü DOM ÁºìÂ≠ò‰∫éÂèòÈáè‰∏≠</li>\n<li>‰ΩøÁî®‰∫ã‰ª∂ÂßîÊâòÔºåÈÅøÂÖçÂ§ßÈáèÁöÑ‰∫ã‰ª∂ÁªëÂÆö</li>\n<li>‰ΩøÁî® <code>requestAnimationFrame</code> Êù•ÂÆûÁé∞ËßÜËßâÂèòÂåñÔºö‰∏ÄËà¨Êù•ËØ¥Êàë‰ª¨‰ºö‰ΩøÁî® <code>setTimeout</code> Êàñ <code>setInterval</code> Êù•ÊâßË°åÂä®Áîª‰πãÁ±ªÁöÑËßÜËßâÂèòÂåñÔºå‰ΩÜËøôÁßçÂÅöÊ≥ïÁöÑÈóÆÈ¢òÊòØÔºåÂõûË∞ÉÂ∞ÜÂú®Â∏ß‰∏≠ÁöÑÊüê‰∏™Êó∂ÁÇπËøêË°åÔºåÂèØËÉΩÂàöÂ•ΩÂú®Êú´Â∞æÔºåËÄåËøôÂèØËÉΩÁªèÂ∏∏‰ºö‰ΩøÊàë‰ª¨‰∏¢Â§±Â∏ßÔºåÂØºËá¥Âç°È°ø</li>\n</ul>\n<h2 id=\"CSS-‰ºòÂåñ\"><a href=\"#CSS-‰ºòÂåñ\" class=\"headerlink\" title=\"CSS ‰ºòÂåñ\"></a>CSS ‰ºòÂåñ</h2><ul>\n<li><strong>Â±ÇÁ∫ßÊâÅÂπ≥</strong>ÔºåÈÅøÂÖçËøá‰∫éÂ§öÂ±ÇÁ∫ßÁöÑÈÄâÊã©Âô®ÂµåÂ•ó</li>\n<li><strong>ÁâπÂÆöÁöÑÈÄâÊã©Âô®</strong>ÔºöÂ•ΩËøá‰∏ÄÂ±Ç‰∏ÄÂ±ÇÊü•ÊâæÔºö<code>.xxx-child-text{}</code> ‰ºò‰∫é <code>.xxx .child .text{}</code></li>\n<li><strong>ÂáèÂ∞ë‰ΩøÁî®ÈÄöÈÖçÁ¨¶‰∏éÂ±ûÊÄßÈÄâÊã©Âô®</strong><ul>\n<li>ÈÄâÊã©Âô®Ë∂äÂ§çÊùÇÔºåÂåπÈÖçÁî®ÁöÑÊó∂Èó¥Ë∂äÂ§ö</li>\n</ul>\n</li>\n<li><strong>ÂáèÂ∞ë‰∏çÂøÖË¶ÅÁöÑÂ§ö‰ΩôÂ±ûÊÄß</strong></li>\n<li>‰ΩøÁî® <strong>Âä®ÁîªÂ±ûÊÄß</strong> ÂÆûÁé∞Âä®ÁîªÔºåÂä®ÁîªÊó∂ËÑ±Á¶ªÊñáÊ°£ÊµÅÔºåÂºÄÂêØÁ°¨‰ª∂Âä†ÈÄüÔºå‰ºòÂÖà‰ΩøÁî® CSS Âä®Áîª</li>\n<li>‰ΩøÁî® <code>&lt;link&gt;</code> Êõø‰ª£ÂéüÁîü @import</li>\n<li>ÈÅøÂÖç‰ΩøÁî®Ë°®ËææÂºèÔºå‰æãÂ¶Ç <code>font-color: expression((new Date()).getHours()%3?&quot;#FFF&quot;:&quot;#AAA&quot;)</code> Ëøô‰∏™Ë°®ËææÂºè‰ºöÊåÅÁª≠Âú∞Âú®È°µÈù¢‰∏äËÆ°ÁÆóÊ†∑ÂºèÔºåÂΩ±ÂìçÈ°µÈù¢ÊÄßËÉΩ</li>\n</ul>\n<h2 id=\"HTML-‰ºòÂåñ\"><a href=\"#HTML-‰ºòÂåñ\" class=\"headerlink\" title=\"HTML ‰ºòÂåñ\"></a>HTML ‰ºòÂåñ</h2><ul>\n<li>ÂÜôÂØπÊñáÊ°£Á±ªÂûãÂ£∞Êòé <code>&lt;!DOCTYPE html&gt;</code> ËøôËÉΩÁ°Æ‰øùÊµèËßàÂô®ÊåâÁÖßÊúÄ‰Ω≥ÁöÑÁõ∏ÂÖ≥ËßÑËåÉËøõË°åÊ∏≤Êüì</li>\n<li><strong>ÂáèÂ∞ë DOM Êï∞Èáè</strong>ÔºåÈÅøÂÖç‰∏çÂøÖË¶ÅÁöÑËäÇÁÇπÊàñÂµåÂ•óÔºõ</li>\n<li>ÈÅøÂÖçÁ©∫ÁöÑ <code>src</code> Âíå <code>href</code>ÔºöÂΩì <code>src</code> Âíå <code>href</code> ‰∏∫Á©∫Êó∂ÔºåÊµèËßàÂô®‰ºöÈªòËÆ§Â°´ÂÖÖÈìæÊé•ÔºåÂπ∂Â∞ÜÈ°µÈù¢ÁöÑÂÜÖÂÆπÂä†ËΩΩËøõÊù•‰Ωú‰∏∫ÂÆÉ‰ª¨ÁöÑÂÄºÔºåÂÖ∑‰ΩìËßÑÂàôÂ¶Ç‰∏ãÔºö<ul>\n<li>IE Âêë<strong>È°µÈù¢ÊâÄÂú®ÁöÑÁõÆÂΩï</strong>ÂèëÈÄÅËØ∑Ê±Ç</li>\n<li>Safari„ÄÅChrome„ÄÅFirefox ÂêëÈ°µÈù¢Êú¨Ë∫´ URL ÂèëÈÄÅËØ∑Ê±Ç</li>\n<li>Opera ‰∏çÊâßË°å‰ªª‰ΩïÊìç‰Ωú</li>\n</ul>\n</li>\n<li>ÂõæÁâáÊèêÂâç <strong>ÊåáÂÆöÂÆΩÈ´ò</strong> ÊàñËÄÖ <strong>ËÑ±Á¶ªÊñáÊ°£ÊµÅ</strong>ÔºåËÉΩÊúâÊïàÂáèÂ∞ëÂõ†ÂõæÁâáÂä†ËΩΩÂØºËá¥ÁöÑÈ°µÈù¢ÂõûÊµÅ</li>\n<li><strong>ËØ≠‰πâÂåñÊ†áÁ≠æ</strong> ÊúâÂà©‰∫é SEO ‰∏éÊµèËßàÂô®ÁöÑËß£ÊûêÊó∂Èó¥</li>\n<li>ÂáèÂ∞ë‰ΩøÁî® table ËøõË°åÂ∏ÉÂ±ÄÔºåÈÅøÂÖç‰ΩøÁî® <code>&lt;br/&gt;</code> ‰∏é <code>&lt;hr/&gt;</code></li>\n</ul>\n<h1 id=\"ÂèÇËÄÉËµÑÊñô\"><a href=\"#ÂèÇËÄÉËµÑÊñô\" class=\"headerlink\" title=\"ÂèÇËÄÉËµÑÊñô\"></a>ÂèÇËÄÉËµÑÊñô</h1><p><strong>ÊÄßËÉΩ‰ºòÂåñÊñπÊ°àÊ∏ÖÂçï</strong></p>\n<ul>\n<li>üßæ <a href=\"https://juejin.im/post/5a966bd16fb9a0635172a50a\" target=\"_blank\" rel=\"noopener\">2018 ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÊ∏ÖÂçï</a></li>\n<li>üßæ <a href=\"https://github.com/berwin/Blog/issues/23\" target=\"_blank\" rel=\"noopener\">Âó®ÔºåÈÄÅ‰Ω†‰∏ÄÂº† Web ÊÄßËÉΩ‰ºòÂåñÂú∞Âõæ</a></li>\n<li>üßæ <a href=\"https://segmentfault.com/a/1190000018263418?utm_medium=hao.caibaojian.com&amp;utm_source=hao.caibaojian.com&amp;share_user=1030000000178452\" target=\"_blank\" rel=\"noopener\">Web ÊÄßËÉΩ‰ºòÂåñÊÄªÁªì</a></li>\n<li>üßæ <a href=\"https://juejin.im/post/5b025d856fb9a07aa0484e54\" target=\"_blank\" rel=\"noopener\">Â§ßÂâçÁ´ØÊÄßËÉΩÊÄªÁªì</a></li>\n<li>üßæ <a href=\"https://juejin.im/post/5b6133a351882519d346853f\" target=\"_blank\" rel=\"noopener\">CSS ÊÄßËÉΩ‰ºòÂåñÁöÑ 8 ‰∏™ÊäÄÂ∑ß</a></li>\n<li>üßæ <a href=\"https://juejin.im/post/5b7e1f81f265da436a075db4\" target=\"_blank\" rel=\"noopener\">Á≤æËØª „ÄäÈ´òÊïà JavaScript„Äã</a></li>\n<li>üßæ <a href=\"https://juejin.im/post/5c011e0c5188252ea66afdfa\" target=\"_blank\" rel=\"noopener\">Web ÊÄßËÉΩ‰ºòÂåñÊ∏ÖÂçï</a></li>\n<li>üóÉ <a href=\"https://github.com/barretlee/performance-column/milestone/1\" target=\"_blank\" rel=\"noopener\">ÊÄßËÉΩÁõ∏ÂÖ≥Âü∫Á°ÄÁü•ËØÜÁÇπÁ†îÁ©∂</a></li>\n<li>üóÉ <a href=\"https://github.com/liangsenzhi/awesome-wpo-chinese\" target=\"_blank\" rel=\"noopener\">ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñËµÑÊ∫êÂàóË°®</a></li>\n<li>üóÉ <a href=\"https://github.com/davidsonfellipe/awesome-wpo\" target=\"_blank\" rel=\"noopener\">awesome-wpo</a></li>\n<li>üóÉ <a href=\"https://github.com/drublic/checklist\" target=\"_blank\" rel=\"noopener\">A Frontend Checklist for Websites</a></li>\n</ul>\n<p><strong>‰ºòÂåñÊñπÂêë</strong></p>\n<ul>\n<li>üé° <a href=\"https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/\" target=\"_blank\" rel=\"noopener\">ÊµèËßàÂô®ÁöÑÂ∑•‰ΩúÂéüÁêÜÔºöÊñ∞ÂºèÁΩëÁªúÊµèËßàÂô®ÂπïÂêéÊè≠Áßò</a></li>\n<li>üé° <a href=\"http://velocity.oreilly.com.cn/2013/ppts/16_ms_optimization--web_front-end_performance_optimization.pdf\" target=\"_blank\" rel=\"noopener\">16 ÊØ´ÁßíÁöÑ‰ºòÂåñ</a></li>\n<li>üé° <a href=\"https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution\" target=\"_blank\" rel=\"noopener\">Optimize JavaScript Execution ‰ºòÂåñ JavaScript ÊâßË°å</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>ÊäÄÊúØÁ§æÂå∫‰∏≠ÂÖ∂ÂÆûÂ∑≤ÁªèÊúâËæÉÂ§öÁöÑÂÖ≥‰∫éÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÁöÑÁõ∏ÂÖ≥ÊñáÁ´†ÔºåÁúã‰∫ÜÂ§öÁØá‰πãÂêéÊÄªÊòØËßâÂæóÂÜÖÂÆπËøòÊúâÂæàÂ§öÈÅóÊºèÊàñÂÜôÂæó‰∏çÂ§üÂÆåÁæéÔºåÂ∞ΩÁÆ°ËøòÊ≤°Êé•ÊâãËøáÊµÅÈáèÁâπÂà´Â§ßÁöÑÁΩëÁ´ôÂ∫îÁî®È°πÁõÆÔºå‰ΩÜÊòØÊú¨‰∫∫ËÆ§‰∏∫Êó•Â∏∏È°πÁõÆ‰∏≠‰πüÈúÄË¶ÅÂ∞ΩÂèØËÉΩÂú∞ËøõË°åÊÄßËÉΩ‰ºòÂåñÁöÑÂ∑•‰ΩúÔºåÂõ†‰∏∫ÂâçÁ´ØÂ∑•Á®ãÂ∏àÁöÑÂ∑•‰ΩúÂæàÂ§ßÁ®ãÂ∫¶‰∏äÂèØ‰ª•ÊèèËø∞‰∏∫‚ÄúÁî®Â∞ΩÈáèÂ∞ëÁöÑ‰ª£‰ª∑‰∏∫Áî®Êà∑Êèê‰æõÊïàÁéáÂ∞ΩÂèØËÉΩÈ´ò„ÄÅÂäüËÉΩÂ∞ΩÂèØËÉΩÂ§ö„ÄÅ‰ΩìÈ™åÂ∞ΩÂèØËÉΩÂ•ΩÁöÑÁΩëÈ°µÂ∫îÁî®‚ÄùÔºåËÄåÊÄßËÉΩ‰ºòÂåñÂæàÂ§ßÁ®ãÂ∫¶‰∏äÂ∞±ÊòØÂÆûÁé∞‚ÄúÂ∞ΩÂèØËÉΩÂ∞ëÁöÑ‰ª£‰ª∑‚Äù„ÄÅ‚ÄúÊïàÁéáÂ∞ΩÂèØËÉΩÈ´ò‚Äù‰ª•Âèä‚Äú‰ΩìÈ™åÂ∞ΩÂèØËÉΩÂ•Ω‚Äù„ÄÇ</p>\n<p>Âõ†Ê≠§ÔºåÊ≠§Êñá‰ºöÊ†πÊçÆÁΩëÁªúËØ∑Ê±ÇÂà∞ÁΩëÈ°µÂëàÁé∞ÁöÑÂÆåÊï¥ÊµÅÁ®ãÔºåÈíàÂØπÊÄßÂú∞ÊèêÂá∫Áõ∏ÂÖ≥Èò∂ÊÆµ‰æõÂºÄÂèëÂÜ≥Á≠ñËÄÖËÄÉËôëÈááÂèñÁöÑ‰ºòÂåñÊñπÊ°àÔºåÂõ†Ê≠§Êú¨ÊñáÊõ¥ÂÉèÊòØÊÄßËÉΩ‰ºòÂåñÊñπÊ°àÁöÑÂÜ≥Á≠ñÊ†ëÔºåËÄåÈùûÊ†áÂáÜÊñπÊ°àÔºö</p>\n<ul>\n<li>ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢</li>\n<li>ÊúçÂä°Á´ØÂ±ÇÈù¢</li>\n<li>ÂÆ¢Êà∑Á´ØÊ∏≤ÊüìÂ±ÇÈù¢</li>\n<li>ÁºñÁ†ÅÂ±ÇÈù¢</li>\n</ul>\n<p><strong>ÁΩëÁªúËØ∑Ê±ÇÂà∞ÁΩëÈ°µÂëàÁé∞ÁöÑÂ§ßËá¥ÊµÅÁ®ã</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ÂèëÈÄÅÁΩëÁªúËØ∑Ê±Ç =&gt; ÁΩëÁªúÈìæË∑Ø =&gt; ËøîÂõûËµÑÊ∫ê(ÊúçÂä°Á´Ø) =&gt; Ê∏≤ÊüìËµÑÊ∫ê(ÂÆ¢Êà∑Á´Ø)</span><br></pre></td></tr></table></figure>","more":"<h1 id=\"ÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑ\"><a href=\"#ÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑ\" class=\"headerlink\" title=\"ÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑ\"></a>ÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑ</h1><p>Âú®ÊèêÂá∫ÂêÑÂ±ÇÊ¨°ÁöÑ‰ºòÂåñÊñπÊ°à‰πãÂâçÔºåÊúâÂøÖË¶Å‰∫ÜËß£‰∏Ä‰∏ãÊÄßËÉΩ‰ºòÂåñÊñπÊ°àÂÆûÈôÖ‰∏äËß£ÂÜ≥‰∫ÜÂì™‰∫õÊÄßËÉΩÈóÆÈ¢ò‰ª•ÂèäËß£ÂÜ≥Ëøô‰∫õÈóÆÈ¢òÁöÑÊ†∏ÂøÉÂΩíÁªìÁÇπ„ÄÇ</p>\n<p>‰ª•‰∏ãÈÉ®ÂàÜÂÖ≥‰∫é‰ºòÂåñÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑÁöÑÂª∫ËÆÆÊëòÂΩïËá™ Google ÂºÄÂèëËÄÖÊñáÊ°£Ôºö<br><a href=\"https://developers.google.com/web/fundamentals/performance/critical-rendering-path/optimizing-critical-rendering-path\" target=\"_blank\" rel=\"noopener\">üìñ Optimizing the Critical Rendering Path</a></p>\n<p>‰∏∫‰∫ÜÂ∞ΩÂø´ÂÆåÊàêÈ¶ñÊ¨°Ê∏≤ÊüìÔºåÊàë‰ª¨ÈúÄË¶ÅÊúÄÂ§ßÈôêÂ∫¶ÂáèÂ∞è‰ª•‰∏ã‰∏âÁßçÂèØÂèòÂõ†Á¥†Ôºö</p>\n<ul>\n<li>ÂÖ≥ÈîÆËµÑÊ∫êÁöÑÊï∞Èáè</li>\n<li>ÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶</li>\n<li>ÂÖ≥ÈîÆÂ≠óËäÇÁöÑÊï∞Èáè</li>\n</ul>\n<p>ÂÖ≥ÈîÆËµÑÊ∫êÊòØÂèØËÉΩÈòªÊ≠¢ÁΩëÈ°µÈ¶ñÊ¨°Ê∏≤ÊüìÁöÑËµÑÊ∫ê„ÄÇËøô‰∫õËµÑÊ∫êË∂äÂ∞ëÔºåÊµèËßàÂô®ÁöÑÂ∑•‰ΩúÈáèÂ∞±Ë∂äÂ∞èÔºåÂØπ CPU ‰ª•ÂèäÂÖ∂‰ªñËµÑÊ∫êÁöÑÂç†Áî®‰πüÂ∞±Ë∂äÂ∞ë„ÄÇ</p>\n<p>ÂêåÊ†∑ÔºåÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶ÂèóÊâÄÊúâÂÖ≥ÈîÆËµÑÊ∫ê‰∏éÂÖ∂Â≠óËäÇÂ§ßÂ∞è‰πãÈó¥‰æùËµñÂÖ≥Á≥ªÂõæÁöÑÂΩ±ÂìçÔºöÊüê‰∫õËµÑÊ∫êÂè™ËÉΩÂú®‰∏ä‰∏ÄËµÑÊ∫êÂ§ÑÁêÜÂÆåÊØï‰πãÂêéÊâçËÉΩÂºÄÂßã‰∏ãËΩΩÔºåÂπ∂‰∏îËµÑÊ∫êË∂äÂ§ßÔºå‰∏ãËΩΩÊâÄÈúÄÁöÑÂæÄËøîÊ¨°Êï∞Â∞±Ë∂äÂ§ö„ÄÇ</p>\n<p>ÊúÄÂêéÔºåÊµèËßàÂô®ÈúÄË¶Å‰∏ãËΩΩÁöÑÂÖ≥ÈîÆÂ≠óËäÇË∂äÂ∞ëÔºåÂ§ÑÁêÜÂÜÖÂÆπÂπ∂ËÆ©ÂÖ∂Âá∫Áé∞Âú®Â±èÂπï‰∏äÁöÑÈÄüÂ∫¶Â∞±Ë∂äÂø´„ÄÇË¶ÅÂáèÂ∞ëÂ≠óËäÇÊï∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÂáèÂ∞ëËµÑÊ∫êÊï∞ÔºàÂ∞ÜÂÆÉ‰ª¨Âà†Èô§ÊàñËÆæ‰∏∫ÈùûÂÖ≥ÈîÆËµÑÊ∫êÔºâÔºåÊ≠§Â§ñËøòË¶ÅÂéãÁº©Âíå‰ºòÂåñÂêÑÈ°πËµÑÊ∫êÔºåÁ°Æ‰øùÊúÄÂ§ßÈôêÂ∫¶ÂáèÂ∞è‰º†ÈÄÅÂ§ßÂ∞è„ÄÇ</p>\n<p><strong>‰ºòÂåñÂÖ≥ÈîÆÊ∏≤ÊüìË∑ØÂæÑÁöÑÂ∏∏ËßÑÊ≠•È™§Â¶Ç‰∏ãÔºö</strong></p>\n<ol>\n<li>ÂØπÂÖ≥ÈîÆË∑ØÂæÑËøõË°åÂàÜÊûêÂíåÁâπÊÄßÊèèËø∞ÔºöËµÑÊ∫êÊï∞„ÄÅÂ≠óËäÇÊï∞„ÄÅÈïøÂ∫¶</li>\n<li>ÊúÄÂ§ßÈôêÂ∫¶ÂáèÂ∞ëÂÖ≥ÈîÆËµÑÊ∫êÁöÑÊï∞ÈáèÔºöÂà†Èô§ÂÆÉ‰ª¨ÔºåÂª∂ËøüÂÆÉ‰ª¨ÁöÑ‰∏ãËΩΩÔºåÂ∞ÜÂÆÉ‰ª¨Ê†áËÆ∞‰∏∫ÂºÇÊ≠•Á≠â</li>\n<li>‰ºòÂåñÂÖ≥ÈîÆÂ≠óËäÇÊï∞‰ª•Áº©Áü≠‰∏ãËΩΩÊó∂Èó¥ÔºàÂæÄËøîÊ¨°Êï∞Ôºâ</li>\n<li>‰ºòÂåñÂÖ∂‰ΩôÂÖ≥ÈîÆËµÑÊ∫êÁöÑÂä†ËΩΩÈ°∫Â∫èÔºöÊÇ®ÈúÄË¶ÅÂ∞ΩÊó©‰∏ãËΩΩÊâÄÊúâÂÖ≥ÈîÆËµÑ‰∫ßÔºå‰ª•Áº©Áü≠ÂÖ≥ÈîÆË∑ØÂæÑÈïøÂ∫¶</li>\n</ol>\n<h1 id=\"ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢\"><a href=\"#ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢\" class=\"headerlink\" title=\"ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢\"></a>ÁΩëÁªúÈìæË∑ØÂ±ÇÈù¢</h1><p>ÁΩëÁªúÈìæË∑Ø‰Ωú‰∏∫ÁΩëÁªúËµÑÊ∫êÂíåÊï∞ÊçÆÁöÑ‰º†ËæìÈÄöÈÅìÔºåÂÖÖÂàÜÂà©Áî®ÁΩëÁªúÊäÄÊúØÊâãÊÆµËÉΩÊúâÊïàÂú∞ÂáèÂ∞ëÁΩëÈ°µËµÑÊ∫êÂìçÂ∫îÁöÑÈÄüÂ∫¶„ÄÅÊèêÂçáÁΩëÈ°µËµÑÊ∫ê‰º†ËæìÈÄüÂ∫¶‰ª•ÂèäÈÅøÂÖçÈáçÂ§ç‰º†ËæìÂØºËá¥ÁöÑËµÑÊ∫êÊµ™Ë¥πÁ≠âÈóÆÈ¢ò„ÄÇ</p>\n<h2 id=\"‰º†ËæìÁ≠ñÁï•\"><a href=\"#‰º†ËæìÁ≠ñÁï•\" class=\"headerlink\" title=\"‰º†ËæìÁ≠ñÁï•\"></a>‰º†ËæìÁ≠ñÁï•</h2><h3 id=\"DNS-Êü•ËØ¢\"><a href=\"#DNS-Êü•ËØ¢\" class=\"headerlink\" title=\"DNS Êü•ËØ¢\"></a>DNS Êü•ËØ¢</h3><p>DNS ÂüüÂêçËß£ÊûêÂçèËÆÆÁÆÄÂçïÊù•Â∞±ËØ¥Ë¥üË¥£Â∞ÜÂüüÂêç URL ËΩ¨Âåñ‰∏∫ÊúçÂä°Âô®‰∏ªÊú∫ IP„ÄÇ‰∫ÜËß£Êõ¥Â§ö <a href=\"https://tsejx.github.io/JavaScript-Guidebook/computer-networks/dns.html\">DNS ÂüüÂêçËß£ÊûêÂçèËÆÆ</a></p>\n<p>DNS Êü•ËØ¢ËÉΩ‰ªé‰∏§ÊñπÈù¢ËøõË°å‰ºòÂåñÔºö</p>\n<ul>\n<li><strong>ÂáèÂ∞ë DNS Êü•ËØ¢Ê¨°Êï∞</strong></li>\n<li><strong>DNS È¢ÑËß£Êûê</strong></li>\n</ul>\n<p>ÈÄöËøáÂú®ÊñáÊ°£‰∏≠‰ΩøÁî®ÂÄº‰∏∫ <code>http-equiv</code> ÁöÑ <code>&lt;meta&gt;</code> Ê†áÁ≠æÊâìÂºÄ DNS È¢ÑËß£ÊûêÔºö</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"x-dns-prefetch-control\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"on\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<p>ÈÄöËøá <code>rel</code> Â±ûÊÄßÂÄº‰∏∫ <code>dns-prefetch</code> ÁöÑ <code>&lt;link&gt;</code> Ê†áÁ≠æÂØπÁâπÂÆöÂüüÂêçËøõË°åÈ¢ÑËØªÂèñ</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">'dns-prefetch\" href=\"//host_name_to_prefetch.com\"/&gt;</span></span></span><br></pre></td></tr></table></figure>\n<p><strong>Áõ∏ÂÖ≥ÈìæÊé•Ôºö</strong></p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Controlling_DNS_prefetching\" target=\"_blank\" rel=\"noopener\">MDNÔºöX-DNS-Prefetch-Control</a></li>\n<li><a href=\"https://dev.chromium.org/developers/design-documents/dns-prefetching\" target=\"_blank\" rel=\"noopener\">DNS Prefetching</a></li>\n<li><a href=\"https://bitsup.blogspot.com/2008/11/dns-prefetching-for-firefox.html\" target=\"_blank\" rel=\"noopener\">DNS Prefetching for Firefox</a></li>\n</ul>\n<h3 id=\"TCP-ËøûÊé•\"><a href=\"#TCP-ËøûÊé•\" class=\"headerlink\" title=\"TCP ËøûÊé•\"></a>TCP ËøûÊé•</h3><p><strong>ÊåÅ‰πÖÂåñËøûÊé•</strong>ÔºöÈÅøÂÖçÈáçÂ§çËøõË°å TCP ÁöÑ‰∏âÊ¨°Êè°ÊâãÔºåHTTP/1.1 ÈªòËÆ§ÂºÄÂêØÔºåHTTP/1.0 ÂèØ‰ª•‰ΩøÁî®„ÄÇ</p>\n<p>Keep-Alive ‰∏ç‰ºöÊ∞∏‰πÖ‰øùÊåÅËøûÊé•ÔºåÂºÄÂèëËÄÖÂèØÈÄöËøáÊúçÂä°Âô®ÈÖçÁΩÆÈôêÂÆöÊó∂Èó¥„ÄÇ</p>\n<figure class=\"highlight http\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">Connection</span>: keep-alive</span><br></pre></td></tr></table></figure>\n<h3 id=\"HTTP-ËØ∑Ê±Ç\"><a href=\"#HTTP-ËØ∑Ê±Ç\" class=\"headerlink\" title=\"HTTP ËØ∑Ê±Ç\"></a>HTTP ËØ∑Ê±Ç</h3><ul>\n<li><strong>ÂáèÂ∞ë HTTP ËØ∑Ê±Ç</strong><ul>\n<li>ÈÄöËøáÂâçÁ´ØÊûÑÂª∫Â∑•ÂÖ∑ÂêàÂπ∂ËÑöÊú¨ÂíåÊ†∑ÂºèË°®</li>\n<li>CSS Sprites Á≤æÁÅµÂõæ</li>\n<li>ÂõæÁâá‰ΩøÁî® Base64 ÁºñÁ†ÅÂµåÂÖ•ÁΩëÈ°µÔºåÂáèÂ∞ëÂõæÁâáÂ§ñÈÉ®ËΩΩÂÖ•ÁöÑËØ∑Ê±ÇÊï∞</li>\n</ul>\n</li>\n<li><strong>ËµÑÊ∫êÂàÜÂ∏ÉÂºèÈÉ®ÁΩ≤Ëá≥‰∏çÂêåÂüüÂêç</strong><ul>\n<li><strong>ÂéüÂõ†</strong>Ôºö‰∏ªÊµÅÊµèËßàÂô®ÂØπÁõ∏ÂêåÂüüÂêçÁöÑÂπ∂Âèë HTTP ËØ∑Ê±ÇÊï∞ÈôêÂà∂Âú® 4~8 ‰∏™ÔºåÂΩìËµÑÊ∫êËøáÂ§öÊó∂ÔºåÂèØ‰ª•ÈááÁî®Â¢ûÂä†ÂüüÂêçÁöÑÊñπÊ≥ïÂ¢ûÂä† HTTP ËØ∑Ê±ÇÁöÑÂπ∂ÂèëÈáè</li>\n<li><strong>ÂéüÁêÜ</strong>ÔºöÂà©Áî®Â§ö‰∏™‰∏çÂêåÁöÑÂüüÂêçÂèØ‰ª•‰øùËØÅËøô‰∫õÂüüÂêçËÉΩÂ§üÂêåÊó∂Âä†ËΩΩÂõæÁâáÔºåËÄå‰∏çÁî®ÊéíÈòü„ÄÇ‰∏çËøáÂ¶ÇÊûúÂΩì‰ΩøÁî®ÁöÑÂüüÂêçËøáÂ§öÊó∂ÔºåÂìçÂ∫îÊó∂Èó¥Â∞±‰ºöÊÖ¢ÔºåÂõ†‰∏∫‰∏çÂêåÂìçÂ∫îÂüüÂêçÊó∂Èó¥‰∏ç‰∏ÄËá¥</li>\n</ul>\n</li>\n<li><strong>ÈÅøÂÖçÈáçÂÆöÂêë</strong><ul>\n<li>URL Êú´Â∞æÂ∫îËØ•Ê∑ªÂä† <code>/</code> ‰ΩÜÊú™Ê∑ªÂä†</li>\n</ul>\n</li>\n<li><strong>Ê∂àÈô§‰∏çÂøÖË¶ÅÁöÑËØ∑Ê±ÇÂ≠óËäÇ</strong></li>\n<li><strong>Cookie</strong><ul>\n<li>ÂéãÁº© Cookie Â§ßÂ∞è<ul>\n<li>ÂéªÈô§‰∏çÂøÖË¶ÅÁöÑ Cookie</li>\n<li>Ê≥®ÊÑèËÆæÁΩÆ Cookie ÁöÑ domain Á∫ßÂà´ÔºåÂ¶ÇÊ≤°ÂøÖË¶ÅÔºå‰∏çË¶ÅÂΩ±ÂìçÂ≠êÂüüÂêç</li>\n<li>ËÆæÁΩÆÂêàÈÄÇÁöÑËøáÊúüÊó∂Èó¥</li>\n</ul>\n</li>\n<li>ÈùôÊÄÅËµÑÊ∫ê‰ΩøÁî®Êó† Cookie ÂüüÂêç</li>\n</ul>\n</li>\n<li><a href=\"https://tsejx.github.io/JavaScript-Guidebook/computer-networks/http/http2.html\">HTTP/2</a><ul>\n<li>‰∫åËøõÂà∂ÂàÜÂ∏ß</li>\n<li>Â§öË∑ØÂ§çÁî®</li>\n<li>ÊúçÂä°Âô®Êé®ÈÄÅ</li>\n<li>Â§¥ÈÉ®ÂéãÁº©</li>\n<li>‰∫ÜËß£Êõ¥Â§ö [HTTP/2]</li>\n</ul>\n</li>\n<li><a href=\"https://zh.wikipedia.org/wiki/HTTP/3\" target=\"_blank\" rel=\"noopener\">HTTP/3</a></li>\n</ul>\n<p><strong>Áõ∏ÂÖ≥ÈìæÊé•Ôºö</strong></p>\n<ul>\n<li><a href=\"http://bubkoo.com/2015/11/19/prefetching-preloading-prebrowsing/\" target=\"_blank\" rel=\"noopener\">ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñ - ËµÑÊ∫êÈ¢ÑÂä†ËΩΩ</a></li>\n<li><a href=\"https://github.com/creeperyang/blog/issues/23\" target=\"_blank\" rel=\"noopener\">HTTP/2 ÁÆÄ‰ªãÂíåÂü∫‰∫é HTTP/2 ÁöÑ Web ‰ºòÂåñ</a></li>\n</ul>\n<h2 id=\"ÁºìÂ≠òÁ≠ñÁï•\"><a href=\"#ÁºìÂ≠òÁ≠ñÁï•\" class=\"headerlink\" title=\"ÁºìÂ≠òÁ≠ñÁï•\"></a>ÁºìÂ≠òÁ≠ñÁï•</h2><p>Âà∂ÂÆöÊúâÊïàÁöÑÁºìÂ≠òÁ≠ñÁï•ÔºåÂæàÂ§ßÁ®ãÂ∫¶‰∏äËÉΩÂÆûÁé∞ËµÑÊ∫êÁöÑÈáçÂ§çÂà©Áî®Âèä‰º†ËæìË∑ØÂæÑÁöÑ‰ºòÂåñÔºåÂáèÂ∞ëÂÆ¢Êà∑Á´ØÂØπÊúçÂä°Á´ØÁöÑÁΩëÁªúËØ∑Ê±ÇÂéãÂäõÔºåÂáèËΩªÂÆΩÂ∫¶ÊµÅÈáè„ÄÇ</p>\n<ul>\n<li><a href=\"https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html\">HTTP ÁºìÂ≠ò</a><ul>\n<li><a href=\"[https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#%E5%BC%BA%E7%BC%93%E5%AD%98](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#Âº∫ÁºìÂ≠ò\">Âº∫ÁºìÂ≠ò</a>&gt;)<ul>\n<li>Expires ÁªùÂØπÊó∂Èó¥ <code>Expires: Thu, 21 Jan 2017 23:59:59 GMT</code> ÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÊó∂Èó¥ÂèØËÉΩ‰∏ç‰∏ÄËá¥</li>\n<li>Cache-Control Áõ∏ÂØπÊó∂Èó¥ <code>Cache-Control: max-age=3600</code></li>\n</ul>\n</li>\n<li><a href=\"[https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98](https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/http-cache.html#ÂçèÂïÜÁºìÂ≠ò\">ÂçèÂïÜÁºìÂ≠ò</a>&gt;)<ul>\n<li>Last-Modified / If-Modified-Since ÁªùÂØπÊó∂Èó¥ <code>Expires: Wed, 26 Jan 2017 00:35:11 GMT</code> ËµÑÊ∫ê‰∏äÊ¨°‰øÆÊîπÁöÑÊó∂Èó¥</li>\n<li>Etag / If-None-Match ÈöèÊú∫ÁîüÊàêÁöÑ‰π±Á†ÅÂÄº</li>\n</ul>\n</li>\n<li>‰ºòÂÖà‰ΩøÁî®Âº∫ÁºìÂ≠ò<ul>\n<li>ÂΩìËµÑÊ∫êÊñá‰ª∂ÂèëÁîüÂèòÂåñÊó∂ÔºåÈÄöËøáÊõ¥Êñ∞È°µÈù¢‰∏≠ÂºïÁî®ÁöÑËµÑÊ∫êË∑ØÂæÑÔºåËÆ©ÊµèËßàÂô®ÊîæÂºÉÁºìÂ≠òÔºåÂä†ËΩΩÊñ∞ËµÑÊ∫ê</li>\n<li>ÈÄöËøá <a href=\"https://link.zhihu.com/?target=http%3A//baike.baidu.com/view/10961371.htm\" target=\"_blank\" rel=\"noopener\">Êï∞ÊçÆÊëòË¶ÅÁÆóÊ≥ï</a> Á≤æÂáÜÂà∞Âçï‰∏™Êñá‰ª∂Á≤íÂ∫¶ÁöÑÁºìÂ≠òÊéßÂà∂</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"https://tsejx.github.io/JavaScript-Guidebook/computer-networks/cdn.html\">CDN ÁºìÂ≠ò</a>Ôºö Â∞ÜÈùôÊÄÅËµÑÊ∫êÂíåÂä®ÊÄÅÁΩëÈ°µÂàÜÈõÜÁæ§ÈÉ®ÁΩ≤<ul>\n<li>HTML ÈÉ®ÁΩ≤Âú®Ëá™Ë∫´ÁöÑÊúçÂä°Âô®‰∏ä</li>\n<li>ÊâìÂåÖÂêéÁöÑÂõæÁâá / JavaScript ËÑöÊú¨Êñá‰ª∂ / CSS Ê†∑ÂºèÊñá‰ª∂Á≠âËµÑÊ∫êÈÉ®ÁΩ≤Âà∞ CDN ËäÇÁÇπ‰∏äÔºåÊñá‰ª∂Â∏¶‰∏ä Hash ÂÄº</li>\n<li>Áî±‰∫éÊµèËßàÂô®ÂØπÂçï‰∏™ÂüüÂêçËØ∑Ê±ÇÁöÑÈôêÂà∂ÔºåÂèØ‰ª•Â∞ÜËµÑÊ∫êÊîæÂú®Â§ö‰∏™‰∏çÂêåÂüüÁöÑ CDN ‰∏äÔºåÂèØ‰ª•ÁªïÂºÄËØ•ÈôêÂà∂</li>\n<li>CDN Ê≤°Êúâ CookieÔºå‰ΩøÁî® CDN ÂèØ‰ª•ÂáèÂ∞ë Cookie</li>\n<li>CDN ‰ºöËá™Âä®ÂêàÂπ∂ËÑöÊú¨Êñá‰ª∂Á≠âÔºåÂáèÂ∞ëËØ∑Ê±ÇÊï∞Èáè</li>\n<li>‰ΩÜÊòØÔºåCDN ÂêåÊó∂‰πüÂ¢ûÂä†‰∫ÜÂüüÂêçÔºåÂ¢ûÂ§ß‰∫ÜÂêåÊó∂ËØ∑Ê±ÇÊï∞Èáè</li>\n</ul>\n</li>\n<li><strong>ÊúçÂä°Âô®ÁºìÂ≠òÔºö</strong>Â∞Ü‰∏çÂèòÁöÑÊï∞ÊçÆ„ÄÅÈ°µÈù¢ÁºìÂ≠òÂà∞<strong>ÂÜÖÂ≠ò</strong>Êàñ<strong>ËøúÁ®ãÂ≠òÂÇ®</strong>ÔºàÂ¶Ç Redis Á≠âÔºâ‰∏ä</li>\n<li><strong>ÊµèËßàÂô®ÁºìÂ≠ò</strong>: ÈÄöËøáËÆæÁΩÆËØ∑Ê±ÇÁöÑËøáÊúüÊó∂Èó¥ÔºåÂ∞ÜÂêÑÁßç‰∏çÂ∏∏ÂèòÁöÑÊï∞ÊçÆËøõË°åÁºìÂ≠òÔºåÂêàÁêÜËøêÁî®ÊµèËßàÂô®ÁºìÂ≠òÔºåÁº©Áü≠Êï∞ÊçÆÁöÑËé∑ÂèñÊó∂Èó¥<ul>\n<li><a href=\"https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/cookie.html\">Cookie</a></li>\n<li><a href=\"https://tsejx.github.io/JavaScript-Guidebook/browser-object-model/browser-cache/web-storage.html\">WebStorage</a><ul>\n<li>LocalStorage</li>\n<li>SessionStorage</li>\n</ul>\n</li>\n<li>IndexDB</li>\n<li><a href=\"https://tsejx.github.io/JavaScript-Guidebook/html5-scripting-programming/offline-and-storage/service-worker.html\">ServiceWorker</a></li>\n<li>AppCacheÔºöÈááÁî® mainfest Êñá‰ª∂ËøõË°åÁºìÂ≠ò</li>\n</ul>\n</li>\n</ul>\n<p><strong>Áõ∏ÂÖ≥ÈìæÊé•Ôºö</strong></p>\n<ul>\n<li><a href=\"https://www.zhihu.com/question/20790576\" target=\"_blank\" rel=\"noopener\">Â§ßÂÖ¨Âè∏ÈáåÊÄéÊ†∑ÂºÄÂèëÂíåÈÉ®ÁΩ≤ÂâçÁ´Ø‰ª£Á†ÅÔºü</a></li>\n<li><a href=\"https://link.juejin.im/?target=https%3A%2F%2Fimququ.com%2Fpost%2Fenhance-security-for-ls-code.html\" target=\"_blank\" rel=\"noopener\">‰ΩøÁî® SRI Â¢ûÂº∫ LocalStorage ‰ª£Á†ÅÂÆâÂÖ®</a></li>\n</ul>\n<h1 id=\"ÊúçÂä°Á´ØÂ±ÇÈù¢\"><a href=\"#ÊúçÂä°Á´ØÂ±ÇÈù¢\" class=\"headerlink\" title=\"ÊúçÂä°Á´ØÂ±ÇÈù¢\"></a>ÊúçÂä°Á´ØÂ±ÇÈù¢</h1><p>Áî±‰∫éÊú¨ÊñáÂè™Ê∂âÂèäÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÔºå‰ΩÜ‰∏∫Ê±ÇÊµÅÁ®ãÂÆåÊï¥ÔºåÁÆÄÂçïÁΩóÂàó‰∏éÊúçÂä°Á´ØÁõ∏ÂÖ≥ÁöÑ‰ºòÂåñÊñπÊ°àÁöÑÂ∏∏ËßÅÊâãÊÆµ„ÄÇ</p>\n<ul>\n<li>Â§öÂüüÂêçËµÑÊ∫êÂä†ËΩΩ</li>\n<li>Ë¥üËΩΩÂùáË°°</li>\n<li>Êï∞ÊçÆÁºìÂ≠ò</li>\n<li>ÂèçÂêë‰ª£ÁêÜ</li>\n</ul>\n<h1 id=\"ÂÆ¢Êà∑Á´ØÂ±ÇÈù¢\"><a href=\"#ÂÆ¢Êà∑Á´ØÂ±ÇÈù¢\" class=\"headerlink\" title=\"ÂÆ¢Êà∑Á´ØÂ±ÇÈù¢\"></a>ÂÆ¢Êà∑Á´ØÂ±ÇÈù¢</h1><ul>\n<li>ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè/Â§ßÂ∞è</li>\n<li>ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ</li>\n<li>Áî®Êà∑‰ΩìÈ™å</li>\n</ul>\n<h2 id=\"ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè-Â§ßÂ∞è\"><a href=\"#ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè-Â§ßÂ∞è\" class=\"headerlink\" title=\"ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè/Â§ßÂ∞è\"></a>ËµÑÊ∫êÊ∏≤ÊüìÊï∞Èáè/Â§ßÂ∞è</h2><ul>\n<li><strong>ÂéãÁº©ÈùôÊÄÅËµÑÊ∫êÔºåÊ∏ÖÈô§Êó†Áî®‰ª£Á†Å</strong><ul>\n<li>Tree Shaking Êó†Áî®‰ª£Á†ÅÁßªÈô§</li>\n<li>UglifyJs Ê∑∑Ê∑Ü / ÂéãÁº©‰ª£Á†Å</li>\n<li>Code Spliting ‰ª£Á†ÅÂàÜÂâ≤ÔºàËµÑÊ∫êÊåâÈúÄÂä†ËΩΩÊàñÂπ∂Ë°åÂä†ËΩΩÔºâ</li>\n</ul>\n</li>\n<li><strong>ÂºÄÂêØ Gzip ÂéãÁº©</strong><ul>\n<li>ËØ∑Ê±ÇÂ§¥ <code>Accept-Encoding: gzip, deflate</code></li>\n<li>ÂìçÂ∫îÂ§¥ <code>Content-Encoding: gzip</code></li>\n<li>Gzip ËÉΩÂ§üÂéãÁº©‰ªª‰ΩïÊñáÊú¨Á±ªÂûãÁöÑÂìçÂ∫îÔºåÂåÖÊã¨ HTMl„ÄÅXML Âíå JSON</li>\n<li>Â∑≤ÁªèÂéãÁº©ËøáÁöÑÂÜÖÂÆπÂ¶ÇÂõæÁâá„ÄÅÂíå PDF ‰∏çË¶Å‰ΩøÁî® GzipÔºåËøô‰∫õËµÑÊ∫êÂÜÖÂÆπÊú¨Ë∫´‰ΩìÁßØÂ∞±Â∞èÔºåÂÜç‰ΩøÁî® Gzip ÂèçËÄå‰ºöÂ¢ûÂä†ËµÑÊ∫ê‰∏ãËΩΩÊó∂Èó¥ÔºåÊµ™Ë¥π CPU ËµÑÊ∫êÔºåËÄå‰∏îÊúâÂ¢ûÂä†Êñá‰ª∂‰ΩìÁßØÁöÑÂèØËÉΩ</li>\n</ul>\n</li>\n<li><strong>Â§ö‰ªΩÁºñËØëÊñá‰ª∂ÊåâÊù°‰ª∂ÂºïÂÖ•</strong><ul>\n<li>ÈíàÂØπÁé∞‰ª£ÊµèËßàÂô®Áõ¥Êé•Áªô ES6 Êñá‰ª∂ÔºåÂè™ÈíàÂØπ‰ΩéÁ´ØÊµèËßàÂô®ÂºïÁî®ÁºñËØëÂêéÁöÑ ES5 Êñá‰ª∂</li>\n<li>ÂèØ‰ª•Âà©Áî® <code>&lt;script type=&quot;module&quot;&gt; / &lt;script type=&quot;module&quot;&gt;</code>ËøõË°åÊù°‰ª∂ÂºïÂÖ•Áî®</li>\n</ul>\n</li>\n<li><strong>Âä®ÊÄÅ Polyfill</strong><ul>\n<li>Âè™ÈíàÂØπ‰∏çÊîØÊåÅÁöÑÊµèËßàÂô®ËøêË°åÁéØÂ¢ÉÂºïÂÖ• Polyfill</li>\n</ul>\n</li>\n<li><strong>ÂõæÁâá‰ºòÂåñ</strong><ul>\n<li>Ê†πÊçÆ‰∏öÂä°Âú∫ÊôØÔºå‰∏é UI Êé¢ËÆ®ÈÄâÊã© <strong>ÂêàÈÄÇË¥®ÈáèÔºåÂêàÈÄÇÂ∞∫ÂØ∏</strong></li>\n<li>Ê†πÊçÆÈúÄÊ±ÇÂíåÂπ≥Âè∞ÔºåÈÄâÊã© <strong>ÂêàÈÄÇÊ†ºÂºè</strong>Ôºå‰æãÂ¶ÇÈùûÈÄèÊòéÊó∂ÂèØÁî® jpgÔºõÈùûËãπÊûúÁ´ØÔºå‰ΩøÁî® webp</li>\n<li>Â∞èÂõæÁâáÂêàÊàê <strong>Èõ™Á¢ßÂõæ CSS Sprite</strong>Ôºå‰Ωé‰∫é 5K ÁöÑÂõæÁâáÂèØ‰ª•ËΩ¨Êç¢Êàê B<strong>ase64</strong> ÂÜÖÂµå</li>\n<li>ÂêàÈÄÇÂú∫ÊôØ‰∏ãÔºå‰ΩøÁî® I<strong>confont</strong> ÊàñËÄÖ <strong>SVG</strong></li>\n<li>ÂéãÁº© favicon.ico Âπ∂ÁºìÂ≠ò</li>\n<li>‰ΩøÁî® Blob ÂºÇÊ≠•Âä†ËΩΩ</li>\n<li>‰ΩøÁî® <a href=\"https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FRevillWeb%2Fimg-2\" target=\"_blank\" rel=\"noopener\">img-2</a> ‰ª£Êõø img Ê†áÁ≠æ</li>\n<li>ÂµåÂÖ•ËµÑÊ∫êÔºöBase64 ÂµåÂÖ•ËµÑÊ∫êÔºàÈíàÂØπÂ∞èÁöÑÈùôÊÄÅÂõæÁâáËµÑÊ∫êÔºâ</li>\n</ul>\n</li>\n<li><strong>Â≠ó‰Ωì‰ºòÂåñ</strong><ul>\n<li>ÊµèËßàÂô®‰∏∫‰∫ÜÈÅøÂÖç FOUTÔºàFlash Of Unstyled TextÔºâÔºå‰ºöÂ∞ΩÈáèÁ≠âÂæÖÂ≠ó‰ΩìÂä†ËΩΩÂÆåÊàêÂêéÔºåÂÜçÊòæÁ§∫Â∫îÁî®‰∫ÜËØ•Â≠ó‰ΩìÁöÑÂÜÖÂÆπ„ÄÇÂ∏¶Êù•‰∫Ü FOITÔºàFlash Of Invisible Text ÈóÆÈ¢òÔºâÔºåÂØºËá¥Á©∫ÁôΩ</li>\n<li>ËÆæÁΩÆÂ§öÂ≠ó‰ΩìÔºåÈôçÁ∫ßÊñπÊ≥ïÔºö‰ΩøÁî®ÈªòËÆ§Â≠ó‰Ωì</li>\n<li>ÂºÇÊ≠•Âä†ËΩΩÂ≠ó‰ΩìÊñá‰ª∂ÔºöÈÄöËøáÂºÇÊ≠•Âä†ËΩΩ CSSÔºåÂç≥ÂèØÈÅøÂÖçÂ≠ó‰ΩìÈòªÂ°ûÊ∏≤ÊüìÔºåËøòÊòØ‰ºöÁ©∫ÁôΩ</li>\n</ul>\n</li>\n<li><strong>Â§öÂ™í‰Ωì‰ºòÂåñ</strong><ul>\n<li>Èü≥ËßÜÈ¢ë</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ\"><a href=\"#ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ\" class=\"headerlink\" title=\"ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ\"></a>ËµÑÊ∫êÊ∏≤ÊüìË∑ØÂæÑ</h2><ul>\n<li><strong>‰ºòÂåñÂä†ËΩΩÈ°∫Â∫è</strong><ul>\n<li>CSS Ê†∑ÂºèÊñá‰ª∂ÊîæÂú®ÊñáÊ°£ <code>&lt;head&gt;</code> Ê†áÁ≠æ‰∏≠ÂºïÂÖ•<ul>\n<li>ÊääÊ†∑ÂºèË°®ÊîæÂú® <code>&lt;head&gt;</code> ‰∏≠ÂèØ‰ª•ËÆ©È°µÈù¢Ê∏êËøõÊ∏≤ÊüìÔºåÂ∞ΩÊó©ÂëàÁé∞ËßÜËßâÂèçÈ¶àÔºåÁªôÁî®Êà∑Âä†ËΩΩÈÄüÂ∫¶ÂæàÂø´ÁöÑÊÑüËßâ</li>\n</ul>\n</li>\n<li>JavaScript ËÑöÊú¨Êñá‰ª∂ÊîæÂú® <code>&lt;body&gt;</code> Ê†áÁ≠æÂ∫ïÈÉ®ÂºïÂÖ•<ul>\n<li><strong>ÂéüÂõ†</strong>ÔºöÂä†ËΩΩËÑöÊú¨Êñá‰ª∂‰ºöÂØπÂêéÁª≠ËµÑÊ∫êÊ∏≤ÊüìÈÄ†ÊàêÈòªÂ°û</li>\n<li><strong>ÊñπÊ°à</strong>ÔºöÂà∂ÂÆöÂêàÁêÜÁöÑËÑöÊú¨Êñá‰ª∂Âä†ËΩΩÁ≠ñÁï•<ul>\n<li>Âä®ÊÄÅËÑöÊú¨Âä†ËΩΩÔºàÂºÇÊ≠•Âä†ËΩΩ„ÄÅÂª∂ËøüÂä†ËΩΩ„ÄÅÊåâÈúÄÂä†ËΩΩÔºâ</li>\n<li>Ê∑ªÂä† <code>defer</code> Â±ûÊÄßÁöÑËÑöÊú¨Êñá‰ª∂ÊòØÂú® HTML Ëß£ÊûêÂÆå‰πãÂêéÊâç‰ºöÊâßË°å„ÄÇÂ¶ÇÊûúÊòØÂ§ö‰∏™ÔºåÊåâÁÖßÂä†ËΩΩÁöÑÈ°∫Â∫è‰æùÊ¨°ÊâßË°å</li>\n<li>Ê∑ªÂä† <code>async</code> Â±ûÊÄßÁöÑËÑöÊú¨Êñá‰ª∂ÊòØÂú®Âä†ËΩΩ‰πãÂêéÁ´ãÂç≥ÊâßË°åÔºåÂ¶ÇÊûú HTML ËøòÊ≤°Ëß£ÊûêÂÆåÔºå‰ºöÈòªÂ°û HTML ÁªßÁª≠Ëß£Êûê„ÄÇÂ¶ÇÊûúÊòØÂ§ö‰∏™ÔºåÊâßË°åÈ°∫Â∫èÂíåÂä†ËΩΩÈ°∫Â∫èÊó†ÂÖ≥</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>ÂΩ±ÂìçÈ¶ñÂ±èÁöÑÔºå‰ºòÂÖàÁ∫ßÂæàÈ´òÁöÑËÑöÊú¨Êñá‰ª∂‰πüÂèØ‰ª• <code>&lt;head&gt;</code> Êàñ <code>&lt;body&gt;</code> È¶ñÂ≠êËäÇÁÇπÂºïÂÖ•ÔºåÁîöËá≥Âà©Áî® <code>style</code> Êàñ <code>script</code> ÂÜÖËÅî</li>\n</ul>\n</li>\n<li><p><strong>ËµÑÊ∫êÂä†ËΩΩÊñπÂºè</strong></p>\n<ul>\n<li>ÈùûÂÖ≥ÈîÆÊÄßÁöÑÊñá‰ª∂Â∞ΩÂèØËÉΩÁöÑ<strong>ÂºÇÊ≠•Âä†ËΩΩÂíåÂª∂ËøüÂä†ËΩΩ</strong>ÔºåÈÅøÂÖçÈòªÂ°ûÈ¶ñÈ°µÊ∏≤Êüì</li>\n<li><strong>ËµÑÊ∫êÊèêÁ§∫Êåá‰ª§</strong><ul>\n<li>Preload</li>\n<li>Prefetch</li>\n<li>Preconnect</li>\n<li>Subresource</li>\n</ul>\n</li>\n<li><strong>ÂºÇÊ≠•Âä†ËΩΩÔºàÈ¢ÑÂä†ËΩΩÔºâ</strong><ul>\n<li>Âà©Áî®ÊµèËßàÂô®Á©∫Èó≤Êó∂Èó¥ËØ∑Ê±ÇÂ∞ÜÊù•Ë¶Å‰ΩøÁî®ÁöÑËµÑÊ∫êÔºå‰ª•‰æøÁî®Êà∑ËÆøÈóÆ‰∏ã‰∏ÄÈ°µÈù¢Êó∂Êõ¥Âø´Âú∞ÂìçÂ∫î</li>\n<li>È¢ÑÂà§Áî®Êà∑ÁöÑË°å‰∏∫ÔºåÊèêÂâçÂä†ËΩΩÊâÄÈúÄË¶ÅÁöÑËµÑÊ∫êÔºåÂàôÂèØ‰ª•Âø´ÈÄüÂú∞ÂìçÂ∫îÁî®Êà∑ÁöÑÊìç‰ΩúÔºå‰ªéËÄåÊâìÈÄ†Êõ¥Â•ΩÁöÑÁî®Êà∑‰ΩìÈ™å„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÈÄöËøáÊèêÂâçÂèëËµ∑ÁΩëÁªúËØ∑Ê±ÇÔºå‰πüÂèØ‰ª•ÂáèÂ∞ëÁî±‰∫éÁΩëÁªúËøáÊÖ¢ÂØºËá¥ÁöÑÁî®Êà∑Á≠âÂæÖÊó∂Èó¥„ÄÇ</li>\n<li>Preload ËßÑËåÉ W3CPreload<ul>\n<li>rel ÊòéÁ°ÆÂëäÁü•ÊµèËßàÂô®ÂêØÁî® preload ÂäüËÉΩ</li>\n<li>as ÊòéÁ°ÆÈúÄË¶ÅÈ¢ÑÂä†ËΩΩËµÑÊ∫êÁöÑÁ±ªÂûãÔºåÂåÖÊã¨ JavaScript„ÄÅImages„ÄÅCSS„ÄÅMedia Á≠â</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>Âª∂ËøüÂä†ËΩΩÔºàÊáíÂä†ËΩΩ„ÄÅÊåâÈúÄÂä†ËΩΩÔºâ</strong><ul>\n<li>È°µÈù¢ÂàùÂßãÂä†ËΩΩÊó∂Â∞ÜÈùûÁªùÂØπÂøÖÈ°ªÁöÑËµÑÊ∫êÂª∂ËøüÂä†ËΩΩÔºå‰ªéËÄåÊèêÈ´òÈ°µÈù¢ÁöÑÂä†ËΩΩÂíåÂìçÂ∫îÈÄüÂ∫¶<ul>\n<li>ÈùûÈ¶ñÂ±è‰ΩøÁî®ÁöÑÊï∞ÊçÆ„ÄÅÊ†∑Âºè„ÄÅËÑöÊú¨„ÄÅÂõæÁâáÁ≠â</li>\n<li>Áî®Êà∑‰∫§‰∫íÊó∂Êâç‰ºöÊòæÁ§∫ÁöÑÂÜÖÂÆπ</li>\n</ul>\n</li>\n<li><strong>ÂÆûÁé∞ÊñπÂºèÔºö</strong><ul>\n<li>ËôöÊãü‰ª£ÁêÜÊäÄÊúØÔºöÁúüÊ≠£Âä†ËΩΩÁöÑÂØπË±°‰∫ãÂÖàÊèê‰æõ‰∏Ä‰∏™‰ª£ÁêÜÊàñËÄÖËØ¥Âç†‰ΩçÁ¨¶„ÄÇÊúÄÂ∏∏ËßÅÁöÑÂú∫ÊôØÊòØÂú®ÂõæÁâáÁöÑÊáíÂä†ËΩΩ‰∏≠ÔºåÂÖàÁî®‰∏ÄÁßç loading ÁöÑÂõæÁâáÂç†‰ΩçÔºåÁÑ∂ÂêéÂÜçÁî®ÂºÇÊ≠•ÁöÑÊñπÂºèÂä†ËΩΩÂõæÁâá„ÄÇÁ≠âÁúüÊ≠£ÂõæÁâáÂä†ËΩΩÂÆåÊàêÂêéÂ∞±Â°´ÂÖÖËøõÂõæÁâáËäÇÁÇπ‰∏≠Âéª„ÄÇ</li>\n<li>ÊÉ∞ÊÄßÂàùÂßãÂåñÊäÄÊúØÔºöÂ∞Ü‰ª£Á†ÅÂàùÂßãÂåñÁöÑÊó∂Êú∫Êé®ËøüÔºàÁâπÂà´ÊòØÈÇ£‰∫õÂàùÂßãÂåñÊ∂àËÄóËæÉÂ§ßÁöÑËµÑÊ∫êÔºâ</li>\n</ul>\n</li>\n<li><strong>ÈÄâÊã©Êó∂Êú∫Ôºö</strong><ul>\n<li>ÊªöÂä®Êù°ÁõëÂê¨ÔºöÂ§ßÂûãÂõæÁâáÊµÅÂú∫ÊôØÔºåÈÄöËøáÂØπÁî®Êà∑ÊªöÂä®ÁªìÊùüÂå∫ÂüüËøõË°åËÆ°ÁÆóÔºå‰ªéËÄåÂè™Âä†ËΩΩÁõÆÊ†áÂå∫ÂüüÁöÑËµÑÊ∫êÔºåËøôÊ†∑ÂèØ‰ª•ÂÆûÁé∞ËäÇÊµÅÁöÑÁõÆÁöÑ</li>\n<li>‰∫ã‰ª∂ÂõûË∞ÉÔºöÂ∏∏Áî®‰∫éÈúÄË¶ÅÁî®Êà∑‰∫§‰∫íÁöÑÂú∞ÊñπÔºåÂ¶ÇÁÇπÂáªÂä†ËΩΩÊõ¥Â§ö‰πãÁ±ªÁöÑÔºåËøô‰∫õËµÑÊ∫êÂæÄÂæÄÈÄöËøáÂú®Áî®Êà∑‰∫§‰∫íÁöÑÁû¨Èó¥ÔºàÂ¶ÇÁÇπÂáª‰∏Ä‰∏™Ëß¶ÂèëÊåâÈíÆÔºâÔºåÂèëËµ∑ AJAX ËØ∑Ê±ÇÊù•Ëé∑ÂèñËµÑÊ∫ê„ÄÇÊØîËæÉÁÆÄÂçïÔºåÂú®Ê≠§‰∏çÂÜçËµòËø∞„ÄÇ</li>\n</ul>\n</li>\n<li>ÈÅµÂæ™Ê∏êËøõÂ¢ûÂº∫ÁêÜÂøµÁêÜÂøµÂºÄÂèëÁΩëÁ´ôÔºöJavaScript Áî®‰∫éÂ¢ûÂº∫Áî®Áî®Êà∑‰ΩìÈ™åÔºå‰ΩÜÊ≤°ÊúâÔºà‰∏çÊîØÊåÅÔºâ JavaScript ‰πüËÉΩÊ≠£Â∏∏Â∑•‰ΩúÔºåÂÆåÂÖ®ÂèØ‰ª•Âª∂ËøüÂä†ËΩΩ JavaScript</li>\n<li>Â∞ÜÈ¶ñÂ±è‰ª•Â§ñÁöÑ HTML ÊîæÂú®‰∏çÊ∏≤ÊüìÁöÑÂÖÉÁ¥†‰∏≠ÔºåÂ¶ÇÈöêËóèÁöÑ <code>&lt;textarea&gt;</code>ÔºåÊàñËÄÖ <code>type</code> Â±ûÊÄß‰∏∫ÈùûÊâßË°åËÑöÊú¨ÁöÑ <code>&lt;script&gt;</code> Ê†áÁ≠æ‰∏≠ÔºåÂáèÂ∞ëÂàùÂßãÊ∏≤ÊüìÁöÑ DOM ÂÖÉÁ¥†Êï∞ÈáèÔºåÊèêÈ´òÈÄüÂ∫¶„ÄÇÁ≠âÈ¶ñÂ±èÂä†ËΩΩÂÆåÊàêÊàñËÄÖÁî®Êà∑Êìç‰ΩúÊó∂ÔºåÂÜçÂéªÊ∏≤ÊüìÂâ©‰ΩôÁöÑÈ°µÈù¢ÂÜÖÂÆπ„ÄÇ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p><strong>ËµÑÊ∫êÊ∏≤Êüì</strong></p>\n<ul>\n<li>ÈÅøÂÖçÈáçÊéíÔºåÂáèÂ∞ëÈáçÁªòÔºåÈÅøÂÖçÁôΩÂ±èÔºåÊàñËÄÖ‰∫§‰∫íËøáÁ®ã‰∏≠ÁöÑÂç°È°ø</li>\n<li>ÈÄöËøá <a href=\"https://csstriggers.com/\" target=\"_blank\" rel=\"noopener\">CSS Trigger</a> Êü•ËØ¢Âì™‰∫õÊ†∑ÂºèÂ±ûÊÄß‰ºöËß¶ÂèëÈáçÊéí‰∏éÈáçÁªò</li>\n<li><strong>ÂáèÂ∞ëÈáçÊéíÁöÑÊñπÊ≥ï</strong><ul>\n<li>È°µÈù¢ÂàùÂßãÂåñ</li>\n<li>ÂáèÂ∞ëÂØπ DOM ÂÖÉÁ¥†ÂÜÖÂÆπÊîπÂèòÔºàÂ¶ÇÔºöÊñáÊú¨ÊîπÂèò„ÄÅÂõæÁâáË¢´Âè¶‰∏Ä‰∏™ÂêåÂ∞∫ÂØ∏ÂÖÉÁ¥†Êõø‰ª£Ôºâ</li>\n<li>ÂáèÂ∞ëÂØπ DOM ÂÖÉÁ¥†Â∞∫ÂØ∏ÊîπÂèòÔºàÂõ†‰∏∫ËæπË∑ù„ÄÅÂ°´ÂÖÖ„ÄÅËæπÊ°ÜÂÆΩÂ∫¶„ÄÅÂÆΩÂ∫¶„ÄÅÈ´òÂ∫¶Á≠âÂ±ûÊÄßÊîπÂèòÔºâ</li>\n<li>ÂáèÂ∞ëÂØπ DOM ÂÖÉÁ¥†‰ΩçÁΩÆÊîπÂèò</li>\n<li>ÂáèÂ∞ëÂØπÂèØËßÅ DOM ÂÖÉÁ¥†ÁöÑÊìç‰ΩúÔºàÂ¶ÇÔºöÂ¢ûÂä†„ÄÅÁßªÂä®ÂíåÂà†Èô§Ôºâ<ul>\n<li>Â§öÊ¨° DOM Êìç‰ΩúÂêàÂπ∂‰∏∫‰∏ÄÊ¨°Â§ÑÁêÜ</li>\n<li>Â§ßÈáèÊìç‰ΩúÊó∂ÔºåÂèØÂ∞Ü DOM ËÑ±Á¶ªÊñáÊ°£ÊµÅÊàñËÄÖÈöêËóèÔºåÂæÖÊìç‰ΩúÂÆåÊàêÂêéÂÜçÈáçÊñ∞ÊÅ¢Â§ç</li>\n</ul>\n</li>\n<li>ÂáèÂ∞ëÊóãËΩ¨Â±èÂπïÁöÑÊìç‰Ωú</li>\n<li>ÂáèÂ∞ëÊîπÂèòÊµèËßàÂô®Á™óÂè£Â∞∫ÂØ∏ÁöÑÊìç‰Ωú</li>\n<li>ÂáèÂ∞ëËÆæÁΩÆÂÖÉÁ¥† style Â±ûÊÄß</li>\n<li>ÂáèÂ∞ëËÆæÁΩÆÂÖÉÁ¥† class Â±ûÊÄß</li>\n<li>ÈÄöËøáÂª∂ËøüËÆøÈóÆÂ∏ÉÂ±Ä‰ø°ÊÅØÈÅøÂÖçÈáçÊéíÁâà<ul>\n<li>Â¶Ç <code>offsetWidth</code>„ÄÅ<code>offsetHeight</code> Âíå <code>getComputedStyle</code> Á≠â</li>\n<li>ÂéüÂõ†ÔºöÊµèËßàÂô®ÈúÄË¶ÅËé∑ÂèñÊúÄÊñ∞ÂáÜÁ°ÆÁöÑÂÄºÔºåÂõ†Ê≠§ÂøÖÈ°ªÁ´ãÂç≥ËøõË°åÈáçÊéíÔºåËøôÊ†∑‰ºöÁ†¥Âùè‰∫ÜÊµèËßàÂô®ÁöÑÈòüÂàóÊï¥ÂêàÔºåÂ∞ΩÈáèÂ∞ÜÂÄºËøõË°åÁºìÂ≠ò‰ΩøÁî®</li>\n</ul>\n</li>\n<li>ÂáèÂ∞ëÂú® HTML ‰∏≠Áº©ÊîæÂõæÁâá</li>\n<li>ÈÅøÂÖçÂØπÂ§ßÈÉ®ÂàÜÈ°µÈù¢ËøõË°åÈáçÊéíÁâà<ul>\n<li>‰ΩøÁî®ÁªùÂØπÂùêÊ†áÂÆö‰ΩçÈ°µÈù¢Âä®ÁîªÁöÑÂÖÉÁ¥†Ôºå‰ΩøÂÆÉ‰Ωç‰∫éÈ°µÈù¢Â∏ÉÂ±ÄÊµÅ‰πãÂ§ñ</li>\n<li>ÂêØÂä®ÂÖÉÁ¥†Âä®ÁîªÔºåÂΩìÂÆÉÊâ©Â§ßÊó∂ÔºåÂÆÉ‰∏¥Êó∂Ë¶ÜÁõñÈÉ®ÂàÜÈ°µÈù¢</li>\n<li>ÂΩìÂä®ÁîªÁªìÊùüÊó∂ÔºåÈáçÊñ∞ÂÆö‰ΩçÔºå‰ªéËÄåÂè™‰∏ÄÊ¨°‰∏ãÁßªÊñáÊ°£ÂÖ∂‰ªñÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆ</li>\n</ul>\n</li>\n<li>ÂºÄÂêØ GPU Âä†ÈÄü<ul>\n<li>transform</li>\n<li>opacity</li>\n<li>filter</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>Áõ∏ÂÖ≥ÈìæÊé•Ôºö</strong></p>\n<ul>\n<li><a href=\"https://juejin.im/post/59b73ef75188253db70acdb5#heading-5\" target=\"_blank\" rel=\"noopener\">ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñ‰πãÂä†ËΩΩÊäÄÊúØ</a></li>\n<li><a href=\"https://juejin.im/post/5b5984b851882561da216311\" target=\"_blank\" rel=\"noopener\">ËµÑÊ∫êÊèêÁ§∫‚Äî‚Äî‰ªÄ‰πàÊòØ PreloadÔºåPrefetch Âíå PreconnectÔºü</a></li>\n<li><a href=\"https://link.juejin.im/?target=https%3A%2F%2Fgithub.com%2FGoogleChrome%2Fpreload-webpack-plugin\" target=\"_blank\" rel=\"noopener\">preload-webpack-plugin</a></li>\n<li><a href=\"https://link.juejin.im/?target=https%3A%2F%2Fwww.smashingmagazine.com%2F2016%2F02%2Fpreload-what-is-it-good-for%2F\" target=\"_blank\" rel=\"noopener\">Preload ÊäÄÊúØÁªÜËäÇ</a></li>\n</ul>\n<h2 id=\"Áî®Êà∑‰ΩìÈ™å\"><a href=\"#Áî®Êà∑‰ΩìÈ™å\" class=\"headerlink\" title=\"Áî®Êà∑‰ΩìÈ™å\"></a>Áî®Êà∑‰ΩìÈ™å</h2><ul>\n<li>Ë∞®ÊÖéÊéßÂà∂Â•Ω Web Â≠ó‰ΩìÔºå‰∏Ä‰∏™Â§ßÂ≠ó‰ΩìÂåÖË∂≥Â§üËÆ©‰Ω†Âäü‰∫è‰∏ÄÁØë<ul>\n<li>ÊéßÂà∂Â≠ó‰ΩìÂåÖÁöÑÂä†ËΩΩÊó∂Êú∫</li>\n<li>Â¶ÇÊûú‰ΩøÁî®ÁöÑÂ≠ó‰ΩìÊúâÈôêÔºåÈÇ£Â∞ΩÂèØËÉΩÂè™Â∞Ü‰ΩøÁî®ÁöÑÊñáÂ≠óÂçïÁã¨ÊâìÂåÖÔºåËÉΩÊúâÊïàÂáèÂ∞ë‰ΩìÁßØ</li>\n</ul>\n</li>\n<li>ÂàÜÊ∏ÖËΩªÈáçÁºìÊÄ•<ul>\n<li>ÈáçË¶ÅÁöÑÂÖÉÁ¥†‰ºòÂÖàÊ∏≤Êüì</li>\n<li>ËßÜÁ™óÂÜÖÁöÑÂÖÉÁ¥†‰ºòÂÖàÊ∏≤Êüì</li>\n</ul>\n</li>\n<li>ÊúçÂä°Á´ØÊ∏≤ÊüìÔºàSSRÔºâ<ul>\n<li>ÂáèÂ∞ëÈ¶ñÂ±èÈúÄË¶ÅÁöÑÊï∞ÊçÆÈáèÔºåÂâîÈô§ÂÜó‰ΩôÊï∞ÊçÆÂíåËØ∑Ê±Ç</li>\n<li>ÊéßÂà∂Â•ΩÁºìÂ≠òÔºåÂØπÊï∞ÊçÆ/È°µÈù¢ËøõË°åÂêàÁêÜÁöÑÁºìÂ≠ò</li>\n<li>È°µÈù¢ÁöÑËØ∑Ê±Ç‰ΩøÁî®ÊµÅÁöÑÂΩ¢ÂºèËøõË°å‰º†ÈÄí</li>\n</ul>\n</li>\n<li>‰ºòÂåñÁî®Êà∑ÊÑüÁü•<ul>\n<li>Âà©Áî®‰∏Ä‰∫õÂä®Áîª <strong>ËøáÊ∏°ÊïàÊûú</strong>ÔºåËÉΩÊúâÊïàÂáèÂ∞ëÁî®Êà∑ÂØπÂç°È°øÁöÑÊÑüÁü•</li>\n<li>Â∞ΩÂèØËÉΩÂà©Áî® <strong>È™®Êû∂Â±èÔºàSkeletonÔºâ/ Loading</strong> Á≠âÂáèÂ∞ëÁî®Êà∑ÂØπÁôΩÂ±èÁöÑÊÑüÁü•</li>\n<li>Âä®ÁîªÂ∏ßÊï∞Â∞ΩÈáè‰øùËØÅÂú® <strong>30 Â∏ß</strong> ‰ª•‰∏äÔºå‰ΩéÂ∏ßÊï∞„ÄÅÂç°È°øÁöÑÂä®ÁîªÂÆÅÊÑø‰∏çË¶Å</li>\n<li>JavaScript ÊâßË°åÊó∂Èó¥ÈÅøÂÖçË∂ÖËøá 100ms ÔºåË∂ÖËøáÁöÑËØùÂ∞±ÈúÄË¶ÅÂÅöÔºö<ul>\n<li>ÂØªÊâæÂèØÁºìÂ≠òÁöÑÁÇπ</li>\n<li>‰ªªÂä°ÁöÑÂàÜÂâ≤ÂºÇÊ≠•Êàñ web worker ÊâßË°å</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"ÁºñÁ†ÅÂ±ÇÈù¢\"><a href=\"#ÁºñÁ†ÅÂ±ÇÈù¢\" class=\"headerlink\" title=\"ÁºñÁ†ÅÂ±ÇÈù¢\"></a>ÁºñÁ†ÅÂ±ÇÈù¢</h1><p>ÁºñÁ†Å‰ºòÂåñÔºåÊåáÁöÑÂ∞±ÊòØÂú®‰ª£Á†ÅÁºñÂÜôÊó∂ÁöÑÔºåÈÄöËøá‰∏Ä‰∫õ <strong>ÊúÄ‰Ω≥ÂÆûË∑µ</strong>ÔºåÊèêÂçá‰ª£Á†ÅÁöÑÊâßË°åÊÄßËÉΩ„ÄÇÈÄöÂ∏∏ËøôÂπ∂‰∏ç‰ºöÂ∏¶Êù•ÈùûÂ∏∏Â§ßÁöÑÊî∂ÁõäÔºå‰ΩÜËøôÂ±û‰∫é<strong>Á®ãÂ∫èÂëòÁöÑËá™Êàë‰øÆÂÖª</strong>ÔºåËÄå‰∏îËøô‰πüÊòØÈù¢ËØï‰∏≠ÁªèÂ∏∏Ë¢´ÈóÆÂà∞ÁöÑ‰∏Ä‰∏™ÊñπÈù¢ÔºåËÄÉÂØüËá™ÊàëÁÆ°ÁêÜ‰∏éÁªÜËäÇÁöÑÂ§ÑÁêÜ„ÄÇ</p>\n<h2 id=\"JavaScript-‰ºòÂåñ\"><a href=\"#JavaScript-‰ºòÂåñ\" class=\"headerlink\" title=\"JavaScript ‰ºòÂåñ\"></a>JavaScript ‰ºòÂåñ</h2><ul>\n<li><strong>Êï∞ÊçÆËØªÂèñ</strong><ul>\n<li>ÈÄöËøá‰ΩúÁî®ÂüüÈìæ / ÂéüÂûãÈìæËØªÂèñÂèòÈáèÊàñÊñπÊ≥ïÊó∂ÔºåÈúÄË¶ÅÊõ¥Â§öÁöÑËÄóÊó∂Ôºå‰∏îË∂äÈïøË∂äÊÖ¢</li>\n<li>ÂØπË±°ÂµåÂ•óË∂äÊ∑±ÔºåËØªÂèñÂÄº‰πüË∂äÊÖ¢</li>\n<li>ÊúÄ‰Ω≥ÂÆûË∑µÔºö<ul>\n<li>Â∞ΩÈáèÂú®Â±ÄÈÉ®‰ΩúÁî®Âüü‰∏≠ËøõË°å <strong>ÂèòÈáèÁºìÂ≠ò</strong></li>\n<li>ÈÅøÂÖçÂµåÂ•óËøáÊ∑±ÁöÑÊï∞ÊçÆÁªìÊûÑÔºå<strong>Êï∞ÊçÆÊâÅÂπ≥Âåñ</strong> ÊúâÂà©‰∫éÊï∞ÊçÆÁöÑËØªÂèñÂíåÁª¥Êä§</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>Âæ™ÁéØ</strong>ÔºöÂæ™ÁéØÈÄöÂ∏∏ÊòØÁºñÁ†ÅÊÄßËÉΩÁöÑÂÖ≥ÈîÆÁÇπ<ul>\n<li>‰ª£Á†ÅÁöÑÊÄßËÉΩÈóÆÈ¢ò‰ºöÂú®Âæ™ÁéØ‰∏≠Ë¢´ÊåáÊï∞ÂÄçÊîæÂ§ß</li>\n<li>ÊúÄ‰Ω≥ÂÆûË∑µ:<ul>\n<li>Â∞ΩÂèØËÉΩ ÂáèÂ∞ëÂæ™ÁéØÊ¨°Êï∞Ôºõ<ul>\n<li>ÂáèÂ∞ëÈÅçÂéÜÁöÑÊï∞ÊçÆÈáè</li>\n<li>ÂÆåÊàêÁõÆÁöÑÂêéÈ©¨‰∏äÁªìÊùüÂæ™ÁéØ</li>\n</ul>\n</li>\n<li>ÈÅøÂÖçÂú®Âæ™ÁéØ‰∏≠ÊâßË°åÂ§ßÈáèÁöÑËøêÁÆóÔºåÈÅøÂÖçÈáçÂ§çËÆ°ÁÆóÔºåÁõ∏ÂêåÁöÑÊâßË°åÁªìÊûúÂ∫îËØ•‰ΩøÁî®ÁºìÂ≠ò</li>\n<li>JavaScript ‰∏≠‰ΩøÁî® <strong>ÂÄíÂ∫èÂæ™ÁéØ</strong> ‰ºöÁï•ÂæÆÊèêÂçáÊÄßËÉΩ</li>\n<li>Â∞ΩÈáèÈÅøÂÖç‰ΩøÁî® for-in Âæ™ÁéØÔºåÂõ†‰∏∫ÂÆÉ‰ºöÊûö‰∏æÂéüÂûãÂØπË±°ÔºåËÄóÊó∂Â§ß‰∫éÊôÆÈÄöÂæ™ÁéØ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>Êù°‰ª∂ÊµÅÁ®ãÊÄßËÉΩ</strong>ÔºöMap / Object &gt; switch &gt; if-else</li>\n<li><strong>Ê®°ÂùóÂåñ</strong>ÔºöÂ∞ùËØï‰ΩøÁî® <code>import()</code></li>\n</ul>\n<h2 id=\"DOM-‰ºòÂåñ\"><a href=\"#DOM-‰ºòÂåñ\" class=\"headerlink\" title=\"DOM ‰ºòÂåñ\"></a>DOM ‰ºòÂåñ</h2><ul>\n<li>ÂáèÂ∞ë DOM ÁöÑÂ±ÇÁ∫ßÔºåÂèØ‰ª•ÂáèÂ∞ëÊ∏≤ÊüìÂºïÊìéÂ∑•‰ΩúËøáÁ®ã‰∏≠ÁöÑËÆ°ÁÆóÈáè</li>\n<li>ÂáèÂ∞ëËÆøÈóÆ DOM ÁöÑÊ¨°Êï∞ÔºåÂ¶ÇÈúÄÂ§öÊ¨°ÔºåÂ∞Ü DOM ÁºìÂ≠ò‰∫éÂèòÈáè‰∏≠</li>\n<li>‰ΩøÁî®‰∫ã‰ª∂ÂßîÊâòÔºåÈÅøÂÖçÂ§ßÈáèÁöÑ‰∫ã‰ª∂ÁªëÂÆö</li>\n<li>‰ΩøÁî® <code>requestAnimationFrame</code> Êù•ÂÆûÁé∞ËßÜËßâÂèòÂåñÔºö‰∏ÄËà¨Êù•ËØ¥Êàë‰ª¨‰ºö‰ΩøÁî® <code>setTimeout</code> Êàñ <code>setInterval</code> Êù•ÊâßË°åÂä®Áîª‰πãÁ±ªÁöÑËßÜËßâÂèòÂåñÔºå‰ΩÜËøôÁßçÂÅöÊ≥ïÁöÑÈóÆÈ¢òÊòØÔºåÂõûË∞ÉÂ∞ÜÂú®Â∏ß‰∏≠ÁöÑÊüê‰∏™Êó∂ÁÇπËøêË°åÔºåÂèØËÉΩÂàöÂ•ΩÂú®Êú´Â∞æÔºåËÄåËøôÂèØËÉΩÁªèÂ∏∏‰ºö‰ΩøÊàë‰ª¨‰∏¢Â§±Â∏ßÔºåÂØºËá¥Âç°È°ø</li>\n</ul>\n<h2 id=\"CSS-‰ºòÂåñ\"><a href=\"#CSS-‰ºòÂåñ\" class=\"headerlink\" title=\"CSS ‰ºòÂåñ\"></a>CSS ‰ºòÂåñ</h2><ul>\n<li><strong>Â±ÇÁ∫ßÊâÅÂπ≥</strong>ÔºåÈÅøÂÖçËøá‰∫éÂ§öÂ±ÇÁ∫ßÁöÑÈÄâÊã©Âô®ÂµåÂ•ó</li>\n<li><strong>ÁâπÂÆöÁöÑÈÄâÊã©Âô®</strong>ÔºöÂ•ΩËøá‰∏ÄÂ±Ç‰∏ÄÂ±ÇÊü•ÊâæÔºö<code>.xxx-child-text{}</code> ‰ºò‰∫é <code>.xxx .child .text{}</code></li>\n<li><strong>ÂáèÂ∞ë‰ΩøÁî®ÈÄöÈÖçÁ¨¶‰∏éÂ±ûÊÄßÈÄâÊã©Âô®</strong><ul>\n<li>ÈÄâÊã©Âô®Ë∂äÂ§çÊùÇÔºåÂåπÈÖçÁî®ÁöÑÊó∂Èó¥Ë∂äÂ§ö</li>\n</ul>\n</li>\n<li><strong>ÂáèÂ∞ë‰∏çÂøÖË¶ÅÁöÑÂ§ö‰ΩôÂ±ûÊÄß</strong></li>\n<li>‰ΩøÁî® <strong>Âä®ÁîªÂ±ûÊÄß</strong> ÂÆûÁé∞Âä®ÁîªÔºåÂä®ÁîªÊó∂ËÑ±Á¶ªÊñáÊ°£ÊµÅÔºåÂºÄÂêØÁ°¨‰ª∂Âä†ÈÄüÔºå‰ºòÂÖà‰ΩøÁî® CSS Âä®Áîª</li>\n<li>‰ΩøÁî® <code>&lt;link&gt;</code> Êõø‰ª£ÂéüÁîü @import</li>\n<li>ÈÅøÂÖç‰ΩøÁî®Ë°®ËææÂºèÔºå‰æãÂ¶Ç <code>font-color: expression((new Date()).getHours()%3?&quot;#FFF&quot;:&quot;#AAA&quot;)</code> Ëøô‰∏™Ë°®ËææÂºè‰ºöÊåÅÁª≠Âú∞Âú®È°µÈù¢‰∏äËÆ°ÁÆóÊ†∑ÂºèÔºåÂΩ±ÂìçÈ°µÈù¢ÊÄßËÉΩ</li>\n</ul>\n<h2 id=\"HTML-‰ºòÂåñ\"><a href=\"#HTML-‰ºòÂåñ\" class=\"headerlink\" title=\"HTML ‰ºòÂåñ\"></a>HTML ‰ºòÂåñ</h2><ul>\n<li>ÂÜôÂØπÊñáÊ°£Á±ªÂûãÂ£∞Êòé <code>&lt;!DOCTYPE html&gt;</code> ËøôËÉΩÁ°Æ‰øùÊµèËßàÂô®ÊåâÁÖßÊúÄ‰Ω≥ÁöÑÁõ∏ÂÖ≥ËßÑËåÉËøõË°åÊ∏≤Êüì</li>\n<li><strong>ÂáèÂ∞ë DOM Êï∞Èáè</strong>ÔºåÈÅøÂÖç‰∏çÂøÖË¶ÅÁöÑËäÇÁÇπÊàñÂµåÂ•óÔºõ</li>\n<li>ÈÅøÂÖçÁ©∫ÁöÑ <code>src</code> Âíå <code>href</code>ÔºöÂΩì <code>src</code> Âíå <code>href</code> ‰∏∫Á©∫Êó∂ÔºåÊµèËßàÂô®‰ºöÈªòËÆ§Â°´ÂÖÖÈìæÊé•ÔºåÂπ∂Â∞ÜÈ°µÈù¢ÁöÑÂÜÖÂÆπÂä†ËΩΩËøõÊù•‰Ωú‰∏∫ÂÆÉ‰ª¨ÁöÑÂÄºÔºåÂÖ∑‰ΩìËßÑÂàôÂ¶Ç‰∏ãÔºö<ul>\n<li>IE Âêë<strong>È°µÈù¢ÊâÄÂú®ÁöÑÁõÆÂΩï</strong>ÂèëÈÄÅËØ∑Ê±Ç</li>\n<li>Safari„ÄÅChrome„ÄÅFirefox ÂêëÈ°µÈù¢Êú¨Ë∫´ URL ÂèëÈÄÅËØ∑Ê±Ç</li>\n<li>Opera ‰∏çÊâßË°å‰ªª‰ΩïÊìç‰Ωú</li>\n</ul>\n</li>\n<li>ÂõæÁâáÊèêÂâç <strong>ÊåáÂÆöÂÆΩÈ´ò</strong> ÊàñËÄÖ <strong>ËÑ±Á¶ªÊñáÊ°£ÊµÅ</strong>ÔºåËÉΩÊúâÊïàÂáèÂ∞ëÂõ†ÂõæÁâáÂä†ËΩΩÂØºËá¥ÁöÑÈ°µÈù¢ÂõûÊµÅ</li>\n<li><strong>ËØ≠‰πâÂåñÊ†áÁ≠æ</strong> ÊúâÂà©‰∫é SEO ‰∏éÊµèËßàÂô®ÁöÑËß£ÊûêÊó∂Èó¥</li>\n<li>ÂáèÂ∞ë‰ΩøÁî® table ËøõË°åÂ∏ÉÂ±ÄÔºåÈÅøÂÖç‰ΩøÁî® <code>&lt;br/&gt;</code> ‰∏é <code>&lt;hr/&gt;</code></li>\n</ul>\n<h1 id=\"ÂèÇËÄÉËµÑÊñô\"><a href=\"#ÂèÇËÄÉËµÑÊñô\" class=\"headerlink\" title=\"ÂèÇËÄÉËµÑÊñô\"></a>ÂèÇËÄÉËµÑÊñô</h1><p><strong>ÊÄßËÉΩ‰ºòÂåñÊñπÊ°àÊ∏ÖÂçï</strong></p>\n<ul>\n<li>üßæ <a href=\"https://juejin.im/post/5a966bd16fb9a0635172a50a\" target=\"_blank\" rel=\"noopener\">2018 ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñÊ∏ÖÂçï</a></li>\n<li>üßæ <a href=\"https://github.com/berwin/Blog/issues/23\" target=\"_blank\" rel=\"noopener\">Âó®ÔºåÈÄÅ‰Ω†‰∏ÄÂº† Web ÊÄßËÉΩ‰ºòÂåñÂú∞Âõæ</a></li>\n<li>üßæ <a href=\"https://segmentfault.com/a/1190000018263418?utm_medium=hao.caibaojian.com&amp;utm_source=hao.caibaojian.com&amp;share_user=1030000000178452\" target=\"_blank\" rel=\"noopener\">Web ÊÄßËÉΩ‰ºòÂåñÊÄªÁªì</a></li>\n<li>üßæ <a href=\"https://juejin.im/post/5b025d856fb9a07aa0484e54\" target=\"_blank\" rel=\"noopener\">Â§ßÂâçÁ´ØÊÄßËÉΩÊÄªÁªì</a></li>\n<li>üßæ <a href=\"https://juejin.im/post/5b6133a351882519d346853f\" target=\"_blank\" rel=\"noopener\">CSS ÊÄßËÉΩ‰ºòÂåñÁöÑ 8 ‰∏™ÊäÄÂ∑ß</a></li>\n<li>üßæ <a href=\"https://juejin.im/post/5b7e1f81f265da436a075db4\" target=\"_blank\" rel=\"noopener\">Á≤æËØª „ÄäÈ´òÊïà JavaScript„Äã</a></li>\n<li>üßæ <a href=\"https://juejin.im/post/5c011e0c5188252ea66afdfa\" target=\"_blank\" rel=\"noopener\">Web ÊÄßËÉΩ‰ºòÂåñÊ∏ÖÂçï</a></li>\n<li>üóÉ <a href=\"https://github.com/barretlee/performance-column/milestone/1\" target=\"_blank\" rel=\"noopener\">ÊÄßËÉΩÁõ∏ÂÖ≥Âü∫Á°ÄÁü•ËØÜÁÇπÁ†îÁ©∂</a></li>\n<li>üóÉ <a href=\"https://github.com/liangsenzhi/awesome-wpo-chinese\" target=\"_blank\" rel=\"noopener\">ÂâçÁ´ØÊÄßËÉΩ‰ºòÂåñËµÑÊ∫êÂàóË°®</a></li>\n<li>üóÉ <a href=\"https://github.com/davidsonfellipe/awesome-wpo\" target=\"_blank\" rel=\"noopener\">awesome-wpo</a></li>\n<li>üóÉ <a href=\"https://github.com/drublic/checklist\" target=\"_blank\" rel=\"noopener\">A Frontend Checklist for Websites</a></li>\n</ul>\n<p><strong>‰ºòÂåñÊñπÂêë</strong></p>\n<ul>\n<li>üé° <a href=\"https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/\" target=\"_blank\" rel=\"noopener\">ÊµèËßàÂô®ÁöÑÂ∑•‰ΩúÂéüÁêÜÔºöÊñ∞ÂºèÁΩëÁªúÊµèËßàÂô®ÂπïÂêéÊè≠Áßò</a></li>\n<li>üé° <a href=\"http://velocity.oreilly.com.cn/2013/ppts/16_ms_optimization--web_front-end_performance_optimization.pdf\" target=\"_blank\" rel=\"noopener\">16 ÊØ´ÁßíÁöÑ‰ºòÂåñ</a></li>\n<li>üé° <a href=\"https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution\" target=\"_blank\" rel=\"noopener\">Optimize JavaScript Execution ‰ºòÂåñ JavaScript ÊâßË°å</a></li>\n</ul>"},{"title":"ÂèØËßÜÂåñÈÖçÁΩÆÁ≥ªÁªüÈ°µÈù¢ÊâπÈáèÊõ¥Êñ∞Â∑•ÂÖ∑ÁöÑÂºÄÂèëÂÆûË∑µ","date":"2019-11-15T00:00:00.000Z","_content":"\n> È¶ñÂèë‰∫éÔºö[ÂèØËßÜÂåñÈÖçÁΩÆÁ≥ªÁªüÈ°µÈù¢ÊâπÈáèÊõ¥Êñ∞Â∑•ÂÖ∑ÁöÑÂºÄÂèëÂÆûË∑µ](https://juejin.im/post/5dc8fd92f265da4d287f4551)\n\nTotoroX ‰Ωú‰∏∫ PPmoney ÈõÜÂõ¢ÂÜÖÈÉ®ÈõÜ UI Âíå‰∏öÂä°ÈÄªËæë‰∫é‰∏Ä‰ΩìÁöÑÂâçÁ´ØÈ°µÈù¢ÂèØËßÜÂåñÈÖçÁΩÆÁ≥ªÁªüÔºå‰∏∫ËøêËê•ÈÉ®Èó®Êèê‰æõÂø´ÈÄüÊûÑÂª∫ÂâçÁ´ØÈ°µÈù¢ÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇËØ•Á≥ªÁªü‰∏∫È°µÈù¢ÂºÄÂèëÂèäËøêËê•‰∫∫ÂëòÊèê‰æõ‰∫ÜÂº∫Â§ßÁöÑÁªÑ‰ª∂Â∏ÇÂú∫ÔºåÈÄöËøáÊãñÊãΩ„ÄÅË°®ÂçïÈÖçÁΩÆÁ≠âÊñπÂºèÂÆûÁé∞‰∏ìÈ¢òÈ°µÈù¢ÁöÑ‰∏öÂä°ÈúÄÊ±Ç„ÄÇÁõÆÂâçÂ∑≤ÊîØÊíëÈõÜÂõ¢ 850+Ëê•ÈîÄÊ¥ªÂä®È°µÈù¢„ÄÇ\n\n## ‰∏öÂä°ÁóõÁÇπ\n\nÂú®‰∫ßÂìÅËÆæËÆ°Èò∂ÊÆµÔºå‰∫ßÂìÅÁªèÁêÜ‰ºöÊ†πÊçÆÂØπÁî®Êà∑ÁöÑË∞ÉÁ†îÔºåÂÄüÂä©Áî®Êà∑ÁîªÂÉèÁêÜËß£Áî®Êà∑ÁöÑÈúÄÊ±ÇÔºåÊÉ≥ÊÉ≥Áî®Êà∑‰ΩøÁî®ÁöÑÂú∫ÊôØÔºå‰ª•Âèä‰ªñ‰ª¨ÂèØËÉΩ‰ºöÈÅáÂà∞ÁöÑÂõ∞Èöæ„ÄÇÈöèÁùÄ‰∫ßÂìÅ‰∏äÁ∫øÂêéÔºåËøêËê•Âõ¢ÈòüÈÄöËøáËΩ¨ÂåñÊºèÊñóÂàÜÊûêÁî®Êà∑‰∫§‰∫íË°å‰∏∫‰ª•ÂèäÊúÄÁªàÁöÑËΩ¨ÂåñÁöÑÂÆûÈôÖÊïàÊûú„ÄÇÊâÄ‰ª•Ëøô‰∏™Èò∂ÊÆµÔºåÈöèÁùÄÁúüÂÆûÁî®Êà∑Áæ§‰ΩìÁöÑÁßØÁ¥ØÔºåÂú®ËÆæËÆ°Èò∂ÊÆµËôöÊûÑÁöÑÁî®Êà∑ÁîªÂÉèÈúÄË¶ÅÈáçÊñ∞Ë∞ÉÁ†î„ÄÅËÆæÊÉ≥„ÄÇ\n\nËÄåÂú®ÊäÄÊúØÁöÑËßíÂ∫¶ÔºåÊàë‰ª¨‰πüÂ∏åÊúõÈÄöËøáÁî®Êà∑Ë°å‰∏∫Êï∞ÊçÆÔºå‰∏∫‰∫ßÂìÅËøêËê•Êèê‰æõÊõ¥Â•ΩÁöÑÊîØÊíëÔºå‰æãÂ¶Ç‰∏∫‰∏çÂêåÁöÑÁî®Êà∑Êèê‰æõ‰∏çÂêå UI ÁöÑÂâçÁ´ØÈ°µÈù¢ÔºåÈÄöËøáÂØπÊØîÁöÑÊñπÊ≥ïËßÇÂØüÊï∞ÊçÆÂèòÂåñÔºå‰ª•Ê≠§‰Ωú‰∏∫ÂØπÁî®Êà∑Ë°å‰∏∫ÁöÑÂáÜÁ°ÆÂà§Êñ≠„ÄÇ\n\n‰ª•‰∏ãÈù¢ÁöÑËê•ÈîÄÊ¥ªÂä®È°µ‰∏∫‰æãÔºåÊàë‰ª¨‰ºöÂú®Êó¢ÊúâÁöÑÈ°µÈù¢ÈÖçÁΩÆ‰∏≠ÁîüÊàêÊñ∞ÁöÑÈ°µÈù¢ÔºåÂπ∂Ê†πÊçÆËÆæËÆ°Ë¶ÅÊ±ÇËøõË°åÂ±ÄÈÉ®ÁöÑË∞ÉÊï¥ÔºåÈô§‰∫Ü UI ÈÉ®ÂàÜÔºåÂÜÖÈÉ®ÈÄªËæëÂåÖÊã¨ÂüãÁÇπÊï∞ÊçÆ„ÄÅ‰∫ã‰ª∂ÈìæÊù°ÂÖ≥Á≥ªÁ≠â‰πü‰ºöËøõË°åÁõ∏ÂÖ≥ÁöÑ‰øÆÊ≠£„ÄÇÂú®Ê≠§ÈúÄÊ±ÇËÉåÊôØ‰πã‰∏ãÔºåÂ¶ÇÊûúÈúÄË¶Å‰∫∫Â∑•ÊâãÂä®ÂØπÊØè‰∏™ÈÖçÁΩÆÈ°µÈù¢ËøõË°å‰øÆÊîπÔºåËøôÂ∞Ü‰ºöËÄóË¥πÂ§ßÈáèÁöÑ‰∫∫ÂäõËµÑÊ∫ê„ÄÇËÄå‰∏îÔºå‰∏äÊñáÊèêÂà∞‰ºöÊ∂âÂèäÈÄªËæëÁöÑ‰øÆÊîπÔºåÈÖçÁΩÆ‰∫∫Âëò‰∏çÊòìÂèëÁé∞ÂèòÊõ¥ÁöÑÂú∞ÊñπÔºåÊó†Ê≥ïÂØπ‰øÆÊîπÂêéÁöÑÈ°µÈù¢ËøõË°åÊ†°È™å„ÄÇÁªº‰∏äÊâÄËø∞ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏ÄÊ¨æÂØπÊØîÂâçÂêéÂèòÂåñÁöÑÂ∑•ÂÖ∑ÔºåËÉΩÂ§üÂèØËßÜÂåñÂú∞ÂØπ‰∏çÂêåÁöÑÈÖçÁΩÆÊï∞ÊçÆËøõË°åÂØπÊØîÔºåÂπ∂ÈÄöËøáÂõæÂΩ¢ÁªòÂà∂ÁöÑÂΩ¢ÂºèÊ∏ÖÊô∞Áü•ÈÅìÈÖçÁΩÆÊï∞ÊçÆÊ†ë‰∏≠Âì™‰∫õËäÇÁÇπÊ≤°Êúâ‰øÆÊîπÔºåÂì™‰∫õËäÇÁÇπ‰øÆÊîπ‰∫ÜÔºå‰øÆÊîπÂâçÂêéÁöÑÂÄºÂèàÊòØ‰ªÄ‰πàÔºåÂ∞±Â•ΩÂÉèÊàë‰ª¨ËøõË°å‰ª£Á†ÅÂçèÂä©Êó∂ÈÄöËøá `git diff` ËÉΩÂ§üÁü•ÈÅìÊñá‰ª∂‰∏≠Âì™Ë°å‰ª£Á†ÅÂèëÁîü‰∫ÜÂÜ≤Á™ÅÔºåÈÄöËøá‰∫∫Â∑•Âà§Êñ≠ÂØπÂÜ≤Á™ÅËøõË°å‰øÆÊîπÂêàÂπ∂ÔºåÂπ∂ÊúÄÁªàËææÂà∞Êàë‰ª¨ÈúÄË¶ÅÁöÑÊïàÊûú„ÄÇ\n\n![AB Test](https://img.mrsingsing.com/diff-tool-abtest.jpg)\n\nTotoroX Âü∫‰∫éÁî®Êà∑ÈÖçÁΩÆÁöÑÊï∞ÊçÆÁªÑË£ÖÁîüÊàêÈ°µÈù¢ÔºåÈÖçÁΩÆÊï∞ÊçÆÂùáÁî±ÁªÑ‰ª∂Â∏ÇÂú∫ÁöÑÁâ©ÊñôÊîØÊíëÔºåÂçï‰∏™ÁªÑ‰ª∂ÁöÑÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÂü∫Êú¨Áõ∏ÂêåÔºåÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÔºöÂîØ‰∏ÄÊ†áËØÜ„ÄÅÁªÑ‰ª∂ÂêçÁß∞„ÄÅÁªÑ‰ª∂Â±ûÊÄß„ÄÅÁªÑ‰ª∂Ê†∑Âºè„ÄÅÁªÑ‰ª∂‰∫ã‰ª∂Èìæ‰ª•ÂèäÂä®ÁîªÁõ∏ÂÖ≥ÈÖçÁΩÆÁ≠â„ÄÇÁªÑ‰ª∂Èó¥Âú®ÈÖçÁΩÆÊï∞ÊçÆÁöÑÈõÜÂêà‰∏≠ÊòØÊâÅÂπ≥ÂåñÁöÑÔºåÈÄöËøáÂêÑÁªÑ‰ª∂ÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ÁöÑÊ†áËØÜÈõÜÂêàÁõ∏‰∫íÂÖ≥ËÅîËµ∑Êù•ÔºåËøôÊ†∑ÁöÑÊï∞ÊçÆÁªìÊûÑËÆæËÆ°ÈÅøÂÖç‰∫ÜÂõ†‰∏∫ÂµåÂ•óÂ±ÇÁ∫ßËøáÊ∑±ËÄå‰∫ßÁîüÁöÑÈóÆÈ¢ò„ÄÇÂü∫‰∫éËøô‰∫õÊù°‰ª∂Ôºå‰∏∫Â§öË∑ØÂ∑ÆÂºÇÂåñÂØπÊØî‰ª•ÂèäÂêàÂπ∂Êèê‰æõ‰∫ÜÂèØËÉΩ„ÄÇ\n\n<!-- more -->\n\n## Â∑ÆÂºÇÂåñÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°\n\nÂú®ËøõË°åÈÖçÁΩÆÊï∞ÊçÆÁöÑÂØπÊØîÂêàÂπ∂ÂâçÔºåÈúÄË¶ÅËÆæËÆ°Âá∫ËÉΩÂ§üÂáÜÁ°ÆÊèèËø∞Êï∞ÊçÆÂèòÂåñÂâçÂêéÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ\n\nÂú® TotoroX ‰∏≠ÔºåÈÖçÁΩÆÊï∞ÊçÆÁöÑÁªìÊûÑÊ®°Âºè‰∏é JSON ÁöÑÁªìÊûÑÊ®°Âºè‰∏ÄËá¥ÔºåÂõ†Ê≠§Êï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°Â∫î‰ª• JSON ÁöÑÊï∞ÊçÆÁªìÊûÑ‰∏∫Âü∫Á°Ä„ÄÇ\n\nËÄåÂú® JSON ‰∏≠ÂÄºÂ≠òÂú®‰ª•‰∏ãÂá†ÁßçÊï∞ÊçÆÁ±ªÂûãÔºö\n\n- null\n- Â≠óÁ¨¶‰∏≤\n- Â∏ÉÂ∞îÂÄº\n- Êï∞ÂÄº\n- Êï∞ÁªÑ\n- ÂØπË±°\n\nÂõ†Ê≠§ÔºåÊàë‰ª¨‰∏çÁî®ËÄÉËôëËØ∏Â¶Ç Date„ÄÅFunction„ÄÅSymbol„ÄÅSet Á≠âÊï∞ÊçÆÁ±ªÂûãÁöÑÂÄº„ÄÇ\n\nÂêåÊó∂ÔºåÂú®ËÆæÂÆöÁöÑÈÖçÁΩÆÊï∞ÊçÆ‰∏≠‰∏çËÉΩÂ≠òÂú®Á©∫ÂÄº `null`ÔºåÂ¶ÇÊûúË¶ÅË°®Á§∫‰∏çÂØπÊüêÈÖçÁΩÆÈ°π‰ΩúÈÖçÁΩÆÔºåÂÆûÈôÖ‰∏ä‰ºöÈááÁî®ÈªòËÆ§ÁöÑÈÖçÁΩÆÂ±ûÊÄßÔºåÊâÄ‰ª•Âú®ÂÆûÈôÖÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ÔºåÊòØ‰∏ç‰ºöÂ≠òÂú®Á©∫ÂÄºÂ≠òÂú®ÔºåÂèØ‰ª•ÂøΩÁï•ËøôÁßçÊÉÖÂÜµ„ÄÇ\n\nÁªºÂêà‰∏äËø∞Ôºå‰ªéÂ§ßËá¥‰∏äËÉΩÂàÜ‰∏∫‰∏§Â§ßÁ±ªÊï∞ÊçÆÁ±ªÂûãÔºö\n\n- Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºöÂ≠óÁ¨¶‰∏≤„ÄÅÂ∏ÉÂ∞îÂÄº„ÄÅÊï∞ÂÄº\n- ÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÔºöÊï∞ÁªÑ„ÄÅÂØπË±°\n\nÈÇ£‰πàÊàë‰ª¨ÊòØÊÄéÊ†∑ÂéªÊèèËø∞ JSON ÂØπÊØîÂâçÂêéÂèòÊõ¥Áä∂ÊÄÅÂë¢Ôºü\n\nJSON ÊòØÁõÆÂâçÂ∫îÁî®ÂπøÊ≥õÁöÑÊï∞ÊçÆ‰∫§Êç¢Ê†ºÂºèÔºåÈÇ£‰πà‰∫§Êç¢ÂèåÊñπËÇØÂÆöÈúÄË¶ÅÂØπÊï∞ÊçÆËøõË°åÁ∫¶ÂÆöÂíåÊ†°È™åÔºåËÄå JSON Schema Â∞±ÊòØÊâÆÊºîÂÆö‰πâ JSON Êï∞ÊçÆÁ∫¶ÊùüÁöÑÊ†áÂáÜ„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨Â∞ùËØïÂºïÂÖ• JSON Schema ÁöÑÊ¶ÇÂøµÔºåÂπ∂ÁªìÂêàÂÆûÈôÖÂäüÁî®ËøõË°åÊîπÈÄ†„ÄÇ\n\n‰º†ÁªüÁöÑ JSON Schema Ë°®Áé∞‰∏∫ËøôÊ†∑Ôºö\n\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"http://example.com/product.schema.json\",\n  \"title\": \"Product\",\n  \"description\": \"A product from Acme's catalog\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"productId\": {\n      \"description\": \"The unique identifier for a product\",\n      \"type\": \"integer\"\n    },\n    \"productName\": {\n      \"description\": \"Name of the product\",\n      \"type\": \"string\"\n    },\n    \"price\": {\n      \"description\": \"The price of the product\",\n      \"type\": \"number\",\n      \"exclusiveMinimum\": 0\n    },\n    \"tags\": {\n      \"description\": \"Tags for the product\",\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"minItems\": 1,\n      \"uniqueItems\": true\n    },\n    \"dimensions\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"length\": {\n          \"type\": \"number\"\n        },\n        \"width\": {\n          \"type\": \"number\"\n        },\n        \"height\": {\n          \"type\": \"number\"\n        }\n      },\n      \"required\": [\"length\", \"width\", \"height\"]\n    }\n  },\n  \"required\": [\"productId\", \"productName\", \"price\"]\n}\n```\n\n‰ªéÂΩ¢Âºè‰∏äÊù•ËÆ≤ÔºåJSON Schema ËøòÊòØ JSON ÁöÑÊ†ºÂºèÔºå‰ΩÜ‰∏çÂêåÁöÑÊòØÔºåJSON Schema ‰ºöÂú®ÂéüÊù•ÁöÑ JSON Âü∫Á°Ä‰∏äÂú®ÊØè‰∏™Â±ÇÁ∫ßÁöÑÊï∞ÊçÆÂ§ñÂåÖË£Ö‰∫Ü‰∏ÄÂ±ÇÁî®‰ª•ÊèèËø∞ÂØπÂ∫îÂ±ÇÁ∫ßÂÄºÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂåÖÊã¨ÂØπÂ∫îÂ±ÇÁ∫ßÁöÑÂÄº„ÄÅÊèèËø∞„ÄÅÊï∞ÊçÆÁ±ªÂûã‰ª•ÂèäÂÖ∂ÂÆÉÈ¢ùÂ§ñÈÖçÁΩÆÁöÑ‰ø°ÊÅØ„ÄÇ\n\nÂú®ÁªìÊûÑ‰∏äÔºåÊàë‰ª¨Ê≤øÁî®‰∫Ü JSON Schema ÁöÑ‰∏ÄÂ•óÊ†áÂáÜÔºåÂú®Ê∫êÊï∞ÊçÆÂü∫Á°Ä‰∏äÈÄöËøáÈÅçÂéÜÈÄíÂΩíÁöÑÊñπÊ≥ïÂØπÊï∞ÊçÆËøõË°åÊèèËø∞„ÄÇËÄåÂú®ÊèèËø∞ÁöÑ‰ø°ÊÅØ‰∏äÔºåÊàë‰ª¨ÈíàÂØπÂÆûÈôÖÁöÑÂ∫îÁî®Âú∫ÊôØËøõË°å‰∫ÜÂÆöÂà∂„ÄÇ\n\nÊèèËø∞‰ø°ÊÅØ‰∏≠ÂøÖ‰∏çÂèØÂ∞ëÁöÑÂ∞±ÊòØÂØπÊï∞ÊçÆÂèòÂåñ‰ø°ÊÅØÁöÑÊèèËø∞ÔºåÊàë‰ª¨ÂèÇËÄÉ‰∫Ü Git ÁÆ°ÁêÜ‰ª£Á†ÅÂèòÊõ¥ÁöÑÁ≠ñÁï•ÔºåÂú®‰∏§‰∏§ÂØπÊØî‰∏ãÔºåÊàë‰ª¨Ê¢≥ÁêÜÂá∫ÂèØËÉΩ‰∫ßÁîüÁöÑÂõõÁßçÂÄºÊØîËæÉÊÉÖÂÜµÔºö\n\n- **Áõ∏Á≠âÔºàEqualÔºâ**ÔºöÂΩì‰∏§‰∏™Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄº‰∏•Ê†ºÁõ∏Á≠âÊó∂ÔºåÂàô‰∏∫Áõ∏Á≠âÁä∂ÊÄÅÔºõËÄåÂØπ‰∫éÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÔºåÈúÄË¶ÅÊèê‰æõÈ¢ùÂ§ñÁöÑÊâãÊÆµËøõË°åÂåπÈÖç\n- **Êñ∞Â¢ûÔºàAddÔºâ**ÔºöÂΩìÂØπË±°Èó¥ÂØπÊØîÊó∂ÔºåÁõÆÊ†áÂØπË±°Â≠òÂú®Êñ∞Â¢ûÁöÑÈîÆÊó∂ÔºåÊèèËø∞ËØ•ÈîÆÂÄº‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅÔºõÂêåÁêÜÔºåÂΩìÊï∞ÁªÑ‰∏≠Êó†ÂØπÂ∫îÁöÑÂåπÈÖçÈ°πÊó∂ÔºåÂàô‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅ\n- **Âà†Èô§ÔºàDeleteÔºâ**Ôºö‰∏éÊñ∞Â¢ûÁä∂ÊÄÅÁ±ª‰ººÔºåÂΩìÂØπË±°Èó¥ÂØπÊØîÊó∂ÔºåÁõÆÊ†áÂØπË±°Â≠òÂú®Âà†Èô§ÁöÑÈîÆÊó∂ÔºåÊèèËø∞ËØ•ÈîÆÂÄº‰∏∫Âà†Èô§Áä∂ÊÄÅÔºåËÄåÊï∞ÁªÑ‰∏≠ÂØπÂ∫îÁöÑÂåπÈÖçÈ°π‰∏çÂ≠òÂú®Êó∂ÔºåÂàô‰∏∫Âà†Èô§Áä∂ÊÄÅ\n- **ÂÜ≤Á™ÅÔºàConflictÔºâ**ÔºöÂΩì‰∏§‰∏™Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄº‰∏ç‰∏•Ê†ºÁõ∏Á≠âÊó∂ÔºåÂàô‰∏∫ÂÜ≤Á™ÅÁä∂ÊÄÅ\n\n‰∏æ‰∏™‰æãÂ≠êÔºåÂ¶Ç‰∏ã‰∏∫‰∏§‰∏™‰∏™‰ªÖÊúâ‰∏Ä‰∏™ÊåâÈíÆÁªÑ‰ª∂ÁöÑÈÖçÁΩÆÈ°µÊï∞ÊçÆÈõÜÂêàÔºö\n\n![‰øÆÊîπÂâçÂêéÁöÑÈÖçÁΩÆÊï∞ÊçÆ](https://img.mrsingsing.com/diff-tool-data-structure-comparation-.jpg)\n\nÈÄöËøá diff ÂêéÈ¢ÑËÆæËÉΩ‰∫ßÁîüÁöÑÊï∞ÊçÆÁªìÊûÑÔºö\n\n![ÂØπÊØîÂêé‰∫ßÁîüÁöÑÊï∞ÊçÆÁªìÊûÑ](https://img.mrsingsing.com/diff-tool-result-data-structure.jpg)\n\nÊàë‰ª¨ÂØπÊèèËø∞ÂèòÂåñÁöÑÊï∞ÊçÆÁªìÊûÑËøõË°å‰∫ÜÁ∫¶ÂÆöÔºö\n\n- ÂØπË±°Á±ªÂûãÂíåÊï∞ÁªÑÁ±ªÂûãÁöÑÂÄº‰ΩøÁî® `_properties` Â≠óÊÆµÊèèËø∞ÔºåÂØπÂ∫îÂÄºË¢´Ê∫êÊï∞ÊçÆÂØπÂ∫îÁöÑÊï∞ÊçÆÁ±ªÂûãÂåÖË£π\n- Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄºÊ†πÊçÆÂÖ∑‰ΩìÂÄºÁöÑÁä∂ÊÄÅ `_status` ÂÜ≥ÂÆöÂ±ïÁ§∫ÁöÑÂ≠óÊÆµ\n  - Áõ∏Á≠âÔºàEqualÔºâÔºö‰ΩøÁî® `_origin` Ë°®Á§∫ÂÄº\n  - Êñ∞Â¢ûÔºàAddÔºâÔºö‰ΩøÁî® `_target` Ë°®Á§∫Êñ∞Â¢ûÁöÑÂÄº\n  - Âà†Èô§ÔºàDeleteÔºâÔºö‰ΩøÁî® `_origin` Ë°®Á§∫Âà†Èô§ÁöÑÂÄº\n  - ÂÜ≤Á™ÅÔºàConflictÔºâÔºö‰ΩøÁî® `_orign` Ë°®Á§∫Êõ¥ÊîπÂâçÁöÑÂÄºÔºå`_target` Ë°®Á§∫Êõ¥ÊîπÂêéÁöÑÂÄº\n\n‰Ω†‰πüËÆ∏‰ºöÂèëÁé∞Âç≥‰æøÊòØÂØπË±°Á±ªÂûãÂíåÊï∞ÁªÑÁ±ªÂûãÔºå‰πü‰ºöÊúâ `_status` Â≠óÊÆµÊèèËø∞Êõ¥ÊîπÁä∂ÊÄÅ„ÄÇËøôÊòØÂõ†‰∏∫Êàë‰ª¨Âú®‰∫§‰∫íÁïåÈù¢‰∏äÈááÂèñ‰∫Ü**Ëá™Â∫ïÂêë‰∏ä**ÁöÑÁä∂ÊÄÅÂèòÊõ¥ÊòæÁ§∫Á≠ñÁï•„ÄÇ‰æãÂ¶ÇÔºåÂΩì‰∏Ä‰∏™ÁªÑ‰ª∂ÈÖçÁΩÆÊï∞ÊçÆÂ§ßÈÉ®ÂàÜ‰øùÊåÅ‰∏çÂèòÁöÑÊÉÖÂÜµ‰∏ãÔºåÊ†∑ÂºèÈÖçÁΩÆÂ≠óÊÆµ `style` ‰∏≠ÁöÑ `height` ÈÖçÁΩÆÈ°πÊîπÂèò‰∫ÜÂÄºÔºåÈÇ£‰πàÈô§‰∫ÜÊèèËø∞ËØ•Â≠óÊÆµÁöÑ Schema ÁªìÊûÑ‰∏≠Áä∂ÊÄÅÂ≠óÊÆµ `_status` ‰ºöÊòæÁ§∫‰∏∫ÂÜ≤Á™ÅÔºàConflictÔºâÂ§ñÔºåÂú®ÈÄíÂΩíËøîÂõûÁöÑËøáÁ®ã‰∏≠Ôºå‰∫¶‰ºöÂ∞ÜÂ±ÇÁ∫ßÊõ¥È´òÁöÑÂØπË±°ÊàñÊï∞ÁªÑÁä∂ÊÄÅÊ†áËÆ∞‰∏∫ÂÜ≤Á™ÅÔºàConflictÔºâ„ÄÇ\n\n> ÈúÄË¶ÅÁâπÂà´ËØ¥ÊòéÁöÑÊòØÔºåÂ¶ÇÊûú‰∏ãÂ±ÇÁªìÊûÑ‰ªÖÊúâ‰∏ÄÁßçÂèòÂåñÁä∂ÊÄÅÊó∂Ôºå‰∏äÂ±ÇÁªìÊûÑ‰ºöÊòæÁ§∫ËØ•ÂèòÂåñÁä∂ÊÄÅÔºåËÄå‰∏ãÂ±ÇÁªìÊûÑÂ≠òÂú®‰∏çÂè™‰∏ÄÁßçÂèòÂåñÁä∂ÊÄÅÊó∂ÔºåÂàô‰∏äÂ±Ç‰ºöÁªü‰∏ÄË°®Á§∫‰∏∫ÂÜ≤Á™ÅÁä∂ÊÄÅ„ÄÇ\n\n![Áä∂ÊÄÅËá™Â∫ïÂêë‰∏ä‰º†ÈÄíÊòæÁ§∫Á≠ñÁï•](https://img.mrsingsing.com/diff-tool-status-display-tatics.jpg)\n\nËøôÊ†∑Â§ÑÁêÜÁöÑÁõÆÁöÑÔºåÊòØ‰∏∫‰∫ÜÊ†ëÁªìÊûÑÂú®ÂèØËßÜÂåñËßÜÂõæÁªÑË£ÖÊ∏≤ÊüìÂêéËÉΩÂ§üÊõ¥Ê∏ÖÊô∞Âú∞ËÆ©ÈÖçÁΩÆ‰∫∫ÂëòÁü•ÈÅìÂêÑËäÇÁÇπÁöÑÁä∂ÊÄÅ„ÄÇÊ†ëÁä∂ÁöÑÂõæÂΩ¢ËÉΩÂ§üËÆ©ÂºÄÂèë‰∫∫ÂëòÂø´ÈÄüÁü•ÈÅìÂì™‰∫õÁªÑ‰ª∂ÈÖçÁΩÆÈ°πÂèëÁîü‰∫ÜÂèòÊõ¥ÔºåÂπ∂ËÉΩÊ≤øÁùÄË∑ØÂæÑÊâæÂà∞ÂèòÂåñÁöÑÊ†πÊ∫ê„ÄÇ\n\n![ÂèØËßÜÂåñÂÜ≤Á™ÅËß£ÂÜ≥ÁïåÈù¢](https://img.mrsingsing.com/diff-tool-path-to-root.jpg)\n\n## Diff ÂäüËÉΩÂÆûÁé∞\n\nÁ∫¶ÂÆöÂ•ΩÂØπÊØîÂêéÁöÑÊï∞ÊçÆÁªìÊûÑÂêéÔºåÈÇ£‰πàÂ∞±Ë¶ÅÈÄöËøáÊñπÊ≥ïÂ∞ÅË£ÖÂØπÂèòÂåñÂâçÂêéÁöÑÈ°µÈù¢ÈÖçÁΩÆÊï∞ÊçÆËøõË°åÊØîËæÉ„ÄÇ\n\nÂú®ÂÆûÁé∞ diff ÊñπÊ≥ïÂâçÔºåÂ∞±ËÆæÊÉ≥ÂÆûÁé∞ÁöÑÊñπÊ≥ïÂ∫îËØ•ËÉΩ‰øùËØÅÂú®‰∏çÂêåÁöÑÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑ‰∏ã‰πüËÉΩ‰ΩøÁî®„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂÆûÁé∞ËøáÁ®ãÈúÄË¶ÅËÑ±Á¶ª‰∏öÂä°Áõ∏ÂÖ≥ÁöÑ‰ª£Á†ÅÔºåÂ∞ΩÂèØËÉΩ‰øùËØÅÊñπÊ≥ïÈÄöÁî®ÊÄß„ÄÇ\n\nËÄåÂú®ÂÆûÁé∞ËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ÈÅáÂà∞ÁöÑÂÖ∂‰∏≠‰∏Ä‰∏™ÈóÆÈ¢òÂ∞±ÊòØÂΩìÂØπÊØîÂèåÊñπÁöÑÊï∞ÁªÑÁ±ªÂûã‰∏îÂÖ∂Êï∞ÁªÑÊàêÂëò‰∏∫ÂØπË±°Á±ªÂûãÊó∂ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏∫Ê≠§Á±ªÊÉÖÂÜµÊèê‰æõÁî®‰∫éÂåπÈÖçÁöÑÊñπÊ≥ï„ÄÇ\n\nÊàë‰ª¨‰ª• TotoroX ÁöÑÈÖçÁΩÆ‰∏∫‰æãÊù•Ëß£Èáä‰∏∫‰ªÄ‰πàÈúÄË¶Å‰∏∫Êï∞ÁªÑÁªìÊûÑÁöÑÊØîËæÉÊèê‰æõÂåπÈÖçÊñπÊ≥ï„ÄÇ‰æãÂ¶Ç TotoroX ÁöÑÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ `eventList` Â≠óÊÆµË°®Á§∫ÁªÑ‰ª∂Áõ∏ÂÖ≥ÁöÑ‰∫ã‰ª∂ÂàóË°®ÔºåÊØè‰∏™‰∫ã‰ª∂ÔºàÂØπË±°Ôºâ‰πãÈó¥ÁöÑ `name` Â≠óÊÆµÊòØÂîØ‰∏ÄÁöÑÔºåÂõ†Ê≠§Êàë‰ª¨Âú®ÂØπÊØî `eventList` Êï∞ÁªÑÊó∂ÔºåÈúÄË¶ÅÊòéÁ°ÆÂØπË±°Êï∞ÁªÑ‰∏≠ÂêÑÊàêÂëòÁöÑ `name` ÈîÆÂÄº‰∏∫‰∏•Ê†ºÁõ∏Á≠âÔºåÊâçËÉΩÂØπÂèåÊñπËøõË°åÂêéÁª≠ÁöÑ diff„ÄÇËÄåÂÆûÈôÖ‰∏äÔºåÂπ∂ÈùûÊâÄÊúâÂØπË±°Êï∞ÁªÑÈÉΩÈÄöËøá `name` Â≠óÊÆµËøõË°åÂåπÈÖçÔºåÂ∞ÜÁ±ª‰ººÁöÑ‰ª£Á†ÅÂèÇÊùÇÂà∞ÈÄöÁî®Á±ªÂûãÊñπÊ≥ï‰∏≠ÊòæÁÑ∂ÊòØ‰∏çÊÅ∞ÂΩìÁöÑ„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨ÈúÄË¶ÅÊèêÈ´òÁ±ªÂ∫ìÁöÑÂèØÊãìÂ±ïÊÄßÔºåÂ∞ÜÁî®‰∫éÂØπË±°Êï∞ÁªÑÂåπÈÖçÁöÑÊñπÊ≥ïÊäΩÁ¶ªÔºåÂπ∂ÈÄöËøáÈÖçÁΩÆÁöÑÂΩ¢ÂºèÊ§çÂÖ•„ÄÇ\n\n![ButtonÁªÑ‰ª∂ÈÖçÁΩÆ](https://img.mrsingsing.com/diff-tool-button-data.jpeg)\n\n### Êï∞ÁªÑËæÖÂä©ÊñπÊ≥ï\n\nÂØπË±°Êï∞ÁªÑÈó¥ÁöÑÂåπÈÖçÁ≠õÈÄâÂú®ÂÆûÁé∞‰∏≠Â∫îÁî®ÁöÑÂú∫ÊôØÊòØËæÉÂ§öÁöÑÔºåÂõ†Ê≠§Êàë‰ª¨Â∞ÅË£Ö‰∫Ü‰∏ÄÁ≥ªÂàóÁöÑËæÖÂä©ÊñπÊ≥ïÂáèÂ∞ëÈáçÂ§çÁöÑ‰ª£Á†ÅÔºåÂåÖÊã¨Ôºö\n\n**Êï∞ÁªÑÂ∑ÆÈõÜÂáΩÊï∞**\n\nÈÄöËøáÊï∞ÁªÑÊàêÂëòÈó¥ÈÄê‰∏ÄÂØπÊØîÔºåÁ≠õÈÄâÂá∫‰∏§Êï∞ÁªÑ‰∏≠ÊâÄÊúâÊàêÂëòÁöÑÂ∑ÆÈõÜÈõÜÂêàÂπ∂ËøîÂõûÔºà‰ªÖÈôê‰∫éÊï∞ÁªÑÊàêÂëò‰∏∫Âü∫Êú¨Á±ªÂûãÂÄºÔºâ\n\n```js\nfunction getDifference(a, b) {\n  return [...new Set(a.filter(x => !new Set(b).has(x)))];\n}\n```\n\nÂäüËÉΩÂêå‰∏äÔºåÂΩìÂØπË±°Êï∞ÁªÑÊàêÂëò‰∏∫ÂØπË±°Á±ªÂûãÊó∂‰ΩøÁî®ÔºåÈúÄË¶ÅÊèê‰æõÁî®‰∫éÂåπÈÖçÁöÑÊØîËæÉÂô®ÂáΩÊï∞ÔºåËøîÂõûÁªìÊûúÂè™‰øùÁïô‰ª•ÂèÇÊï∞ `a` ‰º†ÂÖ•ÁöÑÊï∞ÁªÑÁöÑÊàêÂëòÈ°π\n\n```js\nfunction getDifferenceWith(a, b, comparator = (x, y) => x === y) {\n  return a.filter(x => b.findIndex(y => comparator(x, y)) === -1);\n}\n```\n\n**Êï∞ÁªÑ‰∫§ÈõÜÂáΩÊï∞**\n\nÈÄöËøáÊï∞ÁªÑÊàêÂëòÈó¥ÈÄê‰∏ÄÂØπÊØîÔºåÁ≠õÈÄâÂá∫‰∏§Êï∞ÁªÑ‰∏≠ÊâÄÊúâÊàêÂëòÁöÑ‰∫§ÈõÜÈõÜÂêàÂπ∂ËøîÂõûÔºà‰ªÖÈôê‰∫éÊï∞ÁªÑÊàêÂëò‰∏∫Âü∫Êú¨Á±ªÂûãÂÄºÔºâ\n\n```js\nfunction getIntersection(a, b) {\n  return [...new Set(a.filter(x => new Set(b).has(x)))];\n}\n```\n\nÂäüËÉΩÂêå‰∏äÔºåÂΩìÂØπË±°Êï∞ÁªÑÊàêÂëò‰∏∫ÂØπË±°Á±ªÂûãÊó∂‰ΩøÁî®ÔºåÈúÄË¶ÅÊèê‰æõÁî®‰∫éÂåπÈÖçÁöÑÊØîËæÉÂô®ÂáΩÊï∞ÔºåËøîÂõûÁªìÊûúÂè™‰øùÁïô‰ª•ÂèÇÊï∞ `a` ‰º†ÂÖ•ÁöÑÊï∞ÁªÑÁöÑÁöÑÊàêÂëòÈ°π\n\n```js\nfunction getIntersectionWith(a, b, comparator = (x, y) => x === y) {\n  return a.filter(x => b.findIndex(y => comparator(x, y)) !== -1);\n}\n```\n\n**Êï∞ÁªÑÂπ∂ÈõÜÂáΩÊï∞**\n\n```js\nfunction getUnionWith(a, b, comparator = (x, y) => x === y) {\n  return Array.from(new Set([...a, ...b.filter(x => a.findIndex(y => comparator(x, y)) === -1)]));\n}\n```\n\n**Êï∞ÁªÑÂéªÈáçÂáΩÊï∞**\n\n```js\nfunction getDedupeBy(arr, comparator = (x, y) => x === y) {\n  return arr.reduce((acc, v) => {\n    if (!acc.some(x => comparator(v, x))) {\n      acc.push(v);\n    }\n    return acc;\n  }, []);\n}\n```\n\nÂèØ‰ª•ÁïôÊÑèÂà∞Ôºå‰∏äËø∞ËæÖÂä©ÂáΩÊï∞Èô§‰∫ÜÁî®‰∫éÂåπÈÖçÁöÑ‰∏§‰∏™Êï∞ÁªÑÁ±ªÂûãÁöÑÂèÇÊï∞Â§ñÔºåËøòÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™ `comparator` ÁöÑÂèÇÊï∞„ÄÇ`comparator` ÊÑè‰∏∫ÊØîËæÉÂô®ÔºåÁ±ªÂûã‰∏∫ÂáΩÊï∞Á±ªÂûãÔºåÁî®‰∫éÂ∞ÅË£ÖÊñπÊ≥ïÂÜÖÈÉ® `filter` ÂáΩÊï∞ÂØπÂ∫îÁöÑÂõûË∞ÉÂáΩÊï∞Ôºå‰ªéËÄåÁ≠õÈÄâÂá∫Áî®‰ª•ÂåπÈÖçÊï∞ÁªÑÁöÑÂØπË±°ÊàêÂëò„ÄÇÂ¶ÇÔºö\n\n```js\nconst comparator = (x, y) => x.id === y.id;\n```\n\nË°®Á§∫‰∏∫ `x` ÂØπË±°ÁöÑ `id` Â≠óÊÆµ‰∏é `y` ÂØπË±°ÁöÑ `id` Â≠óÊÆµÂÆåÂÖ®Áõ∏Á≠âÊó∂ÔºåË°®Á§∫ `x` ÂØπË±°Âíå `y` ÂØπË±°‰∏∫ÂåπÈÖçÁöÑÂèåÊñπ„ÄÇ\n\nÈÄöËøáËøôÊ†∑ÁöÑÂΩ¢ÂºèÔºåÊàë‰ª¨ËÉΩÂ§üÂ∞ÜÈÖçÁΩÆ‰∏≠Êï∞ÁªÑÂΩ¢ÂºèÂ≠òÂú®ÁöÑÈÖçÁΩÆÈ°πÁöÑÂåπÈÖçÂ≠óÊÆµ‰ª• `comparator` ÁöÑÂΩ¢ÂºèÈÖçÁΩÆÊ§çÂÖ•ÔºåËÄå‰∏çÂøÖÂú®ÂÆûÁé∞ÁöÑ‰ª£Á†Å‰∏≠Ê§çÂÖ•‰∏öÂä°Áõ∏ÂÖ≥ÁöÑ‰ª£Á†Å„ÄÇÂΩìÁÑ∂Ôºå‰ªÖ‰ªÖÂ¶ÇÊ≠§Âπ∂‰∏çÂ§üÁöÑÔºåÂõ†‰∏∫ËøòÊó†Ê≥ïËß£ÂÜ≥Âà∞Â∫ïÈÖçÁΩÆÁªìÊûÑ‰∏≠Âà∞Â∫ïÂì™‰∏™Â±ÇÁ∫ßÊòØÊï∞ÁªÑÁ±ªÂûãÁöÑÂÄºÔºå‰∏ãÈù¢‰ºöËØ¶ÁªÜËß£ÊûêÂ¶Ç‰ΩïËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ\n\n### Â∑ÆÂºÇÂåñÊµÅÁ®ãÂÆûÁé∞\n\nÊ†πÊçÆ JSON ÁöÑ‰∏çÂêåÁ±ªÂûãÁöÑÂ§ÑÁêÜÊñπÂºèÁöÑ‰∏çÂêåÔºåÊàë‰ª¨ÂÆûÁé∞‰∫Ü‰∏â‰∏™ÊñπÊ≥ïÔºö\n\n- `diffObject`ÔºöÁî®‰∫éÂØπË±°Á±ªÂûãÂÄº‰πãÈó¥ÁöÑÂØπÊØîÊñπÊ≥ïÔºåÈÄöËøá `Object.keys` Ëé∑ÂèñÂêÑËá™ÂØπË±°ÁöÑÈîÆÂêçÈõÜÂêàÔºåÈÖçÂêàÊï∞ÁªÑÂ∑ÆÈõÜÂáΩÊï∞ÂíåÊï∞ÁªÑ‰∫§ÈõÜÂáΩÊï∞ÔºåÂèØ‰ª•Á≠õÈÄâÂá∫Êñ∞ÂØπË±°‰∏≠Êñ∞Â¢ûÁöÑÂ≠óÊÆµÈõÜÂêà„ÄÅÊóßÂØπË±°‰∏≠Âà†Èô§ÁöÑÂ≠óÊÆµÈõÜÂêà‰ª•ÂèäÊñ∞ÂØπË±°ÂíåÊóßÂØπË±°ÂÖ±ÊúâÁöÑÂ≠óÊÆµÈõÜÂêà\n- `diffArray`ÔºöÁî®‰∫éÊï∞ÁªÑÁ±ªÂûãÂÄº‰πãÈó¥ÁöÑÂØπÊØîÊñπÊ≥ïÔºåÈÄöËøá `comparator` ÊØîËæÉÂáΩÊï∞ÂÖ•ÂèÇÔºåÂêåÊ†∑Âà©Áî®Â∑ÆÈõÜÂáΩÊï∞Âíå‰∫§ÈõÜÂáΩÊï∞ÔºåÂàÜÂà´Á≠õÈÄâÂá∫Êñ∞Êï∞ÁªÑ‰∏≠Êñ∞Â¢ûÁöÑÊï∞ÁªÑÊàêÂëò„ÄÅÊóßÊï∞ÁªÑ‰∏≠Âà†Èô§ÁöÑÊï∞ÁªÑÊàêÂëò‰ª•ÂèäÂêÑËá™Êï∞ÁªÑ‰∏≠ÂÖ±ÊúâÁöÑÊï∞ÁªÑÊàêÂëò\n- `diffValue`ÔºöÁî®‰∫éÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂÄºÁöÑÂØπÊØîÊñπÊ≥ïÔºåÈááÁî®‰∏•Ê†ºÁõ∏Á≠âÁöÑÂØπÊØîÊñπÂºèÔºåËã•Áõ∏Á≠âÂàô‰∏∫Áõ∏Á≠âÔºàEqualÔºâÁä∂ÊÄÅÔºåÂê¶Âàô‰∏∫ÂÜ≤Á™ÅÁä∂ÊÄÅÔºàConflictÔºâ\n\nÂºïÁî®Á±ªÂûãÁöÑÂÄºÊØîËæÉÔºà‰πüÂ∞±ÊòØ `diffObject` Âíå `diffArray`ÔºâÂú®ÂåπÈÖçÂà∞ÈîÆÂÄºÊàñÊï∞ÁªÑÊàêÂëòÊó∂Ôºå‰ºöÂà©Áî®Ë∞ÉÂíåÂáΩÊï∞‰Ωú‰∏∫ÂåπÈÖçË∑≥ÊùøÔºåÊ†πÊçÆ‰º†ÂÖ•Êï∞ÊçÆÊ∫êÁ±ªÂûã‰∏çÂêåÁªßÁª≠ÂØπ‰∏ãÂ±ÇÁªìÊûÑÁöÑÂÄºÈÄíÂΩíÊâßË°å‰∏äËø∞‰∏âÁßç‰∏çÂêåÊï∞ÊçÆÁ±ªÂûãÁöÑÊñπÊ≥ï„ÄÇ\n\nËÄåÊóßÂØπË±°/ÊóßÊï∞ÁªÑ‰∏≠Âà†Èô§ÁöÑÂÄºÊàñÊñ∞ÂØπË±°/Êñ∞Êï∞ÁªÑ‰∏≠Êñ∞Â¢ûÁöÑÂÄºÔºåÂàô‰∏ç‰ºöÂÜçËøõË°åÊ∑±Â±ÇÊ¨°ÁöÑÈÄíÂΩíÔºå‰ºöÁõ¥Êé•ÊäïÊîæÂà∞Âè¶‰∏Ä‰∏™Â§ÑÁêÜÊñπÊ≥ï `getRecursion` ‰∏≠ÈÄíÂΩí‰øÆÊîπ‰∏ãÂ±ÇÁªìÊûÑ‰∏≠ÁöÑÂèòÂåñÁä∂ÊÄÅ„ÄÇ\n\n![diffÁªìÊûÑÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/diff-tool-workflow.jpg)\n\nÂØπË±°Á±ªÂûãÂÄº‰πãÈó¥ÁöÑÊØîËæÉÔºåÊàë‰ª¨‰ºö‰ΩøÁî® `Object.keys()` ÊñπÊ≥ïÂàÜÂà´Ëé∑Âèñ‰∏§‰∏™ÂØπÊØîÂØπË±°ÁöÑÈîÆÂêçÔºåÂπ∂ÈÄöËøáÊï∞ÁªÑËæÖÂä©ÊñπÊ≥ïÊãÜÂàÜ‰∏∫‰∏âÁªÑÔºöÂÖ±ÂêåÊã•ÊúâÁöÑÈîÆÂêçÁöÑÈõÜÂêà„ÄÅ‰ªÖÊúâ `origin` ÂØπË±°ÔºàÁêÜËß£‰∏∫ÂèòÂåñÂâçÁöÑÈÖçÁΩÆÂØπË±°ÔºâÊã•ÊúâÁöÑÈîÆÂêçÁöÑÈõÜÂêàÂíå `target` ÂØπË±°ÔºàÁêÜËß£‰∏∫ÂèòÂåñÂêéÁöÑÈÖçÁΩÆÂØπË±°ÔºâÊã•ÊúâÁöÑÈîÆÂêçÈõÜÂêà„ÄÇ\n\nÁî±Ê≠§ÂèØÂæóÔºåÂÖ±ÂêåÊã•ÊúâÁöÑÈîÆÂêçÈõÜÂêàÈúÄË¶ÅÈÄöËøáÊØîËæÉÂæóÂá∫ÂèòÂåñÁä∂ÊÄÅ„ÄÇËÄå `origin` ÂØπË±°Êã•ÊúâÁöÑÈîÆÂêçÔºåÂàôË°®Á§∫ `target` ÂØπË±°Ê≤°ÊúâÔºå‰πüÂ∞±ÊòØ `origin` ÂØπË±°ÈõÜÂêà‰∏≠ÁöÑÈîÆÂÄºË¢´Âà†Èô§‰∫ÜÔºå‰ºöË¢´Ê†áËÆ∞‰∏∫Âà†Èô§Áä∂ÊÄÅ„ÄÇÁõ∏‰ººÂú∞Ôºå‰ªÖ `target` ÂØπË±°Êã•ÊúâÁöÑÈîÆÂêçË°®Á§∫ `origin` Ê≤°ÊúâËØ•ÈîÆÂêçÔºåÂàô `target` ÁöÑÈîÆÂÄº‰∏∫Êñ∞Â¢ûÈÖçÁΩÆÈ°πÔºå‰ºöË¢´Ê†áËÆ∞‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅ„ÄÇ\n\nÂàöÊâçÊèêÂà∞ÂØπË±°Êï∞ÁªÑÁ±ªÂûã‰πãÈó¥ÈúÄË¶ÅÈÄöËøáÊØîËæÉÂô®ÂáΩÊï∞ `comparator` Áî®‰∫éÂåπÈÖçÔºå‰ΩÜÊòØÈúÄË¶ÅÊèê‰æõ‰∏ÄÁßçËÆ©ËøêË°åÊú∫Âà∂Áü•ÈÅì‰ªÄ‰πàÊ†∑ÁöÑÊï∞ÁªÑÂØπÊØîÈúÄË¶ÅÁî®ÊÄéÊ†∑ÁöÑ `comparator`„ÄÇÂú®ËøêË°å diff ÂâçÔºåÊàë‰ª¨ÈÄöËøá‰ª•ÈÄíÂΩíË∑ØÂæÑ‰∏∫ÈîÆÂêçÔºå‰ª• `comparator` ‰∏∫ÈîÆÂÄºÁªÑÊàêÁöÑÈÖçÁΩÆÂØπË±°‰º†ÂÖ• `diff` ÂáΩÊï∞„ÄÇ\n\nÂú®Âêë‰∏ãÈÄíÂΩíËøõË°åÈÖçÁΩÆÈ°πÊØîËæÉÊó∂ÔºåÈÅáÂà∞ÂØπË±°Á±ªÂûãÁöÑÂÄºÔºå‰ºöÂ∞ÜÈîÆÂêç‰º†ÂÖ•Ë∞ÉÂíåÂáΩÊï∞„ÄÇÂú®ÂáΩÊï∞ÂÜÖÈÉ®Ôºå‰ºöË¢´Êé®ÂÖ•‰∏Ä‰∏™Â∑≤Â£∞ÊòéÁöÑÈù¢ÂåÖÂ±ëÊ†àÔºà‰πüÁß∞‰∏∫ÈÄíÂΩíË∑ØÂæÑÔºå‰ª•Êï∞ÁªÑÂΩ¢ÂºèË°®Á§∫ÔºâÔºåÂΩìËøîÂõûÂÄºÊó∂ÔºåÂèà‰ºöÈÄÄÊ†à„ÄÇÂΩìÊ£ÄÊü•Âà∞‰∏ãÂ±ÇÁªìÊûÑ‰∏∫Êï∞ÁªÑÁ±ªÂûãÊó∂Ôºå‰ºöÈÄöËøá `Array.prototype.join()` ÊñπÊ≥ïÂ∞ÜÈù¢ÂåÖÂ±ëÊ†à‰∏≠ÁöÑÂÄºÂêàÊàêÈîÆÂêçË∑ØÂæÑÔºåÂåπÈÖçÂ§ñÈÉ®‰º†ÂÖ•ÁöÑÊØîËæÉÂô®ÈÖçÁΩÆÂêéÔºåÂ∞Ü‰∏ãÂ±ÇÊï∞ÁªÑÁªìÊûÑÂåπÈÖçÊâÄÈúÄÁöÑ `comparator` ‰º†ÂÖ• `diffArray` ‰∏≠„ÄÇËøôÊ†∑Â∞±Ëß£ÂÜ≥‰∫ÜÂØπË±°Êï∞ÁªÑÂåπÈÖçÁöÑÈóÆÈ¢òÔºåÂêåÊó∂‰πüÂ∞ÜÁõ∏ÂÖ≥ÁöÑ‰∏öÂä°‰ª£Á†ÅÊäΩÁ¶ªËá≥Â§ñÈÉ®ÔºåÊèêÂçá‰∫ÜÊñπÊ≥ïÁöÑÈÄöÁî®ÊÄßÂíåÂèØÈÖçÁΩÆÊÄß„ÄÇ\n\n```js\nconst comparator = {\n  // Â¶ÇÊûúÂéüÂßãÊï∞ÊçÆ‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºà‰πüÂ∞±ÊòØ‰º†ÂÖ•Êï∞ÊçÆÊúÄÂ§ñÂ±Ç‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºâÔºåÂøÖÈ°ªÊúâ init Â≠óÊÆµ‰Ωú‰∏∫ comparator ÂáΩÊï∞\n  init: (a, b) => a.name === b.name && a.id === b.id,\n  eventList: (a, b) => a.name === b.name,\n  'eventList.value': (a, b) => a === b,\n  'eventList.subEvents': (a, b) => a.id === b.id,\n  'eventList.subEvents.actions': (a, b) => a.id === b.id,\n  animation: (a, b) => a.antType === b.antType,\n};\n```\n\n‚ö†Ô∏è**Ê≥®ÊÑè**ÔºöÂ¶ÇÊûúÂéüÂßãÊï∞ÊçÆ‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºåÂàôÂøÖÈ°ªÊèê‰æõ `init` ‰Ωú‰∏∫Ê†πÔºàÈ°∂Â±ÇÔºâÁªìÊûÑÁöÑÊØîËæÉÂô®ÂáΩÊï∞„ÄÇ\n\n‰∏äËø∞Â∞±ÊòØ diff ÂäüËÉΩÂÆûÁé∞ËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑ‰∏ªË¶ÅÈóÆÈ¢òÁöÑËß£ÂÜ≥ÊñπÊ°àÔºå‰ΩÜÊòØ‰ªÖÂØπ‰∏§Ë∑ØÁöÑÈÖçÁΩÆÊï∞ÊçÆËøõË°å diff ÊòØ‰∏çÂ§üÁöÑÔºåËøô‰∏ªË¶ÅÊòØ‰ªéÊàë‰ª¨Êú¨Ë∫´ TotoroX ÁöÑ‰∏öÂä°ËÄÉËôë„ÄÇÂ¶ÇÂâçÊñáÊâÄËø∞ `origin` ÂèØ‰ª•‰∏∫Áî®‰∫éÂàõÂª∫È°µÈù¢ÁöÑÊ®°ÁâàÔºå`target` ‰∏∫Âü∫‰∫éÊ®°ÁâàÂàõÂª∫ÁöÑÈ°µÈù¢Ôºå‰ΩÜÂêéÁª≠ÈúÄÊ±ÇÂèòÊõ¥Êó∂‰ºöÂØπÊ®°ÁâàÊï∞ÊçÆËøõË°å‰øÆÊîπÔºåËÄåÂú®Êàë‰ª¨ÁöÑÁ≥ªÁªü‰∏≠Âπ∂‰∏ç‰ºöÂêåÊ≠•Âà∞ÂàõÂª∫ÁöÑÈ°µÈù¢ÔºåÈÇ£‰πàÊ®°Áâà‰øÆÊîπÂêéÈúÄË¶ÅÂ∞Ü‰øÆÊîπÁöÑÂÜÖÂÆπÂêåÊ≠•Âà∞‰πãÂâçÂàõÂª∫ÁöÑÈ°µÈù¢ÔºåÂ∞±ÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™Áî®‰∫éÂêàÂπ∂Êñ∞Ê®°Áâà‰∏éÊóßÈ°µÈù¢ÁöÑÊñπÊ≥ïÔºå‰∏ãÈù¢Êàë‰ª¨Â∞±ËÅäËÅä merge ÂäüËÉΩÁöÑÂÆûÁé∞„ÄÇ\n\n## Merge ÂäüËÉΩÂÆûÁé∞\n\nÂú®ÂØπ merge ÂäüËÉΩÂÆûÁé∞ËøáÁ®ãËøõË°åËÆ≤Ëß£ÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπ git ÁöÑÂêàÂπ∂Á≠ñÁï•ËøõË°å‰∏ÄÂÆöÁ®ãÂ∫¶ÁöÑ‰∫ÜËß£„ÄÇ\n\ngit ÈááÁî®‰∏âË∑ØÂêàÂπ∂Á≠ñÁï•Ôºö\n\n```\nB - C - D master(*)\n \\\n  E - F dev\n```\n\n‰ª•Êàë‰ª¨Êó•Â∏∏ÁöÑÂºÄÂèëÂçè‰ΩúÊµÅÁ®ã‰∏∫‰æãÔºåÂΩìÂâçÂàÜÊîØ‰πüÂ∞±ÊòØ‰∏ªÂàÜÊîØ‰∏∫ `master`ÔºåÂΩìÂ∞ùËØïÊää `dev` ÂºÄÂèëÂàÜÊîØÂêàÂπ∂Âà∞ `master` Êó∂Ôºå‰∏§‰∏™ÂàÜÊîØÂÖ±ÂêåÊã•ÊúâÁöÑÊèê‰∫§Â∞±ÊòØ commitBÔºåÊàë‰ª¨Â∞ÜËØ•Êèê‰∫§ commit Áß∞‰∏∫ `base`Ôºå`master` ÂàÜÊîØÊúÄÊñ∞ÁöÑÊèê‰∫§ commitD Áß∞‰∏∫ `ours`ÔºåËÄå `dev` ÂàÜÊîØÊúÄÊñ∞ÁöÑÊèê‰∫§ commitF Áß∞‰∏∫ `theirs`„ÄÇ\n\nÈÇ£‰πà git ÊòØÊÄéÊ†∑ÂêàÂπ∂ `ours` Âíå `theirs` ÁöÑÂë¢Ôºü\n\nÂú®ÂêàÂπ∂Êó∂Ôºå‰ºöÂèÇËÄÉ‰ªñ‰ª¨ÁöÑÂÖ±ÂêåÁ•ñÂÖà `base`ÔºåÂπ∂Ê†πÊçÆ‰∏ãÈù¢Á≠ñÁï•ËøõË°åÂêàÂπ∂„ÄÇ\n\n| Á•ñÂÖàÔºàbaseÔºâ | HEADÔºàoursÔºâ | ÂàÜÊîØÔºàtheirsÔºâ | ÁªìÊûú     | ËØ¥Êòé                                                             |\n| ------------ | ------------ | -------------- | -------- | ---------------------------------------------------------------- |\n| A            | A            | A              | A        |                                                                  |\n| A            | A            | B              | B        | Â¶ÇÊûú‰∏ÄÊñπ‰øÆÊîπ‰∫Ü‰∏ÄË°åÔºåÈÇ£‰πàËøô‰∏ÄË°åÈÄâÊã©‰øÆÊîπÁâàÁöÑ                       |\n| A            | B            | A              | B        | Âêå‰∏ä                                                             |\n| A            | B            | B              | B        | Â¶ÇÊûúÊüê‰∏ÄË°åÂèåÊñπÊã•ÊúâÁõ∏ÂêåÁöÑÂèòÊõ¥ÔºåÂàôÈÄâÊã©‰øÆÊîπËøáÁöÑË°å                   |\n| A            | B            | C              | conflict | Â¶ÇÊûúÊüê‰∏ÄË°åÂèåÊñπÈÉΩ‰øÆÊîπ‰∫ÜÔºå‰∏î‰øÆÊîπÂæó‰∏ç‰∏ÄÊ†∑ÔºåÂàôÊä•ÂëäÂÜ≤Á™ÅÔºåÈúÄË¶ÅÁî®Êà∑Ëß£ÂÜ≥ |\n\nÊ†πÊçÆ‰∏äË°®ËßÑÂàôÔºåÂêàÂπ∂ËøáÁ®ãÁ±ª‰ººËøôÊ†∑Ôºö\n\n![ÂêàÂπ∂ËøáÁ®ã](https://img.mrsingsing.com/diff-tool-merge-strategy.png)\n\nÂèØ‰ª•ÁúãÂà∞ÔºåÁ¨¨ÂõõË°åÔºåÂèåÊñπÈÉΩ‰øÆÊîπ‰∫ÜÔºå‰∏îÂêÑËá™‰øÆÊîπÁöÑÂÜÖÂÆπ‰∏ç‰∏ÄÊ†∑ÔºåÊâÄ‰ª• git ‰∏çÁü•ÈÅìÊÄé‰πàËß£ÂÜ≥ÔºåÊâÄ‰ª•Â∞±ÊääÈóÆÈ¢òÊäõÁªôÁî®Êà∑‰∫Ü„ÄÇ\n\n### Ê†πËäÇÁÇπÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\n\nÊàë‰ª¨Âú®ÂÆûÁé∞ merge ÂäüËÉΩÊó∂ÔºåÊ≠£ÊòØÈááÁî®‰∫Ü‰∏éÊ≠§ÁßçÂêàÂπ∂Á≠ñÁï•‰∏ÄËá¥ÁöÑÊñπÂºè„ÄÇÂú® merge ÁöÑÂêàÂπ∂ÊµÅÁ®ã‰∏≠ÔºåÂéüÂßãÊï∞ÊçÆÂç≥‰∏∫**Á•ñÂÖà**ÔºàbaseÔºâÔºåËÄåÂÆûÈôÖÈúÄË¶ÅÂêàÂπ∂ÁöÑ‰∏§‰ªΩÊï∞ÊçÆÂàÜÂà´‰∏∫ **Head**ÔºàoursÔºâÂíå**ÂàÜÊîØ**ÔºàtheirsÔºâ„ÄÇÊàë‰ª¨Â∞Ü `base` ‰Ωú‰∏∫‰∏≠Èó¥ËÄÖÔºå‰ª•Ê≠§Âà§Êñ≠‰∏§‰ªΩÈÖçÁΩÆÊï∞ÊçÆÂì™‰∫õÈÉ®ÂàÜÊòØÂ±û‰∫éÂéüÂßãÊï∞ÊçÆÁöÑÔºåÂì™‰∫õÈÉ®ÂàÜÂèàÊòØÊñ∞Êï∞ÊçÆ„ÄÇ\n\nÈ¶ñÂÖàÔºåÊàë‰ª¨ÂàÜÂà´Â∞ÜÊñ∞Êï∞ÊçÆ‰∏éÂÖ±ÂêåÁªÑ‰ª∂ `base` ËøõË°å diff Êìç‰ΩúÔºåËé∑ÂæóÂàÜÂà´ÁöÑ JSON Schema ÁªìÊûÑÁöÑÁªìÊûúÔºåÂêéÁª≠ÂÜçÂØπÁªìÊûúËøõË°å mergeBranch ÁöÑÊìç‰Ωú„ÄÇ\n\n```js\nfunction merge(base, ours, theirs, diffComparator, mergeComparator) {\n  const originDiff = diff(base, ours, diffComparator);\n  const targetDiff = diff(base, theris, diffComparator);\n\n  const newDataSchema = mergeBranch(originDiff, targetDiff, mergeComparator);\n\n  return newDataSchema;\n}\n```\n\nËÄåÁî±‰∫é merge ÊòØÊ†πÊçÆ‰∏§‰∏§ diff ÂêéÁöÑ Schema ÁªìÊûÑÁöÑ JSONÔºåÊàë‰ª¨ÂÖà‰ªé**Ê†πËäÇÁÇπ**ÁöÑ `_status` Â≠óÊÆµÂåπÈÖçËøõË°åÂå∫ÂàÜÔºåÂÖ±Êúâ‰∫îÁßçÊÉÖÂÜµÔºö\n\n| Ê∫êÈÖçÁΩÆÊï∞ÊçÆÊ†πËäÇÁÇπÁä∂ÊÄÅ | ÂèòÊõ¥ÈÖçÁΩÆÊï∞ÊçÆÊ†πËäÇÁÇπÁä∂ÊÄÅ | ËØ¥Êòé                                                                                                                                  |\n| -------------------- | ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |\n| Equal                | Equal                  | Ë°®Á§∫ `base` Âíå `ours` ÂÆåÂÖ®Áõ∏Á≠âÔºå`base` Âíå `theirs` ÂÆåÂÖ®Áõ∏Á≠âÔºåÂç≥Ë°®Á§∫‰∏âË∑ØÂÆåÂÖ®Áõ∏Á≠â                                                       |\n| Equal                | Updated                | Ë°®Á§∫ `base` Âíå `ours` ÂÆåÂÖ®Áõ∏Á≠âÔºå`base` Âíå `theirs` Â≠òÂú®ÂèòÊõ¥ÔºåÂç≥ÂçïË∑ØÂèòÊõ¥ÔºåÊúÄÁªàÁªô‰Ω†‰ºöÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆ                                     |\n| Updated              | Equal                  | Ë°®Á§∫ `base` Âíå `ours` Â≠òÂú®ÂèòÊõ¥Ôºå`base` Âíå `theirs` ÂÆåÂÖ®Áõ∏Á≠âÔºåÂç≥ÂçïË∑ØÂèòÊõ¥ÔºåÊúÄÁªàÁªô‰Ω†‰ºöÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆ                                     |\n| Updated              | Updated                | Ë°®Á§∫ `base` Âíå `ours` Â≠òÂú®ÂèòÊõ¥Ôºå`base` Âíå `theirs` ‰πüÂ≠òÂú®ÂèòÊõ¥Ôºå‰ΩÜÊòØÂèòÊõ¥ÂØπÂ∫îÁöÑÂÄº‰∏çÁõ∏Á≠âÔºåÂç≥‰∏âË∑ØÂÜ≤Á™Å                                     |\n| Updated              | Updated                | Ë°®Á§∫ `base` Âíå `ours` Â≠òÂú®ÂèòÊõ¥Ôºå`base` Âíå `theirs` ‰πüÂ≠òÂú®ÂèòÊõ¥Ôºå‰ΩÜÊòØÂèòÊõ¥ÂØπÂ∫îÁöÑÂÄºÁõ∏Á≠âÔºåÂÆûÈôÖ‰∏ä `ours` Âíå `theirs` ÂèòÊõ¥ÂÄº‰∏é `base` ÂÄºÂÜ≤Á™Å |\n\n![ÂèòÊõ¥Áä∂ÊÄÅÈü¶ÊÅ©Âõæ](https://img.mrsingsing.com/diff-tool-merge-venn-diagram.jpg)\n\nÂØπ‰∏äËø∞‰∫îÁßçÊÉÖÂÜµËøõË°åÂàÜÊûêÂΩíÁ∫≥ÂêéÔºåÂú®‰ª£Á†ÅÂÆûÁé∞Â±ÇÈù¢‰∏äÂèØ‰ª•Â§ßËá¥ÂàÜ‰∏∫‰∏â‰∏™ÊñπÂêëÂ§ÑÁêÜÔºö\n\n1. ‰∏âË∑ØÁõ∏Á≠âÔºàA-A-AÔºâ=> `mergeUnmodified`ÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©ÂõæÂ§©ËìùËâ≤ÈÉ®ÂàÜ‰∏≠Áä∂ÊÄÅ‰∏∫ `equal` ÁöÑÈÉ®ÂàÜÔºâ\n2. ÂçïË∑ØÂèòÊõ¥ÔºåÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆÔºàA-A-B„ÄÅA-B-AÔºâ=> `mergeUpdated`ÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©ÂõæÁ¥´Ëâ≤ÂíåÊ©ôËâ≤ÈÉ®ÂàÜÔºåË°®Á§∫ÁöÑÊòØ `base` Â≠òÂú®‰ΩÜÊòØÂ≠òÂú®ÂèòÊõ¥ÁöÑÁä∂ÊÄÅÔºåÂèØ‰ª•ÊòØÂÆåÂÖ®ÊàñÂ±ÄÈÉ®ÁöÑÂà†Èô§ÂíåÂÜ≤Á™ÅÔºå‰πüÂèØ‰ª•ÊòØÂ±ÄÈÉ®ÈÖçÁΩÆÈ°πÁöÑÊñ∞Â¢ûÔºå‰ΩÜÊòØ‰∏çÂèØËÉΩÊòØÂÆåÂÖ®ÁöÑÊñ∞Â¢ûÔºâ\n3. ‰∏§Ë∑ØÂèòÊõ¥ÔºåÊ†πÊçÆÂèòÊõ¥ÊÉÖÂÜµÈÄâÊã©Êàñ‰øùÁïôÂÜ≤Á™ÅÁä∂ÊÄÅÂπ∂Êèê‰æõÊâãÂä®Â§ÑÁêÜÊñπÂºèÔºåÂèòÊõ¥ÂèàÂàÜ‰∏∫Êñ∞Â¢û„ÄÅÂà†Èô§Âíå‰øÆÊîπÔºàA-B-B„ÄÅA-B-CÔºâ=> `mergeConflict`ÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©ÂõæÁªøËâ≤„ÄÅÁ∫¢Ëâ≤ÂíåËìùÁÅ∞Ëâ≤Ôºâ\n\n‰∏âË∑ØÁõ∏Á≠âÁöÑÊÉÖÂÜµÊòØÊúÄÂ•ΩÂ§ÑÁêÜÁöÑÔºåÂú®ÂØπÊ†πËäÇÁÇπËøõË°åÈÅçÂéÜÊó∂ÂåπÈÖç‰∏§ËÄÖÁöÑ `_status` ÂèòÂåñÁä∂ÊÄÅ‰∏∫Áõ∏Á≠âÁä∂ÊÄÅÔºà`equal`ÔºâÊó∂Âç≥Ë°®Êòé‰∏âË∑ØÁõ∏Á≠â„ÄÇ\n\nÂçïË∑ØÂèòÊõ¥ÁöÑÊÉÖÂÜµÔºåÂú®ÂØπÊ†πËäÇÁÇπËøõË°åÈÅçÂéÜÊó∂ÂåπÈÖç‰∏§ËÄÖÁöÑ `_status` ‰∏∫Áõ∏Á≠âÔºà`equal`ÔºâËÄåÂè¶‰∏ÄÊñπ‰∏∫‰∏çÁõ∏Á≠âÔºåÂç≥‰∏∫ÈúÄË¶ÅÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆ„ÄÇ\n\nËÄåÂØπ‰∫é‰∏§Ë∑ØÂèòÊõ¥ÁöÑÊÉÖÂÜµÔºåÊàë‰ª¨‰∏çËÉΩÂçïÁ∫ØÂú∞‰ª•Ê†πËäÇÁÇπÁöÑÁä∂ÊÄÅ‰Ωú‰∏∫Âå∫ÂàÜÔºåËøôÊòØÂõ†‰∏∫Êàë‰ª¨ÈááÁî®‰∫Ü‰∏äÊñáÊèêÂèäËøáÁöÑ**Ëá™Â∫ïÂêë‰∏äÁöÑÁä∂ÊÄÅÂèòÊõ¥ÊòæÁ§∫Á≠ñÁï•**ÔºåÊâÄ‰ª•Ê†πËäÇÁÇπÂëàÁé∞‰∏∫ÂèòÊõ¥Áä∂ÊÄÅÔºå‰∏ç‰ª£Ë°®Êï¥‰∏™ÁªìÊûÑÂÜÖÈÉ®ÁöÑÂ±ûÊÄßÂùá‰∏∫ÂèòÊõ¥Áä∂ÊÄÅÔºå‰πüÂèØËÉΩÂõ†‰∏∫Êüê‰∏™ÈÖçÁΩÆÈ°πÁöÑÂèòÊõ¥ÔºåÂØºËá¥ÁªìÊûÑÊ†ë‰∏äÂ±ÇÁöÑÁä∂ÊÄÅÊîπÂèò„ÄÇÊâÄ‰ª•ÂØπ‰∫éËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨ÂèàËÉΩÁªÜÂàÜ‰∏∫‰∏§ÁßçÊÉÖÂÜµËøõË°åÂ§ÑÁêÜÔºö\n\n1. ÈÄöËøá `comparator` ÊØîËæÉÂáΩÊï∞ËÉΩ‰∏§‰∏§ÂåπÈÖçÁöÑËäÇÁÇπÊ†ëÔºåÂÆûÈôÖ‰∏ä‰∏∫ `base`„ÄÅ`ours` Âíå `theirs` ‰∏âË∑ØÂùáÂ≠òÂú®ËØ•Ê†πËäÇÁÇπÁöÑÔºåÂàôÈúÄË¶ÅÂØπÂèåÊñπÂ≠êÂ≠ôÂ±ÇÁ∫ßÁöÑËäÇÁÇπËøõË°åÈÄíÂΩíÈÅçÂéÜÂπ∂ÈÄê‰∏ÄÂØπÊØîÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©Âõæ‰∏≠ËìùËâ≤ `conflict` ÁöÑÈÉ®ÂàÜÔºâ\n2. Âú®ÂØπÊØîÂèåÊñπÁöÑÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ÔºåÊ†πËäÇÁÇπÁä∂ÊÄÅ `_status` ‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅÔºà`add`Ôºâ‰∏îÂ≠êÂ≠ôÂ±ÇÁ∫ßÁöÑÈÖçÁΩÆÂ±ûÊÄßÂÄº‰πü‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅÊó∂ÔºåÂàôÂèØÂà§Êñ≠ËØ•ÈÖçÁΩÆÊ†ë‰∏∫ÂÆåÂÖ®Êñ∞Â¢ûÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©Âõæ‰∏≠ÁªøËâ≤ `add` ÁöÑÈÉ®ÂàÜÔºâÔºåÊåâÁÖßÁ∫¶ÂÆöÁöÑÂêàÂπ∂Á≠ñÁï•ÔºåÈúÄË¶Å‰øùÁïôÊï¥‰∏™ÈÖçÁΩÆÊ†ë\n\n### Â≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\n\n‰∏ãÈù¢Êàë‰ª¨ÊääÈáçÁÇπËÅöÁÑ¶‰∫é‰∏§Ë∑ØÂèòÊõ¥ÁöÑÊÉÖÂÜµ‰∏ãÂ≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂ÁöÑÂÆûÁé∞„ÄÇ\n\n‰ªéÊ†πËäÇÁÇπÁöÑÂèòÊõ¥Áä∂ÊÄÅÁöÑËßíÂ∫¶ÂàÜÊûêÔºàÂ∑≤ÊéíÈô§ÂÆåÂÖ®Êñ∞Â¢ûÁöÑÈÖçÁΩÆËäÇÁÇπÊ†ëÔºâÔºåÂèØ‰ª•Â§ßËá¥ÂàÜ‰∏∫‰∫îÁßçÊÉÖÂÜµÔºö\n\n| base_ours Ê†πËäÇÁÇπÁä∂ÊÄÅ | base_theirs Ê†πËäÇÁÇπÁä∂ÊÄÅ | ËØ¥Êòé                                                                                                                                                |\n| -------------------- | ---------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Add                  | Add                    | Ë°®Á§∫ `base` Ê≤°ÊúâÊüêÈ°πÈÖçÁΩÆÈ°πÔºåËÄå `ours` Âíå `theris` Êñ∞Â¢û‰∫ÜÊüêÈ°πÈÖçÁΩÆÈ°π                                                                                  |\n| Conflict             | Conflict               | Ë°®Á§∫ `base` Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå`ours` ‰πüÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰ΩÜÊòØÂÄº‰∏é `base` ‰∏çÂêåÔºå`theris` ‰πüÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰ΩÜÊòØÂÄº‰∏é `base` ‰πü‰∏çÂêåÔºàÊú™ÂøÖ‰∏é `ours` Áõ∏Âêå/‰∏çÂêåÔºâ |\n| Conflict             | Delete                 | Ë°®Á§∫ `base` Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå`ours` ‰πüÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰ΩÜÊòØÂÄº‰∏é `base` ‰∏çÂêåÔºåËÄå `theris` Âàô‰∏çÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π                                             |\n| Delete               | Conflict               | Ë°®Á§∫ `base` Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå`ours` ‰∏çÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°πÔºåËÄå `theris` Â≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰∏îÂÄº‰∏é `base` ‰∏çÂêå                                                   |\n| Delete               | Delete                 | Ë°®Á§∫ base Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå`ours` Âíå `theris` Âùá‰∏çÂ≠òÂú®ËØ•ÈÖçÁΩÆÈ°π                                                                                       |\n\nÊàë‰ª¨‰ª•‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰ª£Á†ÅÁ§∫‰æãËØ¥ÊòéÔºö\n\n![‰∏âË∑ØÂêàÂπ∂ÈÖçÁΩÆ‰ª£Á†ÅÁ§∫‰æã](https://img.mrsingsing.com/diff-tool-merge-code-demo.jpg)\n\nÁªìÂêà‰∏äÊñáÊèêÂèä‰∫îÁßç‰∏§‰∏§ÊØîÂØπÂ≠òÂú®ÂèòÊõ¥Áä∂ÊÄÅÊó∂ÁöÑÊÉÖÂÜµÔºåÂπ∂ÁªìÂêà‰ª£Á†ÅÁ§∫‰æãÂæóÂá∫‰ª•‰∏ãÁªìËÆ∫Ôºö\n\n- `color` ÂØπÂ∫îÁ¨¨‰∏ÄÁßçÊÉÖÂÜµÔºå`base` Ê≤°ÊúâËØ•ÈÖçÁΩÆÈ°πÔºåËÄå `ours` Âíå `theirs` ÂàôÊúâ\n- `width` ÂØπÂ∫îÁ¨¨‰∫åÁßçÊÉÖÂÜµÔºå`base` ÊúâËØ•ÈÖçÁΩÆÈ°πÔºåËÄå `ours` Âíå `theirs` ÂêåÊ†∑ÊúâËØ•ÈÖçÁΩÆÈ°πÔºå‰ΩÜÊòØ `ours` Âíå `theirs` ÁöÑÂÄºÂ≠òÂú®Â∑ÆÂºÇ\n- `height` ÂêåÊ†∑ÂØπÂ∫îÁ¨¨‰∫åÁßçÊÉÖÂÜµÔºå‰∏é `width` ÈÖçÁΩÆÈ°π‰∏çÂêåÁöÑÊòØÔºå`ours` Âíå `theirs` ÁöÑÂÄº‰∏•Ê†ºÁõ∏Á≠â\n- `translateX` ÂØπÂ∫îÁ¨¨‰∏âÁßçÊÉÖÂÜµÔºå`base` ‰∏é `ours` ÊúâËØ•ÈÖçÁΩÆÔºå‰∏îÂÄºÂÜ≤Á™ÅÔºåËÄå `theirs` ÂàôÂà†Èô§‰∫ÜËØ•ÈÖçÁΩÆÈ°π\n- `translateX` ÂØπÂ∫îÁ¨¨ÂõõÁßçÊÉÖÂÜµÔºå`base` ‰∏é `theirs` ÊúâËØ•ÈÖçÁΩÆÔºå‰∏îÂÄºÂÜ≤Á™ÅÔºåËÄå `ours` ÂàôÂà†Èô§‰∫ÜËØ•ÈÖçÁΩÆÈ°π\n- `line-height` ÂØπÂ∫îÁ¨¨‰∫îÁßçÊÉÖÂÜµÔºå‰ªÖ `base` Â≠òÂú®ËØ•ÈÖçÁΩÆÈ°πÔºå`ours` Âíå `theirs` ÂùáÂà†Èô§‰∫ÜËØ•ÈÖçÁΩÆÈ°π\n\n> ËøôÈáåÊèêÂèäÁöÑÊñ∞Â¢ûÊàñÂà†Èô§Â≠óÊÆµÂè™‰∏∫Ë¶ÜÁõñÊõ¥ÂÆåÊï¥ÁöÑÂäüËÉΩÔºåÂÆûÈôÖÁöÑÂèØËßÜÂåñÈÖçÁΩÆ‰∏öÂä°‰∏≠ÔºåÂõ†‰∏∫ÁªÑ‰ª∂ÁöÑÈÖçÁΩÆÈ°πÂü∫Êú¨Âõ∫ÂÆö‰∏îÂùáÊèê‰æõ‰∫ÜÈªòËÆ§ÂÄºÔºåÊâÄ‰ª•Âá∫Áé∞Êñ∞Â¢ûÊàñÂà†Èô§Â≠óÊÆµÁöÑÊÉÖÂÜµËæÉÂ∞ë„ÄÇ\n\nÊúÄÂêéÂü∫‰∫é `base` ËøõË°å diff ÂêéÂæóÂá∫Â¶Ç‰∏ã‰∏§‰ªΩ JSON Schema ÁªìÊûÑÂ∑ÆÂºÇÂåñÊï∞ÊçÆÔºö\n\n![diff-between-base-and-ours](https://img.mrsingsing.com/diff-between-base-and-ours.jpg)\n\n![diff-between-base-and-theirs](https://img.mrsingsing.com/diff-between-base-and-theirs.jpg)\n\nÂü∫‰∫é‰∏âË∑ØÂêàÂπ∂ÁöÑÁ≠ñÁï•ÔºåÂΩì‰∏âË∑ØÂÄºÂùá‰∏çÂêåÊó∂‰ºö‰øùÁïôÂ∑ÆÂºÇËÆ©Áî®Êà∑ÊâãÂä®Ëß£ÂÜ≥ÔºåÂΩìÂèòÊõ¥‰∏§Ë∑ØÂÄºÁõ∏ÂêåÊàñÊñ∞Â¢ûÊó∂Âàô‰øùÁïôÁõ∏ÂêåÂÄºÔºåÊúÄÂêéÂêàÂπ∂ÂêéÂæóÂá∫Êñ∞ÁöÑ JSON Schema ÈÖçÁΩÆÊï∞ÊçÆÔºö\n\n![Merge base and ours and theirs](https://img.mrsingsing.com/diff-tool-merge-base-ours-and-theirs.jpeg)\n\n## Revert ÂäüËÉΩÂÆûÁé∞\n\nÊúÄÁªàÈÄöËøáËá™Âä®ÂêàÂπ∂ÂíåÊâãÂä®Ëß£ÂÜ≥ÂÜ≤Á™ÅÔºåÂÆåÊï¥ÁöÑÈÖçÁΩÆÊï∞ÊçÆÂ∫îËØ•ÊâÄÊúâËäÇÁÇπÈÉΩË°®Á§∫‰∏∫Áõ∏Á≠âÁä∂ÊÄÅ„ÄÇÈÄöËøáÂØπËøîËøòÁöÑ JSON Schema ÁªìÊûÑÁöÑÊï∞ÊçÆÈÄíÂΩíËøòÂéüÔºåËá™Âä®Êñ∞Âª∫È°µÈù¢Âç≥ÂÆåÊàêÊï¥‰∏™ÊâπÈáèÊõ¥Êñ∞È°µÈù¢ÁöÑÂäüËÉΩ„ÄÇ\n\n---\n\n**ÂèÇËÄÉËµÑÊñô**Ôºö\n\n- [‰∏âË∑ØÂêàÂπ∂ Git Â≠¶‰π†Á¨îËÆ∞ 17](https://blog.csdn.net/longintchar/article/details/83049840)\n","source":"_posts/practice-of-page-batch-update-tool-in-visual-configuration-system.md","raw":"---\ntitle: ÂèØËßÜÂåñÈÖçÁΩÆÁ≥ªÁªüÈ°µÈù¢ÊâπÈáèÊõ¥Êñ∞Â∑•ÂÖ∑ÁöÑÂºÄÂèëÂÆûË∑µ\ndate: '2019-11-15'\n---\n\n> È¶ñÂèë‰∫éÔºö[ÂèØËßÜÂåñÈÖçÁΩÆÁ≥ªÁªüÈ°µÈù¢ÊâπÈáèÊõ¥Êñ∞Â∑•ÂÖ∑ÁöÑÂºÄÂèëÂÆûË∑µ](https://juejin.im/post/5dc8fd92f265da4d287f4551)\n\nTotoroX ‰Ωú‰∏∫ PPmoney ÈõÜÂõ¢ÂÜÖÈÉ®ÈõÜ UI Âíå‰∏öÂä°ÈÄªËæë‰∫é‰∏Ä‰ΩìÁöÑÂâçÁ´ØÈ°µÈù¢ÂèØËßÜÂåñÈÖçÁΩÆÁ≥ªÁªüÔºå‰∏∫ËøêËê•ÈÉ®Èó®Êèê‰æõÂø´ÈÄüÊûÑÂª∫ÂâçÁ´ØÈ°µÈù¢ÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇËØ•Á≥ªÁªü‰∏∫È°µÈù¢ÂºÄÂèëÂèäËøêËê•‰∫∫ÂëòÊèê‰æõ‰∫ÜÂº∫Â§ßÁöÑÁªÑ‰ª∂Â∏ÇÂú∫ÔºåÈÄöËøáÊãñÊãΩ„ÄÅË°®ÂçïÈÖçÁΩÆÁ≠âÊñπÂºèÂÆûÁé∞‰∏ìÈ¢òÈ°µÈù¢ÁöÑ‰∏öÂä°ÈúÄÊ±Ç„ÄÇÁõÆÂâçÂ∑≤ÊîØÊíëÈõÜÂõ¢ 850+Ëê•ÈîÄÊ¥ªÂä®È°µÈù¢„ÄÇ\n\n## ‰∏öÂä°ÁóõÁÇπ\n\nÂú®‰∫ßÂìÅËÆæËÆ°Èò∂ÊÆµÔºå‰∫ßÂìÅÁªèÁêÜ‰ºöÊ†πÊçÆÂØπÁî®Êà∑ÁöÑË∞ÉÁ†îÔºåÂÄüÂä©Áî®Êà∑ÁîªÂÉèÁêÜËß£Áî®Êà∑ÁöÑÈúÄÊ±ÇÔºåÊÉ≥ÊÉ≥Áî®Êà∑‰ΩøÁî®ÁöÑÂú∫ÊôØÔºå‰ª•Âèä‰ªñ‰ª¨ÂèØËÉΩ‰ºöÈÅáÂà∞ÁöÑÂõ∞Èöæ„ÄÇÈöèÁùÄ‰∫ßÂìÅ‰∏äÁ∫øÂêéÔºåËøêËê•Âõ¢ÈòüÈÄöËøáËΩ¨ÂåñÊºèÊñóÂàÜÊûêÁî®Êà∑‰∫§‰∫íË°å‰∏∫‰ª•ÂèäÊúÄÁªàÁöÑËΩ¨ÂåñÁöÑÂÆûÈôÖÊïàÊûú„ÄÇÊâÄ‰ª•Ëøô‰∏™Èò∂ÊÆµÔºåÈöèÁùÄÁúüÂÆûÁî®Êà∑Áæ§‰ΩìÁöÑÁßØÁ¥ØÔºåÂú®ËÆæËÆ°Èò∂ÊÆµËôöÊûÑÁöÑÁî®Êà∑ÁîªÂÉèÈúÄË¶ÅÈáçÊñ∞Ë∞ÉÁ†î„ÄÅËÆæÊÉ≥„ÄÇ\n\nËÄåÂú®ÊäÄÊúØÁöÑËßíÂ∫¶ÔºåÊàë‰ª¨‰πüÂ∏åÊúõÈÄöËøáÁî®Êà∑Ë°å‰∏∫Êï∞ÊçÆÔºå‰∏∫‰∫ßÂìÅËøêËê•Êèê‰æõÊõ¥Â•ΩÁöÑÊîØÊíëÔºå‰æãÂ¶Ç‰∏∫‰∏çÂêåÁöÑÁî®Êà∑Êèê‰æõ‰∏çÂêå UI ÁöÑÂâçÁ´ØÈ°µÈù¢ÔºåÈÄöËøáÂØπÊØîÁöÑÊñπÊ≥ïËßÇÂØüÊï∞ÊçÆÂèòÂåñÔºå‰ª•Ê≠§‰Ωú‰∏∫ÂØπÁî®Êà∑Ë°å‰∏∫ÁöÑÂáÜÁ°ÆÂà§Êñ≠„ÄÇ\n\n‰ª•‰∏ãÈù¢ÁöÑËê•ÈîÄÊ¥ªÂä®È°µ‰∏∫‰æãÔºåÊàë‰ª¨‰ºöÂú®Êó¢ÊúâÁöÑÈ°µÈù¢ÈÖçÁΩÆ‰∏≠ÁîüÊàêÊñ∞ÁöÑÈ°µÈù¢ÔºåÂπ∂Ê†πÊçÆËÆæËÆ°Ë¶ÅÊ±ÇËøõË°åÂ±ÄÈÉ®ÁöÑË∞ÉÊï¥ÔºåÈô§‰∫Ü UI ÈÉ®ÂàÜÔºåÂÜÖÈÉ®ÈÄªËæëÂåÖÊã¨ÂüãÁÇπÊï∞ÊçÆ„ÄÅ‰∫ã‰ª∂ÈìæÊù°ÂÖ≥Á≥ªÁ≠â‰πü‰ºöËøõË°åÁõ∏ÂÖ≥ÁöÑ‰øÆÊ≠£„ÄÇÂú®Ê≠§ÈúÄÊ±ÇËÉåÊôØ‰πã‰∏ãÔºåÂ¶ÇÊûúÈúÄË¶Å‰∫∫Â∑•ÊâãÂä®ÂØπÊØè‰∏™ÈÖçÁΩÆÈ°µÈù¢ËøõË°å‰øÆÊîπÔºåËøôÂ∞Ü‰ºöËÄóË¥πÂ§ßÈáèÁöÑ‰∫∫ÂäõËµÑÊ∫ê„ÄÇËÄå‰∏îÔºå‰∏äÊñáÊèêÂà∞‰ºöÊ∂âÂèäÈÄªËæëÁöÑ‰øÆÊîπÔºåÈÖçÁΩÆ‰∫∫Âëò‰∏çÊòìÂèëÁé∞ÂèòÊõ¥ÁöÑÂú∞ÊñπÔºåÊó†Ê≥ïÂØπ‰øÆÊîπÂêéÁöÑÈ°µÈù¢ËøõË°åÊ†°È™å„ÄÇÁªº‰∏äÊâÄËø∞ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏ÄÊ¨æÂØπÊØîÂâçÂêéÂèòÂåñÁöÑÂ∑•ÂÖ∑ÔºåËÉΩÂ§üÂèØËßÜÂåñÂú∞ÂØπ‰∏çÂêåÁöÑÈÖçÁΩÆÊï∞ÊçÆËøõË°åÂØπÊØîÔºåÂπ∂ÈÄöËøáÂõæÂΩ¢ÁªòÂà∂ÁöÑÂΩ¢ÂºèÊ∏ÖÊô∞Áü•ÈÅìÈÖçÁΩÆÊï∞ÊçÆÊ†ë‰∏≠Âì™‰∫õËäÇÁÇπÊ≤°Êúâ‰øÆÊîπÔºåÂì™‰∫õËäÇÁÇπ‰øÆÊîπ‰∫ÜÔºå‰øÆÊîπÂâçÂêéÁöÑÂÄºÂèàÊòØ‰ªÄ‰πàÔºåÂ∞±Â•ΩÂÉèÊàë‰ª¨ËøõË°å‰ª£Á†ÅÂçèÂä©Êó∂ÈÄöËøá `git diff` ËÉΩÂ§üÁü•ÈÅìÊñá‰ª∂‰∏≠Âì™Ë°å‰ª£Á†ÅÂèëÁîü‰∫ÜÂÜ≤Á™ÅÔºåÈÄöËøá‰∫∫Â∑•Âà§Êñ≠ÂØπÂÜ≤Á™ÅËøõË°å‰øÆÊîπÂêàÂπ∂ÔºåÂπ∂ÊúÄÁªàËææÂà∞Êàë‰ª¨ÈúÄË¶ÅÁöÑÊïàÊûú„ÄÇ\n\n![AB Test](https://img.mrsingsing.com/diff-tool-abtest.jpg)\n\nTotoroX Âü∫‰∫éÁî®Êà∑ÈÖçÁΩÆÁöÑÊï∞ÊçÆÁªÑË£ÖÁîüÊàêÈ°µÈù¢ÔºåÈÖçÁΩÆÊï∞ÊçÆÂùáÁî±ÁªÑ‰ª∂Â∏ÇÂú∫ÁöÑÁâ©ÊñôÊîØÊíëÔºåÂçï‰∏™ÁªÑ‰ª∂ÁöÑÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÂü∫Êú¨Áõ∏ÂêåÔºåÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÔºöÂîØ‰∏ÄÊ†áËØÜ„ÄÅÁªÑ‰ª∂ÂêçÁß∞„ÄÅÁªÑ‰ª∂Â±ûÊÄß„ÄÅÁªÑ‰ª∂Ê†∑Âºè„ÄÅÁªÑ‰ª∂‰∫ã‰ª∂Èìæ‰ª•ÂèäÂä®ÁîªÁõ∏ÂÖ≥ÈÖçÁΩÆÁ≠â„ÄÇÁªÑ‰ª∂Èó¥Âú®ÈÖçÁΩÆÊï∞ÊçÆÁöÑÈõÜÂêà‰∏≠ÊòØÊâÅÂπ≥ÂåñÁöÑÔºåÈÄöËøáÂêÑÁªÑ‰ª∂ÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ÁöÑÊ†áËØÜÈõÜÂêàÁõ∏‰∫íÂÖ≥ËÅîËµ∑Êù•ÔºåËøôÊ†∑ÁöÑÊï∞ÊçÆÁªìÊûÑËÆæËÆ°ÈÅøÂÖç‰∫ÜÂõ†‰∏∫ÂµåÂ•óÂ±ÇÁ∫ßËøáÊ∑±ËÄå‰∫ßÁîüÁöÑÈóÆÈ¢ò„ÄÇÂü∫‰∫éËøô‰∫õÊù°‰ª∂Ôºå‰∏∫Â§öË∑ØÂ∑ÆÂºÇÂåñÂØπÊØî‰ª•ÂèäÂêàÂπ∂Êèê‰æõ‰∫ÜÂèØËÉΩ„ÄÇ\n\n<!-- more -->\n\n## Â∑ÆÂºÇÂåñÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°\n\nÂú®ËøõË°åÈÖçÁΩÆÊï∞ÊçÆÁöÑÂØπÊØîÂêàÂπ∂ÂâçÔºåÈúÄË¶ÅËÆæËÆ°Âá∫ËÉΩÂ§üÂáÜÁ°ÆÊèèËø∞Êï∞ÊçÆÂèòÂåñÂâçÂêéÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ\n\nÂú® TotoroX ‰∏≠ÔºåÈÖçÁΩÆÊï∞ÊçÆÁöÑÁªìÊûÑÊ®°Âºè‰∏é JSON ÁöÑÁªìÊûÑÊ®°Âºè‰∏ÄËá¥ÔºåÂõ†Ê≠§Êï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°Â∫î‰ª• JSON ÁöÑÊï∞ÊçÆÁªìÊûÑ‰∏∫Âü∫Á°Ä„ÄÇ\n\nËÄåÂú® JSON ‰∏≠ÂÄºÂ≠òÂú®‰ª•‰∏ãÂá†ÁßçÊï∞ÊçÆÁ±ªÂûãÔºö\n\n- null\n- Â≠óÁ¨¶‰∏≤\n- Â∏ÉÂ∞îÂÄº\n- Êï∞ÂÄº\n- Êï∞ÁªÑ\n- ÂØπË±°\n\nÂõ†Ê≠§ÔºåÊàë‰ª¨‰∏çÁî®ËÄÉËôëËØ∏Â¶Ç Date„ÄÅFunction„ÄÅSymbol„ÄÅSet Á≠âÊï∞ÊçÆÁ±ªÂûãÁöÑÂÄº„ÄÇ\n\nÂêåÊó∂ÔºåÂú®ËÆæÂÆöÁöÑÈÖçÁΩÆÊï∞ÊçÆ‰∏≠‰∏çËÉΩÂ≠òÂú®Á©∫ÂÄº `null`ÔºåÂ¶ÇÊûúË¶ÅË°®Á§∫‰∏çÂØπÊüêÈÖçÁΩÆÈ°π‰ΩúÈÖçÁΩÆÔºåÂÆûÈôÖ‰∏ä‰ºöÈááÁî®ÈªòËÆ§ÁöÑÈÖçÁΩÆÂ±ûÊÄßÔºåÊâÄ‰ª•Âú®ÂÆûÈôÖÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ÔºåÊòØ‰∏ç‰ºöÂ≠òÂú®Á©∫ÂÄºÂ≠òÂú®ÔºåÂèØ‰ª•ÂøΩÁï•ËøôÁßçÊÉÖÂÜµ„ÄÇ\n\nÁªºÂêà‰∏äËø∞Ôºå‰ªéÂ§ßËá¥‰∏äËÉΩÂàÜ‰∏∫‰∏§Â§ßÁ±ªÊï∞ÊçÆÁ±ªÂûãÔºö\n\n- Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºöÂ≠óÁ¨¶‰∏≤„ÄÅÂ∏ÉÂ∞îÂÄº„ÄÅÊï∞ÂÄº\n- ÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÔºöÊï∞ÁªÑ„ÄÅÂØπË±°\n\nÈÇ£‰πàÊàë‰ª¨ÊòØÊÄéÊ†∑ÂéªÊèèËø∞ JSON ÂØπÊØîÂâçÂêéÂèòÊõ¥Áä∂ÊÄÅÂë¢Ôºü\n\nJSON ÊòØÁõÆÂâçÂ∫îÁî®ÂπøÊ≥õÁöÑÊï∞ÊçÆ‰∫§Êç¢Ê†ºÂºèÔºåÈÇ£‰πà‰∫§Êç¢ÂèåÊñπËÇØÂÆöÈúÄË¶ÅÂØπÊï∞ÊçÆËøõË°åÁ∫¶ÂÆöÂíåÊ†°È™åÔºåËÄå JSON Schema Â∞±ÊòØÊâÆÊºîÂÆö‰πâ JSON Êï∞ÊçÆÁ∫¶ÊùüÁöÑÊ†áÂáÜ„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨Â∞ùËØïÂºïÂÖ• JSON Schema ÁöÑÊ¶ÇÂøµÔºåÂπ∂ÁªìÂêàÂÆûÈôÖÂäüÁî®ËøõË°åÊîπÈÄ†„ÄÇ\n\n‰º†ÁªüÁöÑ JSON Schema Ë°®Áé∞‰∏∫ËøôÊ†∑Ôºö\n\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"http://example.com/product.schema.json\",\n  \"title\": \"Product\",\n  \"description\": \"A product from Acme's catalog\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"productId\": {\n      \"description\": \"The unique identifier for a product\",\n      \"type\": \"integer\"\n    },\n    \"productName\": {\n      \"description\": \"Name of the product\",\n      \"type\": \"string\"\n    },\n    \"price\": {\n      \"description\": \"The price of the product\",\n      \"type\": \"number\",\n      \"exclusiveMinimum\": 0\n    },\n    \"tags\": {\n      \"description\": \"Tags for the product\",\n      \"type\": \"array\",\n      \"items\": {\n        \"type\": \"string\"\n      },\n      \"minItems\": 1,\n      \"uniqueItems\": true\n    },\n    \"dimensions\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"length\": {\n          \"type\": \"number\"\n        },\n        \"width\": {\n          \"type\": \"number\"\n        },\n        \"height\": {\n          \"type\": \"number\"\n        }\n      },\n      \"required\": [\"length\", \"width\", \"height\"]\n    }\n  },\n  \"required\": [\"productId\", \"productName\", \"price\"]\n}\n```\n\n‰ªéÂΩ¢Âºè‰∏äÊù•ËÆ≤ÔºåJSON Schema ËøòÊòØ JSON ÁöÑÊ†ºÂºèÔºå‰ΩÜ‰∏çÂêåÁöÑÊòØÔºåJSON Schema ‰ºöÂú®ÂéüÊù•ÁöÑ JSON Âü∫Á°Ä‰∏äÂú®ÊØè‰∏™Â±ÇÁ∫ßÁöÑÊï∞ÊçÆÂ§ñÂåÖË£Ö‰∫Ü‰∏ÄÂ±ÇÁî®‰ª•ÊèèËø∞ÂØπÂ∫îÂ±ÇÁ∫ßÂÄºÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂåÖÊã¨ÂØπÂ∫îÂ±ÇÁ∫ßÁöÑÂÄº„ÄÅÊèèËø∞„ÄÅÊï∞ÊçÆÁ±ªÂûã‰ª•ÂèäÂÖ∂ÂÆÉÈ¢ùÂ§ñÈÖçÁΩÆÁöÑ‰ø°ÊÅØ„ÄÇ\n\nÂú®ÁªìÊûÑ‰∏äÔºåÊàë‰ª¨Ê≤øÁî®‰∫Ü JSON Schema ÁöÑ‰∏ÄÂ•óÊ†áÂáÜÔºåÂú®Ê∫êÊï∞ÊçÆÂü∫Á°Ä‰∏äÈÄöËøáÈÅçÂéÜÈÄíÂΩíÁöÑÊñπÊ≥ïÂØπÊï∞ÊçÆËøõË°åÊèèËø∞„ÄÇËÄåÂú®ÊèèËø∞ÁöÑ‰ø°ÊÅØ‰∏äÔºåÊàë‰ª¨ÈíàÂØπÂÆûÈôÖÁöÑÂ∫îÁî®Âú∫ÊôØËøõË°å‰∫ÜÂÆöÂà∂„ÄÇ\n\nÊèèËø∞‰ø°ÊÅØ‰∏≠ÂøÖ‰∏çÂèØÂ∞ëÁöÑÂ∞±ÊòØÂØπÊï∞ÊçÆÂèòÂåñ‰ø°ÊÅØÁöÑÊèèËø∞ÔºåÊàë‰ª¨ÂèÇËÄÉ‰∫Ü Git ÁÆ°ÁêÜ‰ª£Á†ÅÂèòÊõ¥ÁöÑÁ≠ñÁï•ÔºåÂú®‰∏§‰∏§ÂØπÊØî‰∏ãÔºåÊàë‰ª¨Ê¢≥ÁêÜÂá∫ÂèØËÉΩ‰∫ßÁîüÁöÑÂõõÁßçÂÄºÊØîËæÉÊÉÖÂÜµÔºö\n\n- **Áõ∏Á≠âÔºàEqualÔºâ**ÔºöÂΩì‰∏§‰∏™Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄº‰∏•Ê†ºÁõ∏Á≠âÊó∂ÔºåÂàô‰∏∫Áõ∏Á≠âÁä∂ÊÄÅÔºõËÄåÂØπ‰∫éÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÔºåÈúÄË¶ÅÊèê‰æõÈ¢ùÂ§ñÁöÑÊâãÊÆµËøõË°åÂåπÈÖç\n- **Êñ∞Â¢ûÔºàAddÔºâ**ÔºöÂΩìÂØπË±°Èó¥ÂØπÊØîÊó∂ÔºåÁõÆÊ†áÂØπË±°Â≠òÂú®Êñ∞Â¢ûÁöÑÈîÆÊó∂ÔºåÊèèËø∞ËØ•ÈîÆÂÄº‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅÔºõÂêåÁêÜÔºåÂΩìÊï∞ÁªÑ‰∏≠Êó†ÂØπÂ∫îÁöÑÂåπÈÖçÈ°πÊó∂ÔºåÂàô‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅ\n- **Âà†Èô§ÔºàDeleteÔºâ**Ôºö‰∏éÊñ∞Â¢ûÁä∂ÊÄÅÁ±ª‰ººÔºåÂΩìÂØπË±°Èó¥ÂØπÊØîÊó∂ÔºåÁõÆÊ†áÂØπË±°Â≠òÂú®Âà†Èô§ÁöÑÈîÆÊó∂ÔºåÊèèËø∞ËØ•ÈîÆÂÄº‰∏∫Âà†Èô§Áä∂ÊÄÅÔºåËÄåÊï∞ÁªÑ‰∏≠ÂØπÂ∫îÁöÑÂåπÈÖçÈ°π‰∏çÂ≠òÂú®Êó∂ÔºåÂàô‰∏∫Âà†Èô§Áä∂ÊÄÅ\n- **ÂÜ≤Á™ÅÔºàConflictÔºâ**ÔºöÂΩì‰∏§‰∏™Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄº‰∏ç‰∏•Ê†ºÁõ∏Á≠âÊó∂ÔºåÂàô‰∏∫ÂÜ≤Á™ÅÁä∂ÊÄÅ\n\n‰∏æ‰∏™‰æãÂ≠êÔºåÂ¶Ç‰∏ã‰∏∫‰∏§‰∏™‰∏™‰ªÖÊúâ‰∏Ä‰∏™ÊåâÈíÆÁªÑ‰ª∂ÁöÑÈÖçÁΩÆÈ°µÊï∞ÊçÆÈõÜÂêàÔºö\n\n![‰øÆÊîπÂâçÂêéÁöÑÈÖçÁΩÆÊï∞ÊçÆ](https://img.mrsingsing.com/diff-tool-data-structure-comparation-.jpg)\n\nÈÄöËøá diff ÂêéÈ¢ÑËÆæËÉΩ‰∫ßÁîüÁöÑÊï∞ÊçÆÁªìÊûÑÔºö\n\n![ÂØπÊØîÂêé‰∫ßÁîüÁöÑÊï∞ÊçÆÁªìÊûÑ](https://img.mrsingsing.com/diff-tool-result-data-structure.jpg)\n\nÊàë‰ª¨ÂØπÊèèËø∞ÂèòÂåñÁöÑÊï∞ÊçÆÁªìÊûÑËøõË°å‰∫ÜÁ∫¶ÂÆöÔºö\n\n- ÂØπË±°Á±ªÂûãÂíåÊï∞ÁªÑÁ±ªÂûãÁöÑÂÄº‰ΩøÁî® `_properties` Â≠óÊÆµÊèèËø∞ÔºåÂØπÂ∫îÂÄºË¢´Ê∫êÊï∞ÊçÆÂØπÂ∫îÁöÑÊï∞ÊçÆÁ±ªÂûãÂåÖË£π\n- Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄºÊ†πÊçÆÂÖ∑‰ΩìÂÄºÁöÑÁä∂ÊÄÅ `_status` ÂÜ≥ÂÆöÂ±ïÁ§∫ÁöÑÂ≠óÊÆµ\n  - Áõ∏Á≠âÔºàEqualÔºâÔºö‰ΩøÁî® `_origin` Ë°®Á§∫ÂÄº\n  - Êñ∞Â¢ûÔºàAddÔºâÔºö‰ΩøÁî® `_target` Ë°®Á§∫Êñ∞Â¢ûÁöÑÂÄº\n  - Âà†Èô§ÔºàDeleteÔºâÔºö‰ΩøÁî® `_origin` Ë°®Á§∫Âà†Èô§ÁöÑÂÄº\n  - ÂÜ≤Á™ÅÔºàConflictÔºâÔºö‰ΩøÁî® `_orign` Ë°®Á§∫Êõ¥ÊîπÂâçÁöÑÂÄºÔºå`_target` Ë°®Á§∫Êõ¥ÊîπÂêéÁöÑÂÄº\n\n‰Ω†‰πüËÆ∏‰ºöÂèëÁé∞Âç≥‰æøÊòØÂØπË±°Á±ªÂûãÂíåÊï∞ÁªÑÁ±ªÂûãÔºå‰πü‰ºöÊúâ `_status` Â≠óÊÆµÊèèËø∞Êõ¥ÊîπÁä∂ÊÄÅ„ÄÇËøôÊòØÂõ†‰∏∫Êàë‰ª¨Âú®‰∫§‰∫íÁïåÈù¢‰∏äÈááÂèñ‰∫Ü**Ëá™Â∫ïÂêë‰∏ä**ÁöÑÁä∂ÊÄÅÂèòÊõ¥ÊòæÁ§∫Á≠ñÁï•„ÄÇ‰æãÂ¶ÇÔºåÂΩì‰∏Ä‰∏™ÁªÑ‰ª∂ÈÖçÁΩÆÊï∞ÊçÆÂ§ßÈÉ®ÂàÜ‰øùÊåÅ‰∏çÂèòÁöÑÊÉÖÂÜµ‰∏ãÔºåÊ†∑ÂºèÈÖçÁΩÆÂ≠óÊÆµ `style` ‰∏≠ÁöÑ `height` ÈÖçÁΩÆÈ°πÊîπÂèò‰∫ÜÂÄºÔºåÈÇ£‰πàÈô§‰∫ÜÊèèËø∞ËØ•Â≠óÊÆµÁöÑ Schema ÁªìÊûÑ‰∏≠Áä∂ÊÄÅÂ≠óÊÆµ `_status` ‰ºöÊòæÁ§∫‰∏∫ÂÜ≤Á™ÅÔºàConflictÔºâÂ§ñÔºåÂú®ÈÄíÂΩíËøîÂõûÁöÑËøáÁ®ã‰∏≠Ôºå‰∫¶‰ºöÂ∞ÜÂ±ÇÁ∫ßÊõ¥È´òÁöÑÂØπË±°ÊàñÊï∞ÁªÑÁä∂ÊÄÅÊ†áËÆ∞‰∏∫ÂÜ≤Á™ÅÔºàConflictÔºâ„ÄÇ\n\n> ÈúÄË¶ÅÁâπÂà´ËØ¥ÊòéÁöÑÊòØÔºåÂ¶ÇÊûú‰∏ãÂ±ÇÁªìÊûÑ‰ªÖÊúâ‰∏ÄÁßçÂèòÂåñÁä∂ÊÄÅÊó∂Ôºå‰∏äÂ±ÇÁªìÊûÑ‰ºöÊòæÁ§∫ËØ•ÂèòÂåñÁä∂ÊÄÅÔºåËÄå‰∏ãÂ±ÇÁªìÊûÑÂ≠òÂú®‰∏çÂè™‰∏ÄÁßçÂèòÂåñÁä∂ÊÄÅÊó∂ÔºåÂàô‰∏äÂ±Ç‰ºöÁªü‰∏ÄË°®Á§∫‰∏∫ÂÜ≤Á™ÅÁä∂ÊÄÅ„ÄÇ\n\n![Áä∂ÊÄÅËá™Â∫ïÂêë‰∏ä‰º†ÈÄíÊòæÁ§∫Á≠ñÁï•](https://img.mrsingsing.com/diff-tool-status-display-tatics.jpg)\n\nËøôÊ†∑Â§ÑÁêÜÁöÑÁõÆÁöÑÔºåÊòØ‰∏∫‰∫ÜÊ†ëÁªìÊûÑÂú®ÂèØËßÜÂåñËßÜÂõæÁªÑË£ÖÊ∏≤ÊüìÂêéËÉΩÂ§üÊõ¥Ê∏ÖÊô∞Âú∞ËÆ©ÈÖçÁΩÆ‰∫∫ÂëòÁü•ÈÅìÂêÑËäÇÁÇπÁöÑÁä∂ÊÄÅ„ÄÇÊ†ëÁä∂ÁöÑÂõæÂΩ¢ËÉΩÂ§üËÆ©ÂºÄÂèë‰∫∫ÂëòÂø´ÈÄüÁü•ÈÅìÂì™‰∫õÁªÑ‰ª∂ÈÖçÁΩÆÈ°πÂèëÁîü‰∫ÜÂèòÊõ¥ÔºåÂπ∂ËÉΩÊ≤øÁùÄË∑ØÂæÑÊâæÂà∞ÂèòÂåñÁöÑÊ†πÊ∫ê„ÄÇ\n\n![ÂèØËßÜÂåñÂÜ≤Á™ÅËß£ÂÜ≥ÁïåÈù¢](https://img.mrsingsing.com/diff-tool-path-to-root.jpg)\n\n## Diff ÂäüËÉΩÂÆûÁé∞\n\nÁ∫¶ÂÆöÂ•ΩÂØπÊØîÂêéÁöÑÊï∞ÊçÆÁªìÊûÑÂêéÔºåÈÇ£‰πàÂ∞±Ë¶ÅÈÄöËøáÊñπÊ≥ïÂ∞ÅË£ÖÂØπÂèòÂåñÂâçÂêéÁöÑÈ°µÈù¢ÈÖçÁΩÆÊï∞ÊçÆËøõË°åÊØîËæÉ„ÄÇ\n\nÂú®ÂÆûÁé∞ diff ÊñπÊ≥ïÂâçÔºåÂ∞±ËÆæÊÉ≥ÂÆûÁé∞ÁöÑÊñπÊ≥ïÂ∫îËØ•ËÉΩ‰øùËØÅÂú®‰∏çÂêåÁöÑÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑ‰∏ã‰πüËÉΩ‰ΩøÁî®„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂÆûÁé∞ËøáÁ®ãÈúÄË¶ÅËÑ±Á¶ª‰∏öÂä°Áõ∏ÂÖ≥ÁöÑ‰ª£Á†ÅÔºåÂ∞ΩÂèØËÉΩ‰øùËØÅÊñπÊ≥ïÈÄöÁî®ÊÄß„ÄÇ\n\nËÄåÂú®ÂÆûÁé∞ËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ÈÅáÂà∞ÁöÑÂÖ∂‰∏≠‰∏Ä‰∏™ÈóÆÈ¢òÂ∞±ÊòØÂΩìÂØπÊØîÂèåÊñπÁöÑÊï∞ÁªÑÁ±ªÂûã‰∏îÂÖ∂Êï∞ÁªÑÊàêÂëò‰∏∫ÂØπË±°Á±ªÂûãÊó∂ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏∫Ê≠§Á±ªÊÉÖÂÜµÊèê‰æõÁî®‰∫éÂåπÈÖçÁöÑÊñπÊ≥ï„ÄÇ\n\nÊàë‰ª¨‰ª• TotoroX ÁöÑÈÖçÁΩÆ‰∏∫‰æãÊù•Ëß£Èáä‰∏∫‰ªÄ‰πàÈúÄË¶Å‰∏∫Êï∞ÁªÑÁªìÊûÑÁöÑÊØîËæÉÊèê‰æõÂåπÈÖçÊñπÊ≥ï„ÄÇ‰æãÂ¶Ç TotoroX ÁöÑÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ `eventList` Â≠óÊÆµË°®Á§∫ÁªÑ‰ª∂Áõ∏ÂÖ≥ÁöÑ‰∫ã‰ª∂ÂàóË°®ÔºåÊØè‰∏™‰∫ã‰ª∂ÔºàÂØπË±°Ôºâ‰πãÈó¥ÁöÑ `name` Â≠óÊÆµÊòØÂîØ‰∏ÄÁöÑÔºåÂõ†Ê≠§Êàë‰ª¨Âú®ÂØπÊØî `eventList` Êï∞ÁªÑÊó∂ÔºåÈúÄË¶ÅÊòéÁ°ÆÂØπË±°Êï∞ÁªÑ‰∏≠ÂêÑÊàêÂëòÁöÑ `name` ÈîÆÂÄº‰∏∫‰∏•Ê†ºÁõ∏Á≠âÔºåÊâçËÉΩÂØπÂèåÊñπËøõË°åÂêéÁª≠ÁöÑ diff„ÄÇËÄåÂÆûÈôÖ‰∏äÔºåÂπ∂ÈùûÊâÄÊúâÂØπË±°Êï∞ÁªÑÈÉΩÈÄöËøá `name` Â≠óÊÆµËøõË°åÂåπÈÖçÔºåÂ∞ÜÁ±ª‰ººÁöÑ‰ª£Á†ÅÂèÇÊùÇÂà∞ÈÄöÁî®Á±ªÂûãÊñπÊ≥ï‰∏≠ÊòæÁÑ∂ÊòØ‰∏çÊÅ∞ÂΩìÁöÑ„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨ÈúÄË¶ÅÊèêÈ´òÁ±ªÂ∫ìÁöÑÂèØÊãìÂ±ïÊÄßÔºåÂ∞ÜÁî®‰∫éÂØπË±°Êï∞ÁªÑÂåπÈÖçÁöÑÊñπÊ≥ïÊäΩÁ¶ªÔºåÂπ∂ÈÄöËøáÈÖçÁΩÆÁöÑÂΩ¢ÂºèÊ§çÂÖ•„ÄÇ\n\n![ButtonÁªÑ‰ª∂ÈÖçÁΩÆ](https://img.mrsingsing.com/diff-tool-button-data.jpeg)\n\n### Êï∞ÁªÑËæÖÂä©ÊñπÊ≥ï\n\nÂØπË±°Êï∞ÁªÑÈó¥ÁöÑÂåπÈÖçÁ≠õÈÄâÂú®ÂÆûÁé∞‰∏≠Â∫îÁî®ÁöÑÂú∫ÊôØÊòØËæÉÂ§öÁöÑÔºåÂõ†Ê≠§Êàë‰ª¨Â∞ÅË£Ö‰∫Ü‰∏ÄÁ≥ªÂàóÁöÑËæÖÂä©ÊñπÊ≥ïÂáèÂ∞ëÈáçÂ§çÁöÑ‰ª£Á†ÅÔºåÂåÖÊã¨Ôºö\n\n**Êï∞ÁªÑÂ∑ÆÈõÜÂáΩÊï∞**\n\nÈÄöËøáÊï∞ÁªÑÊàêÂëòÈó¥ÈÄê‰∏ÄÂØπÊØîÔºåÁ≠õÈÄâÂá∫‰∏§Êï∞ÁªÑ‰∏≠ÊâÄÊúâÊàêÂëòÁöÑÂ∑ÆÈõÜÈõÜÂêàÂπ∂ËøîÂõûÔºà‰ªÖÈôê‰∫éÊï∞ÁªÑÊàêÂëò‰∏∫Âü∫Êú¨Á±ªÂûãÂÄºÔºâ\n\n```js\nfunction getDifference(a, b) {\n  return [...new Set(a.filter(x => !new Set(b).has(x)))];\n}\n```\n\nÂäüËÉΩÂêå‰∏äÔºåÂΩìÂØπË±°Êï∞ÁªÑÊàêÂëò‰∏∫ÂØπË±°Á±ªÂûãÊó∂‰ΩøÁî®ÔºåÈúÄË¶ÅÊèê‰æõÁî®‰∫éÂåπÈÖçÁöÑÊØîËæÉÂô®ÂáΩÊï∞ÔºåËøîÂõûÁªìÊûúÂè™‰øùÁïô‰ª•ÂèÇÊï∞ `a` ‰º†ÂÖ•ÁöÑÊï∞ÁªÑÁöÑÊàêÂëòÈ°π\n\n```js\nfunction getDifferenceWith(a, b, comparator = (x, y) => x === y) {\n  return a.filter(x => b.findIndex(y => comparator(x, y)) === -1);\n}\n```\n\n**Êï∞ÁªÑ‰∫§ÈõÜÂáΩÊï∞**\n\nÈÄöËøáÊï∞ÁªÑÊàêÂëòÈó¥ÈÄê‰∏ÄÂØπÊØîÔºåÁ≠õÈÄâÂá∫‰∏§Êï∞ÁªÑ‰∏≠ÊâÄÊúâÊàêÂëòÁöÑ‰∫§ÈõÜÈõÜÂêàÂπ∂ËøîÂõûÔºà‰ªÖÈôê‰∫éÊï∞ÁªÑÊàêÂëò‰∏∫Âü∫Êú¨Á±ªÂûãÂÄºÔºâ\n\n```js\nfunction getIntersection(a, b) {\n  return [...new Set(a.filter(x => new Set(b).has(x)))];\n}\n```\n\nÂäüËÉΩÂêå‰∏äÔºåÂΩìÂØπË±°Êï∞ÁªÑÊàêÂëò‰∏∫ÂØπË±°Á±ªÂûãÊó∂‰ΩøÁî®ÔºåÈúÄË¶ÅÊèê‰æõÁî®‰∫éÂåπÈÖçÁöÑÊØîËæÉÂô®ÂáΩÊï∞ÔºåËøîÂõûÁªìÊûúÂè™‰øùÁïô‰ª•ÂèÇÊï∞ `a` ‰º†ÂÖ•ÁöÑÊï∞ÁªÑÁöÑÁöÑÊàêÂëòÈ°π\n\n```js\nfunction getIntersectionWith(a, b, comparator = (x, y) => x === y) {\n  return a.filter(x => b.findIndex(y => comparator(x, y)) !== -1);\n}\n```\n\n**Êï∞ÁªÑÂπ∂ÈõÜÂáΩÊï∞**\n\n```js\nfunction getUnionWith(a, b, comparator = (x, y) => x === y) {\n  return Array.from(new Set([...a, ...b.filter(x => a.findIndex(y => comparator(x, y)) === -1)]));\n}\n```\n\n**Êï∞ÁªÑÂéªÈáçÂáΩÊï∞**\n\n```js\nfunction getDedupeBy(arr, comparator = (x, y) => x === y) {\n  return arr.reduce((acc, v) => {\n    if (!acc.some(x => comparator(v, x))) {\n      acc.push(v);\n    }\n    return acc;\n  }, []);\n}\n```\n\nÂèØ‰ª•ÁïôÊÑèÂà∞Ôºå‰∏äËø∞ËæÖÂä©ÂáΩÊï∞Èô§‰∫ÜÁî®‰∫éÂåπÈÖçÁöÑ‰∏§‰∏™Êï∞ÁªÑÁ±ªÂûãÁöÑÂèÇÊï∞Â§ñÔºåËøòÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™ `comparator` ÁöÑÂèÇÊï∞„ÄÇ`comparator` ÊÑè‰∏∫ÊØîËæÉÂô®ÔºåÁ±ªÂûã‰∏∫ÂáΩÊï∞Á±ªÂûãÔºåÁî®‰∫éÂ∞ÅË£ÖÊñπÊ≥ïÂÜÖÈÉ® `filter` ÂáΩÊï∞ÂØπÂ∫îÁöÑÂõûË∞ÉÂáΩÊï∞Ôºå‰ªéËÄåÁ≠õÈÄâÂá∫Áî®‰ª•ÂåπÈÖçÊï∞ÁªÑÁöÑÂØπË±°ÊàêÂëò„ÄÇÂ¶ÇÔºö\n\n```js\nconst comparator = (x, y) => x.id === y.id;\n```\n\nË°®Á§∫‰∏∫ `x` ÂØπË±°ÁöÑ `id` Â≠óÊÆµ‰∏é `y` ÂØπË±°ÁöÑ `id` Â≠óÊÆµÂÆåÂÖ®Áõ∏Á≠âÊó∂ÔºåË°®Á§∫ `x` ÂØπË±°Âíå `y` ÂØπË±°‰∏∫ÂåπÈÖçÁöÑÂèåÊñπ„ÄÇ\n\nÈÄöËøáËøôÊ†∑ÁöÑÂΩ¢ÂºèÔºåÊàë‰ª¨ËÉΩÂ§üÂ∞ÜÈÖçÁΩÆ‰∏≠Êï∞ÁªÑÂΩ¢ÂºèÂ≠òÂú®ÁöÑÈÖçÁΩÆÈ°πÁöÑÂåπÈÖçÂ≠óÊÆµ‰ª• `comparator` ÁöÑÂΩ¢ÂºèÈÖçÁΩÆÊ§çÂÖ•ÔºåËÄå‰∏çÂøÖÂú®ÂÆûÁé∞ÁöÑ‰ª£Á†Å‰∏≠Ê§çÂÖ•‰∏öÂä°Áõ∏ÂÖ≥ÁöÑ‰ª£Á†Å„ÄÇÂΩìÁÑ∂Ôºå‰ªÖ‰ªÖÂ¶ÇÊ≠§Âπ∂‰∏çÂ§üÁöÑÔºåÂõ†‰∏∫ËøòÊó†Ê≥ïËß£ÂÜ≥Âà∞Â∫ïÈÖçÁΩÆÁªìÊûÑ‰∏≠Âà∞Â∫ïÂì™‰∏™Â±ÇÁ∫ßÊòØÊï∞ÁªÑÁ±ªÂûãÁöÑÂÄºÔºå‰∏ãÈù¢‰ºöËØ¶ÁªÜËß£ÊûêÂ¶Ç‰ΩïËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ\n\n### Â∑ÆÂºÇÂåñÊµÅÁ®ãÂÆûÁé∞\n\nÊ†πÊçÆ JSON ÁöÑ‰∏çÂêåÁ±ªÂûãÁöÑÂ§ÑÁêÜÊñπÂºèÁöÑ‰∏çÂêåÔºåÊàë‰ª¨ÂÆûÁé∞‰∫Ü‰∏â‰∏™ÊñπÊ≥ïÔºö\n\n- `diffObject`ÔºöÁî®‰∫éÂØπË±°Á±ªÂûãÂÄº‰πãÈó¥ÁöÑÂØπÊØîÊñπÊ≥ïÔºåÈÄöËøá `Object.keys` Ëé∑ÂèñÂêÑËá™ÂØπË±°ÁöÑÈîÆÂêçÈõÜÂêàÔºåÈÖçÂêàÊï∞ÁªÑÂ∑ÆÈõÜÂáΩÊï∞ÂíåÊï∞ÁªÑ‰∫§ÈõÜÂáΩÊï∞ÔºåÂèØ‰ª•Á≠õÈÄâÂá∫Êñ∞ÂØπË±°‰∏≠Êñ∞Â¢ûÁöÑÂ≠óÊÆµÈõÜÂêà„ÄÅÊóßÂØπË±°‰∏≠Âà†Èô§ÁöÑÂ≠óÊÆµÈõÜÂêà‰ª•ÂèäÊñ∞ÂØπË±°ÂíåÊóßÂØπË±°ÂÖ±ÊúâÁöÑÂ≠óÊÆµÈõÜÂêà\n- `diffArray`ÔºöÁî®‰∫éÊï∞ÁªÑÁ±ªÂûãÂÄº‰πãÈó¥ÁöÑÂØπÊØîÊñπÊ≥ïÔºåÈÄöËøá `comparator` ÊØîËæÉÂáΩÊï∞ÂÖ•ÂèÇÔºåÂêåÊ†∑Âà©Áî®Â∑ÆÈõÜÂáΩÊï∞Âíå‰∫§ÈõÜÂáΩÊï∞ÔºåÂàÜÂà´Á≠õÈÄâÂá∫Êñ∞Êï∞ÁªÑ‰∏≠Êñ∞Â¢ûÁöÑÊï∞ÁªÑÊàêÂëò„ÄÅÊóßÊï∞ÁªÑ‰∏≠Âà†Èô§ÁöÑÊï∞ÁªÑÊàêÂëò‰ª•ÂèäÂêÑËá™Êï∞ÁªÑ‰∏≠ÂÖ±ÊúâÁöÑÊï∞ÁªÑÊàêÂëò\n- `diffValue`ÔºöÁî®‰∫éÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂÄºÁöÑÂØπÊØîÊñπÊ≥ïÔºåÈááÁî®‰∏•Ê†ºÁõ∏Á≠âÁöÑÂØπÊØîÊñπÂºèÔºåËã•Áõ∏Á≠âÂàô‰∏∫Áõ∏Á≠âÔºàEqualÔºâÁä∂ÊÄÅÔºåÂê¶Âàô‰∏∫ÂÜ≤Á™ÅÁä∂ÊÄÅÔºàConflictÔºâ\n\nÂºïÁî®Á±ªÂûãÁöÑÂÄºÊØîËæÉÔºà‰πüÂ∞±ÊòØ `diffObject` Âíå `diffArray`ÔºâÂú®ÂåπÈÖçÂà∞ÈîÆÂÄºÊàñÊï∞ÁªÑÊàêÂëòÊó∂Ôºå‰ºöÂà©Áî®Ë∞ÉÂíåÂáΩÊï∞‰Ωú‰∏∫ÂåπÈÖçË∑≥ÊùøÔºåÊ†πÊçÆ‰º†ÂÖ•Êï∞ÊçÆÊ∫êÁ±ªÂûã‰∏çÂêåÁªßÁª≠ÂØπ‰∏ãÂ±ÇÁªìÊûÑÁöÑÂÄºÈÄíÂΩíÊâßË°å‰∏äËø∞‰∏âÁßç‰∏çÂêåÊï∞ÊçÆÁ±ªÂûãÁöÑÊñπÊ≥ï„ÄÇ\n\nËÄåÊóßÂØπË±°/ÊóßÊï∞ÁªÑ‰∏≠Âà†Èô§ÁöÑÂÄºÊàñÊñ∞ÂØπË±°/Êñ∞Êï∞ÁªÑ‰∏≠Êñ∞Â¢ûÁöÑÂÄºÔºåÂàô‰∏ç‰ºöÂÜçËøõË°åÊ∑±Â±ÇÊ¨°ÁöÑÈÄíÂΩíÔºå‰ºöÁõ¥Êé•ÊäïÊîæÂà∞Âè¶‰∏Ä‰∏™Â§ÑÁêÜÊñπÊ≥ï `getRecursion` ‰∏≠ÈÄíÂΩí‰øÆÊîπ‰∏ãÂ±ÇÁªìÊûÑ‰∏≠ÁöÑÂèòÂåñÁä∂ÊÄÅ„ÄÇ\n\n![diffÁªìÊûÑÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/diff-tool-workflow.jpg)\n\nÂØπË±°Á±ªÂûãÂÄº‰πãÈó¥ÁöÑÊØîËæÉÔºåÊàë‰ª¨‰ºö‰ΩøÁî® `Object.keys()` ÊñπÊ≥ïÂàÜÂà´Ëé∑Âèñ‰∏§‰∏™ÂØπÊØîÂØπË±°ÁöÑÈîÆÂêçÔºåÂπ∂ÈÄöËøáÊï∞ÁªÑËæÖÂä©ÊñπÊ≥ïÊãÜÂàÜ‰∏∫‰∏âÁªÑÔºöÂÖ±ÂêåÊã•ÊúâÁöÑÈîÆÂêçÁöÑÈõÜÂêà„ÄÅ‰ªÖÊúâ `origin` ÂØπË±°ÔºàÁêÜËß£‰∏∫ÂèòÂåñÂâçÁöÑÈÖçÁΩÆÂØπË±°ÔºâÊã•ÊúâÁöÑÈîÆÂêçÁöÑÈõÜÂêàÂíå `target` ÂØπË±°ÔºàÁêÜËß£‰∏∫ÂèòÂåñÂêéÁöÑÈÖçÁΩÆÂØπË±°ÔºâÊã•ÊúâÁöÑÈîÆÂêçÈõÜÂêà„ÄÇ\n\nÁî±Ê≠§ÂèØÂæóÔºåÂÖ±ÂêåÊã•ÊúâÁöÑÈîÆÂêçÈõÜÂêàÈúÄË¶ÅÈÄöËøáÊØîËæÉÂæóÂá∫ÂèòÂåñÁä∂ÊÄÅ„ÄÇËÄå `origin` ÂØπË±°Êã•ÊúâÁöÑÈîÆÂêçÔºåÂàôË°®Á§∫ `target` ÂØπË±°Ê≤°ÊúâÔºå‰πüÂ∞±ÊòØ `origin` ÂØπË±°ÈõÜÂêà‰∏≠ÁöÑÈîÆÂÄºË¢´Âà†Èô§‰∫ÜÔºå‰ºöË¢´Ê†áËÆ∞‰∏∫Âà†Èô§Áä∂ÊÄÅ„ÄÇÁõ∏‰ººÂú∞Ôºå‰ªÖ `target` ÂØπË±°Êã•ÊúâÁöÑÈîÆÂêçË°®Á§∫ `origin` Ê≤°ÊúâËØ•ÈîÆÂêçÔºåÂàô `target` ÁöÑÈîÆÂÄº‰∏∫Êñ∞Â¢ûÈÖçÁΩÆÈ°πÔºå‰ºöË¢´Ê†áËÆ∞‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅ„ÄÇ\n\nÂàöÊâçÊèêÂà∞ÂØπË±°Êï∞ÁªÑÁ±ªÂûã‰πãÈó¥ÈúÄË¶ÅÈÄöËøáÊØîËæÉÂô®ÂáΩÊï∞ `comparator` Áî®‰∫éÂåπÈÖçÔºå‰ΩÜÊòØÈúÄË¶ÅÊèê‰æõ‰∏ÄÁßçËÆ©ËøêË°åÊú∫Âà∂Áü•ÈÅì‰ªÄ‰πàÊ†∑ÁöÑÊï∞ÁªÑÂØπÊØîÈúÄË¶ÅÁî®ÊÄéÊ†∑ÁöÑ `comparator`„ÄÇÂú®ËøêË°å diff ÂâçÔºåÊàë‰ª¨ÈÄöËøá‰ª•ÈÄíÂΩíË∑ØÂæÑ‰∏∫ÈîÆÂêçÔºå‰ª• `comparator` ‰∏∫ÈîÆÂÄºÁªÑÊàêÁöÑÈÖçÁΩÆÂØπË±°‰º†ÂÖ• `diff` ÂáΩÊï∞„ÄÇ\n\nÂú®Âêë‰∏ãÈÄíÂΩíËøõË°åÈÖçÁΩÆÈ°πÊØîËæÉÊó∂ÔºåÈÅáÂà∞ÂØπË±°Á±ªÂûãÁöÑÂÄºÔºå‰ºöÂ∞ÜÈîÆÂêç‰º†ÂÖ•Ë∞ÉÂíåÂáΩÊï∞„ÄÇÂú®ÂáΩÊï∞ÂÜÖÈÉ®Ôºå‰ºöË¢´Êé®ÂÖ•‰∏Ä‰∏™Â∑≤Â£∞ÊòéÁöÑÈù¢ÂåÖÂ±ëÊ†àÔºà‰πüÁß∞‰∏∫ÈÄíÂΩíË∑ØÂæÑÔºå‰ª•Êï∞ÁªÑÂΩ¢ÂºèË°®Á§∫ÔºâÔºåÂΩìËøîÂõûÂÄºÊó∂ÔºåÂèà‰ºöÈÄÄÊ†à„ÄÇÂΩìÊ£ÄÊü•Âà∞‰∏ãÂ±ÇÁªìÊûÑ‰∏∫Êï∞ÁªÑÁ±ªÂûãÊó∂Ôºå‰ºöÈÄöËøá `Array.prototype.join()` ÊñπÊ≥ïÂ∞ÜÈù¢ÂåÖÂ±ëÊ†à‰∏≠ÁöÑÂÄºÂêàÊàêÈîÆÂêçË∑ØÂæÑÔºåÂåπÈÖçÂ§ñÈÉ®‰º†ÂÖ•ÁöÑÊØîËæÉÂô®ÈÖçÁΩÆÂêéÔºåÂ∞Ü‰∏ãÂ±ÇÊï∞ÁªÑÁªìÊûÑÂåπÈÖçÊâÄÈúÄÁöÑ `comparator` ‰º†ÂÖ• `diffArray` ‰∏≠„ÄÇËøôÊ†∑Â∞±Ëß£ÂÜ≥‰∫ÜÂØπË±°Êï∞ÁªÑÂåπÈÖçÁöÑÈóÆÈ¢òÔºåÂêåÊó∂‰πüÂ∞ÜÁõ∏ÂÖ≥ÁöÑ‰∏öÂä°‰ª£Á†ÅÊäΩÁ¶ªËá≥Â§ñÈÉ®ÔºåÊèêÂçá‰∫ÜÊñπÊ≥ïÁöÑÈÄöÁî®ÊÄßÂíåÂèØÈÖçÁΩÆÊÄß„ÄÇ\n\n```js\nconst comparator = {\n  // Â¶ÇÊûúÂéüÂßãÊï∞ÊçÆ‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºà‰πüÂ∞±ÊòØ‰º†ÂÖ•Êï∞ÊçÆÊúÄÂ§ñÂ±Ç‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºâÔºåÂøÖÈ°ªÊúâ init Â≠óÊÆµ‰Ωú‰∏∫ comparator ÂáΩÊï∞\n  init: (a, b) => a.name === b.name && a.id === b.id,\n  eventList: (a, b) => a.name === b.name,\n  'eventList.value': (a, b) => a === b,\n  'eventList.subEvents': (a, b) => a.id === b.id,\n  'eventList.subEvents.actions': (a, b) => a.id === b.id,\n  animation: (a, b) => a.antType === b.antType,\n};\n```\n\n‚ö†Ô∏è**Ê≥®ÊÑè**ÔºöÂ¶ÇÊûúÂéüÂßãÊï∞ÊçÆ‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºåÂàôÂøÖÈ°ªÊèê‰æõ `init` ‰Ωú‰∏∫Ê†πÔºàÈ°∂Â±ÇÔºâÁªìÊûÑÁöÑÊØîËæÉÂô®ÂáΩÊï∞„ÄÇ\n\n‰∏äËø∞Â∞±ÊòØ diff ÂäüËÉΩÂÆûÁé∞ËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑ‰∏ªË¶ÅÈóÆÈ¢òÁöÑËß£ÂÜ≥ÊñπÊ°àÔºå‰ΩÜÊòØ‰ªÖÂØπ‰∏§Ë∑ØÁöÑÈÖçÁΩÆÊï∞ÊçÆËøõË°å diff ÊòØ‰∏çÂ§üÁöÑÔºåËøô‰∏ªË¶ÅÊòØ‰ªéÊàë‰ª¨Êú¨Ë∫´ TotoroX ÁöÑ‰∏öÂä°ËÄÉËôë„ÄÇÂ¶ÇÂâçÊñáÊâÄËø∞ `origin` ÂèØ‰ª•‰∏∫Áî®‰∫éÂàõÂª∫È°µÈù¢ÁöÑÊ®°ÁâàÔºå`target` ‰∏∫Âü∫‰∫éÊ®°ÁâàÂàõÂª∫ÁöÑÈ°µÈù¢Ôºå‰ΩÜÂêéÁª≠ÈúÄÊ±ÇÂèòÊõ¥Êó∂‰ºöÂØπÊ®°ÁâàÊï∞ÊçÆËøõË°å‰øÆÊîπÔºåËÄåÂú®Êàë‰ª¨ÁöÑÁ≥ªÁªü‰∏≠Âπ∂‰∏ç‰ºöÂêåÊ≠•Âà∞ÂàõÂª∫ÁöÑÈ°µÈù¢ÔºåÈÇ£‰πàÊ®°Áâà‰øÆÊîπÂêéÈúÄË¶ÅÂ∞Ü‰øÆÊîπÁöÑÂÜÖÂÆπÂêåÊ≠•Âà∞‰πãÂâçÂàõÂª∫ÁöÑÈ°µÈù¢ÔºåÂ∞±ÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™Áî®‰∫éÂêàÂπ∂Êñ∞Ê®°Áâà‰∏éÊóßÈ°µÈù¢ÁöÑÊñπÊ≥ïÔºå‰∏ãÈù¢Êàë‰ª¨Â∞±ËÅäËÅä merge ÂäüËÉΩÁöÑÂÆûÁé∞„ÄÇ\n\n## Merge ÂäüËÉΩÂÆûÁé∞\n\nÂú®ÂØπ merge ÂäüËÉΩÂÆûÁé∞ËøáÁ®ãËøõË°åËÆ≤Ëß£ÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπ git ÁöÑÂêàÂπ∂Á≠ñÁï•ËøõË°å‰∏ÄÂÆöÁ®ãÂ∫¶ÁöÑ‰∫ÜËß£„ÄÇ\n\ngit ÈááÁî®‰∏âË∑ØÂêàÂπ∂Á≠ñÁï•Ôºö\n\n```\nB - C - D master(*)\n \\\n  E - F dev\n```\n\n‰ª•Êàë‰ª¨Êó•Â∏∏ÁöÑÂºÄÂèëÂçè‰ΩúÊµÅÁ®ã‰∏∫‰æãÔºåÂΩìÂâçÂàÜÊîØ‰πüÂ∞±ÊòØ‰∏ªÂàÜÊîØ‰∏∫ `master`ÔºåÂΩìÂ∞ùËØïÊää `dev` ÂºÄÂèëÂàÜÊîØÂêàÂπ∂Âà∞ `master` Êó∂Ôºå‰∏§‰∏™ÂàÜÊîØÂÖ±ÂêåÊã•ÊúâÁöÑÊèê‰∫§Â∞±ÊòØ commitBÔºåÊàë‰ª¨Â∞ÜËØ•Êèê‰∫§ commit Áß∞‰∏∫ `base`Ôºå`master` ÂàÜÊîØÊúÄÊñ∞ÁöÑÊèê‰∫§ commitD Áß∞‰∏∫ `ours`ÔºåËÄå `dev` ÂàÜÊîØÊúÄÊñ∞ÁöÑÊèê‰∫§ commitF Áß∞‰∏∫ `theirs`„ÄÇ\n\nÈÇ£‰πà git ÊòØÊÄéÊ†∑ÂêàÂπ∂ `ours` Âíå `theirs` ÁöÑÂë¢Ôºü\n\nÂú®ÂêàÂπ∂Êó∂Ôºå‰ºöÂèÇËÄÉ‰ªñ‰ª¨ÁöÑÂÖ±ÂêåÁ•ñÂÖà `base`ÔºåÂπ∂Ê†πÊçÆ‰∏ãÈù¢Á≠ñÁï•ËøõË°åÂêàÂπ∂„ÄÇ\n\n| Á•ñÂÖàÔºàbaseÔºâ | HEADÔºàoursÔºâ | ÂàÜÊîØÔºàtheirsÔºâ | ÁªìÊûú     | ËØ¥Êòé                                                             |\n| ------------ | ------------ | -------------- | -------- | ---------------------------------------------------------------- |\n| A            | A            | A              | A        |                                                                  |\n| A            | A            | B              | B        | Â¶ÇÊûú‰∏ÄÊñπ‰øÆÊîπ‰∫Ü‰∏ÄË°åÔºåÈÇ£‰πàËøô‰∏ÄË°åÈÄâÊã©‰øÆÊîπÁâàÁöÑ                       |\n| A            | B            | A              | B        | Âêå‰∏ä                                                             |\n| A            | B            | B              | B        | Â¶ÇÊûúÊüê‰∏ÄË°åÂèåÊñπÊã•ÊúâÁõ∏ÂêåÁöÑÂèòÊõ¥ÔºåÂàôÈÄâÊã©‰øÆÊîπËøáÁöÑË°å                   |\n| A            | B            | C              | conflict | Â¶ÇÊûúÊüê‰∏ÄË°åÂèåÊñπÈÉΩ‰øÆÊîπ‰∫ÜÔºå‰∏î‰øÆÊîπÂæó‰∏ç‰∏ÄÊ†∑ÔºåÂàôÊä•ÂëäÂÜ≤Á™ÅÔºåÈúÄË¶ÅÁî®Êà∑Ëß£ÂÜ≥ |\n\nÊ†πÊçÆ‰∏äË°®ËßÑÂàôÔºåÂêàÂπ∂ËøáÁ®ãÁ±ª‰ººËøôÊ†∑Ôºö\n\n![ÂêàÂπ∂ËøáÁ®ã](https://img.mrsingsing.com/diff-tool-merge-strategy.png)\n\nÂèØ‰ª•ÁúãÂà∞ÔºåÁ¨¨ÂõõË°åÔºåÂèåÊñπÈÉΩ‰øÆÊîπ‰∫ÜÔºå‰∏îÂêÑËá™‰øÆÊîπÁöÑÂÜÖÂÆπ‰∏ç‰∏ÄÊ†∑ÔºåÊâÄ‰ª• git ‰∏çÁü•ÈÅìÊÄé‰πàËß£ÂÜ≥ÔºåÊâÄ‰ª•Â∞±ÊääÈóÆÈ¢òÊäõÁªôÁî®Êà∑‰∫Ü„ÄÇ\n\n### Ê†πËäÇÁÇπÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\n\nÊàë‰ª¨Âú®ÂÆûÁé∞ merge ÂäüËÉΩÊó∂ÔºåÊ≠£ÊòØÈááÁî®‰∫Ü‰∏éÊ≠§ÁßçÂêàÂπ∂Á≠ñÁï•‰∏ÄËá¥ÁöÑÊñπÂºè„ÄÇÂú® merge ÁöÑÂêàÂπ∂ÊµÅÁ®ã‰∏≠ÔºåÂéüÂßãÊï∞ÊçÆÂç≥‰∏∫**Á•ñÂÖà**ÔºàbaseÔºâÔºåËÄåÂÆûÈôÖÈúÄË¶ÅÂêàÂπ∂ÁöÑ‰∏§‰ªΩÊï∞ÊçÆÂàÜÂà´‰∏∫ **Head**ÔºàoursÔºâÂíå**ÂàÜÊîØ**ÔºàtheirsÔºâ„ÄÇÊàë‰ª¨Â∞Ü `base` ‰Ωú‰∏∫‰∏≠Èó¥ËÄÖÔºå‰ª•Ê≠§Âà§Êñ≠‰∏§‰ªΩÈÖçÁΩÆÊï∞ÊçÆÂì™‰∫õÈÉ®ÂàÜÊòØÂ±û‰∫éÂéüÂßãÊï∞ÊçÆÁöÑÔºåÂì™‰∫õÈÉ®ÂàÜÂèàÊòØÊñ∞Êï∞ÊçÆ„ÄÇ\n\nÈ¶ñÂÖàÔºåÊàë‰ª¨ÂàÜÂà´Â∞ÜÊñ∞Êï∞ÊçÆ‰∏éÂÖ±ÂêåÁªÑ‰ª∂ `base` ËøõË°å diff Êìç‰ΩúÔºåËé∑ÂæóÂàÜÂà´ÁöÑ JSON Schema ÁªìÊûÑÁöÑÁªìÊûúÔºåÂêéÁª≠ÂÜçÂØπÁªìÊûúËøõË°å mergeBranch ÁöÑÊìç‰Ωú„ÄÇ\n\n```js\nfunction merge(base, ours, theirs, diffComparator, mergeComparator) {\n  const originDiff = diff(base, ours, diffComparator);\n  const targetDiff = diff(base, theris, diffComparator);\n\n  const newDataSchema = mergeBranch(originDiff, targetDiff, mergeComparator);\n\n  return newDataSchema;\n}\n```\n\nËÄåÁî±‰∫é merge ÊòØÊ†πÊçÆ‰∏§‰∏§ diff ÂêéÁöÑ Schema ÁªìÊûÑÁöÑ JSONÔºåÊàë‰ª¨ÂÖà‰ªé**Ê†πËäÇÁÇπ**ÁöÑ `_status` Â≠óÊÆµÂåπÈÖçËøõË°åÂå∫ÂàÜÔºåÂÖ±Êúâ‰∫îÁßçÊÉÖÂÜµÔºö\n\n| Ê∫êÈÖçÁΩÆÊï∞ÊçÆÊ†πËäÇÁÇπÁä∂ÊÄÅ | ÂèòÊõ¥ÈÖçÁΩÆÊï∞ÊçÆÊ†πËäÇÁÇπÁä∂ÊÄÅ | ËØ¥Êòé                                                                                                                                  |\n| -------------------- | ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |\n| Equal                | Equal                  | Ë°®Á§∫ `base` Âíå `ours` ÂÆåÂÖ®Áõ∏Á≠âÔºå`base` Âíå `theirs` ÂÆåÂÖ®Áõ∏Á≠âÔºåÂç≥Ë°®Á§∫‰∏âË∑ØÂÆåÂÖ®Áõ∏Á≠â                                                       |\n| Equal                | Updated                | Ë°®Á§∫ `base` Âíå `ours` ÂÆåÂÖ®Áõ∏Á≠âÔºå`base` Âíå `theirs` Â≠òÂú®ÂèòÊõ¥ÔºåÂç≥ÂçïË∑ØÂèòÊõ¥ÔºåÊúÄÁªàÁªô‰Ω†‰ºöÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆ                                     |\n| Updated              | Equal                  | Ë°®Á§∫ `base` Âíå `ours` Â≠òÂú®ÂèòÊõ¥Ôºå`base` Âíå `theirs` ÂÆåÂÖ®Áõ∏Á≠âÔºåÂç≥ÂçïË∑ØÂèòÊõ¥ÔºåÊúÄÁªàÁªô‰Ω†‰ºöÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆ                                     |\n| Updated              | Updated                | Ë°®Á§∫ `base` Âíå `ours` Â≠òÂú®ÂèòÊõ¥Ôºå`base` Âíå `theirs` ‰πüÂ≠òÂú®ÂèòÊõ¥Ôºå‰ΩÜÊòØÂèòÊõ¥ÂØπÂ∫îÁöÑÂÄº‰∏çÁõ∏Á≠âÔºåÂç≥‰∏âË∑ØÂÜ≤Á™Å                                     |\n| Updated              | Updated                | Ë°®Á§∫ `base` Âíå `ours` Â≠òÂú®ÂèòÊõ¥Ôºå`base` Âíå `theirs` ‰πüÂ≠òÂú®ÂèòÊõ¥Ôºå‰ΩÜÊòØÂèòÊõ¥ÂØπÂ∫îÁöÑÂÄºÁõ∏Á≠âÔºåÂÆûÈôÖ‰∏ä `ours` Âíå `theirs` ÂèòÊõ¥ÂÄº‰∏é `base` ÂÄºÂÜ≤Á™Å |\n\n![ÂèòÊõ¥Áä∂ÊÄÅÈü¶ÊÅ©Âõæ](https://img.mrsingsing.com/diff-tool-merge-venn-diagram.jpg)\n\nÂØπ‰∏äËø∞‰∫îÁßçÊÉÖÂÜµËøõË°åÂàÜÊûêÂΩíÁ∫≥ÂêéÔºåÂú®‰ª£Á†ÅÂÆûÁé∞Â±ÇÈù¢‰∏äÂèØ‰ª•Â§ßËá¥ÂàÜ‰∏∫‰∏â‰∏™ÊñπÂêëÂ§ÑÁêÜÔºö\n\n1. ‰∏âË∑ØÁõ∏Á≠âÔºàA-A-AÔºâ=> `mergeUnmodified`ÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©ÂõæÂ§©ËìùËâ≤ÈÉ®ÂàÜ‰∏≠Áä∂ÊÄÅ‰∏∫ `equal` ÁöÑÈÉ®ÂàÜÔºâ\n2. ÂçïË∑ØÂèòÊõ¥ÔºåÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆÔºàA-A-B„ÄÅA-B-AÔºâ=> `mergeUpdated`ÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©ÂõæÁ¥´Ëâ≤ÂíåÊ©ôËâ≤ÈÉ®ÂàÜÔºåË°®Á§∫ÁöÑÊòØ `base` Â≠òÂú®‰ΩÜÊòØÂ≠òÂú®ÂèòÊõ¥ÁöÑÁä∂ÊÄÅÔºåÂèØ‰ª•ÊòØÂÆåÂÖ®ÊàñÂ±ÄÈÉ®ÁöÑÂà†Èô§ÂíåÂÜ≤Á™ÅÔºå‰πüÂèØ‰ª•ÊòØÂ±ÄÈÉ®ÈÖçÁΩÆÈ°πÁöÑÊñ∞Â¢ûÔºå‰ΩÜÊòØ‰∏çÂèØËÉΩÊòØÂÆåÂÖ®ÁöÑÊñ∞Â¢ûÔºâ\n3. ‰∏§Ë∑ØÂèòÊõ¥ÔºåÊ†πÊçÆÂèòÊõ¥ÊÉÖÂÜµÈÄâÊã©Êàñ‰øùÁïôÂÜ≤Á™ÅÁä∂ÊÄÅÂπ∂Êèê‰æõÊâãÂä®Â§ÑÁêÜÊñπÂºèÔºåÂèòÊõ¥ÂèàÂàÜ‰∏∫Êñ∞Â¢û„ÄÅÂà†Èô§Âíå‰øÆÊîπÔºàA-B-B„ÄÅA-B-CÔºâ=> `mergeConflict`ÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©ÂõæÁªøËâ≤„ÄÅÁ∫¢Ëâ≤ÂíåËìùÁÅ∞Ëâ≤Ôºâ\n\n‰∏âË∑ØÁõ∏Á≠âÁöÑÊÉÖÂÜµÊòØÊúÄÂ•ΩÂ§ÑÁêÜÁöÑÔºåÂú®ÂØπÊ†πËäÇÁÇπËøõË°åÈÅçÂéÜÊó∂ÂåπÈÖç‰∏§ËÄÖÁöÑ `_status` ÂèòÂåñÁä∂ÊÄÅ‰∏∫Áõ∏Á≠âÁä∂ÊÄÅÔºà`equal`ÔºâÊó∂Âç≥Ë°®Êòé‰∏âË∑ØÁõ∏Á≠â„ÄÇ\n\nÂçïË∑ØÂèòÊõ¥ÁöÑÊÉÖÂÜµÔºåÂú®ÂØπÊ†πËäÇÁÇπËøõË°åÈÅçÂéÜÊó∂ÂåπÈÖç‰∏§ËÄÖÁöÑ `_status` ‰∏∫Áõ∏Á≠âÔºà`equal`ÔºâËÄåÂè¶‰∏ÄÊñπ‰∏∫‰∏çÁõ∏Á≠âÔºåÂç≥‰∏∫ÈúÄË¶ÅÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆ„ÄÇ\n\nËÄåÂØπ‰∫é‰∏§Ë∑ØÂèòÊõ¥ÁöÑÊÉÖÂÜµÔºåÊàë‰ª¨‰∏çËÉΩÂçïÁ∫ØÂú∞‰ª•Ê†πËäÇÁÇπÁöÑÁä∂ÊÄÅ‰Ωú‰∏∫Âå∫ÂàÜÔºåËøôÊòØÂõ†‰∏∫Êàë‰ª¨ÈááÁî®‰∫Ü‰∏äÊñáÊèêÂèäËøáÁöÑ**Ëá™Â∫ïÂêë‰∏äÁöÑÁä∂ÊÄÅÂèòÊõ¥ÊòæÁ§∫Á≠ñÁï•**ÔºåÊâÄ‰ª•Ê†πËäÇÁÇπÂëàÁé∞‰∏∫ÂèòÊõ¥Áä∂ÊÄÅÔºå‰∏ç‰ª£Ë°®Êï¥‰∏™ÁªìÊûÑÂÜÖÈÉ®ÁöÑÂ±ûÊÄßÂùá‰∏∫ÂèòÊõ¥Áä∂ÊÄÅÔºå‰πüÂèØËÉΩÂõ†‰∏∫Êüê‰∏™ÈÖçÁΩÆÈ°πÁöÑÂèòÊõ¥ÔºåÂØºËá¥ÁªìÊûÑÊ†ë‰∏äÂ±ÇÁöÑÁä∂ÊÄÅÊîπÂèò„ÄÇÊâÄ‰ª•ÂØπ‰∫éËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨ÂèàËÉΩÁªÜÂàÜ‰∏∫‰∏§ÁßçÊÉÖÂÜµËøõË°åÂ§ÑÁêÜÔºö\n\n1. ÈÄöËøá `comparator` ÊØîËæÉÂáΩÊï∞ËÉΩ‰∏§‰∏§ÂåπÈÖçÁöÑËäÇÁÇπÊ†ëÔºåÂÆûÈôÖ‰∏ä‰∏∫ `base`„ÄÅ`ours` Âíå `theirs` ‰∏âË∑ØÂùáÂ≠òÂú®ËØ•Ê†πËäÇÁÇπÁöÑÔºåÂàôÈúÄË¶ÅÂØπÂèåÊñπÂ≠êÂ≠ôÂ±ÇÁ∫ßÁöÑËäÇÁÇπËøõË°åÈÄíÂΩíÈÅçÂéÜÂπ∂ÈÄê‰∏ÄÂØπÊØîÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©Âõæ‰∏≠ËìùËâ≤ `conflict` ÁöÑÈÉ®ÂàÜÔºâ\n2. Âú®ÂØπÊØîÂèåÊñπÁöÑÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ÔºåÊ†πËäÇÁÇπÁä∂ÊÄÅ `_status` ‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅÔºà`add`Ôºâ‰∏îÂ≠êÂ≠ôÂ±ÇÁ∫ßÁöÑÈÖçÁΩÆÂ±ûÊÄßÂÄº‰πü‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅÊó∂ÔºåÂàôÂèØÂà§Êñ≠ËØ•ÈÖçÁΩÆÊ†ë‰∏∫ÂÆåÂÖ®Êñ∞Â¢ûÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©Âõæ‰∏≠ÁªøËâ≤ `add` ÁöÑÈÉ®ÂàÜÔºâÔºåÊåâÁÖßÁ∫¶ÂÆöÁöÑÂêàÂπ∂Á≠ñÁï•ÔºåÈúÄË¶Å‰øùÁïôÊï¥‰∏™ÈÖçÁΩÆÊ†ë\n\n### Â≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\n\n‰∏ãÈù¢Êàë‰ª¨ÊääÈáçÁÇπËÅöÁÑ¶‰∫é‰∏§Ë∑ØÂèòÊõ¥ÁöÑÊÉÖÂÜµ‰∏ãÂ≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂ÁöÑÂÆûÁé∞„ÄÇ\n\n‰ªéÊ†πËäÇÁÇπÁöÑÂèòÊõ¥Áä∂ÊÄÅÁöÑËßíÂ∫¶ÂàÜÊûêÔºàÂ∑≤ÊéíÈô§ÂÆåÂÖ®Êñ∞Â¢ûÁöÑÈÖçÁΩÆËäÇÁÇπÊ†ëÔºâÔºåÂèØ‰ª•Â§ßËá¥ÂàÜ‰∏∫‰∫îÁßçÊÉÖÂÜµÔºö\n\n| base_ours Ê†πËäÇÁÇπÁä∂ÊÄÅ | base_theirs Ê†πËäÇÁÇπÁä∂ÊÄÅ | ËØ¥Êòé                                                                                                                                                |\n| -------------------- | ---------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Add                  | Add                    | Ë°®Á§∫ `base` Ê≤°ÊúâÊüêÈ°πÈÖçÁΩÆÈ°πÔºåËÄå `ours` Âíå `theris` Êñ∞Â¢û‰∫ÜÊüêÈ°πÈÖçÁΩÆÈ°π                                                                                  |\n| Conflict             | Conflict               | Ë°®Á§∫ `base` Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå`ours` ‰πüÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰ΩÜÊòØÂÄº‰∏é `base` ‰∏çÂêåÔºå`theris` ‰πüÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰ΩÜÊòØÂÄº‰∏é `base` ‰πü‰∏çÂêåÔºàÊú™ÂøÖ‰∏é `ours` Áõ∏Âêå/‰∏çÂêåÔºâ |\n| Conflict             | Delete                 | Ë°®Á§∫ `base` Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå`ours` ‰πüÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰ΩÜÊòØÂÄº‰∏é `base` ‰∏çÂêåÔºåËÄå `theris` Âàô‰∏çÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π                                             |\n| Delete               | Conflict               | Ë°®Á§∫ `base` Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå`ours` ‰∏çÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°πÔºåËÄå `theris` Â≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰∏îÂÄº‰∏é `base` ‰∏çÂêå                                                   |\n| Delete               | Delete                 | Ë°®Á§∫ base Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå`ours` Âíå `theris` Âùá‰∏çÂ≠òÂú®ËØ•ÈÖçÁΩÆÈ°π                                                                                       |\n\nÊàë‰ª¨‰ª•‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰ª£Á†ÅÁ§∫‰æãËØ¥ÊòéÔºö\n\n![‰∏âË∑ØÂêàÂπ∂ÈÖçÁΩÆ‰ª£Á†ÅÁ§∫‰æã](https://img.mrsingsing.com/diff-tool-merge-code-demo.jpg)\n\nÁªìÂêà‰∏äÊñáÊèêÂèä‰∫îÁßç‰∏§‰∏§ÊØîÂØπÂ≠òÂú®ÂèòÊõ¥Áä∂ÊÄÅÊó∂ÁöÑÊÉÖÂÜµÔºåÂπ∂ÁªìÂêà‰ª£Á†ÅÁ§∫‰æãÂæóÂá∫‰ª•‰∏ãÁªìËÆ∫Ôºö\n\n- `color` ÂØπÂ∫îÁ¨¨‰∏ÄÁßçÊÉÖÂÜµÔºå`base` Ê≤°ÊúâËØ•ÈÖçÁΩÆÈ°πÔºåËÄå `ours` Âíå `theirs` ÂàôÊúâ\n- `width` ÂØπÂ∫îÁ¨¨‰∫åÁßçÊÉÖÂÜµÔºå`base` ÊúâËØ•ÈÖçÁΩÆÈ°πÔºåËÄå `ours` Âíå `theirs` ÂêåÊ†∑ÊúâËØ•ÈÖçÁΩÆÈ°πÔºå‰ΩÜÊòØ `ours` Âíå `theirs` ÁöÑÂÄºÂ≠òÂú®Â∑ÆÂºÇ\n- `height` ÂêåÊ†∑ÂØπÂ∫îÁ¨¨‰∫åÁßçÊÉÖÂÜµÔºå‰∏é `width` ÈÖçÁΩÆÈ°π‰∏çÂêåÁöÑÊòØÔºå`ours` Âíå `theirs` ÁöÑÂÄº‰∏•Ê†ºÁõ∏Á≠â\n- `translateX` ÂØπÂ∫îÁ¨¨‰∏âÁßçÊÉÖÂÜµÔºå`base` ‰∏é `ours` ÊúâËØ•ÈÖçÁΩÆÔºå‰∏îÂÄºÂÜ≤Á™ÅÔºåËÄå `theirs` ÂàôÂà†Èô§‰∫ÜËØ•ÈÖçÁΩÆÈ°π\n- `translateX` ÂØπÂ∫îÁ¨¨ÂõõÁßçÊÉÖÂÜµÔºå`base` ‰∏é `theirs` ÊúâËØ•ÈÖçÁΩÆÔºå‰∏îÂÄºÂÜ≤Á™ÅÔºåËÄå `ours` ÂàôÂà†Èô§‰∫ÜËØ•ÈÖçÁΩÆÈ°π\n- `line-height` ÂØπÂ∫îÁ¨¨‰∫îÁßçÊÉÖÂÜµÔºå‰ªÖ `base` Â≠òÂú®ËØ•ÈÖçÁΩÆÈ°πÔºå`ours` Âíå `theirs` ÂùáÂà†Èô§‰∫ÜËØ•ÈÖçÁΩÆÈ°π\n\n> ËøôÈáåÊèêÂèäÁöÑÊñ∞Â¢ûÊàñÂà†Èô§Â≠óÊÆµÂè™‰∏∫Ë¶ÜÁõñÊõ¥ÂÆåÊï¥ÁöÑÂäüËÉΩÔºåÂÆûÈôÖÁöÑÂèØËßÜÂåñÈÖçÁΩÆ‰∏öÂä°‰∏≠ÔºåÂõ†‰∏∫ÁªÑ‰ª∂ÁöÑÈÖçÁΩÆÈ°πÂü∫Êú¨Âõ∫ÂÆö‰∏îÂùáÊèê‰æõ‰∫ÜÈªòËÆ§ÂÄºÔºåÊâÄ‰ª•Âá∫Áé∞Êñ∞Â¢ûÊàñÂà†Èô§Â≠óÊÆµÁöÑÊÉÖÂÜµËæÉÂ∞ë„ÄÇ\n\nÊúÄÂêéÂü∫‰∫é `base` ËøõË°å diff ÂêéÂæóÂá∫Â¶Ç‰∏ã‰∏§‰ªΩ JSON Schema ÁªìÊûÑÂ∑ÆÂºÇÂåñÊï∞ÊçÆÔºö\n\n![diff-between-base-and-ours](https://img.mrsingsing.com/diff-between-base-and-ours.jpg)\n\n![diff-between-base-and-theirs](https://img.mrsingsing.com/diff-between-base-and-theirs.jpg)\n\nÂü∫‰∫é‰∏âË∑ØÂêàÂπ∂ÁöÑÁ≠ñÁï•ÔºåÂΩì‰∏âË∑ØÂÄºÂùá‰∏çÂêåÊó∂‰ºö‰øùÁïôÂ∑ÆÂºÇËÆ©Áî®Êà∑ÊâãÂä®Ëß£ÂÜ≥ÔºåÂΩìÂèòÊõ¥‰∏§Ë∑ØÂÄºÁõ∏ÂêåÊàñÊñ∞Â¢ûÊó∂Âàô‰øùÁïôÁõ∏ÂêåÂÄºÔºåÊúÄÂêéÂêàÂπ∂ÂêéÂæóÂá∫Êñ∞ÁöÑ JSON Schema ÈÖçÁΩÆÊï∞ÊçÆÔºö\n\n![Merge base and ours and theirs](https://img.mrsingsing.com/diff-tool-merge-base-ours-and-theirs.jpeg)\n\n## Revert ÂäüËÉΩÂÆûÁé∞\n\nÊúÄÁªàÈÄöËøáËá™Âä®ÂêàÂπ∂ÂíåÊâãÂä®Ëß£ÂÜ≥ÂÜ≤Á™ÅÔºåÂÆåÊï¥ÁöÑÈÖçÁΩÆÊï∞ÊçÆÂ∫îËØ•ÊâÄÊúâËäÇÁÇπÈÉΩË°®Á§∫‰∏∫Áõ∏Á≠âÁä∂ÊÄÅ„ÄÇÈÄöËøáÂØπËøîËøòÁöÑ JSON Schema ÁªìÊûÑÁöÑÊï∞ÊçÆÈÄíÂΩíËøòÂéüÔºåËá™Âä®Êñ∞Âª∫È°µÈù¢Âç≥ÂÆåÊàêÊï¥‰∏™ÊâπÈáèÊõ¥Êñ∞È°µÈù¢ÁöÑÂäüËÉΩ„ÄÇ\n\n---\n\n**ÂèÇËÄÉËµÑÊñô**Ôºö\n\n- [‰∏âË∑ØÂêàÂπ∂ Git Â≠¶‰π†Á¨îËÆ∞ 17](https://blog.csdn.net/longintchar/article/details/83049840)\n","slug":"practice-of-page-batch-update-tool-in-visual-configuration-system","published":1,"updated":"2021-09-29T18:09:46.264Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867nc00009bmjdgvkmrszs","content":"<blockquote>\n<p>È¶ñÂèë‰∫éÔºö<a href=\"https://juejin.im/post/5dc8fd92f265da4d287f4551\" target=\"_blank\" rel=\"noopener\">ÂèØËßÜÂåñÈÖçÁΩÆÁ≥ªÁªüÈ°µÈù¢ÊâπÈáèÊõ¥Êñ∞Â∑•ÂÖ∑ÁöÑÂºÄÂèëÂÆûË∑µ</a></p>\n</blockquote>\n<p>TotoroX ‰Ωú‰∏∫ PPmoney ÈõÜÂõ¢ÂÜÖÈÉ®ÈõÜ UI Âíå‰∏öÂä°ÈÄªËæë‰∫é‰∏Ä‰ΩìÁöÑÂâçÁ´ØÈ°µÈù¢ÂèØËßÜÂåñÈÖçÁΩÆÁ≥ªÁªüÔºå‰∏∫ËøêËê•ÈÉ®Èó®Êèê‰æõÂø´ÈÄüÊûÑÂª∫ÂâçÁ´ØÈ°µÈù¢ÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇËØ•Á≥ªÁªü‰∏∫È°µÈù¢ÂºÄÂèëÂèäËøêËê•‰∫∫ÂëòÊèê‰æõ‰∫ÜÂº∫Â§ßÁöÑÁªÑ‰ª∂Â∏ÇÂú∫ÔºåÈÄöËøáÊãñÊãΩ„ÄÅË°®ÂçïÈÖçÁΩÆÁ≠âÊñπÂºèÂÆûÁé∞‰∏ìÈ¢òÈ°µÈù¢ÁöÑ‰∏öÂä°ÈúÄÊ±Ç„ÄÇÁõÆÂâçÂ∑≤ÊîØÊíëÈõÜÂõ¢ 850+Ëê•ÈîÄÊ¥ªÂä®È°µÈù¢„ÄÇ</p>\n<h2 id=\"‰∏öÂä°ÁóõÁÇπ\"><a href=\"#‰∏öÂä°ÁóõÁÇπ\" class=\"headerlink\" title=\"‰∏öÂä°ÁóõÁÇπ\"></a>‰∏öÂä°ÁóõÁÇπ</h2><p>Âú®‰∫ßÂìÅËÆæËÆ°Èò∂ÊÆµÔºå‰∫ßÂìÅÁªèÁêÜ‰ºöÊ†πÊçÆÂØπÁî®Êà∑ÁöÑË∞ÉÁ†îÔºåÂÄüÂä©Áî®Êà∑ÁîªÂÉèÁêÜËß£Áî®Êà∑ÁöÑÈúÄÊ±ÇÔºåÊÉ≥ÊÉ≥Áî®Êà∑‰ΩøÁî®ÁöÑÂú∫ÊôØÔºå‰ª•Âèä‰ªñ‰ª¨ÂèØËÉΩ‰ºöÈÅáÂà∞ÁöÑÂõ∞Èöæ„ÄÇÈöèÁùÄ‰∫ßÂìÅ‰∏äÁ∫øÂêéÔºåËøêËê•Âõ¢ÈòüÈÄöËøáËΩ¨ÂåñÊºèÊñóÂàÜÊûêÁî®Êà∑‰∫§‰∫íË°å‰∏∫‰ª•ÂèäÊúÄÁªàÁöÑËΩ¨ÂåñÁöÑÂÆûÈôÖÊïàÊûú„ÄÇÊâÄ‰ª•Ëøô‰∏™Èò∂ÊÆµÔºåÈöèÁùÄÁúüÂÆûÁî®Êà∑Áæ§‰ΩìÁöÑÁßØÁ¥ØÔºåÂú®ËÆæËÆ°Èò∂ÊÆµËôöÊûÑÁöÑÁî®Êà∑ÁîªÂÉèÈúÄË¶ÅÈáçÊñ∞Ë∞ÉÁ†î„ÄÅËÆæÊÉ≥„ÄÇ</p>\n<p>ËÄåÂú®ÊäÄÊúØÁöÑËßíÂ∫¶ÔºåÊàë‰ª¨‰πüÂ∏åÊúõÈÄöËøáÁî®Êà∑Ë°å‰∏∫Êï∞ÊçÆÔºå‰∏∫‰∫ßÂìÅËøêËê•Êèê‰æõÊõ¥Â•ΩÁöÑÊîØÊíëÔºå‰æãÂ¶Ç‰∏∫‰∏çÂêåÁöÑÁî®Êà∑Êèê‰æõ‰∏çÂêå UI ÁöÑÂâçÁ´ØÈ°µÈù¢ÔºåÈÄöËøáÂØπÊØîÁöÑÊñπÊ≥ïËßÇÂØüÊï∞ÊçÆÂèòÂåñÔºå‰ª•Ê≠§‰Ωú‰∏∫ÂØπÁî®Êà∑Ë°å‰∏∫ÁöÑÂáÜÁ°ÆÂà§Êñ≠„ÄÇ</p>\n<p>‰ª•‰∏ãÈù¢ÁöÑËê•ÈîÄÊ¥ªÂä®È°µ‰∏∫‰æãÔºåÊàë‰ª¨‰ºöÂú®Êó¢ÊúâÁöÑÈ°µÈù¢ÈÖçÁΩÆ‰∏≠ÁîüÊàêÊñ∞ÁöÑÈ°µÈù¢ÔºåÂπ∂Ê†πÊçÆËÆæËÆ°Ë¶ÅÊ±ÇËøõË°åÂ±ÄÈÉ®ÁöÑË∞ÉÊï¥ÔºåÈô§‰∫Ü UI ÈÉ®ÂàÜÔºåÂÜÖÈÉ®ÈÄªËæëÂåÖÊã¨ÂüãÁÇπÊï∞ÊçÆ„ÄÅ‰∫ã‰ª∂ÈìæÊù°ÂÖ≥Á≥ªÁ≠â‰πü‰ºöËøõË°åÁõ∏ÂÖ≥ÁöÑ‰øÆÊ≠£„ÄÇÂú®Ê≠§ÈúÄÊ±ÇËÉåÊôØ‰πã‰∏ãÔºåÂ¶ÇÊûúÈúÄË¶Å‰∫∫Â∑•ÊâãÂä®ÂØπÊØè‰∏™ÈÖçÁΩÆÈ°µÈù¢ËøõË°å‰øÆÊîπÔºåËøôÂ∞Ü‰ºöËÄóË¥πÂ§ßÈáèÁöÑ‰∫∫ÂäõËµÑÊ∫ê„ÄÇËÄå‰∏îÔºå‰∏äÊñáÊèêÂà∞‰ºöÊ∂âÂèäÈÄªËæëÁöÑ‰øÆÊîπÔºåÈÖçÁΩÆ‰∫∫Âëò‰∏çÊòìÂèëÁé∞ÂèòÊõ¥ÁöÑÂú∞ÊñπÔºåÊó†Ê≥ïÂØπ‰øÆÊîπÂêéÁöÑÈ°µÈù¢ËøõË°åÊ†°È™å„ÄÇÁªº‰∏äÊâÄËø∞ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏ÄÊ¨æÂØπÊØîÂâçÂêéÂèòÂåñÁöÑÂ∑•ÂÖ∑ÔºåËÉΩÂ§üÂèØËßÜÂåñÂú∞ÂØπ‰∏çÂêåÁöÑÈÖçÁΩÆÊï∞ÊçÆËøõË°åÂØπÊØîÔºåÂπ∂ÈÄöËøáÂõæÂΩ¢ÁªòÂà∂ÁöÑÂΩ¢ÂºèÊ∏ÖÊô∞Áü•ÈÅìÈÖçÁΩÆÊï∞ÊçÆÊ†ë‰∏≠Âì™‰∫õËäÇÁÇπÊ≤°Êúâ‰øÆÊîπÔºåÂì™‰∫õËäÇÁÇπ‰øÆÊîπ‰∫ÜÔºå‰øÆÊîπÂâçÂêéÁöÑÂÄºÂèàÊòØ‰ªÄ‰πàÔºåÂ∞±Â•ΩÂÉèÊàë‰ª¨ËøõË°å‰ª£Á†ÅÂçèÂä©Êó∂ÈÄöËøá <code>git diff</code> ËÉΩÂ§üÁü•ÈÅìÊñá‰ª∂‰∏≠Âì™Ë°å‰ª£Á†ÅÂèëÁîü‰∫ÜÂÜ≤Á™ÅÔºåÈÄöËøá‰∫∫Â∑•Âà§Êñ≠ÂØπÂÜ≤Á™ÅËøõË°å‰øÆÊîπÂêàÂπ∂ÔºåÂπ∂ÊúÄÁªàËææÂà∞Êàë‰ª¨ÈúÄË¶ÅÁöÑÊïàÊûú„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-abtest.jpg\" alt=\"AB Test\"></p>\n<p>TotoroX Âü∫‰∫éÁî®Êà∑ÈÖçÁΩÆÁöÑÊï∞ÊçÆÁªÑË£ÖÁîüÊàêÈ°µÈù¢ÔºåÈÖçÁΩÆÊï∞ÊçÆÂùáÁî±ÁªÑ‰ª∂Â∏ÇÂú∫ÁöÑÁâ©ÊñôÊîØÊíëÔºåÂçï‰∏™ÁªÑ‰ª∂ÁöÑÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÂü∫Êú¨Áõ∏ÂêåÔºåÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÔºöÂîØ‰∏ÄÊ†áËØÜ„ÄÅÁªÑ‰ª∂ÂêçÁß∞„ÄÅÁªÑ‰ª∂Â±ûÊÄß„ÄÅÁªÑ‰ª∂Ê†∑Âºè„ÄÅÁªÑ‰ª∂‰∫ã‰ª∂Èìæ‰ª•ÂèäÂä®ÁîªÁõ∏ÂÖ≥ÈÖçÁΩÆÁ≠â„ÄÇÁªÑ‰ª∂Èó¥Âú®ÈÖçÁΩÆÊï∞ÊçÆÁöÑÈõÜÂêà‰∏≠ÊòØÊâÅÂπ≥ÂåñÁöÑÔºåÈÄöËøáÂêÑÁªÑ‰ª∂ÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ÁöÑÊ†áËØÜÈõÜÂêàÁõ∏‰∫íÂÖ≥ËÅîËµ∑Êù•ÔºåËøôÊ†∑ÁöÑÊï∞ÊçÆÁªìÊûÑËÆæËÆ°ÈÅøÂÖç‰∫ÜÂõ†‰∏∫ÂµåÂ•óÂ±ÇÁ∫ßËøáÊ∑±ËÄå‰∫ßÁîüÁöÑÈóÆÈ¢ò„ÄÇÂü∫‰∫éËøô‰∫õÊù°‰ª∂Ôºå‰∏∫Â§öË∑ØÂ∑ÆÂºÇÂåñÂØπÊØî‰ª•ÂèäÂêàÂπ∂Êèê‰æõ‰∫ÜÂèØËÉΩ„ÄÇ</p>\n<a id=\"more\"></a>\n<h2 id=\"Â∑ÆÂºÇÂåñÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°\"><a href=\"#Â∑ÆÂºÇÂåñÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°\" class=\"headerlink\" title=\"Â∑ÆÂºÇÂåñÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°\"></a>Â∑ÆÂºÇÂåñÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°</h2><p>Âú®ËøõË°åÈÖçÁΩÆÊï∞ÊçÆÁöÑÂØπÊØîÂêàÂπ∂ÂâçÔºåÈúÄË¶ÅËÆæËÆ°Âá∫ËÉΩÂ§üÂáÜÁ°ÆÊèèËø∞Êï∞ÊçÆÂèòÂåñÂâçÂêéÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ</p>\n<p>Âú® TotoroX ‰∏≠ÔºåÈÖçÁΩÆÊï∞ÊçÆÁöÑÁªìÊûÑÊ®°Âºè‰∏é JSON ÁöÑÁªìÊûÑÊ®°Âºè‰∏ÄËá¥ÔºåÂõ†Ê≠§Êï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°Â∫î‰ª• JSON ÁöÑÊï∞ÊçÆÁªìÊûÑ‰∏∫Âü∫Á°Ä„ÄÇ</p>\n<p>ËÄåÂú® JSON ‰∏≠ÂÄºÂ≠òÂú®‰ª•‰∏ãÂá†ÁßçÊï∞ÊçÆÁ±ªÂûãÔºö</p>\n<ul>\n<li>null</li>\n<li>Â≠óÁ¨¶‰∏≤</li>\n<li>Â∏ÉÂ∞îÂÄº</li>\n<li>Êï∞ÂÄº</li>\n<li>Êï∞ÁªÑ</li>\n<li>ÂØπË±°</li>\n</ul>\n<p>Âõ†Ê≠§ÔºåÊàë‰ª¨‰∏çÁî®ËÄÉËôëËØ∏Â¶Ç Date„ÄÅFunction„ÄÅSymbol„ÄÅSet Á≠âÊï∞ÊçÆÁ±ªÂûãÁöÑÂÄº„ÄÇ</p>\n<p>ÂêåÊó∂ÔºåÂú®ËÆæÂÆöÁöÑÈÖçÁΩÆÊï∞ÊçÆ‰∏≠‰∏çËÉΩÂ≠òÂú®Á©∫ÂÄº <code>null</code>ÔºåÂ¶ÇÊûúË¶ÅË°®Á§∫‰∏çÂØπÊüêÈÖçÁΩÆÈ°π‰ΩúÈÖçÁΩÆÔºåÂÆûÈôÖ‰∏ä‰ºöÈááÁî®ÈªòËÆ§ÁöÑÈÖçÁΩÆÂ±ûÊÄßÔºåÊâÄ‰ª•Âú®ÂÆûÈôÖÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ÔºåÊòØ‰∏ç‰ºöÂ≠òÂú®Á©∫ÂÄºÂ≠òÂú®ÔºåÂèØ‰ª•ÂøΩÁï•ËøôÁßçÊÉÖÂÜµ„ÄÇ</p>\n<p>ÁªºÂêà‰∏äËø∞Ôºå‰ªéÂ§ßËá¥‰∏äËÉΩÂàÜ‰∏∫‰∏§Â§ßÁ±ªÊï∞ÊçÆÁ±ªÂûãÔºö</p>\n<ul>\n<li>Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºöÂ≠óÁ¨¶‰∏≤„ÄÅÂ∏ÉÂ∞îÂÄº„ÄÅÊï∞ÂÄº</li>\n<li>ÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÔºöÊï∞ÁªÑ„ÄÅÂØπË±°</li>\n</ul>\n<p>ÈÇ£‰πàÊàë‰ª¨ÊòØÊÄéÊ†∑ÂéªÊèèËø∞ JSON ÂØπÊØîÂâçÂêéÂèòÊõ¥Áä∂ÊÄÅÂë¢Ôºü</p>\n<p>JSON ÊòØÁõÆÂâçÂ∫îÁî®ÂπøÊ≥õÁöÑÊï∞ÊçÆ‰∫§Êç¢Ê†ºÂºèÔºåÈÇ£‰πà‰∫§Êç¢ÂèåÊñπËÇØÂÆöÈúÄË¶ÅÂØπÊï∞ÊçÆËøõË°åÁ∫¶ÂÆöÂíåÊ†°È™åÔºåËÄå JSON Schema Â∞±ÊòØÊâÆÊºîÂÆö‰πâ JSON Êï∞ÊçÆÁ∫¶ÊùüÁöÑÊ†áÂáÜ„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨Â∞ùËØïÂºïÂÖ• JSON Schema ÁöÑÊ¶ÇÂøµÔºåÂπ∂ÁªìÂêàÂÆûÈôÖÂäüÁî®ËøõË°åÊîπÈÄ†„ÄÇ</p>\n<p>‰º†ÁªüÁöÑ JSON Schema Ë°®Áé∞‰∏∫ËøôÊ†∑Ôºö</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"$schema\"</span>: <span class=\"string\">\"http://json-schema.org/draft-07/schema#\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"$id\"</span>: <span class=\"string\">\"http://example.com/product.schema.json\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"title\"</span>: <span class=\"string\">\"Product\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"A product from Acme's catalog\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"object\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"properties\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"productId\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"The unique identifier for a product\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"integer\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"productName\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"Name of the product\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"string\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"price\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"The price of the product\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"number\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"exclusiveMinimum\"</span>: <span class=\"number\">0</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"tags\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"Tags for the product\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"array\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"items\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"string\"</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">\"minItems\"</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"uniqueItems\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"dimensions\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"object\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"properties\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"length\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"number\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">\"width\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"number\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">\"height\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"number\"</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">\"required\"</span>: [<span class=\"string\">\"length\"</span>, <span class=\"string\">\"width\"</span>, <span class=\"string\">\"height\"</span>]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"required\"</span>: [<span class=\"string\">\"productId\"</span>, <span class=\"string\">\"productName\"</span>, <span class=\"string\">\"price\"</span>]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>‰ªéÂΩ¢Âºè‰∏äÊù•ËÆ≤ÔºåJSON Schema ËøòÊòØ JSON ÁöÑÊ†ºÂºèÔºå‰ΩÜ‰∏çÂêåÁöÑÊòØÔºåJSON Schema ‰ºöÂú®ÂéüÊù•ÁöÑ JSON Âü∫Á°Ä‰∏äÂú®ÊØè‰∏™Â±ÇÁ∫ßÁöÑÊï∞ÊçÆÂ§ñÂåÖË£Ö‰∫Ü‰∏ÄÂ±ÇÁî®‰ª•ÊèèËø∞ÂØπÂ∫îÂ±ÇÁ∫ßÂÄºÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂåÖÊã¨ÂØπÂ∫îÂ±ÇÁ∫ßÁöÑÂÄº„ÄÅÊèèËø∞„ÄÅÊï∞ÊçÆÁ±ªÂûã‰ª•ÂèäÂÖ∂ÂÆÉÈ¢ùÂ§ñÈÖçÁΩÆÁöÑ‰ø°ÊÅØ„ÄÇ</p>\n<p>Âú®ÁªìÊûÑ‰∏äÔºåÊàë‰ª¨Ê≤øÁî®‰∫Ü JSON Schema ÁöÑ‰∏ÄÂ•óÊ†áÂáÜÔºåÂú®Ê∫êÊï∞ÊçÆÂü∫Á°Ä‰∏äÈÄöËøáÈÅçÂéÜÈÄíÂΩíÁöÑÊñπÊ≥ïÂØπÊï∞ÊçÆËøõË°åÊèèËø∞„ÄÇËÄåÂú®ÊèèËø∞ÁöÑ‰ø°ÊÅØ‰∏äÔºåÊàë‰ª¨ÈíàÂØπÂÆûÈôÖÁöÑÂ∫îÁî®Âú∫ÊôØËøõË°å‰∫ÜÂÆöÂà∂„ÄÇ</p>\n<p>ÊèèËø∞‰ø°ÊÅØ‰∏≠ÂøÖ‰∏çÂèØÂ∞ëÁöÑÂ∞±ÊòØÂØπÊï∞ÊçÆÂèòÂåñ‰ø°ÊÅØÁöÑÊèèËø∞ÔºåÊàë‰ª¨ÂèÇËÄÉ‰∫Ü Git ÁÆ°ÁêÜ‰ª£Á†ÅÂèòÊõ¥ÁöÑÁ≠ñÁï•ÔºåÂú®‰∏§‰∏§ÂØπÊØî‰∏ãÔºåÊàë‰ª¨Ê¢≥ÁêÜÂá∫ÂèØËÉΩ‰∫ßÁîüÁöÑÂõõÁßçÂÄºÊØîËæÉÊÉÖÂÜµÔºö</p>\n<ul>\n<li><strong>Áõ∏Á≠âÔºàEqualÔºâ</strong>ÔºöÂΩì‰∏§‰∏™Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄº‰∏•Ê†ºÁõ∏Á≠âÊó∂ÔºåÂàô‰∏∫Áõ∏Á≠âÁä∂ÊÄÅÔºõËÄåÂØπ‰∫éÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÔºåÈúÄË¶ÅÊèê‰æõÈ¢ùÂ§ñÁöÑÊâãÊÆµËøõË°åÂåπÈÖç</li>\n<li><strong>Êñ∞Â¢ûÔºàAddÔºâ</strong>ÔºöÂΩìÂØπË±°Èó¥ÂØπÊØîÊó∂ÔºåÁõÆÊ†áÂØπË±°Â≠òÂú®Êñ∞Â¢ûÁöÑÈîÆÊó∂ÔºåÊèèËø∞ËØ•ÈîÆÂÄº‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅÔºõÂêåÁêÜÔºåÂΩìÊï∞ÁªÑ‰∏≠Êó†ÂØπÂ∫îÁöÑÂåπÈÖçÈ°πÊó∂ÔºåÂàô‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅ</li>\n<li><strong>Âà†Èô§ÔºàDeleteÔºâ</strong>Ôºö‰∏éÊñ∞Â¢ûÁä∂ÊÄÅÁ±ª‰ººÔºåÂΩìÂØπË±°Èó¥ÂØπÊØîÊó∂ÔºåÁõÆÊ†áÂØπË±°Â≠òÂú®Âà†Èô§ÁöÑÈîÆÊó∂ÔºåÊèèËø∞ËØ•ÈîÆÂÄº‰∏∫Âà†Èô§Áä∂ÊÄÅÔºåËÄåÊï∞ÁªÑ‰∏≠ÂØπÂ∫îÁöÑÂåπÈÖçÈ°π‰∏çÂ≠òÂú®Êó∂ÔºåÂàô‰∏∫Âà†Èô§Áä∂ÊÄÅ</li>\n<li><strong>ÂÜ≤Á™ÅÔºàConflictÔºâ</strong>ÔºöÂΩì‰∏§‰∏™Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄº‰∏ç‰∏•Ê†ºÁõ∏Á≠âÊó∂ÔºåÂàô‰∏∫ÂÜ≤Á™ÅÁä∂ÊÄÅ</li>\n</ul>\n<p>‰∏æ‰∏™‰æãÂ≠êÔºåÂ¶Ç‰∏ã‰∏∫‰∏§‰∏™‰∏™‰ªÖÊúâ‰∏Ä‰∏™ÊåâÈíÆÁªÑ‰ª∂ÁöÑÈÖçÁΩÆÈ°µÊï∞ÊçÆÈõÜÂêàÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-data-structure-comparation-.jpg\" alt=\"‰øÆÊîπÂâçÂêéÁöÑÈÖçÁΩÆÊï∞ÊçÆ\"></p>\n<p>ÈÄöËøá diff ÂêéÈ¢ÑËÆæËÉΩ‰∫ßÁîüÁöÑÊï∞ÊçÆÁªìÊûÑÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-result-data-structure.jpg\" alt=\"ÂØπÊØîÂêé‰∫ßÁîüÁöÑÊï∞ÊçÆÁªìÊûÑ\"></p>\n<p>Êàë‰ª¨ÂØπÊèèËø∞ÂèòÂåñÁöÑÊï∞ÊçÆÁªìÊûÑËøõË°å‰∫ÜÁ∫¶ÂÆöÔºö</p>\n<ul>\n<li>ÂØπË±°Á±ªÂûãÂíåÊï∞ÁªÑÁ±ªÂûãÁöÑÂÄº‰ΩøÁî® <code>_properties</code> Â≠óÊÆµÊèèËø∞ÔºåÂØπÂ∫îÂÄºË¢´Ê∫êÊï∞ÊçÆÂØπÂ∫îÁöÑÊï∞ÊçÆÁ±ªÂûãÂåÖË£π</li>\n<li>Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄºÊ†πÊçÆÂÖ∑‰ΩìÂÄºÁöÑÁä∂ÊÄÅ <code>_status</code> ÂÜ≥ÂÆöÂ±ïÁ§∫ÁöÑÂ≠óÊÆµ<ul>\n<li>Áõ∏Á≠âÔºàEqualÔºâÔºö‰ΩøÁî® <code>_origin</code> Ë°®Á§∫ÂÄº</li>\n<li>Êñ∞Â¢ûÔºàAddÔºâÔºö‰ΩøÁî® <code>_target</code> Ë°®Á§∫Êñ∞Â¢ûÁöÑÂÄº</li>\n<li>Âà†Èô§ÔºàDeleteÔºâÔºö‰ΩøÁî® <code>_origin</code> Ë°®Á§∫Âà†Èô§ÁöÑÂÄº</li>\n<li>ÂÜ≤Á™ÅÔºàConflictÔºâÔºö‰ΩøÁî® <code>_orign</code> Ë°®Á§∫Êõ¥ÊîπÂâçÁöÑÂÄºÔºå<code>_target</code> Ë°®Á§∫Êõ¥ÊîπÂêéÁöÑÂÄº</li>\n</ul>\n</li>\n</ul>\n<p>‰Ω†‰πüËÆ∏‰ºöÂèëÁé∞Âç≥‰æøÊòØÂØπË±°Á±ªÂûãÂíåÊï∞ÁªÑÁ±ªÂûãÔºå‰πü‰ºöÊúâ <code>_status</code> Â≠óÊÆµÊèèËø∞Êõ¥ÊîπÁä∂ÊÄÅ„ÄÇËøôÊòØÂõ†‰∏∫Êàë‰ª¨Âú®‰∫§‰∫íÁïåÈù¢‰∏äÈááÂèñ‰∫Ü<strong>Ëá™Â∫ïÂêë‰∏ä</strong>ÁöÑÁä∂ÊÄÅÂèòÊõ¥ÊòæÁ§∫Á≠ñÁï•„ÄÇ‰æãÂ¶ÇÔºåÂΩì‰∏Ä‰∏™ÁªÑ‰ª∂ÈÖçÁΩÆÊï∞ÊçÆÂ§ßÈÉ®ÂàÜ‰øùÊåÅ‰∏çÂèòÁöÑÊÉÖÂÜµ‰∏ãÔºåÊ†∑ÂºèÈÖçÁΩÆÂ≠óÊÆµ <code>style</code> ‰∏≠ÁöÑ <code>height</code> ÈÖçÁΩÆÈ°πÊîπÂèò‰∫ÜÂÄºÔºåÈÇ£‰πàÈô§‰∫ÜÊèèËø∞ËØ•Â≠óÊÆµÁöÑ Schema ÁªìÊûÑ‰∏≠Áä∂ÊÄÅÂ≠óÊÆµ <code>_status</code> ‰ºöÊòæÁ§∫‰∏∫ÂÜ≤Á™ÅÔºàConflictÔºâÂ§ñÔºåÂú®ÈÄíÂΩíËøîÂõûÁöÑËøáÁ®ã‰∏≠Ôºå‰∫¶‰ºöÂ∞ÜÂ±ÇÁ∫ßÊõ¥È´òÁöÑÂØπË±°ÊàñÊï∞ÁªÑÁä∂ÊÄÅÊ†áËÆ∞‰∏∫ÂÜ≤Á™ÅÔºàConflictÔºâ„ÄÇ</p>\n<blockquote>\n<p>ÈúÄË¶ÅÁâπÂà´ËØ¥ÊòéÁöÑÊòØÔºåÂ¶ÇÊûú‰∏ãÂ±ÇÁªìÊûÑ‰ªÖÊúâ‰∏ÄÁßçÂèòÂåñÁä∂ÊÄÅÊó∂Ôºå‰∏äÂ±ÇÁªìÊûÑ‰ºöÊòæÁ§∫ËØ•ÂèòÂåñÁä∂ÊÄÅÔºåËÄå‰∏ãÂ±ÇÁªìÊûÑÂ≠òÂú®‰∏çÂè™‰∏ÄÁßçÂèòÂåñÁä∂ÊÄÅÊó∂ÔºåÂàô‰∏äÂ±Ç‰ºöÁªü‰∏ÄË°®Á§∫‰∏∫ÂÜ≤Á™ÅÁä∂ÊÄÅ„ÄÇ</p>\n</blockquote>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-status-display-tatics.jpg\" alt=\"Áä∂ÊÄÅËá™Â∫ïÂêë‰∏ä‰º†ÈÄíÊòæÁ§∫Á≠ñÁï•\"></p>\n<p>ËøôÊ†∑Â§ÑÁêÜÁöÑÁõÆÁöÑÔºåÊòØ‰∏∫‰∫ÜÊ†ëÁªìÊûÑÂú®ÂèØËßÜÂåñËßÜÂõæÁªÑË£ÖÊ∏≤ÊüìÂêéËÉΩÂ§üÊõ¥Ê∏ÖÊô∞Âú∞ËÆ©ÈÖçÁΩÆ‰∫∫ÂëòÁü•ÈÅìÂêÑËäÇÁÇπÁöÑÁä∂ÊÄÅ„ÄÇÊ†ëÁä∂ÁöÑÂõæÂΩ¢ËÉΩÂ§üËÆ©ÂºÄÂèë‰∫∫ÂëòÂø´ÈÄüÁü•ÈÅìÂì™‰∫õÁªÑ‰ª∂ÈÖçÁΩÆÈ°πÂèëÁîü‰∫ÜÂèòÊõ¥ÔºåÂπ∂ËÉΩÊ≤øÁùÄË∑ØÂæÑÊâæÂà∞ÂèòÂåñÁöÑÊ†πÊ∫ê„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-path-to-root.jpg\" alt=\"ÂèØËßÜÂåñÂÜ≤Á™ÅËß£ÂÜ≥ÁïåÈù¢\"></p>\n<h2 id=\"Diff-ÂäüËÉΩÂÆûÁé∞\"><a href=\"#Diff-ÂäüËÉΩÂÆûÁé∞\" class=\"headerlink\" title=\"Diff ÂäüËÉΩÂÆûÁé∞\"></a>Diff ÂäüËÉΩÂÆûÁé∞</h2><p>Á∫¶ÂÆöÂ•ΩÂØπÊØîÂêéÁöÑÊï∞ÊçÆÁªìÊûÑÂêéÔºåÈÇ£‰πàÂ∞±Ë¶ÅÈÄöËøáÊñπÊ≥ïÂ∞ÅË£ÖÂØπÂèòÂåñÂâçÂêéÁöÑÈ°µÈù¢ÈÖçÁΩÆÊï∞ÊçÆËøõË°åÊØîËæÉ„ÄÇ</p>\n<p>Âú®ÂÆûÁé∞ diff ÊñπÊ≥ïÂâçÔºåÂ∞±ËÆæÊÉ≥ÂÆûÁé∞ÁöÑÊñπÊ≥ïÂ∫îËØ•ËÉΩ‰øùËØÅÂú®‰∏çÂêåÁöÑÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑ‰∏ã‰πüËÉΩ‰ΩøÁî®„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂÆûÁé∞ËøáÁ®ãÈúÄË¶ÅËÑ±Á¶ª‰∏öÂä°Áõ∏ÂÖ≥ÁöÑ‰ª£Á†ÅÔºåÂ∞ΩÂèØËÉΩ‰øùËØÅÊñπÊ≥ïÈÄöÁî®ÊÄß„ÄÇ</p>\n<p>ËÄåÂú®ÂÆûÁé∞ËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ÈÅáÂà∞ÁöÑÂÖ∂‰∏≠‰∏Ä‰∏™ÈóÆÈ¢òÂ∞±ÊòØÂΩìÂØπÊØîÂèåÊñπÁöÑÊï∞ÁªÑÁ±ªÂûã‰∏îÂÖ∂Êï∞ÁªÑÊàêÂëò‰∏∫ÂØπË±°Á±ªÂûãÊó∂ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏∫Ê≠§Á±ªÊÉÖÂÜµÊèê‰æõÁî®‰∫éÂåπÈÖçÁöÑÊñπÊ≥ï„ÄÇ</p>\n<p>Êàë‰ª¨‰ª• TotoroX ÁöÑÈÖçÁΩÆ‰∏∫‰æãÊù•Ëß£Èáä‰∏∫‰ªÄ‰πàÈúÄË¶Å‰∏∫Êï∞ÁªÑÁªìÊûÑÁöÑÊØîËæÉÊèê‰æõÂåπÈÖçÊñπÊ≥ï„ÄÇ‰æãÂ¶Ç TotoroX ÁöÑÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ <code>eventList</code> Â≠óÊÆµË°®Á§∫ÁªÑ‰ª∂Áõ∏ÂÖ≥ÁöÑ‰∫ã‰ª∂ÂàóË°®ÔºåÊØè‰∏™‰∫ã‰ª∂ÔºàÂØπË±°Ôºâ‰πãÈó¥ÁöÑ <code>name</code> Â≠óÊÆµÊòØÂîØ‰∏ÄÁöÑÔºåÂõ†Ê≠§Êàë‰ª¨Âú®ÂØπÊØî <code>eventList</code> Êï∞ÁªÑÊó∂ÔºåÈúÄË¶ÅÊòéÁ°ÆÂØπË±°Êï∞ÁªÑ‰∏≠ÂêÑÊàêÂëòÁöÑ <code>name</code> ÈîÆÂÄº‰∏∫‰∏•Ê†ºÁõ∏Á≠âÔºåÊâçËÉΩÂØπÂèåÊñπËøõË°åÂêéÁª≠ÁöÑ diff„ÄÇËÄåÂÆûÈôÖ‰∏äÔºåÂπ∂ÈùûÊâÄÊúâÂØπË±°Êï∞ÁªÑÈÉΩÈÄöËøá <code>name</code> Â≠óÊÆµËøõË°åÂåπÈÖçÔºåÂ∞ÜÁ±ª‰ººÁöÑ‰ª£Á†ÅÂèÇÊùÇÂà∞ÈÄöÁî®Á±ªÂûãÊñπÊ≥ï‰∏≠ÊòæÁÑ∂ÊòØ‰∏çÊÅ∞ÂΩìÁöÑ„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨ÈúÄË¶ÅÊèêÈ´òÁ±ªÂ∫ìÁöÑÂèØÊãìÂ±ïÊÄßÔºåÂ∞ÜÁî®‰∫éÂØπË±°Êï∞ÁªÑÂåπÈÖçÁöÑÊñπÊ≥ïÊäΩÁ¶ªÔºåÂπ∂ÈÄöËøáÈÖçÁΩÆÁöÑÂΩ¢ÂºèÊ§çÂÖ•„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-button-data.jpeg\" alt=\"ButtonÁªÑ‰ª∂ÈÖçÁΩÆ\"></p>\n<h3 id=\"Êï∞ÁªÑËæÖÂä©ÊñπÊ≥ï\"><a href=\"#Êï∞ÁªÑËæÖÂä©ÊñπÊ≥ï\" class=\"headerlink\" title=\"Êï∞ÁªÑËæÖÂä©ÊñπÊ≥ï\"></a>Êï∞ÁªÑËæÖÂä©ÊñπÊ≥ï</h3><p>ÂØπË±°Êï∞ÁªÑÈó¥ÁöÑÂåπÈÖçÁ≠õÈÄâÂú®ÂÆûÁé∞‰∏≠Â∫îÁî®ÁöÑÂú∫ÊôØÊòØËæÉÂ§öÁöÑÔºåÂõ†Ê≠§Êàë‰ª¨Â∞ÅË£Ö‰∫Ü‰∏ÄÁ≥ªÂàóÁöÑËæÖÂä©ÊñπÊ≥ïÂáèÂ∞ëÈáçÂ§çÁöÑ‰ª£Á†ÅÔºåÂåÖÊã¨Ôºö</p>\n<p><strong>Êï∞ÁªÑÂ∑ÆÈõÜÂáΩÊï∞</strong></p>\n<p>ÈÄöËøáÊï∞ÁªÑÊàêÂëòÈó¥ÈÄê‰∏ÄÂØπÊØîÔºåÁ≠õÈÄâÂá∫‰∏§Êï∞ÁªÑ‰∏≠ÊâÄÊúâÊàêÂëòÁöÑÂ∑ÆÈõÜÈõÜÂêàÂπ∂ËøîÂõûÔºà‰ªÖÈôê‰∫éÊï∞ÁªÑÊàêÂëò‰∏∫Âü∫Êú¨Á±ªÂûãÂÄºÔºâ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getDifference</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> [...new <span class=\"built_in\">Set</span>(a.filter(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> !<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(b).has(x)))];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂäüËÉΩÂêå‰∏äÔºåÂΩìÂØπË±°Êï∞ÁªÑÊàêÂëò‰∏∫ÂØπË±°Á±ªÂûãÊó∂‰ΩøÁî®ÔºåÈúÄË¶ÅÊèê‰æõÁî®‰∫éÂåπÈÖçÁöÑÊØîËæÉÂô®ÂáΩÊï∞ÔºåËøîÂõûÁªìÊûúÂè™‰øùÁïô‰ª•ÂèÇÊï∞ <code>a</code> ‰º†ÂÖ•ÁöÑÊï∞ÁªÑÁöÑÊàêÂëòÈ°π</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getDifferenceWith</span>(<span class=\"params\">a, b, comparator = (x, y</span>) =&gt; <span class=\"title\">x</span> === <span class=\"title\">y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> a.filter(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> b.findIndex(<span class=\"function\"><span class=\"params\">y</span> =&gt;</span> comparator(x, y)) === <span class=\"number\">-1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>Êï∞ÁªÑ‰∫§ÈõÜÂáΩÊï∞</strong></p>\n<p>ÈÄöËøáÊï∞ÁªÑÊàêÂëòÈó¥ÈÄê‰∏ÄÂØπÊØîÔºåÁ≠õÈÄâÂá∫‰∏§Êï∞ÁªÑ‰∏≠ÊâÄÊúâÊàêÂëòÁöÑ‰∫§ÈõÜÈõÜÂêàÂπ∂ËøîÂõûÔºà‰ªÖÈôê‰∫éÊï∞ÁªÑÊàêÂëò‰∏∫Âü∫Êú¨Á±ªÂûãÂÄºÔºâ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getIntersection</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> [...new <span class=\"built_in\">Set</span>(a.filter(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(b).has(x)))];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂäüËÉΩÂêå‰∏äÔºåÂΩìÂØπË±°Êï∞ÁªÑÊàêÂëò‰∏∫ÂØπË±°Á±ªÂûãÊó∂‰ΩøÁî®ÔºåÈúÄË¶ÅÊèê‰æõÁî®‰∫éÂåπÈÖçÁöÑÊØîËæÉÂô®ÂáΩÊï∞ÔºåËøîÂõûÁªìÊûúÂè™‰øùÁïô‰ª•ÂèÇÊï∞ <code>a</code> ‰º†ÂÖ•ÁöÑÊï∞ÁªÑÁöÑÁöÑÊàêÂëòÈ°π</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getIntersectionWith</span>(<span class=\"params\">a, b, comparator = (x, y</span>) =&gt; <span class=\"title\">x</span> === <span class=\"title\">y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> a.filter(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> b.findIndex(<span class=\"function\"><span class=\"params\">y</span> =&gt;</span> comparator(x, y)) !== <span class=\"number\">-1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>Êï∞ÁªÑÂπ∂ÈõÜÂáΩÊï∞</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUnionWith</span>(<span class=\"params\">a, b, comparator = (x, y</span>) =&gt; <span class=\"title\">x</span> === <span class=\"title\">y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Array</span>.from(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...a, ...b.filter(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> a.findIndex(<span class=\"function\"><span class=\"params\">y</span> =&gt;</span> comparator(x, y)) === <span class=\"number\">-1</span>)]));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>Êï∞ÁªÑÂéªÈáçÂáΩÊï∞</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getDedupeBy</span>(<span class=\"params\">arr, comparator = (x, y</span>) =&gt; <span class=\"title\">x</span> === <span class=\"title\">y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> arr.reduce(<span class=\"function\">(<span class=\"params\">acc, v</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!acc.some(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> comparator(v, x))) &#123;</span><br><span class=\"line\">      acc.push(v);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> acc;</span><br><span class=\"line\">  &#125;, []);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂèØ‰ª•ÁïôÊÑèÂà∞Ôºå‰∏äËø∞ËæÖÂä©ÂáΩÊï∞Èô§‰∫ÜÁî®‰∫éÂåπÈÖçÁöÑ‰∏§‰∏™Êï∞ÁªÑÁ±ªÂûãÁöÑÂèÇÊï∞Â§ñÔºåËøòÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™ <code>comparator</code> ÁöÑÂèÇÊï∞„ÄÇ<code>comparator</code> ÊÑè‰∏∫ÊØîËæÉÂô®ÔºåÁ±ªÂûã‰∏∫ÂáΩÊï∞Á±ªÂûãÔºåÁî®‰∫éÂ∞ÅË£ÖÊñπÊ≥ïÂÜÖÈÉ® <code>filter</code> ÂáΩÊï∞ÂØπÂ∫îÁöÑÂõûË∞ÉÂáΩÊï∞Ôºå‰ªéËÄåÁ≠õÈÄâÂá∫Áî®‰ª•ÂåπÈÖçÊï∞ÁªÑÁöÑÂØπË±°ÊàêÂëò„ÄÇÂ¶ÇÔºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> comparator = <span class=\"function\">(<span class=\"params\">x, y</span>) =&gt;</span> x.id === y.id;</span><br></pre></td></tr></table></figure>\n<p>Ë°®Á§∫‰∏∫ <code>x</code> ÂØπË±°ÁöÑ <code>id</code> Â≠óÊÆµ‰∏é <code>y</code> ÂØπË±°ÁöÑ <code>id</code> Â≠óÊÆµÂÆåÂÖ®Áõ∏Á≠âÊó∂ÔºåË°®Á§∫ <code>x</code> ÂØπË±°Âíå <code>y</code> ÂØπË±°‰∏∫ÂåπÈÖçÁöÑÂèåÊñπ„ÄÇ</p>\n<p>ÈÄöËøáËøôÊ†∑ÁöÑÂΩ¢ÂºèÔºåÊàë‰ª¨ËÉΩÂ§üÂ∞ÜÈÖçÁΩÆ‰∏≠Êï∞ÁªÑÂΩ¢ÂºèÂ≠òÂú®ÁöÑÈÖçÁΩÆÈ°πÁöÑÂåπÈÖçÂ≠óÊÆµ‰ª• <code>comparator</code> ÁöÑÂΩ¢ÂºèÈÖçÁΩÆÊ§çÂÖ•ÔºåËÄå‰∏çÂøÖÂú®ÂÆûÁé∞ÁöÑ‰ª£Á†Å‰∏≠Ê§çÂÖ•‰∏öÂä°Áõ∏ÂÖ≥ÁöÑ‰ª£Á†Å„ÄÇÂΩìÁÑ∂Ôºå‰ªÖ‰ªÖÂ¶ÇÊ≠§Âπ∂‰∏çÂ§üÁöÑÔºåÂõ†‰∏∫ËøòÊó†Ê≥ïËß£ÂÜ≥Âà∞Â∫ïÈÖçÁΩÆÁªìÊûÑ‰∏≠Âà∞Â∫ïÂì™‰∏™Â±ÇÁ∫ßÊòØÊï∞ÁªÑÁ±ªÂûãÁöÑÂÄºÔºå‰∏ãÈù¢‰ºöËØ¶ÁªÜËß£ÊûêÂ¶Ç‰ΩïËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ</p>\n<h3 id=\"Â∑ÆÂºÇÂåñÊµÅÁ®ãÂÆûÁé∞\"><a href=\"#Â∑ÆÂºÇÂåñÊµÅÁ®ãÂÆûÁé∞\" class=\"headerlink\" title=\"Â∑ÆÂºÇÂåñÊµÅÁ®ãÂÆûÁé∞\"></a>Â∑ÆÂºÇÂåñÊµÅÁ®ãÂÆûÁé∞</h3><p>Ê†πÊçÆ JSON ÁöÑ‰∏çÂêåÁ±ªÂûãÁöÑÂ§ÑÁêÜÊñπÂºèÁöÑ‰∏çÂêåÔºåÊàë‰ª¨ÂÆûÁé∞‰∫Ü‰∏â‰∏™ÊñπÊ≥ïÔºö</p>\n<ul>\n<li><code>diffObject</code>ÔºöÁî®‰∫éÂØπË±°Á±ªÂûãÂÄº‰πãÈó¥ÁöÑÂØπÊØîÊñπÊ≥ïÔºåÈÄöËøá <code>Object.keys</code> Ëé∑ÂèñÂêÑËá™ÂØπË±°ÁöÑÈîÆÂêçÈõÜÂêàÔºåÈÖçÂêàÊï∞ÁªÑÂ∑ÆÈõÜÂáΩÊï∞ÂíåÊï∞ÁªÑ‰∫§ÈõÜÂáΩÊï∞ÔºåÂèØ‰ª•Á≠õÈÄâÂá∫Êñ∞ÂØπË±°‰∏≠Êñ∞Â¢ûÁöÑÂ≠óÊÆµÈõÜÂêà„ÄÅÊóßÂØπË±°‰∏≠Âà†Èô§ÁöÑÂ≠óÊÆµÈõÜÂêà‰ª•ÂèäÊñ∞ÂØπË±°ÂíåÊóßÂØπË±°ÂÖ±ÊúâÁöÑÂ≠óÊÆµÈõÜÂêà</li>\n<li><code>diffArray</code>ÔºöÁî®‰∫éÊï∞ÁªÑÁ±ªÂûãÂÄº‰πãÈó¥ÁöÑÂØπÊØîÊñπÊ≥ïÔºåÈÄöËøá <code>comparator</code> ÊØîËæÉÂáΩÊï∞ÂÖ•ÂèÇÔºåÂêåÊ†∑Âà©Áî®Â∑ÆÈõÜÂáΩÊï∞Âíå‰∫§ÈõÜÂáΩÊï∞ÔºåÂàÜÂà´Á≠õÈÄâÂá∫Êñ∞Êï∞ÁªÑ‰∏≠Êñ∞Â¢ûÁöÑÊï∞ÁªÑÊàêÂëò„ÄÅÊóßÊï∞ÁªÑ‰∏≠Âà†Èô§ÁöÑÊï∞ÁªÑÊàêÂëò‰ª•ÂèäÂêÑËá™Êï∞ÁªÑ‰∏≠ÂÖ±ÊúâÁöÑÊï∞ÁªÑÊàêÂëò</li>\n<li><code>diffValue</code>ÔºöÁî®‰∫éÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂÄºÁöÑÂØπÊØîÊñπÊ≥ïÔºåÈááÁî®‰∏•Ê†ºÁõ∏Á≠âÁöÑÂØπÊØîÊñπÂºèÔºåËã•Áõ∏Á≠âÂàô‰∏∫Áõ∏Á≠âÔºàEqualÔºâÁä∂ÊÄÅÔºåÂê¶Âàô‰∏∫ÂÜ≤Á™ÅÁä∂ÊÄÅÔºàConflictÔºâ</li>\n</ul>\n<p>ÂºïÁî®Á±ªÂûãÁöÑÂÄºÊØîËæÉÔºà‰πüÂ∞±ÊòØ <code>diffObject</code> Âíå <code>diffArray</code>ÔºâÂú®ÂåπÈÖçÂà∞ÈîÆÂÄºÊàñÊï∞ÁªÑÊàêÂëòÊó∂Ôºå‰ºöÂà©Áî®Ë∞ÉÂíåÂáΩÊï∞‰Ωú‰∏∫ÂåπÈÖçË∑≥ÊùøÔºåÊ†πÊçÆ‰º†ÂÖ•Êï∞ÊçÆÊ∫êÁ±ªÂûã‰∏çÂêåÁªßÁª≠ÂØπ‰∏ãÂ±ÇÁªìÊûÑÁöÑÂÄºÈÄíÂΩíÊâßË°å‰∏äËø∞‰∏âÁßç‰∏çÂêåÊï∞ÊçÆÁ±ªÂûãÁöÑÊñπÊ≥ï„ÄÇ</p>\n<p>ËÄåÊóßÂØπË±°/ÊóßÊï∞ÁªÑ‰∏≠Âà†Èô§ÁöÑÂÄºÊàñÊñ∞ÂØπË±°/Êñ∞Êï∞ÁªÑ‰∏≠Êñ∞Â¢ûÁöÑÂÄºÔºåÂàô‰∏ç‰ºöÂÜçËøõË°åÊ∑±Â±ÇÊ¨°ÁöÑÈÄíÂΩíÔºå‰ºöÁõ¥Êé•ÊäïÊîæÂà∞Âè¶‰∏Ä‰∏™Â§ÑÁêÜÊñπÊ≥ï <code>getRecursion</code> ‰∏≠ÈÄíÂΩí‰øÆÊîπ‰∏ãÂ±ÇÁªìÊûÑ‰∏≠ÁöÑÂèòÂåñÁä∂ÊÄÅ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-workflow.jpg\" alt=\"diffÁªìÊûÑÊµÅÁ®ãÂõæ\"></p>\n<p>ÂØπË±°Á±ªÂûãÂÄº‰πãÈó¥ÁöÑÊØîËæÉÔºåÊàë‰ª¨‰ºö‰ΩøÁî® <code>Object.keys()</code> ÊñπÊ≥ïÂàÜÂà´Ëé∑Âèñ‰∏§‰∏™ÂØπÊØîÂØπË±°ÁöÑÈîÆÂêçÔºåÂπ∂ÈÄöËøáÊï∞ÁªÑËæÖÂä©ÊñπÊ≥ïÊãÜÂàÜ‰∏∫‰∏âÁªÑÔºöÂÖ±ÂêåÊã•ÊúâÁöÑÈîÆÂêçÁöÑÈõÜÂêà„ÄÅ‰ªÖÊúâ <code>origin</code> ÂØπË±°ÔºàÁêÜËß£‰∏∫ÂèòÂåñÂâçÁöÑÈÖçÁΩÆÂØπË±°ÔºâÊã•ÊúâÁöÑÈîÆÂêçÁöÑÈõÜÂêàÂíå <code>target</code> ÂØπË±°ÔºàÁêÜËß£‰∏∫ÂèòÂåñÂêéÁöÑÈÖçÁΩÆÂØπË±°ÔºâÊã•ÊúâÁöÑÈîÆÂêçÈõÜÂêà„ÄÇ</p>\n<p>Áî±Ê≠§ÂèØÂæóÔºåÂÖ±ÂêåÊã•ÊúâÁöÑÈîÆÂêçÈõÜÂêàÈúÄË¶ÅÈÄöËøáÊØîËæÉÂæóÂá∫ÂèòÂåñÁä∂ÊÄÅ„ÄÇËÄå <code>origin</code> ÂØπË±°Êã•ÊúâÁöÑÈîÆÂêçÔºåÂàôË°®Á§∫ <code>target</code> ÂØπË±°Ê≤°ÊúâÔºå‰πüÂ∞±ÊòØ <code>origin</code> ÂØπË±°ÈõÜÂêà‰∏≠ÁöÑÈîÆÂÄºË¢´Âà†Èô§‰∫ÜÔºå‰ºöË¢´Ê†áËÆ∞‰∏∫Âà†Èô§Áä∂ÊÄÅ„ÄÇÁõ∏‰ººÂú∞Ôºå‰ªÖ <code>target</code> ÂØπË±°Êã•ÊúâÁöÑÈîÆÂêçË°®Á§∫ <code>origin</code> Ê≤°ÊúâËØ•ÈîÆÂêçÔºåÂàô <code>target</code> ÁöÑÈîÆÂÄº‰∏∫Êñ∞Â¢ûÈÖçÁΩÆÈ°πÔºå‰ºöË¢´Ê†áËÆ∞‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅ„ÄÇ</p>\n<p>ÂàöÊâçÊèêÂà∞ÂØπË±°Êï∞ÁªÑÁ±ªÂûã‰πãÈó¥ÈúÄË¶ÅÈÄöËøáÊØîËæÉÂô®ÂáΩÊï∞ <code>comparator</code> Áî®‰∫éÂåπÈÖçÔºå‰ΩÜÊòØÈúÄË¶ÅÊèê‰æõ‰∏ÄÁßçËÆ©ËøêË°åÊú∫Âà∂Áü•ÈÅì‰ªÄ‰πàÊ†∑ÁöÑÊï∞ÁªÑÂØπÊØîÈúÄË¶ÅÁî®ÊÄéÊ†∑ÁöÑ <code>comparator</code>„ÄÇÂú®ËøêË°å diff ÂâçÔºåÊàë‰ª¨ÈÄöËøá‰ª•ÈÄíÂΩíË∑ØÂæÑ‰∏∫ÈîÆÂêçÔºå‰ª• <code>comparator</code> ‰∏∫ÈîÆÂÄºÁªÑÊàêÁöÑÈÖçÁΩÆÂØπË±°‰º†ÂÖ• <code>diff</code> ÂáΩÊï∞„ÄÇ</p>\n<p>Âú®Âêë‰∏ãÈÄíÂΩíËøõË°åÈÖçÁΩÆÈ°πÊØîËæÉÊó∂ÔºåÈÅáÂà∞ÂØπË±°Á±ªÂûãÁöÑÂÄºÔºå‰ºöÂ∞ÜÈîÆÂêç‰º†ÂÖ•Ë∞ÉÂíåÂáΩÊï∞„ÄÇÂú®ÂáΩÊï∞ÂÜÖÈÉ®Ôºå‰ºöË¢´Êé®ÂÖ•‰∏Ä‰∏™Â∑≤Â£∞ÊòéÁöÑÈù¢ÂåÖÂ±ëÊ†àÔºà‰πüÁß∞‰∏∫ÈÄíÂΩíË∑ØÂæÑÔºå‰ª•Êï∞ÁªÑÂΩ¢ÂºèË°®Á§∫ÔºâÔºåÂΩìËøîÂõûÂÄºÊó∂ÔºåÂèà‰ºöÈÄÄÊ†à„ÄÇÂΩìÊ£ÄÊü•Âà∞‰∏ãÂ±ÇÁªìÊûÑ‰∏∫Êï∞ÁªÑÁ±ªÂûãÊó∂Ôºå‰ºöÈÄöËøá <code>Array.prototype.join()</code> ÊñπÊ≥ïÂ∞ÜÈù¢ÂåÖÂ±ëÊ†à‰∏≠ÁöÑÂÄºÂêàÊàêÈîÆÂêçË∑ØÂæÑÔºåÂåπÈÖçÂ§ñÈÉ®‰º†ÂÖ•ÁöÑÊØîËæÉÂô®ÈÖçÁΩÆÂêéÔºåÂ∞Ü‰∏ãÂ±ÇÊï∞ÁªÑÁªìÊûÑÂåπÈÖçÊâÄÈúÄÁöÑ <code>comparator</code> ‰º†ÂÖ• <code>diffArray</code> ‰∏≠„ÄÇËøôÊ†∑Â∞±Ëß£ÂÜ≥‰∫ÜÂØπË±°Êï∞ÁªÑÂåπÈÖçÁöÑÈóÆÈ¢òÔºåÂêåÊó∂‰πüÂ∞ÜÁõ∏ÂÖ≥ÁöÑ‰∏öÂä°‰ª£Á†ÅÊäΩÁ¶ªËá≥Â§ñÈÉ®ÔºåÊèêÂçá‰∫ÜÊñπÊ≥ïÁöÑÈÄöÁî®ÊÄßÂíåÂèØÈÖçÁΩÆÊÄß„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> comparator = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Â¶ÇÊûúÂéüÂßãÊï∞ÊçÆ‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºà‰πüÂ∞±ÊòØ‰º†ÂÖ•Êï∞ÊçÆÊúÄÂ§ñÂ±Ç‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºâÔºåÂøÖÈ°ªÊúâ init Â≠óÊÆµ‰Ωú‰∏∫ comparator ÂáΩÊï∞</span></span><br><span class=\"line\">  init: <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.name === b.name &amp;&amp; a.id === b.id,</span><br><span class=\"line\">  eventList: <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.name === b.name,</span><br><span class=\"line\">  <span class=\"string\">'eventList.value'</span>: <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a === b,</span><br><span class=\"line\">  <span class=\"string\">'eventList.subEvents'</span>: <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.id === b.id,</span><br><span class=\"line\">  <span class=\"string\">'eventList.subEvents.actions'</span>: <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.id === b.id,</span><br><span class=\"line\">  animation: <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.antType === b.antType,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>‚ö†Ô∏è<strong>Ê≥®ÊÑè</strong>ÔºöÂ¶ÇÊûúÂéüÂßãÊï∞ÊçÆ‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºåÂàôÂøÖÈ°ªÊèê‰æõ <code>init</code> ‰Ωú‰∏∫Ê†πÔºàÈ°∂Â±ÇÔºâÁªìÊûÑÁöÑÊØîËæÉÂô®ÂáΩÊï∞„ÄÇ</p>\n<p>‰∏äËø∞Â∞±ÊòØ diff ÂäüËÉΩÂÆûÁé∞ËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑ‰∏ªË¶ÅÈóÆÈ¢òÁöÑËß£ÂÜ≥ÊñπÊ°àÔºå‰ΩÜÊòØ‰ªÖÂØπ‰∏§Ë∑ØÁöÑÈÖçÁΩÆÊï∞ÊçÆËøõË°å diff ÊòØ‰∏çÂ§üÁöÑÔºåËøô‰∏ªË¶ÅÊòØ‰ªéÊàë‰ª¨Êú¨Ë∫´ TotoroX ÁöÑ‰∏öÂä°ËÄÉËôë„ÄÇÂ¶ÇÂâçÊñáÊâÄËø∞ <code>origin</code> ÂèØ‰ª•‰∏∫Áî®‰∫éÂàõÂª∫È°µÈù¢ÁöÑÊ®°ÁâàÔºå<code>target</code> ‰∏∫Âü∫‰∫éÊ®°ÁâàÂàõÂª∫ÁöÑÈ°µÈù¢Ôºå‰ΩÜÂêéÁª≠ÈúÄÊ±ÇÂèòÊõ¥Êó∂‰ºöÂØπÊ®°ÁâàÊï∞ÊçÆËøõË°å‰øÆÊîπÔºåËÄåÂú®Êàë‰ª¨ÁöÑÁ≥ªÁªü‰∏≠Âπ∂‰∏ç‰ºöÂêåÊ≠•Âà∞ÂàõÂª∫ÁöÑÈ°µÈù¢ÔºåÈÇ£‰πàÊ®°Áâà‰øÆÊîπÂêéÈúÄË¶ÅÂ∞Ü‰øÆÊîπÁöÑÂÜÖÂÆπÂêåÊ≠•Âà∞‰πãÂâçÂàõÂª∫ÁöÑÈ°µÈù¢ÔºåÂ∞±ÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™Áî®‰∫éÂêàÂπ∂Êñ∞Ê®°Áâà‰∏éÊóßÈ°µÈù¢ÁöÑÊñπÊ≥ïÔºå‰∏ãÈù¢Êàë‰ª¨Â∞±ËÅäËÅä merge ÂäüËÉΩÁöÑÂÆûÁé∞„ÄÇ</p>\n<h2 id=\"Merge-ÂäüËÉΩÂÆûÁé∞\"><a href=\"#Merge-ÂäüËÉΩÂÆûÁé∞\" class=\"headerlink\" title=\"Merge ÂäüËÉΩÂÆûÁé∞\"></a>Merge ÂäüËÉΩÂÆûÁé∞</h2><p>Âú®ÂØπ merge ÂäüËÉΩÂÆûÁé∞ËøáÁ®ãËøõË°åËÆ≤Ëß£ÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπ git ÁöÑÂêàÂπ∂Á≠ñÁï•ËøõË°å‰∏ÄÂÆöÁ®ãÂ∫¶ÁöÑ‰∫ÜËß£„ÄÇ</p>\n<p>git ÈááÁî®‰∏âË∑ØÂêàÂπ∂Á≠ñÁï•Ôºö</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">B - C - D master(*)</span><br><span class=\"line\"> \\</span><br><span class=\"line\">  E - F dev</span><br></pre></td></tr></table></figure>\n<p>‰ª•Êàë‰ª¨Êó•Â∏∏ÁöÑÂºÄÂèëÂçè‰ΩúÊµÅÁ®ã‰∏∫‰æãÔºåÂΩìÂâçÂàÜÊîØ‰πüÂ∞±ÊòØ‰∏ªÂàÜÊîØ‰∏∫ <code>master</code>ÔºåÂΩìÂ∞ùËØïÊää <code>dev</code> ÂºÄÂèëÂàÜÊîØÂêàÂπ∂Âà∞ <code>master</code> Êó∂Ôºå‰∏§‰∏™ÂàÜÊîØÂÖ±ÂêåÊã•ÊúâÁöÑÊèê‰∫§Â∞±ÊòØ commitBÔºåÊàë‰ª¨Â∞ÜËØ•Êèê‰∫§ commit Áß∞‰∏∫ <code>base</code>Ôºå<code>master</code> ÂàÜÊîØÊúÄÊñ∞ÁöÑÊèê‰∫§ commitD Áß∞‰∏∫ <code>ours</code>ÔºåËÄå <code>dev</code> ÂàÜÊîØÊúÄÊñ∞ÁöÑÊèê‰∫§ commitF Áß∞‰∏∫ <code>theirs</code>„ÄÇ</p>\n<p>ÈÇ£‰πà git ÊòØÊÄéÊ†∑ÂêàÂπ∂ <code>ours</code> Âíå <code>theirs</code> ÁöÑÂë¢Ôºü</p>\n<p>Âú®ÂêàÂπ∂Êó∂Ôºå‰ºöÂèÇËÄÉ‰ªñ‰ª¨ÁöÑÂÖ±ÂêåÁ•ñÂÖà <code>base</code>ÔºåÂπ∂Ê†πÊçÆ‰∏ãÈù¢Á≠ñÁï•ËøõË°åÂêàÂπ∂„ÄÇ</p>\n<table>\n<thead>\n<tr>\n<th>Á•ñÂÖàÔºàbaseÔºâ</th>\n<th>HEADÔºàoursÔºâ</th>\n<th>ÂàÜÊîØÔºàtheirsÔºâ</th>\n<th>ÁªìÊûú</th>\n<th>ËØ¥Êòé</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>A</td>\n<td>A</td>\n<td>A</td>\n<td></td>\n</tr>\n<tr>\n<td>A</td>\n<td>A</td>\n<td>B</td>\n<td>B</td>\n<td>Â¶ÇÊûú‰∏ÄÊñπ‰øÆÊîπ‰∫Ü‰∏ÄË°åÔºåÈÇ£‰πàËøô‰∏ÄË°åÈÄâÊã©‰øÆÊîπÁâàÁöÑ</td>\n</tr>\n<tr>\n<td>A</td>\n<td>B</td>\n<td>A</td>\n<td>B</td>\n<td>Âêå‰∏ä</td>\n</tr>\n<tr>\n<td>A</td>\n<td>B</td>\n<td>B</td>\n<td>B</td>\n<td>Â¶ÇÊûúÊüê‰∏ÄË°åÂèåÊñπÊã•ÊúâÁõ∏ÂêåÁöÑÂèòÊõ¥ÔºåÂàôÈÄâÊã©‰øÆÊîπËøáÁöÑË°å</td>\n</tr>\n<tr>\n<td>A</td>\n<td>B</td>\n<td>C</td>\n<td>conflict</td>\n<td>Â¶ÇÊûúÊüê‰∏ÄË°åÂèåÊñπÈÉΩ‰øÆÊîπ‰∫ÜÔºå‰∏î‰øÆÊîπÂæó‰∏ç‰∏ÄÊ†∑ÔºåÂàôÊä•ÂëäÂÜ≤Á™ÅÔºåÈúÄË¶ÅÁî®Êà∑Ëß£ÂÜ≥</td>\n</tr>\n</tbody>\n</table>\n<p>Ê†πÊçÆ‰∏äË°®ËßÑÂàôÔºåÂêàÂπ∂ËøáÁ®ãÁ±ª‰ººËøôÊ†∑Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-merge-strategy.png\" alt=\"ÂêàÂπ∂ËøáÁ®ã\"></p>\n<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÁ¨¨ÂõõË°åÔºåÂèåÊñπÈÉΩ‰øÆÊîπ‰∫ÜÔºå‰∏îÂêÑËá™‰øÆÊîπÁöÑÂÜÖÂÆπ‰∏ç‰∏ÄÊ†∑ÔºåÊâÄ‰ª• git ‰∏çÁü•ÈÅìÊÄé‰πàËß£ÂÜ≥ÔºåÊâÄ‰ª•Â∞±ÊääÈóÆÈ¢òÊäõÁªôÁî®Êà∑‰∫Ü„ÄÇ</p>\n<h3 id=\"Ê†πËäÇÁÇπÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\"><a href=\"#Ê†πËäÇÁÇπÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\" class=\"headerlink\" title=\"Ê†πËäÇÁÇπÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\"></a>Ê†πËäÇÁÇπÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂</h3><p>Êàë‰ª¨Âú®ÂÆûÁé∞ merge ÂäüËÉΩÊó∂ÔºåÊ≠£ÊòØÈááÁî®‰∫Ü‰∏éÊ≠§ÁßçÂêàÂπ∂Á≠ñÁï•‰∏ÄËá¥ÁöÑÊñπÂºè„ÄÇÂú® merge ÁöÑÂêàÂπ∂ÊµÅÁ®ã‰∏≠ÔºåÂéüÂßãÊï∞ÊçÆÂç≥‰∏∫<strong>Á•ñÂÖà</strong>ÔºàbaseÔºâÔºåËÄåÂÆûÈôÖÈúÄË¶ÅÂêàÂπ∂ÁöÑ‰∏§‰ªΩÊï∞ÊçÆÂàÜÂà´‰∏∫ <strong>Head</strong>ÔºàoursÔºâÂíå<strong>ÂàÜÊîØ</strong>ÔºàtheirsÔºâ„ÄÇÊàë‰ª¨Â∞Ü <code>base</code> ‰Ωú‰∏∫‰∏≠Èó¥ËÄÖÔºå‰ª•Ê≠§Âà§Êñ≠‰∏§‰ªΩÈÖçÁΩÆÊï∞ÊçÆÂì™‰∫õÈÉ®ÂàÜÊòØÂ±û‰∫éÂéüÂßãÊï∞ÊçÆÁöÑÔºåÂì™‰∫õÈÉ®ÂàÜÂèàÊòØÊñ∞Êï∞ÊçÆ„ÄÇ</p>\n<p>È¶ñÂÖàÔºåÊàë‰ª¨ÂàÜÂà´Â∞ÜÊñ∞Êï∞ÊçÆ‰∏éÂÖ±ÂêåÁªÑ‰ª∂ <code>base</code> ËøõË°å diff Êìç‰ΩúÔºåËé∑ÂæóÂàÜÂà´ÁöÑ JSON Schema ÁªìÊûÑÁöÑÁªìÊûúÔºåÂêéÁª≠ÂÜçÂØπÁªìÊûúËøõË°å mergeBranch ÁöÑÊìç‰Ωú„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">merge</span>(<span class=\"params\">base, ours, theirs, diffComparator, mergeComparator</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> originDiff = diff(base, ours, diffComparator);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> targetDiff = diff(base, theris, diffComparator);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> newDataSchema = mergeBranch(originDiff, targetDiff, mergeComparator);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> newDataSchema;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ËÄåÁî±‰∫é merge ÊòØÊ†πÊçÆ‰∏§‰∏§ diff ÂêéÁöÑ Schema ÁªìÊûÑÁöÑ JSONÔºåÊàë‰ª¨ÂÖà‰ªé<strong>Ê†πËäÇÁÇπ</strong>ÁöÑ <code>_status</code> Â≠óÊÆµÂåπÈÖçËøõË°åÂå∫ÂàÜÔºåÂÖ±Êúâ‰∫îÁßçÊÉÖÂÜµÔºö</p>\n<table>\n<thead>\n<tr>\n<th>Ê∫êÈÖçÁΩÆÊï∞ÊçÆÊ†πËäÇÁÇπÁä∂ÊÄÅ</th>\n<th>ÂèòÊõ¥ÈÖçÁΩÆÊï∞ÊçÆÊ†πËäÇÁÇπÁä∂ÊÄÅ</th>\n<th>ËØ¥Êòé</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Equal</td>\n<td>Equal</td>\n<td>Ë°®Á§∫ <code>base</code> Âíå <code>ours</code> ÂÆåÂÖ®Áõ∏Á≠âÔºå<code>base</code> Âíå <code>theirs</code> ÂÆåÂÖ®Áõ∏Á≠âÔºåÂç≥Ë°®Á§∫‰∏âË∑ØÂÆåÂÖ®Áõ∏Á≠â</td>\n</tr>\n<tr>\n<td>Equal</td>\n<td>Updated</td>\n<td>Ë°®Á§∫ <code>base</code> Âíå <code>ours</code> ÂÆåÂÖ®Áõ∏Á≠âÔºå<code>base</code> Âíå <code>theirs</code> Â≠òÂú®ÂèòÊõ¥ÔºåÂç≥ÂçïË∑ØÂèòÊõ¥ÔºåÊúÄÁªàÁªô‰Ω†‰ºöÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆ</td>\n</tr>\n<tr>\n<td>Updated</td>\n<td>Equal</td>\n<td>Ë°®Á§∫ <code>base</code> Âíå <code>ours</code> Â≠òÂú®ÂèòÊõ¥Ôºå<code>base</code> Âíå <code>theirs</code> ÂÆåÂÖ®Áõ∏Á≠âÔºåÂç≥ÂçïË∑ØÂèòÊõ¥ÔºåÊúÄÁªàÁªô‰Ω†‰ºöÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆ</td>\n</tr>\n<tr>\n<td>Updated</td>\n<td>Updated</td>\n<td>Ë°®Á§∫ <code>base</code> Âíå <code>ours</code> Â≠òÂú®ÂèòÊõ¥Ôºå<code>base</code> Âíå <code>theirs</code> ‰πüÂ≠òÂú®ÂèòÊõ¥Ôºå‰ΩÜÊòØÂèòÊõ¥ÂØπÂ∫îÁöÑÂÄº‰∏çÁõ∏Á≠âÔºåÂç≥‰∏âË∑ØÂÜ≤Á™Å</td>\n</tr>\n<tr>\n<td>Updated</td>\n<td>Updated</td>\n<td>Ë°®Á§∫ <code>base</code> Âíå <code>ours</code> Â≠òÂú®ÂèòÊõ¥Ôºå<code>base</code> Âíå <code>theirs</code> ‰πüÂ≠òÂú®ÂèòÊõ¥Ôºå‰ΩÜÊòØÂèòÊõ¥ÂØπÂ∫îÁöÑÂÄºÁõ∏Á≠âÔºåÂÆûÈôÖ‰∏ä <code>ours</code> Âíå <code>theirs</code> ÂèòÊõ¥ÂÄº‰∏é <code>base</code> ÂÄºÂÜ≤Á™Å</td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-merge-venn-diagram.jpg\" alt=\"ÂèòÊõ¥Áä∂ÊÄÅÈü¶ÊÅ©Âõæ\"></p>\n<p>ÂØπ‰∏äËø∞‰∫îÁßçÊÉÖÂÜµËøõË°åÂàÜÊûêÂΩíÁ∫≥ÂêéÔºåÂú®‰ª£Á†ÅÂÆûÁé∞Â±ÇÈù¢‰∏äÂèØ‰ª•Â§ßËá¥ÂàÜ‰∏∫‰∏â‰∏™ÊñπÂêëÂ§ÑÁêÜÔºö</p>\n<ol>\n<li>‰∏âË∑ØÁõ∏Á≠âÔºàA-A-AÔºâ=&gt; <code>mergeUnmodified</code>ÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©ÂõæÂ§©ËìùËâ≤ÈÉ®ÂàÜ‰∏≠Áä∂ÊÄÅ‰∏∫ <code>equal</code> ÁöÑÈÉ®ÂàÜÔºâ</li>\n<li>ÂçïË∑ØÂèòÊõ¥ÔºåÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆÔºàA-A-B„ÄÅA-B-AÔºâ=&gt; <code>mergeUpdated</code>ÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©ÂõæÁ¥´Ëâ≤ÂíåÊ©ôËâ≤ÈÉ®ÂàÜÔºåË°®Á§∫ÁöÑÊòØ <code>base</code> Â≠òÂú®‰ΩÜÊòØÂ≠òÂú®ÂèòÊõ¥ÁöÑÁä∂ÊÄÅÔºåÂèØ‰ª•ÊòØÂÆåÂÖ®ÊàñÂ±ÄÈÉ®ÁöÑÂà†Èô§ÂíåÂÜ≤Á™ÅÔºå‰πüÂèØ‰ª•ÊòØÂ±ÄÈÉ®ÈÖçÁΩÆÈ°πÁöÑÊñ∞Â¢ûÔºå‰ΩÜÊòØ‰∏çÂèØËÉΩÊòØÂÆåÂÖ®ÁöÑÊñ∞Â¢ûÔºâ</li>\n<li>‰∏§Ë∑ØÂèòÊõ¥ÔºåÊ†πÊçÆÂèòÊõ¥ÊÉÖÂÜµÈÄâÊã©Êàñ‰øùÁïôÂÜ≤Á™ÅÁä∂ÊÄÅÂπ∂Êèê‰æõÊâãÂä®Â§ÑÁêÜÊñπÂºèÔºåÂèòÊõ¥ÂèàÂàÜ‰∏∫Êñ∞Â¢û„ÄÅÂà†Èô§Âíå‰øÆÊîπÔºàA-B-B„ÄÅA-B-CÔºâ=&gt; <code>mergeConflict</code>ÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©ÂõæÁªøËâ≤„ÄÅÁ∫¢Ëâ≤ÂíåËìùÁÅ∞Ëâ≤Ôºâ</li>\n</ol>\n<p>‰∏âË∑ØÁõ∏Á≠âÁöÑÊÉÖÂÜµÊòØÊúÄÂ•ΩÂ§ÑÁêÜÁöÑÔºåÂú®ÂØπÊ†πËäÇÁÇπËøõË°åÈÅçÂéÜÊó∂ÂåπÈÖç‰∏§ËÄÖÁöÑ <code>_status</code> ÂèòÂåñÁä∂ÊÄÅ‰∏∫Áõ∏Á≠âÁä∂ÊÄÅÔºà<code>equal</code>ÔºâÊó∂Âç≥Ë°®Êòé‰∏âË∑ØÁõ∏Á≠â„ÄÇ</p>\n<p>ÂçïË∑ØÂèòÊõ¥ÁöÑÊÉÖÂÜµÔºåÂú®ÂØπÊ†πËäÇÁÇπËøõË°åÈÅçÂéÜÊó∂ÂåπÈÖç‰∏§ËÄÖÁöÑ <code>_status</code> ‰∏∫Áõ∏Á≠âÔºà<code>equal</code>ÔºâËÄåÂè¶‰∏ÄÊñπ‰∏∫‰∏çÁõ∏Á≠âÔºåÂç≥‰∏∫ÈúÄË¶ÅÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆ„ÄÇ</p>\n<p>ËÄåÂØπ‰∫é‰∏§Ë∑ØÂèòÊõ¥ÁöÑÊÉÖÂÜµÔºåÊàë‰ª¨‰∏çËÉΩÂçïÁ∫ØÂú∞‰ª•Ê†πËäÇÁÇπÁöÑÁä∂ÊÄÅ‰Ωú‰∏∫Âå∫ÂàÜÔºåËøôÊòØÂõ†‰∏∫Êàë‰ª¨ÈááÁî®‰∫Ü‰∏äÊñáÊèêÂèäËøáÁöÑ<strong>Ëá™Â∫ïÂêë‰∏äÁöÑÁä∂ÊÄÅÂèòÊõ¥ÊòæÁ§∫Á≠ñÁï•</strong>ÔºåÊâÄ‰ª•Ê†πËäÇÁÇπÂëàÁé∞‰∏∫ÂèòÊõ¥Áä∂ÊÄÅÔºå‰∏ç‰ª£Ë°®Êï¥‰∏™ÁªìÊûÑÂÜÖÈÉ®ÁöÑÂ±ûÊÄßÂùá‰∏∫ÂèòÊõ¥Áä∂ÊÄÅÔºå‰πüÂèØËÉΩÂõ†‰∏∫Êüê‰∏™ÈÖçÁΩÆÈ°πÁöÑÂèòÊõ¥ÔºåÂØºËá¥ÁªìÊûÑÊ†ë‰∏äÂ±ÇÁöÑÁä∂ÊÄÅÊîπÂèò„ÄÇÊâÄ‰ª•ÂØπ‰∫éËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨ÂèàËÉΩÁªÜÂàÜ‰∏∫‰∏§ÁßçÊÉÖÂÜµËøõË°åÂ§ÑÁêÜÔºö</p>\n<ol>\n<li>ÈÄöËøá <code>comparator</code> ÊØîËæÉÂáΩÊï∞ËÉΩ‰∏§‰∏§ÂåπÈÖçÁöÑËäÇÁÇπÊ†ëÔºåÂÆûÈôÖ‰∏ä‰∏∫ <code>base</code>„ÄÅ<code>ours</code> Âíå <code>theirs</code> ‰∏âË∑ØÂùáÂ≠òÂú®ËØ•Ê†πËäÇÁÇπÁöÑÔºåÂàôÈúÄË¶ÅÂØπÂèåÊñπÂ≠êÂ≠ôÂ±ÇÁ∫ßÁöÑËäÇÁÇπËøõË°åÈÄíÂΩíÈÅçÂéÜÂπ∂ÈÄê‰∏ÄÂØπÊØîÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©Âõæ‰∏≠ËìùËâ≤ <code>conflict</code> ÁöÑÈÉ®ÂàÜÔºâ</li>\n<li>Âú®ÂØπÊØîÂèåÊñπÁöÑÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ÔºåÊ†πËäÇÁÇπÁä∂ÊÄÅ <code>_status</code> ‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅÔºà<code>add</code>Ôºâ‰∏îÂ≠êÂ≠ôÂ±ÇÁ∫ßÁöÑÈÖçÁΩÆÂ±ûÊÄßÂÄº‰πü‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅÊó∂ÔºåÂàôÂèØÂà§Êñ≠ËØ•ÈÖçÁΩÆÊ†ë‰∏∫ÂÆåÂÖ®Êñ∞Â¢ûÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©Âõæ‰∏≠ÁªøËâ≤ <code>add</code> ÁöÑÈÉ®ÂàÜÔºâÔºåÊåâÁÖßÁ∫¶ÂÆöÁöÑÂêàÂπ∂Á≠ñÁï•ÔºåÈúÄË¶Å‰øùÁïôÊï¥‰∏™ÈÖçÁΩÆÊ†ë</li>\n</ol>\n<h3 id=\"Â≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\"><a href=\"#Â≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\" class=\"headerlink\" title=\"Â≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\"></a>Â≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂</h3><p>‰∏ãÈù¢Êàë‰ª¨ÊääÈáçÁÇπËÅöÁÑ¶‰∫é‰∏§Ë∑ØÂèòÊõ¥ÁöÑÊÉÖÂÜµ‰∏ãÂ≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂ÁöÑÂÆûÁé∞„ÄÇ</p>\n<p>‰ªéÊ†πËäÇÁÇπÁöÑÂèòÊõ¥Áä∂ÊÄÅÁöÑËßíÂ∫¶ÂàÜÊûêÔºàÂ∑≤ÊéíÈô§ÂÆåÂÖ®Êñ∞Â¢ûÁöÑÈÖçÁΩÆËäÇÁÇπÊ†ëÔºâÔºåÂèØ‰ª•Â§ßËá¥ÂàÜ‰∏∫‰∫îÁßçÊÉÖÂÜµÔºö</p>\n<table>\n<thead>\n<tr>\n<th>base_ours Ê†πËäÇÁÇπÁä∂ÊÄÅ</th>\n<th>base_theirs Ê†πËäÇÁÇπÁä∂ÊÄÅ</th>\n<th>ËØ¥Êòé</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Add</td>\n<td>Add</td>\n<td>Ë°®Á§∫ <code>base</code> Ê≤°ÊúâÊüêÈ°πÈÖçÁΩÆÈ°πÔºåËÄå <code>ours</code> Âíå <code>theris</code> Êñ∞Â¢û‰∫ÜÊüêÈ°πÈÖçÁΩÆÈ°π</td>\n</tr>\n<tr>\n<td>Conflict</td>\n<td>Conflict</td>\n<td>Ë°®Á§∫ <code>base</code> Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå<code>ours</code> ‰πüÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰ΩÜÊòØÂÄº‰∏é <code>base</code> ‰∏çÂêåÔºå<code>theris</code> ‰πüÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰ΩÜÊòØÂÄº‰∏é <code>base</code> ‰πü‰∏çÂêåÔºàÊú™ÂøÖ‰∏é <code>ours</code> Áõ∏Âêå/‰∏çÂêåÔºâ</td>\n</tr>\n<tr>\n<td>Conflict</td>\n<td>Delete</td>\n<td>Ë°®Á§∫ <code>base</code> Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå<code>ours</code> ‰πüÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰ΩÜÊòØÂÄº‰∏é <code>base</code> ‰∏çÂêåÔºåËÄå <code>theris</code> Âàô‰∏çÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π</td>\n</tr>\n<tr>\n<td>Delete</td>\n<td>Conflict</td>\n<td>Ë°®Á§∫ <code>base</code> Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå<code>ours</code> ‰∏çÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°πÔºåËÄå <code>theris</code> Â≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰∏îÂÄº‰∏é <code>base</code> ‰∏çÂêå</td>\n</tr>\n<tr>\n<td>Delete</td>\n<td>Delete</td>\n<td>Ë°®Á§∫ base Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå<code>ours</code> Âíå <code>theris</code> Âùá‰∏çÂ≠òÂú®ËØ•ÈÖçÁΩÆÈ°π</td>\n</tr>\n</tbody>\n</table>\n<p>Êàë‰ª¨‰ª•‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰ª£Á†ÅÁ§∫‰æãËØ¥ÊòéÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-merge-code-demo.jpg\" alt=\"‰∏âË∑ØÂêàÂπ∂ÈÖçÁΩÆ‰ª£Á†ÅÁ§∫‰æã\"></p>\n<p>ÁªìÂêà‰∏äÊñáÊèêÂèä‰∫îÁßç‰∏§‰∏§ÊØîÂØπÂ≠òÂú®ÂèòÊõ¥Áä∂ÊÄÅÊó∂ÁöÑÊÉÖÂÜµÔºåÂπ∂ÁªìÂêà‰ª£Á†ÅÁ§∫‰æãÂæóÂá∫‰ª•‰∏ãÁªìËÆ∫Ôºö</p>\n<ul>\n<li><code>color</code> ÂØπÂ∫îÁ¨¨‰∏ÄÁßçÊÉÖÂÜµÔºå<code>base</code> Ê≤°ÊúâËØ•ÈÖçÁΩÆÈ°πÔºåËÄå <code>ours</code> Âíå <code>theirs</code> ÂàôÊúâ</li>\n<li><code>width</code> ÂØπÂ∫îÁ¨¨‰∫åÁßçÊÉÖÂÜµÔºå<code>base</code> ÊúâËØ•ÈÖçÁΩÆÈ°πÔºåËÄå <code>ours</code> Âíå <code>theirs</code> ÂêåÊ†∑ÊúâËØ•ÈÖçÁΩÆÈ°πÔºå‰ΩÜÊòØ <code>ours</code> Âíå <code>theirs</code> ÁöÑÂÄºÂ≠òÂú®Â∑ÆÂºÇ</li>\n<li><code>height</code> ÂêåÊ†∑ÂØπÂ∫îÁ¨¨‰∫åÁßçÊÉÖÂÜµÔºå‰∏é <code>width</code> ÈÖçÁΩÆÈ°π‰∏çÂêåÁöÑÊòØÔºå<code>ours</code> Âíå <code>theirs</code> ÁöÑÂÄº‰∏•Ê†ºÁõ∏Á≠â</li>\n<li><code>translateX</code> ÂØπÂ∫îÁ¨¨‰∏âÁßçÊÉÖÂÜµÔºå<code>base</code> ‰∏é <code>ours</code> ÊúâËØ•ÈÖçÁΩÆÔºå‰∏îÂÄºÂÜ≤Á™ÅÔºåËÄå <code>theirs</code> ÂàôÂà†Èô§‰∫ÜËØ•ÈÖçÁΩÆÈ°π</li>\n<li><code>translateX</code> ÂØπÂ∫îÁ¨¨ÂõõÁßçÊÉÖÂÜµÔºå<code>base</code> ‰∏é <code>theirs</code> ÊúâËØ•ÈÖçÁΩÆÔºå‰∏îÂÄºÂÜ≤Á™ÅÔºåËÄå <code>ours</code> ÂàôÂà†Èô§‰∫ÜËØ•ÈÖçÁΩÆÈ°π</li>\n<li><code>line-height</code> ÂØπÂ∫îÁ¨¨‰∫îÁßçÊÉÖÂÜµÔºå‰ªÖ <code>base</code> Â≠òÂú®ËØ•ÈÖçÁΩÆÈ°πÔºå<code>ours</code> Âíå <code>theirs</code> ÂùáÂà†Èô§‰∫ÜËØ•ÈÖçÁΩÆÈ°π</li>\n</ul>\n<blockquote>\n<p>ËøôÈáåÊèêÂèäÁöÑÊñ∞Â¢ûÊàñÂà†Èô§Â≠óÊÆµÂè™‰∏∫Ë¶ÜÁõñÊõ¥ÂÆåÊï¥ÁöÑÂäüËÉΩÔºåÂÆûÈôÖÁöÑÂèØËßÜÂåñÈÖçÁΩÆ‰∏öÂä°‰∏≠ÔºåÂõ†‰∏∫ÁªÑ‰ª∂ÁöÑÈÖçÁΩÆÈ°πÂü∫Êú¨Âõ∫ÂÆö‰∏îÂùáÊèê‰æõ‰∫ÜÈªòËÆ§ÂÄºÔºåÊâÄ‰ª•Âá∫Áé∞Êñ∞Â¢ûÊàñÂà†Èô§Â≠óÊÆµÁöÑÊÉÖÂÜµËæÉÂ∞ë„ÄÇ</p>\n</blockquote>\n<p>ÊúÄÂêéÂü∫‰∫é <code>base</code> ËøõË°å diff ÂêéÂæóÂá∫Â¶Ç‰∏ã‰∏§‰ªΩ JSON Schema ÁªìÊûÑÂ∑ÆÂºÇÂåñÊï∞ÊçÆÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/diff-between-base-and-ours.jpg\" alt=\"diff-between-base-and-ours\"></p>\n<p><img src=\"https://img.mrsingsing.com/diff-between-base-and-theirs.jpg\" alt=\"diff-between-base-and-theirs\"></p>\n<p>Âü∫‰∫é‰∏âË∑ØÂêàÂπ∂ÁöÑÁ≠ñÁï•ÔºåÂΩì‰∏âË∑ØÂÄºÂùá‰∏çÂêåÊó∂‰ºö‰øùÁïôÂ∑ÆÂºÇËÆ©Áî®Êà∑ÊâãÂä®Ëß£ÂÜ≥ÔºåÂΩìÂèòÊõ¥‰∏§Ë∑ØÂÄºÁõ∏ÂêåÊàñÊñ∞Â¢ûÊó∂Âàô‰øùÁïôÁõ∏ÂêåÂÄºÔºåÊúÄÂêéÂêàÂπ∂ÂêéÂæóÂá∫Êñ∞ÁöÑ JSON Schema ÈÖçÁΩÆÊï∞ÊçÆÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-merge-base-ours-and-theirs.jpeg\" alt=\"Merge base and ours and theirs\"></p>\n<h2 id=\"Revert-ÂäüËÉΩÂÆûÁé∞\"><a href=\"#Revert-ÂäüËÉΩÂÆûÁé∞\" class=\"headerlink\" title=\"Revert ÂäüËÉΩÂÆûÁé∞\"></a>Revert ÂäüËÉΩÂÆûÁé∞</h2><p>ÊúÄÁªàÈÄöËøáËá™Âä®ÂêàÂπ∂ÂíåÊâãÂä®Ëß£ÂÜ≥ÂÜ≤Á™ÅÔºåÂÆåÊï¥ÁöÑÈÖçÁΩÆÊï∞ÊçÆÂ∫îËØ•ÊâÄÊúâËäÇÁÇπÈÉΩË°®Á§∫‰∏∫Áõ∏Á≠âÁä∂ÊÄÅ„ÄÇÈÄöËøáÂØπËøîËøòÁöÑ JSON Schema ÁªìÊûÑÁöÑÊï∞ÊçÆÈÄíÂΩíËøòÂéüÔºåËá™Âä®Êñ∞Âª∫È°µÈù¢Âç≥ÂÆåÊàêÊï¥‰∏™ÊâπÈáèÊõ¥Êñ∞È°µÈù¢ÁöÑÂäüËÉΩ„ÄÇ</p>\n<hr>\n<p><strong>ÂèÇËÄÉËµÑÊñô</strong>Ôºö</p>\n<ul>\n<li><a href=\"https://blog.csdn.net/longintchar/article/details/83049840\" target=\"_blank\" rel=\"noopener\">‰∏âË∑ØÂêàÂπ∂ Git Â≠¶‰π†Á¨îËÆ∞ 17</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>È¶ñÂèë‰∫éÔºö<a href=\"https://juejin.im/post/5dc8fd92f265da4d287f4551\" target=\"_blank\" rel=\"noopener\">ÂèØËßÜÂåñÈÖçÁΩÆÁ≥ªÁªüÈ°µÈù¢ÊâπÈáèÊõ¥Êñ∞Â∑•ÂÖ∑ÁöÑÂºÄÂèëÂÆûË∑µ</a></p>\n</blockquote>\n<p>TotoroX ‰Ωú‰∏∫ PPmoney ÈõÜÂõ¢ÂÜÖÈÉ®ÈõÜ UI Âíå‰∏öÂä°ÈÄªËæë‰∫é‰∏Ä‰ΩìÁöÑÂâçÁ´ØÈ°µÈù¢ÂèØËßÜÂåñÈÖçÁΩÆÁ≥ªÁªüÔºå‰∏∫ËøêËê•ÈÉ®Èó®Êèê‰æõÂø´ÈÄüÊûÑÂª∫ÂâçÁ´ØÈ°µÈù¢ÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇËØ•Á≥ªÁªü‰∏∫È°µÈù¢ÂºÄÂèëÂèäËøêËê•‰∫∫ÂëòÊèê‰æõ‰∫ÜÂº∫Â§ßÁöÑÁªÑ‰ª∂Â∏ÇÂú∫ÔºåÈÄöËøáÊãñÊãΩ„ÄÅË°®ÂçïÈÖçÁΩÆÁ≠âÊñπÂºèÂÆûÁé∞‰∏ìÈ¢òÈ°µÈù¢ÁöÑ‰∏öÂä°ÈúÄÊ±Ç„ÄÇÁõÆÂâçÂ∑≤ÊîØÊíëÈõÜÂõ¢ 850+Ëê•ÈîÄÊ¥ªÂä®È°µÈù¢„ÄÇ</p>\n<h2 id=\"‰∏öÂä°ÁóõÁÇπ\"><a href=\"#‰∏öÂä°ÁóõÁÇπ\" class=\"headerlink\" title=\"‰∏öÂä°ÁóõÁÇπ\"></a>‰∏öÂä°ÁóõÁÇπ</h2><p>Âú®‰∫ßÂìÅËÆæËÆ°Èò∂ÊÆµÔºå‰∫ßÂìÅÁªèÁêÜ‰ºöÊ†πÊçÆÂØπÁî®Êà∑ÁöÑË∞ÉÁ†îÔºåÂÄüÂä©Áî®Êà∑ÁîªÂÉèÁêÜËß£Áî®Êà∑ÁöÑÈúÄÊ±ÇÔºåÊÉ≥ÊÉ≥Áî®Êà∑‰ΩøÁî®ÁöÑÂú∫ÊôØÔºå‰ª•Âèä‰ªñ‰ª¨ÂèØËÉΩ‰ºöÈÅáÂà∞ÁöÑÂõ∞Èöæ„ÄÇÈöèÁùÄ‰∫ßÂìÅ‰∏äÁ∫øÂêéÔºåËøêËê•Âõ¢ÈòüÈÄöËøáËΩ¨ÂåñÊºèÊñóÂàÜÊûêÁî®Êà∑‰∫§‰∫íË°å‰∏∫‰ª•ÂèäÊúÄÁªàÁöÑËΩ¨ÂåñÁöÑÂÆûÈôÖÊïàÊûú„ÄÇÊâÄ‰ª•Ëøô‰∏™Èò∂ÊÆµÔºåÈöèÁùÄÁúüÂÆûÁî®Êà∑Áæ§‰ΩìÁöÑÁßØÁ¥ØÔºåÂú®ËÆæËÆ°Èò∂ÊÆµËôöÊûÑÁöÑÁî®Êà∑ÁîªÂÉèÈúÄË¶ÅÈáçÊñ∞Ë∞ÉÁ†î„ÄÅËÆæÊÉ≥„ÄÇ</p>\n<p>ËÄåÂú®ÊäÄÊúØÁöÑËßíÂ∫¶ÔºåÊàë‰ª¨‰πüÂ∏åÊúõÈÄöËøáÁî®Êà∑Ë°å‰∏∫Êï∞ÊçÆÔºå‰∏∫‰∫ßÂìÅËøêËê•Êèê‰æõÊõ¥Â•ΩÁöÑÊîØÊíëÔºå‰æãÂ¶Ç‰∏∫‰∏çÂêåÁöÑÁî®Êà∑Êèê‰æõ‰∏çÂêå UI ÁöÑÂâçÁ´ØÈ°µÈù¢ÔºåÈÄöËøáÂØπÊØîÁöÑÊñπÊ≥ïËßÇÂØüÊï∞ÊçÆÂèòÂåñÔºå‰ª•Ê≠§‰Ωú‰∏∫ÂØπÁî®Êà∑Ë°å‰∏∫ÁöÑÂáÜÁ°ÆÂà§Êñ≠„ÄÇ</p>\n<p>‰ª•‰∏ãÈù¢ÁöÑËê•ÈîÄÊ¥ªÂä®È°µ‰∏∫‰æãÔºåÊàë‰ª¨‰ºöÂú®Êó¢ÊúâÁöÑÈ°µÈù¢ÈÖçÁΩÆ‰∏≠ÁîüÊàêÊñ∞ÁöÑÈ°µÈù¢ÔºåÂπ∂Ê†πÊçÆËÆæËÆ°Ë¶ÅÊ±ÇËøõË°åÂ±ÄÈÉ®ÁöÑË∞ÉÊï¥ÔºåÈô§‰∫Ü UI ÈÉ®ÂàÜÔºåÂÜÖÈÉ®ÈÄªËæëÂåÖÊã¨ÂüãÁÇπÊï∞ÊçÆ„ÄÅ‰∫ã‰ª∂ÈìæÊù°ÂÖ≥Á≥ªÁ≠â‰πü‰ºöËøõË°åÁõ∏ÂÖ≥ÁöÑ‰øÆÊ≠£„ÄÇÂú®Ê≠§ÈúÄÊ±ÇËÉåÊôØ‰πã‰∏ãÔºåÂ¶ÇÊûúÈúÄË¶Å‰∫∫Â∑•ÊâãÂä®ÂØπÊØè‰∏™ÈÖçÁΩÆÈ°µÈù¢ËøõË°å‰øÆÊîπÔºåËøôÂ∞Ü‰ºöËÄóË¥πÂ§ßÈáèÁöÑ‰∫∫ÂäõËµÑÊ∫ê„ÄÇËÄå‰∏îÔºå‰∏äÊñáÊèêÂà∞‰ºöÊ∂âÂèäÈÄªËæëÁöÑ‰øÆÊîπÔºåÈÖçÁΩÆ‰∫∫Âëò‰∏çÊòìÂèëÁé∞ÂèòÊõ¥ÁöÑÂú∞ÊñπÔºåÊó†Ê≥ïÂØπ‰øÆÊîπÂêéÁöÑÈ°µÈù¢ËøõË°åÊ†°È™å„ÄÇÁªº‰∏äÊâÄËø∞ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏ÄÊ¨æÂØπÊØîÂâçÂêéÂèòÂåñÁöÑÂ∑•ÂÖ∑ÔºåËÉΩÂ§üÂèØËßÜÂåñÂú∞ÂØπ‰∏çÂêåÁöÑÈÖçÁΩÆÊï∞ÊçÆËøõË°åÂØπÊØîÔºåÂπ∂ÈÄöËøáÂõæÂΩ¢ÁªòÂà∂ÁöÑÂΩ¢ÂºèÊ∏ÖÊô∞Áü•ÈÅìÈÖçÁΩÆÊï∞ÊçÆÊ†ë‰∏≠Âì™‰∫õËäÇÁÇπÊ≤°Êúâ‰øÆÊîπÔºåÂì™‰∫õËäÇÁÇπ‰øÆÊîπ‰∫ÜÔºå‰øÆÊîπÂâçÂêéÁöÑÂÄºÂèàÊòØ‰ªÄ‰πàÔºåÂ∞±Â•ΩÂÉèÊàë‰ª¨ËøõË°å‰ª£Á†ÅÂçèÂä©Êó∂ÈÄöËøá <code>git diff</code> ËÉΩÂ§üÁü•ÈÅìÊñá‰ª∂‰∏≠Âì™Ë°å‰ª£Á†ÅÂèëÁîü‰∫ÜÂÜ≤Á™ÅÔºåÈÄöËøá‰∫∫Â∑•Âà§Êñ≠ÂØπÂÜ≤Á™ÅËøõË°å‰øÆÊîπÂêàÂπ∂ÔºåÂπ∂ÊúÄÁªàËææÂà∞Êàë‰ª¨ÈúÄË¶ÅÁöÑÊïàÊûú„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-abtest.jpg\" alt=\"AB Test\"></p>\n<p>TotoroX Âü∫‰∫éÁî®Êà∑ÈÖçÁΩÆÁöÑÊï∞ÊçÆÁªÑË£ÖÁîüÊàêÈ°µÈù¢ÔºåÈÖçÁΩÆÊï∞ÊçÆÂùáÁî±ÁªÑ‰ª∂Â∏ÇÂú∫ÁöÑÁâ©ÊñôÊîØÊíëÔºåÂçï‰∏™ÁªÑ‰ª∂ÁöÑÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÂü∫Êú¨Áõ∏ÂêåÔºåÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÔºöÂîØ‰∏ÄÊ†áËØÜ„ÄÅÁªÑ‰ª∂ÂêçÁß∞„ÄÅÁªÑ‰ª∂Â±ûÊÄß„ÄÅÁªÑ‰ª∂Ê†∑Âºè„ÄÅÁªÑ‰ª∂‰∫ã‰ª∂Èìæ‰ª•ÂèäÂä®ÁîªÁõ∏ÂÖ≥ÈÖçÁΩÆÁ≠â„ÄÇÁªÑ‰ª∂Èó¥Âú®ÈÖçÁΩÆÊï∞ÊçÆÁöÑÈõÜÂêà‰∏≠ÊòØÊâÅÂπ≥ÂåñÁöÑÔºåÈÄöËøáÂêÑÁªÑ‰ª∂ÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ÁöÑÊ†áËØÜÈõÜÂêàÁõ∏‰∫íÂÖ≥ËÅîËµ∑Êù•ÔºåËøôÊ†∑ÁöÑÊï∞ÊçÆÁªìÊûÑËÆæËÆ°ÈÅøÂÖç‰∫ÜÂõ†‰∏∫ÂµåÂ•óÂ±ÇÁ∫ßËøáÊ∑±ËÄå‰∫ßÁîüÁöÑÈóÆÈ¢ò„ÄÇÂü∫‰∫éËøô‰∫õÊù°‰ª∂Ôºå‰∏∫Â§öË∑ØÂ∑ÆÂºÇÂåñÂØπÊØî‰ª•ÂèäÂêàÂπ∂Êèê‰æõ‰∫ÜÂèØËÉΩ„ÄÇ</p>","more":"<h2 id=\"Â∑ÆÂºÇÂåñÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°\"><a href=\"#Â∑ÆÂºÇÂåñÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°\" class=\"headerlink\" title=\"Â∑ÆÂºÇÂåñÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°\"></a>Â∑ÆÂºÇÂåñÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°</h2><p>Âú®ËøõË°åÈÖçÁΩÆÊï∞ÊçÆÁöÑÂØπÊØîÂêàÂπ∂ÂâçÔºåÈúÄË¶ÅËÆæËÆ°Âá∫ËÉΩÂ§üÂáÜÁ°ÆÊèèËø∞Êï∞ÊçÆÂèòÂåñÂâçÂêéÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ</p>\n<p>Âú® TotoroX ‰∏≠ÔºåÈÖçÁΩÆÊï∞ÊçÆÁöÑÁªìÊûÑÊ®°Âºè‰∏é JSON ÁöÑÁªìÊûÑÊ®°Âºè‰∏ÄËá¥ÔºåÂõ†Ê≠§Êï∞ÊçÆÁªìÊûÑÁöÑËÆæËÆ°Â∫î‰ª• JSON ÁöÑÊï∞ÊçÆÁªìÊûÑ‰∏∫Âü∫Á°Ä„ÄÇ</p>\n<p>ËÄåÂú® JSON ‰∏≠ÂÄºÂ≠òÂú®‰ª•‰∏ãÂá†ÁßçÊï∞ÊçÆÁ±ªÂûãÔºö</p>\n<ul>\n<li>null</li>\n<li>Â≠óÁ¨¶‰∏≤</li>\n<li>Â∏ÉÂ∞îÂÄº</li>\n<li>Êï∞ÂÄº</li>\n<li>Êï∞ÁªÑ</li>\n<li>ÂØπË±°</li>\n</ul>\n<p>Âõ†Ê≠§ÔºåÊàë‰ª¨‰∏çÁî®ËÄÉËôëËØ∏Â¶Ç Date„ÄÅFunction„ÄÅSymbol„ÄÅSet Á≠âÊï∞ÊçÆÁ±ªÂûãÁöÑÂÄº„ÄÇ</p>\n<p>ÂêåÊó∂ÔºåÂú®ËÆæÂÆöÁöÑÈÖçÁΩÆÊï∞ÊçÆ‰∏≠‰∏çËÉΩÂ≠òÂú®Á©∫ÂÄº <code>null</code>ÔºåÂ¶ÇÊûúË¶ÅË°®Á§∫‰∏çÂØπÊüêÈÖçÁΩÆÈ°π‰ΩúÈÖçÁΩÆÔºåÂÆûÈôÖ‰∏ä‰ºöÈááÁî®ÈªòËÆ§ÁöÑÈÖçÁΩÆÂ±ûÊÄßÔºåÊâÄ‰ª•Âú®ÂÆûÈôÖÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ÔºåÊòØ‰∏ç‰ºöÂ≠òÂú®Á©∫ÂÄºÂ≠òÂú®ÔºåÂèØ‰ª•ÂøΩÁï•ËøôÁßçÊÉÖÂÜµ„ÄÇ</p>\n<p>ÁªºÂêà‰∏äËø∞Ôºå‰ªéÂ§ßËá¥‰∏äËÉΩÂàÜ‰∏∫‰∏§Â§ßÁ±ªÊï∞ÊçÆÁ±ªÂûãÔºö</p>\n<ul>\n<li>Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÔºöÂ≠óÁ¨¶‰∏≤„ÄÅÂ∏ÉÂ∞îÂÄº„ÄÅÊï∞ÂÄº</li>\n<li>ÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÔºöÊï∞ÁªÑ„ÄÅÂØπË±°</li>\n</ul>\n<p>ÈÇ£‰πàÊàë‰ª¨ÊòØÊÄéÊ†∑ÂéªÊèèËø∞ JSON ÂØπÊØîÂâçÂêéÂèòÊõ¥Áä∂ÊÄÅÂë¢Ôºü</p>\n<p>JSON ÊòØÁõÆÂâçÂ∫îÁî®ÂπøÊ≥õÁöÑÊï∞ÊçÆ‰∫§Êç¢Ê†ºÂºèÔºåÈÇ£‰πà‰∫§Êç¢ÂèåÊñπËÇØÂÆöÈúÄË¶ÅÂØπÊï∞ÊçÆËøõË°åÁ∫¶ÂÆöÂíåÊ†°È™åÔºåËÄå JSON Schema Â∞±ÊòØÊâÆÊºîÂÆö‰πâ JSON Êï∞ÊçÆÁ∫¶ÊùüÁöÑÊ†áÂáÜ„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨Â∞ùËØïÂºïÂÖ• JSON Schema ÁöÑÊ¶ÇÂøµÔºåÂπ∂ÁªìÂêàÂÆûÈôÖÂäüÁî®ËøõË°åÊîπÈÄ†„ÄÇ</p>\n<p>‰º†ÁªüÁöÑ JSON Schema Ë°®Áé∞‰∏∫ËøôÊ†∑Ôºö</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"$schema\"</span>: <span class=\"string\">\"http://json-schema.org/draft-07/schema#\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"$id\"</span>: <span class=\"string\">\"http://example.com/product.schema.json\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"title\"</span>: <span class=\"string\">\"Product\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"A product from Acme's catalog\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"object\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"properties\"</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">\"productId\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"The unique identifier for a product\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"integer\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"productName\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"Name of the product\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"string\"</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"price\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"The price of the product\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"number\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"exclusiveMinimum\"</span>: <span class=\"number\">0</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"tags\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"description\"</span>: <span class=\"string\">\"Tags for the product\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"array\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"items\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"string\"</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">\"minItems\"</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"uniqueItems\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">\"dimensions\"</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"object\"</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"properties\"</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">\"length\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"number\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">\"width\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"number\"</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">\"height\"</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">\"type\"</span>: <span class=\"string\">\"number\"</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">\"required\"</span>: [<span class=\"string\">\"length\"</span>, <span class=\"string\">\"width\"</span>, <span class=\"string\">\"height\"</span>]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"required\"</span>: [<span class=\"string\">\"productId\"</span>, <span class=\"string\">\"productName\"</span>, <span class=\"string\">\"price\"</span>]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>‰ªéÂΩ¢Âºè‰∏äÊù•ËÆ≤ÔºåJSON Schema ËøòÊòØ JSON ÁöÑÊ†ºÂºèÔºå‰ΩÜ‰∏çÂêåÁöÑÊòØÔºåJSON Schema ‰ºöÂú®ÂéüÊù•ÁöÑ JSON Âü∫Á°Ä‰∏äÂú®ÊØè‰∏™Â±ÇÁ∫ßÁöÑÊï∞ÊçÆÂ§ñÂåÖË£Ö‰∫Ü‰∏ÄÂ±ÇÁî®‰ª•ÊèèËø∞ÂØπÂ∫îÂ±ÇÁ∫ßÂÄºÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåÂåÖÊã¨ÂØπÂ∫îÂ±ÇÁ∫ßÁöÑÂÄº„ÄÅÊèèËø∞„ÄÅÊï∞ÊçÆÁ±ªÂûã‰ª•ÂèäÂÖ∂ÂÆÉÈ¢ùÂ§ñÈÖçÁΩÆÁöÑ‰ø°ÊÅØ„ÄÇ</p>\n<p>Âú®ÁªìÊûÑ‰∏äÔºåÊàë‰ª¨Ê≤øÁî®‰∫Ü JSON Schema ÁöÑ‰∏ÄÂ•óÊ†áÂáÜÔºåÂú®Ê∫êÊï∞ÊçÆÂü∫Á°Ä‰∏äÈÄöËøáÈÅçÂéÜÈÄíÂΩíÁöÑÊñπÊ≥ïÂØπÊï∞ÊçÆËøõË°åÊèèËø∞„ÄÇËÄåÂú®ÊèèËø∞ÁöÑ‰ø°ÊÅØ‰∏äÔºåÊàë‰ª¨ÈíàÂØπÂÆûÈôÖÁöÑÂ∫îÁî®Âú∫ÊôØËøõË°å‰∫ÜÂÆöÂà∂„ÄÇ</p>\n<p>ÊèèËø∞‰ø°ÊÅØ‰∏≠ÂøÖ‰∏çÂèØÂ∞ëÁöÑÂ∞±ÊòØÂØπÊï∞ÊçÆÂèòÂåñ‰ø°ÊÅØÁöÑÊèèËø∞ÔºåÊàë‰ª¨ÂèÇËÄÉ‰∫Ü Git ÁÆ°ÁêÜ‰ª£Á†ÅÂèòÊõ¥ÁöÑÁ≠ñÁï•ÔºåÂú®‰∏§‰∏§ÂØπÊØî‰∏ãÔºåÊàë‰ª¨Ê¢≥ÁêÜÂá∫ÂèØËÉΩ‰∫ßÁîüÁöÑÂõõÁßçÂÄºÊØîËæÉÊÉÖÂÜµÔºö</p>\n<ul>\n<li><strong>Áõ∏Á≠âÔºàEqualÔºâ</strong>ÔºöÂΩì‰∏§‰∏™Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄº‰∏•Ê†ºÁõ∏Á≠âÊó∂ÔºåÂàô‰∏∫Áõ∏Á≠âÁä∂ÊÄÅÔºõËÄåÂØπ‰∫éÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÔºåÈúÄË¶ÅÊèê‰æõÈ¢ùÂ§ñÁöÑÊâãÊÆµËøõË°åÂåπÈÖç</li>\n<li><strong>Êñ∞Â¢ûÔºàAddÔºâ</strong>ÔºöÂΩìÂØπË±°Èó¥ÂØπÊØîÊó∂ÔºåÁõÆÊ†áÂØπË±°Â≠òÂú®Êñ∞Â¢ûÁöÑÈîÆÊó∂ÔºåÊèèËø∞ËØ•ÈîÆÂÄº‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅÔºõÂêåÁêÜÔºåÂΩìÊï∞ÁªÑ‰∏≠Êó†ÂØπÂ∫îÁöÑÂåπÈÖçÈ°πÊó∂ÔºåÂàô‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅ</li>\n<li><strong>Âà†Èô§ÔºàDeleteÔºâ</strong>Ôºö‰∏éÊñ∞Â¢ûÁä∂ÊÄÅÁ±ª‰ººÔºåÂΩìÂØπË±°Èó¥ÂØπÊØîÊó∂ÔºåÁõÆÊ†áÂØπË±°Â≠òÂú®Âà†Èô§ÁöÑÈîÆÊó∂ÔºåÊèèËø∞ËØ•ÈîÆÂÄº‰∏∫Âà†Èô§Áä∂ÊÄÅÔºåËÄåÊï∞ÁªÑ‰∏≠ÂØπÂ∫îÁöÑÂåπÈÖçÈ°π‰∏çÂ≠òÂú®Êó∂ÔºåÂàô‰∏∫Âà†Èô§Áä∂ÊÄÅ</li>\n<li><strong>ÂÜ≤Á™ÅÔºàConflictÔºâ</strong>ÔºöÂΩì‰∏§‰∏™Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄº‰∏ç‰∏•Ê†ºÁõ∏Á≠âÊó∂ÔºåÂàô‰∏∫ÂÜ≤Á™ÅÁä∂ÊÄÅ</li>\n</ul>\n<p>‰∏æ‰∏™‰æãÂ≠êÔºåÂ¶Ç‰∏ã‰∏∫‰∏§‰∏™‰∏™‰ªÖÊúâ‰∏Ä‰∏™ÊåâÈíÆÁªÑ‰ª∂ÁöÑÈÖçÁΩÆÈ°µÊï∞ÊçÆÈõÜÂêàÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-data-structure-comparation-.jpg\" alt=\"‰øÆÊîπÂâçÂêéÁöÑÈÖçÁΩÆÊï∞ÊçÆ\"></p>\n<p>ÈÄöËøá diff ÂêéÈ¢ÑËÆæËÉΩ‰∫ßÁîüÁöÑÊï∞ÊçÆÁªìÊûÑÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-result-data-structure.jpg\" alt=\"ÂØπÊØîÂêé‰∫ßÁîüÁöÑÊï∞ÊçÆÁªìÊûÑ\"></p>\n<p>Êàë‰ª¨ÂØπÊèèËø∞ÂèòÂåñÁöÑÊï∞ÊçÆÁªìÊûÑËøõË°å‰∫ÜÁ∫¶ÂÆöÔºö</p>\n<ul>\n<li>ÂØπË±°Á±ªÂûãÂíåÊï∞ÁªÑÁ±ªÂûãÁöÑÂÄº‰ΩøÁî® <code>_properties</code> Â≠óÊÆµÊèèËø∞ÔºåÂØπÂ∫îÂÄºË¢´Ê∫êÊï∞ÊçÆÂØπÂ∫îÁöÑÊï∞ÊçÆÁ±ªÂûãÂåÖË£π</li>\n<li>Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÁöÑÂÄºÊ†πÊçÆÂÖ∑‰ΩìÂÄºÁöÑÁä∂ÊÄÅ <code>_status</code> ÂÜ≥ÂÆöÂ±ïÁ§∫ÁöÑÂ≠óÊÆµ<ul>\n<li>Áõ∏Á≠âÔºàEqualÔºâÔºö‰ΩøÁî® <code>_origin</code> Ë°®Á§∫ÂÄº</li>\n<li>Êñ∞Â¢ûÔºàAddÔºâÔºö‰ΩøÁî® <code>_target</code> Ë°®Á§∫Êñ∞Â¢ûÁöÑÂÄº</li>\n<li>Âà†Èô§ÔºàDeleteÔºâÔºö‰ΩøÁî® <code>_origin</code> Ë°®Á§∫Âà†Èô§ÁöÑÂÄº</li>\n<li>ÂÜ≤Á™ÅÔºàConflictÔºâÔºö‰ΩøÁî® <code>_orign</code> Ë°®Á§∫Êõ¥ÊîπÂâçÁöÑÂÄºÔºå<code>_target</code> Ë°®Á§∫Êõ¥ÊîπÂêéÁöÑÂÄº</li>\n</ul>\n</li>\n</ul>\n<p>‰Ω†‰πüËÆ∏‰ºöÂèëÁé∞Âç≥‰æøÊòØÂØπË±°Á±ªÂûãÂíåÊï∞ÁªÑÁ±ªÂûãÔºå‰πü‰ºöÊúâ <code>_status</code> Â≠óÊÆµÊèèËø∞Êõ¥ÊîπÁä∂ÊÄÅ„ÄÇËøôÊòØÂõ†‰∏∫Êàë‰ª¨Âú®‰∫§‰∫íÁïåÈù¢‰∏äÈááÂèñ‰∫Ü<strong>Ëá™Â∫ïÂêë‰∏ä</strong>ÁöÑÁä∂ÊÄÅÂèòÊõ¥ÊòæÁ§∫Á≠ñÁï•„ÄÇ‰æãÂ¶ÇÔºåÂΩì‰∏Ä‰∏™ÁªÑ‰ª∂ÈÖçÁΩÆÊï∞ÊçÆÂ§ßÈÉ®ÂàÜ‰øùÊåÅ‰∏çÂèòÁöÑÊÉÖÂÜµ‰∏ãÔºåÊ†∑ÂºèÈÖçÁΩÆÂ≠óÊÆµ <code>style</code> ‰∏≠ÁöÑ <code>height</code> ÈÖçÁΩÆÈ°πÊîπÂèò‰∫ÜÂÄºÔºåÈÇ£‰πàÈô§‰∫ÜÊèèËø∞ËØ•Â≠óÊÆµÁöÑ Schema ÁªìÊûÑ‰∏≠Áä∂ÊÄÅÂ≠óÊÆµ <code>_status</code> ‰ºöÊòæÁ§∫‰∏∫ÂÜ≤Á™ÅÔºàConflictÔºâÂ§ñÔºåÂú®ÈÄíÂΩíËøîÂõûÁöÑËøáÁ®ã‰∏≠Ôºå‰∫¶‰ºöÂ∞ÜÂ±ÇÁ∫ßÊõ¥È´òÁöÑÂØπË±°ÊàñÊï∞ÁªÑÁä∂ÊÄÅÊ†áËÆ∞‰∏∫ÂÜ≤Á™ÅÔºàConflictÔºâ„ÄÇ</p>\n<blockquote>\n<p>ÈúÄË¶ÅÁâπÂà´ËØ¥ÊòéÁöÑÊòØÔºåÂ¶ÇÊûú‰∏ãÂ±ÇÁªìÊûÑ‰ªÖÊúâ‰∏ÄÁßçÂèòÂåñÁä∂ÊÄÅÊó∂Ôºå‰∏äÂ±ÇÁªìÊûÑ‰ºöÊòæÁ§∫ËØ•ÂèòÂåñÁä∂ÊÄÅÔºåËÄå‰∏ãÂ±ÇÁªìÊûÑÂ≠òÂú®‰∏çÂè™‰∏ÄÁßçÂèòÂåñÁä∂ÊÄÅÊó∂ÔºåÂàô‰∏äÂ±Ç‰ºöÁªü‰∏ÄË°®Á§∫‰∏∫ÂÜ≤Á™ÅÁä∂ÊÄÅ„ÄÇ</p>\n</blockquote>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-status-display-tatics.jpg\" alt=\"Áä∂ÊÄÅËá™Â∫ïÂêë‰∏ä‰º†ÈÄíÊòæÁ§∫Á≠ñÁï•\"></p>\n<p>ËøôÊ†∑Â§ÑÁêÜÁöÑÁõÆÁöÑÔºåÊòØ‰∏∫‰∫ÜÊ†ëÁªìÊûÑÂú®ÂèØËßÜÂåñËßÜÂõæÁªÑË£ÖÊ∏≤ÊüìÂêéËÉΩÂ§üÊõ¥Ê∏ÖÊô∞Âú∞ËÆ©ÈÖçÁΩÆ‰∫∫ÂëòÁü•ÈÅìÂêÑËäÇÁÇπÁöÑÁä∂ÊÄÅ„ÄÇÊ†ëÁä∂ÁöÑÂõæÂΩ¢ËÉΩÂ§üËÆ©ÂºÄÂèë‰∫∫ÂëòÂø´ÈÄüÁü•ÈÅìÂì™‰∫õÁªÑ‰ª∂ÈÖçÁΩÆÈ°πÂèëÁîü‰∫ÜÂèòÊõ¥ÔºåÂπ∂ËÉΩÊ≤øÁùÄË∑ØÂæÑÊâæÂà∞ÂèòÂåñÁöÑÊ†πÊ∫ê„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-path-to-root.jpg\" alt=\"ÂèØËßÜÂåñÂÜ≤Á™ÅËß£ÂÜ≥ÁïåÈù¢\"></p>\n<h2 id=\"Diff-ÂäüËÉΩÂÆûÁé∞\"><a href=\"#Diff-ÂäüËÉΩÂÆûÁé∞\" class=\"headerlink\" title=\"Diff ÂäüËÉΩÂÆûÁé∞\"></a>Diff ÂäüËÉΩÂÆûÁé∞</h2><p>Á∫¶ÂÆöÂ•ΩÂØπÊØîÂêéÁöÑÊï∞ÊçÆÁªìÊûÑÂêéÔºåÈÇ£‰πàÂ∞±Ë¶ÅÈÄöËøáÊñπÊ≥ïÂ∞ÅË£ÖÂØπÂèòÂåñÂâçÂêéÁöÑÈ°µÈù¢ÈÖçÁΩÆÊï∞ÊçÆËøõË°åÊØîËæÉ„ÄÇ</p>\n<p>Âú®ÂÆûÁé∞ diff ÊñπÊ≥ïÂâçÔºåÂ∞±ËÆæÊÉ≥ÂÆûÁé∞ÁöÑÊñπÊ≥ïÂ∫îËØ•ËÉΩ‰øùËØÅÂú®‰∏çÂêåÁöÑÈÖçÁΩÆÊï∞ÊçÆÁªìÊûÑ‰∏ã‰πüËÉΩ‰ΩøÁî®„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂÆûÁé∞ËøáÁ®ãÈúÄË¶ÅËÑ±Á¶ª‰∏öÂä°Áõ∏ÂÖ≥ÁöÑ‰ª£Á†ÅÔºåÂ∞ΩÂèØËÉΩ‰øùËØÅÊñπÊ≥ïÈÄöÁî®ÊÄß„ÄÇ</p>\n<p>ËÄåÂú®ÂÆûÁé∞ËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ÈÅáÂà∞ÁöÑÂÖ∂‰∏≠‰∏Ä‰∏™ÈóÆÈ¢òÂ∞±ÊòØÂΩìÂØπÊØîÂèåÊñπÁöÑÊï∞ÁªÑÁ±ªÂûã‰∏îÂÖ∂Êï∞ÁªÑÊàêÂëò‰∏∫ÂØπË±°Á±ªÂûãÊó∂ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏∫Ê≠§Á±ªÊÉÖÂÜµÊèê‰æõÁî®‰∫éÂåπÈÖçÁöÑÊñπÊ≥ï„ÄÇ</p>\n<p>Êàë‰ª¨‰ª• TotoroX ÁöÑÈÖçÁΩÆ‰∏∫‰æãÊù•Ëß£Èáä‰∏∫‰ªÄ‰πàÈúÄË¶Å‰∏∫Êï∞ÁªÑÁªìÊûÑÁöÑÊØîËæÉÊèê‰æõÂåπÈÖçÊñπÊ≥ï„ÄÇ‰æãÂ¶Ç TotoroX ÁöÑÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ <code>eventList</code> Â≠óÊÆµË°®Á§∫ÁªÑ‰ª∂Áõ∏ÂÖ≥ÁöÑ‰∫ã‰ª∂ÂàóË°®ÔºåÊØè‰∏™‰∫ã‰ª∂ÔºàÂØπË±°Ôºâ‰πãÈó¥ÁöÑ <code>name</code> Â≠óÊÆµÊòØÂîØ‰∏ÄÁöÑÔºåÂõ†Ê≠§Êàë‰ª¨Âú®ÂØπÊØî <code>eventList</code> Êï∞ÁªÑÊó∂ÔºåÈúÄË¶ÅÊòéÁ°ÆÂØπË±°Êï∞ÁªÑ‰∏≠ÂêÑÊàêÂëòÁöÑ <code>name</code> ÈîÆÂÄº‰∏∫‰∏•Ê†ºÁõ∏Á≠âÔºåÊâçËÉΩÂØπÂèåÊñπËøõË°åÂêéÁª≠ÁöÑ diff„ÄÇËÄåÂÆûÈôÖ‰∏äÔºåÂπ∂ÈùûÊâÄÊúâÂØπË±°Êï∞ÁªÑÈÉΩÈÄöËøá <code>name</code> Â≠óÊÆµËøõË°åÂåπÈÖçÔºåÂ∞ÜÁ±ª‰ººÁöÑ‰ª£Á†ÅÂèÇÊùÇÂà∞ÈÄöÁî®Á±ªÂûãÊñπÊ≥ï‰∏≠ÊòæÁÑ∂ÊòØ‰∏çÊÅ∞ÂΩìÁöÑ„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨ÈúÄË¶ÅÊèêÈ´òÁ±ªÂ∫ìÁöÑÂèØÊãìÂ±ïÊÄßÔºåÂ∞ÜÁî®‰∫éÂØπË±°Êï∞ÁªÑÂåπÈÖçÁöÑÊñπÊ≥ïÊäΩÁ¶ªÔºåÂπ∂ÈÄöËøáÈÖçÁΩÆÁöÑÂΩ¢ÂºèÊ§çÂÖ•„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-button-data.jpeg\" alt=\"ButtonÁªÑ‰ª∂ÈÖçÁΩÆ\"></p>\n<h3 id=\"Êï∞ÁªÑËæÖÂä©ÊñπÊ≥ï\"><a href=\"#Êï∞ÁªÑËæÖÂä©ÊñπÊ≥ï\" class=\"headerlink\" title=\"Êï∞ÁªÑËæÖÂä©ÊñπÊ≥ï\"></a>Êï∞ÁªÑËæÖÂä©ÊñπÊ≥ï</h3><p>ÂØπË±°Êï∞ÁªÑÈó¥ÁöÑÂåπÈÖçÁ≠õÈÄâÂú®ÂÆûÁé∞‰∏≠Â∫îÁî®ÁöÑÂú∫ÊôØÊòØËæÉÂ§öÁöÑÔºåÂõ†Ê≠§Êàë‰ª¨Â∞ÅË£Ö‰∫Ü‰∏ÄÁ≥ªÂàóÁöÑËæÖÂä©ÊñπÊ≥ïÂáèÂ∞ëÈáçÂ§çÁöÑ‰ª£Á†ÅÔºåÂåÖÊã¨Ôºö</p>\n<p><strong>Êï∞ÁªÑÂ∑ÆÈõÜÂáΩÊï∞</strong></p>\n<p>ÈÄöËøáÊï∞ÁªÑÊàêÂëòÈó¥ÈÄê‰∏ÄÂØπÊØîÔºåÁ≠õÈÄâÂá∫‰∏§Êï∞ÁªÑ‰∏≠ÊâÄÊúâÊàêÂëòÁöÑÂ∑ÆÈõÜÈõÜÂêàÂπ∂ËøîÂõûÔºà‰ªÖÈôê‰∫éÊï∞ÁªÑÊàêÂëò‰∏∫Âü∫Êú¨Á±ªÂûãÂÄºÔºâ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getDifference</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> [...new <span class=\"built_in\">Set</span>(a.filter(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> !<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(b).has(x)))];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂäüËÉΩÂêå‰∏äÔºåÂΩìÂØπË±°Êï∞ÁªÑÊàêÂëò‰∏∫ÂØπË±°Á±ªÂûãÊó∂‰ΩøÁî®ÔºåÈúÄË¶ÅÊèê‰æõÁî®‰∫éÂåπÈÖçÁöÑÊØîËæÉÂô®ÂáΩÊï∞ÔºåËøîÂõûÁªìÊûúÂè™‰øùÁïô‰ª•ÂèÇÊï∞ <code>a</code> ‰º†ÂÖ•ÁöÑÊï∞ÁªÑÁöÑÊàêÂëòÈ°π</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getDifferenceWith</span>(<span class=\"params\">a, b, comparator = (x, y</span>) =&gt; <span class=\"title\">x</span> === <span class=\"title\">y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> a.filter(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> b.findIndex(<span class=\"function\"><span class=\"params\">y</span> =&gt;</span> comparator(x, y)) === <span class=\"number\">-1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>Êï∞ÁªÑ‰∫§ÈõÜÂáΩÊï∞</strong></p>\n<p>ÈÄöËøáÊï∞ÁªÑÊàêÂëòÈó¥ÈÄê‰∏ÄÂØπÊØîÔºåÁ≠õÈÄâÂá∫‰∏§Êï∞ÁªÑ‰∏≠ÊâÄÊúâÊàêÂëòÁöÑ‰∫§ÈõÜÈõÜÂêàÂπ∂ËøîÂõûÔºà‰ªÖÈôê‰∫éÊï∞ÁªÑÊàêÂëò‰∏∫Âü∫Êú¨Á±ªÂûãÂÄºÔºâ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getIntersection</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> [...new <span class=\"built_in\">Set</span>(a.filter(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>(b).has(x)))];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂäüËÉΩÂêå‰∏äÔºåÂΩìÂØπË±°Êï∞ÁªÑÊàêÂëò‰∏∫ÂØπË±°Á±ªÂûãÊó∂‰ΩøÁî®ÔºåÈúÄË¶ÅÊèê‰æõÁî®‰∫éÂåπÈÖçÁöÑÊØîËæÉÂô®ÂáΩÊï∞ÔºåËøîÂõûÁªìÊûúÂè™‰øùÁïô‰ª•ÂèÇÊï∞ <code>a</code> ‰º†ÂÖ•ÁöÑÊï∞ÁªÑÁöÑÁöÑÊàêÂëòÈ°π</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getIntersectionWith</span>(<span class=\"params\">a, b, comparator = (x, y</span>) =&gt; <span class=\"title\">x</span> === <span class=\"title\">y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> a.filter(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> b.findIndex(<span class=\"function\"><span class=\"params\">y</span> =&gt;</span> comparator(x, y)) !== <span class=\"number\">-1</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>Êï∞ÁªÑÂπ∂ÈõÜÂáΩÊï∞</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getUnionWith</span>(<span class=\"params\">a, b, comparator = (x, y</span>) =&gt; <span class=\"title\">x</span> === <span class=\"title\">y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"built_in\">Array</span>.from(<span class=\"keyword\">new</span> <span class=\"built_in\">Set</span>([...a, ...b.filter(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> a.findIndex(<span class=\"function\"><span class=\"params\">y</span> =&gt;</span> comparator(x, y)) === <span class=\"number\">-1</span>)]));</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>Êï∞ÁªÑÂéªÈáçÂáΩÊï∞</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getDedupeBy</span>(<span class=\"params\">arr, comparator = (x, y</span>) =&gt; <span class=\"title\">x</span> === <span class=\"title\">y</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> arr.reduce(<span class=\"function\">(<span class=\"params\">acc, v</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!acc.some(<span class=\"function\"><span class=\"params\">x</span> =&gt;</span> comparator(v, x))) &#123;</span><br><span class=\"line\">      acc.push(v);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> acc;</span><br><span class=\"line\">  &#125;, []);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂèØ‰ª•ÁïôÊÑèÂà∞Ôºå‰∏äËø∞ËæÖÂä©ÂáΩÊï∞Èô§‰∫ÜÁî®‰∫éÂåπÈÖçÁöÑ‰∏§‰∏™Êï∞ÁªÑÁ±ªÂûãÁöÑÂèÇÊï∞Â§ñÔºåËøòÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™ <code>comparator</code> ÁöÑÂèÇÊï∞„ÄÇ<code>comparator</code> ÊÑè‰∏∫ÊØîËæÉÂô®ÔºåÁ±ªÂûã‰∏∫ÂáΩÊï∞Á±ªÂûãÔºåÁî®‰∫éÂ∞ÅË£ÖÊñπÊ≥ïÂÜÖÈÉ® <code>filter</code> ÂáΩÊï∞ÂØπÂ∫îÁöÑÂõûË∞ÉÂáΩÊï∞Ôºå‰ªéËÄåÁ≠õÈÄâÂá∫Áî®‰ª•ÂåπÈÖçÊï∞ÁªÑÁöÑÂØπË±°ÊàêÂëò„ÄÇÂ¶ÇÔºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> comparator = <span class=\"function\">(<span class=\"params\">x, y</span>) =&gt;</span> x.id === y.id;</span><br></pre></td></tr></table></figure>\n<p>Ë°®Á§∫‰∏∫ <code>x</code> ÂØπË±°ÁöÑ <code>id</code> Â≠óÊÆµ‰∏é <code>y</code> ÂØπË±°ÁöÑ <code>id</code> Â≠óÊÆµÂÆåÂÖ®Áõ∏Á≠âÊó∂ÔºåË°®Á§∫ <code>x</code> ÂØπË±°Âíå <code>y</code> ÂØπË±°‰∏∫ÂåπÈÖçÁöÑÂèåÊñπ„ÄÇ</p>\n<p>ÈÄöËøáËøôÊ†∑ÁöÑÂΩ¢ÂºèÔºåÊàë‰ª¨ËÉΩÂ§üÂ∞ÜÈÖçÁΩÆ‰∏≠Êï∞ÁªÑÂΩ¢ÂºèÂ≠òÂú®ÁöÑÈÖçÁΩÆÈ°πÁöÑÂåπÈÖçÂ≠óÊÆµ‰ª• <code>comparator</code> ÁöÑÂΩ¢ÂºèÈÖçÁΩÆÊ§çÂÖ•ÔºåËÄå‰∏çÂøÖÂú®ÂÆûÁé∞ÁöÑ‰ª£Á†Å‰∏≠Ê§çÂÖ•‰∏öÂä°Áõ∏ÂÖ≥ÁöÑ‰ª£Á†Å„ÄÇÂΩìÁÑ∂Ôºå‰ªÖ‰ªÖÂ¶ÇÊ≠§Âπ∂‰∏çÂ§üÁöÑÔºåÂõ†‰∏∫ËøòÊó†Ê≥ïËß£ÂÜ≥Âà∞Â∫ïÈÖçÁΩÆÁªìÊûÑ‰∏≠Âà∞Â∫ïÂì™‰∏™Â±ÇÁ∫ßÊòØÊï∞ÁªÑÁ±ªÂûãÁöÑÂÄºÔºå‰∏ãÈù¢‰ºöËØ¶ÁªÜËß£ÊûêÂ¶Ç‰ΩïËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ</p>\n<h3 id=\"Â∑ÆÂºÇÂåñÊµÅÁ®ãÂÆûÁé∞\"><a href=\"#Â∑ÆÂºÇÂåñÊµÅÁ®ãÂÆûÁé∞\" class=\"headerlink\" title=\"Â∑ÆÂºÇÂåñÊµÅÁ®ãÂÆûÁé∞\"></a>Â∑ÆÂºÇÂåñÊµÅÁ®ãÂÆûÁé∞</h3><p>Ê†πÊçÆ JSON ÁöÑ‰∏çÂêåÁ±ªÂûãÁöÑÂ§ÑÁêÜÊñπÂºèÁöÑ‰∏çÂêåÔºåÊàë‰ª¨ÂÆûÁé∞‰∫Ü‰∏â‰∏™ÊñπÊ≥ïÔºö</p>\n<ul>\n<li><code>diffObject</code>ÔºöÁî®‰∫éÂØπË±°Á±ªÂûãÂÄº‰πãÈó¥ÁöÑÂØπÊØîÊñπÊ≥ïÔºåÈÄöËøá <code>Object.keys</code> Ëé∑ÂèñÂêÑËá™ÂØπË±°ÁöÑÈîÆÂêçÈõÜÂêàÔºåÈÖçÂêàÊï∞ÁªÑÂ∑ÆÈõÜÂáΩÊï∞ÂíåÊï∞ÁªÑ‰∫§ÈõÜÂáΩÊï∞ÔºåÂèØ‰ª•Á≠õÈÄâÂá∫Êñ∞ÂØπË±°‰∏≠Êñ∞Â¢ûÁöÑÂ≠óÊÆµÈõÜÂêà„ÄÅÊóßÂØπË±°‰∏≠Âà†Èô§ÁöÑÂ≠óÊÆµÈõÜÂêà‰ª•ÂèäÊñ∞ÂØπË±°ÂíåÊóßÂØπË±°ÂÖ±ÊúâÁöÑÂ≠óÊÆµÈõÜÂêà</li>\n<li><code>diffArray</code>ÔºöÁî®‰∫éÊï∞ÁªÑÁ±ªÂûãÂÄº‰πãÈó¥ÁöÑÂØπÊØîÊñπÊ≥ïÔºåÈÄöËøá <code>comparator</code> ÊØîËæÉÂáΩÊï∞ÂÖ•ÂèÇÔºåÂêåÊ†∑Âà©Áî®Â∑ÆÈõÜÂáΩÊï∞Âíå‰∫§ÈõÜÂáΩÊï∞ÔºåÂàÜÂà´Á≠õÈÄâÂá∫Êñ∞Êï∞ÁªÑ‰∏≠Êñ∞Â¢ûÁöÑÊï∞ÁªÑÊàêÂëò„ÄÅÊóßÊï∞ÁªÑ‰∏≠Âà†Èô§ÁöÑÊï∞ÁªÑÊàêÂëò‰ª•ÂèäÂêÑËá™Êï∞ÁªÑ‰∏≠ÂÖ±ÊúâÁöÑÊï∞ÁªÑÊàêÂëò</li>\n<li><code>diffValue</code>ÔºöÁî®‰∫éÂü∫Êú¨Êï∞ÊçÆÁ±ªÂûãÂÄºÁöÑÂØπÊØîÊñπÊ≥ïÔºåÈááÁî®‰∏•Ê†ºÁõ∏Á≠âÁöÑÂØπÊØîÊñπÂºèÔºåËã•Áõ∏Á≠âÂàô‰∏∫Áõ∏Á≠âÔºàEqualÔºâÁä∂ÊÄÅÔºåÂê¶Âàô‰∏∫ÂÜ≤Á™ÅÁä∂ÊÄÅÔºàConflictÔºâ</li>\n</ul>\n<p>ÂºïÁî®Á±ªÂûãÁöÑÂÄºÊØîËæÉÔºà‰πüÂ∞±ÊòØ <code>diffObject</code> Âíå <code>diffArray</code>ÔºâÂú®ÂåπÈÖçÂà∞ÈîÆÂÄºÊàñÊï∞ÁªÑÊàêÂëòÊó∂Ôºå‰ºöÂà©Áî®Ë∞ÉÂíåÂáΩÊï∞‰Ωú‰∏∫ÂåπÈÖçË∑≥ÊùøÔºåÊ†πÊçÆ‰º†ÂÖ•Êï∞ÊçÆÊ∫êÁ±ªÂûã‰∏çÂêåÁªßÁª≠ÂØπ‰∏ãÂ±ÇÁªìÊûÑÁöÑÂÄºÈÄíÂΩíÊâßË°å‰∏äËø∞‰∏âÁßç‰∏çÂêåÊï∞ÊçÆÁ±ªÂûãÁöÑÊñπÊ≥ï„ÄÇ</p>\n<p>ËÄåÊóßÂØπË±°/ÊóßÊï∞ÁªÑ‰∏≠Âà†Èô§ÁöÑÂÄºÊàñÊñ∞ÂØπË±°/Êñ∞Êï∞ÁªÑ‰∏≠Êñ∞Â¢ûÁöÑÂÄºÔºåÂàô‰∏ç‰ºöÂÜçËøõË°åÊ∑±Â±ÇÊ¨°ÁöÑÈÄíÂΩíÔºå‰ºöÁõ¥Êé•ÊäïÊîæÂà∞Âè¶‰∏Ä‰∏™Â§ÑÁêÜÊñπÊ≥ï <code>getRecursion</code> ‰∏≠ÈÄíÂΩí‰øÆÊîπ‰∏ãÂ±ÇÁªìÊûÑ‰∏≠ÁöÑÂèòÂåñÁä∂ÊÄÅ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-workflow.jpg\" alt=\"diffÁªìÊûÑÊµÅÁ®ãÂõæ\"></p>\n<p>ÂØπË±°Á±ªÂûãÂÄº‰πãÈó¥ÁöÑÊØîËæÉÔºåÊàë‰ª¨‰ºö‰ΩøÁî® <code>Object.keys()</code> ÊñπÊ≥ïÂàÜÂà´Ëé∑Âèñ‰∏§‰∏™ÂØπÊØîÂØπË±°ÁöÑÈîÆÂêçÔºåÂπ∂ÈÄöËøáÊï∞ÁªÑËæÖÂä©ÊñπÊ≥ïÊãÜÂàÜ‰∏∫‰∏âÁªÑÔºöÂÖ±ÂêåÊã•ÊúâÁöÑÈîÆÂêçÁöÑÈõÜÂêà„ÄÅ‰ªÖÊúâ <code>origin</code> ÂØπË±°ÔºàÁêÜËß£‰∏∫ÂèòÂåñÂâçÁöÑÈÖçÁΩÆÂØπË±°ÔºâÊã•ÊúâÁöÑÈîÆÂêçÁöÑÈõÜÂêàÂíå <code>target</code> ÂØπË±°ÔºàÁêÜËß£‰∏∫ÂèòÂåñÂêéÁöÑÈÖçÁΩÆÂØπË±°ÔºâÊã•ÊúâÁöÑÈîÆÂêçÈõÜÂêà„ÄÇ</p>\n<p>Áî±Ê≠§ÂèØÂæóÔºåÂÖ±ÂêåÊã•ÊúâÁöÑÈîÆÂêçÈõÜÂêàÈúÄË¶ÅÈÄöËøáÊØîËæÉÂæóÂá∫ÂèòÂåñÁä∂ÊÄÅ„ÄÇËÄå <code>origin</code> ÂØπË±°Êã•ÊúâÁöÑÈîÆÂêçÔºåÂàôË°®Á§∫ <code>target</code> ÂØπË±°Ê≤°ÊúâÔºå‰πüÂ∞±ÊòØ <code>origin</code> ÂØπË±°ÈõÜÂêà‰∏≠ÁöÑÈîÆÂÄºË¢´Âà†Èô§‰∫ÜÔºå‰ºöË¢´Ê†áËÆ∞‰∏∫Âà†Èô§Áä∂ÊÄÅ„ÄÇÁõ∏‰ººÂú∞Ôºå‰ªÖ <code>target</code> ÂØπË±°Êã•ÊúâÁöÑÈîÆÂêçË°®Á§∫ <code>origin</code> Ê≤°ÊúâËØ•ÈîÆÂêçÔºåÂàô <code>target</code> ÁöÑÈîÆÂÄº‰∏∫Êñ∞Â¢ûÈÖçÁΩÆÈ°πÔºå‰ºöË¢´Ê†áËÆ∞‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅ„ÄÇ</p>\n<p>ÂàöÊâçÊèêÂà∞ÂØπË±°Êï∞ÁªÑÁ±ªÂûã‰πãÈó¥ÈúÄË¶ÅÈÄöËøáÊØîËæÉÂô®ÂáΩÊï∞ <code>comparator</code> Áî®‰∫éÂåπÈÖçÔºå‰ΩÜÊòØÈúÄË¶ÅÊèê‰æõ‰∏ÄÁßçËÆ©ËøêË°åÊú∫Âà∂Áü•ÈÅì‰ªÄ‰πàÊ†∑ÁöÑÊï∞ÁªÑÂØπÊØîÈúÄË¶ÅÁî®ÊÄéÊ†∑ÁöÑ <code>comparator</code>„ÄÇÂú®ËøêË°å diff ÂâçÔºåÊàë‰ª¨ÈÄöËøá‰ª•ÈÄíÂΩíË∑ØÂæÑ‰∏∫ÈîÆÂêçÔºå‰ª• <code>comparator</code> ‰∏∫ÈîÆÂÄºÁªÑÊàêÁöÑÈÖçÁΩÆÂØπË±°‰º†ÂÖ• <code>diff</code> ÂáΩÊï∞„ÄÇ</p>\n<p>Âú®Âêë‰∏ãÈÄíÂΩíËøõË°åÈÖçÁΩÆÈ°πÊØîËæÉÊó∂ÔºåÈÅáÂà∞ÂØπË±°Á±ªÂûãÁöÑÂÄºÔºå‰ºöÂ∞ÜÈîÆÂêç‰º†ÂÖ•Ë∞ÉÂíåÂáΩÊï∞„ÄÇÂú®ÂáΩÊï∞ÂÜÖÈÉ®Ôºå‰ºöË¢´Êé®ÂÖ•‰∏Ä‰∏™Â∑≤Â£∞ÊòéÁöÑÈù¢ÂåÖÂ±ëÊ†àÔºà‰πüÁß∞‰∏∫ÈÄíÂΩíË∑ØÂæÑÔºå‰ª•Êï∞ÁªÑÂΩ¢ÂºèË°®Á§∫ÔºâÔºåÂΩìËøîÂõûÂÄºÊó∂ÔºåÂèà‰ºöÈÄÄÊ†à„ÄÇÂΩìÊ£ÄÊü•Âà∞‰∏ãÂ±ÇÁªìÊûÑ‰∏∫Êï∞ÁªÑÁ±ªÂûãÊó∂Ôºå‰ºöÈÄöËøá <code>Array.prototype.join()</code> ÊñπÊ≥ïÂ∞ÜÈù¢ÂåÖÂ±ëÊ†à‰∏≠ÁöÑÂÄºÂêàÊàêÈîÆÂêçË∑ØÂæÑÔºåÂåπÈÖçÂ§ñÈÉ®‰º†ÂÖ•ÁöÑÊØîËæÉÂô®ÈÖçÁΩÆÂêéÔºåÂ∞Ü‰∏ãÂ±ÇÊï∞ÁªÑÁªìÊûÑÂåπÈÖçÊâÄÈúÄÁöÑ <code>comparator</code> ‰º†ÂÖ• <code>diffArray</code> ‰∏≠„ÄÇËøôÊ†∑Â∞±Ëß£ÂÜ≥‰∫ÜÂØπË±°Êï∞ÁªÑÂåπÈÖçÁöÑÈóÆÈ¢òÔºåÂêåÊó∂‰πüÂ∞ÜÁõ∏ÂÖ≥ÁöÑ‰∏öÂä°‰ª£Á†ÅÊäΩÁ¶ªËá≥Â§ñÈÉ®ÔºåÊèêÂçá‰∫ÜÊñπÊ≥ïÁöÑÈÄöÁî®ÊÄßÂíåÂèØÈÖçÁΩÆÊÄß„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> comparator = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Â¶ÇÊûúÂéüÂßãÊï∞ÊçÆ‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºà‰πüÂ∞±ÊòØ‰º†ÂÖ•Êï∞ÊçÆÊúÄÂ§ñÂ±Ç‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºâÔºåÂøÖÈ°ªÊúâ init Â≠óÊÆµ‰Ωú‰∏∫ comparator ÂáΩÊï∞</span></span><br><span class=\"line\">  init: <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.name === b.name &amp;&amp; a.id === b.id,</span><br><span class=\"line\">  eventList: <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.name === b.name,</span><br><span class=\"line\">  <span class=\"string\">'eventList.value'</span>: <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a === b,</span><br><span class=\"line\">  <span class=\"string\">'eventList.subEvents'</span>: <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.id === b.id,</span><br><span class=\"line\">  <span class=\"string\">'eventList.subEvents.actions'</span>: <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.id === b.id,</span><br><span class=\"line\">  animation: <span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.antType === b.antType,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>‚ö†Ô∏è<strong>Ê≥®ÊÑè</strong>ÔºöÂ¶ÇÊûúÂéüÂßãÊï∞ÊçÆ‰∏∫Êï∞ÁªÑÁ±ªÂûãÔºåÂàôÂøÖÈ°ªÊèê‰æõ <code>init</code> ‰Ωú‰∏∫Ê†πÔºàÈ°∂Â±ÇÔºâÁªìÊûÑÁöÑÊØîËæÉÂô®ÂáΩÊï∞„ÄÇ</p>\n<p>‰∏äËø∞Â∞±ÊòØ diff ÂäüËÉΩÂÆûÁé∞ËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑ‰∏ªË¶ÅÈóÆÈ¢òÁöÑËß£ÂÜ≥ÊñπÊ°àÔºå‰ΩÜÊòØ‰ªÖÂØπ‰∏§Ë∑ØÁöÑÈÖçÁΩÆÊï∞ÊçÆËøõË°å diff ÊòØ‰∏çÂ§üÁöÑÔºåËøô‰∏ªË¶ÅÊòØ‰ªéÊàë‰ª¨Êú¨Ë∫´ TotoroX ÁöÑ‰∏öÂä°ËÄÉËôë„ÄÇÂ¶ÇÂâçÊñáÊâÄËø∞ <code>origin</code> ÂèØ‰ª•‰∏∫Áî®‰∫éÂàõÂª∫È°µÈù¢ÁöÑÊ®°ÁâàÔºå<code>target</code> ‰∏∫Âü∫‰∫éÊ®°ÁâàÂàõÂª∫ÁöÑÈ°µÈù¢Ôºå‰ΩÜÂêéÁª≠ÈúÄÊ±ÇÂèòÊõ¥Êó∂‰ºöÂØπÊ®°ÁâàÊï∞ÊçÆËøõË°å‰øÆÊîπÔºåËÄåÂú®Êàë‰ª¨ÁöÑÁ≥ªÁªü‰∏≠Âπ∂‰∏ç‰ºöÂêåÊ≠•Âà∞ÂàõÂª∫ÁöÑÈ°µÈù¢ÔºåÈÇ£‰πàÊ®°Áâà‰øÆÊîπÂêéÈúÄË¶ÅÂ∞Ü‰øÆÊîπÁöÑÂÜÖÂÆπÂêåÊ≠•Âà∞‰πãÂâçÂàõÂª∫ÁöÑÈ°µÈù¢ÔºåÂ∞±ÈúÄË¶ÅÊèê‰æõ‰∏Ä‰∏™Áî®‰∫éÂêàÂπ∂Êñ∞Ê®°Áâà‰∏éÊóßÈ°µÈù¢ÁöÑÊñπÊ≥ïÔºå‰∏ãÈù¢Êàë‰ª¨Â∞±ËÅäËÅä merge ÂäüËÉΩÁöÑÂÆûÁé∞„ÄÇ</p>\n<h2 id=\"Merge-ÂäüËÉΩÂÆûÁé∞\"><a href=\"#Merge-ÂäüËÉΩÂÆûÁé∞\" class=\"headerlink\" title=\"Merge ÂäüËÉΩÂÆûÁé∞\"></a>Merge ÂäüËÉΩÂÆûÁé∞</h2><p>Âú®ÂØπ merge ÂäüËÉΩÂÆûÁé∞ËøáÁ®ãËøõË°åËÆ≤Ëß£ÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπ git ÁöÑÂêàÂπ∂Á≠ñÁï•ËøõË°å‰∏ÄÂÆöÁ®ãÂ∫¶ÁöÑ‰∫ÜËß£„ÄÇ</p>\n<p>git ÈááÁî®‰∏âË∑ØÂêàÂπ∂Á≠ñÁï•Ôºö</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">B - C - D master(*)</span><br><span class=\"line\"> \\</span><br><span class=\"line\">  E - F dev</span><br></pre></td></tr></table></figure>\n<p>‰ª•Êàë‰ª¨Êó•Â∏∏ÁöÑÂºÄÂèëÂçè‰ΩúÊµÅÁ®ã‰∏∫‰æãÔºåÂΩìÂâçÂàÜÊîØ‰πüÂ∞±ÊòØ‰∏ªÂàÜÊîØ‰∏∫ <code>master</code>ÔºåÂΩìÂ∞ùËØïÊää <code>dev</code> ÂºÄÂèëÂàÜÊîØÂêàÂπ∂Âà∞ <code>master</code> Êó∂Ôºå‰∏§‰∏™ÂàÜÊîØÂÖ±ÂêåÊã•ÊúâÁöÑÊèê‰∫§Â∞±ÊòØ commitBÔºåÊàë‰ª¨Â∞ÜËØ•Êèê‰∫§ commit Áß∞‰∏∫ <code>base</code>Ôºå<code>master</code> ÂàÜÊîØÊúÄÊñ∞ÁöÑÊèê‰∫§ commitD Áß∞‰∏∫ <code>ours</code>ÔºåËÄå <code>dev</code> ÂàÜÊîØÊúÄÊñ∞ÁöÑÊèê‰∫§ commitF Áß∞‰∏∫ <code>theirs</code>„ÄÇ</p>\n<p>ÈÇ£‰πà git ÊòØÊÄéÊ†∑ÂêàÂπ∂ <code>ours</code> Âíå <code>theirs</code> ÁöÑÂë¢Ôºü</p>\n<p>Âú®ÂêàÂπ∂Êó∂Ôºå‰ºöÂèÇËÄÉ‰ªñ‰ª¨ÁöÑÂÖ±ÂêåÁ•ñÂÖà <code>base</code>ÔºåÂπ∂Ê†πÊçÆ‰∏ãÈù¢Á≠ñÁï•ËøõË°åÂêàÂπ∂„ÄÇ</p>\n<table>\n<thead>\n<tr>\n<th>Á•ñÂÖàÔºàbaseÔºâ</th>\n<th>HEADÔºàoursÔºâ</th>\n<th>ÂàÜÊîØÔºàtheirsÔºâ</th>\n<th>ÁªìÊûú</th>\n<th>ËØ¥Êòé</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>A</td>\n<td>A</td>\n<td>A</td>\n<td>A</td>\n<td></td>\n</tr>\n<tr>\n<td>A</td>\n<td>A</td>\n<td>B</td>\n<td>B</td>\n<td>Â¶ÇÊûú‰∏ÄÊñπ‰øÆÊîπ‰∫Ü‰∏ÄË°åÔºåÈÇ£‰πàËøô‰∏ÄË°åÈÄâÊã©‰øÆÊîπÁâàÁöÑ</td>\n</tr>\n<tr>\n<td>A</td>\n<td>B</td>\n<td>A</td>\n<td>B</td>\n<td>Âêå‰∏ä</td>\n</tr>\n<tr>\n<td>A</td>\n<td>B</td>\n<td>B</td>\n<td>B</td>\n<td>Â¶ÇÊûúÊüê‰∏ÄË°åÂèåÊñπÊã•ÊúâÁõ∏ÂêåÁöÑÂèòÊõ¥ÔºåÂàôÈÄâÊã©‰øÆÊîπËøáÁöÑË°å</td>\n</tr>\n<tr>\n<td>A</td>\n<td>B</td>\n<td>C</td>\n<td>conflict</td>\n<td>Â¶ÇÊûúÊüê‰∏ÄË°åÂèåÊñπÈÉΩ‰øÆÊîπ‰∫ÜÔºå‰∏î‰øÆÊîπÂæó‰∏ç‰∏ÄÊ†∑ÔºåÂàôÊä•ÂëäÂÜ≤Á™ÅÔºåÈúÄË¶ÅÁî®Êà∑Ëß£ÂÜ≥</td>\n</tr>\n</tbody>\n</table>\n<p>Ê†πÊçÆ‰∏äË°®ËßÑÂàôÔºåÂêàÂπ∂ËøáÁ®ãÁ±ª‰ººËøôÊ†∑Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-merge-strategy.png\" alt=\"ÂêàÂπ∂ËøáÁ®ã\"></p>\n<p>ÂèØ‰ª•ÁúãÂà∞ÔºåÁ¨¨ÂõõË°åÔºåÂèåÊñπÈÉΩ‰øÆÊîπ‰∫ÜÔºå‰∏îÂêÑËá™‰øÆÊîπÁöÑÂÜÖÂÆπ‰∏ç‰∏ÄÊ†∑ÔºåÊâÄ‰ª• git ‰∏çÁü•ÈÅìÊÄé‰πàËß£ÂÜ≥ÔºåÊâÄ‰ª•Â∞±ÊääÈóÆÈ¢òÊäõÁªôÁî®Êà∑‰∫Ü„ÄÇ</p>\n<h3 id=\"Ê†πËäÇÁÇπÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\"><a href=\"#Ê†πËäÇÁÇπÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\" class=\"headerlink\" title=\"Ê†πËäÇÁÇπÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\"></a>Ê†πËäÇÁÇπÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂</h3><p>Êàë‰ª¨Âú®ÂÆûÁé∞ merge ÂäüËÉΩÊó∂ÔºåÊ≠£ÊòØÈááÁî®‰∫Ü‰∏éÊ≠§ÁßçÂêàÂπ∂Á≠ñÁï•‰∏ÄËá¥ÁöÑÊñπÂºè„ÄÇÂú® merge ÁöÑÂêàÂπ∂ÊµÅÁ®ã‰∏≠ÔºåÂéüÂßãÊï∞ÊçÆÂç≥‰∏∫<strong>Á•ñÂÖà</strong>ÔºàbaseÔºâÔºåËÄåÂÆûÈôÖÈúÄË¶ÅÂêàÂπ∂ÁöÑ‰∏§‰ªΩÊï∞ÊçÆÂàÜÂà´‰∏∫ <strong>Head</strong>ÔºàoursÔºâÂíå<strong>ÂàÜÊîØ</strong>ÔºàtheirsÔºâ„ÄÇÊàë‰ª¨Â∞Ü <code>base</code> ‰Ωú‰∏∫‰∏≠Èó¥ËÄÖÔºå‰ª•Ê≠§Âà§Êñ≠‰∏§‰ªΩÈÖçÁΩÆÊï∞ÊçÆÂì™‰∫õÈÉ®ÂàÜÊòØÂ±û‰∫éÂéüÂßãÊï∞ÊçÆÁöÑÔºåÂì™‰∫õÈÉ®ÂàÜÂèàÊòØÊñ∞Êï∞ÊçÆ„ÄÇ</p>\n<p>È¶ñÂÖàÔºåÊàë‰ª¨ÂàÜÂà´Â∞ÜÊñ∞Êï∞ÊçÆ‰∏éÂÖ±ÂêåÁªÑ‰ª∂ <code>base</code> ËøõË°å diff Êìç‰ΩúÔºåËé∑ÂæóÂàÜÂà´ÁöÑ JSON Schema ÁªìÊûÑÁöÑÁªìÊûúÔºåÂêéÁª≠ÂÜçÂØπÁªìÊûúËøõË°å mergeBranch ÁöÑÊìç‰Ωú„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">merge</span>(<span class=\"params\">base, ours, theirs, diffComparator, mergeComparator</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> originDiff = diff(base, ours, diffComparator);</span><br><span class=\"line\">  <span class=\"keyword\">const</span> targetDiff = diff(base, theris, diffComparator);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> newDataSchema = mergeBranch(originDiff, targetDiff, mergeComparator);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> newDataSchema;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ËÄåÁî±‰∫é merge ÊòØÊ†πÊçÆ‰∏§‰∏§ diff ÂêéÁöÑ Schema ÁªìÊûÑÁöÑ JSONÔºåÊàë‰ª¨ÂÖà‰ªé<strong>Ê†πËäÇÁÇπ</strong>ÁöÑ <code>_status</code> Â≠óÊÆµÂåπÈÖçËøõË°åÂå∫ÂàÜÔºåÂÖ±Êúâ‰∫îÁßçÊÉÖÂÜµÔºö</p>\n<table>\n<thead>\n<tr>\n<th>Ê∫êÈÖçÁΩÆÊï∞ÊçÆÊ†πËäÇÁÇπÁä∂ÊÄÅ</th>\n<th>ÂèòÊõ¥ÈÖçÁΩÆÊï∞ÊçÆÊ†πËäÇÁÇπÁä∂ÊÄÅ</th>\n<th>ËØ¥Êòé</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Equal</td>\n<td>Equal</td>\n<td>Ë°®Á§∫ <code>base</code> Âíå <code>ours</code> ÂÆåÂÖ®Áõ∏Á≠âÔºå<code>base</code> Âíå <code>theirs</code> ÂÆåÂÖ®Áõ∏Á≠âÔºåÂç≥Ë°®Á§∫‰∏âË∑ØÂÆåÂÖ®Áõ∏Á≠â</td>\n</tr>\n<tr>\n<td>Equal</td>\n<td>Updated</td>\n<td>Ë°®Á§∫ <code>base</code> Âíå <code>ours</code> ÂÆåÂÖ®Áõ∏Á≠âÔºå<code>base</code> Âíå <code>theirs</code> Â≠òÂú®ÂèòÊõ¥ÔºåÂç≥ÂçïË∑ØÂèòÊõ¥ÔºåÊúÄÁªàÁªô‰Ω†‰ºöÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆ</td>\n</tr>\n<tr>\n<td>Updated</td>\n<td>Equal</td>\n<td>Ë°®Á§∫ <code>base</code> Âíå <code>ours</code> Â≠òÂú®ÂèòÊõ¥Ôºå<code>base</code> Âíå <code>theirs</code> ÂÆåÂÖ®Áõ∏Á≠âÔºåÂç≥ÂçïË∑ØÂèòÊõ¥ÔºåÊúÄÁªàÁªô‰Ω†‰ºöÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆ</td>\n</tr>\n<tr>\n<td>Updated</td>\n<td>Updated</td>\n<td>Ë°®Á§∫ <code>base</code> Âíå <code>ours</code> Â≠òÂú®ÂèòÊõ¥Ôºå<code>base</code> Âíå <code>theirs</code> ‰πüÂ≠òÂú®ÂèòÊõ¥Ôºå‰ΩÜÊòØÂèòÊõ¥ÂØπÂ∫îÁöÑÂÄº‰∏çÁõ∏Á≠âÔºåÂç≥‰∏âË∑ØÂÜ≤Á™Å</td>\n</tr>\n<tr>\n<td>Updated</td>\n<td>Updated</td>\n<td>Ë°®Á§∫ <code>base</code> Âíå <code>ours</code> Â≠òÂú®ÂèòÊõ¥Ôºå<code>base</code> Âíå <code>theirs</code> ‰πüÂ≠òÂú®ÂèòÊõ¥Ôºå‰ΩÜÊòØÂèòÊõ¥ÂØπÂ∫îÁöÑÂÄºÁõ∏Á≠âÔºåÂÆûÈôÖ‰∏ä <code>ours</code> Âíå <code>theirs</code> ÂèòÊõ¥ÂÄº‰∏é <code>base</code> ÂÄºÂÜ≤Á™Å</td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-merge-venn-diagram.jpg\" alt=\"ÂèòÊõ¥Áä∂ÊÄÅÈü¶ÊÅ©Âõæ\"></p>\n<p>ÂØπ‰∏äËø∞‰∫îÁßçÊÉÖÂÜµËøõË°åÂàÜÊûêÂΩíÁ∫≥ÂêéÔºåÂú®‰ª£Á†ÅÂÆûÁé∞Â±ÇÈù¢‰∏äÂèØ‰ª•Â§ßËá¥ÂàÜ‰∏∫‰∏â‰∏™ÊñπÂêëÂ§ÑÁêÜÔºö</p>\n<ol>\n<li>‰∏âË∑ØÁõ∏Á≠âÔºàA-A-AÔºâ=&gt; <code>mergeUnmodified</code>ÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©ÂõæÂ§©ËìùËâ≤ÈÉ®ÂàÜ‰∏≠Áä∂ÊÄÅ‰∏∫ <code>equal</code> ÁöÑÈÉ®ÂàÜÔºâ</li>\n<li>ÂçïË∑ØÂèòÊõ¥ÔºåÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆÔºàA-A-B„ÄÅA-B-AÔºâ=&gt; <code>mergeUpdated</code>ÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©ÂõæÁ¥´Ëâ≤ÂíåÊ©ôËâ≤ÈÉ®ÂàÜÔºåË°®Á§∫ÁöÑÊòØ <code>base</code> Â≠òÂú®‰ΩÜÊòØÂ≠òÂú®ÂèòÊõ¥ÁöÑÁä∂ÊÄÅÔºåÂèØ‰ª•ÊòØÂÆåÂÖ®ÊàñÂ±ÄÈÉ®ÁöÑÂà†Èô§ÂíåÂÜ≤Á™ÅÔºå‰πüÂèØ‰ª•ÊòØÂ±ÄÈÉ®ÈÖçÁΩÆÈ°πÁöÑÊñ∞Â¢ûÔºå‰ΩÜÊòØ‰∏çÂèØËÉΩÊòØÂÆåÂÖ®ÁöÑÊñ∞Â¢ûÔºâ</li>\n<li>‰∏§Ë∑ØÂèòÊõ¥ÔºåÊ†πÊçÆÂèòÊõ¥ÊÉÖÂÜµÈÄâÊã©Êàñ‰øùÁïôÂÜ≤Á™ÅÁä∂ÊÄÅÂπ∂Êèê‰æõÊâãÂä®Â§ÑÁêÜÊñπÂºèÔºåÂèòÊõ¥ÂèàÂàÜ‰∏∫Êñ∞Â¢û„ÄÅÂà†Èô§Âíå‰øÆÊîπÔºàA-B-B„ÄÅA-B-CÔºâ=&gt; <code>mergeConflict</code>ÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©ÂõæÁªøËâ≤„ÄÅÁ∫¢Ëâ≤ÂíåËìùÁÅ∞Ëâ≤Ôºâ</li>\n</ol>\n<p>‰∏âË∑ØÁõ∏Á≠âÁöÑÊÉÖÂÜµÊòØÊúÄÂ•ΩÂ§ÑÁêÜÁöÑÔºåÂú®ÂØπÊ†πËäÇÁÇπËøõË°åÈÅçÂéÜÊó∂ÂåπÈÖç‰∏§ËÄÖÁöÑ <code>_status</code> ÂèòÂåñÁä∂ÊÄÅ‰∏∫Áõ∏Á≠âÁä∂ÊÄÅÔºà<code>equal</code>ÔºâÊó∂Âç≥Ë°®Êòé‰∏âË∑ØÁõ∏Á≠â„ÄÇ</p>\n<p>ÂçïË∑ØÂèòÊõ¥ÁöÑÊÉÖÂÜµÔºåÂú®ÂØπÊ†πËäÇÁÇπËøõË°åÈÅçÂéÜÊó∂ÂåπÈÖç‰∏§ËÄÖÁöÑ <code>_status</code> ‰∏∫Áõ∏Á≠âÔºà<code>equal</code>ÔºâËÄåÂè¶‰∏ÄÊñπ‰∏∫‰∏çÁõ∏Á≠âÔºåÂç≥‰∏∫ÈúÄË¶ÅÈááÁî®ÂèòÊõ¥Ë∑ØÊï∞ÊçÆ„ÄÇ</p>\n<p>ËÄåÂØπ‰∫é‰∏§Ë∑ØÂèòÊõ¥ÁöÑÊÉÖÂÜµÔºåÊàë‰ª¨‰∏çËÉΩÂçïÁ∫ØÂú∞‰ª•Ê†πËäÇÁÇπÁöÑÁä∂ÊÄÅ‰Ωú‰∏∫Âå∫ÂàÜÔºåËøôÊòØÂõ†‰∏∫Êàë‰ª¨ÈááÁî®‰∫Ü‰∏äÊñáÊèêÂèäËøáÁöÑ<strong>Ëá™Â∫ïÂêë‰∏äÁöÑÁä∂ÊÄÅÂèòÊõ¥ÊòæÁ§∫Á≠ñÁï•</strong>ÔºåÊâÄ‰ª•Ê†πËäÇÁÇπÂëàÁé∞‰∏∫ÂèòÊõ¥Áä∂ÊÄÅÔºå‰∏ç‰ª£Ë°®Êï¥‰∏™ÁªìÊûÑÂÜÖÈÉ®ÁöÑÂ±ûÊÄßÂùá‰∏∫ÂèòÊõ¥Áä∂ÊÄÅÔºå‰πüÂèØËÉΩÂõ†‰∏∫Êüê‰∏™ÈÖçÁΩÆÈ°πÁöÑÂèòÊõ¥ÔºåÂØºËá¥ÁªìÊûÑÊ†ë‰∏äÂ±ÇÁöÑÁä∂ÊÄÅÊîπÂèò„ÄÇÊâÄ‰ª•ÂØπ‰∫éËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨ÂèàËÉΩÁªÜÂàÜ‰∏∫‰∏§ÁßçÊÉÖÂÜµËøõË°åÂ§ÑÁêÜÔºö</p>\n<ol>\n<li>ÈÄöËøá <code>comparator</code> ÊØîËæÉÂáΩÊï∞ËÉΩ‰∏§‰∏§ÂåπÈÖçÁöÑËäÇÁÇπÊ†ëÔºåÂÆûÈôÖ‰∏ä‰∏∫ <code>base</code>„ÄÅ<code>ours</code> Âíå <code>theirs</code> ‰∏âË∑ØÂùáÂ≠òÂú®ËØ•Ê†πËäÇÁÇπÁöÑÔºåÂàôÈúÄË¶ÅÂØπÂèåÊñπÂ≠êÂ≠ôÂ±ÇÁ∫ßÁöÑËäÇÁÇπËøõË°åÈÄíÂΩíÈÅçÂéÜÂπ∂ÈÄê‰∏ÄÂØπÊØîÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©Âõæ‰∏≠ËìùËâ≤ <code>conflict</code> ÁöÑÈÉ®ÂàÜÔºâ</li>\n<li>Âú®ÂØπÊØîÂèåÊñπÁöÑÈÖçÁΩÆÊï∞ÊçÆ‰∏≠ÔºåÊ†πËäÇÁÇπÁä∂ÊÄÅ <code>_status</code> ‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅÔºà<code>add</code>Ôºâ‰∏îÂ≠êÂ≠ôÂ±ÇÁ∫ßÁöÑÈÖçÁΩÆÂ±ûÊÄßÂÄº‰πü‰∏∫Êñ∞Â¢ûÁä∂ÊÄÅÊó∂ÔºåÂàôÂèØÂà§Êñ≠ËØ•ÈÖçÁΩÆÊ†ë‰∏∫ÂÆåÂÖ®Êñ∞Â¢ûÔºàÁõ∏ÂΩì‰∫é‰∏äÊñáÈü¶ÊÅ©Âõæ‰∏≠ÁªøËâ≤ <code>add</code> ÁöÑÈÉ®ÂàÜÔºâÔºåÊåâÁÖßÁ∫¶ÂÆöÁöÑÂêàÂπ∂Á≠ñÁï•ÔºåÈúÄË¶Å‰øùÁïôÊï¥‰∏™ÈÖçÁΩÆÊ†ë</li>\n</ol>\n<h3 id=\"Â≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\"><a href=\"#Â≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\" class=\"headerlink\" title=\"Â≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂\"></a>Â≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂</h3><p>‰∏ãÈù¢Êàë‰ª¨ÊääÈáçÁÇπËÅöÁÑ¶‰∫é‰∏§Ë∑ØÂèòÊõ¥ÁöÑÊÉÖÂÜµ‰∏ãÂ≠êÂ≠ôÂ±ÇÁ∫ßÁ≠õÈÄâÂêàÂπ∂ÁöÑÂÆûÁé∞„ÄÇ</p>\n<p>‰ªéÊ†πËäÇÁÇπÁöÑÂèòÊõ¥Áä∂ÊÄÅÁöÑËßíÂ∫¶ÂàÜÊûêÔºàÂ∑≤ÊéíÈô§ÂÆåÂÖ®Êñ∞Â¢ûÁöÑÈÖçÁΩÆËäÇÁÇπÊ†ëÔºâÔºåÂèØ‰ª•Â§ßËá¥ÂàÜ‰∏∫‰∫îÁßçÊÉÖÂÜµÔºö</p>\n<table>\n<thead>\n<tr>\n<th>base_ours Ê†πËäÇÁÇπÁä∂ÊÄÅ</th>\n<th>base_theirs Ê†πËäÇÁÇπÁä∂ÊÄÅ</th>\n<th>ËØ¥Êòé</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Add</td>\n<td>Add</td>\n<td>Ë°®Á§∫ <code>base</code> Ê≤°ÊúâÊüêÈ°πÈÖçÁΩÆÈ°πÔºåËÄå <code>ours</code> Âíå <code>theris</code> Êñ∞Â¢û‰∫ÜÊüêÈ°πÈÖçÁΩÆÈ°π</td>\n</tr>\n<tr>\n<td>Conflict</td>\n<td>Conflict</td>\n<td>Ë°®Á§∫ <code>base</code> Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå<code>ours</code> ‰πüÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰ΩÜÊòØÂÄº‰∏é <code>base</code> ‰∏çÂêåÔºå<code>theris</code> ‰πüÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰ΩÜÊòØÂÄº‰∏é <code>base</code> ‰πü‰∏çÂêåÔºàÊú™ÂøÖ‰∏é <code>ours</code> Áõ∏Âêå/‰∏çÂêåÔºâ</td>\n</tr>\n<tr>\n<td>Conflict</td>\n<td>Delete</td>\n<td>Ë°®Á§∫ <code>base</code> Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå<code>ours</code> ‰πüÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰ΩÜÊòØÂÄº‰∏é <code>base</code> ‰∏çÂêåÔºåËÄå <code>theris</code> Âàô‰∏çÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π</td>\n</tr>\n<tr>\n<td>Delete</td>\n<td>Conflict</td>\n<td>Ë°®Á§∫ <code>base</code> Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå<code>ours</code> ‰∏çÂ≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°πÔºåËÄå <code>theris</code> Â≠òÂú®ËØ•È°πÈÖçÁΩÆÈ°π‰∏îÂÄº‰∏é <code>base</code> ‰∏çÂêå</td>\n</tr>\n<tr>\n<td>Delete</td>\n<td>Delete</td>\n<td>Ë°®Á§∫ base Â≠òÂú®ÊüêÈ°πÈÖçÁΩÆÈ°πÔºå<code>ours</code> Âíå <code>theris</code> Âùá‰∏çÂ≠òÂú®ËØ•ÈÖçÁΩÆÈ°π</td>\n</tr>\n</tbody>\n</table>\n<p>Êàë‰ª¨‰ª•‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰ª£Á†ÅÁ§∫‰æãËØ¥ÊòéÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-merge-code-demo.jpg\" alt=\"‰∏âË∑ØÂêàÂπ∂ÈÖçÁΩÆ‰ª£Á†ÅÁ§∫‰æã\"></p>\n<p>ÁªìÂêà‰∏äÊñáÊèêÂèä‰∫îÁßç‰∏§‰∏§ÊØîÂØπÂ≠òÂú®ÂèòÊõ¥Áä∂ÊÄÅÊó∂ÁöÑÊÉÖÂÜµÔºåÂπ∂ÁªìÂêà‰ª£Á†ÅÁ§∫‰æãÂæóÂá∫‰ª•‰∏ãÁªìËÆ∫Ôºö</p>\n<ul>\n<li><code>color</code> ÂØπÂ∫îÁ¨¨‰∏ÄÁßçÊÉÖÂÜµÔºå<code>base</code> Ê≤°ÊúâËØ•ÈÖçÁΩÆÈ°πÔºåËÄå <code>ours</code> Âíå <code>theirs</code> ÂàôÊúâ</li>\n<li><code>width</code> ÂØπÂ∫îÁ¨¨‰∫åÁßçÊÉÖÂÜµÔºå<code>base</code> ÊúâËØ•ÈÖçÁΩÆÈ°πÔºåËÄå <code>ours</code> Âíå <code>theirs</code> ÂêåÊ†∑ÊúâËØ•ÈÖçÁΩÆÈ°πÔºå‰ΩÜÊòØ <code>ours</code> Âíå <code>theirs</code> ÁöÑÂÄºÂ≠òÂú®Â∑ÆÂºÇ</li>\n<li><code>height</code> ÂêåÊ†∑ÂØπÂ∫îÁ¨¨‰∫åÁßçÊÉÖÂÜµÔºå‰∏é <code>width</code> ÈÖçÁΩÆÈ°π‰∏çÂêåÁöÑÊòØÔºå<code>ours</code> Âíå <code>theirs</code> ÁöÑÂÄº‰∏•Ê†ºÁõ∏Á≠â</li>\n<li><code>translateX</code> ÂØπÂ∫îÁ¨¨‰∏âÁßçÊÉÖÂÜµÔºå<code>base</code> ‰∏é <code>ours</code> ÊúâËØ•ÈÖçÁΩÆÔºå‰∏îÂÄºÂÜ≤Á™ÅÔºåËÄå <code>theirs</code> ÂàôÂà†Èô§‰∫ÜËØ•ÈÖçÁΩÆÈ°π</li>\n<li><code>translateX</code> ÂØπÂ∫îÁ¨¨ÂõõÁßçÊÉÖÂÜµÔºå<code>base</code> ‰∏é <code>theirs</code> ÊúâËØ•ÈÖçÁΩÆÔºå‰∏îÂÄºÂÜ≤Á™ÅÔºåËÄå <code>ours</code> ÂàôÂà†Èô§‰∫ÜËØ•ÈÖçÁΩÆÈ°π</li>\n<li><code>line-height</code> ÂØπÂ∫îÁ¨¨‰∫îÁßçÊÉÖÂÜµÔºå‰ªÖ <code>base</code> Â≠òÂú®ËØ•ÈÖçÁΩÆÈ°πÔºå<code>ours</code> Âíå <code>theirs</code> ÂùáÂà†Èô§‰∫ÜËØ•ÈÖçÁΩÆÈ°π</li>\n</ul>\n<blockquote>\n<p>ËøôÈáåÊèêÂèäÁöÑÊñ∞Â¢ûÊàñÂà†Èô§Â≠óÊÆµÂè™‰∏∫Ë¶ÜÁõñÊõ¥ÂÆåÊï¥ÁöÑÂäüËÉΩÔºåÂÆûÈôÖÁöÑÂèØËßÜÂåñÈÖçÁΩÆ‰∏öÂä°‰∏≠ÔºåÂõ†‰∏∫ÁªÑ‰ª∂ÁöÑÈÖçÁΩÆÈ°πÂü∫Êú¨Âõ∫ÂÆö‰∏îÂùáÊèê‰æõ‰∫ÜÈªòËÆ§ÂÄºÔºåÊâÄ‰ª•Âá∫Áé∞Êñ∞Â¢ûÊàñÂà†Èô§Â≠óÊÆµÁöÑÊÉÖÂÜµËæÉÂ∞ë„ÄÇ</p>\n</blockquote>\n<p>ÊúÄÂêéÂü∫‰∫é <code>base</code> ËøõË°å diff ÂêéÂæóÂá∫Â¶Ç‰∏ã‰∏§‰ªΩ JSON Schema ÁªìÊûÑÂ∑ÆÂºÇÂåñÊï∞ÊçÆÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/diff-between-base-and-ours.jpg\" alt=\"diff-between-base-and-ours\"></p>\n<p><img src=\"https://img.mrsingsing.com/diff-between-base-and-theirs.jpg\" alt=\"diff-between-base-and-theirs\"></p>\n<p>Âü∫‰∫é‰∏âË∑ØÂêàÂπ∂ÁöÑÁ≠ñÁï•ÔºåÂΩì‰∏âË∑ØÂÄºÂùá‰∏çÂêåÊó∂‰ºö‰øùÁïôÂ∑ÆÂºÇËÆ©Áî®Êà∑ÊâãÂä®Ëß£ÂÜ≥ÔºåÂΩìÂèòÊõ¥‰∏§Ë∑ØÂÄºÁõ∏ÂêåÊàñÊñ∞Â¢ûÊó∂Âàô‰øùÁïôÁõ∏ÂêåÂÄºÔºåÊúÄÂêéÂêàÂπ∂ÂêéÂæóÂá∫Êñ∞ÁöÑ JSON Schema ÈÖçÁΩÆÊï∞ÊçÆÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/diff-tool-merge-base-ours-and-theirs.jpeg\" alt=\"Merge base and ours and theirs\"></p>\n<h2 id=\"Revert-ÂäüËÉΩÂÆûÁé∞\"><a href=\"#Revert-ÂäüËÉΩÂÆûÁé∞\" class=\"headerlink\" title=\"Revert ÂäüËÉΩÂÆûÁé∞\"></a>Revert ÂäüËÉΩÂÆûÁé∞</h2><p>ÊúÄÁªàÈÄöËøáËá™Âä®ÂêàÂπ∂ÂíåÊâãÂä®Ëß£ÂÜ≥ÂÜ≤Á™ÅÔºåÂÆåÊï¥ÁöÑÈÖçÁΩÆÊï∞ÊçÆÂ∫îËØ•ÊâÄÊúâËäÇÁÇπÈÉΩË°®Á§∫‰∏∫Áõ∏Á≠âÁä∂ÊÄÅ„ÄÇÈÄöËøáÂØπËøîËøòÁöÑ JSON Schema ÁªìÊûÑÁöÑÊï∞ÊçÆÈÄíÂΩíËøòÂéüÔºåËá™Âä®Êñ∞Âª∫È°µÈù¢Âç≥ÂÆåÊàêÊï¥‰∏™ÊâπÈáèÊõ¥Êñ∞È°µÈù¢ÁöÑÂäüËÉΩ„ÄÇ</p>\n<hr>\n<p><strong>ÂèÇËÄÉËµÑÊñô</strong>Ôºö</p>\n<ul>\n<li><a href=\"https://blog.csdn.net/longintchar/article/details/83049840\" target=\"_blank\" rel=\"noopener\">‰∏âË∑ØÂêàÂπ∂ Git Â≠¶‰π†Á¨îËÆ∞ 17</a></li>\n</ul>"},{"title":"Â∏∏Áî®ÁßªÂä®ÂâçÁ´ØÂºÄÂèëË∞ÉËØïÊñπÂºè","date":"2020-05-27T00:00:00.000Z","_content":"\n# Â∏∏Áî®ÁßªÂä®ÂâçÁ´ØÂºÄÂèëË∞ÉËØïÊñπÂºè\n\nÂõ†‰∏∫Êó•Â∏∏ÂºÄÂèëÁªèÂ∏∏ÈúÄË¶ÅÂú®ÁßªÂä®ËÆæÂ§á‰∏äË∞ÉËØïÊµãËØïÂºÄÂèëÁöÑ H5 È°µÈù¢Ôºå‰ΩÜÊòØ‰∏ÄÁõ¥ÈÉΩÊ≤°ÊÄé‰πàÊÄªÁªìËøáÁßªÂä®ÂâçÁ´ØÂºÄÂèëÁõ∏ÂÖ≥ÁöÑË∞ÉËØïÂ∑•ÂÖ∑ÊàñÊñπÊ≥ïÔºå‰ªäÂ§©Á®çÂæÆÊÄªÁªì‰∏Ä‰∏ãÊØîËæÉÂ•ΩÁî®ÁöÑË∞ÉËØïÂ∑•ÂÖ∑Ôºå‰πüÁΩóÂàó‰∫Ü‰∏Ä‰∫õÊ≤°ÊúâÁî®Ëøá‰ΩÜÊòØÂÄºÂæó‰∫ÜËß£ÁöÑÂ∑•ÂÖ∑\n\n## ÈÄöÁî®Ë∞ÉËØïÂ∑•ÂÖ∑ÊñπÊ≥ï\n\n### Chrome ÁßªÂä®ËÆæÂ§áÊ®°ÊãüÂô®\n\nChrome ÊµèËßàÂô®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑ÂÜÖÁΩÆ‰∫ÜÂèØÁî®‰∫éÊ®°ÊãüÁßªÂä®ËÆæÂ§áÁöÑÂäüËÉΩÔºåËøô‰πüÊòØÊúÄÂ∏∏Áî®ÁöÑË∞ÉËØïÊñπÂºèÔºåËøôÈáåÂè™ÊòØÁÆÄÂçïËØ¥ÊòéÊìç‰ΩúÊ≠•È™§Ôºö\n\n1. Âú® PC Á´ØÊâìÂºÄ Chrome ÊµèËßàÂô®Âπ∂ÊâìÂºÄÁõÆÊ†áÈ°µÈù¢ÔºåÁÑ∂Âêé F12 ÊâìÂºÄÂºÄÂèëËÄÖÂ∑•ÂÖ∑\n2. ÁÇπÂáªÂºÄÂèëËÄÖÂ∑•ÂÖ∑Â∑¶‰∏äËßíÁöÑÊâãÊú∫ÂõæÊ†áÔºåÂà∑Êñ∞È°µÈù¢ÂêéÂç≥ÂèØË∞ÉËØï\n3. È°µÈù¢È°∂ÈÉ®ËÆæÂ§áÈÄâÊã©‰∏ãÊãâËèúÂçïÂèØÈÄâÊã©ÈªòËÆ§ÁöÑÂ§öÁßçÂìÅÁâåÊú∫ÂûãÔºå‰ª•Âèä‰ªøÁúüÁöÑÁΩëÁªúÁä∂ÊÄÅ\n4. ÈÄâÊã©‰∏ãÊù•ËèúÂçï‰∏≠ÁöÑ `Edit` ËøõÂÖ•ÈÄÇÈÖçËÆæÂ§áÁöÑÊú∫ÂûãÈÄâÊã©ÔºåÊó¢ÊúâÊµèËßàÂô®Êèê‰æõÁöÑÊú∫ÂûãÔºå‰πüÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅËÆæÂÆöËá™ÂÆö‰πâÊú∫ÂûãÔºà‰∏ªË¶ÅÊòØÊµãËØïÂÆΩÈ´òÊØîÔºâ\n\nÂõ†‰∏∫‰ΩøÁî®Ëµ∑Êù•Êñπ‰æøÔºåÊâÄ‰ª•ÂºÄÂèëË∞ÉËØïÁöÑÂ§ßÈÉ®ÂàÜÈÉΩËÉΩÊª°Ë∂≥ÈúÄÊ±ÇÔºå‰ΩÜÊòØË¶ÅÊõ¥‰ªøÁúüÊõ¥‰∏•Ë∞®ËøòÊòØÈúÄË¶ÅÂú®ÁúüÊú∫‰∏≠Ë∞ÉËØï„ÄÇ\n\n### vConsole ÁßªÂä®Á´ØÁΩëÈ°µ‰∏äÁöÑË∞ÉËØïÊéßÂà∂Âè∞\n\n[vConsole](https://github.com/Tencent/vConsole) ÊòØ‰∏ÄÊ¨æËΩªÈáèÁ∫ß„ÄÅÂèØÊãìÂ±ï„ÄÅÈíàÂØπÊâãÊú∫ÁΩëÈ°µÁöÑÂâçÁ´ØÂºÄÂèëËÄÖË∞ÉËØïÈù¢Êùø„ÄÇ\n\nÈÄöËøáËØ•Â∑•ÂÖ∑ÂèØ‰ª•Êñπ‰æøÂú∞Âú®ÁßªÂä®ÁúüÊú∫ÁöÑ Web È°µÈù¢‰∏≠ÈÄöËøá‰ª•‰∏ãÁâπÊÄßÂÆûÁé∞Ë∞ÉËØïÂäüËÉΩÔºö\n\n- Êü•Áúã console Êó•Âøó\n- Êü•ÁúãÁΩëÁªúËØ∑Ê±Ç‰ø°ÊÅØ\n- Êü•ÁúãÈ°µÈù¢ element ÁªìÊûÑ\n- Êü•Áúã Cookie„ÄÅlocalStorage Âíå SessionStorage\n- ÊâãÂä®ÊâßË°å JavaScript ÂëΩ‰ª§Ë°å\n- Ëá™ÂÆö‰πâÊèí‰ª∂\n\n<!-- more -->\n\nËøôÊ¨æÁ±ªÂ∫ìÂ∫îËØ•ÊòØ‰ΩøÁî®ÊúÄÂπøÊ≥õÁöÑÂ∑•ÂÖ∑ÔºåËÄå‰∏î‰ΩøÁî®Ëµ∑Êù•‰πüÊØîËæÉÁÆÄÂçïÔºå‰∏é PC Á´Ø Chrome Á≠âÂºÄÂèëËÄÖË∞ÉËØïÂ∑•ÂÖ∑‰ΩøÁî®ÊñπÂºèÁ±ª‰ººÔºåÊâÄ‰ª•Â∞±‰∏çÂ§öÂèôËø∞‰∫Ü„ÄÇ\n\nÊõ¥Â§öÂÖ≥‰∫éÊ≠§Â∑•ÂÖ∑ÁöÑ‰ΩøÁî®ÊïôÁ®ãÂèØ‰ª•ÂèÇÈòÖ [vConsole ‰ΩøÁî®ÊïôÁ®ã](https://github.com/Tencent/vConsole/blob/dev/doc/tutorial_CN.md)\n\nÈô§Ê≠§‰πãÂ§ñÔºåÊúâ‰∏™ÂêåÊ†∑ÊòØ AlloyTeam Âá∫ÂìÅÁöÑÈîôËØØÁõëÊéß‰∏äÊä•„ÄÅÊîØÊåÅÁîü‰∫ßÁéØÂ¢ÉÈÄöËøá URL Â∏¶ÂèÇÊï∞Âî§Ëµ∑ vConsole ÁöÑÂ∫ì [AlloyLever](https://github.com/AlloyTeam/AlloyLever) ‰πüÂÄºÂæóÂÖ≥Ê≥®‰∏Ä‰∏ã„ÄÇ\n\nÂêåÁ±ªÂûãÁöÑ‰∫ßÂìÅÊúâ [eruda](https://github.com/liriliri/eruda)\n\n#### ÂÆûÁé∞ÂéüÁêÜ\n\nÈÄöËøáÂú®È°µÈù¢Ê≥®ÂÖ• JavaScript ËÑöÊú¨ÂÆûÁé∞Ê®°ÊãüÁ±ª‰ºº Chrome DevTool ÁöÑË∞ÉËØïÈù¢Êùø„ÄÇ\n\nÈÄöËøáÈáçÂÜô `XHMLHttpRequest`„ÄÅ`fetch`„ÄÅ`console` ÊñπÊ≥ïÂÆûÁé∞ÁΩëÁªúËØ∑Ê±ÇÂíåÊó•ÂøóÊâìÂç∞ÁöÑÊã¶Êà™ÔºåÂπ∂ËæìÂá∫Âà∞ÊéßÂà∂Èù¢Êùø‰∏≠ÁöÑ `Network` Âíå `Console` Ê†áÁ≠æ„ÄÇ\n\nÈÄöËøáÈÅçÂéÜ Cookie„ÄÅLocalStorage„ÄÅSessionStorage ÂØπË±°‰∏ãÁöÑÊâÄÊúâÂ≠òÂÇ®ÈîÆÂÄº‰ª•Ëé∑ÂèñÂΩìÂâçÁΩëÈ°µÁöÑÊú¨Âú∞Â≠òÂÇ®Êï∞ÊçÆ„ÄÇ\n\nËÄå `Element` Ê†áÁ≠æ‰∏≠ÁöÑÈ°µÈù¢ DOM Ê†ëÁªìÊûÑÔºåÂàôÈÄöËøá‰ªé `document.documentElement` ËäÇÁÇπÂºÄÂßãÂêëÂ≠êÂ≠ôËäÇÁÇπÈÄíÂΩíÁîüÊàê„ÄÇ\n\n### Charles Êï∞ÊçÆ‰º†ËæìÊäìÂåÖÂ∑•ÂÖ∑\n\nËØïÊÉ≥‰ª•‰∏ãÂú®Êó•Â∏∏ÂºÄÂèë‰∏≠ÂèØËÉΩ‰ºöÈÅáÂà∞ÁöÑÂú∫ÊôØÔºö\n\n1. Âú®Êú¨Âú∞ÂºÄÂèëÂÆåÁßªÂä® H5 È°µÈù¢ÂêéÔºåÊÉ≥‰∏éÂêéÁ´ØËÅîË∞ÉÊé•Âè£Ôºå‰ΩÜÊòØÊé•Âè£ÈÉ®ÁΩ≤Âú®Êú∫ÊàøÊúçÂä°Âô®‰∏äÔºåÂüüÂêçÈùû IP Âú∞ÂùÄÔºåËøô‰∏™Êó∂ÂÄôËÅîË∞É‰ºöÂ≠òÂú®Ë∑®ÂüüÈóÆÈ¢òÔºåÂ∫îËØ•ÊÄéÊ†∑Ëß£ÂÜ≥Ôºü\n2. Á∫ø‰∏ä Web App Ë°®Áé∞ÂºÇÂ∏∏ÔºåÊ≤°Ê≥ïÂú®Á∫ø‰∏äÈ°µÈù¢‰ΩøÁî®Ë∞ÉËØïÈù¢ÊùøËøõË°åË∞ÉËØïÔºåÊÄéÊ†∑ÂÆö‰ΩçÈóÆÈ¢òÔºü\n3. Á∫ø‰∏ä Web App Ë°®Áé∞ÂºÇÂ∏∏ÔºåÊé•Âè£ËØ∑Ê±ÇÂìçÂ∫îË°®Áé∞Ê≠£Â∏∏ÔºåÂçï‰ªé‰ª£Á†ÅÂ±ÇÈù¢Êó†Ê≥ïÂÆö‰ΩçÈóÆÈ¢òÊ†πÊ∫êÔºåÊÄéÊ†∑Êõ¥Â•ΩÂú∞ÂÆö‰ΩçÈóÆÈ¢òÔºü\n\nÂú® Charles Âº∫Â§ßÁöÑÊäìÂåÖÂäüËÉΩÈù¢ÂâçÔºåËøô‰∫õÈóÆÈ¢òÈÄöÈÄöÈÉΩ‰∏çÊòØÈóÆÈ¢ò„ÄÇÊàë‰ª¨ÂÖà‰ªãÁªç‰∏Ä‰∏ã CharlesÔºö\n\n[Charles](https://www.charlesproxy.com/) ÊòØ‰∏ÄÊ¨æÂü∫‰∫é HTTP ÂçèËÆÆÁöÑ‰ª£ÁêÜÊúçÂä°Âô®ÔºåÈÄöËøáÊà™ÂèñËØ∑Ê±ÇÂíåËØ∑Ê±ÇÁªìÊûúËææÂà∞ÂàÜÊûêÊäìÂåÖÁöÑÁõÆÁöÑ„ÄÇ\n\n‰ª•‰∏ãÊòØ Charles ÁöÑÂäüËÉΩÁâπÊÄßÔºö\n\n- ÊîØÊåÅ HTTP Âíå HTTPS ‰ª£ÁêÜÔºåÊà™ÂèñÂàÜÊûê SSL ËØ∑Ê±Ç\n- ÊîØÊåÅÊµÅÈáèÊéßÂà∂ÔºåÂèØ‰ª•Ê®°ÊãüÂº±ÁΩëÊµãËØïÁéØÂ¢É\n- ÊîØÊåÅÊé•Âè£Âπ∂ÂèëËØ∑Ê±Ç\n- ÊîØÊåÅÈáçÂèëÁΩëÁªúËØ∑Ê±ÇÔºåÊñπ‰æøÂêéÁ´ØË∞ÉËØï\n- ÊîØÊåÅ‰øÆÊîπÁΩëÁªúËØ∑Ê±ÇÂèÇÊï∞\n- ÊîØÊåÅÁΩëÁªúËØ∑Ê±ÇÁöÑÊà™Ëé∑Âπ∂Âä®ÊÄÅ‰øÆÊîπ\n- ÊîØÊåÅÊñ≠ÁÇπË∞ÉËØïÔºåÊûÑÂª∫ÂºÇÂ∏∏ÁöÑÊµãËØïÂú∫ÊôØ\n\n#### ‰ΩøÁî®ÊñπÂºè\n\n‰ΩøÁî® Charles ÊäìÂåÖÊâãÊú∫ÂêëÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÁöÑÊìç‰ΩúÊ≠•È™§Ôºö\n\n1. ÂÆâË£ÖÊ†πËØÅ‰π¶Ôºö`ËèúÂçï -> Help -> SSL Proxying -> Install Charles Root Certificate`\n\n![ÂÆâË£ÖÊ†πËØÅ‰π¶](https://img.mrsingsing.com/wireless-debugger-install-charles-certificate.jpg)\n\n2. ÊâæÂà∞ÂÆâË£ÖÂ•Ω Charles ÁöÑÊ†πËØÅ‰π¶ÂêéÔºåÁ°Æ‰øùËØÅ‰π¶ÁöÑÊâÄÊúâÈÄâÈ°πÂùá‰∏∫ÂßãÁªà‰ø°‰ªªÔºàËøô‰∏™ËØÅ‰π¶ÂêéÁª≠‰ºö‰∏ãËΩΩÂà∞‰Ω†ÁöÑÊâãÊú∫‰∏≠‰ΩøÁî®Ôºâ\n\n![ÊÄªÊòØ‰ø°‰ªª](https://img.mrsingsing.com/wireless-debugger-always-trust-certificate.jpg)\n\n3. ÁÑ∂ÂêéÂºÄÂêØ Charles ÁöÑ‰ª£ÁêÜÊúçÂä°Ôºö`Proxy -> Proxy Setting`Ôºå`port` Á´ØÂè£Â°´ `8888`ÔºåÈÄâ‰∏≠ `Enable transparent HTTP proxying`\n\nÊâæÂà∞ÂΩìÂâç‰ΩøÁî®ÁöÑ Mac Á¨îËÆ∞Êú¨ÁöÑ IP Âú∞ÂùÄÔºàÈÄöËøá `Charles -> Help -> Local IP Address` ÂèØ‰ª•Ëé∑ÂèñÔºâ\n\n![ÂºÄÂêØCharles‰ª£ÁêÜ](https://img.mrsingsing.com/wireless-debugger-enable-charles-proxying.jpg)\n\n4. Áªô iPhone ËÆæÁΩÆ‰ª£ÁêÜ\n\n- ÊâìÂºÄ iPhoneÔºåËøûÊé• WifiÔºàÈúÄË¶ÅÁ°Æ‰øù iPhone ‰∏é Mac ËøûÊé•ÁöÑÊòØÁõ∏ÂêåÁöÑ WifiÔºâ\n- ÊâìÂºÄ Wifi ÂêçÂêéÁöÑËìùËâ≤ÊÑüÂèπÂè∑ÔºåÂú®ÊúÄ‰∏ãÈù¢ÊâæÂà∞ `HTTP ‰ª£ÁêÜ`ÔºåÁÇπÂáªËøõÂÖ•\n- ÈÄâÊã© `ÊâãÂä®`ÔºåÊúçÂä°Âô®‰∏äÂ°´‰∏äÁ´ØÂè£Âè∑ `8888`\n\n5. Èöè‰æøÊâìÂºÄÁΩëÈ°µÔºåËøô‰∏™Êó∂ÂÄô Charles ‰ºöÂºπÂá∫ËØ∑Ê±ÇËøûÊé•ÁöÑÁ°ÆËÆ§ËèúÂçïÔºåÈÄâÊã©Â∑¶ËæπÈÄâÈ°π `Allow`\n\n6) Âú®ÊâãÊú∫ÊµèËßàÂô®‰∏≠ÔºàÊúÄÂ•ΩÊòØ SafariÔºâÔºåËæìÂÖ• `chls.pro/ssl`Ôºå‰ºöÂºπÂá∫ÂÆâË£ÖËØÅ‰π¶ÁöÑËØ∑Ê±ÇÔºåËæìÂÖ•ÂØÜÁ†ÅÔºå‰∏ÄÁõ¥ÁÇπÂÆâË£ÖÂç≥ÂèØ\n\n- ÊâìÂºÄËÆæÁΩÆÔºåÁÇπÂáª `ÈÄöÁî® -> ÂÖ≥‰∫éÊú¨Êú∫ -> ËØÅ‰π¶‰ø°‰ªªËÆæÁΩÆ`ÔºåÊâæÂà∞ÂΩìÂâçË¶Å‰Ωú‰∏∫‰ª£ÁêÜÁöÑÁîµËÑëÂêçÔºåÊâìÂºÄ‰ø°‰ªªÂºÄÂÖ≥\n\nËøô‰∏™Êó∂ÂÄôÊó¢ÂèØ‰ª•Êà™ÂèñÂà∞ HTTP/HTTPS ÁöÑÁΩëÁªúËØ∑Ê±Ç‰∫Ü„ÄÇ\n\n#### ÂÆûÁé∞ÂéüÁêÜ\n\n![CharlesÂÆûÁé∞ÂéüÁêÜ](https://img.mrsingsing.com/wireless-debugger-charles-principle.jpg)\n\n‰∫ãÂÆû‰∏ä Charles Â∞±ÊòØÂÖÖÂΩìÊâÄË∞ìÁöÑ `‰∏≠Èó¥‰∫∫` ËßíËâ≤ÔºåÊääÊàë‰ª¨ÁöÑËÆæÂ§áÂèëÈÄÅÁöÑËØ∑Ê±ÇÊã¶Êà™‰∏ãÊù•ÔºåÂπ∂ËΩ¨ÂèëÁªôÊàë‰ª¨ÁöÑÁõÆÊ†áÊúçÂä°Âô®ÔºåËÄåÂêéÂ∞ÜÂìçÂ∫îÁöÑ‰ø°ÊÅØËøîÂõûÁªôÊàë‰ª¨ÁöÑËÆæÂ§á„ÄÇ\n\nÂâçÊèêÊòØËÆæÂ§á‰∏äÈúÄË¶ÅÂÆâË£ÖÂπ∂‰ø°‰ªª Charles ÁöÑËØÅ‰π¶ÔºåËøô‰∏™‰∏∫‰∫ÜÂΩì HTTPS ‰º†ËæìÊó∂ÔºåCharles ÈúÄË¶ÅÊã¶Êà™Ëß£ÂØÜÊï∞ÊçÆÂπ∂Âà©Áî®ÊúçÂä°Á´ØÁöÑËØÅ‰π¶ÂÖ¨Èí•Âíå HTTPS ËøûÊé•ÁöÑÂØπÁß∞ÂØÜÈí•ÂÅöÂêéÁª≠ÁöÑ‰º†ËæìÂä†ÂØÜ„ÄÇ\n\nÁî±‰∫éÊú¨‰∫∫‰ΩøÁî® Charles ÊØîËæÉÂ§öÔºå‰ΩÜÂÖ∂ÂÆûËøòÊúâÂæàÂ§öÁ±ª‰ººÁöÑÊäìÂåÖÂ∑•ÂÖ∑Ôºå‰æãÂ¶ÇÔºö\n\n- ËΩØ‰ª∂Á±ª\n  - [Fiddler](https://www.telerik.com/fiddler)\n  - [Wireshark](https://www.wireshark.org/download.html)\n  - [Weinre](https://github.com/nupthale/weinre)ÔºöÂü∫‰∫é Web Inspector ÁöÑËøúÁ®ãË∞ÉËØïÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Âú® PC ‰∏äÁõ¥Êé•Ë∞ÉËØïËøêË°åÂú®ÊâãÊú∫‰∏äÁöÑÈ°µÈù¢\n- Â∑•ÂÖ∑ÂåÖÁ±ª\n  - [spy-debugger](https://github.com/wuchangming/spy-debugger)Ôºö‰∏ÄÁ´ôÂºèÈ°µÈù¢Ë∞ÉËØï„ÄÅÊäìÂåÖÂ∑•ÂÖ∑ÔºåËÉΩËøúÁ®ãË∞ÉËØï‰ªª‰ΩïÊâãÊú∫ÊµèËßàÂô®È°µÈù¢Ôºå‰ªª‰ΩïÊâãÊú∫ÁßªÂä®Á´Ø WebviewÔºåÊó†ÈúÄ USB ËøûÊé•ËÆæÂ§áÔºàÂÆûÁé∞ÂéüÁêÜ‰∏é Charles Á±ª‰ººÔºâ\n  - [whistle](https://github.com/avwo/whistle)ÔºöÂü∫‰∫é Node ÂÆûÁé∞ÁöÑË∑®Âπ≥Âè∞ÊäìÂåÖË∞ÉËØï‰ª£ÁêÜÂ∑•ÂÖ∑ÔºåÂäüËÉΩÂº∫Â§ßÔºåÊîØÊåÅ WebSocket„ÄÅÂèçÂìç‰ª£ÁêÜ„ÄÅÊèí‰ª∂Êâ©Â±ïÁ≠âÁâπÊÄß\n\n## Âü∫‰∫é iOS ÁöÑÂºÄÂèëË∞ÉËØï\n\n### Safari + Êï∞ÊçÆÁ∫ø ËøúÁ®ãËÆæÂ§áË∞ÉËØï\n\nÂâçÊúüÂáÜÂ§áÔºöiPhone + MacBook + ÂêÑËá™ÂÆâË£Ö Safari\n\nË∞ÉËØïÊñπÂºèÔºö\n\n1. ÊâìÂºÄ iPhone `ËÆæÁΩÆ -> Safari ÊµèËßàÂô® -> È´òÁ∫ß -> Web Ê£ÄÊü•Âô®`\n2. ÊâìÂºÄ MacBook ‰∏äÁöÑ Safari ÊµèËßàÂô® `ÂÅèÂ•ΩËÆæÁΩÆ -> È´òÁ∫ß -> Âú®ËèúÂçïÊ†è‰∏≠ÊòæÁ§∫‚ÄúÂºÄÂèë‚ÄùËèúÂçï`\n3. Áî®Êï∞ÊçÆÁ∫øËøûÊé• iPhone Âíå MacBookÔºåÂπ∂ÈÄâÊã© `‰ø°‰ªª` ËÆæÂ§áÔºåÂú® iPhone ‰∏äÁöÑ Safari ÊµèËßàÂô®ÊâìÂºÄÈúÄË¶ÅË∞ÉËØïÁöÑÈ°µÈù¢ÔºåÂπ∂Âú® MacBook ‰∏äÁöÑ Safari ‰∏≠ÈÄâÊã© `ÂºÄÂèë -> ÔºàËøûÊé•ËÆæÂ§áÂêçÁß∞Ôºâ-> ÔºàË∞ÉËØïÈ°µÈù¢ÂüüÂêçÔºâ`\n4. ÈÄâ‰∏≠Âêé‰ºöÂá∫Áé∞Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÁöÑÁïåÈù¢ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂÆûÁé∞Â¶Ç PC Á´ØÁöÑË∞ÉËØïÂäüËÉΩ\n\nÂ¶ÇÊûú Safari Ë∞ÉËØïÈù¢Êùø‰∏ÄÁâáÁ©∫ÁôΩÂèØ‰ª•‰∏ãËΩΩ‰∏™ [Safari Technology Preview](https://developer.apple.com/safari/download/)\n\n## Âü∫‰∫é Android ÁöÑÂºÄÂèëË∞ÉËØï\n\n### Chrome + USB ËøúÁ®ãËÆæÂ§áË∞ÉËØï\n\nÈÄöËøáÂÆâÂçìÊâãÊú∫‰∏é‰ªªÊÑèÁ≥ªÁªüÁöÑÁîµËÑëÂêåÊó∂ÂÆâË£Ö Chrome ÊµèËßàÂô®ÔºåÂπ∂ÈÄöËøá USB ËøõË°åÊúâÁ∫øËøûÊé•ÔºåÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®ÂÜÖÁΩÆÁöÑÂäüËÉΩÂÆûÁé∞ËøúÁ®ãË∞ÉËØïÔºåÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÈÄöËøá PC Á´Ø Chrome ÁöÑÂºÄÂèëËÄÖÂ∑•ÂÖ∑Ë∞ÉËØïÊâãÊú∫‰∏ä Chrome ÊâìÂºÄÁöÑÁΩëÈ°µ„ÄÇ\n\nË∞ÉËØïÊñπÂºèÔºö\n\n1. Android ÊâãÊú∫Âíå PC ÁîµËÑëÂêåÊó∂‰∏ãËΩΩ Chrome ÊµèËßàÂô®\n2. ÊâìÂºÄ Android ÊâãÊú∫ `ËÆæÁΩÆ -> ÂºÄÂèëËÄÖÈÄâÈ°π -> USB Ë∞ÉËØï`ÔºàÂèØËÉΩ‰∏çÂêåÂéÇÂïÜÁöÑËÆæÂÆö‰∏ç‰∏ÄËá¥ÔºåÊúÄÁªàÁõÆÁöÑÂ∞±ÊòØÊâìÂºÄ USB Ë∞ÉËØïÔºåÂ¶ÇÊûúÊâìÂºÄË∑ØÂæÑ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÂèØ‰ª•Ëá™Ë°åÊé¢Á¥¢ÊàñÊêúÁ¥¢ÂØπÂ∫îËÆæÂ§áÊâìÂºÄ USB Ë∞ÉËØïÁöÑÊñπÂºèÔºâ„ÄÇ\n3. Âà©Áî® USB Êï∞ÊçÆÁ∫øÔºåÂ∞Ü Android ÊâãÊú∫‰∏é PC ÁîµËÑëËøûÊé•ÔºåÊâãÊú∫ÁêÜËÆ∫‰∏ä‰ºöÊèêÁ§∫ÊòØÂê¶ÂÖÅËÆ∏ USB Ë∞ÉËØïÔºåÈÄâÊã© `Á°ÆËÆ§` ÁöÑÈÄâÈ°πÁöÑÂ∞±Â•Ω‰∫Ü\n4. ÊâìÂºÄ PC ÁîµËÑë‰∏äÁöÑ Chrome ÊµèËßàÂô®ÔºåÊâìÂºÄÂºÄÂèëËÄÖÂ∑•ÂÖ∑ `Console -> Âè≥‰æß Customize and control DevTools -> More tools -> Remote devices`\n5. ÊØè‰∏™È°µÈù¢Âè≥‰æßÂùáÊúâ‰∏Ä‰∏™ Inspect Ê£ÄÊü•ÁöÑÊåâÈíÆÔºåÁÇπÂáªÂ∞±‰ºöÂá∫Áé∞‰Ω†ÁÜüÊÇâÁöÑÁîªÈù¢Ôºå\n\nÊõ¥ËØ¶Â∞ΩÁöÑË∞ÉËØïÊñπÂºèÂèØ‰ª•ÂèÇËÄÉ Google ÂÆòÊñπÁöÑÂºÄÂèëËÄÖÊñáÊ°£Áõ∏ÂÖ≥Á´†ËäÇÔºö\n\n- [Android ËÆæÂ§áÁöÑËøúÁ®ãË∞ÉËØïÂÖ•Èó®](https://developers.google.com/web/tools/chrome-devtools/remote-debugging/)\n- [ËÆøÈóÆÊú¨Âú∞ÊúçÂä°Âô®](https://developers.google.com/web/tools/chrome-devtools/remote-debugging/local-server)\n- [ËøúÁ®ãË∞ÉËØï WebView](https://developers.google.com/web/tools/chrome-devtools/remote-debugging/webviews)\n\n## ÂæÆ‰ø°\n\n### ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑\n\nÂæÆ‰ø°ÁîüÊÄÅÂåÖÊã¨ÂÖ¨ÂÖ±Âè∑ÁΩëÈ°µÂºÄÂèë„ÄÅÂ∞èÁ®ãÂ∫è„ÄÅÂ∞èÊ∏∏ÊàèÁ≠â‰ΩøÁî®ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑Â∞±Ë°å‰∫ÜÔºåËøôÊ≤°Êúâ‰ªÄ‰πà‰∫âËÆÆÔºåÊØïÁ´üÂÆòÊñπÊèê‰æõÁöÑÂ∑•ÂÖ∑„ÄÇ\n\n[ÊñáÊ°£ÔºöÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑](https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools.html)\n\n### ÁºìÂ≠òÊ∏ÖÈô§ÊñπÊ≥ï\n\nËøôÈáåÊèêÊèêÊêúÂà∞ÁöÑ‰∏Ä‰∏™ÂæÆ‰ø°ÂÜÖÁΩëÈ°µÁºìÂ≠òÁöÑÊ∏ÖÈô§ÊñπÊ≥ïÔºö\n\n1. ÂæÆ‰ø°‰∏≠ÊâìÂºÄÁΩëÈ°µ [http://debugx5.qq.com](http://debugx5.qq.com)\n2. ÊªëÂä®Âà∞Â∫ïÈÉ®ÔºåÈÄâ‰∏≠Âõõ‰∏™ÁºìÂ≠òÈÄâÈ°π `Cookie`„ÄÅ`Êñá‰ª∂ÁºìÂ≠ò`„ÄÅ`ÂπøÂëäËøáÊª§ÁºìÂ≠ò` Âíå `DNS ÁºìÂ≠ò`ÔºåÁÇπÂáªÊ∏ÖÈô§Âç≥ÂèØ\n\n## ÂÖ∂‰ªñ‰ªòË¥πÊúçÂä°\n\nÂú®Ë∞ÉÁ†îËøáÁ®ã‰∏≠‰πüÂèëÁé∞‰∫Ü‰∏Ä‰∫õÊå∫‰∏çÈîôÁöÑ‰ªòË¥πË∞ÉËØïÂ∑•ÂÖ∑Ôºö\n\n- [Â≤©Èº†ÔºöÊèê‰æõÁßüÁî®ÁöÑ‰∫ëÁ´ØÁúüÊú∫Âπ≥Âè∞ËøúÁ®ãË∞ÉËØïÔºåË¶ÜÁõñÂ∏ÇÈù¢ÁÉ≠Èó®ÂìÅÁâåÊú∫Âûã](https://yanshu.effirst.com/)\n- Charles Proxy on iOSÔºöiOS ÁâàÁöÑ CharlesÔºåÂèØ‰ª•Áõ¥Êé•Âú® iPhone ÊâãÊú∫‰∏äË∞ÉËØï\n\n---\n\n**ÂèÇËÄÉËµÑÊñôÔºö**\n\n- [ÁßªÂä®Á´ØÂâçÁ´ØÂºÄÂèëË∞ÉËØï](https://yujiangshui.com/multidevice-frontend-debug/)\n- [ÂêÑÁßçÁúüÊú∫ËøúÁ®ãË∞ÉËØïÊñπÊ≥ïÊ±áÊÄª](https://github.com/jieyou/remote_inspect_web_on_real_device)\n- [H5 ÁßªÂä®Ë∞ÉËØïÂÖ®ÊîªÁï•](https://zhuanlan.zhihu.com/p/51794821)\n- [ÁßªÂä®Á´ØË∞ÉËØïÁóõÁÇπÔºüÈÄÅ‰Ω†‰∫îÊ¨æÂºÄÂèëÂà©Âô®](https://juejin.im/post/5b72e1f66fb9a009d018fb94)\n- [‰Ω†ÈúÄË¶ÅÁöÑ App ÂÜÖ H5 ÁöÑË∞ÉËØïÊñπÊ≥ï](https://zhuanlan.zhihu.com/p/103642413)\n- [ÂæÆ‰ø°ÂºÄÂèëÂ¶Ç‰ΩïÂÅöÊú¨Âú∞Ë∞ÉËØï](https://www.zhihu.com/question/25456655)\n","source":"_posts/summary-of-common-development-and-debugging-methods-of-mobile-front-end.md","raw":"---\ntitle: Â∏∏Áî®ÁßªÂä®ÂâçÁ´ØÂºÄÂèëË∞ÉËØïÊñπÂºè\ndate: '2020-05-27'\n---\n\n# Â∏∏Áî®ÁßªÂä®ÂâçÁ´ØÂºÄÂèëË∞ÉËØïÊñπÂºè\n\nÂõ†‰∏∫Êó•Â∏∏ÂºÄÂèëÁªèÂ∏∏ÈúÄË¶ÅÂú®ÁßªÂä®ËÆæÂ§á‰∏äË∞ÉËØïÊµãËØïÂºÄÂèëÁöÑ H5 È°µÈù¢Ôºå‰ΩÜÊòØ‰∏ÄÁõ¥ÈÉΩÊ≤°ÊÄé‰πàÊÄªÁªìËøáÁßªÂä®ÂâçÁ´ØÂºÄÂèëÁõ∏ÂÖ≥ÁöÑË∞ÉËØïÂ∑•ÂÖ∑ÊàñÊñπÊ≥ïÔºå‰ªäÂ§©Á®çÂæÆÊÄªÁªì‰∏Ä‰∏ãÊØîËæÉÂ•ΩÁî®ÁöÑË∞ÉËØïÂ∑•ÂÖ∑Ôºå‰πüÁΩóÂàó‰∫Ü‰∏Ä‰∫õÊ≤°ÊúâÁî®Ëøá‰ΩÜÊòØÂÄºÂæó‰∫ÜËß£ÁöÑÂ∑•ÂÖ∑\n\n## ÈÄöÁî®Ë∞ÉËØïÂ∑•ÂÖ∑ÊñπÊ≥ï\n\n### Chrome ÁßªÂä®ËÆæÂ§áÊ®°ÊãüÂô®\n\nChrome ÊµèËßàÂô®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑ÂÜÖÁΩÆ‰∫ÜÂèØÁî®‰∫éÊ®°ÊãüÁßªÂä®ËÆæÂ§áÁöÑÂäüËÉΩÔºåËøô‰πüÊòØÊúÄÂ∏∏Áî®ÁöÑË∞ÉËØïÊñπÂºèÔºåËøôÈáåÂè™ÊòØÁÆÄÂçïËØ¥ÊòéÊìç‰ΩúÊ≠•È™§Ôºö\n\n1. Âú® PC Á´ØÊâìÂºÄ Chrome ÊµèËßàÂô®Âπ∂ÊâìÂºÄÁõÆÊ†áÈ°µÈù¢ÔºåÁÑ∂Âêé F12 ÊâìÂºÄÂºÄÂèëËÄÖÂ∑•ÂÖ∑\n2. ÁÇπÂáªÂºÄÂèëËÄÖÂ∑•ÂÖ∑Â∑¶‰∏äËßíÁöÑÊâãÊú∫ÂõæÊ†áÔºåÂà∑Êñ∞È°µÈù¢ÂêéÂç≥ÂèØË∞ÉËØï\n3. È°µÈù¢È°∂ÈÉ®ËÆæÂ§áÈÄâÊã©‰∏ãÊãâËèúÂçïÂèØÈÄâÊã©ÈªòËÆ§ÁöÑÂ§öÁßçÂìÅÁâåÊú∫ÂûãÔºå‰ª•Âèä‰ªøÁúüÁöÑÁΩëÁªúÁä∂ÊÄÅ\n4. ÈÄâÊã©‰∏ãÊù•ËèúÂçï‰∏≠ÁöÑ `Edit` ËøõÂÖ•ÈÄÇÈÖçËÆæÂ§áÁöÑÊú∫ÂûãÈÄâÊã©ÔºåÊó¢ÊúâÊµèËßàÂô®Êèê‰æõÁöÑÊú∫ÂûãÔºå‰πüÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅËÆæÂÆöËá™ÂÆö‰πâÊú∫ÂûãÔºà‰∏ªË¶ÅÊòØÊµãËØïÂÆΩÈ´òÊØîÔºâ\n\nÂõ†‰∏∫‰ΩøÁî®Ëµ∑Êù•Êñπ‰æøÔºåÊâÄ‰ª•ÂºÄÂèëË∞ÉËØïÁöÑÂ§ßÈÉ®ÂàÜÈÉΩËÉΩÊª°Ë∂≥ÈúÄÊ±ÇÔºå‰ΩÜÊòØË¶ÅÊõ¥‰ªøÁúüÊõ¥‰∏•Ë∞®ËøòÊòØÈúÄË¶ÅÂú®ÁúüÊú∫‰∏≠Ë∞ÉËØï„ÄÇ\n\n### vConsole ÁßªÂä®Á´ØÁΩëÈ°µ‰∏äÁöÑË∞ÉËØïÊéßÂà∂Âè∞\n\n[vConsole](https://github.com/Tencent/vConsole) ÊòØ‰∏ÄÊ¨æËΩªÈáèÁ∫ß„ÄÅÂèØÊãìÂ±ï„ÄÅÈíàÂØπÊâãÊú∫ÁΩëÈ°µÁöÑÂâçÁ´ØÂºÄÂèëËÄÖË∞ÉËØïÈù¢Êùø„ÄÇ\n\nÈÄöËøáËØ•Â∑•ÂÖ∑ÂèØ‰ª•Êñπ‰æøÂú∞Âú®ÁßªÂä®ÁúüÊú∫ÁöÑ Web È°µÈù¢‰∏≠ÈÄöËøá‰ª•‰∏ãÁâπÊÄßÂÆûÁé∞Ë∞ÉËØïÂäüËÉΩÔºö\n\n- Êü•Áúã console Êó•Âøó\n- Êü•ÁúãÁΩëÁªúËØ∑Ê±Ç‰ø°ÊÅØ\n- Êü•ÁúãÈ°µÈù¢ element ÁªìÊûÑ\n- Êü•Áúã Cookie„ÄÅlocalStorage Âíå SessionStorage\n- ÊâãÂä®ÊâßË°å JavaScript ÂëΩ‰ª§Ë°å\n- Ëá™ÂÆö‰πâÊèí‰ª∂\n\n<!-- more -->\n\nËøôÊ¨æÁ±ªÂ∫ìÂ∫îËØ•ÊòØ‰ΩøÁî®ÊúÄÂπøÊ≥õÁöÑÂ∑•ÂÖ∑ÔºåËÄå‰∏î‰ΩøÁî®Ëµ∑Êù•‰πüÊØîËæÉÁÆÄÂçïÔºå‰∏é PC Á´Ø Chrome Á≠âÂºÄÂèëËÄÖË∞ÉËØïÂ∑•ÂÖ∑‰ΩøÁî®ÊñπÂºèÁ±ª‰ººÔºåÊâÄ‰ª•Â∞±‰∏çÂ§öÂèôËø∞‰∫Ü„ÄÇ\n\nÊõ¥Â§öÂÖ≥‰∫éÊ≠§Â∑•ÂÖ∑ÁöÑ‰ΩøÁî®ÊïôÁ®ãÂèØ‰ª•ÂèÇÈòÖ [vConsole ‰ΩøÁî®ÊïôÁ®ã](https://github.com/Tencent/vConsole/blob/dev/doc/tutorial_CN.md)\n\nÈô§Ê≠§‰πãÂ§ñÔºåÊúâ‰∏™ÂêåÊ†∑ÊòØ AlloyTeam Âá∫ÂìÅÁöÑÈîôËØØÁõëÊéß‰∏äÊä•„ÄÅÊîØÊåÅÁîü‰∫ßÁéØÂ¢ÉÈÄöËøá URL Â∏¶ÂèÇÊï∞Âî§Ëµ∑ vConsole ÁöÑÂ∫ì [AlloyLever](https://github.com/AlloyTeam/AlloyLever) ‰πüÂÄºÂæóÂÖ≥Ê≥®‰∏Ä‰∏ã„ÄÇ\n\nÂêåÁ±ªÂûãÁöÑ‰∫ßÂìÅÊúâ [eruda](https://github.com/liriliri/eruda)\n\n#### ÂÆûÁé∞ÂéüÁêÜ\n\nÈÄöËøáÂú®È°µÈù¢Ê≥®ÂÖ• JavaScript ËÑöÊú¨ÂÆûÁé∞Ê®°ÊãüÁ±ª‰ºº Chrome DevTool ÁöÑË∞ÉËØïÈù¢Êùø„ÄÇ\n\nÈÄöËøáÈáçÂÜô `XHMLHttpRequest`„ÄÅ`fetch`„ÄÅ`console` ÊñπÊ≥ïÂÆûÁé∞ÁΩëÁªúËØ∑Ê±ÇÂíåÊó•ÂøóÊâìÂç∞ÁöÑÊã¶Êà™ÔºåÂπ∂ËæìÂá∫Âà∞ÊéßÂà∂Èù¢Êùø‰∏≠ÁöÑ `Network` Âíå `Console` Ê†áÁ≠æ„ÄÇ\n\nÈÄöËøáÈÅçÂéÜ Cookie„ÄÅLocalStorage„ÄÅSessionStorage ÂØπË±°‰∏ãÁöÑÊâÄÊúâÂ≠òÂÇ®ÈîÆÂÄº‰ª•Ëé∑ÂèñÂΩìÂâçÁΩëÈ°µÁöÑÊú¨Âú∞Â≠òÂÇ®Êï∞ÊçÆ„ÄÇ\n\nËÄå `Element` Ê†áÁ≠æ‰∏≠ÁöÑÈ°µÈù¢ DOM Ê†ëÁªìÊûÑÔºåÂàôÈÄöËøá‰ªé `document.documentElement` ËäÇÁÇπÂºÄÂßãÂêëÂ≠êÂ≠ôËäÇÁÇπÈÄíÂΩíÁîüÊàê„ÄÇ\n\n### Charles Êï∞ÊçÆ‰º†ËæìÊäìÂåÖÂ∑•ÂÖ∑\n\nËØïÊÉ≥‰ª•‰∏ãÂú®Êó•Â∏∏ÂºÄÂèë‰∏≠ÂèØËÉΩ‰ºöÈÅáÂà∞ÁöÑÂú∫ÊôØÔºö\n\n1. Âú®Êú¨Âú∞ÂºÄÂèëÂÆåÁßªÂä® H5 È°µÈù¢ÂêéÔºåÊÉ≥‰∏éÂêéÁ´ØËÅîË∞ÉÊé•Âè£Ôºå‰ΩÜÊòØÊé•Âè£ÈÉ®ÁΩ≤Âú®Êú∫ÊàøÊúçÂä°Âô®‰∏äÔºåÂüüÂêçÈùû IP Âú∞ÂùÄÔºåËøô‰∏™Êó∂ÂÄôËÅîË∞É‰ºöÂ≠òÂú®Ë∑®ÂüüÈóÆÈ¢òÔºåÂ∫îËØ•ÊÄéÊ†∑Ëß£ÂÜ≥Ôºü\n2. Á∫ø‰∏ä Web App Ë°®Áé∞ÂºÇÂ∏∏ÔºåÊ≤°Ê≥ïÂú®Á∫ø‰∏äÈ°µÈù¢‰ΩøÁî®Ë∞ÉËØïÈù¢ÊùøËøõË°åË∞ÉËØïÔºåÊÄéÊ†∑ÂÆö‰ΩçÈóÆÈ¢òÔºü\n3. Á∫ø‰∏ä Web App Ë°®Áé∞ÂºÇÂ∏∏ÔºåÊé•Âè£ËØ∑Ê±ÇÂìçÂ∫îË°®Áé∞Ê≠£Â∏∏ÔºåÂçï‰ªé‰ª£Á†ÅÂ±ÇÈù¢Êó†Ê≥ïÂÆö‰ΩçÈóÆÈ¢òÊ†πÊ∫êÔºåÊÄéÊ†∑Êõ¥Â•ΩÂú∞ÂÆö‰ΩçÈóÆÈ¢òÔºü\n\nÂú® Charles Âº∫Â§ßÁöÑÊäìÂåÖÂäüËÉΩÈù¢ÂâçÔºåËøô‰∫õÈóÆÈ¢òÈÄöÈÄöÈÉΩ‰∏çÊòØÈóÆÈ¢ò„ÄÇÊàë‰ª¨ÂÖà‰ªãÁªç‰∏Ä‰∏ã CharlesÔºö\n\n[Charles](https://www.charlesproxy.com/) ÊòØ‰∏ÄÊ¨æÂü∫‰∫é HTTP ÂçèËÆÆÁöÑ‰ª£ÁêÜÊúçÂä°Âô®ÔºåÈÄöËøáÊà™ÂèñËØ∑Ê±ÇÂíåËØ∑Ê±ÇÁªìÊûúËææÂà∞ÂàÜÊûêÊäìÂåÖÁöÑÁõÆÁöÑ„ÄÇ\n\n‰ª•‰∏ãÊòØ Charles ÁöÑÂäüËÉΩÁâπÊÄßÔºö\n\n- ÊîØÊåÅ HTTP Âíå HTTPS ‰ª£ÁêÜÔºåÊà™ÂèñÂàÜÊûê SSL ËØ∑Ê±Ç\n- ÊîØÊåÅÊµÅÈáèÊéßÂà∂ÔºåÂèØ‰ª•Ê®°ÊãüÂº±ÁΩëÊµãËØïÁéØÂ¢É\n- ÊîØÊåÅÊé•Âè£Âπ∂ÂèëËØ∑Ê±Ç\n- ÊîØÊåÅÈáçÂèëÁΩëÁªúËØ∑Ê±ÇÔºåÊñπ‰æøÂêéÁ´ØË∞ÉËØï\n- ÊîØÊåÅ‰øÆÊîπÁΩëÁªúËØ∑Ê±ÇÂèÇÊï∞\n- ÊîØÊåÅÁΩëÁªúËØ∑Ê±ÇÁöÑÊà™Ëé∑Âπ∂Âä®ÊÄÅ‰øÆÊîπ\n- ÊîØÊåÅÊñ≠ÁÇπË∞ÉËØïÔºåÊûÑÂª∫ÂºÇÂ∏∏ÁöÑÊµãËØïÂú∫ÊôØ\n\n#### ‰ΩøÁî®ÊñπÂºè\n\n‰ΩøÁî® Charles ÊäìÂåÖÊâãÊú∫ÂêëÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÁöÑÊìç‰ΩúÊ≠•È™§Ôºö\n\n1. ÂÆâË£ÖÊ†πËØÅ‰π¶Ôºö`ËèúÂçï -> Help -> SSL Proxying -> Install Charles Root Certificate`\n\n![ÂÆâË£ÖÊ†πËØÅ‰π¶](https://img.mrsingsing.com/wireless-debugger-install-charles-certificate.jpg)\n\n2. ÊâæÂà∞ÂÆâË£ÖÂ•Ω Charles ÁöÑÊ†πËØÅ‰π¶ÂêéÔºåÁ°Æ‰øùËØÅ‰π¶ÁöÑÊâÄÊúâÈÄâÈ°πÂùá‰∏∫ÂßãÁªà‰ø°‰ªªÔºàËøô‰∏™ËØÅ‰π¶ÂêéÁª≠‰ºö‰∏ãËΩΩÂà∞‰Ω†ÁöÑÊâãÊú∫‰∏≠‰ΩøÁî®Ôºâ\n\n![ÊÄªÊòØ‰ø°‰ªª](https://img.mrsingsing.com/wireless-debugger-always-trust-certificate.jpg)\n\n3. ÁÑ∂ÂêéÂºÄÂêØ Charles ÁöÑ‰ª£ÁêÜÊúçÂä°Ôºö`Proxy -> Proxy Setting`Ôºå`port` Á´ØÂè£Â°´ `8888`ÔºåÈÄâ‰∏≠ `Enable transparent HTTP proxying`\n\nÊâæÂà∞ÂΩìÂâç‰ΩøÁî®ÁöÑ Mac Á¨îËÆ∞Êú¨ÁöÑ IP Âú∞ÂùÄÔºàÈÄöËøá `Charles -> Help -> Local IP Address` ÂèØ‰ª•Ëé∑ÂèñÔºâ\n\n![ÂºÄÂêØCharles‰ª£ÁêÜ](https://img.mrsingsing.com/wireless-debugger-enable-charles-proxying.jpg)\n\n4. Áªô iPhone ËÆæÁΩÆ‰ª£ÁêÜ\n\n- ÊâìÂºÄ iPhoneÔºåËøûÊé• WifiÔºàÈúÄË¶ÅÁ°Æ‰øù iPhone ‰∏é Mac ËøûÊé•ÁöÑÊòØÁõ∏ÂêåÁöÑ WifiÔºâ\n- ÊâìÂºÄ Wifi ÂêçÂêéÁöÑËìùËâ≤ÊÑüÂèπÂè∑ÔºåÂú®ÊúÄ‰∏ãÈù¢ÊâæÂà∞ `HTTP ‰ª£ÁêÜ`ÔºåÁÇπÂáªËøõÂÖ•\n- ÈÄâÊã© `ÊâãÂä®`ÔºåÊúçÂä°Âô®‰∏äÂ°´‰∏äÁ´ØÂè£Âè∑ `8888`\n\n5. Èöè‰æøÊâìÂºÄÁΩëÈ°µÔºåËøô‰∏™Êó∂ÂÄô Charles ‰ºöÂºπÂá∫ËØ∑Ê±ÇËøûÊé•ÁöÑÁ°ÆËÆ§ËèúÂçïÔºåÈÄâÊã©Â∑¶ËæπÈÄâÈ°π `Allow`\n\n6) Âú®ÊâãÊú∫ÊµèËßàÂô®‰∏≠ÔºàÊúÄÂ•ΩÊòØ SafariÔºâÔºåËæìÂÖ• `chls.pro/ssl`Ôºå‰ºöÂºπÂá∫ÂÆâË£ÖËØÅ‰π¶ÁöÑËØ∑Ê±ÇÔºåËæìÂÖ•ÂØÜÁ†ÅÔºå‰∏ÄÁõ¥ÁÇπÂÆâË£ÖÂç≥ÂèØ\n\n- ÊâìÂºÄËÆæÁΩÆÔºåÁÇπÂáª `ÈÄöÁî® -> ÂÖ≥‰∫éÊú¨Êú∫ -> ËØÅ‰π¶‰ø°‰ªªËÆæÁΩÆ`ÔºåÊâæÂà∞ÂΩìÂâçË¶Å‰Ωú‰∏∫‰ª£ÁêÜÁöÑÁîµËÑëÂêçÔºåÊâìÂºÄ‰ø°‰ªªÂºÄÂÖ≥\n\nËøô‰∏™Êó∂ÂÄôÊó¢ÂèØ‰ª•Êà™ÂèñÂà∞ HTTP/HTTPS ÁöÑÁΩëÁªúËØ∑Ê±Ç‰∫Ü„ÄÇ\n\n#### ÂÆûÁé∞ÂéüÁêÜ\n\n![CharlesÂÆûÁé∞ÂéüÁêÜ](https://img.mrsingsing.com/wireless-debugger-charles-principle.jpg)\n\n‰∫ãÂÆû‰∏ä Charles Â∞±ÊòØÂÖÖÂΩìÊâÄË∞ìÁöÑ `‰∏≠Èó¥‰∫∫` ËßíËâ≤ÔºåÊääÊàë‰ª¨ÁöÑËÆæÂ§áÂèëÈÄÅÁöÑËØ∑Ê±ÇÊã¶Êà™‰∏ãÊù•ÔºåÂπ∂ËΩ¨ÂèëÁªôÊàë‰ª¨ÁöÑÁõÆÊ†áÊúçÂä°Âô®ÔºåËÄåÂêéÂ∞ÜÂìçÂ∫îÁöÑ‰ø°ÊÅØËøîÂõûÁªôÊàë‰ª¨ÁöÑËÆæÂ§á„ÄÇ\n\nÂâçÊèêÊòØËÆæÂ§á‰∏äÈúÄË¶ÅÂÆâË£ÖÂπ∂‰ø°‰ªª Charles ÁöÑËØÅ‰π¶ÔºåËøô‰∏™‰∏∫‰∫ÜÂΩì HTTPS ‰º†ËæìÊó∂ÔºåCharles ÈúÄË¶ÅÊã¶Êà™Ëß£ÂØÜÊï∞ÊçÆÂπ∂Âà©Áî®ÊúçÂä°Á´ØÁöÑËØÅ‰π¶ÂÖ¨Èí•Âíå HTTPS ËøûÊé•ÁöÑÂØπÁß∞ÂØÜÈí•ÂÅöÂêéÁª≠ÁöÑ‰º†ËæìÂä†ÂØÜ„ÄÇ\n\nÁî±‰∫éÊú¨‰∫∫‰ΩøÁî® Charles ÊØîËæÉÂ§öÔºå‰ΩÜÂÖ∂ÂÆûËøòÊúâÂæàÂ§öÁ±ª‰ººÁöÑÊäìÂåÖÂ∑•ÂÖ∑Ôºå‰æãÂ¶ÇÔºö\n\n- ËΩØ‰ª∂Á±ª\n  - [Fiddler](https://www.telerik.com/fiddler)\n  - [Wireshark](https://www.wireshark.org/download.html)\n  - [Weinre](https://github.com/nupthale/weinre)ÔºöÂü∫‰∫é Web Inspector ÁöÑËøúÁ®ãË∞ÉËØïÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Âú® PC ‰∏äÁõ¥Êé•Ë∞ÉËØïËøêË°åÂú®ÊâãÊú∫‰∏äÁöÑÈ°µÈù¢\n- Â∑•ÂÖ∑ÂåÖÁ±ª\n  - [spy-debugger](https://github.com/wuchangming/spy-debugger)Ôºö‰∏ÄÁ´ôÂºèÈ°µÈù¢Ë∞ÉËØï„ÄÅÊäìÂåÖÂ∑•ÂÖ∑ÔºåËÉΩËøúÁ®ãË∞ÉËØï‰ªª‰ΩïÊâãÊú∫ÊµèËßàÂô®È°µÈù¢Ôºå‰ªª‰ΩïÊâãÊú∫ÁßªÂä®Á´Ø WebviewÔºåÊó†ÈúÄ USB ËøûÊé•ËÆæÂ§áÔºàÂÆûÁé∞ÂéüÁêÜ‰∏é Charles Á±ª‰ººÔºâ\n  - [whistle](https://github.com/avwo/whistle)ÔºöÂü∫‰∫é Node ÂÆûÁé∞ÁöÑË∑®Âπ≥Âè∞ÊäìÂåÖË∞ÉËØï‰ª£ÁêÜÂ∑•ÂÖ∑ÔºåÂäüËÉΩÂº∫Â§ßÔºåÊîØÊåÅ WebSocket„ÄÅÂèçÂìç‰ª£ÁêÜ„ÄÅÊèí‰ª∂Êâ©Â±ïÁ≠âÁâπÊÄß\n\n## Âü∫‰∫é iOS ÁöÑÂºÄÂèëË∞ÉËØï\n\n### Safari + Êï∞ÊçÆÁ∫ø ËøúÁ®ãËÆæÂ§áË∞ÉËØï\n\nÂâçÊúüÂáÜÂ§áÔºöiPhone + MacBook + ÂêÑËá™ÂÆâË£Ö Safari\n\nË∞ÉËØïÊñπÂºèÔºö\n\n1. ÊâìÂºÄ iPhone `ËÆæÁΩÆ -> Safari ÊµèËßàÂô® -> È´òÁ∫ß -> Web Ê£ÄÊü•Âô®`\n2. ÊâìÂºÄ MacBook ‰∏äÁöÑ Safari ÊµèËßàÂô® `ÂÅèÂ•ΩËÆæÁΩÆ -> È´òÁ∫ß -> Âú®ËèúÂçïÊ†è‰∏≠ÊòæÁ§∫‚ÄúÂºÄÂèë‚ÄùËèúÂçï`\n3. Áî®Êï∞ÊçÆÁ∫øËøûÊé• iPhone Âíå MacBookÔºåÂπ∂ÈÄâÊã© `‰ø°‰ªª` ËÆæÂ§áÔºåÂú® iPhone ‰∏äÁöÑ Safari ÊµèËßàÂô®ÊâìÂºÄÈúÄË¶ÅË∞ÉËØïÁöÑÈ°µÈù¢ÔºåÂπ∂Âú® MacBook ‰∏äÁöÑ Safari ‰∏≠ÈÄâÊã© `ÂºÄÂèë -> ÔºàËøûÊé•ËÆæÂ§áÂêçÁß∞Ôºâ-> ÔºàË∞ÉËØïÈ°µÈù¢ÂüüÂêçÔºâ`\n4. ÈÄâ‰∏≠Âêé‰ºöÂá∫Áé∞Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÁöÑÁïåÈù¢ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂÆûÁé∞Â¶Ç PC Á´ØÁöÑË∞ÉËØïÂäüËÉΩ\n\nÂ¶ÇÊûú Safari Ë∞ÉËØïÈù¢Êùø‰∏ÄÁâáÁ©∫ÁôΩÂèØ‰ª•‰∏ãËΩΩ‰∏™ [Safari Technology Preview](https://developer.apple.com/safari/download/)\n\n## Âü∫‰∫é Android ÁöÑÂºÄÂèëË∞ÉËØï\n\n### Chrome + USB ËøúÁ®ãËÆæÂ§áË∞ÉËØï\n\nÈÄöËøáÂÆâÂçìÊâãÊú∫‰∏é‰ªªÊÑèÁ≥ªÁªüÁöÑÁîµËÑëÂêåÊó∂ÂÆâË£Ö Chrome ÊµèËßàÂô®ÔºåÂπ∂ÈÄöËøá USB ËøõË°åÊúâÁ∫øËøûÊé•ÔºåÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®ÂÜÖÁΩÆÁöÑÂäüËÉΩÂÆûÁé∞ËøúÁ®ãË∞ÉËØïÔºåÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÈÄöËøá PC Á´Ø Chrome ÁöÑÂºÄÂèëËÄÖÂ∑•ÂÖ∑Ë∞ÉËØïÊâãÊú∫‰∏ä Chrome ÊâìÂºÄÁöÑÁΩëÈ°µ„ÄÇ\n\nË∞ÉËØïÊñπÂºèÔºö\n\n1. Android ÊâãÊú∫Âíå PC ÁîµËÑëÂêåÊó∂‰∏ãËΩΩ Chrome ÊµèËßàÂô®\n2. ÊâìÂºÄ Android ÊâãÊú∫ `ËÆæÁΩÆ -> ÂºÄÂèëËÄÖÈÄâÈ°π -> USB Ë∞ÉËØï`ÔºàÂèØËÉΩ‰∏çÂêåÂéÇÂïÜÁöÑËÆæÂÆö‰∏ç‰∏ÄËá¥ÔºåÊúÄÁªàÁõÆÁöÑÂ∞±ÊòØÊâìÂºÄ USB Ë∞ÉËØïÔºåÂ¶ÇÊûúÊâìÂºÄË∑ØÂæÑ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÂèØ‰ª•Ëá™Ë°åÊé¢Á¥¢ÊàñÊêúÁ¥¢ÂØπÂ∫îËÆæÂ§áÊâìÂºÄ USB Ë∞ÉËØïÁöÑÊñπÂºèÔºâ„ÄÇ\n3. Âà©Áî® USB Êï∞ÊçÆÁ∫øÔºåÂ∞Ü Android ÊâãÊú∫‰∏é PC ÁîµËÑëËøûÊé•ÔºåÊâãÊú∫ÁêÜËÆ∫‰∏ä‰ºöÊèêÁ§∫ÊòØÂê¶ÂÖÅËÆ∏ USB Ë∞ÉËØïÔºåÈÄâÊã© `Á°ÆËÆ§` ÁöÑÈÄâÈ°πÁöÑÂ∞±Â•Ω‰∫Ü\n4. ÊâìÂºÄ PC ÁîµËÑë‰∏äÁöÑ Chrome ÊµèËßàÂô®ÔºåÊâìÂºÄÂºÄÂèëËÄÖÂ∑•ÂÖ∑ `Console -> Âè≥‰æß Customize and control DevTools -> More tools -> Remote devices`\n5. ÊØè‰∏™È°µÈù¢Âè≥‰æßÂùáÊúâ‰∏Ä‰∏™ Inspect Ê£ÄÊü•ÁöÑÊåâÈíÆÔºåÁÇπÂáªÂ∞±‰ºöÂá∫Áé∞‰Ω†ÁÜüÊÇâÁöÑÁîªÈù¢Ôºå\n\nÊõ¥ËØ¶Â∞ΩÁöÑË∞ÉËØïÊñπÂºèÂèØ‰ª•ÂèÇËÄÉ Google ÂÆòÊñπÁöÑÂºÄÂèëËÄÖÊñáÊ°£Áõ∏ÂÖ≥Á´†ËäÇÔºö\n\n- [Android ËÆæÂ§áÁöÑËøúÁ®ãË∞ÉËØïÂÖ•Èó®](https://developers.google.com/web/tools/chrome-devtools/remote-debugging/)\n- [ËÆøÈóÆÊú¨Âú∞ÊúçÂä°Âô®](https://developers.google.com/web/tools/chrome-devtools/remote-debugging/local-server)\n- [ËøúÁ®ãË∞ÉËØï WebView](https://developers.google.com/web/tools/chrome-devtools/remote-debugging/webviews)\n\n## ÂæÆ‰ø°\n\n### ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑\n\nÂæÆ‰ø°ÁîüÊÄÅÂåÖÊã¨ÂÖ¨ÂÖ±Âè∑ÁΩëÈ°µÂºÄÂèë„ÄÅÂ∞èÁ®ãÂ∫è„ÄÅÂ∞èÊ∏∏ÊàèÁ≠â‰ΩøÁî®ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑Â∞±Ë°å‰∫ÜÔºåËøôÊ≤°Êúâ‰ªÄ‰πà‰∫âËÆÆÔºåÊØïÁ´üÂÆòÊñπÊèê‰æõÁöÑÂ∑•ÂÖ∑„ÄÇ\n\n[ÊñáÊ°£ÔºöÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑](https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools.html)\n\n### ÁºìÂ≠òÊ∏ÖÈô§ÊñπÊ≥ï\n\nËøôÈáåÊèêÊèêÊêúÂà∞ÁöÑ‰∏Ä‰∏™ÂæÆ‰ø°ÂÜÖÁΩëÈ°µÁºìÂ≠òÁöÑÊ∏ÖÈô§ÊñπÊ≥ïÔºö\n\n1. ÂæÆ‰ø°‰∏≠ÊâìÂºÄÁΩëÈ°µ [http://debugx5.qq.com](http://debugx5.qq.com)\n2. ÊªëÂä®Âà∞Â∫ïÈÉ®ÔºåÈÄâ‰∏≠Âõõ‰∏™ÁºìÂ≠òÈÄâÈ°π `Cookie`„ÄÅ`Êñá‰ª∂ÁºìÂ≠ò`„ÄÅ`ÂπøÂëäËøáÊª§ÁºìÂ≠ò` Âíå `DNS ÁºìÂ≠ò`ÔºåÁÇπÂáªÊ∏ÖÈô§Âç≥ÂèØ\n\n## ÂÖ∂‰ªñ‰ªòË¥πÊúçÂä°\n\nÂú®Ë∞ÉÁ†îËøáÁ®ã‰∏≠‰πüÂèëÁé∞‰∫Ü‰∏Ä‰∫õÊå∫‰∏çÈîôÁöÑ‰ªòË¥πË∞ÉËØïÂ∑•ÂÖ∑Ôºö\n\n- [Â≤©Èº†ÔºöÊèê‰æõÁßüÁî®ÁöÑ‰∫ëÁ´ØÁúüÊú∫Âπ≥Âè∞ËøúÁ®ãË∞ÉËØïÔºåË¶ÜÁõñÂ∏ÇÈù¢ÁÉ≠Èó®ÂìÅÁâåÊú∫Âûã](https://yanshu.effirst.com/)\n- Charles Proxy on iOSÔºöiOS ÁâàÁöÑ CharlesÔºåÂèØ‰ª•Áõ¥Êé•Âú® iPhone ÊâãÊú∫‰∏äË∞ÉËØï\n\n---\n\n**ÂèÇËÄÉËµÑÊñôÔºö**\n\n- [ÁßªÂä®Á´ØÂâçÁ´ØÂºÄÂèëË∞ÉËØï](https://yujiangshui.com/multidevice-frontend-debug/)\n- [ÂêÑÁßçÁúüÊú∫ËøúÁ®ãË∞ÉËØïÊñπÊ≥ïÊ±áÊÄª](https://github.com/jieyou/remote_inspect_web_on_real_device)\n- [H5 ÁßªÂä®Ë∞ÉËØïÂÖ®ÊîªÁï•](https://zhuanlan.zhihu.com/p/51794821)\n- [ÁßªÂä®Á´ØË∞ÉËØïÁóõÁÇπÔºüÈÄÅ‰Ω†‰∫îÊ¨æÂºÄÂèëÂà©Âô®](https://juejin.im/post/5b72e1f66fb9a009d018fb94)\n- [‰Ω†ÈúÄË¶ÅÁöÑ App ÂÜÖ H5 ÁöÑË∞ÉËØïÊñπÊ≥ï](https://zhuanlan.zhihu.com/p/103642413)\n- [ÂæÆ‰ø°ÂºÄÂèëÂ¶Ç‰ΩïÂÅöÊú¨Âú∞Ë∞ÉËØï](https://www.zhihu.com/question/25456655)\n","slug":"summary-of-common-development-and-debugging-methods-of-mobile-front-end","published":1,"updated":"2021-09-29T18:10:10.873Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867nc3000bbmjdvmpwm7bt","content":"<h1 id=\"Â∏∏Áî®ÁßªÂä®ÂâçÁ´ØÂºÄÂèëË∞ÉËØïÊñπÂºè\"><a href=\"#Â∏∏Áî®ÁßªÂä®ÂâçÁ´ØÂºÄÂèëË∞ÉËØïÊñπÂºè\" class=\"headerlink\" title=\"Â∏∏Áî®ÁßªÂä®ÂâçÁ´ØÂºÄÂèëË∞ÉËØïÊñπÂºè\"></a>Â∏∏Áî®ÁßªÂä®ÂâçÁ´ØÂºÄÂèëË∞ÉËØïÊñπÂºè</h1><p>Âõ†‰∏∫Êó•Â∏∏ÂºÄÂèëÁªèÂ∏∏ÈúÄË¶ÅÂú®ÁßªÂä®ËÆæÂ§á‰∏äË∞ÉËØïÊµãËØïÂºÄÂèëÁöÑ H5 È°µÈù¢Ôºå‰ΩÜÊòØ‰∏ÄÁõ¥ÈÉΩÊ≤°ÊÄé‰πàÊÄªÁªìËøáÁßªÂä®ÂâçÁ´ØÂºÄÂèëÁõ∏ÂÖ≥ÁöÑË∞ÉËØïÂ∑•ÂÖ∑ÊàñÊñπÊ≥ïÔºå‰ªäÂ§©Á®çÂæÆÊÄªÁªì‰∏Ä‰∏ãÊØîËæÉÂ•ΩÁî®ÁöÑË∞ÉËØïÂ∑•ÂÖ∑Ôºå‰πüÁΩóÂàó‰∫Ü‰∏Ä‰∫õÊ≤°ÊúâÁî®Ëøá‰ΩÜÊòØÂÄºÂæó‰∫ÜËß£ÁöÑÂ∑•ÂÖ∑</p>\n<h2 id=\"ÈÄöÁî®Ë∞ÉËØïÂ∑•ÂÖ∑ÊñπÊ≥ï\"><a href=\"#ÈÄöÁî®Ë∞ÉËØïÂ∑•ÂÖ∑ÊñπÊ≥ï\" class=\"headerlink\" title=\"ÈÄöÁî®Ë∞ÉËØïÂ∑•ÂÖ∑ÊñπÊ≥ï\"></a>ÈÄöÁî®Ë∞ÉËØïÂ∑•ÂÖ∑ÊñπÊ≥ï</h2><h3 id=\"Chrome-ÁßªÂä®ËÆæÂ§áÊ®°ÊãüÂô®\"><a href=\"#Chrome-ÁßªÂä®ËÆæÂ§áÊ®°ÊãüÂô®\" class=\"headerlink\" title=\"Chrome ÁßªÂä®ËÆæÂ§áÊ®°ÊãüÂô®\"></a>Chrome ÁßªÂä®ËÆæÂ§áÊ®°ÊãüÂô®</h3><p>Chrome ÊµèËßàÂô®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑ÂÜÖÁΩÆ‰∫ÜÂèØÁî®‰∫éÊ®°ÊãüÁßªÂä®ËÆæÂ§áÁöÑÂäüËÉΩÔºåËøô‰πüÊòØÊúÄÂ∏∏Áî®ÁöÑË∞ÉËØïÊñπÂºèÔºåËøôÈáåÂè™ÊòØÁÆÄÂçïËØ¥ÊòéÊìç‰ΩúÊ≠•È™§Ôºö</p>\n<ol>\n<li>Âú® PC Á´ØÊâìÂºÄ Chrome ÊµèËßàÂô®Âπ∂ÊâìÂºÄÁõÆÊ†áÈ°µÈù¢ÔºåÁÑ∂Âêé F12 ÊâìÂºÄÂºÄÂèëËÄÖÂ∑•ÂÖ∑</li>\n<li>ÁÇπÂáªÂºÄÂèëËÄÖÂ∑•ÂÖ∑Â∑¶‰∏äËßíÁöÑÊâãÊú∫ÂõæÊ†áÔºåÂà∑Êñ∞È°µÈù¢ÂêéÂç≥ÂèØË∞ÉËØï</li>\n<li>È°µÈù¢È°∂ÈÉ®ËÆæÂ§áÈÄâÊã©‰∏ãÊãâËèúÂçïÂèØÈÄâÊã©ÈªòËÆ§ÁöÑÂ§öÁßçÂìÅÁâåÊú∫ÂûãÔºå‰ª•Âèä‰ªøÁúüÁöÑÁΩëÁªúÁä∂ÊÄÅ</li>\n<li>ÈÄâÊã©‰∏ãÊù•ËèúÂçï‰∏≠ÁöÑ <code>Edit</code> ËøõÂÖ•ÈÄÇÈÖçËÆæÂ§áÁöÑÊú∫ÂûãÈÄâÊã©ÔºåÊó¢ÊúâÊµèËßàÂô®Êèê‰æõÁöÑÊú∫ÂûãÔºå‰πüÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅËÆæÂÆöËá™ÂÆö‰πâÊú∫ÂûãÔºà‰∏ªË¶ÅÊòØÊµãËØïÂÆΩÈ´òÊØîÔºâ</li>\n</ol>\n<p>Âõ†‰∏∫‰ΩøÁî®Ëµ∑Êù•Êñπ‰æøÔºåÊâÄ‰ª•ÂºÄÂèëË∞ÉËØïÁöÑÂ§ßÈÉ®ÂàÜÈÉΩËÉΩÊª°Ë∂≥ÈúÄÊ±ÇÔºå‰ΩÜÊòØË¶ÅÊõ¥‰ªøÁúüÊõ¥‰∏•Ë∞®ËøòÊòØÈúÄË¶ÅÂú®ÁúüÊú∫‰∏≠Ë∞ÉËØï„ÄÇ</p>\n<h3 id=\"vConsole-ÁßªÂä®Á´ØÁΩëÈ°µ‰∏äÁöÑË∞ÉËØïÊéßÂà∂Âè∞\"><a href=\"#vConsole-ÁßªÂä®Á´ØÁΩëÈ°µ‰∏äÁöÑË∞ÉËØïÊéßÂà∂Âè∞\" class=\"headerlink\" title=\"vConsole ÁßªÂä®Á´ØÁΩëÈ°µ‰∏äÁöÑË∞ÉËØïÊéßÂà∂Âè∞\"></a>vConsole ÁßªÂä®Á´ØÁΩëÈ°µ‰∏äÁöÑË∞ÉËØïÊéßÂà∂Âè∞</h3><p><a href=\"https://github.com/Tencent/vConsole\" target=\"_blank\" rel=\"noopener\">vConsole</a> ÊòØ‰∏ÄÊ¨æËΩªÈáèÁ∫ß„ÄÅÂèØÊãìÂ±ï„ÄÅÈíàÂØπÊâãÊú∫ÁΩëÈ°µÁöÑÂâçÁ´ØÂºÄÂèëËÄÖË∞ÉËØïÈù¢Êùø„ÄÇ</p>\n<p>ÈÄöËøáËØ•Â∑•ÂÖ∑ÂèØ‰ª•Êñπ‰æøÂú∞Âú®ÁßªÂä®ÁúüÊú∫ÁöÑ Web È°µÈù¢‰∏≠ÈÄöËøá‰ª•‰∏ãÁâπÊÄßÂÆûÁé∞Ë∞ÉËØïÂäüËÉΩÔºö</p>\n<ul>\n<li>Êü•Áúã console Êó•Âøó</li>\n<li>Êü•ÁúãÁΩëÁªúËØ∑Ê±Ç‰ø°ÊÅØ</li>\n<li>Êü•ÁúãÈ°µÈù¢ element ÁªìÊûÑ</li>\n<li>Êü•Áúã Cookie„ÄÅlocalStorage Âíå SessionStorage</li>\n<li>ÊâãÂä®ÊâßË°å JavaScript ÂëΩ‰ª§Ë°å</li>\n<li>Ëá™ÂÆö‰πâÊèí‰ª∂</li>\n</ul>\n<a id=\"more\"></a>\n<p>ËøôÊ¨æÁ±ªÂ∫ìÂ∫îËØ•ÊòØ‰ΩøÁî®ÊúÄÂπøÊ≥õÁöÑÂ∑•ÂÖ∑ÔºåËÄå‰∏î‰ΩøÁî®Ëµ∑Êù•‰πüÊØîËæÉÁÆÄÂçïÔºå‰∏é PC Á´Ø Chrome Á≠âÂºÄÂèëËÄÖË∞ÉËØïÂ∑•ÂÖ∑‰ΩøÁî®ÊñπÂºèÁ±ª‰ººÔºåÊâÄ‰ª•Â∞±‰∏çÂ§öÂèôËø∞‰∫Ü„ÄÇ</p>\n<p>Êõ¥Â§öÂÖ≥‰∫éÊ≠§Â∑•ÂÖ∑ÁöÑ‰ΩøÁî®ÊïôÁ®ãÂèØ‰ª•ÂèÇÈòÖ <a href=\"https://github.com/Tencent/vConsole/blob/dev/doc/tutorial_CN.md\" target=\"_blank\" rel=\"noopener\">vConsole ‰ΩøÁî®ÊïôÁ®ã</a></p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåÊúâ‰∏™ÂêåÊ†∑ÊòØ AlloyTeam Âá∫ÂìÅÁöÑÈîôËØØÁõëÊéß‰∏äÊä•„ÄÅÊîØÊåÅÁîü‰∫ßÁéØÂ¢ÉÈÄöËøá URL Â∏¶ÂèÇÊï∞Âî§Ëµ∑ vConsole ÁöÑÂ∫ì <a href=\"https://github.com/AlloyTeam/AlloyLever\" target=\"_blank\" rel=\"noopener\">AlloyLever</a> ‰πüÂÄºÂæóÂÖ≥Ê≥®‰∏Ä‰∏ã„ÄÇ</p>\n<p>ÂêåÁ±ªÂûãÁöÑ‰∫ßÂìÅÊúâ <a href=\"https://github.com/liriliri/eruda\" target=\"_blank\" rel=\"noopener\">eruda</a></p>\n<h4 id=\"ÂÆûÁé∞ÂéüÁêÜ\"><a href=\"#ÂÆûÁé∞ÂéüÁêÜ\" class=\"headerlink\" title=\"ÂÆûÁé∞ÂéüÁêÜ\"></a>ÂÆûÁé∞ÂéüÁêÜ</h4><p>ÈÄöËøáÂú®È°µÈù¢Ê≥®ÂÖ• JavaScript ËÑöÊú¨ÂÆûÁé∞Ê®°ÊãüÁ±ª‰ºº Chrome DevTool ÁöÑË∞ÉËØïÈù¢Êùø„ÄÇ</p>\n<p>ÈÄöËøáÈáçÂÜô <code>XHMLHttpRequest</code>„ÄÅ<code>fetch</code>„ÄÅ<code>console</code> ÊñπÊ≥ïÂÆûÁé∞ÁΩëÁªúËØ∑Ê±ÇÂíåÊó•ÂøóÊâìÂç∞ÁöÑÊã¶Êà™ÔºåÂπ∂ËæìÂá∫Âà∞ÊéßÂà∂Èù¢Êùø‰∏≠ÁöÑ <code>Network</code> Âíå <code>Console</code> Ê†áÁ≠æ„ÄÇ</p>\n<p>ÈÄöËøáÈÅçÂéÜ Cookie„ÄÅLocalStorage„ÄÅSessionStorage ÂØπË±°‰∏ãÁöÑÊâÄÊúâÂ≠òÂÇ®ÈîÆÂÄº‰ª•Ëé∑ÂèñÂΩìÂâçÁΩëÈ°µÁöÑÊú¨Âú∞Â≠òÂÇ®Êï∞ÊçÆ„ÄÇ</p>\n<p>ËÄå <code>Element</code> Ê†áÁ≠æ‰∏≠ÁöÑÈ°µÈù¢ DOM Ê†ëÁªìÊûÑÔºåÂàôÈÄöËøá‰ªé <code>document.documentElement</code> ËäÇÁÇπÂºÄÂßãÂêëÂ≠êÂ≠ôËäÇÁÇπÈÄíÂΩíÁîüÊàê„ÄÇ</p>\n<h3 id=\"Charles-Êï∞ÊçÆ‰º†ËæìÊäìÂåÖÂ∑•ÂÖ∑\"><a href=\"#Charles-Êï∞ÊçÆ‰º†ËæìÊäìÂåÖÂ∑•ÂÖ∑\" class=\"headerlink\" title=\"Charles Êï∞ÊçÆ‰º†ËæìÊäìÂåÖÂ∑•ÂÖ∑\"></a>Charles Êï∞ÊçÆ‰º†ËæìÊäìÂåÖÂ∑•ÂÖ∑</h3><p>ËØïÊÉ≥‰ª•‰∏ãÂú®Êó•Â∏∏ÂºÄÂèë‰∏≠ÂèØËÉΩ‰ºöÈÅáÂà∞ÁöÑÂú∫ÊôØÔºö</p>\n<ol>\n<li>Âú®Êú¨Âú∞ÂºÄÂèëÂÆåÁßªÂä® H5 È°µÈù¢ÂêéÔºåÊÉ≥‰∏éÂêéÁ´ØËÅîË∞ÉÊé•Âè£Ôºå‰ΩÜÊòØÊé•Âè£ÈÉ®ÁΩ≤Âú®Êú∫ÊàøÊúçÂä°Âô®‰∏äÔºåÂüüÂêçÈùû IP Âú∞ÂùÄÔºåËøô‰∏™Êó∂ÂÄôËÅîË∞É‰ºöÂ≠òÂú®Ë∑®ÂüüÈóÆÈ¢òÔºåÂ∫îËØ•ÊÄéÊ†∑Ëß£ÂÜ≥Ôºü</li>\n<li>Á∫ø‰∏ä Web App Ë°®Áé∞ÂºÇÂ∏∏ÔºåÊ≤°Ê≥ïÂú®Á∫ø‰∏äÈ°µÈù¢‰ΩøÁî®Ë∞ÉËØïÈù¢ÊùøËøõË°åË∞ÉËØïÔºåÊÄéÊ†∑ÂÆö‰ΩçÈóÆÈ¢òÔºü</li>\n<li>Á∫ø‰∏ä Web App Ë°®Áé∞ÂºÇÂ∏∏ÔºåÊé•Âè£ËØ∑Ê±ÇÂìçÂ∫îË°®Áé∞Ê≠£Â∏∏ÔºåÂçï‰ªé‰ª£Á†ÅÂ±ÇÈù¢Êó†Ê≥ïÂÆö‰ΩçÈóÆÈ¢òÊ†πÊ∫êÔºåÊÄéÊ†∑Êõ¥Â•ΩÂú∞ÂÆö‰ΩçÈóÆÈ¢òÔºü</li>\n</ol>\n<p>Âú® Charles Âº∫Â§ßÁöÑÊäìÂåÖÂäüËÉΩÈù¢ÂâçÔºåËøô‰∫õÈóÆÈ¢òÈÄöÈÄöÈÉΩ‰∏çÊòØÈóÆÈ¢ò„ÄÇÊàë‰ª¨ÂÖà‰ªãÁªç‰∏Ä‰∏ã CharlesÔºö</p>\n<p><a href=\"https://www.charlesproxy.com/\" target=\"_blank\" rel=\"noopener\">Charles</a> ÊòØ‰∏ÄÊ¨æÂü∫‰∫é HTTP ÂçèËÆÆÁöÑ‰ª£ÁêÜÊúçÂä°Âô®ÔºåÈÄöËøáÊà™ÂèñËØ∑Ê±ÇÂíåËØ∑Ê±ÇÁªìÊûúËææÂà∞ÂàÜÊûêÊäìÂåÖÁöÑÁõÆÁöÑ„ÄÇ</p>\n<p>‰ª•‰∏ãÊòØ Charles ÁöÑÂäüËÉΩÁâπÊÄßÔºö</p>\n<ul>\n<li>ÊîØÊåÅ HTTP Âíå HTTPS ‰ª£ÁêÜÔºåÊà™ÂèñÂàÜÊûê SSL ËØ∑Ê±Ç</li>\n<li>ÊîØÊåÅÊµÅÈáèÊéßÂà∂ÔºåÂèØ‰ª•Ê®°ÊãüÂº±ÁΩëÊµãËØïÁéØÂ¢É</li>\n<li>ÊîØÊåÅÊé•Âè£Âπ∂ÂèëËØ∑Ê±Ç</li>\n<li>ÊîØÊåÅÈáçÂèëÁΩëÁªúËØ∑Ê±ÇÔºåÊñπ‰æøÂêéÁ´ØË∞ÉËØï</li>\n<li>ÊîØÊåÅ‰øÆÊîπÁΩëÁªúËØ∑Ê±ÇÂèÇÊï∞</li>\n<li>ÊîØÊåÅÁΩëÁªúËØ∑Ê±ÇÁöÑÊà™Ëé∑Âπ∂Âä®ÊÄÅ‰øÆÊîπ</li>\n<li>ÊîØÊåÅÊñ≠ÁÇπË∞ÉËØïÔºåÊûÑÂª∫ÂºÇÂ∏∏ÁöÑÊµãËØïÂú∫ÊôØ</li>\n</ul>\n<h4 id=\"‰ΩøÁî®ÊñπÂºè\"><a href=\"#‰ΩøÁî®ÊñπÂºè\" class=\"headerlink\" title=\"‰ΩøÁî®ÊñπÂºè\"></a>‰ΩøÁî®ÊñπÂºè</h4><p>‰ΩøÁî® Charles ÊäìÂåÖÊâãÊú∫ÂêëÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÁöÑÊìç‰ΩúÊ≠•È™§Ôºö</p>\n<ol>\n<li>ÂÆâË£ÖÊ†πËØÅ‰π¶Ôºö<code>ËèúÂçï -&gt; Help -&gt; SSL Proxying -&gt; Install Charles Root Certificate</code></li>\n</ol>\n<p><img src=\"https://img.mrsingsing.com/wireless-debugger-install-charles-certificate.jpg\" alt=\"ÂÆâË£ÖÊ†πËØÅ‰π¶\"></p>\n<ol start=\"2\">\n<li>ÊâæÂà∞ÂÆâË£ÖÂ•Ω Charles ÁöÑÊ†πËØÅ‰π¶ÂêéÔºåÁ°Æ‰øùËØÅ‰π¶ÁöÑÊâÄÊúâÈÄâÈ°πÂùá‰∏∫ÂßãÁªà‰ø°‰ªªÔºàËøô‰∏™ËØÅ‰π¶ÂêéÁª≠‰ºö‰∏ãËΩΩÂà∞‰Ω†ÁöÑÊâãÊú∫‰∏≠‰ΩøÁî®Ôºâ</li>\n</ol>\n<p><img src=\"https://img.mrsingsing.com/wireless-debugger-always-trust-certificate.jpg\" alt=\"ÊÄªÊòØ‰ø°‰ªª\"></p>\n<ol start=\"3\">\n<li>ÁÑ∂ÂêéÂºÄÂêØ Charles ÁöÑ‰ª£ÁêÜÊúçÂä°Ôºö<code>Proxy -&gt; Proxy Setting</code>Ôºå<code>port</code> Á´ØÂè£Â°´ <code>8888</code>ÔºåÈÄâ‰∏≠ <code>Enable transparent HTTP proxying</code></li>\n</ol>\n<p>ÊâæÂà∞ÂΩìÂâç‰ΩøÁî®ÁöÑ Mac Á¨îËÆ∞Êú¨ÁöÑ IP Âú∞ÂùÄÔºàÈÄöËøá <code>Charles -&gt; Help -&gt; Local IP Address</code> ÂèØ‰ª•Ëé∑ÂèñÔºâ</p>\n<p><img src=\"https://img.mrsingsing.com/wireless-debugger-enable-charles-proxying.jpg\" alt=\"ÂºÄÂêØCharles‰ª£ÁêÜ\"></p>\n<ol start=\"4\">\n<li>Áªô iPhone ËÆæÁΩÆ‰ª£ÁêÜ</li>\n</ol>\n<ul>\n<li>ÊâìÂºÄ iPhoneÔºåËøûÊé• WifiÔºàÈúÄË¶ÅÁ°Æ‰øù iPhone ‰∏é Mac ËøûÊé•ÁöÑÊòØÁõ∏ÂêåÁöÑ WifiÔºâ</li>\n<li>ÊâìÂºÄ Wifi ÂêçÂêéÁöÑËìùËâ≤ÊÑüÂèπÂè∑ÔºåÂú®ÊúÄ‰∏ãÈù¢ÊâæÂà∞ <code>HTTP ‰ª£ÁêÜ</code>ÔºåÁÇπÂáªËøõÂÖ•</li>\n<li>ÈÄâÊã© <code>ÊâãÂä®</code>ÔºåÊúçÂä°Âô®‰∏äÂ°´‰∏äÁ´ØÂè£Âè∑ <code>8888</code></li>\n</ul>\n<ol start=\"5\">\n<li>Èöè‰æøÊâìÂºÄÁΩëÈ°µÔºåËøô‰∏™Êó∂ÂÄô Charles ‰ºöÂºπÂá∫ËØ∑Ê±ÇËøûÊé•ÁöÑÁ°ÆËÆ§ËèúÂçïÔºåÈÄâÊã©Â∑¶ËæπÈÄâÈ°π <code>Allow</code></li>\n</ol>\n<p>6) Âú®ÊâãÊú∫ÊµèËßàÂô®‰∏≠ÔºàÊúÄÂ•ΩÊòØ SafariÔºâÔºåËæìÂÖ• <code>chls.pro/ssl</code>Ôºå‰ºöÂºπÂá∫ÂÆâË£ÖËØÅ‰π¶ÁöÑËØ∑Ê±ÇÔºåËæìÂÖ•ÂØÜÁ†ÅÔºå‰∏ÄÁõ¥ÁÇπÂÆâË£ÖÂç≥ÂèØ</p>\n<ul>\n<li>ÊâìÂºÄËÆæÁΩÆÔºåÁÇπÂáª <code>ÈÄöÁî® -&gt; ÂÖ≥‰∫éÊú¨Êú∫ -&gt; ËØÅ‰π¶‰ø°‰ªªËÆæÁΩÆ</code>ÔºåÊâæÂà∞ÂΩìÂâçË¶Å‰Ωú‰∏∫‰ª£ÁêÜÁöÑÁîµËÑëÂêçÔºåÊâìÂºÄ‰ø°‰ªªÂºÄÂÖ≥</li>\n</ul>\n<p>Ëøô‰∏™Êó∂ÂÄôÊó¢ÂèØ‰ª•Êà™ÂèñÂà∞ HTTP/HTTPS ÁöÑÁΩëÁªúËØ∑Ê±Ç‰∫Ü„ÄÇ</p>\n<h4 id=\"ÂÆûÁé∞ÂéüÁêÜ-1\"><a href=\"#ÂÆûÁé∞ÂéüÁêÜ-1\" class=\"headerlink\" title=\"ÂÆûÁé∞ÂéüÁêÜ\"></a>ÂÆûÁé∞ÂéüÁêÜ</h4><p><img src=\"https://img.mrsingsing.com/wireless-debugger-charles-principle.jpg\" alt=\"CharlesÂÆûÁé∞ÂéüÁêÜ\"></p>\n<p>‰∫ãÂÆû‰∏ä Charles Â∞±ÊòØÂÖÖÂΩìÊâÄË∞ìÁöÑ <code>‰∏≠Èó¥‰∫∫</code> ËßíËâ≤ÔºåÊääÊàë‰ª¨ÁöÑËÆæÂ§áÂèëÈÄÅÁöÑËØ∑Ê±ÇÊã¶Êà™‰∏ãÊù•ÔºåÂπ∂ËΩ¨ÂèëÁªôÊàë‰ª¨ÁöÑÁõÆÊ†áÊúçÂä°Âô®ÔºåËÄåÂêéÂ∞ÜÂìçÂ∫îÁöÑ‰ø°ÊÅØËøîÂõûÁªôÊàë‰ª¨ÁöÑËÆæÂ§á„ÄÇ</p>\n<p>ÂâçÊèêÊòØËÆæÂ§á‰∏äÈúÄË¶ÅÂÆâË£ÖÂπ∂‰ø°‰ªª Charles ÁöÑËØÅ‰π¶ÔºåËøô‰∏™‰∏∫‰∫ÜÂΩì HTTPS ‰º†ËæìÊó∂ÔºåCharles ÈúÄË¶ÅÊã¶Êà™Ëß£ÂØÜÊï∞ÊçÆÂπ∂Âà©Áî®ÊúçÂä°Á´ØÁöÑËØÅ‰π¶ÂÖ¨Èí•Âíå HTTPS ËøûÊé•ÁöÑÂØπÁß∞ÂØÜÈí•ÂÅöÂêéÁª≠ÁöÑ‰º†ËæìÂä†ÂØÜ„ÄÇ</p>\n<p>Áî±‰∫éÊú¨‰∫∫‰ΩøÁî® Charles ÊØîËæÉÂ§öÔºå‰ΩÜÂÖ∂ÂÆûËøòÊúâÂæàÂ§öÁ±ª‰ººÁöÑÊäìÂåÖÂ∑•ÂÖ∑Ôºå‰æãÂ¶ÇÔºö</p>\n<ul>\n<li>ËΩØ‰ª∂Á±ª<ul>\n<li><a href=\"https://www.telerik.com/fiddler\" target=\"_blank\" rel=\"noopener\">Fiddler</a></li>\n<li><a href=\"https://www.wireshark.org/download.html\" target=\"_blank\" rel=\"noopener\">Wireshark</a></li>\n<li><a href=\"https://github.com/nupthale/weinre\" target=\"_blank\" rel=\"noopener\">Weinre</a>ÔºöÂü∫‰∫é Web Inspector ÁöÑËøúÁ®ãË∞ÉËØïÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Âú® PC ‰∏äÁõ¥Êé•Ë∞ÉËØïËøêË°åÂú®ÊâãÊú∫‰∏äÁöÑÈ°µÈù¢</li>\n</ul>\n</li>\n<li>Â∑•ÂÖ∑ÂåÖÁ±ª<ul>\n<li><a href=\"https://github.com/wuchangming/spy-debugger\" target=\"_blank\" rel=\"noopener\">spy-debugger</a>Ôºö‰∏ÄÁ´ôÂºèÈ°µÈù¢Ë∞ÉËØï„ÄÅÊäìÂåÖÂ∑•ÂÖ∑ÔºåËÉΩËøúÁ®ãË∞ÉËØï‰ªª‰ΩïÊâãÊú∫ÊµèËßàÂô®È°µÈù¢Ôºå‰ªª‰ΩïÊâãÊú∫ÁßªÂä®Á´Ø WebviewÔºåÊó†ÈúÄ USB ËøûÊé•ËÆæÂ§áÔºàÂÆûÁé∞ÂéüÁêÜ‰∏é Charles Á±ª‰ººÔºâ</li>\n<li><a href=\"https://github.com/avwo/whistle\" target=\"_blank\" rel=\"noopener\">whistle</a>ÔºöÂü∫‰∫é Node ÂÆûÁé∞ÁöÑË∑®Âπ≥Âè∞ÊäìÂåÖË∞ÉËØï‰ª£ÁêÜÂ∑•ÂÖ∑ÔºåÂäüËÉΩÂº∫Â§ßÔºåÊîØÊåÅ WebSocket„ÄÅÂèçÂìç‰ª£ÁêÜ„ÄÅÊèí‰ª∂Êâ©Â±ïÁ≠âÁâπÊÄß</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Âü∫‰∫é-iOS-ÁöÑÂºÄÂèëË∞ÉËØï\"><a href=\"#Âü∫‰∫é-iOS-ÁöÑÂºÄÂèëË∞ÉËØï\" class=\"headerlink\" title=\"Âü∫‰∫é iOS ÁöÑÂºÄÂèëË∞ÉËØï\"></a>Âü∫‰∫é iOS ÁöÑÂºÄÂèëË∞ÉËØï</h2><h3 id=\"Safari-Êï∞ÊçÆÁ∫ø-ËøúÁ®ãËÆæÂ§áË∞ÉËØï\"><a href=\"#Safari-Êï∞ÊçÆÁ∫ø-ËøúÁ®ãËÆæÂ§áË∞ÉËØï\" class=\"headerlink\" title=\"Safari + Êï∞ÊçÆÁ∫ø ËøúÁ®ãËÆæÂ§áË∞ÉËØï\"></a>Safari + Êï∞ÊçÆÁ∫ø ËøúÁ®ãËÆæÂ§áË∞ÉËØï</h3><p>ÂâçÊúüÂáÜÂ§áÔºöiPhone + MacBook + ÂêÑËá™ÂÆâË£Ö Safari</p>\n<p>Ë∞ÉËØïÊñπÂºèÔºö</p>\n<ol>\n<li>ÊâìÂºÄ iPhone <code>ËÆæÁΩÆ -&gt; Safari ÊµèËßàÂô® -&gt; È´òÁ∫ß -&gt; Web Ê£ÄÊü•Âô®</code></li>\n<li>ÊâìÂºÄ MacBook ‰∏äÁöÑ Safari ÊµèËßàÂô® <code>ÂÅèÂ•ΩËÆæÁΩÆ -&gt; È´òÁ∫ß -&gt; Âú®ËèúÂçïÊ†è‰∏≠ÊòæÁ§∫‚ÄúÂºÄÂèë‚ÄùËèúÂçï</code></li>\n<li>Áî®Êï∞ÊçÆÁ∫øËøûÊé• iPhone Âíå MacBookÔºåÂπ∂ÈÄâÊã© <code>‰ø°‰ªª</code> ËÆæÂ§áÔºåÂú® iPhone ‰∏äÁöÑ Safari ÊµèËßàÂô®ÊâìÂºÄÈúÄË¶ÅË∞ÉËØïÁöÑÈ°µÈù¢ÔºåÂπ∂Âú® MacBook ‰∏äÁöÑ Safari ‰∏≠ÈÄâÊã© <code>ÂºÄÂèë -&gt; ÔºàËøûÊé•ËÆæÂ§áÂêçÁß∞Ôºâ-&gt; ÔºàË∞ÉËØïÈ°µÈù¢ÂüüÂêçÔºâ</code></li>\n<li>ÈÄâ‰∏≠Âêé‰ºöÂá∫Áé∞Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÁöÑÁïåÈù¢ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂÆûÁé∞Â¶Ç PC Á´ØÁöÑË∞ÉËØïÂäüËÉΩ</li>\n</ol>\n<p>Â¶ÇÊûú Safari Ë∞ÉËØïÈù¢Êùø‰∏ÄÁâáÁ©∫ÁôΩÂèØ‰ª•‰∏ãËΩΩ‰∏™ <a href=\"https://developer.apple.com/safari/download/\" target=\"_blank\" rel=\"noopener\">Safari Technology Preview</a></p>\n<h2 id=\"Âü∫‰∫é-Android-ÁöÑÂºÄÂèëË∞ÉËØï\"><a href=\"#Âü∫‰∫é-Android-ÁöÑÂºÄÂèëË∞ÉËØï\" class=\"headerlink\" title=\"Âü∫‰∫é Android ÁöÑÂºÄÂèëË∞ÉËØï\"></a>Âü∫‰∫é Android ÁöÑÂºÄÂèëË∞ÉËØï</h2><h3 id=\"Chrome-USB-ËøúÁ®ãËÆæÂ§áË∞ÉËØï\"><a href=\"#Chrome-USB-ËøúÁ®ãËÆæÂ§áË∞ÉËØï\" class=\"headerlink\" title=\"Chrome + USB ËøúÁ®ãËÆæÂ§áË∞ÉËØï\"></a>Chrome + USB ËøúÁ®ãËÆæÂ§áË∞ÉËØï</h3><p>ÈÄöËøáÂÆâÂçìÊâãÊú∫‰∏é‰ªªÊÑèÁ≥ªÁªüÁöÑÁîµËÑëÂêåÊó∂ÂÆâË£Ö Chrome ÊµèËßàÂô®ÔºåÂπ∂ÈÄöËøá USB ËøõË°åÊúâÁ∫øËøûÊé•ÔºåÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®ÂÜÖÁΩÆÁöÑÂäüËÉΩÂÆûÁé∞ËøúÁ®ãË∞ÉËØïÔºåÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÈÄöËøá PC Á´Ø Chrome ÁöÑÂºÄÂèëËÄÖÂ∑•ÂÖ∑Ë∞ÉËØïÊâãÊú∫‰∏ä Chrome ÊâìÂºÄÁöÑÁΩëÈ°µ„ÄÇ</p>\n<p>Ë∞ÉËØïÊñπÂºèÔºö</p>\n<ol>\n<li>Android ÊâãÊú∫Âíå PC ÁîµËÑëÂêåÊó∂‰∏ãËΩΩ Chrome ÊµèËßàÂô®</li>\n<li>ÊâìÂºÄ Android ÊâãÊú∫ <code>ËÆæÁΩÆ -&gt; ÂºÄÂèëËÄÖÈÄâÈ°π -&gt; USB Ë∞ÉËØï</code>ÔºàÂèØËÉΩ‰∏çÂêåÂéÇÂïÜÁöÑËÆæÂÆö‰∏ç‰∏ÄËá¥ÔºåÊúÄÁªàÁõÆÁöÑÂ∞±ÊòØÊâìÂºÄ USB Ë∞ÉËØïÔºåÂ¶ÇÊûúÊâìÂºÄË∑ØÂæÑ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÂèØ‰ª•Ëá™Ë°åÊé¢Á¥¢ÊàñÊêúÁ¥¢ÂØπÂ∫îËÆæÂ§áÊâìÂºÄ USB Ë∞ÉËØïÁöÑÊñπÂºèÔºâ„ÄÇ</li>\n<li>Âà©Áî® USB Êï∞ÊçÆÁ∫øÔºåÂ∞Ü Android ÊâãÊú∫‰∏é PC ÁîµËÑëËøûÊé•ÔºåÊâãÊú∫ÁêÜËÆ∫‰∏ä‰ºöÊèêÁ§∫ÊòØÂê¶ÂÖÅËÆ∏ USB Ë∞ÉËØïÔºåÈÄâÊã© <code>Á°ÆËÆ§</code> ÁöÑÈÄâÈ°πÁöÑÂ∞±Â•Ω‰∫Ü</li>\n<li>ÊâìÂºÄ PC ÁîµËÑë‰∏äÁöÑ Chrome ÊµèËßàÂô®ÔºåÊâìÂºÄÂºÄÂèëËÄÖÂ∑•ÂÖ∑ <code>Console -&gt; Âè≥‰æß Customize and control DevTools -&gt; More tools -&gt; Remote devices</code></li>\n<li>ÊØè‰∏™È°µÈù¢Âè≥‰æßÂùáÊúâ‰∏Ä‰∏™ Inspect Ê£ÄÊü•ÁöÑÊåâÈíÆÔºåÁÇπÂáªÂ∞±‰ºöÂá∫Áé∞‰Ω†ÁÜüÊÇâÁöÑÁîªÈù¢Ôºå</li>\n</ol>\n<p>Êõ¥ËØ¶Â∞ΩÁöÑË∞ÉËØïÊñπÂºèÂèØ‰ª•ÂèÇËÄÉ Google ÂÆòÊñπÁöÑÂºÄÂèëËÄÖÊñáÊ°£Áõ∏ÂÖ≥Á´†ËäÇÔºö</p>\n<ul>\n<li><a href=\"https://developers.google.com/web/tools/chrome-devtools/remote-debugging/\" target=\"_blank\" rel=\"noopener\">Android ËÆæÂ§áÁöÑËøúÁ®ãË∞ÉËØïÂÖ•Èó®</a></li>\n<li><a href=\"https://developers.google.com/web/tools/chrome-devtools/remote-debugging/local-server\" target=\"_blank\" rel=\"noopener\">ËÆøÈóÆÊú¨Âú∞ÊúçÂä°Âô®</a></li>\n<li><a href=\"https://developers.google.com/web/tools/chrome-devtools/remote-debugging/webviews\" target=\"_blank\" rel=\"noopener\">ËøúÁ®ãË∞ÉËØï WebView</a></li>\n</ul>\n<h2 id=\"ÂæÆ‰ø°\"><a href=\"#ÂæÆ‰ø°\" class=\"headerlink\" title=\"ÂæÆ‰ø°\"></a>ÂæÆ‰ø°</h2><h3 id=\"ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑\"><a href=\"#ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑\" class=\"headerlink\" title=\"ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑\"></a>ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑</h3><p>ÂæÆ‰ø°ÁîüÊÄÅÂåÖÊã¨ÂÖ¨ÂÖ±Âè∑ÁΩëÈ°µÂºÄÂèë„ÄÅÂ∞èÁ®ãÂ∫è„ÄÅÂ∞èÊ∏∏ÊàèÁ≠â‰ΩøÁî®ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑Â∞±Ë°å‰∫ÜÔºåËøôÊ≤°Êúâ‰ªÄ‰πà‰∫âËÆÆÔºåÊØïÁ´üÂÆòÊñπÊèê‰æõÁöÑÂ∑•ÂÖ∑„ÄÇ</p>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools.html\" target=\"_blank\" rel=\"noopener\">ÊñáÊ°£ÔºöÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑</a></p>\n<h3 id=\"ÁºìÂ≠òÊ∏ÖÈô§ÊñπÊ≥ï\"><a href=\"#ÁºìÂ≠òÊ∏ÖÈô§ÊñπÊ≥ï\" class=\"headerlink\" title=\"ÁºìÂ≠òÊ∏ÖÈô§ÊñπÊ≥ï\"></a>ÁºìÂ≠òÊ∏ÖÈô§ÊñπÊ≥ï</h3><p>ËøôÈáåÊèêÊèêÊêúÂà∞ÁöÑ‰∏Ä‰∏™ÂæÆ‰ø°ÂÜÖÁΩëÈ°µÁºìÂ≠òÁöÑÊ∏ÖÈô§ÊñπÊ≥ïÔºö</p>\n<ol>\n<li>ÂæÆ‰ø°‰∏≠ÊâìÂºÄÁΩëÈ°µ <a href=\"http://debugx5.qq.com\" target=\"_blank\" rel=\"noopener\">http://debugx5.qq.com</a></li>\n<li>ÊªëÂä®Âà∞Â∫ïÈÉ®ÔºåÈÄâ‰∏≠Âõõ‰∏™ÁºìÂ≠òÈÄâÈ°π <code>Cookie</code>„ÄÅ<code>Êñá‰ª∂ÁºìÂ≠ò</code>„ÄÅ<code>ÂπøÂëäËøáÊª§ÁºìÂ≠ò</code> Âíå <code>DNS ÁºìÂ≠ò</code>ÔºåÁÇπÂáªÊ∏ÖÈô§Âç≥ÂèØ</li>\n</ol>\n<h2 id=\"ÂÖ∂‰ªñ‰ªòË¥πÊúçÂä°\"><a href=\"#ÂÖ∂‰ªñ‰ªòË¥πÊúçÂä°\" class=\"headerlink\" title=\"ÂÖ∂‰ªñ‰ªòË¥πÊúçÂä°\"></a>ÂÖ∂‰ªñ‰ªòË¥πÊúçÂä°</h2><p>Âú®Ë∞ÉÁ†îËøáÁ®ã‰∏≠‰πüÂèëÁé∞‰∫Ü‰∏Ä‰∫õÊå∫‰∏çÈîôÁöÑ‰ªòË¥πË∞ÉËØïÂ∑•ÂÖ∑Ôºö</p>\n<ul>\n<li><a href=\"https://yanshu.effirst.com/\" target=\"_blank\" rel=\"noopener\">Â≤©Èº†ÔºöÊèê‰æõÁßüÁî®ÁöÑ‰∫ëÁ´ØÁúüÊú∫Âπ≥Âè∞ËøúÁ®ãË∞ÉËØïÔºåË¶ÜÁõñÂ∏ÇÈù¢ÁÉ≠Èó®ÂìÅÁâåÊú∫Âûã</a></li>\n<li>Charles Proxy on iOSÔºöiOS ÁâàÁöÑ CharlesÔºåÂèØ‰ª•Áõ¥Êé•Âú® iPhone ÊâãÊú∫‰∏äË∞ÉËØï</li>\n</ul>\n<hr>\n<p><strong>ÂèÇËÄÉËµÑÊñôÔºö</strong></p>\n<ul>\n<li><a href=\"https://yujiangshui.com/multidevice-frontend-debug/\" target=\"_blank\" rel=\"noopener\">ÁßªÂä®Á´ØÂâçÁ´ØÂºÄÂèëË∞ÉËØï</a></li>\n<li><a href=\"https://github.com/jieyou/remote_inspect_web_on_real_device\" target=\"_blank\" rel=\"noopener\">ÂêÑÁßçÁúüÊú∫ËøúÁ®ãË∞ÉËØïÊñπÊ≥ïÊ±áÊÄª</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/51794821\" target=\"_blank\" rel=\"noopener\">H5 ÁßªÂä®Ë∞ÉËØïÂÖ®ÊîªÁï•</a></li>\n<li><a href=\"https://juejin.im/post/5b72e1f66fb9a009d018fb94\" target=\"_blank\" rel=\"noopener\">ÁßªÂä®Á´ØË∞ÉËØïÁóõÁÇπÔºüÈÄÅ‰Ω†‰∫îÊ¨æÂºÄÂèëÂà©Âô®</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/103642413\" target=\"_blank\" rel=\"noopener\">‰Ω†ÈúÄË¶ÅÁöÑ App ÂÜÖ H5 ÁöÑË∞ÉËØïÊñπÊ≥ï</a></li>\n<li><a href=\"https://www.zhihu.com/question/25456655\" target=\"_blank\" rel=\"noopener\">ÂæÆ‰ø°ÂºÄÂèëÂ¶Ç‰ΩïÂÅöÊú¨Âú∞Ë∞ÉËØï</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<h1 id=\"Â∏∏Áî®ÁßªÂä®ÂâçÁ´ØÂºÄÂèëË∞ÉËØïÊñπÂºè\"><a href=\"#Â∏∏Áî®ÁßªÂä®ÂâçÁ´ØÂºÄÂèëË∞ÉËØïÊñπÂºè\" class=\"headerlink\" title=\"Â∏∏Áî®ÁßªÂä®ÂâçÁ´ØÂºÄÂèëË∞ÉËØïÊñπÂºè\"></a>Â∏∏Áî®ÁßªÂä®ÂâçÁ´ØÂºÄÂèëË∞ÉËØïÊñπÂºè</h1><p>Âõ†‰∏∫Êó•Â∏∏ÂºÄÂèëÁªèÂ∏∏ÈúÄË¶ÅÂú®ÁßªÂä®ËÆæÂ§á‰∏äË∞ÉËØïÊµãËØïÂºÄÂèëÁöÑ H5 È°µÈù¢Ôºå‰ΩÜÊòØ‰∏ÄÁõ¥ÈÉΩÊ≤°ÊÄé‰πàÊÄªÁªìËøáÁßªÂä®ÂâçÁ´ØÂºÄÂèëÁõ∏ÂÖ≥ÁöÑË∞ÉËØïÂ∑•ÂÖ∑ÊàñÊñπÊ≥ïÔºå‰ªäÂ§©Á®çÂæÆÊÄªÁªì‰∏Ä‰∏ãÊØîËæÉÂ•ΩÁî®ÁöÑË∞ÉËØïÂ∑•ÂÖ∑Ôºå‰πüÁΩóÂàó‰∫Ü‰∏Ä‰∫õÊ≤°ÊúâÁî®Ëøá‰ΩÜÊòØÂÄºÂæó‰∫ÜËß£ÁöÑÂ∑•ÂÖ∑</p>\n<h2 id=\"ÈÄöÁî®Ë∞ÉËØïÂ∑•ÂÖ∑ÊñπÊ≥ï\"><a href=\"#ÈÄöÁî®Ë∞ÉËØïÂ∑•ÂÖ∑ÊñπÊ≥ï\" class=\"headerlink\" title=\"ÈÄöÁî®Ë∞ÉËØïÂ∑•ÂÖ∑ÊñπÊ≥ï\"></a>ÈÄöÁî®Ë∞ÉËØïÂ∑•ÂÖ∑ÊñπÊ≥ï</h2><h3 id=\"Chrome-ÁßªÂä®ËÆæÂ§áÊ®°ÊãüÂô®\"><a href=\"#Chrome-ÁßªÂä®ËÆæÂ§áÊ®°ÊãüÂô®\" class=\"headerlink\" title=\"Chrome ÁßªÂä®ËÆæÂ§áÊ®°ÊãüÂô®\"></a>Chrome ÁßªÂä®ËÆæÂ§áÊ®°ÊãüÂô®</h3><p>Chrome ÊµèËßàÂô®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑ÂÜÖÁΩÆ‰∫ÜÂèØÁî®‰∫éÊ®°ÊãüÁßªÂä®ËÆæÂ§áÁöÑÂäüËÉΩÔºåËøô‰πüÊòØÊúÄÂ∏∏Áî®ÁöÑË∞ÉËØïÊñπÂºèÔºåËøôÈáåÂè™ÊòØÁÆÄÂçïËØ¥ÊòéÊìç‰ΩúÊ≠•È™§Ôºö</p>\n<ol>\n<li>Âú® PC Á´ØÊâìÂºÄ Chrome ÊµèËßàÂô®Âπ∂ÊâìÂºÄÁõÆÊ†áÈ°µÈù¢ÔºåÁÑ∂Âêé F12 ÊâìÂºÄÂºÄÂèëËÄÖÂ∑•ÂÖ∑</li>\n<li>ÁÇπÂáªÂºÄÂèëËÄÖÂ∑•ÂÖ∑Â∑¶‰∏äËßíÁöÑÊâãÊú∫ÂõæÊ†áÔºåÂà∑Êñ∞È°µÈù¢ÂêéÂç≥ÂèØË∞ÉËØï</li>\n<li>È°µÈù¢È°∂ÈÉ®ËÆæÂ§áÈÄâÊã©‰∏ãÊãâËèúÂçïÂèØÈÄâÊã©ÈªòËÆ§ÁöÑÂ§öÁßçÂìÅÁâåÊú∫ÂûãÔºå‰ª•Âèä‰ªøÁúüÁöÑÁΩëÁªúÁä∂ÊÄÅ</li>\n<li>ÈÄâÊã©‰∏ãÊù•ËèúÂçï‰∏≠ÁöÑ <code>Edit</code> ËøõÂÖ•ÈÄÇÈÖçËÆæÂ§áÁöÑÊú∫ÂûãÈÄâÊã©ÔºåÊó¢ÊúâÊµèËßàÂô®Êèê‰æõÁöÑÊú∫ÂûãÔºå‰πüÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅËÆæÂÆöËá™ÂÆö‰πâÊú∫ÂûãÔºà‰∏ªË¶ÅÊòØÊµãËØïÂÆΩÈ´òÊØîÔºâ</li>\n</ol>\n<p>Âõ†‰∏∫‰ΩøÁî®Ëµ∑Êù•Êñπ‰æøÔºåÊâÄ‰ª•ÂºÄÂèëË∞ÉËØïÁöÑÂ§ßÈÉ®ÂàÜÈÉΩËÉΩÊª°Ë∂≥ÈúÄÊ±ÇÔºå‰ΩÜÊòØË¶ÅÊõ¥‰ªøÁúüÊõ¥‰∏•Ë∞®ËøòÊòØÈúÄË¶ÅÂú®ÁúüÊú∫‰∏≠Ë∞ÉËØï„ÄÇ</p>\n<h3 id=\"vConsole-ÁßªÂä®Á´ØÁΩëÈ°µ‰∏äÁöÑË∞ÉËØïÊéßÂà∂Âè∞\"><a href=\"#vConsole-ÁßªÂä®Á´ØÁΩëÈ°µ‰∏äÁöÑË∞ÉËØïÊéßÂà∂Âè∞\" class=\"headerlink\" title=\"vConsole ÁßªÂä®Á´ØÁΩëÈ°µ‰∏äÁöÑË∞ÉËØïÊéßÂà∂Âè∞\"></a>vConsole ÁßªÂä®Á´ØÁΩëÈ°µ‰∏äÁöÑË∞ÉËØïÊéßÂà∂Âè∞</h3><p><a href=\"https://github.com/Tencent/vConsole\" target=\"_blank\" rel=\"noopener\">vConsole</a> ÊòØ‰∏ÄÊ¨æËΩªÈáèÁ∫ß„ÄÅÂèØÊãìÂ±ï„ÄÅÈíàÂØπÊâãÊú∫ÁΩëÈ°µÁöÑÂâçÁ´ØÂºÄÂèëËÄÖË∞ÉËØïÈù¢Êùø„ÄÇ</p>\n<p>ÈÄöËøáËØ•Â∑•ÂÖ∑ÂèØ‰ª•Êñπ‰æøÂú∞Âú®ÁßªÂä®ÁúüÊú∫ÁöÑ Web È°µÈù¢‰∏≠ÈÄöËøá‰ª•‰∏ãÁâπÊÄßÂÆûÁé∞Ë∞ÉËØïÂäüËÉΩÔºö</p>\n<ul>\n<li>Êü•Áúã console Êó•Âøó</li>\n<li>Êü•ÁúãÁΩëÁªúËØ∑Ê±Ç‰ø°ÊÅØ</li>\n<li>Êü•ÁúãÈ°µÈù¢ element ÁªìÊûÑ</li>\n<li>Êü•Áúã Cookie„ÄÅlocalStorage Âíå SessionStorage</li>\n<li>ÊâãÂä®ÊâßË°å JavaScript ÂëΩ‰ª§Ë°å</li>\n<li>Ëá™ÂÆö‰πâÊèí‰ª∂</li>\n</ul>","more":"<p>ËøôÊ¨æÁ±ªÂ∫ìÂ∫îËØ•ÊòØ‰ΩøÁî®ÊúÄÂπøÊ≥õÁöÑÂ∑•ÂÖ∑ÔºåËÄå‰∏î‰ΩøÁî®Ëµ∑Êù•‰πüÊØîËæÉÁÆÄÂçïÔºå‰∏é PC Á´Ø Chrome Á≠âÂºÄÂèëËÄÖË∞ÉËØïÂ∑•ÂÖ∑‰ΩøÁî®ÊñπÂºèÁ±ª‰ººÔºåÊâÄ‰ª•Â∞±‰∏çÂ§öÂèôËø∞‰∫Ü„ÄÇ</p>\n<p>Êõ¥Â§öÂÖ≥‰∫éÊ≠§Â∑•ÂÖ∑ÁöÑ‰ΩøÁî®ÊïôÁ®ãÂèØ‰ª•ÂèÇÈòÖ <a href=\"https://github.com/Tencent/vConsole/blob/dev/doc/tutorial_CN.md\" target=\"_blank\" rel=\"noopener\">vConsole ‰ΩøÁî®ÊïôÁ®ã</a></p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåÊúâ‰∏™ÂêåÊ†∑ÊòØ AlloyTeam Âá∫ÂìÅÁöÑÈîôËØØÁõëÊéß‰∏äÊä•„ÄÅÊîØÊåÅÁîü‰∫ßÁéØÂ¢ÉÈÄöËøá URL Â∏¶ÂèÇÊï∞Âî§Ëµ∑ vConsole ÁöÑÂ∫ì <a href=\"https://github.com/AlloyTeam/AlloyLever\" target=\"_blank\" rel=\"noopener\">AlloyLever</a> ‰πüÂÄºÂæóÂÖ≥Ê≥®‰∏Ä‰∏ã„ÄÇ</p>\n<p>ÂêåÁ±ªÂûãÁöÑ‰∫ßÂìÅÊúâ <a href=\"https://github.com/liriliri/eruda\" target=\"_blank\" rel=\"noopener\">eruda</a></p>\n<h4 id=\"ÂÆûÁé∞ÂéüÁêÜ\"><a href=\"#ÂÆûÁé∞ÂéüÁêÜ\" class=\"headerlink\" title=\"ÂÆûÁé∞ÂéüÁêÜ\"></a>ÂÆûÁé∞ÂéüÁêÜ</h4><p>ÈÄöËøáÂú®È°µÈù¢Ê≥®ÂÖ• JavaScript ËÑöÊú¨ÂÆûÁé∞Ê®°ÊãüÁ±ª‰ºº Chrome DevTool ÁöÑË∞ÉËØïÈù¢Êùø„ÄÇ</p>\n<p>ÈÄöËøáÈáçÂÜô <code>XHMLHttpRequest</code>„ÄÅ<code>fetch</code>„ÄÅ<code>console</code> ÊñπÊ≥ïÂÆûÁé∞ÁΩëÁªúËØ∑Ê±ÇÂíåÊó•ÂøóÊâìÂç∞ÁöÑÊã¶Êà™ÔºåÂπ∂ËæìÂá∫Âà∞ÊéßÂà∂Èù¢Êùø‰∏≠ÁöÑ <code>Network</code> Âíå <code>Console</code> Ê†áÁ≠æ„ÄÇ</p>\n<p>ÈÄöËøáÈÅçÂéÜ Cookie„ÄÅLocalStorage„ÄÅSessionStorage ÂØπË±°‰∏ãÁöÑÊâÄÊúâÂ≠òÂÇ®ÈîÆÂÄº‰ª•Ëé∑ÂèñÂΩìÂâçÁΩëÈ°µÁöÑÊú¨Âú∞Â≠òÂÇ®Êï∞ÊçÆ„ÄÇ</p>\n<p>ËÄå <code>Element</code> Ê†áÁ≠æ‰∏≠ÁöÑÈ°µÈù¢ DOM Ê†ëÁªìÊûÑÔºåÂàôÈÄöËøá‰ªé <code>document.documentElement</code> ËäÇÁÇπÂºÄÂßãÂêëÂ≠êÂ≠ôËäÇÁÇπÈÄíÂΩíÁîüÊàê„ÄÇ</p>\n<h3 id=\"Charles-Êï∞ÊçÆ‰º†ËæìÊäìÂåÖÂ∑•ÂÖ∑\"><a href=\"#Charles-Êï∞ÊçÆ‰º†ËæìÊäìÂåÖÂ∑•ÂÖ∑\" class=\"headerlink\" title=\"Charles Êï∞ÊçÆ‰º†ËæìÊäìÂåÖÂ∑•ÂÖ∑\"></a>Charles Êï∞ÊçÆ‰º†ËæìÊäìÂåÖÂ∑•ÂÖ∑</h3><p>ËØïÊÉ≥‰ª•‰∏ãÂú®Êó•Â∏∏ÂºÄÂèë‰∏≠ÂèØËÉΩ‰ºöÈÅáÂà∞ÁöÑÂú∫ÊôØÔºö</p>\n<ol>\n<li>Âú®Êú¨Âú∞ÂºÄÂèëÂÆåÁßªÂä® H5 È°µÈù¢ÂêéÔºåÊÉ≥‰∏éÂêéÁ´ØËÅîË∞ÉÊé•Âè£Ôºå‰ΩÜÊòØÊé•Âè£ÈÉ®ÁΩ≤Âú®Êú∫ÊàøÊúçÂä°Âô®‰∏äÔºåÂüüÂêçÈùû IP Âú∞ÂùÄÔºåËøô‰∏™Êó∂ÂÄôËÅîË∞É‰ºöÂ≠òÂú®Ë∑®ÂüüÈóÆÈ¢òÔºåÂ∫îËØ•ÊÄéÊ†∑Ëß£ÂÜ≥Ôºü</li>\n<li>Á∫ø‰∏ä Web App Ë°®Áé∞ÂºÇÂ∏∏ÔºåÊ≤°Ê≥ïÂú®Á∫ø‰∏äÈ°µÈù¢‰ΩøÁî®Ë∞ÉËØïÈù¢ÊùøËøõË°åË∞ÉËØïÔºåÊÄéÊ†∑ÂÆö‰ΩçÈóÆÈ¢òÔºü</li>\n<li>Á∫ø‰∏ä Web App Ë°®Áé∞ÂºÇÂ∏∏ÔºåÊé•Âè£ËØ∑Ê±ÇÂìçÂ∫îË°®Áé∞Ê≠£Â∏∏ÔºåÂçï‰ªé‰ª£Á†ÅÂ±ÇÈù¢Êó†Ê≥ïÂÆö‰ΩçÈóÆÈ¢òÊ†πÊ∫êÔºåÊÄéÊ†∑Êõ¥Â•ΩÂú∞ÂÆö‰ΩçÈóÆÈ¢òÔºü</li>\n</ol>\n<p>Âú® Charles Âº∫Â§ßÁöÑÊäìÂåÖÂäüËÉΩÈù¢ÂâçÔºåËøô‰∫õÈóÆÈ¢òÈÄöÈÄöÈÉΩ‰∏çÊòØÈóÆÈ¢ò„ÄÇÊàë‰ª¨ÂÖà‰ªãÁªç‰∏Ä‰∏ã CharlesÔºö</p>\n<p><a href=\"https://www.charlesproxy.com/\" target=\"_blank\" rel=\"noopener\">Charles</a> ÊòØ‰∏ÄÊ¨æÂü∫‰∫é HTTP ÂçèËÆÆÁöÑ‰ª£ÁêÜÊúçÂä°Âô®ÔºåÈÄöËøáÊà™ÂèñËØ∑Ê±ÇÂíåËØ∑Ê±ÇÁªìÊûúËææÂà∞ÂàÜÊûêÊäìÂåÖÁöÑÁõÆÁöÑ„ÄÇ</p>\n<p>‰ª•‰∏ãÊòØ Charles ÁöÑÂäüËÉΩÁâπÊÄßÔºö</p>\n<ul>\n<li>ÊîØÊåÅ HTTP Âíå HTTPS ‰ª£ÁêÜÔºåÊà™ÂèñÂàÜÊûê SSL ËØ∑Ê±Ç</li>\n<li>ÊîØÊåÅÊµÅÈáèÊéßÂà∂ÔºåÂèØ‰ª•Ê®°ÊãüÂº±ÁΩëÊµãËØïÁéØÂ¢É</li>\n<li>ÊîØÊåÅÊé•Âè£Âπ∂ÂèëËØ∑Ê±Ç</li>\n<li>ÊîØÊåÅÈáçÂèëÁΩëÁªúËØ∑Ê±ÇÔºåÊñπ‰æøÂêéÁ´ØË∞ÉËØï</li>\n<li>ÊîØÊåÅ‰øÆÊîπÁΩëÁªúËØ∑Ê±ÇÂèÇÊï∞</li>\n<li>ÊîØÊåÅÁΩëÁªúËØ∑Ê±ÇÁöÑÊà™Ëé∑Âπ∂Âä®ÊÄÅ‰øÆÊîπ</li>\n<li>ÊîØÊåÅÊñ≠ÁÇπË∞ÉËØïÔºåÊûÑÂª∫ÂºÇÂ∏∏ÁöÑÊµãËØïÂú∫ÊôØ</li>\n</ul>\n<h4 id=\"‰ΩøÁî®ÊñπÂºè\"><a href=\"#‰ΩøÁî®ÊñπÂºè\" class=\"headerlink\" title=\"‰ΩøÁî®ÊñπÂºè\"></a>‰ΩøÁî®ÊñπÂºè</h4><p>‰ΩøÁî® Charles ÊäìÂåÖÊâãÊú∫ÂêëÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÁöÑÊìç‰ΩúÊ≠•È™§Ôºö</p>\n<ol>\n<li>ÂÆâË£ÖÊ†πËØÅ‰π¶Ôºö<code>ËèúÂçï -&gt; Help -&gt; SSL Proxying -&gt; Install Charles Root Certificate</code></li>\n</ol>\n<p><img src=\"https://img.mrsingsing.com/wireless-debugger-install-charles-certificate.jpg\" alt=\"ÂÆâË£ÖÊ†πËØÅ‰π¶\"></p>\n<ol start=\"2\">\n<li>ÊâæÂà∞ÂÆâË£ÖÂ•Ω Charles ÁöÑÊ†πËØÅ‰π¶ÂêéÔºåÁ°Æ‰øùËØÅ‰π¶ÁöÑÊâÄÊúâÈÄâÈ°πÂùá‰∏∫ÂßãÁªà‰ø°‰ªªÔºàËøô‰∏™ËØÅ‰π¶ÂêéÁª≠‰ºö‰∏ãËΩΩÂà∞‰Ω†ÁöÑÊâãÊú∫‰∏≠‰ΩøÁî®Ôºâ</li>\n</ol>\n<p><img src=\"https://img.mrsingsing.com/wireless-debugger-always-trust-certificate.jpg\" alt=\"ÊÄªÊòØ‰ø°‰ªª\"></p>\n<ol start=\"3\">\n<li>ÁÑ∂ÂêéÂºÄÂêØ Charles ÁöÑ‰ª£ÁêÜÊúçÂä°Ôºö<code>Proxy -&gt; Proxy Setting</code>Ôºå<code>port</code> Á´ØÂè£Â°´ <code>8888</code>ÔºåÈÄâ‰∏≠ <code>Enable transparent HTTP proxying</code></li>\n</ol>\n<p>ÊâæÂà∞ÂΩìÂâç‰ΩøÁî®ÁöÑ Mac Á¨îËÆ∞Êú¨ÁöÑ IP Âú∞ÂùÄÔºàÈÄöËøá <code>Charles -&gt; Help -&gt; Local IP Address</code> ÂèØ‰ª•Ëé∑ÂèñÔºâ</p>\n<p><img src=\"https://img.mrsingsing.com/wireless-debugger-enable-charles-proxying.jpg\" alt=\"ÂºÄÂêØCharles‰ª£ÁêÜ\"></p>\n<ol start=\"4\">\n<li>Áªô iPhone ËÆæÁΩÆ‰ª£ÁêÜ</li>\n</ol>\n<ul>\n<li>ÊâìÂºÄ iPhoneÔºåËøûÊé• WifiÔºàÈúÄË¶ÅÁ°Æ‰øù iPhone ‰∏é Mac ËøûÊé•ÁöÑÊòØÁõ∏ÂêåÁöÑ WifiÔºâ</li>\n<li>ÊâìÂºÄ Wifi ÂêçÂêéÁöÑËìùËâ≤ÊÑüÂèπÂè∑ÔºåÂú®ÊúÄ‰∏ãÈù¢ÊâæÂà∞ <code>HTTP ‰ª£ÁêÜ</code>ÔºåÁÇπÂáªËøõÂÖ•</li>\n<li>ÈÄâÊã© <code>ÊâãÂä®</code>ÔºåÊúçÂä°Âô®‰∏äÂ°´‰∏äÁ´ØÂè£Âè∑ <code>8888</code></li>\n</ul>\n<ol start=\"5\">\n<li>Èöè‰æøÊâìÂºÄÁΩëÈ°µÔºåËøô‰∏™Êó∂ÂÄô Charles ‰ºöÂºπÂá∫ËØ∑Ê±ÇËøûÊé•ÁöÑÁ°ÆËÆ§ËèúÂçïÔºåÈÄâÊã©Â∑¶ËæπÈÄâÈ°π <code>Allow</code></li>\n</ol>\n<p>6) Âú®ÊâãÊú∫ÊµèËßàÂô®‰∏≠ÔºàÊúÄÂ•ΩÊòØ SafariÔºâÔºåËæìÂÖ• <code>chls.pro/ssl</code>Ôºå‰ºöÂºπÂá∫ÂÆâË£ÖËØÅ‰π¶ÁöÑËØ∑Ê±ÇÔºåËæìÂÖ•ÂØÜÁ†ÅÔºå‰∏ÄÁõ¥ÁÇπÂÆâË£ÖÂç≥ÂèØ</p>\n<ul>\n<li>ÊâìÂºÄËÆæÁΩÆÔºåÁÇπÂáª <code>ÈÄöÁî® -&gt; ÂÖ≥‰∫éÊú¨Êú∫ -&gt; ËØÅ‰π¶‰ø°‰ªªËÆæÁΩÆ</code>ÔºåÊâæÂà∞ÂΩìÂâçË¶Å‰Ωú‰∏∫‰ª£ÁêÜÁöÑÁîµËÑëÂêçÔºåÊâìÂºÄ‰ø°‰ªªÂºÄÂÖ≥</li>\n</ul>\n<p>Ëøô‰∏™Êó∂ÂÄôÊó¢ÂèØ‰ª•Êà™ÂèñÂà∞ HTTP/HTTPS ÁöÑÁΩëÁªúËØ∑Ê±Ç‰∫Ü„ÄÇ</p>\n<h4 id=\"ÂÆûÁé∞ÂéüÁêÜ-1\"><a href=\"#ÂÆûÁé∞ÂéüÁêÜ-1\" class=\"headerlink\" title=\"ÂÆûÁé∞ÂéüÁêÜ\"></a>ÂÆûÁé∞ÂéüÁêÜ</h4><p><img src=\"https://img.mrsingsing.com/wireless-debugger-charles-principle.jpg\" alt=\"CharlesÂÆûÁé∞ÂéüÁêÜ\"></p>\n<p>‰∫ãÂÆû‰∏ä Charles Â∞±ÊòØÂÖÖÂΩìÊâÄË∞ìÁöÑ <code>‰∏≠Èó¥‰∫∫</code> ËßíËâ≤ÔºåÊääÊàë‰ª¨ÁöÑËÆæÂ§áÂèëÈÄÅÁöÑËØ∑Ê±ÇÊã¶Êà™‰∏ãÊù•ÔºåÂπ∂ËΩ¨ÂèëÁªôÊàë‰ª¨ÁöÑÁõÆÊ†áÊúçÂä°Âô®ÔºåËÄåÂêéÂ∞ÜÂìçÂ∫îÁöÑ‰ø°ÊÅØËøîÂõûÁªôÊàë‰ª¨ÁöÑËÆæÂ§á„ÄÇ</p>\n<p>ÂâçÊèêÊòØËÆæÂ§á‰∏äÈúÄË¶ÅÂÆâË£ÖÂπ∂‰ø°‰ªª Charles ÁöÑËØÅ‰π¶ÔºåËøô‰∏™‰∏∫‰∫ÜÂΩì HTTPS ‰º†ËæìÊó∂ÔºåCharles ÈúÄË¶ÅÊã¶Êà™Ëß£ÂØÜÊï∞ÊçÆÂπ∂Âà©Áî®ÊúçÂä°Á´ØÁöÑËØÅ‰π¶ÂÖ¨Èí•Âíå HTTPS ËøûÊé•ÁöÑÂØπÁß∞ÂØÜÈí•ÂÅöÂêéÁª≠ÁöÑ‰º†ËæìÂä†ÂØÜ„ÄÇ</p>\n<p>Áî±‰∫éÊú¨‰∫∫‰ΩøÁî® Charles ÊØîËæÉÂ§öÔºå‰ΩÜÂÖ∂ÂÆûËøòÊúâÂæàÂ§öÁ±ª‰ººÁöÑÊäìÂåÖÂ∑•ÂÖ∑Ôºå‰æãÂ¶ÇÔºö</p>\n<ul>\n<li>ËΩØ‰ª∂Á±ª<ul>\n<li><a href=\"https://www.telerik.com/fiddler\" target=\"_blank\" rel=\"noopener\">Fiddler</a></li>\n<li><a href=\"https://www.wireshark.org/download.html\" target=\"_blank\" rel=\"noopener\">Wireshark</a></li>\n<li><a href=\"https://github.com/nupthale/weinre\" target=\"_blank\" rel=\"noopener\">Weinre</a>ÔºöÂü∫‰∫é Web Inspector ÁöÑËøúÁ®ãË∞ÉËØïÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Âú® PC ‰∏äÁõ¥Êé•Ë∞ÉËØïËøêË°åÂú®ÊâãÊú∫‰∏äÁöÑÈ°µÈù¢</li>\n</ul>\n</li>\n<li>Â∑•ÂÖ∑ÂåÖÁ±ª<ul>\n<li><a href=\"https://github.com/wuchangming/spy-debugger\" target=\"_blank\" rel=\"noopener\">spy-debugger</a>Ôºö‰∏ÄÁ´ôÂºèÈ°µÈù¢Ë∞ÉËØï„ÄÅÊäìÂåÖÂ∑•ÂÖ∑ÔºåËÉΩËøúÁ®ãË∞ÉËØï‰ªª‰ΩïÊâãÊú∫ÊµèËßàÂô®È°µÈù¢Ôºå‰ªª‰ΩïÊâãÊú∫ÁßªÂä®Á´Ø WebviewÔºåÊó†ÈúÄ USB ËøûÊé•ËÆæÂ§áÔºàÂÆûÁé∞ÂéüÁêÜ‰∏é Charles Á±ª‰ººÔºâ</li>\n<li><a href=\"https://github.com/avwo/whistle\" target=\"_blank\" rel=\"noopener\">whistle</a>ÔºöÂü∫‰∫é Node ÂÆûÁé∞ÁöÑË∑®Âπ≥Âè∞ÊäìÂåÖË∞ÉËØï‰ª£ÁêÜÂ∑•ÂÖ∑ÔºåÂäüËÉΩÂº∫Â§ßÔºåÊîØÊåÅ WebSocket„ÄÅÂèçÂìç‰ª£ÁêÜ„ÄÅÊèí‰ª∂Êâ©Â±ïÁ≠âÁâπÊÄß</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Âü∫‰∫é-iOS-ÁöÑÂºÄÂèëË∞ÉËØï\"><a href=\"#Âü∫‰∫é-iOS-ÁöÑÂºÄÂèëË∞ÉËØï\" class=\"headerlink\" title=\"Âü∫‰∫é iOS ÁöÑÂºÄÂèëË∞ÉËØï\"></a>Âü∫‰∫é iOS ÁöÑÂºÄÂèëË∞ÉËØï</h2><h3 id=\"Safari-Êï∞ÊçÆÁ∫ø-ËøúÁ®ãËÆæÂ§áË∞ÉËØï\"><a href=\"#Safari-Êï∞ÊçÆÁ∫ø-ËøúÁ®ãËÆæÂ§áË∞ÉËØï\" class=\"headerlink\" title=\"Safari + Êï∞ÊçÆÁ∫ø ËøúÁ®ãËÆæÂ§áË∞ÉËØï\"></a>Safari + Êï∞ÊçÆÁ∫ø ËøúÁ®ãËÆæÂ§áË∞ÉËØï</h3><p>ÂâçÊúüÂáÜÂ§áÔºöiPhone + MacBook + ÂêÑËá™ÂÆâË£Ö Safari</p>\n<p>Ë∞ÉËØïÊñπÂºèÔºö</p>\n<ol>\n<li>ÊâìÂºÄ iPhone <code>ËÆæÁΩÆ -&gt; Safari ÊµèËßàÂô® -&gt; È´òÁ∫ß -&gt; Web Ê£ÄÊü•Âô®</code></li>\n<li>ÊâìÂºÄ MacBook ‰∏äÁöÑ Safari ÊµèËßàÂô® <code>ÂÅèÂ•ΩËÆæÁΩÆ -&gt; È´òÁ∫ß -&gt; Âú®ËèúÂçïÊ†è‰∏≠ÊòæÁ§∫‚ÄúÂºÄÂèë‚ÄùËèúÂçï</code></li>\n<li>Áî®Êï∞ÊçÆÁ∫øËøûÊé• iPhone Âíå MacBookÔºåÂπ∂ÈÄâÊã© <code>‰ø°‰ªª</code> ËÆæÂ§áÔºåÂú® iPhone ‰∏äÁöÑ Safari ÊµèËßàÂô®ÊâìÂºÄÈúÄË¶ÅË∞ÉËØïÁöÑÈ°µÈù¢ÔºåÂπ∂Âú® MacBook ‰∏äÁöÑ Safari ‰∏≠ÈÄâÊã© <code>ÂºÄÂèë -&gt; ÔºàËøûÊé•ËÆæÂ§áÂêçÁß∞Ôºâ-&gt; ÔºàË∞ÉËØïÈ°µÈù¢ÂüüÂêçÔºâ</code></li>\n<li>ÈÄâ‰∏≠Âêé‰ºöÂá∫Áé∞Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÁöÑÁïåÈù¢ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂÆûÁé∞Â¶Ç PC Á´ØÁöÑË∞ÉËØïÂäüËÉΩ</li>\n</ol>\n<p>Â¶ÇÊûú Safari Ë∞ÉËØïÈù¢Êùø‰∏ÄÁâáÁ©∫ÁôΩÂèØ‰ª•‰∏ãËΩΩ‰∏™ <a href=\"https://developer.apple.com/safari/download/\" target=\"_blank\" rel=\"noopener\">Safari Technology Preview</a></p>\n<h2 id=\"Âü∫‰∫é-Android-ÁöÑÂºÄÂèëË∞ÉËØï\"><a href=\"#Âü∫‰∫é-Android-ÁöÑÂºÄÂèëË∞ÉËØï\" class=\"headerlink\" title=\"Âü∫‰∫é Android ÁöÑÂºÄÂèëË∞ÉËØï\"></a>Âü∫‰∫é Android ÁöÑÂºÄÂèëË∞ÉËØï</h2><h3 id=\"Chrome-USB-ËøúÁ®ãËÆæÂ§áË∞ÉËØï\"><a href=\"#Chrome-USB-ËøúÁ®ãËÆæÂ§áË∞ÉËØï\" class=\"headerlink\" title=\"Chrome + USB ËøúÁ®ãËÆæÂ§áË∞ÉËØï\"></a>Chrome + USB ËøúÁ®ãËÆæÂ§áË∞ÉËØï</h3><p>ÈÄöËøáÂÆâÂçìÊâãÊú∫‰∏é‰ªªÊÑèÁ≥ªÁªüÁöÑÁîµËÑëÂêåÊó∂ÂÆâË£Ö Chrome ÊµèËßàÂô®ÔºåÂπ∂ÈÄöËøá USB ËøõË°åÊúâÁ∫øËøûÊé•ÔºåÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®ÂÜÖÁΩÆÁöÑÂäüËÉΩÂÆûÁé∞ËøúÁ®ãË∞ÉËØïÔºåÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØÈÄöËøá PC Á´Ø Chrome ÁöÑÂºÄÂèëËÄÖÂ∑•ÂÖ∑Ë∞ÉËØïÊâãÊú∫‰∏ä Chrome ÊâìÂºÄÁöÑÁΩëÈ°µ„ÄÇ</p>\n<p>Ë∞ÉËØïÊñπÂºèÔºö</p>\n<ol>\n<li>Android ÊâãÊú∫Âíå PC ÁîµËÑëÂêåÊó∂‰∏ãËΩΩ Chrome ÊµèËßàÂô®</li>\n<li>ÊâìÂºÄ Android ÊâãÊú∫ <code>ËÆæÁΩÆ -&gt; ÂºÄÂèëËÄÖÈÄâÈ°π -&gt; USB Ë∞ÉËØï</code>ÔºàÂèØËÉΩ‰∏çÂêåÂéÇÂïÜÁöÑËÆæÂÆö‰∏ç‰∏ÄËá¥ÔºåÊúÄÁªàÁõÆÁöÑÂ∞±ÊòØÊâìÂºÄ USB Ë∞ÉËØïÔºåÂ¶ÇÊûúÊâìÂºÄË∑ØÂæÑ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÂèØ‰ª•Ëá™Ë°åÊé¢Á¥¢ÊàñÊêúÁ¥¢ÂØπÂ∫îËÆæÂ§áÊâìÂºÄ USB Ë∞ÉËØïÁöÑÊñπÂºèÔºâ„ÄÇ</li>\n<li>Âà©Áî® USB Êï∞ÊçÆÁ∫øÔºåÂ∞Ü Android ÊâãÊú∫‰∏é PC ÁîµËÑëËøûÊé•ÔºåÊâãÊú∫ÁêÜËÆ∫‰∏ä‰ºöÊèêÁ§∫ÊòØÂê¶ÂÖÅËÆ∏ USB Ë∞ÉËØïÔºåÈÄâÊã© <code>Á°ÆËÆ§</code> ÁöÑÈÄâÈ°πÁöÑÂ∞±Â•Ω‰∫Ü</li>\n<li>ÊâìÂºÄ PC ÁîµËÑë‰∏äÁöÑ Chrome ÊµèËßàÂô®ÔºåÊâìÂºÄÂºÄÂèëËÄÖÂ∑•ÂÖ∑ <code>Console -&gt; Âè≥‰æß Customize and control DevTools -&gt; More tools -&gt; Remote devices</code></li>\n<li>ÊØè‰∏™È°µÈù¢Âè≥‰æßÂùáÊúâ‰∏Ä‰∏™ Inspect Ê£ÄÊü•ÁöÑÊåâÈíÆÔºåÁÇπÂáªÂ∞±‰ºöÂá∫Áé∞‰Ω†ÁÜüÊÇâÁöÑÁîªÈù¢Ôºå</li>\n</ol>\n<p>Êõ¥ËØ¶Â∞ΩÁöÑË∞ÉËØïÊñπÂºèÂèØ‰ª•ÂèÇËÄÉ Google ÂÆòÊñπÁöÑÂºÄÂèëËÄÖÊñáÊ°£Áõ∏ÂÖ≥Á´†ËäÇÔºö</p>\n<ul>\n<li><a href=\"https://developers.google.com/web/tools/chrome-devtools/remote-debugging/\" target=\"_blank\" rel=\"noopener\">Android ËÆæÂ§áÁöÑËøúÁ®ãË∞ÉËØïÂÖ•Èó®</a></li>\n<li><a href=\"https://developers.google.com/web/tools/chrome-devtools/remote-debugging/local-server\" target=\"_blank\" rel=\"noopener\">ËÆøÈóÆÊú¨Âú∞ÊúçÂä°Âô®</a></li>\n<li><a href=\"https://developers.google.com/web/tools/chrome-devtools/remote-debugging/webviews\" target=\"_blank\" rel=\"noopener\">ËøúÁ®ãË∞ÉËØï WebView</a></li>\n</ul>\n<h2 id=\"ÂæÆ‰ø°\"><a href=\"#ÂæÆ‰ø°\" class=\"headerlink\" title=\"ÂæÆ‰ø°\"></a>ÂæÆ‰ø°</h2><h3 id=\"ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑\"><a href=\"#ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑\" class=\"headerlink\" title=\"ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑\"></a>ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑</h3><p>ÂæÆ‰ø°ÁîüÊÄÅÂåÖÊã¨ÂÖ¨ÂÖ±Âè∑ÁΩëÈ°µÂºÄÂèë„ÄÅÂ∞èÁ®ãÂ∫è„ÄÅÂ∞èÊ∏∏ÊàèÁ≠â‰ΩøÁî®ÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑Â∞±Ë°å‰∫ÜÔºåËøôÊ≤°Êúâ‰ªÄ‰πà‰∫âËÆÆÔºåÊØïÁ´üÂÆòÊñπÊèê‰æõÁöÑÂ∑•ÂÖ∑„ÄÇ</p>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools.html\" target=\"_blank\" rel=\"noopener\">ÊñáÊ°£ÔºöÂæÆ‰ø°ÂºÄÂèëËÄÖÂ∑•ÂÖ∑</a></p>\n<h3 id=\"ÁºìÂ≠òÊ∏ÖÈô§ÊñπÊ≥ï\"><a href=\"#ÁºìÂ≠òÊ∏ÖÈô§ÊñπÊ≥ï\" class=\"headerlink\" title=\"ÁºìÂ≠òÊ∏ÖÈô§ÊñπÊ≥ï\"></a>ÁºìÂ≠òÊ∏ÖÈô§ÊñπÊ≥ï</h3><p>ËøôÈáåÊèêÊèêÊêúÂà∞ÁöÑ‰∏Ä‰∏™ÂæÆ‰ø°ÂÜÖÁΩëÈ°µÁºìÂ≠òÁöÑÊ∏ÖÈô§ÊñπÊ≥ïÔºö</p>\n<ol>\n<li>ÂæÆ‰ø°‰∏≠ÊâìÂºÄÁΩëÈ°µ <a href=\"http://debugx5.qq.com\" target=\"_blank\" rel=\"noopener\">http://debugx5.qq.com</a></li>\n<li>ÊªëÂä®Âà∞Â∫ïÈÉ®ÔºåÈÄâ‰∏≠Âõõ‰∏™ÁºìÂ≠òÈÄâÈ°π <code>Cookie</code>„ÄÅ<code>Êñá‰ª∂ÁºìÂ≠ò</code>„ÄÅ<code>ÂπøÂëäËøáÊª§ÁºìÂ≠ò</code> Âíå <code>DNS ÁºìÂ≠ò</code>ÔºåÁÇπÂáªÊ∏ÖÈô§Âç≥ÂèØ</li>\n</ol>\n<h2 id=\"ÂÖ∂‰ªñ‰ªòË¥πÊúçÂä°\"><a href=\"#ÂÖ∂‰ªñ‰ªòË¥πÊúçÂä°\" class=\"headerlink\" title=\"ÂÖ∂‰ªñ‰ªòË¥πÊúçÂä°\"></a>ÂÖ∂‰ªñ‰ªòË¥πÊúçÂä°</h2><p>Âú®Ë∞ÉÁ†îËøáÁ®ã‰∏≠‰πüÂèëÁé∞‰∫Ü‰∏Ä‰∫õÊå∫‰∏çÈîôÁöÑ‰ªòË¥πË∞ÉËØïÂ∑•ÂÖ∑Ôºö</p>\n<ul>\n<li><a href=\"https://yanshu.effirst.com/\" target=\"_blank\" rel=\"noopener\">Â≤©Èº†ÔºöÊèê‰æõÁßüÁî®ÁöÑ‰∫ëÁ´ØÁúüÊú∫Âπ≥Âè∞ËøúÁ®ãË∞ÉËØïÔºåË¶ÜÁõñÂ∏ÇÈù¢ÁÉ≠Èó®ÂìÅÁâåÊú∫Âûã</a></li>\n<li>Charles Proxy on iOSÔºöiOS ÁâàÁöÑ CharlesÔºåÂèØ‰ª•Áõ¥Êé•Âú® iPhone ÊâãÊú∫‰∏äË∞ÉËØï</li>\n</ul>\n<hr>\n<p><strong>ÂèÇËÄÉËµÑÊñôÔºö</strong></p>\n<ul>\n<li><a href=\"https://yujiangshui.com/multidevice-frontend-debug/\" target=\"_blank\" rel=\"noopener\">ÁßªÂä®Á´ØÂâçÁ´ØÂºÄÂèëË∞ÉËØï</a></li>\n<li><a href=\"https://github.com/jieyou/remote_inspect_web_on_real_device\" target=\"_blank\" rel=\"noopener\">ÂêÑÁßçÁúüÊú∫ËøúÁ®ãË∞ÉËØïÊñπÊ≥ïÊ±áÊÄª</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/51794821\" target=\"_blank\" rel=\"noopener\">H5 ÁßªÂä®Ë∞ÉËØïÂÖ®ÊîªÁï•</a></li>\n<li><a href=\"https://juejin.im/post/5b72e1f66fb9a009d018fb94\" target=\"_blank\" rel=\"noopener\">ÁßªÂä®Á´ØË∞ÉËØïÁóõÁÇπÔºüÈÄÅ‰Ω†‰∫îÊ¨æÂºÄÂèëÂà©Âô®</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/103642413\" target=\"_blank\" rel=\"noopener\">‰Ω†ÈúÄË¶ÅÁöÑ App ÂÜÖ H5 ÁöÑË∞ÉËØïÊñπÊ≥ï</a></li>\n<li><a href=\"https://www.zhihu.com/question/25456655\" target=\"_blank\" rel=\"noopener\">ÂæÆ‰ø°ÂºÄÂèëÂ¶Ç‰ΩïÂÅöÊú¨Âú∞Ë∞ÉËØï</a></li>\n</ul>"},{"title":"ÂØåÊñáÊú¨È¢òÁõÆÂ≠óÁ¨¶‰∏≤ËΩ¨ Base64 ÂõæÁâáÂÆûÁé∞","date":"2021-03-13T00:00:00.000Z","_content":"\n## ÈúÄÊ±ÇËÉåÊôØ\n\nÊúÄËøëÂú®Ë¥üË¥£Âà©Áî® Egret ÁôΩÈπ≠Ê∏∏ÊàèÂºïÊìéÂºÄÂèë‰∏ÄÊ¨æËØæ‰∏≠‰∫íÂä®Ê∏∏ÊàèÔºåÂÖ∂‰∏≠‰∏Ä‰∏™ÂäüËÉΩÈúÄË¶ÅÂ∞Ü HTML Â≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÂ≠òÂ∫ìÁöÑÈ¢òÁõÆÂÜÖÂÆπÂ∫îÁî®Âú®‰∫íÂä®Ê∏∏Êàè‰∏≠„ÄÇ‰ΩÜÊòØÁôΩÈπ≠ÂºïÊìéÊòØÈÄöËøá WebGL ËøõË°åÊ∏≤ÊüìÁöÑÔºåDOM Ê†ë‰∏≠ÈÄöËøá‰∏Ä‰∏™ `<canvas>` Ê†áÁ≠æÊâøËΩΩÔºåÊó†Ê≥ïÈÄöËøá `innerHTML` ÁöÑÊñπÂºèÁõ¥Êé•‰ΩøÁî® HTML Â≠óÁ¨¶‰∏≤ÔºåÂΩìÊó∂Ëä±Ë¥π‰∫Ü‰∏çÂ∞ëÊó∂Èó¥Á†îÁ©∂Â¶Ç‰Ωï‰ºòÈõÖÂú∞ÂÆûÁé∞Á±ª‰ººÁöÑÈúÄÊ±Ç„ÄÇ\n\n<!-- more -->\n\n## ÊñπÊ°àË∞ÉÁ†î\n\nÈÅá‰∫ãÂÖà‰ªéÊñáÊ°£Êü•Ëµ∑ÔºåÂú®ÁôΩÈπ≠ÊñáÊ°£ÂíåËÆ∫Âùõ‰∏≠ÊâæÂà∞‰∫Ü `egret.HtmlTextParser` Ëøô‰∏™ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïËÉΩÂ∞Ü HTML Ê†ºÂºèÊñáÊú¨ËΩ¨Êç¢‰∏∫ÂèØËµãÂÄº `egret.TextField#textFlow` Â±ûÊÄßÁöÑÂØπË±°„ÄÇ\n\nÂéüÊú¨‰ª•‰∏∫‰∫ãÊÉÖÂ∞±ÊòØËøô‰πàÁÆÄÂçïÔºå‰ΩÜÊòØÁªèËøáÂ∞ùËØïÂêéÈÅáÂà∞‰ª•‰∏ãÁöÑÈóÆÈ¢òÔºö\n\n1. È¢òÁõÆÂÜÖÂÆπ‰∏≠ÊúâÂºïÁî®Â§ñÈìæÁöÑÂõæÁâá„ÄÅSVG Á≠âÔºåËØ•ÊñπÊ≥ïÊó†Ê≥ïÊîØÊåÅ\n2. È¢òÁõÆ HTML Ê†áÁ≠æ‰∏äÂê´Êúâ CSS Á±ªÂêçÔºåËøô‰∫õÈúÄË¶ÅÂ∫îÁî®Âõ∫ÂÆöÊ†∑ÂºèÁöÑÈ¢òÁõÆÊó†Ê≥ïÊ≠£Â∏∏ÊòæÁ§∫\n\nÁî±‰∫éÊó†Ê≥ïÈÄöËøá Egret Êèê‰æõÁöÑ API ÂÆûÁé∞Êàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÊïàÊûúÔºåÂè™ËÉΩÂè¶ÂØªÂá∫Ë∑Ø„ÄÇÊÄùËÄÉ‰∫Ü‰∏Ä‰ºöÂêéÔºåÊàëÊÉ≥Âà∞‰∫Ü‰∏âÁßçÂèØ‰æõËß£ÂÜ≥ÊñπÊ°àÁöÑÊñπÊ°àÔºö\n\n1. Âú® `<canvas>` Ê†áÁ≠æÂ§ñÁöÑ‰∏äÂ±ÇÂ¢ûÂ§ß `z-index` Ë¶ÜÁõñ‰∏ÄÂ±ÇÈ¢òÁõÆÁöÑ HTML ‰ª£Á†Å\n2. ‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÂåπÈÖçËΩ¨Êç¢ HTML Â≠óÁ¨¶‰∏≤ÊàêÂØπË±°Êï∞ÊçÆÁªìÊûÑÔºåEgret ÂÜÖÈÉ®Â∞ÜÂØπË±°Êï∞ÊçÆËΩ¨Êç¢‰∏∫ÂØπÂ∫îÁöÑ UI\n3. Ê∏≤Êüì HTML ÂØåÊñáÊú¨Â≠óÁ¨¶‰∏≤ÔºåÈÄöËøá `html2canvas` Á≠âÁ¨¨‰∏âÊñπÂ∫ìËΩ¨Êç¢ÊàêÂõæÁâáÔºå‰ª•ÂõæÁâáÁöÑÂΩ¢ÂºèÂú® Egret ‰∏≠‰ΩøÁî®\n\nÁ¨¨‰∏ÄÁßçÊñπÊ°àÁöÑÁº∫Èô∑ÊØîËæÉÊòéÊòæÔºö‰∏ÄÊòØÊï¥‰∏™Ê∏∏ÊàèÁî± Egret ÂºïÊìéÊê≠Âª∫ÔºåÊ∏∏ÊàèÁöÑÊµÅÁ®ãÁî±È°πÁõÆÂÜÖÈÉ®‰ª£Á†ÅÂÆûÁé∞ÊéßÂà∂ÔºåÂú®Â§ñÂ±ÇÊåÇËΩΩÂè¶Â§ñÁöÑ HTML ËäÇÁÇπ‰∏çÂ•ΩÊéßÂà∂Ôºõ‰∫åÊòØÈ¢òÁõÆÊòæÁ§∫Â≠¶ÁîüÁ≠îÈ¢òÂêéÔºåÊúâË¶ÜÁõñÈ¢òÁõÆ‰∏äÂ±ÇÁöÑÊ≠£Á°ÆÁ≠îÊ°àÔºàÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºâÔºåÁî±‰∫é‰∏çÂêåÂ±ÇÁ∫ßÁöÑÁºòÊïÖÔºåÊó†Ê≥ïÂÆûÁé∞È¢òÁõÆÂÜÖÂÆπÂÜç‰∏äÂ±ÇÁöÑË¶ÜÁõñÔºåÈô§ÈùûÂÜçÂçïÁã¨Âª∫Á´ã‰∏Ä‰∏™ÂõæÂ±ÇË¶ÜÁõñÔºå‰ΩÜËøôÊòæÁ§∫ËÆ©Êï¥‰ª∂‰∫ãÊÉÖÂèòÂæóÊõ¥Â§çÊùÇ„ÄÅÊõ¥ÈöæÊìç‰ΩúÔºõ‰∏âÊòØËøôÁßçÊñπÊ°àÂú®Êï¥‰∏™ÁîªÂ∏É‰∏≠‰∏çÂ•ΩÂÆö‰Ωç„ÄÇ\n\n![cq-img1](https://img.mrsingsing.com/cq-img1.png)\n\nÁ¨¨‰∫åÁßçÊñπÊ°à‰πüÂ≠òÂú®Èöæ‰ª•Ëß£ÂÜ≥ÁöÑ‰∏Ä‰∫õÈóÆÈ¢òÔºåËôΩÁÑ∂ËØ¥ÁõÆÂâçÈõÜÂõ¢ÂÜÖÈÉ®Â∑≤ÁªèÊúâÊØîËæÉÊàêÁÜüÁöÑÈ¢òÂ∫ìÔºå‰ΩÜÊó©ÊúüËøòÊòØÈÄöËøáÊé•ÂÖ•Â§ñÈÉ®È¢òÂ∫ìÁöÑÊñπÂºèÊâ©ÂÖÖÈ¢òÂ∫ìÔºåÈ¢òÁõÆÂΩïÂÖ•ÁöÑÂØåÊñáÊú¨ÁºñËæëÂô®‰πüÁªèËøáÂæàÈïøÊó∂Èó¥ÁöÑËø≠‰ª£Ôºå‰∫ãÂÆû‰∏äÁîüÊàêÁöÑ HTML Â≠óÁ¨¶‰∏≤‰πüÊòØÂêÑ‰∏çÁõ∏ÂêåÔºåÊàë‰ª¨Êó†Ê≥ïÂà∂ÂÆöÁªü‰∏ÄÁöÑÊ≠£ÂàôË°®ËææÂºèÂÆåÁæéÂú∞ÂåπÈÖçÊâÄÊúâÁöÑÊÉÖÂÜµ„ÄÇ\n\nËøôÊàñËÆ∏ÊúâÁÇπÈöæ‰ª•ÁêÜËß£ÔºåÂú®Êï∞Â≠¶È¢òÁõÆÁöÑÈ¢òÂπ≤‰∏≠‰ºöÂ≠òÂú®ÂÖ¨ÂºèÔºå‰∏Ä‰∫õ‰ºö‰ª• SVG ÁöÑÂΩ¢ÂºèÊ∏≤ÊüìÔºå‰∏Ä‰∫õÂàôÁ≤óÊö¥Âú∞‰ª•ÂõæÁâáÁöÑÂΩ¢ÂºèÂ≠òÂú®Ôºå‰ª•ÂõæÁâáÂΩ¢ÂºèÂ≠òÂú®ÊòØÊó†Ê≥ïÈÄöËøáÂ∑≤ÊúâÊù°‰ª∂Âà§Êñ≠ÂÖ∂‰∏∫ÂÖ¨ÂºèÔºåÂç≥‰æøËÉΩÂà§Êñ≠ÂÖ∂‰∏∫ÂÖ¨ÂºèÔºåÁ±ª‰ººËøôÁßç SVG ÂΩ¢ÂºèÁöÑ XML Ê†áÁ≠æ‰πüÊó†Ê≥ïÂú® Egret ‰∏≠‰ΩøÁî®„ÄÇ\n\nÂõ†Ê≠§Âè™Ââ©‰∏ãÊúÄÂêé‰∏ÄÁßçÊñπÊ°àÔºå‰πüÊòØÊàë‰ª¨ÊúÄÂêéÊàë‰ª¨ÈááÁ∫≥ÁöÑ‰∏ÄÁßçÊñπÊ°àÔºåÊàë‰ª¨ AI ÂΩïÊí≠ËØæÂú®‰∏äËØæÂâçÊúâ‰∏™ÁºìÂÜ≤Èò∂ÊÆµÔºåÈúÄË¶ÅÁªôËØæÂÆ§‰∏≠ÁöÑÂ≠¶ÁîüÁªëÂÆöÁ≠îÈ¢òÂô®Á≠âÊìç‰ΩúÔºåÂà©Áî®ËøôÊÆµÁ©∫Ê°£ÊúüÔºåÊàë‰ª¨ËÉΩÂú® Electron ÂÆ¢Êà∑Á´ØÊåÇËΩΩ‰∏Ä‰∏™ÂéüÁêÜËßÜÂè£ÁöÑËäÇÁÇπÔºåÈÄöËøá HTML Ëß£ÊûêÂä†ËΩΩÊØèÈÅìÈ¢òÁõÆÔºåÂπ∂ÈÄöËøá [html2canvas](https://github.com/niklasvh/html2canvas) ËΩ¨‰∏∫ Base64 ÁöÑÂõæÁâáÂêéÔºåÂÜç‰∫§Áî± Egret Â§ÑÁêÜ„ÄÇ\n\n## ÊñπÊ°àÂÆûÁé∞\n\nÈÄöËøáÊúçÂä°Á´ØÊé•Âè£Ëé∑ÂèñÂà∞È¢òÁõÆÁöÑÊï∞ÊçÆÂàóË°®ÂêéÔºåÊàë‰ª¨Â∞ÜÊï∞ÊçÆ‰ª• 10 Êù°‰∏∫Âçï‰ΩçÂàáÂâ≤ÂàÜÁªÑÔºàÁî±‰∫éÊ∏≤ÊüìÁªòÂà∂Êà™ÂõæÁöÑËøáÁ®ãËÄóÊó∂Ôºå‰∏∫‰∫ÜÊèêÈ´òÊïàÁéáÔºåÈááÁî®Ê∏≤ÊüìÂ§öÊù°Êà™Âõæ‰∏ÄÊ¨°ÁöÑÊñπÂºèÂÆûÁé∞ÔºâÔºåÊØèÊ¨°Ê∏≤Êüì 10 Êù°Êï∞ÊçÆÂú®Âõ∫ÂÆöÂÆΩÈ´òÁöÑÁõíÂ≠êÂÜÖ„ÄÇ\n\n```js\nexport function getBase64ByHtml2Canvas(dataInfo) {\n  return new Promise((resolve, reject) => {\n    (async () => {\n      try {\n        // ‰ªé‰ª•È¢òÁõÆ ID ‰∏∫ÈîÆÔºåÈ¢òÁõÆÊï∞ÊçÆ‰∏∫ÂÄºÁöÑÂØπË±°‰∏≠ÊäΩÁ¶ªÂàóË°®\n        const dataList = Object.values(dataInfo);\n\n        // Âà§Êñ≠ÊòØÂê¶‰∏∫ÊúâÊïàÁöÑÂØπË±°Êï∞ÁªÑ\n        if (!isValidObjectArray(dataList)) {\n          resolve({});\n          return;\n        }\n\n        let result = {};\n        let groups = [];\n\n        // ‰∏∫‰∫ÜÊèêÂçáÊïàÁéáÔºåÊØèÊ¨°ÊúÄÂ§öÊ∏≤Êüì 10 Êù°È¢òÁõÆÔºå‰ª•ÊúÄÂ§ö 10 Êù°‰∏∫ÈôêÂà∂ÂàÜÂ•ΩÁªÑÂà´\n        for (let x = 0; x < Math.ceil(dataList.length / 10); x++) {\n          let start = x * 10;\n          let end = start + 10;\n          groups.push(dataList.slice(start, end));\n        }\n\n        for (const taskList of groups) {\n          const taskResult = await createHtml2CanvasPromise(taskList);\n\n          result = Object.assign({}, result, taskResult);\n        }\n\n        resolve(result);\n      } catch (err) {\n        reject(err);\n      }\n    })();\n  });\n}\n\nfunction createHtml2CanvasPromise(dataList) {\n  return new Promise((resolve, reject) => {\n    try {\n      const root = document.getElementById('html2canvas');\n\n      // Ê∏≤ÊüìÂâçÂ∞ÜÊ†πËäÇÁÇπÊ∏ÖÁ©∫\n      root.innerHTML = '';\n\n      const documentFragment = document.createDocumentFragment();\n\n      dataList.forEach(item => {\n        const div = document.createElement('div');\n        div.classList.add('container');\n        // È¢òÁõÆÂÜÖÂÆπ\n        div.innerHTML = item.questionContentTranslate;\n        div.dataset.id = item.questionId;\n\n        // Áî±‰∫éÂÖ¨ÂºèÂõæÁâáËøáÂ∞èÔºåÊâÄ‰ª•ÁâπÊÆäÂ§ÑÁêÜÂÆΩÈ´òÊîæÂ§ß‰∏§ÂÄç\n        const tagNames: any = div.querySelectorAll('.spark-formula-frame');\n        if (tagNames.length > 0) {\n          tagNames.forEach(item => {\n            item.width = item.width * 2;\n            item.height = item.height * 2;\n            item.style.margin = '0 10px';\n          });\n        }\n\n        documentFragment.appendChild(div);\n      });\n\n      root.appendChild(documentFragment);\n\n      let images = Array.from(root.getElementsByTagName('img'));\n\n      const renderContent = function() {\n        // Ëß£ÂÜ≥ÂõæÁâáËøòÊ≤°Âä†ËΩΩÂÆåÊØïÔºåÂ∞±ÂºÄÂßãÊà™ÂõæÂØºËá¥Êà™ÂèñÁöÑÂõæÁâá‰∏∫Á©∫ÁôΩÁöÑÈóÆÈ¢ò\n        const timer = setTimeout(() => {\n          images = images.filter(item => item && !item.complete);\n\n          if (images.length === 0) {\n            const clientRect = root.getBoundingClientRect();\n\n            // ÂºÄÂßãÈÄöËøá html2canvas ÁªòÂà∂Âπ∂ÁîüÊàêÂõæÁâá\n            html2canvasformula(root, {\n              backgroundColor: null,\n              useCORS: true,\n              width: clientRect.width,\n              height: clientRect.height,\n            })\n              .then(canvas => {\n                // ÁªèËøá html2canvas Â§ÑÁêÜÔºåÂºÇÊ≠•‰ºöËøîÂõû canvas ÁîªÂ∏ÉÔºåÂêéÁª≠Êìç‰ΩúÈúÄË¶ÅËá™Ë°åÂ§ÑÁêÜ\n                const ctx = canvas.getContext('2d');\n\n                document.body.append(canvas);\n\n                const result = dataList.reduce((acc, item, index) => {\n                  const elementRef = Array.from(root.children)[index];\n                  const clientRect = elementRef.getBoundingClientRect();\n\n                  // Êà™ÂèñÁöÑÂõæÁâáÔºàBase64Ôºâ\n                  const base64 = cutImg(ctx, index + 1, clientRect.width, clientRect.height);\n\n                  // ËøôÊòØÊúÄÁªàËøîÂõûÁöÑËá™ÂÆö‰πâÁªìÊûÑ\n                  const payload: any = {\n                    questionId: item.questionId,\n                    answer:\n                      item.questionExplains && isValidObjectArray(item.questionExplains)\n                        ? item.questionExplains[0].answerTranslate\n                        : null,\n                    audioUrl:\n                      item.audioList && isValidObjectArray(item.audioList)\n                        ? item.audioList[0].audioUrl\n                        : null,\n                    content: base64,\n                  };\n\n                  acc[item.questionId] = payload;\n\n                  return acc;\n                }, {});\n\n                resolve(result);\n              })\n              .catch(() => {\n                resolve({});\n              });\n\n            clearTimeout(timer);\n          } else {\n            renderContent();\n          }\n        }, 250);\n      };\n\n      renderContent();\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n\nfunction cutImg(ctx, index, width, height) {\n  // Â§ÑÁêÜ Retina È´òÊ∏ÖÂ±è\n  let devicePixelRatio = 1;\n  if (window.devicePixelRatio) {\n    devicePixelRatio = window.devicePixelRatio;\n  }\n\n  // ÁõíÂ≠êÂÆΩÂ∫¶Ôºö1008\n  // ÁõíÂ≠êÈ´òÂ∫¶Ôºö730\n  const imgWidth = (width || 1008) * devicePixelRatio;\n  const imgHeight = (height || 730) * devicePixelRatio;\n\n  const sw = index * imgWidth - imgWidth;\n  let imageData = ctx.getImageData(sw, 0, imgWidth, imgHeight);\n\n  const canvas = document.createElement('canvas');\n  canvas.width = imgWidth;\n  canvas.height = imgHeight;\n\n  const context = canvas.getContext('2d');\n  context.putImageData(imageData, 0, 0);\n\n  return canvas.toDataURL();\n}\n```\n\n## Ê∫êÁ†ÅÊîπÈÄ†\n\nÂÖ∂ÂÆû `html2canvas` ÁöÑÂÆûÁé∞ÂéüÁêÜÂæàÁÆÄÂçïÔºåÂ∞±ÊòØËØªÂèñÂ∑≤ÁªèÊ∏≤ÊüìÂ•ΩÁöÑ DOM Ê†ëÁöÑÁªìÊûÑÂíåÊ†∑Âºè‰ø°ÊÅØÔºåÁÑ∂ÂêéÂü∫‰∫éËøô‰∫õ‰ø°ÊÅØÂú® Canvas ÁîªÂ∏É‰∏≠ÁªòÂà∂Âá∫Êù•ÔºåÊúÄÂêéÈÄöËøá `canvas.toDataURL` ËΩ¨Êç¢‰∏∫ Base64„ÄÇ\n\n‰ΩÜÂÆûÈôÖÊàë‰ª¨Âú®‰ΩøÁî®Êó∂Âç¥ÈÅáÂà∞‰∫Ü‰∏çÂ∞ëÈ∫ªÁÉ¶Ôºå‰∏ãÂõæ‰∏∫ÂΩìÊó∂Ôºà2021 Âπ¥ 2 Êúà‰∏ãÊó¨ÔºâÂà©Áî® html2canvasÔºàv1.0.0-rc.7ÔºâÂÜôÁöÑ demo„ÄÇÂ¶ÇÂõæ‰∏≠È°∂ÈÉ®Á¨¨‰∏Ä‰∏™ÊñπÊ°ÜÔºåÊòØÁî± innerHTML Â∞ÜÂêéÁ´ØÁªôÈ¢òÁõÆ HTML Â≠óÁ¨¶‰∏≤ÊèíÂÖ•Âà∞ DOM Êï∞‰∏≠ÁöÑÔºåÈÖçÂêàÂ∑≤Áü•ÁöÑÊ†∑ÂºèÔºåËÉΩÂëàÁé∞Âá∫Êàë‰ª¨ÊúÄÁªàÈúÄË¶ÅÁöÑÊïàÊûúÔºåËøôÈáåÊàë‰ª¨ÂèØ‰ª•ÁâπÂà´ÁïôÊÑèÁöÑÊòØÔºå1980 ÂÖ∂ÂÆûÊòØ‰∏ÄÂº†ÂõæÁâáÔºåÂÆûÈôÖ‰∏äÊòØÈªëËâ≤ÁöÑÂ≠ó‰ΩìÔºå‰ΩÜÁî±‰∫é‰∫íÂä®Ê∏∏Êàè‰∏≠‰∏∫Ê∑±Ëâ≤ËÉåÊôØÔºåÊàë‰ª¨ÁöÑËÆæËÆ°Â∏àË¶ÅÊ±Ç‰ΩøÁî®ÁôΩËâ≤ÁöÑÂ≠ó‰ΩìÔºå‰∏çÁÑ∂ÊúÄÁªàÂëàÁé∞ÁöÑÊïàÊûúÔºåÂÖ∂ÂÆûÂ∞±ÊòØÁ¨¨‰∫å‰∏™ÊñπÊ°ÜÊâÄÂëàÁé∞Âá∫Êù•ÁöÑ„ÄÇ\n\nÁ¨¨‰∫å‰∏™ÊñπÊ°ÜÂÖ∂ÂÆûÊòØÊ∏≤ÊüìÂÆåÁ¨¨‰∏Ä‰∏™ÊñπÊ°ÜÂêéÔºåÈÄöËøá html2canvas ÁªòÂà∂Âà∞ canvas ‰∏äÁöÑÊïàÊûúÔºå‰ΩÜÊòØ html2canvas Ê≠§Êó∂Âπ∂‰∏çÊîØÊåÅÂà©Áî® `filter: invert(1)` ÂØπÂõæÁâáËøõË°åÂèçÁõ∏Â§ÑÁêÜÔºåÊâÄ‰ª•ÂëàÁé∞ÁöÑÊïàÊûúÂπ∂‰∏çÂ¶ÇÊàë‰ª¨ÁöÑÈ¢ÑÊúüÔºåËøôÈáåÂ∞±ÈúÄË¶ÅÊàë‰ª¨ÂØπÊ∫ê‰ª£Á†ÅËøõË°åÈ≠îÊîπ„ÄÇ\n\nÂÖ∂Ê¨°ÔºåÁ¨¨‰∏â‰∏™ÊñπÊ°ÜÊòØÈÄöËøá canvas ÁöÑ toDataURL ÊúÄÁªàÁîüÊàêÁöÑ Base64 ‰ª£Á†ÅÔºå‰ªéÁ¨¨‰∏ÄËßÜËßâÊù•ÁúãÔºåÊØîÊ≠£Â∏∏ÁöÑÂ∑Æ‰∏çÂ§öÂ§ß‰∫Ü‰∏§ÂÄçÊúâÂ§öÔºåËøôÈáåÁõ¥ËßâÂëäËØâÊàëÔºå‰πüËÆ∏‰∏éËÆæÂ§áÂÉèÁ¥†ÊØîÊúâÂÖ≥Á≥ª„ÄÇ\n\n![cq-img2](https://img.mrsingsing.com/cq-img2.png)\n\n[https://github.com/niklasvh/html2canvas/blob/3982df1492bdc40a8e5fa16877cc0291883c8e1a/src/render/canvas/canvas-renderer.ts#L259](https://github.com/niklasvh/html2canvas/blob/3982df1492bdc40a8e5fa16877cc0291883c8e1a/src/render/canvas/canvas-renderer.ts#L259)\n\n‰∏äËø∞‰ª£Á†ÅÁâáÊÆµÊòØ `html2canvas` ‰∏≠ÔºåËé∑Âèñ HTML ÁÑ∂ÂêéÁªòÂà∂Êàê Canvas ÁöÑÂÖ≥ÈîÆÊñπÊ≥ï `renderReplacedElement`ÔºåÂΩìÊâßË°å `ctx.restore()` ÂêéË°®Á§∫Ê≠§Ê¨°ÁªòÂà∂Â∑≤ÁªèÁªìÊùüÔºå‰ΩÜÊòØËøôÈáåÊàë‰ª¨Ê∑ªÂä†‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂ∞ÜÂØπÊ†∑Âºè‰∏≠Â≠òÂú® `filter` Â±ûÊÄßÁöÑËäÇÁÇπÂÖÉÁ¥†ËøõË°åÂèçÁõ∏„ÄÇ\n\n```ts\nfunction filterImage(box: Bounds, filter: any) {\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  // Retina È´òÊ∏ÖÂ±èÈÄÇÈÖç\n  const finalBox: any = {\n    left: devicePixelRatio * box.left,\n    top: devicePixelRatio * box.top,\n    width: devicePixelRatio * box.width,\n    height: devicePixelRatio * box.height,\n  };\n\n  //\n  const imageData: ImageData = this.ctx.getImageData(\n    finalBox.left,\n    finalBox.top,\n    finalBox.width,\n    finalBox.height\n  );\n\n  const imgWidth = imageData.width,\n    imgHeight = imageData.height;\n\n  for (let i = 0; i < imgHeight; i++) {\n    for (let j = 0; j < imgWidth; j++) {\n      const index = i * 4 * imgWidth + j * 4;\n\n      let red = imageData.data[index];\n      let green = imageData.data[index + 1];\n      let blue = imageData.data[index + 2];\n\n      imageData.data[index] = 255 - 2 * red + red;\n      imageData.data[index + 1] = 255 - 2 * green + green;\n      imageData.data[index + 2] = 255 - 2 * blue + blue;\n    }\n  }\n\n  this.ctx.putImageData(imageData, fialBox.left, fialBox.top);\n}\n```\n\nÈÇ£‰πàÂ¶Ç‰ΩïÂØπ Canvas ÂõæÂÉèËøõË°åÂèçÁõ∏Âë¢ÔºüÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá `ctx.getImageData` Ëé∑ÂèñÊåáÂÆöÂùêÊ†áÂÆΩÈ´òÁöÑÂå∫ÂüüÔºåËøîÂõûÂÄº‰∏∫‰∏Ä‰∏™Áî®Êù•ÊèèËø∞ÂõæÁâáÂ±ûÊÄßÁöÑÊï∞ÊçÆÂØπË±° ImageData ÂØπË±°„ÄÇ\n\nÂÆÉÊúâ‰∏â‰∏™Â±ûÊÄßÔºåÂàÜÂà´ÊòØ `data`„ÄÅ`width` Âíå `height`„ÄÇÂêé‰∏§‰∏™Â±ûÊÄß‰ª£Ë°®ÊåáÂÆöÂõæÁâáÁöÑÂÆΩÈ´òÔºåËÄåÂè¶Â§ñ‰∏Ä‰∏™ `data` Â±ûÊÄßÔºåÂàôÊòØ‰∏Ä‰∏™ Uint8ClampedArrayÔºà8 ‰ΩçÊó†Á¨¶Âè∑Êï¥ÂΩ¢Âõ∫ÂÆöÊï∞ÁªÑÔºâÁ±ªÂûãÂåñÊï∞ÁªÑ„ÄÇ`data` ‰∏≠ÁöÑÂÉèÁ¥†Êï∞ÊçÆÊòØÊåâÁÖß‰ªé‰∏äÂà∞‰∏ãÔºå‰ªéÂ∑¶Âà∞Âè≥ÊéíÂàóÁöÑÔºåÊØè‰∏™ÂÉèÁ¥†ÈúÄË¶ÅÂç†Áî® 4 ‰ΩçÊï∞ÊçÆÔºåÂàÜÂà´ÊòØ R„ÄÅG„ÄÅB„ÄÅAlpha ÈÄèÊòéÈÄöÈÅìÔºå\n\nÂèçÁõ∏‰∫¶Âç≥Â∞ÜÊüê‰∏™È¢úËâ≤ÊõøÊç¢ÊàêÂÆÉÁöÑË°•Ëâ≤ÔºåÂú® RGB Ê®°Âºè‰∏≠ÔºåÂèçÁõ∏ÂÆûÂàôÊòØÂà©Áî® 255 ÂáèÂéª RGB ÁöÑÂÄºÔºåÂæóÂà∞ÁöÑÂç≥‰∏∫ÂèçÁõ∏ÁöÑ RGB ÂÄº„ÄÇ\n\nÈÄöËøáÂú®Ê∫êÁ†ÅÂ¢ûÂä†ÊîØÊåÅ Canvas ÂèçÁõ∏ÂíåÂÖºÂÆπ Retina Â±èÂπïÁöÑ‰ª£Á†ÅÔºåËß£ÂÜ≥‰∫ÜÂ≠ó‰ΩìÂõæÁâáÂíåÂ∞∫ÂØ∏ÈóÆÈ¢ò„ÄÇ\n\n![cq-img3](https://img.mrsingsing.com/cq-img3.png)\n\n‰ΩÜÊòØËøòÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÈúÄË¶ÅËß£ÂÜ≥ÔºåÈÇ£Â∞±ÊòØÂ¶Ç‰ΩïÂà©Áî®ÊúÄÂ∞è‰ª£‰ª∑Âú®ÂéüÊúâÈ°πÁõÆ‰∏≠Êõ¥ÊîπÁ¨¨‰∏âÊñπÂ∫ìÁöÑÊ∫ê‰ª£Á†ÅÂë¢Ôºü\n\nÈÄöËøáÊü•ÈòÖËµÑÊñôÂèØÁü•Âà©Áî® [patch-package](https://www.npmjs.com/package/patch-package) ËÉΩÂ§ü‰∏∫ÂÖ∂‰ªñ npm ÂåÖÊûÑÂª∫Ë°•‰∏ÅÂåÖÔºåÂÖ∂ÂÆûÈôÖÂéüÁêÜÊòØÂú®Â∑•Á®ãÁõÆÂΩï‰∏ã‰øùÂ≠ò‰∏Ä‰ªΩ‰∏éÁ∫ø‰∏äÁâàÊú¨ÁöÑ npm ÂåÖÁöÑ git diff Êñá‰ª∂„ÄÇÂÖ∑‰Ωì‰ΩøÁî®ÊñπÊ≥ïÂèØ‰ª•ÂèÇËÄÉ [ÈÇ£‰∫õ‰øÆÊîπ node_modules ÁöÑÈ™öÊìç‰Ωú](https://zhuanlan.zhihu.com/p/310266801)„ÄÇ\n\n‰∏çËøáÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊñá‰∏≠ÊèêÂèäÁöÑÊúÄ‰ºòËß£ `patch-package` ÂÖ∂ÂÆû‰πüÊòØÊúâÁº∫Èô∑ÁöÑÔºå‰æãÂ¶ÇÔºåÂ¶ÇÊûú node_modules ‰∏≠ÁöÑ npm ÂåÖÊòØ ES6 Ê®°ÂùóÊâìÂåÖÊàê ES5 Ê®°ÂùóÔºåÊàñËÄÖÊòØÁªèËøáÊ∑∑Ê∑ÜÊâìÂåÖÁöÑÔºåÈÇ£‰πàÂèØËØªÊÄßÊñπÈù¢ÈÉΩÊ≤°ÊúâÊ∫ê‰ª£Á†ÅÈ´òÔºåÂØπ‰∫éÂºÄÂèëËÄÖ‰øÆÊîπËµ∑Êù•‰ºöÊØîËæÉÈ∫ªÁÉ¶„ÄÇ\n\nËÄå html2canvas Ê®°ÂùóÂåÖÊ≠£ÊòØÊâìÂåÖÂêéÁöÑ ES5 Ê®°ÂùóÂåÖÔºåÊâÄ‰ª•Â∞ΩÁÆ°‰øÆÊîπÂÜÖÂÆπ‰∏çÊòØÁâπÂà´Â§öÔºåÊàë‰ª¨ËøòÊòØ clone Âà∞Êú¨Âú∞Âêé‰øÆÊîπÂêéÂèëÂ∏ÉÂà∞ÂÜÖÈÉ®ÁöÑ npm Â∫ì‰∏≠ÔºåÂÖ∂‰ªñ‰∏öÂä°Á∫øÊúâÁõ∏ÂÖ≥ÁöÑÈúÄÊ±Ç‰πüËÉΩÁõ¥Êé•ÂºïÁî®ËØ•Ê®°ÂùóËß£ÂÜ≥Ôºå‰πüÂà©‰∫éÂêéÊúüÁöÑÊãìÂ±ï„ÄÇ\n\nÂÖ∂ÂÆûÂà∞ËøôÈáåÔºåÊï¥‰∏™ÊäÄÊúØÊñπÊ°àÁöÑÂÆûÁé∞ÈöæÁÇπÂ∞±Â∑≤ÁªèËß£ÂÜ≥ÔºåÊãøÂà∞È¢òÁõÆÂÜÖÂÆπÁöÑ Base64 ÂõæÁâáÂêéÔºåÂ∞±ËÉΩÂ§üÂú® Egret ‰∏≠ egret.BitmapData ‰ΩçÂõæÁîüÊàêÂõæÁâá„ÄÇ\n\nÈô§Ê≠§‰πãÂ§ñÔºåËøôÈáåÈúÄË¶ÅÂØπÂõæÁâáËøõË°åÈÄÇÈÖçÔºåË¶Å‰øùËØÅÂõæÁâáËÉΩÂÆåÊï¥ÊòæÁ§∫Âú®È¢òÁõÆÂÜÖÂÆπÂÆπÂô®ÂÜÖ„ÄÇ\n\n```ts\nexport class QuestionContent extends eui.Component implements eui.UIComponent {\n  private initQuestionContent(): void {\n    const img: HTMLImageElement = new Image();\n    // this.questionInfo.content Â∞±ÊòØ Base64\n    img.src = this.questionInfo.content;\n    // ÊòØÂê¶ÊòØÈü≥È¢ëÈ¢ò\n    const isAudio = this.questionInfo.audioUrl;\n\n    // ÂõæÁâáÈÄÇÈÖç\n    img.onload = () => {\n      let width = 0,\n        height = 0;\n      // ÊâøËΩΩÈ¢òÁõÆÂõæÁâáÂÆπÂô®ÁöÑÂèØÁî®ÊúÄÂ§ßÂÆΩÈ´ò\n      const avaliableWidth = this.contentGroup.width;\n      let avaliableHeight = this.contentGroup.height;\n\n      if (isAudio) {\n        avaliableHeight = avaliableHeight - 130;\n      }\n\n      if (img.width > img.height) {\n        height = img.height * (avaliableWidth / img.width);\n        width = avaliableWidth;\n      } else {\n        width = img.width * (avaliableHeight / img.height);\n        height = avaliableHeight;\n      }\n\n      img.width = width;\n      img.height = height;\n      img['avaliable'] = true;\n\n      const bitmapdata: egret.BitmapData = new egret.BitmapData(img);\n      const texture: egret.Texture = new egret.Texture();\n      texture.disposeBitmapData = true;\n      texture.bitmapData = bitmapdata;\n\n      this.contentBitmap = new egret.Bitmap(texture);\n\n      // Áî±‰∫éÊúâÈü≥È¢ëÁªÑ‰ª∂ÔºåÊâÄ‰ª•È¢òÁõÆË¶ÅÂêë‰∏ãÁßªÂä® 103 ‰∏™Âçï‰ΩçÈ´òÂ∫¶\n      if (isAudio) {\n        this.contentBitmap.y = 103;\n      }\n\n      // Â∞ÜÈ¢òÁõÆ‰ΩçÂõæÊèíÂÖ•ËàûÂè∞\n      this.contentGroup.addChild(this.contentBitmap);\n    };\n  }\n}\n```\n\nÊúÄÁªàÂëàÁé∞ÁöÑÊïàÊûúÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö\n\n![cq-img4](https://img.mrsingsing.com/cq-img4.png)\n\n![cq-img5](https://img.mrsingsing.com/cq-img5.png)\n\nÂèÇËÄÉËµÑÊñô\n\n- [html2canvas ÂÆûÁé∞ÊµèËßàÂô®Êà™ÂõæÁöÑÂéüÁêÜÔºàÂåÖÂê´Ê∫êÁ†ÅÂàÜÊûêÁöÑÈÄöÁî®ÊñπÊ≥ïÔºâ](https://segmentfault.com/a/1190000038551328)\n- [Âü∫‰∫é html2canvas ÂÆûÁé∞ÁΩëÈ°µ‰øùÂ≠ò‰∏∫ÂõæÁâáÂèäÂõæÁâáÊ∏ÖÊô∞Â∫¶‰ºòÂåñ](https://segmentfault.com/a/1190000011478657)\n","source":"_posts/rich-text-and-base64.md","raw":"---\ntitle: ÂØåÊñáÊú¨È¢òÁõÆÂ≠óÁ¨¶‰∏≤ËΩ¨ Base64 ÂõæÁâáÂÆûÁé∞\ndate: '2021-03-13'\n---\n\n## ÈúÄÊ±ÇËÉåÊôØ\n\nÊúÄËøëÂú®Ë¥üË¥£Âà©Áî® Egret ÁôΩÈπ≠Ê∏∏ÊàèÂºïÊìéÂºÄÂèë‰∏ÄÊ¨æËØæ‰∏≠‰∫íÂä®Ê∏∏ÊàèÔºåÂÖ∂‰∏≠‰∏Ä‰∏™ÂäüËÉΩÈúÄË¶ÅÂ∞Ü HTML Â≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÂ≠òÂ∫ìÁöÑÈ¢òÁõÆÂÜÖÂÆπÂ∫îÁî®Âú®‰∫íÂä®Ê∏∏Êàè‰∏≠„ÄÇ‰ΩÜÊòØÁôΩÈπ≠ÂºïÊìéÊòØÈÄöËøá WebGL ËøõË°åÊ∏≤ÊüìÁöÑÔºåDOM Ê†ë‰∏≠ÈÄöËøá‰∏Ä‰∏™ `<canvas>` Ê†áÁ≠æÊâøËΩΩÔºåÊó†Ê≥ïÈÄöËøá `innerHTML` ÁöÑÊñπÂºèÁõ¥Êé•‰ΩøÁî® HTML Â≠óÁ¨¶‰∏≤ÔºåÂΩìÊó∂Ëä±Ë¥π‰∫Ü‰∏çÂ∞ëÊó∂Èó¥Á†îÁ©∂Â¶Ç‰Ωï‰ºòÈõÖÂú∞ÂÆûÁé∞Á±ª‰ººÁöÑÈúÄÊ±Ç„ÄÇ\n\n<!-- more -->\n\n## ÊñπÊ°àË∞ÉÁ†î\n\nÈÅá‰∫ãÂÖà‰ªéÊñáÊ°£Êü•Ëµ∑ÔºåÂú®ÁôΩÈπ≠ÊñáÊ°£ÂíåËÆ∫Âùõ‰∏≠ÊâæÂà∞‰∫Ü `egret.HtmlTextParser` Ëøô‰∏™ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïËÉΩÂ∞Ü HTML Ê†ºÂºèÊñáÊú¨ËΩ¨Êç¢‰∏∫ÂèØËµãÂÄº `egret.TextField#textFlow` Â±ûÊÄßÁöÑÂØπË±°„ÄÇ\n\nÂéüÊú¨‰ª•‰∏∫‰∫ãÊÉÖÂ∞±ÊòØËøô‰πàÁÆÄÂçïÔºå‰ΩÜÊòØÁªèËøáÂ∞ùËØïÂêéÈÅáÂà∞‰ª•‰∏ãÁöÑÈóÆÈ¢òÔºö\n\n1. È¢òÁõÆÂÜÖÂÆπ‰∏≠ÊúâÂºïÁî®Â§ñÈìæÁöÑÂõæÁâá„ÄÅSVG Á≠âÔºåËØ•ÊñπÊ≥ïÊó†Ê≥ïÊîØÊåÅ\n2. È¢òÁõÆ HTML Ê†áÁ≠æ‰∏äÂê´Êúâ CSS Á±ªÂêçÔºåËøô‰∫õÈúÄË¶ÅÂ∫îÁî®Âõ∫ÂÆöÊ†∑ÂºèÁöÑÈ¢òÁõÆÊó†Ê≥ïÊ≠£Â∏∏ÊòæÁ§∫\n\nÁî±‰∫éÊó†Ê≥ïÈÄöËøá Egret Êèê‰æõÁöÑ API ÂÆûÁé∞Êàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÊïàÊûúÔºåÂè™ËÉΩÂè¶ÂØªÂá∫Ë∑Ø„ÄÇÊÄùËÄÉ‰∫Ü‰∏Ä‰ºöÂêéÔºåÊàëÊÉ≥Âà∞‰∫Ü‰∏âÁßçÂèØ‰æõËß£ÂÜ≥ÊñπÊ°àÁöÑÊñπÊ°àÔºö\n\n1. Âú® `<canvas>` Ê†áÁ≠æÂ§ñÁöÑ‰∏äÂ±ÇÂ¢ûÂ§ß `z-index` Ë¶ÜÁõñ‰∏ÄÂ±ÇÈ¢òÁõÆÁöÑ HTML ‰ª£Á†Å\n2. ‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÂåπÈÖçËΩ¨Êç¢ HTML Â≠óÁ¨¶‰∏≤ÊàêÂØπË±°Êï∞ÊçÆÁªìÊûÑÔºåEgret ÂÜÖÈÉ®Â∞ÜÂØπË±°Êï∞ÊçÆËΩ¨Êç¢‰∏∫ÂØπÂ∫îÁöÑ UI\n3. Ê∏≤Êüì HTML ÂØåÊñáÊú¨Â≠óÁ¨¶‰∏≤ÔºåÈÄöËøá `html2canvas` Á≠âÁ¨¨‰∏âÊñπÂ∫ìËΩ¨Êç¢ÊàêÂõæÁâáÔºå‰ª•ÂõæÁâáÁöÑÂΩ¢ÂºèÂú® Egret ‰∏≠‰ΩøÁî®\n\nÁ¨¨‰∏ÄÁßçÊñπÊ°àÁöÑÁº∫Èô∑ÊØîËæÉÊòéÊòæÔºö‰∏ÄÊòØÊï¥‰∏™Ê∏∏ÊàèÁî± Egret ÂºïÊìéÊê≠Âª∫ÔºåÊ∏∏ÊàèÁöÑÊµÅÁ®ãÁî±È°πÁõÆÂÜÖÈÉ®‰ª£Á†ÅÂÆûÁé∞ÊéßÂà∂ÔºåÂú®Â§ñÂ±ÇÊåÇËΩΩÂè¶Â§ñÁöÑ HTML ËäÇÁÇπ‰∏çÂ•ΩÊéßÂà∂Ôºõ‰∫åÊòØÈ¢òÁõÆÊòæÁ§∫Â≠¶ÁîüÁ≠îÈ¢òÂêéÔºåÊúâË¶ÜÁõñÈ¢òÁõÆ‰∏äÂ±ÇÁöÑÊ≠£Á°ÆÁ≠îÊ°àÔºàÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºâÔºåÁî±‰∫é‰∏çÂêåÂ±ÇÁ∫ßÁöÑÁºòÊïÖÔºåÊó†Ê≥ïÂÆûÁé∞È¢òÁõÆÂÜÖÂÆπÂÜç‰∏äÂ±ÇÁöÑË¶ÜÁõñÔºåÈô§ÈùûÂÜçÂçïÁã¨Âª∫Á´ã‰∏Ä‰∏™ÂõæÂ±ÇË¶ÜÁõñÔºå‰ΩÜËøôÊòæÁ§∫ËÆ©Êï¥‰ª∂‰∫ãÊÉÖÂèòÂæóÊõ¥Â§çÊùÇ„ÄÅÊõ¥ÈöæÊìç‰ΩúÔºõ‰∏âÊòØËøôÁßçÊñπÊ°àÂú®Êï¥‰∏™ÁîªÂ∏É‰∏≠‰∏çÂ•ΩÂÆö‰Ωç„ÄÇ\n\n![cq-img1](https://img.mrsingsing.com/cq-img1.png)\n\nÁ¨¨‰∫åÁßçÊñπÊ°à‰πüÂ≠òÂú®Èöæ‰ª•Ëß£ÂÜ≥ÁöÑ‰∏Ä‰∫õÈóÆÈ¢òÔºåËôΩÁÑ∂ËØ¥ÁõÆÂâçÈõÜÂõ¢ÂÜÖÈÉ®Â∑≤ÁªèÊúâÊØîËæÉÊàêÁÜüÁöÑÈ¢òÂ∫ìÔºå‰ΩÜÊó©ÊúüËøòÊòØÈÄöËøáÊé•ÂÖ•Â§ñÈÉ®È¢òÂ∫ìÁöÑÊñπÂºèÊâ©ÂÖÖÈ¢òÂ∫ìÔºåÈ¢òÁõÆÂΩïÂÖ•ÁöÑÂØåÊñáÊú¨ÁºñËæëÂô®‰πüÁªèËøáÂæàÈïøÊó∂Èó¥ÁöÑËø≠‰ª£Ôºå‰∫ãÂÆû‰∏äÁîüÊàêÁöÑ HTML Â≠óÁ¨¶‰∏≤‰πüÊòØÂêÑ‰∏çÁõ∏ÂêåÔºåÊàë‰ª¨Êó†Ê≥ïÂà∂ÂÆöÁªü‰∏ÄÁöÑÊ≠£ÂàôË°®ËææÂºèÂÆåÁæéÂú∞ÂåπÈÖçÊâÄÊúâÁöÑÊÉÖÂÜµ„ÄÇ\n\nËøôÊàñËÆ∏ÊúâÁÇπÈöæ‰ª•ÁêÜËß£ÔºåÂú®Êï∞Â≠¶È¢òÁõÆÁöÑÈ¢òÂπ≤‰∏≠‰ºöÂ≠òÂú®ÂÖ¨ÂºèÔºå‰∏Ä‰∫õ‰ºö‰ª• SVG ÁöÑÂΩ¢ÂºèÊ∏≤ÊüìÔºå‰∏Ä‰∫õÂàôÁ≤óÊö¥Âú∞‰ª•ÂõæÁâáÁöÑÂΩ¢ÂºèÂ≠òÂú®Ôºå‰ª•ÂõæÁâáÂΩ¢ÂºèÂ≠òÂú®ÊòØÊó†Ê≥ïÈÄöËøáÂ∑≤ÊúâÊù°‰ª∂Âà§Êñ≠ÂÖ∂‰∏∫ÂÖ¨ÂºèÔºåÂç≥‰æøËÉΩÂà§Êñ≠ÂÖ∂‰∏∫ÂÖ¨ÂºèÔºåÁ±ª‰ººËøôÁßç SVG ÂΩ¢ÂºèÁöÑ XML Ê†áÁ≠æ‰πüÊó†Ê≥ïÂú® Egret ‰∏≠‰ΩøÁî®„ÄÇ\n\nÂõ†Ê≠§Âè™Ââ©‰∏ãÊúÄÂêé‰∏ÄÁßçÊñπÊ°àÔºå‰πüÊòØÊàë‰ª¨ÊúÄÂêéÊàë‰ª¨ÈááÁ∫≥ÁöÑ‰∏ÄÁßçÊñπÊ°àÔºåÊàë‰ª¨ AI ÂΩïÊí≠ËØæÂú®‰∏äËØæÂâçÊúâ‰∏™ÁºìÂÜ≤Èò∂ÊÆµÔºåÈúÄË¶ÅÁªôËØæÂÆ§‰∏≠ÁöÑÂ≠¶ÁîüÁªëÂÆöÁ≠îÈ¢òÂô®Á≠âÊìç‰ΩúÔºåÂà©Áî®ËøôÊÆµÁ©∫Ê°£ÊúüÔºåÊàë‰ª¨ËÉΩÂú® Electron ÂÆ¢Êà∑Á´ØÊåÇËΩΩ‰∏Ä‰∏™ÂéüÁêÜËßÜÂè£ÁöÑËäÇÁÇπÔºåÈÄöËøá HTML Ëß£ÊûêÂä†ËΩΩÊØèÈÅìÈ¢òÁõÆÔºåÂπ∂ÈÄöËøá [html2canvas](https://github.com/niklasvh/html2canvas) ËΩ¨‰∏∫ Base64 ÁöÑÂõæÁâáÂêéÔºåÂÜç‰∫§Áî± Egret Â§ÑÁêÜ„ÄÇ\n\n## ÊñπÊ°àÂÆûÁé∞\n\nÈÄöËøáÊúçÂä°Á´ØÊé•Âè£Ëé∑ÂèñÂà∞È¢òÁõÆÁöÑÊï∞ÊçÆÂàóË°®ÂêéÔºåÊàë‰ª¨Â∞ÜÊï∞ÊçÆ‰ª• 10 Êù°‰∏∫Âçï‰ΩçÂàáÂâ≤ÂàÜÁªÑÔºàÁî±‰∫éÊ∏≤ÊüìÁªòÂà∂Êà™ÂõæÁöÑËøáÁ®ãËÄóÊó∂Ôºå‰∏∫‰∫ÜÊèêÈ´òÊïàÁéáÔºåÈááÁî®Ê∏≤ÊüìÂ§öÊù°Êà™Âõæ‰∏ÄÊ¨°ÁöÑÊñπÂºèÂÆûÁé∞ÔºâÔºåÊØèÊ¨°Ê∏≤Êüì 10 Êù°Êï∞ÊçÆÂú®Âõ∫ÂÆöÂÆΩÈ´òÁöÑÁõíÂ≠êÂÜÖ„ÄÇ\n\n```js\nexport function getBase64ByHtml2Canvas(dataInfo) {\n  return new Promise((resolve, reject) => {\n    (async () => {\n      try {\n        // ‰ªé‰ª•È¢òÁõÆ ID ‰∏∫ÈîÆÔºåÈ¢òÁõÆÊï∞ÊçÆ‰∏∫ÂÄºÁöÑÂØπË±°‰∏≠ÊäΩÁ¶ªÂàóË°®\n        const dataList = Object.values(dataInfo);\n\n        // Âà§Êñ≠ÊòØÂê¶‰∏∫ÊúâÊïàÁöÑÂØπË±°Êï∞ÁªÑ\n        if (!isValidObjectArray(dataList)) {\n          resolve({});\n          return;\n        }\n\n        let result = {};\n        let groups = [];\n\n        // ‰∏∫‰∫ÜÊèêÂçáÊïàÁéáÔºåÊØèÊ¨°ÊúÄÂ§öÊ∏≤Êüì 10 Êù°È¢òÁõÆÔºå‰ª•ÊúÄÂ§ö 10 Êù°‰∏∫ÈôêÂà∂ÂàÜÂ•ΩÁªÑÂà´\n        for (let x = 0; x < Math.ceil(dataList.length / 10); x++) {\n          let start = x * 10;\n          let end = start + 10;\n          groups.push(dataList.slice(start, end));\n        }\n\n        for (const taskList of groups) {\n          const taskResult = await createHtml2CanvasPromise(taskList);\n\n          result = Object.assign({}, result, taskResult);\n        }\n\n        resolve(result);\n      } catch (err) {\n        reject(err);\n      }\n    })();\n  });\n}\n\nfunction createHtml2CanvasPromise(dataList) {\n  return new Promise((resolve, reject) => {\n    try {\n      const root = document.getElementById('html2canvas');\n\n      // Ê∏≤ÊüìÂâçÂ∞ÜÊ†πËäÇÁÇπÊ∏ÖÁ©∫\n      root.innerHTML = '';\n\n      const documentFragment = document.createDocumentFragment();\n\n      dataList.forEach(item => {\n        const div = document.createElement('div');\n        div.classList.add('container');\n        // È¢òÁõÆÂÜÖÂÆπ\n        div.innerHTML = item.questionContentTranslate;\n        div.dataset.id = item.questionId;\n\n        // Áî±‰∫éÂÖ¨ÂºèÂõæÁâáËøáÂ∞èÔºåÊâÄ‰ª•ÁâπÊÆäÂ§ÑÁêÜÂÆΩÈ´òÊîæÂ§ß‰∏§ÂÄç\n        const tagNames: any = div.querySelectorAll('.spark-formula-frame');\n        if (tagNames.length > 0) {\n          tagNames.forEach(item => {\n            item.width = item.width * 2;\n            item.height = item.height * 2;\n            item.style.margin = '0 10px';\n          });\n        }\n\n        documentFragment.appendChild(div);\n      });\n\n      root.appendChild(documentFragment);\n\n      let images = Array.from(root.getElementsByTagName('img'));\n\n      const renderContent = function() {\n        // Ëß£ÂÜ≥ÂõæÁâáËøòÊ≤°Âä†ËΩΩÂÆåÊØïÔºåÂ∞±ÂºÄÂßãÊà™ÂõæÂØºËá¥Êà™ÂèñÁöÑÂõæÁâá‰∏∫Á©∫ÁôΩÁöÑÈóÆÈ¢ò\n        const timer = setTimeout(() => {\n          images = images.filter(item => item && !item.complete);\n\n          if (images.length === 0) {\n            const clientRect = root.getBoundingClientRect();\n\n            // ÂºÄÂßãÈÄöËøá html2canvas ÁªòÂà∂Âπ∂ÁîüÊàêÂõæÁâá\n            html2canvasformula(root, {\n              backgroundColor: null,\n              useCORS: true,\n              width: clientRect.width,\n              height: clientRect.height,\n            })\n              .then(canvas => {\n                // ÁªèËøá html2canvas Â§ÑÁêÜÔºåÂºÇÊ≠•‰ºöËøîÂõû canvas ÁîªÂ∏ÉÔºåÂêéÁª≠Êìç‰ΩúÈúÄË¶ÅËá™Ë°åÂ§ÑÁêÜ\n                const ctx = canvas.getContext('2d');\n\n                document.body.append(canvas);\n\n                const result = dataList.reduce((acc, item, index) => {\n                  const elementRef = Array.from(root.children)[index];\n                  const clientRect = elementRef.getBoundingClientRect();\n\n                  // Êà™ÂèñÁöÑÂõæÁâáÔºàBase64Ôºâ\n                  const base64 = cutImg(ctx, index + 1, clientRect.width, clientRect.height);\n\n                  // ËøôÊòØÊúÄÁªàËøîÂõûÁöÑËá™ÂÆö‰πâÁªìÊûÑ\n                  const payload: any = {\n                    questionId: item.questionId,\n                    answer:\n                      item.questionExplains && isValidObjectArray(item.questionExplains)\n                        ? item.questionExplains[0].answerTranslate\n                        : null,\n                    audioUrl:\n                      item.audioList && isValidObjectArray(item.audioList)\n                        ? item.audioList[0].audioUrl\n                        : null,\n                    content: base64,\n                  };\n\n                  acc[item.questionId] = payload;\n\n                  return acc;\n                }, {});\n\n                resolve(result);\n              })\n              .catch(() => {\n                resolve({});\n              });\n\n            clearTimeout(timer);\n          } else {\n            renderContent();\n          }\n        }, 250);\n      };\n\n      renderContent();\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n\nfunction cutImg(ctx, index, width, height) {\n  // Â§ÑÁêÜ Retina È´òÊ∏ÖÂ±è\n  let devicePixelRatio = 1;\n  if (window.devicePixelRatio) {\n    devicePixelRatio = window.devicePixelRatio;\n  }\n\n  // ÁõíÂ≠êÂÆΩÂ∫¶Ôºö1008\n  // ÁõíÂ≠êÈ´òÂ∫¶Ôºö730\n  const imgWidth = (width || 1008) * devicePixelRatio;\n  const imgHeight = (height || 730) * devicePixelRatio;\n\n  const sw = index * imgWidth - imgWidth;\n  let imageData = ctx.getImageData(sw, 0, imgWidth, imgHeight);\n\n  const canvas = document.createElement('canvas');\n  canvas.width = imgWidth;\n  canvas.height = imgHeight;\n\n  const context = canvas.getContext('2d');\n  context.putImageData(imageData, 0, 0);\n\n  return canvas.toDataURL();\n}\n```\n\n## Ê∫êÁ†ÅÊîπÈÄ†\n\nÂÖ∂ÂÆû `html2canvas` ÁöÑÂÆûÁé∞ÂéüÁêÜÂæàÁÆÄÂçïÔºåÂ∞±ÊòØËØªÂèñÂ∑≤ÁªèÊ∏≤ÊüìÂ•ΩÁöÑ DOM Ê†ëÁöÑÁªìÊûÑÂíåÊ†∑Âºè‰ø°ÊÅØÔºåÁÑ∂ÂêéÂü∫‰∫éËøô‰∫õ‰ø°ÊÅØÂú® Canvas ÁîªÂ∏É‰∏≠ÁªòÂà∂Âá∫Êù•ÔºåÊúÄÂêéÈÄöËøá `canvas.toDataURL` ËΩ¨Êç¢‰∏∫ Base64„ÄÇ\n\n‰ΩÜÂÆûÈôÖÊàë‰ª¨Âú®‰ΩøÁî®Êó∂Âç¥ÈÅáÂà∞‰∫Ü‰∏çÂ∞ëÈ∫ªÁÉ¶Ôºå‰∏ãÂõæ‰∏∫ÂΩìÊó∂Ôºà2021 Âπ¥ 2 Êúà‰∏ãÊó¨ÔºâÂà©Áî® html2canvasÔºàv1.0.0-rc.7ÔºâÂÜôÁöÑ demo„ÄÇÂ¶ÇÂõæ‰∏≠È°∂ÈÉ®Á¨¨‰∏Ä‰∏™ÊñπÊ°ÜÔºåÊòØÁî± innerHTML Â∞ÜÂêéÁ´ØÁªôÈ¢òÁõÆ HTML Â≠óÁ¨¶‰∏≤ÊèíÂÖ•Âà∞ DOM Êï∞‰∏≠ÁöÑÔºåÈÖçÂêàÂ∑≤Áü•ÁöÑÊ†∑ÂºèÔºåËÉΩÂëàÁé∞Âá∫Êàë‰ª¨ÊúÄÁªàÈúÄË¶ÅÁöÑÊïàÊûúÔºåËøôÈáåÊàë‰ª¨ÂèØ‰ª•ÁâπÂà´ÁïôÊÑèÁöÑÊòØÔºå1980 ÂÖ∂ÂÆûÊòØ‰∏ÄÂº†ÂõæÁâáÔºåÂÆûÈôÖ‰∏äÊòØÈªëËâ≤ÁöÑÂ≠ó‰ΩìÔºå‰ΩÜÁî±‰∫é‰∫íÂä®Ê∏∏Êàè‰∏≠‰∏∫Ê∑±Ëâ≤ËÉåÊôØÔºåÊàë‰ª¨ÁöÑËÆæËÆ°Â∏àË¶ÅÊ±Ç‰ΩøÁî®ÁôΩËâ≤ÁöÑÂ≠ó‰ΩìÔºå‰∏çÁÑ∂ÊúÄÁªàÂëàÁé∞ÁöÑÊïàÊûúÔºåÂÖ∂ÂÆûÂ∞±ÊòØÁ¨¨‰∫å‰∏™ÊñπÊ°ÜÊâÄÂëàÁé∞Âá∫Êù•ÁöÑ„ÄÇ\n\nÁ¨¨‰∫å‰∏™ÊñπÊ°ÜÂÖ∂ÂÆûÊòØÊ∏≤ÊüìÂÆåÁ¨¨‰∏Ä‰∏™ÊñπÊ°ÜÂêéÔºåÈÄöËøá html2canvas ÁªòÂà∂Âà∞ canvas ‰∏äÁöÑÊïàÊûúÔºå‰ΩÜÊòØ html2canvas Ê≠§Êó∂Âπ∂‰∏çÊîØÊåÅÂà©Áî® `filter: invert(1)` ÂØπÂõæÁâáËøõË°åÂèçÁõ∏Â§ÑÁêÜÔºåÊâÄ‰ª•ÂëàÁé∞ÁöÑÊïàÊûúÂπ∂‰∏çÂ¶ÇÊàë‰ª¨ÁöÑÈ¢ÑÊúüÔºåËøôÈáåÂ∞±ÈúÄË¶ÅÊàë‰ª¨ÂØπÊ∫ê‰ª£Á†ÅËøõË°åÈ≠îÊîπ„ÄÇ\n\nÂÖ∂Ê¨°ÔºåÁ¨¨‰∏â‰∏™ÊñπÊ°ÜÊòØÈÄöËøá canvas ÁöÑ toDataURL ÊúÄÁªàÁîüÊàêÁöÑ Base64 ‰ª£Á†ÅÔºå‰ªéÁ¨¨‰∏ÄËßÜËßâÊù•ÁúãÔºåÊØîÊ≠£Â∏∏ÁöÑÂ∑Æ‰∏çÂ§öÂ§ß‰∫Ü‰∏§ÂÄçÊúâÂ§öÔºåËøôÈáåÁõ¥ËßâÂëäËØâÊàëÔºå‰πüËÆ∏‰∏éËÆæÂ§áÂÉèÁ¥†ÊØîÊúâÂÖ≥Á≥ª„ÄÇ\n\n![cq-img2](https://img.mrsingsing.com/cq-img2.png)\n\n[https://github.com/niklasvh/html2canvas/blob/3982df1492bdc40a8e5fa16877cc0291883c8e1a/src/render/canvas/canvas-renderer.ts#L259](https://github.com/niklasvh/html2canvas/blob/3982df1492bdc40a8e5fa16877cc0291883c8e1a/src/render/canvas/canvas-renderer.ts#L259)\n\n‰∏äËø∞‰ª£Á†ÅÁâáÊÆµÊòØ `html2canvas` ‰∏≠ÔºåËé∑Âèñ HTML ÁÑ∂ÂêéÁªòÂà∂Êàê Canvas ÁöÑÂÖ≥ÈîÆÊñπÊ≥ï `renderReplacedElement`ÔºåÂΩìÊâßË°å `ctx.restore()` ÂêéË°®Á§∫Ê≠§Ê¨°ÁªòÂà∂Â∑≤ÁªèÁªìÊùüÔºå‰ΩÜÊòØËøôÈáåÊàë‰ª¨Ê∑ªÂä†‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂ∞ÜÂØπÊ†∑Âºè‰∏≠Â≠òÂú® `filter` Â±ûÊÄßÁöÑËäÇÁÇπÂÖÉÁ¥†ËøõË°åÂèçÁõ∏„ÄÇ\n\n```ts\nfunction filterImage(box: Bounds, filter: any) {\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  // Retina È´òÊ∏ÖÂ±èÈÄÇÈÖç\n  const finalBox: any = {\n    left: devicePixelRatio * box.left,\n    top: devicePixelRatio * box.top,\n    width: devicePixelRatio * box.width,\n    height: devicePixelRatio * box.height,\n  };\n\n  //\n  const imageData: ImageData = this.ctx.getImageData(\n    finalBox.left,\n    finalBox.top,\n    finalBox.width,\n    finalBox.height\n  );\n\n  const imgWidth = imageData.width,\n    imgHeight = imageData.height;\n\n  for (let i = 0; i < imgHeight; i++) {\n    for (let j = 0; j < imgWidth; j++) {\n      const index = i * 4 * imgWidth + j * 4;\n\n      let red = imageData.data[index];\n      let green = imageData.data[index + 1];\n      let blue = imageData.data[index + 2];\n\n      imageData.data[index] = 255 - 2 * red + red;\n      imageData.data[index + 1] = 255 - 2 * green + green;\n      imageData.data[index + 2] = 255 - 2 * blue + blue;\n    }\n  }\n\n  this.ctx.putImageData(imageData, fialBox.left, fialBox.top);\n}\n```\n\nÈÇ£‰πàÂ¶Ç‰ΩïÂØπ Canvas ÂõæÂÉèËøõË°åÂèçÁõ∏Âë¢ÔºüÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá `ctx.getImageData` Ëé∑ÂèñÊåáÂÆöÂùêÊ†áÂÆΩÈ´òÁöÑÂå∫ÂüüÔºåËøîÂõûÂÄº‰∏∫‰∏Ä‰∏™Áî®Êù•ÊèèËø∞ÂõæÁâáÂ±ûÊÄßÁöÑÊï∞ÊçÆÂØπË±° ImageData ÂØπË±°„ÄÇ\n\nÂÆÉÊúâ‰∏â‰∏™Â±ûÊÄßÔºåÂàÜÂà´ÊòØ `data`„ÄÅ`width` Âíå `height`„ÄÇÂêé‰∏§‰∏™Â±ûÊÄß‰ª£Ë°®ÊåáÂÆöÂõæÁâáÁöÑÂÆΩÈ´òÔºåËÄåÂè¶Â§ñ‰∏Ä‰∏™ `data` Â±ûÊÄßÔºåÂàôÊòØ‰∏Ä‰∏™ Uint8ClampedArrayÔºà8 ‰ΩçÊó†Á¨¶Âè∑Êï¥ÂΩ¢Âõ∫ÂÆöÊï∞ÁªÑÔºâÁ±ªÂûãÂåñÊï∞ÁªÑ„ÄÇ`data` ‰∏≠ÁöÑÂÉèÁ¥†Êï∞ÊçÆÊòØÊåâÁÖß‰ªé‰∏äÂà∞‰∏ãÔºå‰ªéÂ∑¶Âà∞Âè≥ÊéíÂàóÁöÑÔºåÊØè‰∏™ÂÉèÁ¥†ÈúÄË¶ÅÂç†Áî® 4 ‰ΩçÊï∞ÊçÆÔºåÂàÜÂà´ÊòØ R„ÄÅG„ÄÅB„ÄÅAlpha ÈÄèÊòéÈÄöÈÅìÔºå\n\nÂèçÁõ∏‰∫¶Âç≥Â∞ÜÊüê‰∏™È¢úËâ≤ÊõøÊç¢ÊàêÂÆÉÁöÑË°•Ëâ≤ÔºåÂú® RGB Ê®°Âºè‰∏≠ÔºåÂèçÁõ∏ÂÆûÂàôÊòØÂà©Áî® 255 ÂáèÂéª RGB ÁöÑÂÄºÔºåÂæóÂà∞ÁöÑÂç≥‰∏∫ÂèçÁõ∏ÁöÑ RGB ÂÄº„ÄÇ\n\nÈÄöËøáÂú®Ê∫êÁ†ÅÂ¢ûÂä†ÊîØÊåÅ Canvas ÂèçÁõ∏ÂíåÂÖºÂÆπ Retina Â±èÂπïÁöÑ‰ª£Á†ÅÔºåËß£ÂÜ≥‰∫ÜÂ≠ó‰ΩìÂõæÁâáÂíåÂ∞∫ÂØ∏ÈóÆÈ¢ò„ÄÇ\n\n![cq-img3](https://img.mrsingsing.com/cq-img3.png)\n\n‰ΩÜÊòØËøòÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÈúÄË¶ÅËß£ÂÜ≥ÔºåÈÇ£Â∞±ÊòØÂ¶Ç‰ΩïÂà©Áî®ÊúÄÂ∞è‰ª£‰ª∑Âú®ÂéüÊúâÈ°πÁõÆ‰∏≠Êõ¥ÊîπÁ¨¨‰∏âÊñπÂ∫ìÁöÑÊ∫ê‰ª£Á†ÅÂë¢Ôºü\n\nÈÄöËøáÊü•ÈòÖËµÑÊñôÂèØÁü•Âà©Áî® [patch-package](https://www.npmjs.com/package/patch-package) ËÉΩÂ§ü‰∏∫ÂÖ∂‰ªñ npm ÂåÖÊûÑÂª∫Ë°•‰∏ÅÂåÖÔºåÂÖ∂ÂÆûÈôÖÂéüÁêÜÊòØÂú®Â∑•Á®ãÁõÆÂΩï‰∏ã‰øùÂ≠ò‰∏Ä‰ªΩ‰∏éÁ∫ø‰∏äÁâàÊú¨ÁöÑ npm ÂåÖÁöÑ git diff Êñá‰ª∂„ÄÇÂÖ∑‰Ωì‰ΩøÁî®ÊñπÊ≥ïÂèØ‰ª•ÂèÇËÄÉ [ÈÇ£‰∫õ‰øÆÊîπ node_modules ÁöÑÈ™öÊìç‰Ωú](https://zhuanlan.zhihu.com/p/310266801)„ÄÇ\n\n‰∏çËøáÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊñá‰∏≠ÊèêÂèäÁöÑÊúÄ‰ºòËß£ `patch-package` ÂÖ∂ÂÆû‰πüÊòØÊúâÁº∫Èô∑ÁöÑÔºå‰æãÂ¶ÇÔºåÂ¶ÇÊûú node_modules ‰∏≠ÁöÑ npm ÂåÖÊòØ ES6 Ê®°ÂùóÊâìÂåÖÊàê ES5 Ê®°ÂùóÔºåÊàñËÄÖÊòØÁªèËøáÊ∑∑Ê∑ÜÊâìÂåÖÁöÑÔºåÈÇ£‰πàÂèØËØªÊÄßÊñπÈù¢ÈÉΩÊ≤°ÊúâÊ∫ê‰ª£Á†ÅÈ´òÔºåÂØπ‰∫éÂºÄÂèëËÄÖ‰øÆÊîπËµ∑Êù•‰ºöÊØîËæÉÈ∫ªÁÉ¶„ÄÇ\n\nËÄå html2canvas Ê®°ÂùóÂåÖÊ≠£ÊòØÊâìÂåÖÂêéÁöÑ ES5 Ê®°ÂùóÂåÖÔºåÊâÄ‰ª•Â∞ΩÁÆ°‰øÆÊîπÂÜÖÂÆπ‰∏çÊòØÁâπÂà´Â§öÔºåÊàë‰ª¨ËøòÊòØ clone Âà∞Êú¨Âú∞Âêé‰øÆÊîπÂêéÂèëÂ∏ÉÂà∞ÂÜÖÈÉ®ÁöÑ npm Â∫ì‰∏≠ÔºåÂÖ∂‰ªñ‰∏öÂä°Á∫øÊúâÁõ∏ÂÖ≥ÁöÑÈúÄÊ±Ç‰πüËÉΩÁõ¥Êé•ÂºïÁî®ËØ•Ê®°ÂùóËß£ÂÜ≥Ôºå‰πüÂà©‰∫éÂêéÊúüÁöÑÊãìÂ±ï„ÄÇ\n\nÂÖ∂ÂÆûÂà∞ËøôÈáåÔºåÊï¥‰∏™ÊäÄÊúØÊñπÊ°àÁöÑÂÆûÁé∞ÈöæÁÇπÂ∞±Â∑≤ÁªèËß£ÂÜ≥ÔºåÊãøÂà∞È¢òÁõÆÂÜÖÂÆπÁöÑ Base64 ÂõæÁâáÂêéÔºåÂ∞±ËÉΩÂ§üÂú® Egret ‰∏≠ egret.BitmapData ‰ΩçÂõæÁîüÊàêÂõæÁâá„ÄÇ\n\nÈô§Ê≠§‰πãÂ§ñÔºåËøôÈáåÈúÄË¶ÅÂØπÂõæÁâáËøõË°åÈÄÇÈÖçÔºåË¶Å‰øùËØÅÂõæÁâáËÉΩÂÆåÊï¥ÊòæÁ§∫Âú®È¢òÁõÆÂÜÖÂÆπÂÆπÂô®ÂÜÖ„ÄÇ\n\n```ts\nexport class QuestionContent extends eui.Component implements eui.UIComponent {\n  private initQuestionContent(): void {\n    const img: HTMLImageElement = new Image();\n    // this.questionInfo.content Â∞±ÊòØ Base64\n    img.src = this.questionInfo.content;\n    // ÊòØÂê¶ÊòØÈü≥È¢ëÈ¢ò\n    const isAudio = this.questionInfo.audioUrl;\n\n    // ÂõæÁâáÈÄÇÈÖç\n    img.onload = () => {\n      let width = 0,\n        height = 0;\n      // ÊâøËΩΩÈ¢òÁõÆÂõæÁâáÂÆπÂô®ÁöÑÂèØÁî®ÊúÄÂ§ßÂÆΩÈ´ò\n      const avaliableWidth = this.contentGroup.width;\n      let avaliableHeight = this.contentGroup.height;\n\n      if (isAudio) {\n        avaliableHeight = avaliableHeight - 130;\n      }\n\n      if (img.width > img.height) {\n        height = img.height * (avaliableWidth / img.width);\n        width = avaliableWidth;\n      } else {\n        width = img.width * (avaliableHeight / img.height);\n        height = avaliableHeight;\n      }\n\n      img.width = width;\n      img.height = height;\n      img['avaliable'] = true;\n\n      const bitmapdata: egret.BitmapData = new egret.BitmapData(img);\n      const texture: egret.Texture = new egret.Texture();\n      texture.disposeBitmapData = true;\n      texture.bitmapData = bitmapdata;\n\n      this.contentBitmap = new egret.Bitmap(texture);\n\n      // Áî±‰∫éÊúâÈü≥È¢ëÁªÑ‰ª∂ÔºåÊâÄ‰ª•È¢òÁõÆË¶ÅÂêë‰∏ãÁßªÂä® 103 ‰∏™Âçï‰ΩçÈ´òÂ∫¶\n      if (isAudio) {\n        this.contentBitmap.y = 103;\n      }\n\n      // Â∞ÜÈ¢òÁõÆ‰ΩçÂõæÊèíÂÖ•ËàûÂè∞\n      this.contentGroup.addChild(this.contentBitmap);\n    };\n  }\n}\n```\n\nÊúÄÁªàÂëàÁé∞ÁöÑÊïàÊûúÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö\n\n![cq-img4](https://img.mrsingsing.com/cq-img4.png)\n\n![cq-img5](https://img.mrsingsing.com/cq-img5.png)\n\nÂèÇËÄÉËµÑÊñô\n\n- [html2canvas ÂÆûÁé∞ÊµèËßàÂô®Êà™ÂõæÁöÑÂéüÁêÜÔºàÂåÖÂê´Ê∫êÁ†ÅÂàÜÊûêÁöÑÈÄöÁî®ÊñπÊ≥ïÔºâ](https://segmentfault.com/a/1190000038551328)\n- [Âü∫‰∫é html2canvas ÂÆûÁé∞ÁΩëÈ°µ‰øùÂ≠ò‰∏∫ÂõæÁâáÂèäÂõæÁâáÊ∏ÖÊô∞Â∫¶‰ºòÂåñ](https://segmentfault.com/a/1190000011478657)\n","slug":"rich-text-and-base64","published":1,"updated":"2021-09-29T18:09:58.492Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867nc5000cbmjdyng75vm6","content":"<h2 id=\"ÈúÄÊ±ÇËÉåÊôØ\"><a href=\"#ÈúÄÊ±ÇËÉåÊôØ\" class=\"headerlink\" title=\"ÈúÄÊ±ÇËÉåÊôØ\"></a>ÈúÄÊ±ÇËÉåÊôØ</h2><p>ÊúÄËøëÂú®Ë¥üË¥£Âà©Áî® Egret ÁôΩÈπ≠Ê∏∏ÊàèÂºïÊìéÂºÄÂèë‰∏ÄÊ¨æËØæ‰∏≠‰∫íÂä®Ê∏∏ÊàèÔºåÂÖ∂‰∏≠‰∏Ä‰∏™ÂäüËÉΩÈúÄË¶ÅÂ∞Ü HTML Â≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÂ≠òÂ∫ìÁöÑÈ¢òÁõÆÂÜÖÂÆπÂ∫îÁî®Âú®‰∫íÂä®Ê∏∏Êàè‰∏≠„ÄÇ‰ΩÜÊòØÁôΩÈπ≠ÂºïÊìéÊòØÈÄöËøá WebGL ËøõË°åÊ∏≤ÊüìÁöÑÔºåDOM Ê†ë‰∏≠ÈÄöËøá‰∏Ä‰∏™ <code>&lt;canvas&gt;</code> Ê†áÁ≠æÊâøËΩΩÔºåÊó†Ê≥ïÈÄöËøá <code>innerHTML</code> ÁöÑÊñπÂºèÁõ¥Êé•‰ΩøÁî® HTML Â≠óÁ¨¶‰∏≤ÔºåÂΩìÊó∂Ëä±Ë¥π‰∫Ü‰∏çÂ∞ëÊó∂Èó¥Á†îÁ©∂Â¶Ç‰Ωï‰ºòÈõÖÂú∞ÂÆûÁé∞Á±ª‰ººÁöÑÈúÄÊ±Ç„ÄÇ</p>\n<a id=\"more\"></a>\n<h2 id=\"ÊñπÊ°àË∞ÉÁ†î\"><a href=\"#ÊñπÊ°àË∞ÉÁ†î\" class=\"headerlink\" title=\"ÊñπÊ°àË∞ÉÁ†î\"></a>ÊñπÊ°àË∞ÉÁ†î</h2><p>ÈÅá‰∫ãÂÖà‰ªéÊñáÊ°£Êü•Ëµ∑ÔºåÂú®ÁôΩÈπ≠ÊñáÊ°£ÂíåËÆ∫Âùõ‰∏≠ÊâæÂà∞‰∫Ü <code>egret.HtmlTextParser</code> Ëøô‰∏™ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïËÉΩÂ∞Ü HTML Ê†ºÂºèÊñáÊú¨ËΩ¨Êç¢‰∏∫ÂèØËµãÂÄº <code>egret.TextField#textFlow</code> Â±ûÊÄßÁöÑÂØπË±°„ÄÇ</p>\n<p>ÂéüÊú¨‰ª•‰∏∫‰∫ãÊÉÖÂ∞±ÊòØËøô‰πàÁÆÄÂçïÔºå‰ΩÜÊòØÁªèËøáÂ∞ùËØïÂêéÈÅáÂà∞‰ª•‰∏ãÁöÑÈóÆÈ¢òÔºö</p>\n<ol>\n<li>È¢òÁõÆÂÜÖÂÆπ‰∏≠ÊúâÂºïÁî®Â§ñÈìæÁöÑÂõæÁâá„ÄÅSVG Á≠âÔºåËØ•ÊñπÊ≥ïÊó†Ê≥ïÊîØÊåÅ</li>\n<li>È¢òÁõÆ HTML Ê†áÁ≠æ‰∏äÂê´Êúâ CSS Á±ªÂêçÔºåËøô‰∫õÈúÄË¶ÅÂ∫îÁî®Âõ∫ÂÆöÊ†∑ÂºèÁöÑÈ¢òÁõÆÊó†Ê≥ïÊ≠£Â∏∏ÊòæÁ§∫</li>\n</ol>\n<p>Áî±‰∫éÊó†Ê≥ïÈÄöËøá Egret Êèê‰æõÁöÑ API ÂÆûÁé∞Êàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÊïàÊûúÔºåÂè™ËÉΩÂè¶ÂØªÂá∫Ë∑Ø„ÄÇÊÄùËÄÉ‰∫Ü‰∏Ä‰ºöÂêéÔºåÊàëÊÉ≥Âà∞‰∫Ü‰∏âÁßçÂèØ‰æõËß£ÂÜ≥ÊñπÊ°àÁöÑÊñπÊ°àÔºö</p>\n<ol>\n<li>Âú® <code>&lt;canvas&gt;</code> Ê†áÁ≠æÂ§ñÁöÑ‰∏äÂ±ÇÂ¢ûÂ§ß <code>z-index</code> Ë¶ÜÁõñ‰∏ÄÂ±ÇÈ¢òÁõÆÁöÑ HTML ‰ª£Á†Å</li>\n<li>‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÂåπÈÖçËΩ¨Êç¢ HTML Â≠óÁ¨¶‰∏≤ÊàêÂØπË±°Êï∞ÊçÆÁªìÊûÑÔºåEgret ÂÜÖÈÉ®Â∞ÜÂØπË±°Êï∞ÊçÆËΩ¨Êç¢‰∏∫ÂØπÂ∫îÁöÑ UI</li>\n<li>Ê∏≤Êüì HTML ÂØåÊñáÊú¨Â≠óÁ¨¶‰∏≤ÔºåÈÄöËøá <code>html2canvas</code> Á≠âÁ¨¨‰∏âÊñπÂ∫ìËΩ¨Êç¢ÊàêÂõæÁâáÔºå‰ª•ÂõæÁâáÁöÑÂΩ¢ÂºèÂú® Egret ‰∏≠‰ΩøÁî®</li>\n</ol>\n<p>Á¨¨‰∏ÄÁßçÊñπÊ°àÁöÑÁº∫Èô∑ÊØîËæÉÊòéÊòæÔºö‰∏ÄÊòØÊï¥‰∏™Ê∏∏ÊàèÁî± Egret ÂºïÊìéÊê≠Âª∫ÔºåÊ∏∏ÊàèÁöÑÊµÅÁ®ãÁî±È°πÁõÆÂÜÖÈÉ®‰ª£Á†ÅÂÆûÁé∞ÊéßÂà∂ÔºåÂú®Â§ñÂ±ÇÊåÇËΩΩÂè¶Â§ñÁöÑ HTML ËäÇÁÇπ‰∏çÂ•ΩÊéßÂà∂Ôºõ‰∫åÊòØÈ¢òÁõÆÊòæÁ§∫Â≠¶ÁîüÁ≠îÈ¢òÂêéÔºåÊúâË¶ÜÁõñÈ¢òÁõÆ‰∏äÂ±ÇÁöÑÊ≠£Á°ÆÁ≠îÊ°àÔºàÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºâÔºåÁî±‰∫é‰∏çÂêåÂ±ÇÁ∫ßÁöÑÁºòÊïÖÔºåÊó†Ê≥ïÂÆûÁé∞È¢òÁõÆÂÜÖÂÆπÂÜç‰∏äÂ±ÇÁöÑË¶ÜÁõñÔºåÈô§ÈùûÂÜçÂçïÁã¨Âª∫Á´ã‰∏Ä‰∏™ÂõæÂ±ÇË¶ÜÁõñÔºå‰ΩÜËøôÊòæÁ§∫ËÆ©Êï¥‰ª∂‰∫ãÊÉÖÂèòÂæóÊõ¥Â§çÊùÇ„ÄÅÊõ¥ÈöæÊìç‰ΩúÔºõ‰∏âÊòØËøôÁßçÊñπÊ°àÂú®Êï¥‰∏™ÁîªÂ∏É‰∏≠‰∏çÂ•ΩÂÆö‰Ωç„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/cq-img1.png\" alt=\"cq-img1\"></p>\n<p>Á¨¨‰∫åÁßçÊñπÊ°à‰πüÂ≠òÂú®Èöæ‰ª•Ëß£ÂÜ≥ÁöÑ‰∏Ä‰∫õÈóÆÈ¢òÔºåËôΩÁÑ∂ËØ¥ÁõÆÂâçÈõÜÂõ¢ÂÜÖÈÉ®Â∑≤ÁªèÊúâÊØîËæÉÊàêÁÜüÁöÑÈ¢òÂ∫ìÔºå‰ΩÜÊó©ÊúüËøòÊòØÈÄöËøáÊé•ÂÖ•Â§ñÈÉ®È¢òÂ∫ìÁöÑÊñπÂºèÊâ©ÂÖÖÈ¢òÂ∫ìÔºåÈ¢òÁõÆÂΩïÂÖ•ÁöÑÂØåÊñáÊú¨ÁºñËæëÂô®‰πüÁªèËøáÂæàÈïøÊó∂Èó¥ÁöÑËø≠‰ª£Ôºå‰∫ãÂÆû‰∏äÁîüÊàêÁöÑ HTML Â≠óÁ¨¶‰∏≤‰πüÊòØÂêÑ‰∏çÁõ∏ÂêåÔºåÊàë‰ª¨Êó†Ê≥ïÂà∂ÂÆöÁªü‰∏ÄÁöÑÊ≠£ÂàôË°®ËææÂºèÂÆåÁæéÂú∞ÂåπÈÖçÊâÄÊúâÁöÑÊÉÖÂÜµ„ÄÇ</p>\n<p>ËøôÊàñËÆ∏ÊúâÁÇπÈöæ‰ª•ÁêÜËß£ÔºåÂú®Êï∞Â≠¶È¢òÁõÆÁöÑÈ¢òÂπ≤‰∏≠‰ºöÂ≠òÂú®ÂÖ¨ÂºèÔºå‰∏Ä‰∫õ‰ºö‰ª• SVG ÁöÑÂΩ¢ÂºèÊ∏≤ÊüìÔºå‰∏Ä‰∫õÂàôÁ≤óÊö¥Âú∞‰ª•ÂõæÁâáÁöÑÂΩ¢ÂºèÂ≠òÂú®Ôºå‰ª•ÂõæÁâáÂΩ¢ÂºèÂ≠òÂú®ÊòØÊó†Ê≥ïÈÄöËøáÂ∑≤ÊúâÊù°‰ª∂Âà§Êñ≠ÂÖ∂‰∏∫ÂÖ¨ÂºèÔºåÂç≥‰æøËÉΩÂà§Êñ≠ÂÖ∂‰∏∫ÂÖ¨ÂºèÔºåÁ±ª‰ººËøôÁßç SVG ÂΩ¢ÂºèÁöÑ XML Ê†áÁ≠æ‰πüÊó†Ê≥ïÂú® Egret ‰∏≠‰ΩøÁî®„ÄÇ</p>\n<p>Âõ†Ê≠§Âè™Ââ©‰∏ãÊúÄÂêé‰∏ÄÁßçÊñπÊ°àÔºå‰πüÊòØÊàë‰ª¨ÊúÄÂêéÊàë‰ª¨ÈááÁ∫≥ÁöÑ‰∏ÄÁßçÊñπÊ°àÔºåÊàë‰ª¨ AI ÂΩïÊí≠ËØæÂú®‰∏äËØæÂâçÊúâ‰∏™ÁºìÂÜ≤Èò∂ÊÆµÔºåÈúÄË¶ÅÁªôËØæÂÆ§‰∏≠ÁöÑÂ≠¶ÁîüÁªëÂÆöÁ≠îÈ¢òÂô®Á≠âÊìç‰ΩúÔºåÂà©Áî®ËøôÊÆµÁ©∫Ê°£ÊúüÔºåÊàë‰ª¨ËÉΩÂú® Electron ÂÆ¢Êà∑Á´ØÊåÇËΩΩ‰∏Ä‰∏™ÂéüÁêÜËßÜÂè£ÁöÑËäÇÁÇπÔºåÈÄöËøá HTML Ëß£ÊûêÂä†ËΩΩÊØèÈÅìÈ¢òÁõÆÔºåÂπ∂ÈÄöËøá <a href=\"https://github.com/niklasvh/html2canvas\" target=\"_blank\" rel=\"noopener\">html2canvas</a> ËΩ¨‰∏∫ Base64 ÁöÑÂõæÁâáÂêéÔºåÂÜç‰∫§Áî± Egret Â§ÑÁêÜ„ÄÇ</p>\n<h2 id=\"ÊñπÊ°àÂÆûÁé∞\"><a href=\"#ÊñπÊ°àÂÆûÁé∞\" class=\"headerlink\" title=\"ÊñπÊ°àÂÆûÁé∞\"></a>ÊñπÊ°àÂÆûÁé∞</h2><p>ÈÄöËøáÊúçÂä°Á´ØÊé•Âè£Ëé∑ÂèñÂà∞È¢òÁõÆÁöÑÊï∞ÊçÆÂàóË°®ÂêéÔºåÊàë‰ª¨Â∞ÜÊï∞ÊçÆ‰ª• 10 Êù°‰∏∫Âçï‰ΩçÂàáÂâ≤ÂàÜÁªÑÔºàÁî±‰∫éÊ∏≤ÊüìÁªòÂà∂Êà™ÂõæÁöÑËøáÁ®ãËÄóÊó∂Ôºå‰∏∫‰∫ÜÊèêÈ´òÊïàÁéáÔºåÈááÁî®Ê∏≤ÊüìÂ§öÊù°Êà™Âõæ‰∏ÄÊ¨°ÁöÑÊñπÂºèÂÆûÁé∞ÔºâÔºåÊØèÊ¨°Ê∏≤Êüì 10 Êù°Êï∞ÊçÆÂú®Âõ∫ÂÆöÂÆΩÈ´òÁöÑÁõíÂ≠êÂÜÖ„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getBase64ByHtml2Canvas</span>(<span class=\"params\">dataInfo</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    (<span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// ‰ªé‰ª•È¢òÁõÆ ID ‰∏∫ÈîÆÔºåÈ¢òÁõÆÊï∞ÊçÆ‰∏∫ÂÄºÁöÑÂØπË±°‰∏≠ÊäΩÁ¶ªÂàóË°®</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> dataList = <span class=\"built_in\">Object</span>.values(dataInfo);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Âà§Êñ≠ÊòØÂê¶‰∏∫ÊúâÊïàÁöÑÂØπË±°Êï∞ÁªÑ</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!isValidObjectArray(dataList)) &#123;</span><br><span class=\"line\">          resolve(&#123;&#125;);</span><br><span class=\"line\">          <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">let</span> result = &#123;&#125;;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> groups = [];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ‰∏∫‰∫ÜÊèêÂçáÊïàÁéáÔºåÊØèÊ¨°ÊúÄÂ§öÊ∏≤Êüì 10 Êù°È¢òÁõÆÔºå‰ª•ÊúÄÂ§ö 10 Êù°‰∏∫ÈôêÂà∂ÂàÜÂ•ΩÁªÑÂà´</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> x = <span class=\"number\">0</span>; x &lt; <span class=\"built_in\">Math</span>.ceil(dataList.length / <span class=\"number\">10</span>); x++) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> start = x * <span class=\"number\">10</span>;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> end = start + <span class=\"number\">10</span>;</span><br><span class=\"line\">          groups.push(dataList.slice(start, end));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> taskList <span class=\"keyword\">of</span> groups) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> taskResult = <span class=\"keyword\">await</span> createHtml2CanvasPromise(taskList);</span><br><span class=\"line\"></span><br><span class=\"line\">          result = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, result, taskResult);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        resolve(result);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">        reject(err);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createHtml2CanvasPromise</span>(<span class=\"params\">dataList</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> root = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'html2canvas'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Ê∏≤ÊüìÂâçÂ∞ÜÊ†πËäÇÁÇπÊ∏ÖÁ©∫</span></span><br><span class=\"line\">      root.innerHTML = <span class=\"string\">''</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> documentFragment = <span class=\"built_in\">document</span>.createDocumentFragment();</span><br><span class=\"line\"></span><br><span class=\"line\">      dataList.forEach(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> div = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</span><br><span class=\"line\">        div.classList.add(<span class=\"string\">'container'</span>);</span><br><span class=\"line\">        <span class=\"comment\">// È¢òÁõÆÂÜÖÂÆπ</span></span><br><span class=\"line\">        div.innerHTML = item.questionContentTranslate;</span><br><span class=\"line\">        div.dataset.id = item.questionId;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Áî±‰∫éÂÖ¨ÂºèÂõæÁâáËøáÂ∞èÔºåÊâÄ‰ª•ÁâπÊÆäÂ§ÑÁêÜÂÆΩÈ´òÊîæÂ§ß‰∏§ÂÄç</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> tagNames: any = div.querySelectorAll(<span class=\"string\">'.spark-formula-frame'</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (tagNames.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          tagNames.forEach(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">            item.width = item.width * <span class=\"number\">2</span>;</span><br><span class=\"line\">            item.height = item.height * <span class=\"number\">2</span>;</span><br><span class=\"line\">            item.style.margin = <span class=\"string\">'0 10px'</span>;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        documentFragment.appendChild(div);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      root.appendChild(documentFragment);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">let</span> images = <span class=\"built_in\">Array</span>.from(root.getElementsByTagName(<span class=\"string\">'img'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> renderContent = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// Ëß£ÂÜ≥ÂõæÁâáËøòÊ≤°Âä†ËΩΩÂÆåÊØïÔºåÂ∞±ÂºÄÂßãÊà™ÂõæÂØºËá¥Êà™ÂèñÁöÑÂõæÁâá‰∏∫Á©∫ÁôΩÁöÑÈóÆÈ¢ò</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> timer = setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">          images = images.filter(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item &amp;&amp; !item.complete);</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (images.length === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">const</span> clientRect = root.getBoundingClientRect();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// ÂºÄÂßãÈÄöËøá html2canvas ÁªòÂà∂Âπ∂ÁîüÊàêÂõæÁâá</span></span><br><span class=\"line\">            html2canvasformula(root, &#123;</span><br><span class=\"line\">              backgroundColor: <span class=\"literal\">null</span>,</span><br><span class=\"line\">              useCORS: <span class=\"literal\">true</span>,</span><br><span class=\"line\">              width: clientRect.width,</span><br><span class=\"line\">              height: clientRect.height,</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">              .then(<span class=\"function\"><span class=\"params\">canvas</span> =&gt;</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// ÁªèËøá html2canvas Â§ÑÁêÜÔºåÂºÇÊ≠•‰ºöËøîÂõû canvas ÁîªÂ∏ÉÔºåÂêéÁª≠Êìç‰ΩúÈúÄË¶ÅËá™Ë°åÂ§ÑÁêÜ</span></span><br><span class=\"line\">                <span class=\"keyword\">const</span> ctx = canvas.getContext(<span class=\"string\">'2d'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"built_in\">document</span>.body.append(canvas);</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">const</span> result = dataList.reduce(<span class=\"function\">(<span class=\"params\">acc, item, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                  <span class=\"keyword\">const</span> elementRef = <span class=\"built_in\">Array</span>.from(root.children)[index];</span><br><span class=\"line\">                  <span class=\"keyword\">const</span> clientRect = elementRef.getBoundingClientRect();</span><br><span class=\"line\"></span><br><span class=\"line\">                  <span class=\"comment\">// Êà™ÂèñÁöÑÂõæÁâáÔºàBase64Ôºâ</span></span><br><span class=\"line\">                  <span class=\"keyword\">const</span> base64 = cutImg(ctx, index + <span class=\"number\">1</span>, clientRect.width, clientRect.height);</span><br><span class=\"line\"></span><br><span class=\"line\">                  <span class=\"comment\">// ËøôÊòØÊúÄÁªàËøîÂõûÁöÑËá™ÂÆö‰πâÁªìÊûÑ</span></span><br><span class=\"line\">                  <span class=\"keyword\">const</span> payload: any = &#123;</span><br><span class=\"line\">                    questionId: item.questionId,</span><br><span class=\"line\">                    answer:</span><br><span class=\"line\">                      item.questionExplains &amp;&amp; isValidObjectArray(item.questionExplains)</span><br><span class=\"line\">                        ? item.questionExplains[<span class=\"number\">0</span>].answerTranslate</span><br><span class=\"line\">                        : <span class=\"literal\">null</span>,</span><br><span class=\"line\">                    audioUrl:</span><br><span class=\"line\">                      item.audioList &amp;&amp; isValidObjectArray(item.audioList)</span><br><span class=\"line\">                        ? item.audioList[<span class=\"number\">0</span>].audioUrl</span><br><span class=\"line\">                        : <span class=\"literal\">null</span>,</span><br><span class=\"line\">                    content: base64,</span><br><span class=\"line\">                  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">                  acc[item.questionId] = payload;</span><br><span class=\"line\"></span><br><span class=\"line\">                  <span class=\"keyword\">return</span> acc;</span><br><span class=\"line\">                &#125;, &#123;&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">                resolve(result);</span><br><span class=\"line\">              &#125;)</span><br><span class=\"line\">              .catch(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">                resolve(&#123;&#125;);</span><br><span class=\"line\">              &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">            clearTimeout(timer);</span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            renderContent();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;, <span class=\"number\">250</span>);</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">      renderContent();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">      reject(err);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">cutImg</span>(<span class=\"params\">ctx, index, width, height</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Â§ÑÁêÜ Retina È´òÊ∏ÖÂ±è</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> devicePixelRatio = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.devicePixelRatio) &#123;</span><br><span class=\"line\">    devicePixelRatio = <span class=\"built_in\">window</span>.devicePixelRatio;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ÁõíÂ≠êÂÆΩÂ∫¶Ôºö1008</span></span><br><span class=\"line\">  <span class=\"comment\">// ÁõíÂ≠êÈ´òÂ∫¶Ôºö730</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> imgWidth = (width || <span class=\"number\">1008</span>) * devicePixelRatio;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> imgHeight = (height || <span class=\"number\">730</span>) * devicePixelRatio;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> sw = index * imgWidth - imgWidth;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> imageData = ctx.getImageData(sw, <span class=\"number\">0</span>, imgWidth, imgHeight);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> canvas = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'canvas'</span>);</span><br><span class=\"line\">  canvas.width = imgWidth;</span><br><span class=\"line\">  canvas.height = imgHeight;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> context = canvas.getContext(<span class=\"string\">'2d'</span>);</span><br><span class=\"line\">  context.putImageData(imageData, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> canvas.toDataURL();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Ê∫êÁ†ÅÊîπÈÄ†\"><a href=\"#Ê∫êÁ†ÅÊîπÈÄ†\" class=\"headerlink\" title=\"Ê∫êÁ†ÅÊîπÈÄ†\"></a>Ê∫êÁ†ÅÊîπÈÄ†</h2><p>ÂÖ∂ÂÆû <code>html2canvas</code> ÁöÑÂÆûÁé∞ÂéüÁêÜÂæàÁÆÄÂçïÔºåÂ∞±ÊòØËØªÂèñÂ∑≤ÁªèÊ∏≤ÊüìÂ•ΩÁöÑ DOM Ê†ëÁöÑÁªìÊûÑÂíåÊ†∑Âºè‰ø°ÊÅØÔºåÁÑ∂ÂêéÂü∫‰∫éËøô‰∫õ‰ø°ÊÅØÂú® Canvas ÁîªÂ∏É‰∏≠ÁªòÂà∂Âá∫Êù•ÔºåÊúÄÂêéÈÄöËøá <code>canvas.toDataURL</code> ËΩ¨Êç¢‰∏∫ Base64„ÄÇ</p>\n<p>‰ΩÜÂÆûÈôÖÊàë‰ª¨Âú®‰ΩøÁî®Êó∂Âç¥ÈÅáÂà∞‰∫Ü‰∏çÂ∞ëÈ∫ªÁÉ¶Ôºå‰∏ãÂõæ‰∏∫ÂΩìÊó∂Ôºà2021 Âπ¥ 2 Êúà‰∏ãÊó¨ÔºâÂà©Áî® html2canvasÔºàv1.0.0-rc.7ÔºâÂÜôÁöÑ demo„ÄÇÂ¶ÇÂõæ‰∏≠È°∂ÈÉ®Á¨¨‰∏Ä‰∏™ÊñπÊ°ÜÔºåÊòØÁî± innerHTML Â∞ÜÂêéÁ´ØÁªôÈ¢òÁõÆ HTML Â≠óÁ¨¶‰∏≤ÊèíÂÖ•Âà∞ DOM Êï∞‰∏≠ÁöÑÔºåÈÖçÂêàÂ∑≤Áü•ÁöÑÊ†∑ÂºèÔºåËÉΩÂëàÁé∞Âá∫Êàë‰ª¨ÊúÄÁªàÈúÄË¶ÅÁöÑÊïàÊûúÔºåËøôÈáåÊàë‰ª¨ÂèØ‰ª•ÁâπÂà´ÁïôÊÑèÁöÑÊòØÔºå1980 ÂÖ∂ÂÆûÊòØ‰∏ÄÂº†ÂõæÁâáÔºåÂÆûÈôÖ‰∏äÊòØÈªëËâ≤ÁöÑÂ≠ó‰ΩìÔºå‰ΩÜÁî±‰∫é‰∫íÂä®Ê∏∏Êàè‰∏≠‰∏∫Ê∑±Ëâ≤ËÉåÊôØÔºåÊàë‰ª¨ÁöÑËÆæËÆ°Â∏àË¶ÅÊ±Ç‰ΩøÁî®ÁôΩËâ≤ÁöÑÂ≠ó‰ΩìÔºå‰∏çÁÑ∂ÊúÄÁªàÂëàÁé∞ÁöÑÊïàÊûúÔºåÂÖ∂ÂÆûÂ∞±ÊòØÁ¨¨‰∫å‰∏™ÊñπÊ°ÜÊâÄÂëàÁé∞Âá∫Êù•ÁöÑ„ÄÇ</p>\n<p>Á¨¨‰∫å‰∏™ÊñπÊ°ÜÂÖ∂ÂÆûÊòØÊ∏≤ÊüìÂÆåÁ¨¨‰∏Ä‰∏™ÊñπÊ°ÜÂêéÔºåÈÄöËøá html2canvas ÁªòÂà∂Âà∞ canvas ‰∏äÁöÑÊïàÊûúÔºå‰ΩÜÊòØ html2canvas Ê≠§Êó∂Âπ∂‰∏çÊîØÊåÅÂà©Áî® <code>filter: invert(1)</code> ÂØπÂõæÁâáËøõË°åÂèçÁõ∏Â§ÑÁêÜÔºåÊâÄ‰ª•ÂëàÁé∞ÁöÑÊïàÊûúÂπ∂‰∏çÂ¶ÇÊàë‰ª¨ÁöÑÈ¢ÑÊúüÔºåËøôÈáåÂ∞±ÈúÄË¶ÅÊàë‰ª¨ÂØπÊ∫ê‰ª£Á†ÅËøõË°åÈ≠îÊîπ„ÄÇ</p>\n<p>ÂÖ∂Ê¨°ÔºåÁ¨¨‰∏â‰∏™ÊñπÊ°ÜÊòØÈÄöËøá canvas ÁöÑ toDataURL ÊúÄÁªàÁîüÊàêÁöÑ Base64 ‰ª£Á†ÅÔºå‰ªéÁ¨¨‰∏ÄËßÜËßâÊù•ÁúãÔºåÊØîÊ≠£Â∏∏ÁöÑÂ∑Æ‰∏çÂ§öÂ§ß‰∫Ü‰∏§ÂÄçÊúâÂ§öÔºåËøôÈáåÁõ¥ËßâÂëäËØâÊàëÔºå‰πüËÆ∏‰∏éËÆæÂ§áÂÉèÁ¥†ÊØîÊúâÂÖ≥Á≥ª„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/cq-img2.png\" alt=\"cq-img2\"></p>\n<p><a href=\"https://github.com/niklasvh/html2canvas/blob/3982df1492bdc40a8e5fa16877cc0291883c8e1a/src/render/canvas/canvas-renderer.ts#L259\" target=\"_blank\" rel=\"noopener\">https://github.com/niklasvh/html2canvas/blob/3982df1492bdc40a8e5fa16877cc0291883c8e1a/src/render/canvas/canvas-renderer.ts#L259</a></p>\n<p>‰∏äËø∞‰ª£Á†ÅÁâáÊÆµÊòØ <code>html2canvas</code> ‰∏≠ÔºåËé∑Âèñ HTML ÁÑ∂ÂêéÁªòÂà∂Êàê Canvas ÁöÑÂÖ≥ÈîÆÊñπÊ≥ï <code>renderReplacedElement</code>ÔºåÂΩìÊâßË°å <code>ctx.restore()</code> ÂêéË°®Á§∫Ê≠§Ê¨°ÁªòÂà∂Â∑≤ÁªèÁªìÊùüÔºå‰ΩÜÊòØËøôÈáåÊàë‰ª¨Ê∑ªÂä†‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂ∞ÜÂØπÊ†∑Âºè‰∏≠Â≠òÂú® <code>filter</code> Â±ûÊÄßÁöÑËäÇÁÇπÂÖÉÁ¥†ËøõË°åÂèçÁõ∏„ÄÇ</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">filterImage</span>(<span class=\"params\">box: Bounds, filter: <span class=\"built_in\">any</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> devicePixelRatio = <span class=\"built_in\">window</span>.devicePixelRatio || <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"comment\">// Retina È´òÊ∏ÖÂ±èÈÄÇÈÖç</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> finalBox: <span class=\"built_in\">any</span> = &#123;</span><br><span class=\"line\">    left: devicePixelRatio * box.left,</span><br><span class=\"line\">    top: devicePixelRatio * box.top,</span><br><span class=\"line\">    width: devicePixelRatio * box.width,</span><br><span class=\"line\">    height: devicePixelRatio * box.height,</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> imageData: ImageData = <span class=\"keyword\">this</span>.ctx.getImageData(</span><br><span class=\"line\">    finalBox.left,</span><br><span class=\"line\">    finalBox.top,</span><br><span class=\"line\">    finalBox.width,</span><br><span class=\"line\">    finalBox.height</span><br><span class=\"line\">  );</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> imgWidth = imageData.width,</span><br><span class=\"line\">    imgHeight = imageData.height;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; imgHeight; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; imgWidth; j++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> index = i * <span class=\"number\">4</span> * imgWidth + j * <span class=\"number\">4</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">let</span> red = imageData.data[index];</span><br><span class=\"line\">      <span class=\"keyword\">let</span> green = imageData.data[index + <span class=\"number\">1</span>];</span><br><span class=\"line\">      <span class=\"keyword\">let</span> blue = imageData.data[index + <span class=\"number\">2</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">      imageData.data[index] = <span class=\"number\">255</span> - <span class=\"number\">2</span> * red + red;</span><br><span class=\"line\">      imageData.data[index + <span class=\"number\">1</span>] = <span class=\"number\">255</span> - <span class=\"number\">2</span> * green + green;</span><br><span class=\"line\">      imageData.data[index + <span class=\"number\">2</span>] = <span class=\"number\">255</span> - <span class=\"number\">2</span> * blue + blue;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.ctx.putImageData(imageData, fialBox.left, fialBox.top);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÈÇ£‰πàÂ¶Ç‰ΩïÂØπ Canvas ÂõæÂÉèËøõË°åÂèçÁõ∏Âë¢ÔºüÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá <code>ctx.getImageData</code> Ëé∑ÂèñÊåáÂÆöÂùêÊ†áÂÆΩÈ´òÁöÑÂå∫ÂüüÔºåËøîÂõûÂÄº‰∏∫‰∏Ä‰∏™Áî®Êù•ÊèèËø∞ÂõæÁâáÂ±ûÊÄßÁöÑÊï∞ÊçÆÂØπË±° ImageData ÂØπË±°„ÄÇ</p>\n<p>ÂÆÉÊúâ‰∏â‰∏™Â±ûÊÄßÔºåÂàÜÂà´ÊòØ <code>data</code>„ÄÅ<code>width</code> Âíå <code>height</code>„ÄÇÂêé‰∏§‰∏™Â±ûÊÄß‰ª£Ë°®ÊåáÂÆöÂõæÁâáÁöÑÂÆΩÈ´òÔºåËÄåÂè¶Â§ñ‰∏Ä‰∏™ <code>data</code> Â±ûÊÄßÔºåÂàôÊòØ‰∏Ä‰∏™ Uint8ClampedArrayÔºà8 ‰ΩçÊó†Á¨¶Âè∑Êï¥ÂΩ¢Âõ∫ÂÆöÊï∞ÁªÑÔºâÁ±ªÂûãÂåñÊï∞ÁªÑ„ÄÇ<code>data</code> ‰∏≠ÁöÑÂÉèÁ¥†Êï∞ÊçÆÊòØÊåâÁÖß‰ªé‰∏äÂà∞‰∏ãÔºå‰ªéÂ∑¶Âà∞Âè≥ÊéíÂàóÁöÑÔºåÊØè‰∏™ÂÉèÁ¥†ÈúÄË¶ÅÂç†Áî® 4 ‰ΩçÊï∞ÊçÆÔºåÂàÜÂà´ÊòØ R„ÄÅG„ÄÅB„ÄÅAlpha ÈÄèÊòéÈÄöÈÅìÔºå</p>\n<p>ÂèçÁõ∏‰∫¶Âç≥Â∞ÜÊüê‰∏™È¢úËâ≤ÊõøÊç¢ÊàêÂÆÉÁöÑË°•Ëâ≤ÔºåÂú® RGB Ê®°Âºè‰∏≠ÔºåÂèçÁõ∏ÂÆûÂàôÊòØÂà©Áî® 255 ÂáèÂéª RGB ÁöÑÂÄºÔºåÂæóÂà∞ÁöÑÂç≥‰∏∫ÂèçÁõ∏ÁöÑ RGB ÂÄº„ÄÇ</p>\n<p>ÈÄöËøáÂú®Ê∫êÁ†ÅÂ¢ûÂä†ÊîØÊåÅ Canvas ÂèçÁõ∏ÂíåÂÖºÂÆπ Retina Â±èÂπïÁöÑ‰ª£Á†ÅÔºåËß£ÂÜ≥‰∫ÜÂ≠ó‰ΩìÂõæÁâáÂíåÂ∞∫ÂØ∏ÈóÆÈ¢ò„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/cq-img3.png\" alt=\"cq-img3\"></p>\n<p>‰ΩÜÊòØËøòÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÈúÄË¶ÅËß£ÂÜ≥ÔºåÈÇ£Â∞±ÊòØÂ¶Ç‰ΩïÂà©Áî®ÊúÄÂ∞è‰ª£‰ª∑Âú®ÂéüÊúâÈ°πÁõÆ‰∏≠Êõ¥ÊîπÁ¨¨‰∏âÊñπÂ∫ìÁöÑÊ∫ê‰ª£Á†ÅÂë¢Ôºü</p>\n<p>ÈÄöËøáÊü•ÈòÖËµÑÊñôÂèØÁü•Âà©Áî® <a href=\"https://www.npmjs.com/package/patch-package\" target=\"_blank\" rel=\"noopener\">patch-package</a> ËÉΩÂ§ü‰∏∫ÂÖ∂‰ªñ npm ÂåÖÊûÑÂª∫Ë°•‰∏ÅÂåÖÔºåÂÖ∂ÂÆûÈôÖÂéüÁêÜÊòØÂú®Â∑•Á®ãÁõÆÂΩï‰∏ã‰øùÂ≠ò‰∏Ä‰ªΩ‰∏éÁ∫ø‰∏äÁâàÊú¨ÁöÑ npm ÂåÖÁöÑ git diff Êñá‰ª∂„ÄÇÂÖ∑‰Ωì‰ΩøÁî®ÊñπÊ≥ïÂèØ‰ª•ÂèÇËÄÉ <a href=\"https://zhuanlan.zhihu.com/p/310266801\" target=\"_blank\" rel=\"noopener\">ÈÇ£‰∫õ‰øÆÊîπ node_modules ÁöÑÈ™öÊìç‰Ωú</a>„ÄÇ</p>\n<p>‰∏çËøáÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊñá‰∏≠ÊèêÂèäÁöÑÊúÄ‰ºòËß£ <code>patch-package</code> ÂÖ∂ÂÆû‰πüÊòØÊúâÁº∫Èô∑ÁöÑÔºå‰æãÂ¶ÇÔºåÂ¶ÇÊûú node_modules ‰∏≠ÁöÑ npm ÂåÖÊòØ ES6 Ê®°ÂùóÊâìÂåÖÊàê ES5 Ê®°ÂùóÔºåÊàñËÄÖÊòØÁªèËøáÊ∑∑Ê∑ÜÊâìÂåÖÁöÑÔºåÈÇ£‰πàÂèØËØªÊÄßÊñπÈù¢ÈÉΩÊ≤°ÊúâÊ∫ê‰ª£Á†ÅÈ´òÔºåÂØπ‰∫éÂºÄÂèëËÄÖ‰øÆÊîπËµ∑Êù•‰ºöÊØîËæÉÈ∫ªÁÉ¶„ÄÇ</p>\n<p>ËÄå html2canvas Ê®°ÂùóÂåÖÊ≠£ÊòØÊâìÂåÖÂêéÁöÑ ES5 Ê®°ÂùóÂåÖÔºåÊâÄ‰ª•Â∞ΩÁÆ°‰øÆÊîπÂÜÖÂÆπ‰∏çÊòØÁâπÂà´Â§öÔºåÊàë‰ª¨ËøòÊòØ clone Âà∞Êú¨Âú∞Âêé‰øÆÊîπÂêéÂèëÂ∏ÉÂà∞ÂÜÖÈÉ®ÁöÑ npm Â∫ì‰∏≠ÔºåÂÖ∂‰ªñ‰∏öÂä°Á∫øÊúâÁõ∏ÂÖ≥ÁöÑÈúÄÊ±Ç‰πüËÉΩÁõ¥Êé•ÂºïÁî®ËØ•Ê®°ÂùóËß£ÂÜ≥Ôºå‰πüÂà©‰∫éÂêéÊúüÁöÑÊãìÂ±ï„ÄÇ</p>\n<p>ÂÖ∂ÂÆûÂà∞ËøôÈáåÔºåÊï¥‰∏™ÊäÄÊúØÊñπÊ°àÁöÑÂÆûÁé∞ÈöæÁÇπÂ∞±Â∑≤ÁªèËß£ÂÜ≥ÔºåÊãøÂà∞È¢òÁõÆÂÜÖÂÆπÁöÑ Base64 ÂõæÁâáÂêéÔºåÂ∞±ËÉΩÂ§üÂú® Egret ‰∏≠ egret.BitmapData ‰ΩçÂõæÁîüÊàêÂõæÁâá„ÄÇ</p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåËøôÈáåÈúÄË¶ÅÂØπÂõæÁâáËøõË°åÈÄÇÈÖçÔºåË¶Å‰øùËØÅÂõæÁâáËÉΩÂÆåÊï¥ÊòæÁ§∫Âú®È¢òÁõÆÂÜÖÂÆπÂÆπÂô®ÂÜÖ„ÄÇ</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> QuestionContent <span class=\"keyword\">extends</span> eui.Component <span class=\"keyword\">implements</span> eui.UIComponent &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> initQuestionContent(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> img: HTMLImageElement = <span class=\"keyword\">new</span> Image();</span><br><span class=\"line\">    <span class=\"comment\">// this.questionInfo.content Â∞±ÊòØ Base64</span></span><br><span class=\"line\">    img.src = <span class=\"keyword\">this</span>.questionInfo.content;</span><br><span class=\"line\">    <span class=\"comment\">// ÊòØÂê¶ÊòØÈü≥È¢ëÈ¢ò</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> isAudio = <span class=\"keyword\">this</span>.questionInfo.audioUrl;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÂõæÁâáÈÄÇÈÖç</span></span><br><span class=\"line\">    img.onload = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> width = <span class=\"number\">0</span>,</span><br><span class=\"line\">        height = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"comment\">// ÊâøËΩΩÈ¢òÁõÆÂõæÁâáÂÆπÂô®ÁöÑÂèØÁî®ÊúÄÂ§ßÂÆΩÈ´ò</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> avaliableWidth = <span class=\"keyword\">this</span>.contentGroup.width;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> avaliableHeight = <span class=\"keyword\">this</span>.contentGroup.height;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (isAudio) &#123;</span><br><span class=\"line\">        avaliableHeight = avaliableHeight - <span class=\"number\">130</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (img.width &gt; img.height) &#123;</span><br><span class=\"line\">        height = img.height * (avaliableWidth / img.width);</span><br><span class=\"line\">        width = avaliableWidth;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        width = img.width * (avaliableHeight / img.height);</span><br><span class=\"line\">        height = avaliableHeight;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      img.width = width;</span><br><span class=\"line\">      img.height = height;</span><br><span class=\"line\">      img[<span class=\"string\">'avaliable'</span>] = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> bitmapdata: egret.BitmapData = <span class=\"keyword\">new</span> egret.BitmapData(img);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> texture: egret.Texture = <span class=\"keyword\">new</span> egret.Texture();</span><br><span class=\"line\">      texture.disposeBitmapData = <span class=\"literal\">true</span>;</span><br><span class=\"line\">      texture.bitmapData = bitmapdata;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.contentBitmap = <span class=\"keyword\">new</span> egret.Bitmap(texture);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Áî±‰∫éÊúâÈü≥È¢ëÁªÑ‰ª∂ÔºåÊâÄ‰ª•È¢òÁõÆË¶ÅÂêë‰∏ãÁßªÂä® 103 ‰∏™Âçï‰ΩçÈ´òÂ∫¶</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (isAudio) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.contentBitmap.y = <span class=\"number\">103</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Â∞ÜÈ¢òÁõÆ‰ΩçÂõæÊèíÂÖ•ËàûÂè∞</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.contentGroup.addChild(<span class=\"keyword\">this</span>.contentBitmap);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÊúÄÁªàÂëàÁé∞ÁöÑÊïàÊûúÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/cq-img4.png\" alt=\"cq-img4\"></p>\n<p><img src=\"https://img.mrsingsing.com/cq-img5.png\" alt=\"cq-img5\"></p>\n<p>ÂèÇËÄÉËµÑÊñô</p>\n<ul>\n<li><a href=\"https://segmentfault.com/a/1190000038551328\" target=\"_blank\" rel=\"noopener\">html2canvas ÂÆûÁé∞ÊµèËßàÂô®Êà™ÂõæÁöÑÂéüÁêÜÔºàÂåÖÂê´Ê∫êÁ†ÅÂàÜÊûêÁöÑÈÄöÁî®ÊñπÊ≥ïÔºâ</a></li>\n<li><a href=\"https://segmentfault.com/a/1190000011478657\" target=\"_blank\" rel=\"noopener\">Âü∫‰∫é html2canvas ÂÆûÁé∞ÁΩëÈ°µ‰øùÂ≠ò‰∏∫ÂõæÁâáÂèäÂõæÁâáÊ∏ÖÊô∞Â∫¶‰ºòÂåñ</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<h2 id=\"ÈúÄÊ±ÇËÉåÊôØ\"><a href=\"#ÈúÄÊ±ÇËÉåÊôØ\" class=\"headerlink\" title=\"ÈúÄÊ±ÇËÉåÊôØ\"></a>ÈúÄÊ±ÇËÉåÊôØ</h2><p>ÊúÄËøëÂú®Ë¥üË¥£Âà©Áî® Egret ÁôΩÈπ≠Ê∏∏ÊàèÂºïÊìéÂºÄÂèë‰∏ÄÊ¨æËØæ‰∏≠‰∫íÂä®Ê∏∏ÊàèÔºåÂÖ∂‰∏≠‰∏Ä‰∏™ÂäüËÉΩÈúÄË¶ÅÂ∞Ü HTML Â≠óÁ¨¶‰∏≤ÂΩ¢ÂºèÂ≠òÂ∫ìÁöÑÈ¢òÁõÆÂÜÖÂÆπÂ∫îÁî®Âú®‰∫íÂä®Ê∏∏Êàè‰∏≠„ÄÇ‰ΩÜÊòØÁôΩÈπ≠ÂºïÊìéÊòØÈÄöËøá WebGL ËøõË°åÊ∏≤ÊüìÁöÑÔºåDOM Ê†ë‰∏≠ÈÄöËøá‰∏Ä‰∏™ <code>&lt;canvas&gt;</code> Ê†áÁ≠æÊâøËΩΩÔºåÊó†Ê≥ïÈÄöËøá <code>innerHTML</code> ÁöÑÊñπÂºèÁõ¥Êé•‰ΩøÁî® HTML Â≠óÁ¨¶‰∏≤ÔºåÂΩìÊó∂Ëä±Ë¥π‰∫Ü‰∏çÂ∞ëÊó∂Èó¥Á†îÁ©∂Â¶Ç‰Ωï‰ºòÈõÖÂú∞ÂÆûÁé∞Á±ª‰ººÁöÑÈúÄÊ±Ç„ÄÇ</p>","more":"<h2 id=\"ÊñπÊ°àË∞ÉÁ†î\"><a href=\"#ÊñπÊ°àË∞ÉÁ†î\" class=\"headerlink\" title=\"ÊñπÊ°àË∞ÉÁ†î\"></a>ÊñπÊ°àË∞ÉÁ†î</h2><p>ÈÅá‰∫ãÂÖà‰ªéÊñáÊ°£Êü•Ëµ∑ÔºåÂú®ÁôΩÈπ≠ÊñáÊ°£ÂíåËÆ∫Âùõ‰∏≠ÊâæÂà∞‰∫Ü <code>egret.HtmlTextParser</code> Ëøô‰∏™ÊñπÊ≥ïÔºåËøô‰∏™ÊñπÊ≥ïËÉΩÂ∞Ü HTML Ê†ºÂºèÊñáÊú¨ËΩ¨Êç¢‰∏∫ÂèØËµãÂÄº <code>egret.TextField#textFlow</code> Â±ûÊÄßÁöÑÂØπË±°„ÄÇ</p>\n<p>ÂéüÊú¨‰ª•‰∏∫‰∫ãÊÉÖÂ∞±ÊòØËøô‰πàÁÆÄÂçïÔºå‰ΩÜÊòØÁªèËøáÂ∞ùËØïÂêéÈÅáÂà∞‰ª•‰∏ãÁöÑÈóÆÈ¢òÔºö</p>\n<ol>\n<li>È¢òÁõÆÂÜÖÂÆπ‰∏≠ÊúâÂºïÁî®Â§ñÈìæÁöÑÂõæÁâá„ÄÅSVG Á≠âÔºåËØ•ÊñπÊ≥ïÊó†Ê≥ïÊîØÊåÅ</li>\n<li>È¢òÁõÆ HTML Ê†áÁ≠æ‰∏äÂê´Êúâ CSS Á±ªÂêçÔºåËøô‰∫õÈúÄË¶ÅÂ∫îÁî®Âõ∫ÂÆöÊ†∑ÂºèÁöÑÈ¢òÁõÆÊó†Ê≥ïÊ≠£Â∏∏ÊòæÁ§∫</li>\n</ol>\n<p>Áî±‰∫éÊó†Ê≥ïÈÄöËøá Egret Êèê‰æõÁöÑ API ÂÆûÁé∞Êàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÊïàÊûúÔºåÂè™ËÉΩÂè¶ÂØªÂá∫Ë∑Ø„ÄÇÊÄùËÄÉ‰∫Ü‰∏Ä‰ºöÂêéÔºåÊàëÊÉ≥Âà∞‰∫Ü‰∏âÁßçÂèØ‰æõËß£ÂÜ≥ÊñπÊ°àÁöÑÊñπÊ°àÔºö</p>\n<ol>\n<li>Âú® <code>&lt;canvas&gt;</code> Ê†áÁ≠æÂ§ñÁöÑ‰∏äÂ±ÇÂ¢ûÂ§ß <code>z-index</code> Ë¶ÜÁõñ‰∏ÄÂ±ÇÈ¢òÁõÆÁöÑ HTML ‰ª£Á†Å</li>\n<li>‰ΩøÁî®Ê≠£ÂàôË°®ËææÂºèÂåπÈÖçËΩ¨Êç¢ HTML Â≠óÁ¨¶‰∏≤ÊàêÂØπË±°Êï∞ÊçÆÁªìÊûÑÔºåEgret ÂÜÖÈÉ®Â∞ÜÂØπË±°Êï∞ÊçÆËΩ¨Êç¢‰∏∫ÂØπÂ∫îÁöÑ UI</li>\n<li>Ê∏≤Êüì HTML ÂØåÊñáÊú¨Â≠óÁ¨¶‰∏≤ÔºåÈÄöËøá <code>html2canvas</code> Á≠âÁ¨¨‰∏âÊñπÂ∫ìËΩ¨Êç¢ÊàêÂõæÁâáÔºå‰ª•ÂõæÁâáÁöÑÂΩ¢ÂºèÂú® Egret ‰∏≠‰ΩøÁî®</li>\n</ol>\n<p>Á¨¨‰∏ÄÁßçÊñπÊ°àÁöÑÁº∫Èô∑ÊØîËæÉÊòéÊòæÔºö‰∏ÄÊòØÊï¥‰∏™Ê∏∏ÊàèÁî± Egret ÂºïÊìéÊê≠Âª∫ÔºåÊ∏∏ÊàèÁöÑÊµÅÁ®ãÁî±È°πÁõÆÂÜÖÈÉ®‰ª£Á†ÅÂÆûÁé∞ÊéßÂà∂ÔºåÂú®Â§ñÂ±ÇÊåÇËΩΩÂè¶Â§ñÁöÑ HTML ËäÇÁÇπ‰∏çÂ•ΩÊéßÂà∂Ôºõ‰∫åÊòØÈ¢òÁõÆÊòæÁ§∫Â≠¶ÁîüÁ≠îÈ¢òÂêéÔºåÊúâË¶ÜÁõñÈ¢òÁõÆ‰∏äÂ±ÇÁöÑÊ≠£Á°ÆÁ≠îÊ°àÔºàÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºâÔºåÁî±‰∫é‰∏çÂêåÂ±ÇÁ∫ßÁöÑÁºòÊïÖÔºåÊó†Ê≥ïÂÆûÁé∞È¢òÁõÆÂÜÖÂÆπÂÜç‰∏äÂ±ÇÁöÑË¶ÜÁõñÔºåÈô§ÈùûÂÜçÂçïÁã¨Âª∫Á´ã‰∏Ä‰∏™ÂõæÂ±ÇË¶ÜÁõñÔºå‰ΩÜËøôÊòæÁ§∫ËÆ©Êï¥‰ª∂‰∫ãÊÉÖÂèòÂæóÊõ¥Â§çÊùÇ„ÄÅÊõ¥ÈöæÊìç‰ΩúÔºõ‰∏âÊòØËøôÁßçÊñπÊ°àÂú®Êï¥‰∏™ÁîªÂ∏É‰∏≠‰∏çÂ•ΩÂÆö‰Ωç„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/cq-img1.png\" alt=\"cq-img1\"></p>\n<p>Á¨¨‰∫åÁßçÊñπÊ°à‰πüÂ≠òÂú®Èöæ‰ª•Ëß£ÂÜ≥ÁöÑ‰∏Ä‰∫õÈóÆÈ¢òÔºåËôΩÁÑ∂ËØ¥ÁõÆÂâçÈõÜÂõ¢ÂÜÖÈÉ®Â∑≤ÁªèÊúâÊØîËæÉÊàêÁÜüÁöÑÈ¢òÂ∫ìÔºå‰ΩÜÊó©ÊúüËøòÊòØÈÄöËøáÊé•ÂÖ•Â§ñÈÉ®È¢òÂ∫ìÁöÑÊñπÂºèÊâ©ÂÖÖÈ¢òÂ∫ìÔºåÈ¢òÁõÆÂΩïÂÖ•ÁöÑÂØåÊñáÊú¨ÁºñËæëÂô®‰πüÁªèËøáÂæàÈïøÊó∂Èó¥ÁöÑËø≠‰ª£Ôºå‰∫ãÂÆû‰∏äÁîüÊàêÁöÑ HTML Â≠óÁ¨¶‰∏≤‰πüÊòØÂêÑ‰∏çÁõ∏ÂêåÔºåÊàë‰ª¨Êó†Ê≥ïÂà∂ÂÆöÁªü‰∏ÄÁöÑÊ≠£ÂàôË°®ËææÂºèÂÆåÁæéÂú∞ÂåπÈÖçÊâÄÊúâÁöÑÊÉÖÂÜµ„ÄÇ</p>\n<p>ËøôÊàñËÆ∏ÊúâÁÇπÈöæ‰ª•ÁêÜËß£ÔºåÂú®Êï∞Â≠¶È¢òÁõÆÁöÑÈ¢òÂπ≤‰∏≠‰ºöÂ≠òÂú®ÂÖ¨ÂºèÔºå‰∏Ä‰∫õ‰ºö‰ª• SVG ÁöÑÂΩ¢ÂºèÊ∏≤ÊüìÔºå‰∏Ä‰∫õÂàôÁ≤óÊö¥Âú∞‰ª•ÂõæÁâáÁöÑÂΩ¢ÂºèÂ≠òÂú®Ôºå‰ª•ÂõæÁâáÂΩ¢ÂºèÂ≠òÂú®ÊòØÊó†Ê≥ïÈÄöËøáÂ∑≤ÊúâÊù°‰ª∂Âà§Êñ≠ÂÖ∂‰∏∫ÂÖ¨ÂºèÔºåÂç≥‰æøËÉΩÂà§Êñ≠ÂÖ∂‰∏∫ÂÖ¨ÂºèÔºåÁ±ª‰ººËøôÁßç SVG ÂΩ¢ÂºèÁöÑ XML Ê†áÁ≠æ‰πüÊó†Ê≥ïÂú® Egret ‰∏≠‰ΩøÁî®„ÄÇ</p>\n<p>Âõ†Ê≠§Âè™Ââ©‰∏ãÊúÄÂêé‰∏ÄÁßçÊñπÊ°àÔºå‰πüÊòØÊàë‰ª¨ÊúÄÂêéÊàë‰ª¨ÈááÁ∫≥ÁöÑ‰∏ÄÁßçÊñπÊ°àÔºåÊàë‰ª¨ AI ÂΩïÊí≠ËØæÂú®‰∏äËØæÂâçÊúâ‰∏™ÁºìÂÜ≤Èò∂ÊÆµÔºåÈúÄË¶ÅÁªôËØæÂÆ§‰∏≠ÁöÑÂ≠¶ÁîüÁªëÂÆöÁ≠îÈ¢òÂô®Á≠âÊìç‰ΩúÔºåÂà©Áî®ËøôÊÆµÁ©∫Ê°£ÊúüÔºåÊàë‰ª¨ËÉΩÂú® Electron ÂÆ¢Êà∑Á´ØÊåÇËΩΩ‰∏Ä‰∏™ÂéüÁêÜËßÜÂè£ÁöÑËäÇÁÇπÔºåÈÄöËøá HTML Ëß£ÊûêÂä†ËΩΩÊØèÈÅìÈ¢òÁõÆÔºåÂπ∂ÈÄöËøá <a href=\"https://github.com/niklasvh/html2canvas\" target=\"_blank\" rel=\"noopener\">html2canvas</a> ËΩ¨‰∏∫ Base64 ÁöÑÂõæÁâáÂêéÔºåÂÜç‰∫§Áî± Egret Â§ÑÁêÜ„ÄÇ</p>\n<h2 id=\"ÊñπÊ°àÂÆûÁé∞\"><a href=\"#ÊñπÊ°àÂÆûÁé∞\" class=\"headerlink\" title=\"ÊñπÊ°àÂÆûÁé∞\"></a>ÊñπÊ°àÂÆûÁé∞</h2><p>ÈÄöËøáÊúçÂä°Á´ØÊé•Âè£Ëé∑ÂèñÂà∞È¢òÁõÆÁöÑÊï∞ÊçÆÂàóË°®ÂêéÔºåÊàë‰ª¨Â∞ÜÊï∞ÊçÆ‰ª• 10 Êù°‰∏∫Âçï‰ΩçÂàáÂâ≤ÂàÜÁªÑÔºàÁî±‰∫éÊ∏≤ÊüìÁªòÂà∂Êà™ÂõæÁöÑËøáÁ®ãËÄóÊó∂Ôºå‰∏∫‰∫ÜÊèêÈ´òÊïàÁéáÔºåÈááÁî®Ê∏≤ÊüìÂ§öÊù°Êà™Âõæ‰∏ÄÊ¨°ÁöÑÊñπÂºèÂÆûÁé∞ÔºâÔºåÊØèÊ¨°Ê∏≤Êüì 10 Êù°Êï∞ÊçÆÂú®Âõ∫ÂÆöÂÆΩÈ´òÁöÑÁõíÂ≠êÂÜÖ„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getBase64ByHtml2Canvas</span>(<span class=\"params\">dataInfo</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    (<span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// ‰ªé‰ª•È¢òÁõÆ ID ‰∏∫ÈîÆÔºåÈ¢òÁõÆÊï∞ÊçÆ‰∏∫ÂÄºÁöÑÂØπË±°‰∏≠ÊäΩÁ¶ªÂàóË°®</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> dataList = <span class=\"built_in\">Object</span>.values(dataInfo);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Âà§Êñ≠ÊòØÂê¶‰∏∫ÊúâÊïàÁöÑÂØπË±°Êï∞ÁªÑ</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!isValidObjectArray(dataList)) &#123;</span><br><span class=\"line\">          resolve(&#123;&#125;);</span><br><span class=\"line\">          <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">let</span> result = &#123;&#125;;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> groups = [];</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ‰∏∫‰∫ÜÊèêÂçáÊïàÁéáÔºåÊØèÊ¨°ÊúÄÂ§öÊ∏≤Êüì 10 Êù°È¢òÁõÆÔºå‰ª•ÊúÄÂ§ö 10 Êù°‰∏∫ÈôêÂà∂ÂàÜÂ•ΩÁªÑÂà´</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> x = <span class=\"number\">0</span>; x &lt; <span class=\"built_in\">Math</span>.ceil(dataList.length / <span class=\"number\">10</span>); x++) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> start = x * <span class=\"number\">10</span>;</span><br><span class=\"line\">          <span class=\"keyword\">let</span> end = start + <span class=\"number\">10</span>;</span><br><span class=\"line\">          groups.push(dataList.slice(start, end));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> taskList <span class=\"keyword\">of</span> groups) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> taskResult = <span class=\"keyword\">await</span> createHtml2CanvasPromise(taskList);</span><br><span class=\"line\"></span><br><span class=\"line\">          result = <span class=\"built_in\">Object</span>.assign(&#123;&#125;, result, taskResult);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        resolve(result);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">        reject(err);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)();</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createHtml2CanvasPromise</span>(<span class=\"params\">dataList</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> root = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'html2canvas'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Ê∏≤ÊüìÂâçÂ∞ÜÊ†πËäÇÁÇπÊ∏ÖÁ©∫</span></span><br><span class=\"line\">      root.innerHTML = <span class=\"string\">''</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> documentFragment = <span class=\"built_in\">document</span>.createDocumentFragment();</span><br><span class=\"line\"></span><br><span class=\"line\">      dataList.forEach(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> div = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</span><br><span class=\"line\">        div.classList.add(<span class=\"string\">'container'</span>);</span><br><span class=\"line\">        <span class=\"comment\">// È¢òÁõÆÂÜÖÂÆπ</span></span><br><span class=\"line\">        div.innerHTML = item.questionContentTranslate;</span><br><span class=\"line\">        div.dataset.id = item.questionId;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Áî±‰∫éÂÖ¨ÂºèÂõæÁâáËøáÂ∞èÔºåÊâÄ‰ª•ÁâπÊÆäÂ§ÑÁêÜÂÆΩÈ´òÊîæÂ§ß‰∏§ÂÄç</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> tagNames: any = div.querySelectorAll(<span class=\"string\">'.spark-formula-frame'</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (tagNames.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          tagNames.forEach(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">            item.width = item.width * <span class=\"number\">2</span>;</span><br><span class=\"line\">            item.height = item.height * <span class=\"number\">2</span>;</span><br><span class=\"line\">            item.style.margin = <span class=\"string\">'0 10px'</span>;</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        documentFragment.appendChild(div);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      root.appendChild(documentFragment);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">let</span> images = <span class=\"built_in\">Array</span>.from(root.getElementsByTagName(<span class=\"string\">'img'</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> renderContent = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// Ëß£ÂÜ≥ÂõæÁâáËøòÊ≤°Âä†ËΩΩÂÆåÊØïÔºåÂ∞±ÂºÄÂßãÊà™ÂõæÂØºËá¥Êà™ÂèñÁöÑÂõæÁâá‰∏∫Á©∫ÁôΩÁöÑÈóÆÈ¢ò</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> timer = setTimeout(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">          images = images.filter(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item &amp;&amp; !item.complete);</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (images.length === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">const</span> clientRect = root.getBoundingClientRect();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// ÂºÄÂßãÈÄöËøá html2canvas ÁªòÂà∂Âπ∂ÁîüÊàêÂõæÁâá</span></span><br><span class=\"line\">            html2canvasformula(root, &#123;</span><br><span class=\"line\">              backgroundColor: <span class=\"literal\">null</span>,</span><br><span class=\"line\">              useCORS: <span class=\"literal\">true</span>,</span><br><span class=\"line\">              width: clientRect.width,</span><br><span class=\"line\">              height: clientRect.height,</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">              .then(<span class=\"function\"><span class=\"params\">canvas</span> =&gt;</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// ÁªèËøá html2canvas Â§ÑÁêÜÔºåÂºÇÊ≠•‰ºöËøîÂõû canvas ÁîªÂ∏ÉÔºåÂêéÁª≠Êìç‰ΩúÈúÄË¶ÅËá™Ë°åÂ§ÑÁêÜ</span></span><br><span class=\"line\">                <span class=\"keyword\">const</span> ctx = canvas.getContext(<span class=\"string\">'2d'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"built_in\">document</span>.body.append(canvas);</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"keyword\">const</span> result = dataList.reduce(<span class=\"function\">(<span class=\"params\">acc, item, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">                  <span class=\"keyword\">const</span> elementRef = <span class=\"built_in\">Array</span>.from(root.children)[index];</span><br><span class=\"line\">                  <span class=\"keyword\">const</span> clientRect = elementRef.getBoundingClientRect();</span><br><span class=\"line\"></span><br><span class=\"line\">                  <span class=\"comment\">// Êà™ÂèñÁöÑÂõæÁâáÔºàBase64Ôºâ</span></span><br><span class=\"line\">                  <span class=\"keyword\">const</span> base64 = cutImg(ctx, index + <span class=\"number\">1</span>, clientRect.width, clientRect.height);</span><br><span class=\"line\"></span><br><span class=\"line\">                  <span class=\"comment\">// ËøôÊòØÊúÄÁªàËøîÂõûÁöÑËá™ÂÆö‰πâÁªìÊûÑ</span></span><br><span class=\"line\">                  <span class=\"keyword\">const</span> payload: any = &#123;</span><br><span class=\"line\">                    questionId: item.questionId,</span><br><span class=\"line\">                    answer:</span><br><span class=\"line\">                      item.questionExplains &amp;&amp; isValidObjectArray(item.questionExplains)</span><br><span class=\"line\">                        ? item.questionExplains[<span class=\"number\">0</span>].answerTranslate</span><br><span class=\"line\">                        : <span class=\"literal\">null</span>,</span><br><span class=\"line\">                    audioUrl:</span><br><span class=\"line\">                      item.audioList &amp;&amp; isValidObjectArray(item.audioList)</span><br><span class=\"line\">                        ? item.audioList[<span class=\"number\">0</span>].audioUrl</span><br><span class=\"line\">                        : <span class=\"literal\">null</span>,</span><br><span class=\"line\">                    content: base64,</span><br><span class=\"line\">                  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">                  acc[item.questionId] = payload;</span><br><span class=\"line\"></span><br><span class=\"line\">                  <span class=\"keyword\">return</span> acc;</span><br><span class=\"line\">                &#125;, &#123;&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">                resolve(result);</span><br><span class=\"line\">              &#125;)</span><br><span class=\"line\">              .catch(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">                resolve(&#123;&#125;);</span><br><span class=\"line\">              &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">            clearTimeout(timer);</span><br><span class=\"line\">          &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            renderContent();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;, <span class=\"number\">250</span>);</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">      renderContent();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">      reject(err);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">cutImg</span>(<span class=\"params\">ctx, index, width, height</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Â§ÑÁêÜ Retina È´òÊ∏ÖÂ±è</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> devicePixelRatio = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.devicePixelRatio) &#123;</span><br><span class=\"line\">    devicePixelRatio = <span class=\"built_in\">window</span>.devicePixelRatio;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ÁõíÂ≠êÂÆΩÂ∫¶Ôºö1008</span></span><br><span class=\"line\">  <span class=\"comment\">// ÁõíÂ≠êÈ´òÂ∫¶Ôºö730</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> imgWidth = (width || <span class=\"number\">1008</span>) * devicePixelRatio;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> imgHeight = (height || <span class=\"number\">730</span>) * devicePixelRatio;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> sw = index * imgWidth - imgWidth;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> imageData = ctx.getImageData(sw, <span class=\"number\">0</span>, imgWidth, imgHeight);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> canvas = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'canvas'</span>);</span><br><span class=\"line\">  canvas.width = imgWidth;</span><br><span class=\"line\">  canvas.height = imgHeight;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> context = canvas.getContext(<span class=\"string\">'2d'</span>);</span><br><span class=\"line\">  context.putImageData(imageData, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> canvas.toDataURL();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Ê∫êÁ†ÅÊîπÈÄ†\"><a href=\"#Ê∫êÁ†ÅÊîπÈÄ†\" class=\"headerlink\" title=\"Ê∫êÁ†ÅÊîπÈÄ†\"></a>Ê∫êÁ†ÅÊîπÈÄ†</h2><p>ÂÖ∂ÂÆû <code>html2canvas</code> ÁöÑÂÆûÁé∞ÂéüÁêÜÂæàÁÆÄÂçïÔºåÂ∞±ÊòØËØªÂèñÂ∑≤ÁªèÊ∏≤ÊüìÂ•ΩÁöÑ DOM Ê†ëÁöÑÁªìÊûÑÂíåÊ†∑Âºè‰ø°ÊÅØÔºåÁÑ∂ÂêéÂü∫‰∫éËøô‰∫õ‰ø°ÊÅØÂú® Canvas ÁîªÂ∏É‰∏≠ÁªòÂà∂Âá∫Êù•ÔºåÊúÄÂêéÈÄöËøá <code>canvas.toDataURL</code> ËΩ¨Êç¢‰∏∫ Base64„ÄÇ</p>\n<p>‰ΩÜÂÆûÈôÖÊàë‰ª¨Âú®‰ΩøÁî®Êó∂Âç¥ÈÅáÂà∞‰∫Ü‰∏çÂ∞ëÈ∫ªÁÉ¶Ôºå‰∏ãÂõæ‰∏∫ÂΩìÊó∂Ôºà2021 Âπ¥ 2 Êúà‰∏ãÊó¨ÔºâÂà©Áî® html2canvasÔºàv1.0.0-rc.7ÔºâÂÜôÁöÑ demo„ÄÇÂ¶ÇÂõæ‰∏≠È°∂ÈÉ®Á¨¨‰∏Ä‰∏™ÊñπÊ°ÜÔºåÊòØÁî± innerHTML Â∞ÜÂêéÁ´ØÁªôÈ¢òÁõÆ HTML Â≠óÁ¨¶‰∏≤ÊèíÂÖ•Âà∞ DOM Êï∞‰∏≠ÁöÑÔºåÈÖçÂêàÂ∑≤Áü•ÁöÑÊ†∑ÂºèÔºåËÉΩÂëàÁé∞Âá∫Êàë‰ª¨ÊúÄÁªàÈúÄË¶ÅÁöÑÊïàÊûúÔºåËøôÈáåÊàë‰ª¨ÂèØ‰ª•ÁâπÂà´ÁïôÊÑèÁöÑÊòØÔºå1980 ÂÖ∂ÂÆûÊòØ‰∏ÄÂº†ÂõæÁâáÔºåÂÆûÈôÖ‰∏äÊòØÈªëËâ≤ÁöÑÂ≠ó‰ΩìÔºå‰ΩÜÁî±‰∫é‰∫íÂä®Ê∏∏Êàè‰∏≠‰∏∫Ê∑±Ëâ≤ËÉåÊôØÔºåÊàë‰ª¨ÁöÑËÆæËÆ°Â∏àË¶ÅÊ±Ç‰ΩøÁî®ÁôΩËâ≤ÁöÑÂ≠ó‰ΩìÔºå‰∏çÁÑ∂ÊúÄÁªàÂëàÁé∞ÁöÑÊïàÊûúÔºåÂÖ∂ÂÆûÂ∞±ÊòØÁ¨¨‰∫å‰∏™ÊñπÊ°ÜÊâÄÂëàÁé∞Âá∫Êù•ÁöÑ„ÄÇ</p>\n<p>Á¨¨‰∫å‰∏™ÊñπÊ°ÜÂÖ∂ÂÆûÊòØÊ∏≤ÊüìÂÆåÁ¨¨‰∏Ä‰∏™ÊñπÊ°ÜÂêéÔºåÈÄöËøá html2canvas ÁªòÂà∂Âà∞ canvas ‰∏äÁöÑÊïàÊûúÔºå‰ΩÜÊòØ html2canvas Ê≠§Êó∂Âπ∂‰∏çÊîØÊåÅÂà©Áî® <code>filter: invert(1)</code> ÂØπÂõæÁâáËøõË°åÂèçÁõ∏Â§ÑÁêÜÔºåÊâÄ‰ª•ÂëàÁé∞ÁöÑÊïàÊûúÂπ∂‰∏çÂ¶ÇÊàë‰ª¨ÁöÑÈ¢ÑÊúüÔºåËøôÈáåÂ∞±ÈúÄË¶ÅÊàë‰ª¨ÂØπÊ∫ê‰ª£Á†ÅËøõË°åÈ≠îÊîπ„ÄÇ</p>\n<p>ÂÖ∂Ê¨°ÔºåÁ¨¨‰∏â‰∏™ÊñπÊ°ÜÊòØÈÄöËøá canvas ÁöÑ toDataURL ÊúÄÁªàÁîüÊàêÁöÑ Base64 ‰ª£Á†ÅÔºå‰ªéÁ¨¨‰∏ÄËßÜËßâÊù•ÁúãÔºåÊØîÊ≠£Â∏∏ÁöÑÂ∑Æ‰∏çÂ§öÂ§ß‰∫Ü‰∏§ÂÄçÊúâÂ§öÔºåËøôÈáåÁõ¥ËßâÂëäËØâÊàëÔºå‰πüËÆ∏‰∏éËÆæÂ§áÂÉèÁ¥†ÊØîÊúâÂÖ≥Á≥ª„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/cq-img2.png\" alt=\"cq-img2\"></p>\n<p><a href=\"https://github.com/niklasvh/html2canvas/blob/3982df1492bdc40a8e5fa16877cc0291883c8e1a/src/render/canvas/canvas-renderer.ts#L259\" target=\"_blank\" rel=\"noopener\">https://github.com/niklasvh/html2canvas/blob/3982df1492bdc40a8e5fa16877cc0291883c8e1a/src/render/canvas/canvas-renderer.ts#L259</a></p>\n<p>‰∏äËø∞‰ª£Á†ÅÁâáÊÆµÊòØ <code>html2canvas</code> ‰∏≠ÔºåËé∑Âèñ HTML ÁÑ∂ÂêéÁªòÂà∂Êàê Canvas ÁöÑÂÖ≥ÈîÆÊñπÊ≥ï <code>renderReplacedElement</code>ÔºåÂΩìÊâßË°å <code>ctx.restore()</code> ÂêéË°®Á§∫Ê≠§Ê¨°ÁªòÂà∂Â∑≤ÁªèÁªìÊùüÔºå‰ΩÜÊòØËøôÈáåÊàë‰ª¨Ê∑ªÂä†‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂ∞ÜÂØπÊ†∑Âºè‰∏≠Â≠òÂú® <code>filter</code> Â±ûÊÄßÁöÑËäÇÁÇπÂÖÉÁ¥†ËøõË°åÂèçÁõ∏„ÄÇ</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">filterImage</span>(<span class=\"params\">box: Bounds, filter: <span class=\"built_in\">any</span></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> devicePixelRatio = <span class=\"built_in\">window</span>.devicePixelRatio || <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"comment\">// Retina È´òÊ∏ÖÂ±èÈÄÇÈÖç</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> finalBox: <span class=\"built_in\">any</span> = &#123;</span><br><span class=\"line\">    left: devicePixelRatio * box.left,</span><br><span class=\"line\">    top: devicePixelRatio * box.top,</span><br><span class=\"line\">    width: devicePixelRatio * box.width,</span><br><span class=\"line\">    height: devicePixelRatio * box.height,</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">//</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> imageData: ImageData = <span class=\"keyword\">this</span>.ctx.getImageData(</span><br><span class=\"line\">    finalBox.left,</span><br><span class=\"line\">    finalBox.top,</span><br><span class=\"line\">    finalBox.width,</span><br><span class=\"line\">    finalBox.height</span><br><span class=\"line\">  );</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> imgWidth = imageData.width,</span><br><span class=\"line\">    imgHeight = imageData.height;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; imgHeight; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> j = <span class=\"number\">0</span>; j &lt; imgWidth; j++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> index = i * <span class=\"number\">4</span> * imgWidth + j * <span class=\"number\">4</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">let</span> red = imageData.data[index];</span><br><span class=\"line\">      <span class=\"keyword\">let</span> green = imageData.data[index + <span class=\"number\">1</span>];</span><br><span class=\"line\">      <span class=\"keyword\">let</span> blue = imageData.data[index + <span class=\"number\">2</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">      imageData.data[index] = <span class=\"number\">255</span> - <span class=\"number\">2</span> * red + red;</span><br><span class=\"line\">      imageData.data[index + <span class=\"number\">1</span>] = <span class=\"number\">255</span> - <span class=\"number\">2</span> * green + green;</span><br><span class=\"line\">      imageData.data[index + <span class=\"number\">2</span>] = <span class=\"number\">255</span> - <span class=\"number\">2</span> * blue + blue;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.ctx.putImageData(imageData, fialBox.left, fialBox.top);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÈÇ£‰πàÂ¶Ç‰ΩïÂØπ Canvas ÂõæÂÉèËøõË°åÂèçÁõ∏Âë¢ÔºüÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá <code>ctx.getImageData</code> Ëé∑ÂèñÊåáÂÆöÂùêÊ†áÂÆΩÈ´òÁöÑÂå∫ÂüüÔºåËøîÂõûÂÄº‰∏∫‰∏Ä‰∏™Áî®Êù•ÊèèËø∞ÂõæÁâáÂ±ûÊÄßÁöÑÊï∞ÊçÆÂØπË±° ImageData ÂØπË±°„ÄÇ</p>\n<p>ÂÆÉÊúâ‰∏â‰∏™Â±ûÊÄßÔºåÂàÜÂà´ÊòØ <code>data</code>„ÄÅ<code>width</code> Âíå <code>height</code>„ÄÇÂêé‰∏§‰∏™Â±ûÊÄß‰ª£Ë°®ÊåáÂÆöÂõæÁâáÁöÑÂÆΩÈ´òÔºåËÄåÂè¶Â§ñ‰∏Ä‰∏™ <code>data</code> Â±ûÊÄßÔºåÂàôÊòØ‰∏Ä‰∏™ Uint8ClampedArrayÔºà8 ‰ΩçÊó†Á¨¶Âè∑Êï¥ÂΩ¢Âõ∫ÂÆöÊï∞ÁªÑÔºâÁ±ªÂûãÂåñÊï∞ÁªÑ„ÄÇ<code>data</code> ‰∏≠ÁöÑÂÉèÁ¥†Êï∞ÊçÆÊòØÊåâÁÖß‰ªé‰∏äÂà∞‰∏ãÔºå‰ªéÂ∑¶Âà∞Âè≥ÊéíÂàóÁöÑÔºåÊØè‰∏™ÂÉèÁ¥†ÈúÄË¶ÅÂç†Áî® 4 ‰ΩçÊï∞ÊçÆÔºåÂàÜÂà´ÊòØ R„ÄÅG„ÄÅB„ÄÅAlpha ÈÄèÊòéÈÄöÈÅìÔºå</p>\n<p>ÂèçÁõ∏‰∫¶Âç≥Â∞ÜÊüê‰∏™È¢úËâ≤ÊõøÊç¢ÊàêÂÆÉÁöÑË°•Ëâ≤ÔºåÂú® RGB Ê®°Âºè‰∏≠ÔºåÂèçÁõ∏ÂÆûÂàôÊòØÂà©Áî® 255 ÂáèÂéª RGB ÁöÑÂÄºÔºåÂæóÂà∞ÁöÑÂç≥‰∏∫ÂèçÁõ∏ÁöÑ RGB ÂÄº„ÄÇ</p>\n<p>ÈÄöËøáÂú®Ê∫êÁ†ÅÂ¢ûÂä†ÊîØÊåÅ Canvas ÂèçÁõ∏ÂíåÂÖºÂÆπ Retina Â±èÂπïÁöÑ‰ª£Á†ÅÔºåËß£ÂÜ≥‰∫ÜÂ≠ó‰ΩìÂõæÁâáÂíåÂ∞∫ÂØ∏ÈóÆÈ¢ò„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/cq-img3.png\" alt=\"cq-img3\"></p>\n<p>‰ΩÜÊòØËøòÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÈúÄË¶ÅËß£ÂÜ≥ÔºåÈÇ£Â∞±ÊòØÂ¶Ç‰ΩïÂà©Áî®ÊúÄÂ∞è‰ª£‰ª∑Âú®ÂéüÊúâÈ°πÁõÆ‰∏≠Êõ¥ÊîπÁ¨¨‰∏âÊñπÂ∫ìÁöÑÊ∫ê‰ª£Á†ÅÂë¢Ôºü</p>\n<p>ÈÄöËøáÊü•ÈòÖËµÑÊñôÂèØÁü•Âà©Áî® <a href=\"https://www.npmjs.com/package/patch-package\" target=\"_blank\" rel=\"noopener\">patch-package</a> ËÉΩÂ§ü‰∏∫ÂÖ∂‰ªñ npm ÂåÖÊûÑÂª∫Ë°•‰∏ÅÂåÖÔºåÂÖ∂ÂÆûÈôÖÂéüÁêÜÊòØÂú®Â∑•Á®ãÁõÆÂΩï‰∏ã‰øùÂ≠ò‰∏Ä‰ªΩ‰∏éÁ∫ø‰∏äÁâàÊú¨ÁöÑ npm ÂåÖÁöÑ git diff Êñá‰ª∂„ÄÇÂÖ∑‰Ωì‰ΩøÁî®ÊñπÊ≥ïÂèØ‰ª•ÂèÇËÄÉ <a href=\"https://zhuanlan.zhihu.com/p/310266801\" target=\"_blank\" rel=\"noopener\">ÈÇ£‰∫õ‰øÆÊîπ node_modules ÁöÑÈ™öÊìç‰Ωú</a>„ÄÇ</p>\n<p>‰∏çËøáÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÊñá‰∏≠ÊèêÂèäÁöÑÊúÄ‰ºòËß£ <code>patch-package</code> ÂÖ∂ÂÆû‰πüÊòØÊúâÁº∫Èô∑ÁöÑÔºå‰æãÂ¶ÇÔºåÂ¶ÇÊûú node_modules ‰∏≠ÁöÑ npm ÂåÖÊòØ ES6 Ê®°ÂùóÊâìÂåÖÊàê ES5 Ê®°ÂùóÔºåÊàñËÄÖÊòØÁªèËøáÊ∑∑Ê∑ÜÊâìÂåÖÁöÑÔºåÈÇ£‰πàÂèØËØªÊÄßÊñπÈù¢ÈÉΩÊ≤°ÊúâÊ∫ê‰ª£Á†ÅÈ´òÔºåÂØπ‰∫éÂºÄÂèëËÄÖ‰øÆÊîπËµ∑Êù•‰ºöÊØîËæÉÈ∫ªÁÉ¶„ÄÇ</p>\n<p>ËÄå html2canvas Ê®°ÂùóÂåÖÊ≠£ÊòØÊâìÂåÖÂêéÁöÑ ES5 Ê®°ÂùóÂåÖÔºåÊâÄ‰ª•Â∞ΩÁÆ°‰øÆÊîπÂÜÖÂÆπ‰∏çÊòØÁâπÂà´Â§öÔºåÊàë‰ª¨ËøòÊòØ clone Âà∞Êú¨Âú∞Âêé‰øÆÊîπÂêéÂèëÂ∏ÉÂà∞ÂÜÖÈÉ®ÁöÑ npm Â∫ì‰∏≠ÔºåÂÖ∂‰ªñ‰∏öÂä°Á∫øÊúâÁõ∏ÂÖ≥ÁöÑÈúÄÊ±Ç‰πüËÉΩÁõ¥Êé•ÂºïÁî®ËØ•Ê®°ÂùóËß£ÂÜ≥Ôºå‰πüÂà©‰∫éÂêéÊúüÁöÑÊãìÂ±ï„ÄÇ</p>\n<p>ÂÖ∂ÂÆûÂà∞ËøôÈáåÔºåÊï¥‰∏™ÊäÄÊúØÊñπÊ°àÁöÑÂÆûÁé∞ÈöæÁÇπÂ∞±Â∑≤ÁªèËß£ÂÜ≥ÔºåÊãøÂà∞È¢òÁõÆÂÜÖÂÆπÁöÑ Base64 ÂõæÁâáÂêéÔºåÂ∞±ËÉΩÂ§üÂú® Egret ‰∏≠ egret.BitmapData ‰ΩçÂõæÁîüÊàêÂõæÁâá„ÄÇ</p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåËøôÈáåÈúÄË¶ÅÂØπÂõæÁâáËøõË°åÈÄÇÈÖçÔºåË¶Å‰øùËØÅÂõæÁâáËÉΩÂÆåÊï¥ÊòæÁ§∫Âú®È¢òÁõÆÂÜÖÂÆπÂÆπÂô®ÂÜÖ„ÄÇ</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> QuestionContent <span class=\"keyword\">extends</span> eui.Component <span class=\"keyword\">implements</span> eui.UIComponent &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> initQuestionContent(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> img: HTMLImageElement = <span class=\"keyword\">new</span> Image();</span><br><span class=\"line\">    <span class=\"comment\">// this.questionInfo.content Â∞±ÊòØ Base64</span></span><br><span class=\"line\">    img.src = <span class=\"keyword\">this</span>.questionInfo.content;</span><br><span class=\"line\">    <span class=\"comment\">// ÊòØÂê¶ÊòØÈü≥È¢ëÈ¢ò</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> isAudio = <span class=\"keyword\">this</span>.questionInfo.audioUrl;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÂõæÁâáÈÄÇÈÖç</span></span><br><span class=\"line\">    img.onload = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> width = <span class=\"number\">0</span>,</span><br><span class=\"line\">        height = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"comment\">// ÊâøËΩΩÈ¢òÁõÆÂõæÁâáÂÆπÂô®ÁöÑÂèØÁî®ÊúÄÂ§ßÂÆΩÈ´ò</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> avaliableWidth = <span class=\"keyword\">this</span>.contentGroup.width;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> avaliableHeight = <span class=\"keyword\">this</span>.contentGroup.height;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (isAudio) &#123;</span><br><span class=\"line\">        avaliableHeight = avaliableHeight - <span class=\"number\">130</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (img.width &gt; img.height) &#123;</span><br><span class=\"line\">        height = img.height * (avaliableWidth / img.width);</span><br><span class=\"line\">        width = avaliableWidth;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        width = img.width * (avaliableHeight / img.height);</span><br><span class=\"line\">        height = avaliableHeight;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      img.width = width;</span><br><span class=\"line\">      img.height = height;</span><br><span class=\"line\">      img[<span class=\"string\">'avaliable'</span>] = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> bitmapdata: egret.BitmapData = <span class=\"keyword\">new</span> egret.BitmapData(img);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> texture: egret.Texture = <span class=\"keyword\">new</span> egret.Texture();</span><br><span class=\"line\">      texture.disposeBitmapData = <span class=\"literal\">true</span>;</span><br><span class=\"line\">      texture.bitmapData = bitmapdata;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.contentBitmap = <span class=\"keyword\">new</span> egret.Bitmap(texture);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Áî±‰∫éÊúâÈü≥È¢ëÁªÑ‰ª∂ÔºåÊâÄ‰ª•È¢òÁõÆË¶ÅÂêë‰∏ãÁßªÂä® 103 ‰∏™Âçï‰ΩçÈ´òÂ∫¶</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (isAudio) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.contentBitmap.y = <span class=\"number\">103</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Â∞ÜÈ¢òÁõÆ‰ΩçÂõæÊèíÂÖ•ËàûÂè∞</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.contentGroup.addChild(<span class=\"keyword\">this</span>.contentBitmap);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÊúÄÁªàÂëàÁé∞ÁöÑÊïàÊûúÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/cq-img4.png\" alt=\"cq-img4\"></p>\n<p><img src=\"https://img.mrsingsing.com/cq-img5.png\" alt=\"cq-img5\"></p>\n<p>ÂèÇËÄÉËµÑÊñô</p>\n<ul>\n<li><a href=\"https://segmentfault.com/a/1190000038551328\" target=\"_blank\" rel=\"noopener\">html2canvas ÂÆûÁé∞ÊµèËßàÂô®Êà™ÂõæÁöÑÂéüÁêÜÔºàÂåÖÂê´Ê∫êÁ†ÅÂàÜÊûêÁöÑÈÄöÁî®ÊñπÊ≥ïÔºâ</a></li>\n<li><a href=\"https://segmentfault.com/a/1190000011478657\" target=\"_blank\" rel=\"noopener\">Âü∫‰∫é html2canvas ÂÆûÁé∞ÁΩëÈ°µ‰øùÂ≠ò‰∏∫ÂõæÁâáÂèäÂõæÁâáÊ∏ÖÊô∞Â∫¶‰ºòÂåñ</a></li>\n</ul>"},{"title":"‰∫ëËßÜÈ¢ëÂâ™ËæëÈÖçÈΩêÂ∑•ÂÖ∑ÂÆûË∑µÂ§çÁõòÔºàÊû∂ÊûÑÁØáÔºâ","date":"2021-06-06T00:00:00.000Z","_content":"\nÈöèÁùÄ‰∏öÂä°ËßÑÊ®°ÁöÑÊâ©Â§ßÔºå‰∏öÂä°ÊñπÂØπÊèêÈ´òÁîü‰∫ßÊïàÁéáÁöÑÈúÄÊ±ÇÊó•Âä†ÊøÄÁÉà„ÄÇÂ∞§ÂÖ∂Á¨îËÄÖÊâÄÂú®‰∏öÂä°ÈÉ®Èó®Ë¥üË¥£ÁöÑ AI ÂΩïÊí≠ËØæÔºå‰∏ªËÆ≤ËÄÅÂ∏àÈúÄÂú®ËØæÂâçÂØπÂΩïÊí≠ËßÜÈ¢ëËøõË°å‰∏ä‰º†„ÄÅÊ†πÊçÆËØæÁ®ãÂÜÖÂÆπÊèíÂÖ•ÈîöÁÇπÂíåÁºñËæëÁõ∏ÂÖ≥‰∫íÂä®ÁöÑÂÜÖÂÆπÔºåÂõ†Ê≠§Âú®Â§èÂ≠£ËØæÊù•‰∏¥‰πãÂâçÔºåÊàë‰ª¨ÈíàÂØπÁî®Êà∑ÁöÑÁóõÁÇπÊèêÂá∫ÊîπÈÄ†Áé∞ÊúâÁöÑ AI ÂΩïÊí≠ËØæËßÜÈ¢ëÈÖçÈΩêÂ∑•ÂÖ∑„ÄÇ\n\n## ÈúÄÊ±ÇËÉåÊôØ\n\n1. È¢óÁ≤íÂåñÈúÄÊ±Ç\n\n- ËøáÂéª AI ËØæËßÜÈ¢ëÈÉΩÊòØ‰ª•Âçï‰∏™ÂÆåÊï¥ÁöÑËßÜÈ¢ëÔºàÂ§ßÂ∞èÁ∫¶ 4GB Â∑¶Âè≥Ôºâ‰∏ÄÊ¨°ÊÄß‰∏ä‰º†Âà∞‰∫ëÊúçÂä°Âô®ÔºåÂÜçÈÄöËøá Web ÁΩëÈ°µÁöÑÈÖçÈΩêÂ∑•ÂÖ∑Ê†πÊçÆÊí≠ÊîæÂô®Êó∂Èó¥ÊèíÂÖ•ÈîöÁÇπ„ÄÇÂú®ÂÖ¨Âè∏ÁΩëÁªú‰∏ãÔºåÁî±‰∫éÂêÑÂÆ∂ÂàÜÂÖ¨Âè∏ÁöÑÁªèËê•ÊÉÖÂÜµ‰∏çÂêåÔºåÂ§ßÊ¶ÇËá≥Â∞ëÈúÄË¶Å 30 ÂàÜÈíüÂà∞ 60 ÂàÜÈíü‰∏çÁ≠â„ÄÇÂØπ‰∫éÈÖçÈΩêÁöÑËÄÅÂ∏àÊù•ËØ¥ÔºåÂú®‰∏ä‰º†Á≠âÂæÖËøôÊÆµÊó∂Èó¥ÊòØÊó†Ê≥ïÂ§ÑÁêÜÂÖ∂‰ªñÂ∑•‰ΩúÁöÑÔºåÂîØÊúâ‰∏ä‰º†ÊàêÂäüÂêéÔºåÊâçËÉΩËøõË°åËßÜÈ¢ëÈÖçÈΩêÁöÑÂ∑•‰Ωú„ÄÇ\n- Â¶ÇÊûú‰∏ªËÆ≤ËÄÅÂ∏àÂú®ËßÜÈ¢ëÈÖçÈΩêÈò∂ÊÆµÂèëÁé∞ËßÜÈ¢ë‰∏≠Âá∫Áé∞ÈîôËØØÊàñÊúâËØæÁ®ãÂÜÖÂÆπÈúÄË¶Å‰øÆÊîπÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅËßÜÈ¢ëÁºñËæëÈÉ®Èó®ÁºñËæëÂêéÔºåÈáçÊñ∞‰∏ä‰º†ÂíåÈÖçÈΩêÔºåÈÇ£‰πà‰πãÂâçÊâÄÂÆåÊàêÁöÑÂ∑•‰ΩúÂ∞±ÈúÄË¶ÅÈáçÊñ∞ÂºÄÂßãÔºåÊï¥‰∏™ÊµÅÁ®ã‰ºöËÆ©ËÄÅÂ∏àÂÅö‰∫ÜÂæàÂ§öÊó†Áî®ÂäüÔºå‰∏îÊ∂àËÄóÂ§ßÈáèÁöÑÊó∂Èó¥„ÄÇ\n\n2. ÁÅµÊ¥ªÂ∫¶ÈúÄÊ±Ç\n\n- ÂÖ®ÂõΩ‰∏çÂêåÁúÅ‰ªΩÂú∞Âå∫ÁöÑÂ≠¶ÁîüÊ∞¥Âπ≥Â≠òÂú®ÁùÄÂ∑ÆË∑ùÔºåËØæÂ†ÇËÄÅÂ∏àÂ∏åÊúõÈÄöËøáÂ¢ûÂä†ÈôÑÂä†È¢ò„ÄÅÁôΩÊùøËÆ≤Ëß£„ÄÅÊãìÂ±ïËÆ≤Ëß£Á≠âÂèØÁÅµÊ¥ªËøêÁî®ÁöÑÁéØËäÇÔºåËÆ©ËØæÂ†ÇËÄÅÂ∏àÊ†πÊçÆËØæÂ†ÇÂÆûÈôÖÊÉÖÂÜµÔºåËá™Ë°åÂÜ≥ÂÆöÊòØÂê¶Êí≠ÊîæÁõ∏ÂÖ≥ÁöÑÁâáÊÆµ„ÄÇ\n\nÊúÄÁªà‰∫ßÂìÅÊèêÂá∫‰∏äËø∞ÈúÄÊ±ÇÁöÑËß£ÂÜ≥ÊñπÊ°àÔºöÂàÜÊÆµ‰∏ä‰º† + Ëá™Áî±ÁªÑÂêà„ÄÇ\n\n<!-- more -->\n\n‰∏ãÂõæ‰∏∫ÂéüÁâà AI ÂΩïÊí≠ËØæËßÜÈ¢ëÈÖçÈΩêÂ∑•ÂÖ∑\n\n![web-video-editor-img1](https://img.mrsingsing.com/web-video-editor-img1.png)\n\n‰ªé‰∏äÂõæÂèØËßÅÂéüÁâàÁöÑÈÖçÂô®Â∑•ÂÖ∑Áõ∏ÂØπÊØîËæÉÁÆÄÈôãÔºåÈÄöËøáÊí≠ÊîæÂô®ËøõÂ∫¶ÊåáÈíàÁöÑ‰ΩçÁΩÆÊèíÂÖ•ÈîöÁÇπÔºåÁÑ∂ÂêéÈÄöËøáË°®ÂçïÈÖçÁΩÆÁõ∏ÂÖ≥ÈîöÁÇπÁöÑÁ±ªÂûã„ÄÅÊåÅÁª≠Êó∂Èïø„ÄÅÂÜÖÂÆπÁ≠âÁ≠â„ÄÇ\n\n## Êû∂ÊûÑËÆæËÆ°\n\nÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåAI ÂΩïÊí≠ËØæËßÜÈ¢ëÈÖçÈΩêÂ∑•ÂÖ∑ÁöÑÊï¥‰ΩìÊû∂ÊûÑÁî±‰∏âÈÉ®ÂàÜÁªÑÊàêÔºö\n\n![web-video-editor-infra-1](https://img.mrsingsing.com/web-video-editor-infra-img1.png)\n\n- ÂÆ¢Êà∑Á´ØÔºàÂâçÁ´ØÔºâÔºöË¥üË¥£Áî®Êà∑‰∫§‰∫íÊìç‰ΩúÔºåÂåÖÊã¨ËßÜÈ¢ëÁ¥†ÊùêÂØºÂÖ•„ÄÅËßÜÈ¢ëÂâ™ËæëÂíåÂÆåÊï¥ËßÜÈ¢ëÁöÑÂç≥Êó∂È¢ÑËßà\n- ÊúçÂä°Á´ØÔºàÂêéÁ´ØÔºâÔºöË¥üË¥£ËßÜÈ¢ëÈÖçÁΩÆÊï∞ÊçÆ‰∏éÈõÜÂõ¢ÂÜÖÈÉ®ÂÖ∂‰ªñÊúçÂä°ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÔºå‰ª•Âèä‰∏éÊèê‰æõ‰∫ëÂâ™ËæëÊúçÂä°ÁöÑ‰∫ëÂπ≥Âè∞ËøõË°å‰ªªÂä°Ë∞ÉÂ∫¶\n- ‰∫ëÂπ≥Âè∞ÔºöÊèê‰æõÂü∫Á°ÄÊîØÊíëÔºå‰æãÂ¶ÇËßÜÈ¢ëÊñá‰ª∂Â≠òÂÇ®„ÄÅËßÜÈ¢ëÁºñËß£Á†Å„ÄÅËßÜÈ¢ëÊà™Âõæ„ÄÅËßÜÈ¢ëÂêàÊàê„ÄÅËßÜÈ¢ëÂä†ÂØÜÁ≠âÁ≠â\n\nÂâçÁ´ØÈÉ®ÂàÜÂÆûÈôÖ‰∏äÂè™Êúâ‰∏Ä‰∏™È°µÈù¢ÔºåÁî±‰∏â‰∏™Âå∫ÂüüÁªÑÊàêÔºå‰ΩÜ‰∫ãÂÆû‰∏äÂåÖÂê´ÁöÑÂäüËÉΩÂπ∂‰∏çÂ∞ëÔºö\n\n![web-video-editor-infra-2](https://img.mrsingsing.com/web-video-editor-infra-img2.png)\n\nÊû∂ÊûÑÂíåÂäüËÉΩÈÉΩÁõ∏ÂØπÂ§çÊùÇÔºåÂú®ÂºÄÂèë‰∏≠‰πüÁ°ÆÂÆûÈÅ≠ÈÅá‰∏çÂ∞ëÊ£òÊâãÁöÑÊäÄÊúØÈöæÁÇπÔºå‰∏ã‰∏ÄÁØáÊàëÂ∞ÜËØ¶Ëø∞Ëøô‰∫õÁªÜËäÇÁöÑÂÆûÁé∞„ÄÇ\n\n## ÂèÇËÄÉËµÑÊñô\n\n- [Áà±Â•áËâ∫‰∫ëÂâ™Ëæë Web Á´ØÁöÑÊäÄÊúØÂÆûÁé∞](https://www.infoq.cn/article/M2JR9t57w75MvItd7FF3)\n","source":"_posts/web-video-editor-infra.md","raw":"---\ntitle: ‰∫ëËßÜÈ¢ëÂâ™ËæëÈÖçÈΩêÂ∑•ÂÖ∑ÂÆûË∑µÂ§çÁõòÔºàÊû∂ÊûÑÁØáÔºâ\ndate: '2021-06-06'\n---\n\nÈöèÁùÄ‰∏öÂä°ËßÑÊ®°ÁöÑÊâ©Â§ßÔºå‰∏öÂä°ÊñπÂØπÊèêÈ´òÁîü‰∫ßÊïàÁéáÁöÑÈúÄÊ±ÇÊó•Âä†ÊøÄÁÉà„ÄÇÂ∞§ÂÖ∂Á¨îËÄÖÊâÄÂú®‰∏öÂä°ÈÉ®Èó®Ë¥üË¥£ÁöÑ AI ÂΩïÊí≠ËØæÔºå‰∏ªËÆ≤ËÄÅÂ∏àÈúÄÂú®ËØæÂâçÂØπÂΩïÊí≠ËßÜÈ¢ëËøõË°å‰∏ä‰º†„ÄÅÊ†πÊçÆËØæÁ®ãÂÜÖÂÆπÊèíÂÖ•ÈîöÁÇπÂíåÁºñËæëÁõ∏ÂÖ≥‰∫íÂä®ÁöÑÂÜÖÂÆπÔºåÂõ†Ê≠§Âú®Â§èÂ≠£ËØæÊù•‰∏¥‰πãÂâçÔºåÊàë‰ª¨ÈíàÂØπÁî®Êà∑ÁöÑÁóõÁÇπÊèêÂá∫ÊîπÈÄ†Áé∞ÊúâÁöÑ AI ÂΩïÊí≠ËØæËßÜÈ¢ëÈÖçÈΩêÂ∑•ÂÖ∑„ÄÇ\n\n## ÈúÄÊ±ÇËÉåÊôØ\n\n1. È¢óÁ≤íÂåñÈúÄÊ±Ç\n\n- ËøáÂéª AI ËØæËßÜÈ¢ëÈÉΩÊòØ‰ª•Âçï‰∏™ÂÆåÊï¥ÁöÑËßÜÈ¢ëÔºàÂ§ßÂ∞èÁ∫¶ 4GB Â∑¶Âè≥Ôºâ‰∏ÄÊ¨°ÊÄß‰∏ä‰º†Âà∞‰∫ëÊúçÂä°Âô®ÔºåÂÜçÈÄöËøá Web ÁΩëÈ°µÁöÑÈÖçÈΩêÂ∑•ÂÖ∑Ê†πÊçÆÊí≠ÊîæÂô®Êó∂Èó¥ÊèíÂÖ•ÈîöÁÇπ„ÄÇÂú®ÂÖ¨Âè∏ÁΩëÁªú‰∏ãÔºåÁî±‰∫éÂêÑÂÆ∂ÂàÜÂÖ¨Âè∏ÁöÑÁªèËê•ÊÉÖÂÜµ‰∏çÂêåÔºåÂ§ßÊ¶ÇËá≥Â∞ëÈúÄË¶Å 30 ÂàÜÈíüÂà∞ 60 ÂàÜÈíü‰∏çÁ≠â„ÄÇÂØπ‰∫éÈÖçÈΩêÁöÑËÄÅÂ∏àÊù•ËØ¥ÔºåÂú®‰∏ä‰º†Á≠âÂæÖËøôÊÆµÊó∂Èó¥ÊòØÊó†Ê≥ïÂ§ÑÁêÜÂÖ∂‰ªñÂ∑•‰ΩúÁöÑÔºåÂîØÊúâ‰∏ä‰º†ÊàêÂäüÂêéÔºåÊâçËÉΩËøõË°åËßÜÈ¢ëÈÖçÈΩêÁöÑÂ∑•‰Ωú„ÄÇ\n- Â¶ÇÊûú‰∏ªËÆ≤ËÄÅÂ∏àÂú®ËßÜÈ¢ëÈÖçÈΩêÈò∂ÊÆµÂèëÁé∞ËßÜÈ¢ë‰∏≠Âá∫Áé∞ÈîôËØØÊàñÊúâËØæÁ®ãÂÜÖÂÆπÈúÄË¶Å‰øÆÊîπÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅËßÜÈ¢ëÁºñËæëÈÉ®Èó®ÁºñËæëÂêéÔºåÈáçÊñ∞‰∏ä‰º†ÂíåÈÖçÈΩêÔºåÈÇ£‰πà‰πãÂâçÊâÄÂÆåÊàêÁöÑÂ∑•‰ΩúÂ∞±ÈúÄË¶ÅÈáçÊñ∞ÂºÄÂßãÔºåÊï¥‰∏™ÊµÅÁ®ã‰ºöËÆ©ËÄÅÂ∏àÂÅö‰∫ÜÂæàÂ§öÊó†Áî®ÂäüÔºå‰∏îÊ∂àËÄóÂ§ßÈáèÁöÑÊó∂Èó¥„ÄÇ\n\n2. ÁÅµÊ¥ªÂ∫¶ÈúÄÊ±Ç\n\n- ÂÖ®ÂõΩ‰∏çÂêåÁúÅ‰ªΩÂú∞Âå∫ÁöÑÂ≠¶ÁîüÊ∞¥Âπ≥Â≠òÂú®ÁùÄÂ∑ÆË∑ùÔºåËØæÂ†ÇËÄÅÂ∏àÂ∏åÊúõÈÄöËøáÂ¢ûÂä†ÈôÑÂä†È¢ò„ÄÅÁôΩÊùøËÆ≤Ëß£„ÄÅÊãìÂ±ïËÆ≤Ëß£Á≠âÂèØÁÅµÊ¥ªËøêÁî®ÁöÑÁéØËäÇÔºåËÆ©ËØæÂ†ÇËÄÅÂ∏àÊ†πÊçÆËØæÂ†ÇÂÆûÈôÖÊÉÖÂÜµÔºåËá™Ë°åÂÜ≥ÂÆöÊòØÂê¶Êí≠ÊîæÁõ∏ÂÖ≥ÁöÑÁâáÊÆµ„ÄÇ\n\nÊúÄÁªà‰∫ßÂìÅÊèêÂá∫‰∏äËø∞ÈúÄÊ±ÇÁöÑËß£ÂÜ≥ÊñπÊ°àÔºöÂàÜÊÆµ‰∏ä‰º† + Ëá™Áî±ÁªÑÂêà„ÄÇ\n\n<!-- more -->\n\n‰∏ãÂõæ‰∏∫ÂéüÁâà AI ÂΩïÊí≠ËØæËßÜÈ¢ëÈÖçÈΩêÂ∑•ÂÖ∑\n\n![web-video-editor-img1](https://img.mrsingsing.com/web-video-editor-img1.png)\n\n‰ªé‰∏äÂõæÂèØËßÅÂéüÁâàÁöÑÈÖçÂô®Â∑•ÂÖ∑Áõ∏ÂØπÊØîËæÉÁÆÄÈôãÔºåÈÄöËøáÊí≠ÊîæÂô®ËøõÂ∫¶ÊåáÈíàÁöÑ‰ΩçÁΩÆÊèíÂÖ•ÈîöÁÇπÔºåÁÑ∂ÂêéÈÄöËøáË°®ÂçïÈÖçÁΩÆÁõ∏ÂÖ≥ÈîöÁÇπÁöÑÁ±ªÂûã„ÄÅÊåÅÁª≠Êó∂Èïø„ÄÅÂÜÖÂÆπÁ≠âÁ≠â„ÄÇ\n\n## Êû∂ÊûÑËÆæËÆ°\n\nÂ¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåAI ÂΩïÊí≠ËØæËßÜÈ¢ëÈÖçÈΩêÂ∑•ÂÖ∑ÁöÑÊï¥‰ΩìÊû∂ÊûÑÁî±‰∏âÈÉ®ÂàÜÁªÑÊàêÔºö\n\n![web-video-editor-infra-1](https://img.mrsingsing.com/web-video-editor-infra-img1.png)\n\n- ÂÆ¢Êà∑Á´ØÔºàÂâçÁ´ØÔºâÔºöË¥üË¥£Áî®Êà∑‰∫§‰∫íÊìç‰ΩúÔºåÂåÖÊã¨ËßÜÈ¢ëÁ¥†ÊùêÂØºÂÖ•„ÄÅËßÜÈ¢ëÂâ™ËæëÂíåÂÆåÊï¥ËßÜÈ¢ëÁöÑÂç≥Êó∂È¢ÑËßà\n- ÊúçÂä°Á´ØÔºàÂêéÁ´ØÔºâÔºöË¥üË¥£ËßÜÈ¢ëÈÖçÁΩÆÊï∞ÊçÆ‰∏éÈõÜÂõ¢ÂÜÖÈÉ®ÂÖ∂‰ªñÊúçÂä°ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÔºå‰ª•Âèä‰∏éÊèê‰æõ‰∫ëÂâ™ËæëÊúçÂä°ÁöÑ‰∫ëÂπ≥Âè∞ËøõË°å‰ªªÂä°Ë∞ÉÂ∫¶\n- ‰∫ëÂπ≥Âè∞ÔºöÊèê‰æõÂü∫Á°ÄÊîØÊíëÔºå‰æãÂ¶ÇËßÜÈ¢ëÊñá‰ª∂Â≠òÂÇ®„ÄÅËßÜÈ¢ëÁºñËß£Á†Å„ÄÅËßÜÈ¢ëÊà™Âõæ„ÄÅËßÜÈ¢ëÂêàÊàê„ÄÅËßÜÈ¢ëÂä†ÂØÜÁ≠âÁ≠â\n\nÂâçÁ´ØÈÉ®ÂàÜÂÆûÈôÖ‰∏äÂè™Êúâ‰∏Ä‰∏™È°µÈù¢ÔºåÁî±‰∏â‰∏™Âå∫ÂüüÁªÑÊàêÔºå‰ΩÜ‰∫ãÂÆû‰∏äÂåÖÂê´ÁöÑÂäüËÉΩÂπ∂‰∏çÂ∞ëÔºö\n\n![web-video-editor-infra-2](https://img.mrsingsing.com/web-video-editor-infra-img2.png)\n\nÊû∂ÊûÑÂíåÂäüËÉΩÈÉΩÁõ∏ÂØπÂ§çÊùÇÔºåÂú®ÂºÄÂèë‰∏≠‰πüÁ°ÆÂÆûÈÅ≠ÈÅá‰∏çÂ∞ëÊ£òÊâãÁöÑÊäÄÊúØÈöæÁÇπÔºå‰∏ã‰∏ÄÁØáÊàëÂ∞ÜËØ¶Ëø∞Ëøô‰∫õÁªÜËäÇÁöÑÂÆûÁé∞„ÄÇ\n\n## ÂèÇËÄÉËµÑÊñô\n\n- [Áà±Â•áËâ∫‰∫ëÂâ™Ëæë Web Á´ØÁöÑÊäÄÊúØÂÆûÁé∞](https://www.infoq.cn/article/M2JR9t57w75MvItd7FF3)\n","slug":"web-video-editor-infra","published":1,"updated":"2021-09-29T18:10:28.816Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867nc6000dbmjdz2vbret5","content":"<p>ÈöèÁùÄ‰∏öÂä°ËßÑÊ®°ÁöÑÊâ©Â§ßÔºå‰∏öÂä°ÊñπÂØπÊèêÈ´òÁîü‰∫ßÊïàÁéáÁöÑÈúÄÊ±ÇÊó•Âä†ÊøÄÁÉà„ÄÇÂ∞§ÂÖ∂Á¨îËÄÖÊâÄÂú®‰∏öÂä°ÈÉ®Èó®Ë¥üË¥£ÁöÑ AI ÂΩïÊí≠ËØæÔºå‰∏ªËÆ≤ËÄÅÂ∏àÈúÄÂú®ËØæÂâçÂØπÂΩïÊí≠ËßÜÈ¢ëËøõË°å‰∏ä‰º†„ÄÅÊ†πÊçÆËØæÁ®ãÂÜÖÂÆπÊèíÂÖ•ÈîöÁÇπÂíåÁºñËæëÁõ∏ÂÖ≥‰∫íÂä®ÁöÑÂÜÖÂÆπÔºåÂõ†Ê≠§Âú®Â§èÂ≠£ËØæÊù•‰∏¥‰πãÂâçÔºåÊàë‰ª¨ÈíàÂØπÁî®Êà∑ÁöÑÁóõÁÇπÊèêÂá∫ÊîπÈÄ†Áé∞ÊúâÁöÑ AI ÂΩïÊí≠ËØæËßÜÈ¢ëÈÖçÈΩêÂ∑•ÂÖ∑„ÄÇ</p>\n<h2 id=\"ÈúÄÊ±ÇËÉåÊôØ\"><a href=\"#ÈúÄÊ±ÇËÉåÊôØ\" class=\"headerlink\" title=\"ÈúÄÊ±ÇËÉåÊôØ\"></a>ÈúÄÊ±ÇËÉåÊôØ</h2><ol>\n<li>È¢óÁ≤íÂåñÈúÄÊ±Ç</li>\n</ol>\n<ul>\n<li>ËøáÂéª AI ËØæËßÜÈ¢ëÈÉΩÊòØ‰ª•Âçï‰∏™ÂÆåÊï¥ÁöÑËßÜÈ¢ëÔºàÂ§ßÂ∞èÁ∫¶ 4GB Â∑¶Âè≥Ôºâ‰∏ÄÊ¨°ÊÄß‰∏ä‰º†Âà∞‰∫ëÊúçÂä°Âô®ÔºåÂÜçÈÄöËøá Web ÁΩëÈ°µÁöÑÈÖçÈΩêÂ∑•ÂÖ∑Ê†πÊçÆÊí≠ÊîæÂô®Êó∂Èó¥ÊèíÂÖ•ÈîöÁÇπ„ÄÇÂú®ÂÖ¨Âè∏ÁΩëÁªú‰∏ãÔºåÁî±‰∫éÂêÑÂÆ∂ÂàÜÂÖ¨Âè∏ÁöÑÁªèËê•ÊÉÖÂÜµ‰∏çÂêåÔºåÂ§ßÊ¶ÇËá≥Â∞ëÈúÄË¶Å 30 ÂàÜÈíüÂà∞ 60 ÂàÜÈíü‰∏çÁ≠â„ÄÇÂØπ‰∫éÈÖçÈΩêÁöÑËÄÅÂ∏àÊù•ËØ¥ÔºåÂú®‰∏ä‰º†Á≠âÂæÖËøôÊÆµÊó∂Èó¥ÊòØÊó†Ê≥ïÂ§ÑÁêÜÂÖ∂‰ªñÂ∑•‰ΩúÁöÑÔºåÂîØÊúâ‰∏ä‰º†ÊàêÂäüÂêéÔºåÊâçËÉΩËøõË°åËßÜÈ¢ëÈÖçÈΩêÁöÑÂ∑•‰Ωú„ÄÇ</li>\n<li>Â¶ÇÊûú‰∏ªËÆ≤ËÄÅÂ∏àÂú®ËßÜÈ¢ëÈÖçÈΩêÈò∂ÊÆµÂèëÁé∞ËßÜÈ¢ë‰∏≠Âá∫Áé∞ÈîôËØØÊàñÊúâËØæÁ®ãÂÜÖÂÆπÈúÄË¶Å‰øÆÊîπÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅËßÜÈ¢ëÁºñËæëÈÉ®Èó®ÁºñËæëÂêéÔºåÈáçÊñ∞‰∏ä‰º†ÂíåÈÖçÈΩêÔºåÈÇ£‰πà‰πãÂâçÊâÄÂÆåÊàêÁöÑÂ∑•‰ΩúÂ∞±ÈúÄË¶ÅÈáçÊñ∞ÂºÄÂßãÔºåÊï¥‰∏™ÊµÅÁ®ã‰ºöËÆ©ËÄÅÂ∏àÂÅö‰∫ÜÂæàÂ§öÊó†Áî®ÂäüÔºå‰∏îÊ∂àËÄóÂ§ßÈáèÁöÑÊó∂Èó¥„ÄÇ</li>\n</ul>\n<ol start=\"2\">\n<li>ÁÅµÊ¥ªÂ∫¶ÈúÄÊ±Ç</li>\n</ol>\n<ul>\n<li>ÂÖ®ÂõΩ‰∏çÂêåÁúÅ‰ªΩÂú∞Âå∫ÁöÑÂ≠¶ÁîüÊ∞¥Âπ≥Â≠òÂú®ÁùÄÂ∑ÆË∑ùÔºåËØæÂ†ÇËÄÅÂ∏àÂ∏åÊúõÈÄöËøáÂ¢ûÂä†ÈôÑÂä†È¢ò„ÄÅÁôΩÊùøËÆ≤Ëß£„ÄÅÊãìÂ±ïËÆ≤Ëß£Á≠âÂèØÁÅµÊ¥ªËøêÁî®ÁöÑÁéØËäÇÔºåËÆ©ËØæÂ†ÇËÄÅÂ∏àÊ†πÊçÆËØæÂ†ÇÂÆûÈôÖÊÉÖÂÜµÔºåËá™Ë°åÂÜ≥ÂÆöÊòØÂê¶Êí≠ÊîæÁõ∏ÂÖ≥ÁöÑÁâáÊÆµ„ÄÇ</li>\n</ul>\n<p>ÊúÄÁªà‰∫ßÂìÅÊèêÂá∫‰∏äËø∞ÈúÄÊ±ÇÁöÑËß£ÂÜ≥ÊñπÊ°àÔºöÂàÜÊÆµ‰∏ä‰º† + Ëá™Áî±ÁªÑÂêà„ÄÇ</p>\n<a id=\"more\"></a>\n<p>‰∏ãÂõæ‰∏∫ÂéüÁâà AI ÂΩïÊí≠ËØæËßÜÈ¢ëÈÖçÈΩêÂ∑•ÂÖ∑</p>\n<p><img src=\"https://img.mrsingsing.com/web-video-editor-img1.png\" alt=\"web-video-editor-img1\"></p>\n<p>‰ªé‰∏äÂõæÂèØËßÅÂéüÁâàÁöÑÈÖçÂô®Â∑•ÂÖ∑Áõ∏ÂØπÊØîËæÉÁÆÄÈôãÔºåÈÄöËøáÊí≠ÊîæÂô®ËøõÂ∫¶ÊåáÈíàÁöÑ‰ΩçÁΩÆÊèíÂÖ•ÈîöÁÇπÔºåÁÑ∂ÂêéÈÄöËøáË°®ÂçïÈÖçÁΩÆÁõ∏ÂÖ≥ÈîöÁÇπÁöÑÁ±ªÂûã„ÄÅÊåÅÁª≠Êó∂Èïø„ÄÅÂÜÖÂÆπÁ≠âÁ≠â„ÄÇ</p>\n<h2 id=\"Êû∂ÊûÑËÆæËÆ°\"><a href=\"#Êû∂ÊûÑËÆæËÆ°\" class=\"headerlink\" title=\"Êû∂ÊûÑËÆæËÆ°\"></a>Êû∂ÊûÑËÆæËÆ°</h2><p>Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåAI ÂΩïÊí≠ËØæËßÜÈ¢ëÈÖçÈΩêÂ∑•ÂÖ∑ÁöÑÊï¥‰ΩìÊû∂ÊûÑÁî±‰∏âÈÉ®ÂàÜÁªÑÊàêÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/web-video-editor-infra-img1.png\" alt=\"web-video-editor-infra-1\"></p>\n<ul>\n<li>ÂÆ¢Êà∑Á´ØÔºàÂâçÁ´ØÔºâÔºöË¥üË¥£Áî®Êà∑‰∫§‰∫íÊìç‰ΩúÔºåÂåÖÊã¨ËßÜÈ¢ëÁ¥†ÊùêÂØºÂÖ•„ÄÅËßÜÈ¢ëÂâ™ËæëÂíåÂÆåÊï¥ËßÜÈ¢ëÁöÑÂç≥Êó∂È¢ÑËßà</li>\n<li>ÊúçÂä°Á´ØÔºàÂêéÁ´ØÔºâÔºöË¥üË¥£ËßÜÈ¢ëÈÖçÁΩÆÊï∞ÊçÆ‰∏éÈõÜÂõ¢ÂÜÖÈÉ®ÂÖ∂‰ªñÊúçÂä°ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÔºå‰ª•Âèä‰∏éÊèê‰æõ‰∫ëÂâ™ËæëÊúçÂä°ÁöÑ‰∫ëÂπ≥Âè∞ËøõË°å‰ªªÂä°Ë∞ÉÂ∫¶</li>\n<li>‰∫ëÂπ≥Âè∞ÔºöÊèê‰æõÂü∫Á°ÄÊîØÊíëÔºå‰æãÂ¶ÇËßÜÈ¢ëÊñá‰ª∂Â≠òÂÇ®„ÄÅËßÜÈ¢ëÁºñËß£Á†Å„ÄÅËßÜÈ¢ëÊà™Âõæ„ÄÅËßÜÈ¢ëÂêàÊàê„ÄÅËßÜÈ¢ëÂä†ÂØÜÁ≠âÁ≠â</li>\n</ul>\n<p>ÂâçÁ´ØÈÉ®ÂàÜÂÆûÈôÖ‰∏äÂè™Êúâ‰∏Ä‰∏™È°µÈù¢ÔºåÁî±‰∏â‰∏™Âå∫ÂüüÁªÑÊàêÔºå‰ΩÜ‰∫ãÂÆû‰∏äÂåÖÂê´ÁöÑÂäüËÉΩÂπ∂‰∏çÂ∞ëÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/web-video-editor-infra-img2.png\" alt=\"web-video-editor-infra-2\"></p>\n<p>Êû∂ÊûÑÂíåÂäüËÉΩÈÉΩÁõ∏ÂØπÂ§çÊùÇÔºåÂú®ÂºÄÂèë‰∏≠‰πüÁ°ÆÂÆûÈÅ≠ÈÅá‰∏çÂ∞ëÊ£òÊâãÁöÑÊäÄÊúØÈöæÁÇπÔºå‰∏ã‰∏ÄÁØáÊàëÂ∞ÜËØ¶Ëø∞Ëøô‰∫õÁªÜËäÇÁöÑÂÆûÁé∞„ÄÇ</p>\n<h2 id=\"ÂèÇËÄÉËµÑÊñô\"><a href=\"#ÂèÇËÄÉËµÑÊñô\" class=\"headerlink\" title=\"ÂèÇËÄÉËµÑÊñô\"></a>ÂèÇËÄÉËµÑÊñô</h2><ul>\n<li><a href=\"https://www.infoq.cn/article/M2JR9t57w75MvItd7FF3\" target=\"_blank\" rel=\"noopener\">Áà±Â•áËâ∫‰∫ëÂâ™Ëæë Web Á´ØÁöÑÊäÄÊúØÂÆûÁé∞</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>ÈöèÁùÄ‰∏öÂä°ËßÑÊ®°ÁöÑÊâ©Â§ßÔºå‰∏öÂä°ÊñπÂØπÊèêÈ´òÁîü‰∫ßÊïàÁéáÁöÑÈúÄÊ±ÇÊó•Âä†ÊøÄÁÉà„ÄÇÂ∞§ÂÖ∂Á¨îËÄÖÊâÄÂú®‰∏öÂä°ÈÉ®Èó®Ë¥üË¥£ÁöÑ AI ÂΩïÊí≠ËØæÔºå‰∏ªËÆ≤ËÄÅÂ∏àÈúÄÂú®ËØæÂâçÂØπÂΩïÊí≠ËßÜÈ¢ëËøõË°å‰∏ä‰º†„ÄÅÊ†πÊçÆËØæÁ®ãÂÜÖÂÆπÊèíÂÖ•ÈîöÁÇπÂíåÁºñËæëÁõ∏ÂÖ≥‰∫íÂä®ÁöÑÂÜÖÂÆπÔºåÂõ†Ê≠§Âú®Â§èÂ≠£ËØæÊù•‰∏¥‰πãÂâçÔºåÊàë‰ª¨ÈíàÂØπÁî®Êà∑ÁöÑÁóõÁÇπÊèêÂá∫ÊîπÈÄ†Áé∞ÊúâÁöÑ AI ÂΩïÊí≠ËØæËßÜÈ¢ëÈÖçÈΩêÂ∑•ÂÖ∑„ÄÇ</p>\n<h2 id=\"ÈúÄÊ±ÇËÉåÊôØ\"><a href=\"#ÈúÄÊ±ÇËÉåÊôØ\" class=\"headerlink\" title=\"ÈúÄÊ±ÇËÉåÊôØ\"></a>ÈúÄÊ±ÇËÉåÊôØ</h2><ol>\n<li>È¢óÁ≤íÂåñÈúÄÊ±Ç</li>\n</ol>\n<ul>\n<li>ËøáÂéª AI ËØæËßÜÈ¢ëÈÉΩÊòØ‰ª•Âçï‰∏™ÂÆåÊï¥ÁöÑËßÜÈ¢ëÔºàÂ§ßÂ∞èÁ∫¶ 4GB Â∑¶Âè≥Ôºâ‰∏ÄÊ¨°ÊÄß‰∏ä‰º†Âà∞‰∫ëÊúçÂä°Âô®ÔºåÂÜçÈÄöËøá Web ÁΩëÈ°µÁöÑÈÖçÈΩêÂ∑•ÂÖ∑Ê†πÊçÆÊí≠ÊîæÂô®Êó∂Èó¥ÊèíÂÖ•ÈîöÁÇπ„ÄÇÂú®ÂÖ¨Âè∏ÁΩëÁªú‰∏ãÔºåÁî±‰∫éÂêÑÂÆ∂ÂàÜÂÖ¨Âè∏ÁöÑÁªèËê•ÊÉÖÂÜµ‰∏çÂêåÔºåÂ§ßÊ¶ÇËá≥Â∞ëÈúÄË¶Å 30 ÂàÜÈíüÂà∞ 60 ÂàÜÈíü‰∏çÁ≠â„ÄÇÂØπ‰∫éÈÖçÈΩêÁöÑËÄÅÂ∏àÊù•ËØ¥ÔºåÂú®‰∏ä‰º†Á≠âÂæÖËøôÊÆµÊó∂Èó¥ÊòØÊó†Ê≥ïÂ§ÑÁêÜÂÖ∂‰ªñÂ∑•‰ΩúÁöÑÔºåÂîØÊúâ‰∏ä‰º†ÊàêÂäüÂêéÔºåÊâçËÉΩËøõË°åËßÜÈ¢ëÈÖçÈΩêÁöÑÂ∑•‰Ωú„ÄÇ</li>\n<li>Â¶ÇÊûú‰∏ªËÆ≤ËÄÅÂ∏àÂú®ËßÜÈ¢ëÈÖçÈΩêÈò∂ÊÆµÂèëÁé∞ËßÜÈ¢ë‰∏≠Âá∫Áé∞ÈîôËØØÊàñÊúâËØæÁ®ãÂÜÖÂÆπÈúÄË¶Å‰øÆÊîπÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅËßÜÈ¢ëÁºñËæëÈÉ®Èó®ÁºñËæëÂêéÔºåÈáçÊñ∞‰∏ä‰º†ÂíåÈÖçÈΩêÔºåÈÇ£‰πà‰πãÂâçÊâÄÂÆåÊàêÁöÑÂ∑•‰ΩúÂ∞±ÈúÄË¶ÅÈáçÊñ∞ÂºÄÂßãÔºåÊï¥‰∏™ÊµÅÁ®ã‰ºöËÆ©ËÄÅÂ∏àÂÅö‰∫ÜÂæàÂ§öÊó†Áî®ÂäüÔºå‰∏îÊ∂àËÄóÂ§ßÈáèÁöÑÊó∂Èó¥„ÄÇ</li>\n</ul>\n<ol start=\"2\">\n<li>ÁÅµÊ¥ªÂ∫¶ÈúÄÊ±Ç</li>\n</ol>\n<ul>\n<li>ÂÖ®ÂõΩ‰∏çÂêåÁúÅ‰ªΩÂú∞Âå∫ÁöÑÂ≠¶ÁîüÊ∞¥Âπ≥Â≠òÂú®ÁùÄÂ∑ÆË∑ùÔºåËØæÂ†ÇËÄÅÂ∏àÂ∏åÊúõÈÄöËøáÂ¢ûÂä†ÈôÑÂä†È¢ò„ÄÅÁôΩÊùøËÆ≤Ëß£„ÄÅÊãìÂ±ïËÆ≤Ëß£Á≠âÂèØÁÅµÊ¥ªËøêÁî®ÁöÑÁéØËäÇÔºåËÆ©ËØæÂ†ÇËÄÅÂ∏àÊ†πÊçÆËØæÂ†ÇÂÆûÈôÖÊÉÖÂÜµÔºåËá™Ë°åÂÜ≥ÂÆöÊòØÂê¶Êí≠ÊîæÁõ∏ÂÖ≥ÁöÑÁâáÊÆµ„ÄÇ</li>\n</ul>\n<p>ÊúÄÁªà‰∫ßÂìÅÊèêÂá∫‰∏äËø∞ÈúÄÊ±ÇÁöÑËß£ÂÜ≥ÊñπÊ°àÔºöÂàÜÊÆµ‰∏ä‰º† + Ëá™Áî±ÁªÑÂêà„ÄÇ</p>","more":"<p>‰∏ãÂõæ‰∏∫ÂéüÁâà AI ÂΩïÊí≠ËØæËßÜÈ¢ëÈÖçÈΩêÂ∑•ÂÖ∑</p>\n<p><img src=\"https://img.mrsingsing.com/web-video-editor-img1.png\" alt=\"web-video-editor-img1\"></p>\n<p>‰ªé‰∏äÂõæÂèØËßÅÂéüÁâàÁöÑÈÖçÂô®Â∑•ÂÖ∑Áõ∏ÂØπÊØîËæÉÁÆÄÈôãÔºåÈÄöËøáÊí≠ÊîæÂô®ËøõÂ∫¶ÊåáÈíàÁöÑ‰ΩçÁΩÆÊèíÂÖ•ÈîöÁÇπÔºåÁÑ∂ÂêéÈÄöËøáË°®ÂçïÈÖçÁΩÆÁõ∏ÂÖ≥ÈîöÁÇπÁöÑÁ±ªÂûã„ÄÅÊåÅÁª≠Êó∂Èïø„ÄÅÂÜÖÂÆπÁ≠âÁ≠â„ÄÇ</p>\n<h2 id=\"Êû∂ÊûÑËÆæËÆ°\"><a href=\"#Êû∂ÊûÑËÆæËÆ°\" class=\"headerlink\" title=\"Êû∂ÊûÑËÆæËÆ°\"></a>Êû∂ÊûÑËÆæËÆ°</h2><p>Â¶Ç‰∏ãÂõæÊâÄÁ§∫ÔºåAI ÂΩïÊí≠ËØæËßÜÈ¢ëÈÖçÈΩêÂ∑•ÂÖ∑ÁöÑÊï¥‰ΩìÊû∂ÊûÑÁî±‰∏âÈÉ®ÂàÜÁªÑÊàêÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/web-video-editor-infra-img1.png\" alt=\"web-video-editor-infra-1\"></p>\n<ul>\n<li>ÂÆ¢Êà∑Á´ØÔºàÂâçÁ´ØÔºâÔºöË¥üË¥£Áî®Êà∑‰∫§‰∫íÊìç‰ΩúÔºåÂåÖÊã¨ËßÜÈ¢ëÁ¥†ÊùêÂØºÂÖ•„ÄÅËßÜÈ¢ëÂâ™ËæëÂíåÂÆåÊï¥ËßÜÈ¢ëÁöÑÂç≥Êó∂È¢ÑËßà</li>\n<li>ÊúçÂä°Á´ØÔºàÂêéÁ´ØÔºâÔºöË¥üË¥£ËßÜÈ¢ëÈÖçÁΩÆÊï∞ÊçÆ‰∏éÈõÜÂõ¢ÂÜÖÈÉ®ÂÖ∂‰ªñÊúçÂä°ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÔºå‰ª•Âèä‰∏éÊèê‰æõ‰∫ëÂâ™ËæëÊúçÂä°ÁöÑ‰∫ëÂπ≥Âè∞ËøõË°å‰ªªÂä°Ë∞ÉÂ∫¶</li>\n<li>‰∫ëÂπ≥Âè∞ÔºöÊèê‰æõÂü∫Á°ÄÊîØÊíëÔºå‰æãÂ¶ÇËßÜÈ¢ëÊñá‰ª∂Â≠òÂÇ®„ÄÅËßÜÈ¢ëÁºñËß£Á†Å„ÄÅËßÜÈ¢ëÊà™Âõæ„ÄÅËßÜÈ¢ëÂêàÊàê„ÄÅËßÜÈ¢ëÂä†ÂØÜÁ≠âÁ≠â</li>\n</ul>\n<p>ÂâçÁ´ØÈÉ®ÂàÜÂÆûÈôÖ‰∏äÂè™Êúâ‰∏Ä‰∏™È°µÈù¢ÔºåÁî±‰∏â‰∏™Âå∫ÂüüÁªÑÊàêÔºå‰ΩÜ‰∫ãÂÆû‰∏äÂåÖÂê´ÁöÑÂäüËÉΩÂπ∂‰∏çÂ∞ëÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/web-video-editor-infra-img2.png\" alt=\"web-video-editor-infra-2\"></p>\n<p>Êû∂ÊûÑÂíåÂäüËÉΩÈÉΩÁõ∏ÂØπÂ§çÊùÇÔºåÂú®ÂºÄÂèë‰∏≠‰πüÁ°ÆÂÆûÈÅ≠ÈÅá‰∏çÂ∞ëÊ£òÊâãÁöÑÊäÄÊúØÈöæÁÇπÔºå‰∏ã‰∏ÄÁØáÊàëÂ∞ÜËØ¶Ëø∞Ëøô‰∫õÁªÜËäÇÁöÑÂÆûÁé∞„ÄÇ</p>\n<h2 id=\"ÂèÇËÄÉËµÑÊñô\"><a href=\"#ÂèÇËÄÉËµÑÊñô\" class=\"headerlink\" title=\"ÂèÇËÄÉËµÑÊñô\"></a>ÂèÇËÄÉËµÑÊñô</h2><ul>\n<li><a href=\"https://www.infoq.cn/article/M2JR9t57w75MvItd7FF3\" target=\"_blank\" rel=\"noopener\">Áà±Â•áËâ∫‰∫ëÂâ™Ëæë Web Á´ØÁöÑÊäÄÊúØÂÆûÁé∞</a></li>\n</ul>"},{"title":"‰∫ëËßÜÈ¢ëÂâ™ËæëÈÖçÈΩêÂ∑•ÂÖ∑ÂÆûË∑µÂ§çÁõòÔºàÂÆûÁé∞ÁØáÔºâ","date":"2021-06-12T00:00:00.000Z","_content":"\n‰∏äÁØá‰ªãÁªç‰∫Ü‰∫ëËßÜÈ¢ëÂâ™ËæëÈÖçÈΩêÂ∑•ÂÖ∑ÁöÑÊäÄÊúØÊû∂ÊûÑÔºåÂØπÊï¥‰∏™È°πÁõÆÁöÑÊûÑÊàêÊúâ‰∫ÜÂ§ßËá¥ÁöÑ‰∫ÜËß£ÔºåÊú¨ÊñáÂ∞Ü‰ªãÁªçÂú®ÂÆûÁé∞ËØ•Á≥ªÁªüÁöÑÂâçÁ´ØÊäÄÊúØÈöæÁÇπÂèäËß£ÂÜ≥ÊñπÊ°à„ÄÇ\n\n> ËØ•È°πÁõÆÂü∫‰∫éÈõÜÂõ¢ÂÜÖÈÉ®ÁöÑÂπ≥Âè∞ÂÆûË∑µÔºåÂâçÁ´ØÊ°ÜÊû∂‰ΩøÁî® Angular ÂÆûÁé∞ÔºåÊâÄ‰ª•‰ª£Á†ÅÁ§∫‰æã‰∏∫ Angular Ê°ÜÊû∂ËØ≠Ê≥ï„ÄÇ\n\n## ‰∏ä‰º†ËßÜÈ¢ë\n\nÂ∏∏ËßÅÁöÑ‰∏ä‰º†ËßÜÈ¢ëÊñπÂºèÊúâ‰∏§ÁßçÔºöÁî®Êà∑ÈÄöËøáË°®ÂçïÊâìÂºÄÊñá‰ª∂ÈÄâÊã©Âô®ÈÄâÊã©ÈúÄË¶Å‰∏ä‰º†ÁöÑÊñá‰ª∂ÂíåÁõ¥Êé•ÊãñÊãΩÊñá‰ª∂Âà∞ Web È°µÈù¢ÁöÑÊåáÂÆöÂå∫ÂüüÔºåWeb Â∫îÁî®Ê£ÄÊµãÂèØÂæóÂØπÂ∫îËßÜÈ¢ëÊñá‰ª∂ÁöÑÂÜÖÂÆπ„ÄÇ\n\n### ÈÄâÊã©Êñá‰ª∂‰∏ä‰º†\n\n‰º™‰ª£Á†ÅÂÆûÁé∞Ôºö\n\n```html\n<input multiple type=\"file\" accept=\"video/mp4\" (change)=\"handleVideoMaterialUpload\" />\n```\n\n```js\nimport axios from 'axios';\n\nfunction handleUpload(e) {\n  const uploadUrl = 'https://upload-url.com/';\n  const fileList = e.target.files;\n\n  // ‰∏ä‰º†ÂâçÊ†°È™å\n  // do something\n\n  // do something ‰∏ä‰º†Âà∞ÊåáÂÆöÊúçÂä°\n  const formData = new FormData();\n\n  formData.append('file', filesList[0]);\n\n  axios\n    .post(uploadUrl, formData)\n    .then(res => {\n      console.log('‰∏ä‰º†ÊàêÂäü', res);\n    })\n    .catch(err => {\n      console.log('‰∏ä‰º†Â§±Ë¥•', err);\n    });\n}\n```\n\nÂú®‰∏ä‰º†ËßÜÈ¢ëÊñá‰ª∂Ââç‰∏ç‰ªÖË¶ÅÊ£ÄÊµãËßÜÈ¢ëÊñá‰ª∂ÁöÑÁ±ªÂûã„ÄÅÂ§ßÂ∞èÁ≠âÂü∫Á°Ä‰ø°ÊÅØÔºåËøòË¶ÅÂØπËßÜÈ¢ëÊñá‰ª∂ËøõË°åÂèØÊí≠ÊîæÊÄßÊ£ÄÊµãÔºåÂπ∂‰∏îÂú®Ê£ÄÊµãËøáÁ®ã‰∏≠Ëé∑ÂèñËßÜÈ¢ëÊñá‰ª∂Êó∂Èïø„ÄÅÂ∞ÅÈù¢Á≠âÂÜçÂêéÁª≠ÊµÅÁ®ã‰∏≠‰ΩøÁî®Âà∞ÁöÑ‰ø°ÊÅØÔºàËØ•ÈÉ®ÂàÜÂÆûÁé∞ËØ∑Áúã‰∏ãÊñáÁ´†ËäÇÔºâÔºåÊ£ÄÊµãÂêåËøáÂêéÊ∑ªÂä†Âà∞Ëß£ÊûêÈòüÂàó„ÄÇ\n\n<!-- more -->\n\n### ÊãñÊãΩÊñá‰ª∂‰∏ä‰º†\n\nÈÄöËøáÁõëÂê¨ÊåáÂÆöÂå∫ÂüüÁöÑ `dragOver` Âíå `drop` ‰∫ã‰ª∂ÔºåËÉΩÈÄöËøáÂÖ•ÂèÇÂ±ûÊÄß `e.dataTransfer` Ëé∑ÂèñÁî®Êà∑ÊâÄÊãñÊãΩÁöÑÊñá‰ª∂ÂØπË±°ÔºåÂêéÁª≠ÁöÑÊìç‰Ωú‰∏éÈÄâÊã©Êñá‰ª∂‰∏ä‰º†ÈÉ®ÂàÜ‰∏ÄËá¥„ÄÇ\n\n```html\n<div class=\"drag-area\" (dragOver)=\"onDragOver\" (drop)=\"onDrop\"></div>\n```\n\n```js\nfunction onDragOver(e) {\n  const fileList = e.dataTransfer.files;\n\n  // do something ÂêéÈù¢ÁöÑÊµÅÁ®ãÂèÇËÄÉ„ÄåÈÄâÊã©Êñá‰ª∂‰∏ä‰º†„Äç\n}\n```\n\n‰∏§ÁßçÊñπÂºèÁöÑÂ§ÑÁêÜÈÄªËæëÂü∫Êú¨‰∏ÄËá¥ÔºåÂè™ÊòØÁî®Êà∑‰∫§‰∫íÊñπÂºè‰∏ç‰∏ÄÊ†∑ÔºåÈöæÂ∫¶ÊØîËæÉÂ∞è„ÄÇ\n\n### ‰∏ä‰º†ËßÜÈ¢ëÊúÄ‰Ω≥ÂÆûË∑µ\n\n‰ºÅ‰∏öÂÜÖÈÉ®‰∫åËøõÂà∂Êñá‰ª∂Êï∞ÊçÆ‰∏ÄËà¨ÈÉΩÁî±‰∫ëÊúçÂä°Êèê‰æõÁöÑÂØπË±°Â≠òÂÇ®ÊúçÂä°Ë¥üË¥£Â≠òÂÇ®ÔºåÊØîÂ¶Ç [ÈòøÈáå‰∫ë ÂØπË±°Â≠òÂÇ® OSS](https://help.aliyun.com/product/31815.html)„ÄÅ[ËÖæËÆØ‰∫ë ÂØπË±°Â≠òÂÇ® COS](https://cloud.tencent.com/document/product/436)ÔºåËøôÈúÄË¶Å‰ºÅ‰∏öË¥≠‰π∞‰ΩøÁî®„ÄÇËøô‰∫õÂØπË±°Â≠òÂÇ®ÁöÑ‰∏ä‰º†ÂÆûÁé∞ÊñπÂºèÊúâÂ§öÁßçÔºåÊÉ≥‰∫ÜËß£Êõ¥ËØ¶ÁªÜÁöÑÂÜÖÂÆπÂèØ‰ª•ÁÇπÂáª‰∏äËø∞ËøûÊé•„ÄÇ\n\nÊàë‰ª¨ÂÜÖÈÉ®‰ΩøÁî®ÁöÑÊòØÈòøÈáå‰∫ëÁöÑ OSS ÂØπË±°Â≠òÂÇ®ÊúçÂä°ÔºåÁÆÄË¶ÅÊµÅÁ®ãÂ∞±ÊòØÂâçÁ´ØÈÄöËøáÂêéÁ´ØÊé•Âè£Ëé∑ÂèñÈòøÈáå‰∫ë OSS ‰∏ä‰º†Âá≠ËØÅÔºåÈÄöËøá‰∏ä‰º†Âá≠ËØÅÁõ¥Êé•ËÆ≤Êñá‰ª∂‰∏ä‰º†Âà∞ OSS ÊúçÂä°„ÄÇ\n\n![upload-swim](https://img.mrsingsing.com/upload-swim.jpg)\n\n## Èü≥ËßÜÈ¢ëÊñá‰ª∂‰ø°ÊÅØ\n\nËé∑ÂèñËßÜÈ¢ëÊñá‰ª∂ÂêéÔºåÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®Êèê‰æõÁöÑ `window.URL.createObjectURL` ÁîüÊàêËßÜÈ¢ëÊñá‰ª∂ÁöÑ Blob ÂºïÁî®Âú∞ÂùÄÔºåÂú®È°µÈù¢ÂàõÂª∫Âπ∂ÊåÇËΩΩ `<video>` Ê†áÁ≠æÔºå ËØªÂèñÂÜÖÂ≠ò‰∏≠ÁöÑËßÜÈ¢ëÊñá‰ª∂ÔºåÂΩì `video` ÂÆû‰æãËß¶Âèë `canplay` ‰∫ã‰ª∂ÂêéÂàõÂª∫ Canvas ÁîªÂ∏ÉÔºåÊ†πÊçÆËßÜÈ¢ëÊñá‰ª∂ÂÆΩÈ´òÈÄÇÈÖçÁîªÂ∏ÉÂÆΩÈ´òÔºå\n\nÂú® `video.play` Â§ñÂ±ÇÂåÖË£π `try...catch` Â¶ÇÊûúÊä•ÈîôÂàôËØ¥ÊòéËßÜÈ¢ëÊçüÂùè‰∏çÂèØÊí≠ÊîæÔºåÂê¶ÂàôËØ¥ÊòéËßÜÈ¢ëÊúâÊïà„ÄÇ\n\n```js\nconst captureImagePreview = async (videoFile: File) => {\n  return new Promise((resolve, reject) => {\n    \t(async () => {\n        const captureArea = document.getElementById('captureArea');\n      \t// Ë¶ÅÊà™ÂõæÁöÑËßÜÈ¢ë\n      \tconst video = document.createElement('video');\n      \tvideo.muted = true;\n\n    \t\t// ÁîüÊàê blob Âú∞ÂùÄ\n      \tconst blobUrl = window.URL.createObjectURL(videoFile);\n\n      \tvideo.src = blobUrl;\n\n    \t\t// Âú®È¢ÑËÆæÁöÑËäÇÁÇπ‰∏äÊåÇËΩΩ video DOM ËäÇÁÇπ\n      \tcaptureArea.appendChild(video);\n\n    \t\t// ÊåÇËΩΩÂêé‰ºöËá™Âä®Âä†ËΩΩÊú¨Âú∞ÁöÑËßÜÈ¢ëÊñá‰ª∂\n      \tvideo.addEventListener('canplay', e => {\n        \tlet imgHeight = 0,\n            imgWidth = 0,\n            videoWidth = 0,\n            videoHeight = 0;\n        \tconst video: any = e.target;\n\n        // Âà©Áî® Canvas ÂØπËßÜÈ¢ëÊñá‰ª∂ËøõË°åÊà™Â±è\n        const canvas = document.createElement('canvas');\n        const canvasCtx = canvas.getContext('2d');\n        const blobUrl = window.URL.createObjectURL(videoFile);\n\n        // Ëé∑ÂèñÂ±ïÁ§∫ÁöÑ video ÂÆΩÈ´ò‰Ωú‰∏∫ÁîªÂ∏ÉÁöÑÂÆΩÈ´òÂíå‰∏¥Êó∂ËßÜÈ¢ëÊà™ÂõæÁöÑÂÆΩÈ´ò\n        canvas.width = imgWidth = video.offsetWidth;\n        canvas.height = imgHeight = video.offsetHeight;\n\n        // Ëé∑ÂèñÂÆûÈôÖËßÜÈ¢ëÁöÑÂÆΩÈ´òÔºåÁõ∏ÂΩì‰∫éËßÜÈ¢ëÂàÜËæ®Áéá\n        videoWidth = video.videoWidth;\n        videoHeight = video.videoHeight;\n\n        try {\n        \tawait (video as HTMLVideoElement).play();\n        } catch (err) {\n        \tthis.$notification('Ê†ºÂºèÊúâËØØÔºåËØ∑ÈáçÊñ∞‰∏ä‰º†');\n\n          resolve(null);\n          return;\n        }\n\n        video.pause();\n\n        // canvas.drawImage ÊñπÊ≥ïÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÂÖÅËÆ∏ÁöÑÂõæÂÉèÊ∫êÂåÖÊã¨ HTMLVideoElement Á≠â\n        canvasCtx.drawImage(\n          video,\n          imgWidth - videoWidth,\n          (imgHeight - videoHeight) / 2,\n          videoWidth,\n          videoHeight,\n          imgWidth - videoWidth,\n          (imgHeight - videoHeight) / 2,\n          videoWidth,\n          videoHeight,\n        );\n\n        canvas.toBlob(blob => {\n          // ËßÜÈ¢ëÂ∞ÅÈù¢Âõæ\n          const url = URL.createObjectURL(blob);\n\n          const material: Material = {\n            // ËßÜÈ¢ëÊó∂Èïø\n            duration: video.duration,\n            // ËßÜÈ¢ëÂ∞ÅÈù¢Âõæ Blob Âú∞ÂùÄ\n            videoCoverUrl: url,\n            // ËßÜÈ¢ëÊñá‰ª∂Âêç\n            videoName: videoFile.name,\n            // ÁîüÊàê uuid ‰Ωú‰∏∫ videoId\n            videoId: CommonUtils.generateUUID(),\n            // ËßÜÈ¢ëÁä∂ÊÄÅÔºàËß£Êûê‰∏≠Ôºâ\n            status: MaterialStatus.Parse,\n            file: videoFile,\n            // ËßÜÈ¢ëÂ§ßÂ∞è\n            fileSize: videoFile.size,\n            // ÊïôÊùê ID\n            fileId: this.aiMatchBordcastService.fileId,\n            // ËßÜÈ¢ëÊñá‰ª∂ Blob Âú∞ÂùÄ\n            blobUrl: blobUrl,\n            // ÁîüÊàêÊó∂Èó¥\n            createDttm: +new Date(),\n          };\n\n          resolve(material);\n\n          captureArea.removeChild(video);\n      \t})();\n      });\n  })\n}\n```\n\n## Ê∏∏Ê†á\n\nÊ∏∏Ê†áÊòØËßÜÈ¢ëÂâ™ËæëËΩØ‰ª∂‰∏≠Áî®‰∫éËæÖÂä©Áî®Êà∑Âø´ÈÄüÂÆö‰ΩçÔºåÂáèÂ∞ëËØØÊìç‰ΩúÁöÑ‰∏ÄÁßçÊâãÊÆµ„ÄÇÂú®Êàë‰ª¨ÁöÑ‰∫ëËßÜÈ¢ëÂâ™ËæëÈÖçÈΩêÂ∑•ÂÖ∑‰∏≠ËÆæËÆ°ÊèêÂá∫‰∫Ü‰∏âÁßçÂäüËÉΩÁöÑÊ∏∏Ê†áÔºåÂàÜÂà´ÊòØÈ¢ÑËßàÊ∏∏Ê†á„ÄÅÂÆö‰ΩçÊ∏∏Ê†áÂíåÁ£ÅÂê∏Ê∏∏Ê†á„ÄÇ\n\n### ÂÆö‰ΩçÊ∏∏Ê†á\n\n![located-cursor](https://img.mrsingsing.com/located-cursor.gif)\n\nÂÆö‰ΩçÊ∏∏Ê†áÊòØÁî®‰∫éÂÆö‰ΩçËßÜÈ¢ëÊí≠ÊîæÁöÑ‰ΩçÁΩÆ„ÄÅÊèíÂÖ•‰∫íÂä®ÈîöÁÇπÁöÑ‰ΩçÁΩÆÁöÑÊ†áÁöÑÔºåÂÆö‰ΩçÊ∏∏Ê†áÂú®ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑ‰ΩçÁΩÆÂØπÂ∫îÁùÄÂÆåÊï¥ËßÜÈ¢ëÁöÑÊâÄÂú®ÁöÑÊó∂Èó¥ÁÇπÔºåÂêåÊó∂Êí≠ÊîæÂô®ÂëàÁé∞ÁöÑÁîªÈù¢ÈúÄË¶ÅÂÆöÊ†ºÂú®ÂØπÂ∫îÊó∂Èó¥ÁöÑÁîªÈù¢ÔºåËã•Â§Ñ‰∫éÊí≠Êîæ‰∏≠ËøòÈúÄË¶ÅË∑≥ËΩ¨Âà∞ÊåáÂÆöÊó∂Èó¥ÂºÄÂßãÊí≠Êîæ„ÄÇ\n\n‰ªé UI Â±ÇÈù¢Êàñ‰∫§‰∫íÂ±ÇÈù¢‰∏äÁöÑÂÆûÁé∞Êù•ÁúãÈöæÂ∫¶Â∞öÂèØÔºå‰ΩÜÂÖ∂ÂÆûÁúüÊ≠£ÂÆûË∑µ‰∏ãÊù•ÔºåÊúÄÂ§ßÁöÑÊåëÊàòËøòÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜÂ•ΩÂêÑÁßçÈÄöÁü•‰∫ã‰ª∂ÂºïËµ∑Ê∏∏Ê†á‰ΩçÁΩÆÁöÑËÅîÂä®„ÄÇ\n\nÂÆö‰ΩçÊ∏∏Ê†áÂíåÊ∏∏ËßàÊ∏∏Ê†áÂàÜÂà´ÈááÁî®Èº†Ê†áÁÇπÂáª‰∫ã‰ª∂ÂíåÈº†Ê†áÁßªÂä®‰∫ã‰ª∂Ëß¶ÂèëÔºåÂà©Áî®Èº†Ê†á‰∫ã‰ª∂Ëé∑ÂèñÁöÑÊ∞¥Âπ≥ÊñπÂêëÂÅèÁßªÈáèÂèäÂΩìÂâçÊ∏∏Ê†áÂ∞∫ÊØî‰æãËÆ°ÁÆóÂá∫ÂΩìÂâç‰ΩçÁΩÆÂØπÂ∫îÂÆåÊï¥ÂêàÊàêËßÜÈ¢ëÁöÑÊó∂Èó¥„ÄÇ\n\nÂè¶Â§ñ‰∏∫‰∫ÜÂáèÂ∞ëËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑÂõûÊµÅÔºåÈááÁî®ÁªùÂØπÂÆö‰ΩçÂíå transform: translateX() ÁöÑÊñπÂºèÁõ∏ÂØπ‰∫éËΩ®ÈÅìÊªëÂä®Âå∫ÂüüÂºÄÁ´ØËøõË°åÊ∞¥Âπ≥ÊñπÂêëÂÅèÁßª„ÄÇ\n\n```js\nconst CONSTANTS = {\n  /** Ê∏∏Ê†áÂ∞∫Êï¥Êï∞ÂàªÂ∫¶Âç†ÊçÆÁöÑÂÉèÁ¥†ÂÄº */\n  RULER_INTEGER_SPACING: 80,\n  /** Ê†áÁöÑÂÖÉÁ¥†Èó¥Ë∑ùÂÆΩÂ∫¶ */\n  INDICATOR_WIDTH: 30,\n  /** ÂÆö‰ΩçÊ∏∏Ê†áÁöÑÂàùÂßãÂÄº */\n  CURSOR_INITIAL_VALUE: 31,\n};\n\nconst handleLocatedCursoRedirect = ({\n    cursorShift = CONSTANTS.CURSOR_INITIAL_VALUE,\n    duration,\n    frameBeginTime,\n    framework,\n    anchor = null,\n  }) => {\n\t\tif (!cursorShift) return;\n\n    // ËΩ®ÈÅìÁ©∫ÁΩÆÊó∂Ôºå‰∏çËÆæÁΩÆÂÆö‰ΩçÊ∏∏Ê†á\n    if (!this.videoTrackList.length) {\n      this.currentDuration = 0;\n      this.setLocatedCursor = null;\n      this.currentLocatedBeginTime = 0;\n      this.currentLocatedFramework = null;\n      this.currentLocatedAnchor = null;\n\n      this.setLocationInfo();\n\n      return;\n    }\n\n    let currentDuration = 0;\n    // ËÆ°ÁÆóÂΩìÂâçÂÆö‰ΩçÊ∏∏Ê†áÊâÄÂú®ÁöÑÊó∂Èó¥\n    if (CommonUtils.isDefined(duration)) {\n      currentDuration = duration;\n    } else {\n      // Èº†Ê†áÁÇπÂáªÂå∫ÂüüÂØπÂ∫îÁöÑÊó∂Èó¥\n      const mouseDuration =\n        ((((cursorShift - CONSTANTS.CURSOR_INITIAL_VALUE) / CONSTANTS.RULER_INTEGER_SPACING) * this.scaleRatio).toFixed(2) as any) * 1;\n\n      // Ë∂ÖÂá∫ËßÜÈ¢ëÊ°ÜÊû∂Âå∫ÂüüÔºåËá™Âä®ÂÆö‰ΩçÂà∞Ê°ÜÊû∂Âå∫ÂüüÊú´Â∞æ\n      if (mouseDuration >= this.totalDuration) {\n        currentDuration = this.totalDuration;\n        cursorShift =\n          this.lastFrameworkClientRect.left - this.indicatorClientRect.left + this.lastFrameworkClientRect.width;\n      } else {\n        currentDuration = mouseDuration;\n      }\n    }\n\n    // ÂÆö‰ΩçÊ∏∏Ê†áÂΩìÂâçÊó∂Èó¥\n    this.currentDuration = currentDuration;\n\n    // ÂèòÊõ¥ÂÆö‰ΩçÊ∏∏Ê†á‰ΩçÁΩÆ\n    this.setLocatedCursor = cursorShift;\n\n    // Ê†πÊçÆÂÆö‰ΩçÊ∏∏Ê†á‰ΩçÁΩÆËé∑ÂèñÊ∏∏Ê†áÊâÄÂú®Ê°ÜÊû∂Êï∞ÊçÆ„ÄÅÁõ∏ÂØπ‰∫éÊ°ÜÊû∂ÁöÑÂºÄÂßãÊó∂Èó¥ÂíåÈîöÁÇπÊï∞ÊçÆ\n    if (!framework) {\n      try {\n        const { frameBeginTime, frameworkId, anchorId } = this.getFrameworkInfoByDuration(cursorShift);\n\n        this.currentLocatedBeginTime = frameBeginTime;\n        this.currentLocatedFramework = this.videoTrackList.find(item => item.id === frameworkId);\n        this.currentLocatedAnchor = anchorId\n          ? this.videoTrackList.find(item => item.id === frameworkId).dataList.find(item => `${item.id}` === anchorId)\n          : null;\n      } catch (err) {\n        console.log(err);\n      }\n    } else {\n      // ÂΩìÂâçÊ∏∏Ê†áÂÆö‰ΩçÂú®Ê°ÜÊû∂ÂÜÖÁöÑÂºÄÂßãÊó∂Èó¥\n      this.currentLocatedBeginTime = frameBeginTime;\n      // ÂΩìÂâçÊ∏∏Ê†áÂÆö‰ΩçÊâÄÂú®ÁöÑÊ°ÜÊû∂\n      this.currentLocatedFramework = framework;\n      // ÂΩìÂâçÊúâÊ†áÂÆö‰ΩçÊâÄÂú®ÁöÑÈîöÁÇπ\n      this.currentLocatedAnchor = anchor;\n    }\n\n  \t// ‰øùÂ≠òÂΩìÂâç‰ΩçÁΩÆ‰ø°ÊÅØ\n    this.setLocationInfo();\n\n  \t// ËøîÂõûÂΩìÂâçÊ∏∏Ê†áÂØπÂ∫îÁöÑÊó∂Èó¥\n    return currentDuration;\n}\n```\n\n### È¢ÑËßàÊ∏∏Ê†á\n\n![preview-cursor](https://img.mrsingsing.com/preview-cursor.gif)\n\nÂΩìÈº†Ê†áËøõÂÖ•ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÔºåÂ∞±‰ºöËá™Âä®Ë∑üÈöè‰∏ÄÊ†πÈ¢ÑËßàÊ∏∏Ê†áÔºåÈ¢ÑËßàÊ∏∏Ê†áÊâÄÂà∞‰πãÂ§ÑÔºåÊí≠ÊîæÂô®ÈúÄË¶ÅÂ±ïÁ§∫ËØ•Êó∂Èó¥‰ΩçÁΩÆÂØπÂ∫îÁöÑÁîªÈù¢„ÄÇÊâÄ‰ª•Ê≠§Â§ÑÂè™ÈúÄË¶ÅÁõëÂê¨ `mousenter` Èº†Ê†áËøõÂÖ•ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÔºåÂà©Áî® `mousemove` ÂÆûÊó∂ÂèòÊõ¥È¢ÑËßàÊ∏∏Ê†áÂÅèÁßªÂÄºÔºåÂπ∂Ë∞ÉÁî®Êí≠ÊîæÂô®ÁªÑ‰ª∂ÂèòÊõ¥È¢ÑËßàÁîªÈù¢ÔºåÂΩìÁÑ∂Áî±‰∫éÈº†Ê†á‰∫ã‰ª∂Ëß¶ÂèëÈ¢ëÁéáÈ´òÔºåÈúÄË¶ÅÂØπË∞ÉÁî®È¢ÑËßàÊñπÊ≥ïËøõË°åÈò≤ÊäñÊìç‰ΩúÔºåÂΩì `mouseleave` Á¶ªÂºÄÂ∑•‰ΩúÂå∫Êó∂ÈöêËóèÈ¢ÑËßàÊ∏∏Ê†á„ÄÇ\n\n### Á£ÅÂê∏Ê∏∏Ê†á\n\n![magnet-cursor](https://img.mrsingsing.com/magnet-cursor.gif)\n\nÂΩìÁî®Êà∑ÊãñÊãΩËßÜÈ¢ëÁ¥†ÊùêÂà∞ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÔºåÊàñÊãñÊãΩÂ∑•‰ΩúÂå∫Ê°ÜÊû∂ËøõË°åÊéíÂ∫èÊìç‰ΩúÔºåÈúÄË¶ÅÂú®ÂÆåÊï¥ËßÜÈ¢ëÂºÄÁ´Ø„ÄÅÁªìÂ∞æÂèäÊ°ÜÊû∂‰∏éÊ°ÜÊû∂‰πãÈó¥Ë°îÊé•Â§ÑÊòæÁ§∫ÁªøËâ≤Á£ÅÂê∏Ê∏∏Ê†áÔºåÊñπ‰æøÁî®Êà∑ÂÆö‰ΩçÊãñÊãΩÁöÑÁ¥†ÊùêÊúÄÁªàÂú®ËΩ®ÈÅìÂ∑•‰ΩúÂå∫‰∏≠ÊèíÂÖ•ÁöÑ‰ΩçÁΩÆ„ÄÇ\n\nËøôÈáåÁöÑÂÆûÁé∞ÊñπÂºèÊòØÔºåÂΩìÊ£ÄÊµãÂà∞Áî®Êà∑ÂºÄÂßãÊãñÊãΩÂä®‰ΩúÊó∂ÔºåÈÄöÁü•ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁîüÊàêÊâÄÊúâÁ£ÅÂê∏Âå∫ÂüüÁöÑÂùêÊ†á‰ø°ÊÅØÂàóË°®ÔºåÂπ∂Âú® DOM ‰∏≠ÁîüÊàêÂØπÂ∫îÊï∞ÈáèÁöÑÁ£ÅÂê∏Âå∫Âüü„ÄÇ\n\n‰∏∫‰∫ÜÊñπ‰æøÁêÜËß£Ôºå‰∏ãÂõæÁ∫¢Ëâ≤Âå∫Âüü‰∏∫ÂºÄÂßãÊãñÊãΩÂêéÁîüÊàêÁöÑÁ£ÅÂê∏Âå∫Âüü„ÄÇ‰∏∫‰∫ÜÂáèÂ∞ëÊìç‰ΩúÂØºËá¥È°µÈù¢È¢ëÁπÅÈáçÊéíÈáçÁªòÁöÑÈóÆÈ¢òÔºåÊâÄÊúâÁîüÊàêÁöÑÂÖÉÁ¥†ÈÉΩÊòØÂü∫‰∫éÂü∫ÁÇπËøõË°å `translate` ‰æøÂÅèÁßª„ÄÇ\n\n![magnet-area](https://img.mrsingsing.com/magnet-area.png)\n\n‰Ω†ËÇØÂÆö‰ºöÊúâÁñëÈóÆÔºå‰∏∫‰ªÄ‰πàÁ£ÅÂê∏Âå∫ÂüüËÉΩÊ£ÄÊµãÂà∞ÊãñÊãΩÂÖÉÁ¥†‰Ωç‰∫é‰∏äÊñπÔºåËøô‰∏éÊãñÊãΩÊåá‰ª§ÁöÑÂÆûÁé∞ÊúâÂÖ≥ÔºåÂèØ‰ª•ÁïôÊÑèÂêéÈù¢ÂØπÊãñÊãΩÊåá‰ª§ÁöÑËØ¶ÁªÜËØ¥Êòé„ÄÇ\n\n```less\n// Á£ÅÂê∏Âå∫Âüü\n.magnet-area-item {\n  box-sizing: border-box;\n  position: absolute;\n  top: 0;\n  max-width: 80px;\n  height: 100%;\n  z-index: 1450;\n  /* Êñπ‰æøÊü•ÁúãÊïàÊûú */\n  background-color: rgba(255, 0, 0, 0.3);\n\n  &.first {\n    transform: translate3d(0, 0, 0);\n\n    &.active {\n      .magnet-area-cursor {\n        left: 0;\n        transform: none;\n      }\n    }\n  }\n\n  &.last {\n    transform: translate3d(-100%, 0, 0);\n\n    &.active {\n      .magnet-area-cursor {\n        left: initial;\n        right: 0;\n        transform: none;\n      }\n    }\n  }\n\n  &.active {\n    // Á£ÅÂê∏Ê∏∏Ê†á\n    .magnet-area-cursor {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 50%;\n      width: 2px;\n      height: 100%;\n      background-color: #1db368;\n      transform: translateX(-50%);\n    }\n  }\n}\n```\n\n```js\n  const initMagnetArea = () => {\n    this.currentMagnetAreaList = [];\n\n    // Âà©Áî®ÂÆö‰ΩçÂÖÉÁ¥†ÔºàËΩ®ÈÅìÂàóË°®ÂâçÁî®‰∫éÂç†‰ΩçÁöÑÁ©∫ÂÖÉÁ¥†ÔºâËé∑ÂèñÂΩìÂâçËΩ®ÈÅìÂå∫Âüü‰∏≠ÊâÄÊúâÁöÑËßÜÈ¢ëÊ°ÜÊû∂ÁöÑ DOM ÂÖÉÁ¥†ÂºïÁî®\n    const frameworkList = this.indicatorRef.nativeElement.parentElement.querySelectorAll(\n      '.framework-item',\n    ) as NodeListOf<HTMLDivElement>;\n\n    const indicatorLeft = this.indicatorClientRect.left;\n\n    this.currentMagnetAreaList = Array.from(frameworkList).reduce(\n      (acc: any, item: HTMLDivElement, index: number) => {\n\n        // Ëé∑ÂèñÂçï‰∏™ËßÜÈ¢ëÊ°ÜÊû∂ÂØπÂ∫î DOM ÂÖÉÁ¥†ÁöÑÂ§ßÂ∞èÂèäËßÜÂè£‰ΩçÁΩÆ\n        const frameworkRect = item.getBoundingClientRect();\n\n        // ÁîüÊàêÁ£ÅÂê∏Âå∫ÂüüÁöÑÂÆΩÂ∫¶\n        // Áî±‰∫é‰∏çÂêåÊó∂Èïø‰∏çÂêåÊØî‰æã‰∏ãÊ°ÜÊû∂ÂÆûÈôÖÁöÑÂÆΩÂ∫¶‰∏ç‰∏ÄËá¥\n        // Ëã•‰ΩøÁî®ËøáÂ∞èÁöÑÔºàÂõ∫ÂÆöÔºâÂÆΩÂ∫¶‰Ωú‰∏∫Á£ÅÂê∏Âå∫ÂüüÔºå‰ºöÂØºËá¥Âú®ËæÉÂ§ßÂÆΩÂ∫¶ÁöÑÊ°ÜÊû∂‰∏≠ÈúÄË¶ÅÊõ¥Èù†Ëøë‰∏§Ê°ÜÊû∂Ë°îÊé•Â§ÑÊâçËÉΩÊòæÁ§∫Á£ÅÂê∏Ê∏∏Ê†á\n        // ÊâÄ‰ª•ËøôÈáåÂèñÊ°ÜÊû∂ÂÆΩÂ∫¶ÁöÑ 30% ‰Ωú‰∏∫Á£ÅÂê∏Âå∫ÂüüÂú®ÂΩìÂâçÊ°ÜÊû∂Âå∫ÂüüÊâÄÂç†ÁöÑÂÆΩÂ∫¶\n        const currentWidth = frameworkRect.width * 0.3;\n        // Á£ÅÂê∏Âå∫ÂüüÂÆΩÂ∫¶\n        const areaWidth = index === 0 ? currentWidth : currentWidth + acc.prevWidth;\n        // Á£ÅÂê∏Ê∏∏Ê†áÂú®Á£ÅÂê∏Âå∫ÂüüÁöÑÂÅèÁßªÈáè\n        const areaShift = index === 0 ? 0 : (acc.prevWidth / areaWidth) * 100;\n\n        acc.list.push({\n          id: item.dataset.id,\n          areaWidth: areaWidth,\n          areaTranform: `translateX(-${areaShift}%)`,\n          areaLeft: frameworkRect.left - indicatorLeft + 'px',\n          cursorLeft: areaShift + '%',\n        });\n\n        // ÊúÄÂêé‰∏ÄÁâáÁ£ÅÂê∏Âå∫ÂüüÔºåÊòØÊúÄÂêé‰∏Ä‰∏™ËßÜÈ¢ëÊ°ÜÊû∂ÁöÑÊúÄÂêé 30% ÁöÑÂå∫Âüü\n        // ÊãñÊãΩÁ¥†ÊùêÊñ∞Â¢ûËßÜÈ¢ëÊ°ÜÊû∂ÔºåÁõ∏ÂΩì‰∫éÂú®ÂàóË°®Êú´Â∞æÊñ∞Â¢û\n        // ÊãñÊãΩÊ°ÜÊû∂ÊéíÂ∫èÔºåÁõ∏ÂΩì‰∫éÊääÂéü‰ΩçÁΩÆÊ°ÜÊû∂ÁΩÆ‰∫éÂàóË°®Êú´Â∞æ\n        if (index === frameworkList.length - 1) {\n          acc.list.push({\n            id: null,\n            areaWidth: currentWidth,\n            areaTranform: 'translateX(-100%)',\n            areaLeft: frameworkRect.right - indicatorLeft + 'px',\n            cursorLeft: 'initial',\n          });\n        }\n\n        acc.prevWidth = currentWidth;\n\n        return acc;\n      },\n      {\n        list: [],\n        // ‰∏ä‰∏™Ê°ÜÊû∂Á¢∞ÊíûÂå∫ÂüüÁöÑÂÆΩÂ∫¶\n        //ÔºàÊØè‰∏™Ê°ÜÊû∂ÊúâÈ¶ñÂ∞æ‰∏§‰∏™Á¢∞ÊíûÂå∫ÂüüÔºåÂêÑÂç†Ê°ÜÊû∂ÂÆΩÂ∫¶ 30%ÔºåÊÄªÂç†Ê°ÜÊû∂ÂÆΩÂ∫¶ 60%Ôºâ\n        prevWidth: null,\n      },\n    ).list;\n  }\n```\n\n## Ê∏∏Ê†áÂ∞∫\n\nÊ∏∏Ê†áÂ∞∫ÊòØËßÜÈ¢ëÂâ™ËæëËΩØ‰ª∂‰∏≠‰ª•Êó∂Èó¥Ê†áËÆ∞ÂàªÂ∫¶ÁöÑÊ†áÂ∞∫„ÄÇÊàëÁ†îÁ©∂‰∫ÜÁ±ª‰ººÁöÑ Web ÁΩëÈ°µ‰∫ëÂâ™ËæëÂ∫îÁî®ÔºåÊúâ‰∏§ÁßçÂÆûÁé∞ÊñπÂºèÔºö\n\n1. Âà©Áî® Canvas ÁªòÂà∂ÂàªÂ∫¶Â∞∫ÔºàBilibili ‰∫ëÂâ™ËæëÔºâ\n2. Âà©Áî® DOM ÁªòÂà∂ÂàªÂ∫¶Â∞∫ÔºåÈááÁî®Á±ª‰ººËôöÊãüÂàóË°®ÁöÑÊñπÂºèÂ§ÑÁêÜÊµ∑ÈáèÁöÑ DOM ËäÇÁÇπÔºàËÖæËÆØ‰∫ëÂâ™ËæëÔºâ\n\n![ruler1](https://img.mrsingsing.com/ruler1.gif)\n\n![ruler2](https://img.mrsingsing.com/ruler2.gif)\n\nÂÆûÁé∞ÊÄùË∑ØÔºö\n\n1. ÂàõÂª∫ `<canvas>` Âπ∂Ê†πÊçÆÂΩìÂâçËÆæÂ§á DPR ÊåâÊØî‰æãÁº©ÊîæÁîªÂ∏ÉÂ∞∫ÂØ∏\n2. Ê†πÊçÆÂΩìÂâçËΩ®ÈÅìÂå∫ÂüüÊâÄÊúâÂàÜÊÆµËßÜÈ¢ëÊó∂ÈïøÔºåËÆ°ÁÆóÂá∫ÊÄªÊó∂ÈïøÔºà‰∏çË∂≥‰∏§Â∞èÊó∂ÊòæÁ§∫‰∏§Â∞èÔºåÂ§ß‰∫é‰∏§Â∞èÊó∂ÔºåÊåâÊãºÊé•ÈïøÂ∫¶Â¢ûÈïøÔºâÔºå‰ªéËÄåËÆ°ÁÆóÂá∫Ê∏∏Ê†áÂ∞∫‰∏≠ÊòæÁ§∫ÂàªÂ∫¶ÁöÑÊÄªÊï∞\n3. Âæ™ÁéØÈÅçÂéÜ‰æùÊ¨°ÂØπ Canvas ÁªòÂà∂ÊåáÈíàËøõË°åÁßªÂä®ÔºåÂèñÊ®°Âà§Êñ≠ÊòØÊï¥Êï∞ÂàªÂ∫¶ËøòÊòØÂ∞èÊï∞ÂàªÂ∫¶ÔºåÂπ∂ÁªòÂà∂Áõ∏ÂØπÂ∫îÁöÑÂàªÂ∫¶Á∫øÔºåÁõ¥Âà∞ÊâÄÊúâÊï∞ÈÅçÂéÜÂÆåÊàê\n4. ÊúÄÂêéÊ†πÊçÆÊØî‰æãÂ∞∫ËÆ°ÁÆóÊï¥Êï∞ÂàªÂ∫¶ÊòæÁ§∫ÁöÑÊó∂Èó¥ÊñáÊ°à\n\n```ts\nexport class RecordVideoTimelineRulerComponent implements OnInit {\n  /** ÊØî‰æãÂ∞∫ */\n  @Input()\n  scaleRatio: number;\n  /** ÊúÄÂ§ßÂàªÂ∫¶Êï∞Èáè */\n  @Input()\n  maxScaleValue: number;\n  /** Ê∏∏Ê†áÂ∞∫ÂÆΩÂ∫¶ */\n  public canvasWidth: number;\n  /** Ê∏∏Ê†áÂ∞∫ÁîªÂ∏É DOM ÂÖÉÁ¥†ÂºïÁî® */\n  public canvasElement: HTMLCanvasElement;\n  /** Ê∏∏Ê†áÂ∞∫ÁîªÂ∏É‰∏ä‰∏ãÊñáÂºïÁî® */\n  public canvasContext: CanvasRenderingContext2D;\n\n  ngOnInit(): void {\n    this.initCanvas();\n  }\n\n  ngOnChanges(changes: { [propName: string]: SimpleChange }) {\n    const scaleRatio = changes['scaleRatio'];\n\n    if (\n      scaleRatio &&\n      (!scaleRatio.previousValue || scaleRatio.previousValue !== scaleRatio.currentValue)\n    ) {\n      this.drawCanvas();\n    }\n  }\n\n  /**\n   * ÂàùÂßãÂåñÂàªÂ∫¶Â∞∫\n   */\n  initCanvas(): void {\n    const canvas = document.getElementById('canvas') as HTMLCanvasElement;\n    this.canvasElement = canvas;\n\n    const ctx = canvas.getContext('2d');\n    this.canvasContext = ctx;\n\n    const documentBodyWidth = document.body.clientWidth || document.documentElement.clientWidth;\n    this.canvasWidth = documentBodyWidth;\n\n    if (window.devicePixelRatio) {\n      const devicePixelRatio = window.devicePixelRatio;\n\n      canvas.width = devicePixelRatio * this.canvasWidth;\n      canvas.height = devicePixelRatio * 26;\n\n      // ÊåâÁÖßÊØî‰æãÁº©Êîæ\n      ctx.scale(devicePixelRatio, devicePixelRatio);\n    }\n\n    this.drawCanvas();\n  }\n\n  /**\n   * ÁªòÂà∂ÂàªÂ∫¶Â∞∫\n   */\n  drawCanvas(): void {\n    const scrollX = 0;\n    const ctx = this.canvasContext;\n\n    if (!ctx) return;\n\n    const canvasWidth = this.canvasWidth;\n    const canvasHeight = 26;\n\n    // Ê∞¥Âπ≥ÊñπÂêëÂÅèÁßªÈáè\n    const offsetX = (scrollX ? 30 - scrollX : 30) + 0.5;\n\n    // ÊúÄÂ§ßÂàªÂ∫¶ÂÄºÔºàÂΩìÂâçÊòæÁ§∫ÁöÑÊúÄÂ§ßÂàªÂ∫¶ÂÄºÔºâ\n    const totalScaleValue = this.maxScaleValue;\n\n    const startCount = Math.max(parseInt('' + Math.floor((scrollX - 30) / 16), 10), 0);\n    const endCount = Math.min(\n      parseInt('' + Math.ceil((scrollX + canvasWidth - 30) / 16), 10) - 1,\n      totalScaleValue\n    );\n\n    // ÊØè‰∏™ÂàªÂ∫¶ÂÄºÁöÑË∑ùÁ¶ª ÂàÜÂâ≤Á∫ø\n    const division = 15;\n    // Êï¥Êï∞ÂàªÂ∫¶È´òÂ∫¶\n    const integerHeight = 14 || Math.floor(canvasHeight * 0.53);\n    // ÂàÜÂ∫¶ÂÄºÂàªÂ∫¶È´òÂ∫¶\n    const divisionHeight = 8 || Math.floor(canvasHeight * 0.3);\n    // Êï¥Êï∞ÂàªÂ∫¶‰∏ãÁöÑÊñáÊ°àÈ´òÂ∫¶\n    const textHeight = 21 || Math.floor(canvasHeight * 0.78);\n    // ÊØèÊÆµÊï¥Êï∞ÂàªÂ∫¶‰ª£Ë°®ÁöÑÁßíÊï∞ÊØî‰æã\n    const scaleRatio = this.scaleRatio;\n\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n    // ÂΩìÂàªÂ∫¶ÂÄºË∂≥Â§üÂ§ßÁöÑÊó∂ÂÄôÔºåÂè™ÁªòÂà∂ÂèØËßÜËåÉÂõ¥ÂÜÖÁöÑÂàªÂ∫¶ÂÄº\n    // ÁîªÂàªÂ∫¶Á∫ø\n    for (let i = startCount; i < endCount; i++) {\n      ctx.beginPath();\n      ctx.save();\n      ctx.strokeStyle = '#595959';\n      ctx.lineWidth = 1;\n      ctx.lineCap = 'round';\n\n      const moveTo = offsetX + i * (division + 1);\n      ctx.moveTo(moveTo, 0);\n\n      if (i % 5 === 0) {\n        ctx.lineTo(offsetX + i * (division + 1), integerHeight);\n      } else {\n        ctx.lineTo(offsetX + i * (division + 1), divisionHeight);\n      }\n\n      ctx.stroke();\n      ctx.restore();\n      ctx.closePath();\n    }\n\n    // Êï¥Êï∞ÂàªÂ∫¶ÊñáÊ°à\n    ctx.beginPath();\n    ctx.font = '10px Arial';\n    ctx.fillStyle = '#AAAAAA';\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n\n    const seperatedScaleValue = totalScaleValue / 5;\n    for (let i = 0; i < seperatedScaleValue; i++) {\n      const text = this.formatTimeScaleText(i, scaleRatio);\n      ctx.fillText(text, offsetX + 80 * i, textHeight);\n    }\n\n    ctx.closePath();\n  }\n\n  /**\n   * Ê†πÊçÆÊ≠£Êï¥Êï∞Á¥¢ÂºïÂíåÊØî‰æãÂ∞∫Ê†ºÂºèÂåñÊòæÁ§∫Êó∂Èó¥\n   * @param index ÂàªÂ∫¶Â∞∫Á¥¢ÂºïÔºà‰ªé 0 ÂºÄÂßãÔºâ\n   * @param ratio ÊØè‰∏™Êï¥Êï∞ÂàªÂ∫¶‰πãÈó¥ÁöÑÊó∂Èó¥ÈïøÂ∫¶Ôºà‰ª•Áßí‰∏∫Âçï‰ΩçÔºâ\n   * @description Â∞Ü‰ª•Áßí‰∏∫Âçï‰ΩçÁöÑÊï∞ÂÄºËΩ¨Âåñ‰∏∫ HH:MM:SS.ss Ê†ºÂºèÁöÑÊó∂Èó¥Â≠óÁ¨¶‰∏≤\n   */\n  formatTimeScaleText(index: number, ratio: number): string {\n    const totalSeconds = index * ratio;\n\n    let hour: number | string = 0;\n    let minute: number | string = 0;\n    let second: number | string = 0;\n    const millisecond = '00';\n\n    hour = Math.floor(totalSeconds / 3600);\n    minute = Math.floor((totalSeconds - hour * 3600) / 60);\n    second = ratio >= 60 ? 0 : Math.floor(totalSeconds - hour * 3600 - minute * 60);\n\n    hour = this.fixZero(hour);\n    minute = this.fixZero(minute);\n    second = this.fixZero(second);\n\n    return `${hour}:${minute}:${second}.${millisecond}`;\n  }\n\n  /**\n   * Ë°•Èõ∂ÂáΩÊï∞ÔºàÂè™ÊîØÊåÅ‰∏™‰ΩçÊï∞Ë°•Èõ∂‰∏∫ÂçÅ‰ΩçÊï∞Ôºâ\n   */\n  fixZero(value: any): string {\n    return value * 1 < 10 ? `0${value}` : `${value}`;\n  }\n}\n```\n\nËøôÈáåÁöÑÊØî‰æãÂ∞∫ËôΩÁÑ∂ÂèØ‰ª•ÈÄöËøáÊªëÂä®ËøõË°åËÆæÁΩÆÔºå‰ΩÜÊòØ‰∏∫‰∫ÜÂáÜÁ°ÆËÆ°ÁÆóÔºåÊàë‰ª¨Âè™Êèê‰æõ‰∫ÜÂá†‰∏™Âõ∫ÂÆöÁöÑÊ°£‰Ωç„ÄÇ\n\nËøôÈáåÁöÑÊØî‰æãÂ∞∫‰ª£Ë°®ÁöÑÊòØÊ∏∏Ê†áÂ∞∫‰∏≠‰∏Ä‰∏™ÂÆåÊï¥Â§ßÂàªÂ∫¶‰πãÈó¥ÊâÄ‰ª£Ë°®ÁöÑÊó∂Èó¥ÔºåÂπ∂‰ª•Áßí‰Ωú‰∏∫Áªü‰∏ÄÂ∫¶ÈáèË°°Ôºö\n\n1. 5 Ê†º 1 Áßí 1 Ê†º 0.2s=200ms\n2. 5 Ê†º 1 ÂàÜÈíü=60s 1 Ê†º 0.2min=12s=12000ms\n3. 5 Ê†º 3 ÂàÜÈíü=180s 1 Ê†º 0.6min=36s=36000ms\n4. 5 Ê†º 6 ÂàÜÈíü=360s 1 Ê†º 1.2min=62s=62000ms\n\n## ÊãñÊãΩÊåá‰ª§\n\nÂØπ‰∫é‰∫ëÂâ™Ëæë Web Â∫îÁî®ÔºåÂÖ∂‰∏é‰∏ÄËà¨Á∫ØÁ≤πË°®ÂçïË°®Ê†ºÁöÑÂ∫îÁî®ÔºåÂú®‰∫éËÆ©Áî®Êà∑ÊääÊõ¥Â§öÁöÑÊìç‰Ωú‰ªéÈîÆÁõòËΩ¨ÁßªÂà∞Èº†Ê†áÔºåËÄåÊãñÊãΩÁöÑÂÆûÁé∞ÊñπÂºèÔºåÊòØÊ≠§Ê¨°ÈúÄÊ±Ç‰∏≠ÁöÑÈáç‰∏≠‰πãÈáç„ÄÇ\n\nÊàëÂØπ‰∫ßÂìÅÂíåËÆæËÆ°Â∏àÊèêÂá∫ÁöÑÈúÄÊ±ÇËøõË°å‰∫ÜÊ¢≥ÁêÜÔºö\n\n![drag-and-drop](https://img.mrsingsing.com/drag-and-drop.png)\n\nÊúÄÂàùÔºåÊàëËÄÉËôëÂà∞‰ΩøÁî®ÂéüÁîüÁöÑ drag & drop ÊñπÊ≥ïÂÆûÁé∞ÊãñÊãΩÔºå‰ΩÜÊòØÂéüÁîüÁöÑ drag & drop ÊñπÊ≥ï‰ºöÂΩ±ÂìçÂà∞ÊñáÊ°£ÊµÅÂÖ∂‰ªñÂÖÉÁ¥†ÁöÑÂ∏ÉÂ±ÄÔºåÂØºËá¥ÊµèËßàÂô®ÂõûÊµÅÔºåËøôÊòæÁÑ∂‰∏çÊòØ‰∏ÄÁßç‰ºòÈõÖÁöÑËß£ÂÜ≥ÊñπÂºè„ÄÇÊü•ÈòÖÁõ∏ÂÖ≥ËµÑÊñôÂêéÔºåÂèëÁé∞ËÉΩÈÄöËøá mouse Áõ∏ÂÖ≥ÊñπÊ≥ïÊ®°Êãü drag & drop ÁöÑÊñπÊ≥ïÔºåÈÇ£‰πàÂ¶ÇÊûúÂà©Áî® mouse Áõ∏ÂÖ≥ÊñπÊ≥ïÔºåÈÄöËøáÊüê‰∫õÂà§Êñ≠Êù°‰ª∂Âà§Êñ≠‰∏∫ÊãñÊãΩÂêéÔºåÈááÁî®ÁªùÂØπÂ∏ÉÂ±ÄÂàõÂª∫ÂùóÁ∫ßÊ†ºÂºè‰∏ä‰∏ãÊñáÂÖÉÁ¥†ÔºåÁã¨Á´ã‰∫éÊñáÊ°£ÊµÅËøõË°å‰ΩçÁßªÔºåËøôÊ†∑‰∏ÄÊù•Êó¢ËÉΩÊª°Ë∂≥ÂäüËÉΩÈúÄÊ±Ç‰πüËÉΩÊª°Ë∂≥ÊÄßËÉΩÈúÄÊ±Ç„ÄÇ\n\nHTML ÁöÑÊãñÊãΩ API ÂàÜÂà´‰ΩúÁî®‰∫éË¢´ÊãñÊãΩÁöÑÂÖÉÁ¥†ÂíåÁõÆÊ†áÂÖÉÁ¥†Ôºö\n\n| ÈíàÂØπÂØπË±°     | ‰∫ã‰ª∂ÂêçÁß∞  | ËØ¥Êòé                                                  |\n| :----------- | :-------- | :---------------------------------------------------- |\n| Ë¢´ÊãñÂä®ÁöÑÂÖÉÁ¥† | dragstart | Âú®ÂÖÉÁ¥†ÂºÄÂßãÊãñÂä®Êó∂Ëß¶Âèë                                  |\n|              | drag      | Âú®ÂÖÉÁ¥†ÊãñÂä®Êó∂ÂèçÂ§çËß¶Âèë                                  |\n|              | dragend   | Âú®ÊãñÂä®Êìç‰ΩúÂÆåÊàêÊó∂Ëß¶Âèë                                  |\n| ÁõÆÁöÑÂú∞ÂØπË±°   | dragenter | ÂΩìË¢´ÊãñÂä®ÂÖÉÁ¥†ËøõÂÖ•ÁõÆÁöÑÂú∞ÂÖÉÁ¥†ÊâÄÂç†ÊçÆÁöÑÂ±èÂπïÁ©∫Èó¥Êó∂Ëß¶Âèë      |\n|              | dragover  | ÂΩìË¢´ÊãñÂä®ÂÖÉÁ¥†Âú®ÁõÆÁöÑÂú∞ÂÖÉÁ¥†ÂÜÖÊó∂Ëß¶ÂèëÔºàÊØè 100ms Ëß¶Âèë‰∏ÄÊ¨°Ôºâ |\n|              | dragleave | ÂΩìË¢´ÊãñÂä®ÂÖÉÁ¥†Ê≤°ÊúâÊîæ‰∏ãÂ∞±Á¶ªÂºÄÁõÆÁöÑÂú∞ÂÖÉÁ¥†Êó∂Ëß¶Âèë            |\n|              | drop      | ÈáäÊîæË¢´ÊãñÊãΩÂÖÉÁ¥†Êó∂Ëß¶Âèë                                  |\n\n### Ë¢´ÊãñÊãΩÂÖÉÁ¥†\n\n‰∏ãÈù¢Êàë‰ª¨ÂºÄÂßã‰∏ÄÊ≠•Ê≠•‰ΩøÁî® mouse ‰∫ã‰ª∂ÂÆûÁé∞Ë¢´ÊãñÊãΩÂÖÉÁ¥†ÁöÑ drag Êåá‰ª§„ÄÇ\n\nÊàë‰ª¨Â∞ùËØïÊãÜËß£ÊãñÊãΩËøô‰∏™Âä®‰ΩúÔºå‰ªéÊµèËßàÂô®‰∫ã‰ª∂ËßíÂ∫¶Âá∫ÂèëËÄÉËôëÔºåÂèØ‰ª•ÂàÜ‰∏∫ `mousedown` Âíå `mousemove` ‰∏§ÈÉ®ÂàÜÔºåÂΩì `mousemove` ÂùêÊ†á‰∏é `mousedown` ÂùêÊ†á‰πãÂ∑ÆÁöÑÁªùÂØπÂÄºËææÂà∞‰∏ÄÂÆöÈòàÂÄºÂêéÔºåÂèØËÆ§‰∏∫Áî®Êà∑Âú®ËøõË°åÊãñÊãΩË°å‰∏∫ÔºåÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÁªôËøô‰∏™‰∏∫Êåá‰ª§Êèê‰æõÂèØ‰æõ‰ΩøÁî®ÊñπËá™Áî±ËÆæÁΩÆÁöÑÂÖ•ÂèÇ `dragTolerance`ÔºàÈªòËÆ§ËÆæ‰∏∫ 5ÔºåÂèØÁêÜËß£‰∏∫ÊãñÊãΩ‰ΩçÁßª‰∫Ü 5 ÂÉèÁ¥†Âçï‰ΩçÂêéÂà§ÂÆö‰∏∫ÊãñÊãΩÔºâ„ÄÇ\n\nÂú® HTML ÂÖ®Â±ÄÂ±ûÊÄß‰∏≠ÔºåÊúâ‰∏™ draggable ÁöÑÂ±ûÊÄßÔºåÂΩìÂÄº‰∏∫ true Êó∂ÔºåË°®Á§∫ÂÖÉÁ¥†ÂèØË¢´ÊãñÂä®ÔºõÂΩìÂÄº‰∏∫ false Êó∂ÔºåÂàôË°®Á§∫ÂÖÉÁ¥†‰∏çÂèØË¢´ÊãñÂä®„ÄÇÊàë‰ª¨ÁöÑÈúÄÊ±ÇÂú∫ÊôØ‰∏≠ÔºåÊúâÂêåÊ†∑Á±ª‰ººÁöÑÂäüËÉΩÈúÄË¶ÅÂÆûÁé∞Ôºå‰∏æ‰∏™‰æãÂ≠êÔºåËßÜÈ¢ëÊ°ÜÊû∂ÂíåÈîöÁÇπÂç†‰ΩçÂÖÉÁ¥†Âùá‰∏∫ÂèØÊãñÊãΩÁöÑÂÖÉÁ¥†ÔºåËÄåÈîöÁÇπÂç†‰ΩçÂÖÉÁ¥†ÊòØ‚ÄúÈï∂Âµå‚ÄùÂÜçËßÜÈ¢ëÊ°ÜÊû∂‰∏≠ÁöÑÔºåÂ¶ÇÊûúÂ∞ÜËØ•Êåá‰ª§ÂàÜÂà´ËÆæÁΩÆÂú®ÂêÑËá™ÁöÑÂÖÉÁ¥†‰∏äÔºåÈÇ£‰πàÂΩìÊãñÊãΩÈîöÁÇπÂç†‰ΩçÂÖÉÁ¥†Êó∂Ôºå‰πü‰ºöËß¶ÂèëËßÜÈ¢ëÊ°ÜÊû∂ÁöÑÊãñÊãΩ‰∫ã‰ª∂ÔºåËøôÊòæÁÑ∂‰∏çÊòØÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÁªìÊûú„ÄÇ\n\n‰ªÖ‰ªÖÁî±Â§ñÈÉ®ËÆæÁΩÆ‰∏∫Â∏ÉÂ∞îÂÄº‰ºº‰πéÂπ∂‰∏çËÉΩËß£ÂÜ≥Êàë‰ª¨ÁöÑÈóÆÈ¢ò„ÄÇÊâÄ‰ª•ÔºåÈô§‰∫ÜÂ∏ÉÂ∞îÂÄºÂ§ñÔºå Êàë‰ª¨ÂÖÅËÆ∏ `draggable` ÂèÇÊï∞‰∏∫ÂáΩÊï∞Á±ªÂûã„ÄÇÂΩì `mousedown` Êó∂Ôºå‰ºöËé∑ÂèñÂΩìÂâç `draggable` ÁöÑÂÄºÔºåËã• darggable ‰∏∫ÂèØÊâßË°åÂáΩÊï∞Êó∂ÔºåÂ∞ÜÊê∫Â∏¶Êï∞ÊçÆÂíåË¢´ÊãñÊãΩÂéüÂßã DOM ÂÖÉÁ¥†ÂºïÁî®Á≠â‰Ωú‰∏∫ÂèÇÊï∞ÊâßË°åËØ•Ê†°È™åÂáΩÊï∞ÔºåÂáΩÊï∞ÂÜÖÈÉ®Â§ÑÁêÜÂà§Êñ≠ÂèØÂê¶ÊãñÊãΩÈÄªËæëÔºåÊúÄÁªàËøîÂõûÂ∏ÉÂ∞îÂÄºÂÜ≥ÂÆö `mousedown` ÂêéÁª≠ÁöÑÂ§ÑÁêÜ„ÄÇ\n\nËøô‰πüÊòØÊäΩË±°ÂÖ¨ÂÖ±ÁªÑ‰ª∂ÂíåÂ∑•ÂÖ∑ÁöÑÊäÄÂ∑ß‰πã‰∏ÄÔºåÊó¢ËÉΩÂÆûÁé∞Â∞Ü‰∏öÂä°‰ª£Á†ÅÈÄöËøáÂáΩÊï∞‰Ωú‰∏∫ÂõûË∞ÉÂØπÁªÑ‰ª∂Â∑•ÂÖ∑ÈÄªËæëËøõË°åÂΩ±ÂìçÔºåÂêåÊó∂‰πüÂáèÂ∞ëÂØπÊäΩË±°ÁªÑ‰ª∂Â∑•ÂÖ∑‰æµÂÖ•„ÄÇ\n\n```ts\n@Directive({\n  selector: '[ssDraggable]',\n})\nexport class SSDraggableDirective implements OnInit {\n  constructor(public el: ElementRef, public zone: NgZone, public viewContainer: ViewContainerRef) {\n    this.currentElement = el.nativeElement;\n  }\n\n  public ngOnInit(): void {\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n  }\n\n  public ngAfterContentInit() {\n    if (this.currentElement) {\n      this.currentElement.onmousedown = this.onMouseDown.bind(this);\n    }\n  }\n\n  /**\n   * ËÉΩÂê¶ÊãñÊãΩ\n   */\n  private get currentElementDraggable() {\n    if (typeof this.draggable === 'function') {\n      return this.draggable({\n        // Ë¢´ÊãñÊãΩÂÖÉÁ¥†Êê∫Â∏¶ÁöÑÊï∞ÊçÆ\n        data: this.data,\n        // Ë¢´ÊãñÊãΩÂÖÉÁ¥†ÁöÑÂéüÂßã DOM ÂÖÉÁ¥†\n        mousedownElement: this.mousedownElement,\n      });\n    }\n\n    return this.draggable;\n  }\n\n  /**\n   * ÊãñÊãΩÂºÄÂßãÂâçÈº†Ê†áÊåâ‰∏ã‰∫ã‰ª∂\n   */\n  onMouseDown(e: MouseEvent): void {\n    e.preventDefault();\n\n    this.mousedownElement = e.target as HTMLElement;\n\n    if (!this.currentElementDraggable) return;\n\n    this.clicked = true;\n\n    // ËÆ∞ÂΩïÈº†Ê†áÊåâ‰∏ãÁöÑÊ®™Á∫µÂùêÊ†á\n    this.startX = e.pageX;\n    this.startY = e.pageY;\n\n    document.defaultView?.addEventListener('mousemove', this.onMouseMove);\n    document.defaultView?.addEventListener('mouseup', this.onMouseUp);\n  }\n\n  /**\n   * ÊãñÊãΩÂºÄÂßãÂâçÈº†Ê†áÊåâ‰∏ã‰∫ã‰ª∂\n   */\n  onMouseMove(e: MouseEvent): void {\n    // do something\n  }\n\n  /**\n   * ÁõëÂê¨ÊãñÂä®ÁªìÊùü\n   */\n  onMouseUp(e: MouseEvent): void {\n    // do something\n  }\n}\n```\n\nÂΩìÈº†Ê†áË∑ùÁ¶ª mousedown Ë∑ùÁ¶ªË∂ÖÂá∫ËÆæÂÆöÈòàÂÄºÂêéÔºåÈúÄËß¶Âèë‰∏ÄÊ¨°Âë®ÊúüÂáΩÊï∞ÁöÑ dragStartÔºåË°®Á§∫ÂºÄÂßãÊãñÊãΩ„ÄÇ‰∏éÊ≠§ÂêåÊó∂ÔºåÂü∫‰∫éÊ®°ÁâàÂàõÂª∫Áî®‰∫éÊãñÊãΩÁöÑÂπΩÁÅµÂÖÉÁ¥†„ÄÇ\n\n‰∏∫‰∫ÜÊª°Ë∂≥‰∫§‰∫íÈúÄÊ±ÇÔºåËøôÈáåÊúâ‰∏§ÁßçÂπΩÁÅµÂÖÉÁ¥†ÁöÑÂÆûÁé∞ÊñπÂºèÔºö‰∏ÄÁßçÊòØ Angular Êèê‰æõÁöÑÊ®°ÁâàËØ≠Ê≥ïÔºå‰∏ÄÁßçÊòØ clone Âéü DOM ÂÖÉÁ¥†„ÄÇ\n\nÂü∫‰∫éÊ®°ÁâàÁîüÊàêÁöÑÂπΩÁÅµÂÖÉÁ¥†Áõ∏ÂØπÊØîËæÉÂÆπÊòìÂÆûÁé∞ÔºåÂè™ÈúÄË¶ÅÂÆûÁî® ng-template ÂÆö‰πâÂ•Ω HTML ÁªìÊûÑÔºåÂ∞ÜÊ®°ÁâàÂºïÁî®ÂèòÈáè‰Ωú‰∏∫ÂÖ•ÂèÇ‰º†ÂÖ•Êåá‰ª§Âç≥ÂèØ„ÄÇÊåá‰ª§ÂÜÖÈÉ®Ê†πÊçÆÊ®°ÁâàÂºïÁî®ÂèòÈáèÂàõÂª∫ DOM ÂÖÉÁ¥†Âç≥ÂèØ„ÄÇ\n\n![drag-anchor](https://img.mrsingsing.com/drag-anchor.gif)\n\n```xml\n<!-- ÊãñÊãΩÁßªÂä®ÈîöÁÇπÂπΩÁÅµÊ®°Áâà -->\n<ng-template #ssDraggableAnchorGhost>\n  <div\n    class=\"drag-anchor-ghost\"\n    [attr.data-type]=\"DragGhostElementType.ANCHOR\"\n  >\n    <div class=\"ghost-cursor\"></div>\n    <div class=\"ghost-placeholder\"></div>\n  </div>\n</ng-template>\n```\n\nÂè¶‰∏ÄÁßçÊ†πÊçÆ DOM ÂÖÉÁ¥†ÂàõÂª∫ÂâØÊú¨ÁöÑÊñπÂºè‰ºöÁ®çÂæÆÂ§çÊùÇÔºåÊàë‰ª¨ÈÉΩÁü•ÈÅì DOM Êèê‰æõÁöÑÊñπÊ≥ï‰∏≠Êúâ‰∏Ä‰∏™ `Node.cloneNode()` ÁöÑÊñπÊ≥ïÔºåÂèØÁî®‰∫éÂÖãÈöÜ DOM ËäÇÁÇπÔºå‰ΩÜÊòØËøô‰∏™ÊñπÊ≥ïÊúâ‰∏™ÊòéÊòæÁöÑÁº∫Èô∑ÔºåÂ∞±ÊòØÂè™ËÉΩÂÖãÈöÜ DOM ÁªìÊûÑÔºåCSS Ê†∑ÂºèÊó†Ê≥ïÂÖãÈöÜ„ÄÇ\n\nÂú®Á†îÁ©∂‰∫ÜÊâÄÊúâÂèØË°åÁöÑÊñπÊ°àÂêéÔºåÂπ∂Ê≤°Êúâ‰∏Ä‰∏™ÂçÅÂàÜÂÆåÁæéÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÈÇ£‰πàÂ∞±Âè™ËÉΩËµ∞ÊúÄÁ¨®ÊãôÁöÑÂÆûÁé∞ÊñπÂºè„ÄÇÂéüÁîü DOM Êèê‰æõ‰∫ÜËé∑ÂèñÂÖÉÁ¥†ÁªèËøáÂ∏ÉÂ±Ä„ÄÅÁªòÂà∂„ÄÅÂÖâÊ†ÖÂåñÂíåÂêàÂπ∂ÂêéÁöÑÊ†∑ÂºèÂ±ûÊÄßÊñπÊ≥ï getComputedStyle„ÄÇÂàõÂª∫ÂπΩÁÅµÂÖÉÁ¥†Êó∂ÔºåÂÖàÂÖãÈöÜÂÖÉÁ¥†ÂèäÂÖ∂Â≠êÂ≠ôËäÇÁÇπÔºåÁÑ∂Âêé‰æùÊ¨°ÈÅçÂéÜÊØè‰∏™ËäÇÁÇπÔºåÈÄöËøáËØ•ÊñπÊ≥ïËé∑ÂèñËäÇÁÇπÁöÑËÆ°ÁÆóÊ†∑ÂºèÂ±ûÊÄßÔºåÁÑ∂ÂêéÂÜçÂØπÊ†∑ÂºèÂ±ûÊÄßÈÄê‰∏ÄËµãÂÄºÂà∞ÂÖãÈöÜËäÇÁÇπ‰∏ä„ÄÇ\n\n‰ΩÜÊòØÊµèËßàÂô®ÊîØÊåÅÁöÑ CSS Â±ûÊÄßÊúâÂá†Áôæ‰∏™ÔºåÂ¶ÇÊûúÊØè‰∏™ÈÉΩÈúÄË¶ÅÁöÑËØùÂ∞Ü‰ºöÊèêÂçáÊï¥‰∏™Êìç‰ΩúÁöÑÂ§çÊùÇÂ∫¶„ÄÇÂõ†‰∏∫Âú®ËøôÈáåÁöÑ‰ΩøÁî®Áõ∏ÂÖ≥Â±ûÊÄßÁöÑÂÖÉÁ¥†ÁöÑÊ†∑ÂºèÊòØÊØîËæÉÂõ∫ÂÆöÁöÑÔºåÊâÄ‰ª•Âè™ÂØπÈÉ®ÂàÜÊ†∑ÂºèÂ±ûÊÄßËøõË°å‰∫ÜËΩ¨Áßª„ÄÇÂ¶ÇÊûúÊòØÂÆûÁé∞Â§ßÂûãÁöÑÂÖ¨Áî®ÂåÖÔºåÂàôÂ∫îËØ•‰øùËØÅÂèØÁî®ÊÄß„ÄÇ\n\n![drag-video](https://img.mrsingsing.com/drag-video.gif)\n\n```ts\nexport class SSDraggableDirective implements OnInit {\n  /**\n   * Ê†πÊçÆÂΩìÂâçÂÖÉÁ¥†ÂÖãÈöÜÁîüÊàêÊãñÊãΩÂπΩÁÅµÂÖÉÁ¥†\n   */\n  cloneGhostElement(element: Element): Element {\n    const clonedElement = element.cloneNode(true) as HTMLElement;\n\n    const originalStyles: CSSStyleDeclaration = document.defaultView.getComputedStyle(element, '');\n\n    for (const cssProperty of styleProperties) {\n      clonedElement.style[cssProperty] = originalStyles[cssProperty];\n    }\n\n    clonedElement.style.pointerEvents = 'none';\n\n    const originalElementChildren = element.getElementsByTagName('*') as HTMLCollectionOf<\n      HTMLElement\n    >;\n    const clonedElementChildren = clonedElement.getElementsByTagName('*') as HTMLCollectionOf<\n      HTMLElement\n    >;\n\n    for (let i = originalElementChildren.length - 1; i--; ) {\n      const originalChild = originalElementChildren[i];\n      const clonedChild = clonedElementChildren[i];\n      const originElementStyles = document.defaultView.getComputedStyle(originalChild, '');\n\n      for (const cssProperty of styleProperties) {\n        clonedChild.style[cssProperty] = originElementStyles[cssProperty];\n      }\n\n      clonedChild.style.pointerEvents = 'none';\n    }\n\n    return clonedElement;\n  }\n}\n```\n\nÂºÄÂßãÊãñÊãΩÂπ∂ÁîüÊàêÂπΩÁÅµÂáΩÊï∞ÁöÑ‰ª£Á†ÅÂÆûÁé∞Ôºö\n\n```ts\ninterface SSDraggableBaseEventArgs {\n  originalEvent: MouseEvent;\n  ghostElement: Nullable<HTMLElement>;\n  startX: number;\n  startY: number;\n  pageX: number;\n  pageY: number;\n  cancel: boolean;\n}\n\nexport class SSDraggableDirective implements OnInit {\n  /**\n   * Èº†Ê†áÁßªÂä®‰∫ã‰ª∂\n   */\n  onMouseMove(e: MouseEvent) {\n    const { pageX, pageY } = e;\n\n    if (this.clicked) {\n      const totalMovedX = pageX - this.startX;\n      const totalMovedY = pageY - this.startY;\n\n      if (\n        !this.dragStarted &&\n        (Math.abs(totalMovedX) > this.dragTolerance || Math.abs(totalMovedY) > this.dragTolerance)\n      ) {\n        const dragStartArgs: SSDraggableBaseEventArgs = {\n          originalEvent: e,\n          ghostElement: this.ghostElement,\n          startX: this.startX,\n          startY: this.startY,\n          pageX,\n          pageY,\n          cancel: false,\n        };\n\n        this.zone.run(() => {\n          this.dragStart.emit(dragStartArgs);\n        });\n\n        if (dragStartArgs.cancel) {\n          this.destoryEventListener();\n\n          return;\n        }\n\n        const clientRect = this.currentElement.getBoundingClientRect();\n\n        this.baseX = clientRect.left;\n        this.baseY = clientRect.top;\n\n        this.dragStarted = true;\n\n        // ÂΩìÁßªÂä®Ë∂≥Â§üÂ§öË∑ùÁ¶ªÊó∂ÔºåÂπΩÁÅµÂÖÉÁ¥†Êâç‰ºöÊ∏≤ÊüìÂπ∂Ë¢´ÂÆûÈôÖÂºÄÂßãÊãñÊãΩ\n        this.createGhostElement(pageX, pageY);\n      } else if (!this.dragStarted) {\n        return;\n      }\n\n      const dragMoveArgs: SSDraggableDragMoveArgs = {\n        originalEvent: e,\n        ghostElement: this.ghostElement,\n        startX: this.startX,\n        startY: this.startY,\n        pageX: this.lastX,\n        pageY: this.lastY,\n        nextPageX: e.pageX,\n        nextPageY: e.pageY,\n        cancel: false,\n      };\n\n      this.dragMove.emit(dragMoveArgs);\n\n      const setPageX = dragMoveArgs.nextPageX;\n      const setPageY = dragMoveArgs.nextPageY;\n\n      if (!dragMoveArgs.cancel) {\n        this.ghostLeft = this.dragDirection === DragDirection.VERTICAL ? this.baseX : setPageX;\n        this.ghostTop = this.dragDirection === DragDirection.HORIZONTAL ? this.baseY : setPageY;\n\n        this.dispatchDragEvent(pageX, pageY, e);\n      }\n\n      this.lastX = setPageX;\n      this.lastY = setPageY;\n    }\n  }\n\n  /**\n   * Ê†πÊçÆÊ®°ÁâàÁîüÊàêÊãñÊãΩÂπΩÁÅµÂÖÉÁ¥†\n   */\n  createGhostElement(pageX: number, pageY: number) {\n    let dynamicGhostRef;\n    //\n    if (this.ghostTemplate) {\n      dynamicGhostRef = this.viewContainer.createEmbeddedView(this.ghostTemplate, null);\n      this.ghostElement = dynamicGhostRef.rootNodes[0];\n    } else {\n      const clonedElement = this.cloneGhostElement(this.currentElement);\n\n      const ghostContainer = document.createElement('div');\n      ghostContainer.appendChild(clonedElement);\n\n      if (this.currentElement.dataset) {\n        Object.entries(this.currentElement.dataset).forEach(([key, value]) => {\n          ghostContainer.setAttribute(`data-${key}`, value);\n        });\n      }\n\n      this.ghostElement = ghostContainer;\n    }\n\n    if (this.ghostElement) {\n      const createEventArgs = {\n        ghostElement: this.ghostElement,\n        cancel: false,\n      };\n\n      this.ghostCreate.emit(createEventArgs);\n\n      if (createEventArgs.cancel) {\n        this.ghostElement = null;\n\n        if (this.ghostTemplate && dynamicGhostRef) {\n          dynamicGhostRef.destroy();\n        }\n        return;\n      }\n\n      this.ghostElement.style.position = 'absolute';\n      this.ghostElement.style.pointerEvents = 'none';\n      this.ghostElement.style.zIndex = this.ghostIndex;\n      this.ghostElement.style.transform =\n        this.dragDirection === DragDirection.BOTH ? 'translate3d(-50%, -50%, 0)' : null;\n      // ÂûÇÁõ¥ÊñπÂêëÂèØÊãñÊãΩÔºåÈÇ£‰πà left Âõ∫ÂÆö\n      this.ghostElement.style.left =\n        this.dragDirection === DragDirection.VERTICAL ? this.baseX + 'px' : pageX + 'px';\n      // Ê∞¥Âπ≥ÊñπÂêëÂèØÊãñÊãΩÔºåÈÇ£‰πà right Âõ∫ÂÆö\n      this.ghostElement.style.top =\n        this.dragDirection === DragDirection.HORIZONTAL ? this.baseY + 'px' : pageY + 'px';\n      this.ghostElement.style.width = 'auto';\n      this.ghostElement.style.height = 'auto';\n      this.ghostElement.style.cursor = 'grabbing';\n\n      document.body.appendChild(this.ghostElement);\n\n      this.ghostElement.addEventListener('pointerup', args => {\n        this.onMouseUp(args);\n      });\n    }\n  }\n}\n```\n\nÂΩìÊãñÊãΩÁªìÊùüÔºå‰πüÂ∞±ÊòØÁî®Êà∑ÈáäÊîæÈº†Ê†á mouseup ÂêéÔºåÂàôÈô§‰∫ÜÈúÄË¶ÅÂ∞Ü‰º†ËææÁªô drop ÁõÆÊ†áÂå∫ÂüüÂ§ñÔºåËøòË¶ÅÁßªÈô§Êó∂Èó¥ÁöÑÁõëÂê¨„ÄÇ\n\n```ts\nexport class SSDrggableDirective implements OnInit {\n  /**\n   * ÁõëÂê¨ÊãñÂä®ÁªìÊùü\n   */\n  onMouseUp(e: MouseEvent) {\n    if (!this.clicked) return;\n\n    this.clicked = false;\n    this.dragStarted = false;\n\n    const dragEndArgs = {\n      originalEvent: e,\n      ghostElement: this.ghostElement,\n      startX: this.startX,\n      startY: this.startY,\n      pageX: e.pageX,\n      pageY: e.pageY,\n      data: this.data,\n      cancel: false,\n    };\n\n    this.zone.run(() => {\n      this.dragEnd.emit(dragEndArgs);\n    });\n\n    this.dispatchDropEvent(e.pageX, e.pageY, e);\n\n    if (this.ghostElement) {\n      this.ghostElement.parentNode?.removeChild(this.ghostElement);\n      this.ghostElement = null;\n    }\n\n    this.destoryEventListener();\n  }\n}\n```\n\n‰Ω†‰πüËÆ∏‰ºöÁñëÈóÆÂú® mouse ÂÆûÁé∞ drag & drop Ë¶ÅÂ¶Ç‰ΩïÂÆûÁé∞Â∞ÜÊãñÊãΩÂÖÉÁ¥†ÁöÑ‰ø°ÊÅØÈÄöÁü•ÁªôÁõÆÁöÑÂú∞ÂÖÉÁ¥†ÔºåÊØïÁ´ü drag & drop ËÉΩÈÄöËøá dataTransfer ‰Ωú‰∏∫Êï∞ÊçÆ‰º†ËæìÁöÑËΩΩ‰ΩìÔºåËÄå‰∏îÂéüÁîüÊîØÊåÅÊï∞ÊçÆ‰º†ÈÄí„ÄÇ\n\n‰∫ãÂÆû‰∏äÔºåÈô§‰∫ÜÊµèËßàÂô®Êèê‰æõÁ±ª‰ºº click„ÄÅmousedown„ÄÅblur Á≠âÂÜÖÁΩÆÁöÑÊ†áÂáÜ‰∫ã‰ª∂Â§ñÔºåÊµèËßàÂô®ËøòÈÄöËøáÊñπÊ≥ïËÆ©ÂºÄÂèëËÄÖËá™Â∑±ÂàõÂª∫ÁõëÂê¨‰∫ã‰ª∂„ÄÇ\n\nÂàõÂª∫ÊåáÂÆöÁ±ªÂûãÁöÑ‰∫ã‰ª∂Á§∫‰æãÔºö\n\n```ts\n// ÂàõÂª∫‰∫ã‰ª∂\nconst event = documet.createEvent('Event');\n\n// ÂÆö‰πâ‰∫ã‰ª∂Âêç‰∏∫ build\nevent.initEvent('build', true, true);\n\n// ÁõëÂê¨‰∫ã‰ª∂\nevent.addEventListener(\n  'build',\n  function(e) {\n    // e.target\n  },\n  false\n);\n\n// Ëß¶ÂèëÂØπË±°ÂèØ‰ª•ÊòØ‰ªª‰ΩïÂÖÉÁ¥†ÊàñÂÖ∂‰ªñ‰∫ã‰ª∂ÁõÆÊ†á\nelem.dispatchEvent(Event);\n```\n\nÂΩìÂÖÉÁ¥†Ë¢´ÊãñÊãΩÁßªÂä®Êó∂Ôºå‰ºöÂÆûÊó∂ÈÄöËøá getElementsAtPoint Ëé∑ÂèñÂÖÉÁ¥†‰∏ãÊñπÁöÑÂùêÊ†áÂêÑÂ±ÇÁ∫ßÁöÑÂÖÉÁ¥†ÔºåÂΩìÂ≠òÂú®ÁõÆÁöÑÂú∞Ê†áËØÜÁöÑÂÖÉÁ¥†Êó∂ÔºåÊâßË°åÂØπÂ∫îÁöÑÂë®ÊúüÂáΩÊï∞ÔºåËøôÊ†∑Â∞±ËÉΩÂÆûÁé∞Êï∞ÊçÆÁöÑÈÄö‰ø°‰∫Ü„ÄÇ\n\n‰∏ãÈù¢‰∏∫ÂÆûÁé∞ drag Âíå drop Áõ∏ÂÖ≥‰∫ã‰ª∂ÁöÑ‰ª£Á†ÅÔºö\n\n- dispatchDragEventÔºöÂ§ÑÁêÜ dragEnter„ÄÅdragLeave ‰∫ã‰ª∂\n- dispatchDropEventÔºöÂ§ÑÁêÜ drop ‰∫ã‰ª∂\n- dispatchEventÔºöÂ∫ïÂ±ÇÂ∞ÅË£Ö\n\n```ts\nexport class SSDraggableDirective implements OnInit {\n  dispatchDragEvent(pageX: number, pageY: number, originalEvent: MouseEvent) {\n    let dropArea;\n\n    const customEventArgs: SSDraggableCustomEventDetail = {\n      data: { ...this.data },\n      originalEvent,\n      ghostElement: this.ghostElement,\n      startX: this.startX,\n      startY: this.startY,\n      pageX,\n      pageY,\n      cancel: false,\n    };\n\n    // ÊåâÁÖßÂÖÉÁ¥†ÂÜíÊ≥°È°∫Â∫èÊéíÂàóÁöÑÊï∞ÁªÑ\n    const elementsFromPoint = this.getElementsAtPoint(pageX, pageY);\n    const dropAreaFlag = this.dropAreaFlag;\n\n    for (const element of elementsFromPoint) {\n      if (\n        element.getAttribute(dropAreaFlag) === 'true' &&\n        element !== this.ghostElement &&\n        element !== this.currentElement\n      ) {\n        dropArea = element;\n        break;\n      }\n    }\n\n    if (dropArea && (!this.lastDropArea || (this.lastDropArea && this.lastDropArea !== dropArea))) {\n      if (this.lastDropArea) {\n        this.dispatchEvent(this.lastDropArea, 'ssDragLeave', customEventArgs);\n      }\n\n      this.lastDropArea = dropArea;\n      this.dispatchEvent(dropArea, 'ssDragEnter', customEventArgs);\n    } else if (!dropArea && this.lastDropArea) {\n      this.dispatchEvent(this.lastDropArea, 'ssDragLeave', customEventArgs);\n      this.lastDropArea = null;\n      return;\n    }\n\n    if (dropArea) {\n      this.dispatchEvent(dropArea, 'ssDragOver', customEventArgs);\n    }\n  }\n\n  dispatchDropEvent(pageX: number, pageY: number, originalEvent: MouseEvent) {\n    const customEventArgs = {\n      ghostElement: this.ghostElement,\n      originalEvent,\n      startX: this.startX,\n      startY: this.startY,\n      pageX,\n      pageY,\n      data: this.data,\n      cancel: false,\n    };\n\n    this.dispatchEvent(this.lastDropArea, 'ssDrop', customEventArgs);\n  }\n\n  dispatchEvent(\n    target: Nullable<HTMLElement>,\n    eventName: string,\n    eventArgs: SSDraggableCustomEventDetail\n  ) {\n    if (target) {\n      const customEvent = document.createEvent('CustomEvent');\n      customEvent.initCustomEvent(eventName, false, false, eventArgs);\n      target.dispatchEvent(customEvent);\n    }\n  }\n\n  protected getElementsAtPoint(pageX: number, pageY: number) {\n    const viewPortX = pageX - window.pageXOffset;\n    const viewPortY = pageY - window.pageYOffset;\n\n    if (document['msElementsFromPoint']) {\n      const elements = document['msElementsFromPoint'](viewPortX, viewPortY);\n      return elements === null ? [] : elements;\n    } else {\n      return document.elementsFromPoint(viewPortX, viewPortY);\n    }\n  }\n}\n```\n\nÂ¶ÇÊ≠§ËøôÊ†∑ÔºåÊãñÊãΩÂÖÉÁ¥†ÁöÑ Angular Êåá‰ª§Â∞±ËøôÊ†∑ÂÆûÁé∞‰∫ÜÔºåËØ∏Â¶ÇËæπÁïå„ÄÅÊ†áËØÜÂ±ûÊÄßÁ≠âÂÆûÁé∞‰∏äËø∞‰ª£Á†ÅÂ∑≤ÁªèÂåÖÂê´Âú®ÂÜÖÔºå‰∏ãÈù¢ÊÄªÁªìÂ∞ÅË£Ö‰∏Ä‰∏™ mouse ÂÆûÁé∞ drag ÁöÑÊåá‰ª§Â∑•ÂÖ∑ÈúÄË¶ÅËÄÉËôëÂà∞ÁöÑ API Âíå‰∫ã‰ª∂„ÄÇ\n\n| API           | ËØ¥Êòé                         | Á±ªÂûã                     |\n| :------------ | :--------------------------- | :----------------------- |\n| data          | ÊãñÊãΩÂÖÉÁ¥†Êê∫Â∏¶ÁöÑÊï∞ÊçÆ           | any                      |\n| draggable     | ËÉΩÂê¶Ë¢´ÊãñÊãΩ                   | boolean \\| () => boolean |\n| ghostTemplate | Ë¢´ÊãñÊãΩÂπΩÁÅµÂÖÉÁ¥†ÁöÑÊ®°ÁâàÂºïÁî®ÂèòÈáè | `TemplateRef<any>`       |\n| ghostIndex    | ÂπΩÁÅµÂÖÉÁ¥†ÁöÑÂ±ÇÁ∫ß               | string                   |\n| dragTolerance | Âà§Êñ≠ÊãñÊãΩÂºÄÂßãÁöÑÈòàÂÄº           | number                   |\n| dragDirection | ËæπÁïå                         | DragDirection            |\n| dropAreaFlag  | Ê†áËØÜË¢´ÊãñÂä®ÂÖÉÁ¥†ÁöÑËá™ÂÆö‰πâÂ±ûÊÄß   | string                   |\n\n> dropAreaFlag ÊòØÁî®‰∫éÂà§Êñ≠ÊòØÂê¶‰∏∫ËÉΩÂ§ü drop Âå∫ÂüüÁöÑÊ†áËØÜÔºå‰ΩøÁî® drop Êåá‰ª§ÁöÑÂÖÉÁ¥†ÈªòËÆ§Ê∑ªÂä† data-\\* ÁöÑËá™ÂÆö‰πâ attribute„ÄÇ\n\n| ‰∫ã‰ª∂         | ËØ¥Êòé               |\n| :----------- | :----------------- |\n| dragStart    | ÊãñÊãΩÂºÄÂßãÊó∂Ëß¶Âèë     |\n| dragMove     | ÊãñÊãΩÂÖÉÁ¥†ÁßªÂä®Êó∂Ëß¶Âèë |\n| dragEnd      | ÊãñÊãΩÁªìÊùüÊó∂Ëß¶Âèë     |\n| ghostCreate  | ÂπΩÁÅµÂÖÉÁ¥†ÂàõÂª∫Êó∂Ëß¶Âèë |\n| ghostDestory | ÂπΩÁÅµÂÖÉÁ¥†ÈîÄÊØÅÊó∂Ëß¶Âèë |\n\n### ÊãñÊãΩÁõÆÁöÑÂú∞ÂÖÉÁ¥†\n\nÂØπ‰∫éÈáäÊîæÁöÑ drop Êåá‰ª§Êù•ËØ¥ÔºåÂÆûÁé∞Ëµ∑Êù•Â∞±ÊØîËæÉÁÆÄÂçï‰∫ÜÔºåÂè™ÈúÄË¶ÅÂØπ drag Êåá‰ª§ÂÆö‰πâÁöÑÂá†‰∏™Ëá™ÂÆö‰πâ‰∫ã‰ª∂ËøõË°åÁõëÂê¨Âπ∂Â§ÑÁêÜÂØπÂ∫îÁöÑÂõûË∞É‰∫ã‰ª∂Âç≥ÂèØ„ÄÇ\n\n```ts\n@Directive({\n  selector: '[ssDroppable]',\n})\nexport class SSDroppableDirective implements OnInit {\n  public currentElement: Nullable<HTMLElement> = null;\n\n  @Input()\n  public dropAreaFlag = 'ssdroppable';\n\n  @Output()\n  public dragEnter = new EventEmitter<CustomEvent>();\n\n  @Output()\n  public dragOver = new EventEmitter<CustomEvent>();\n\n  @Output()\n  public dragLeave = new EventEmitter<CustomEvent>();\n\n  @Output()\n  public drop = new EventEmitter<CustomEvent>();\n\n  constructor(public el: ElementRef, public zone: NgZone) {\n    this.currentElement = el.nativeElement;\n  }\n\n  public ngOnInit(): void {\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragOver = this.onDragOver.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n\n    if (!this.currentElement) return;\n\n    this.currentElement.setAttribute(this.dropAreaFlag, 'true');\n\n    this.currentElement.addEventListener('ssDragEnter', this.onDragEnter as EventListener);\n    this.currentElement.addEventListener('ssDragOver', this.onDragOver as EventListener);\n    this.currentElement.addEventListener('ssDragLeave', this.onDragLeave as EventListener);\n    this.currentElement.addEventListener('ssDrop', this.onDrop as EventListener);\n  }\n\n  /**\n   * Ë¢´ÊãñÂä®ÂÖÉÁ¥†ËøõÂÖ•ÂΩìÂâçÂÖÉÁ¥†ÊâÄÂç†ÊçÆÁöÑÂ±èÂπïÁ©∫Èó¥Êó∂Ëß¶Âèë\n   */\n  public onDragEnter(e: CustomEvent): void {\n    this.zone.run(() => {\n      this.dragEnter.emit(e);\n    });\n  }\n\n  /**\n   * Ë¢´ÊãñÊãΩÂÖÉÁ¥†Âú®ÂΩìÂâçÂÖÉÁ¥†‰∏äÊñπÊó∂Ëß¶Âèë\n   */\n  public onDragOver(e: CustomEvent): void {\n    this.zone.run(() => {\n      this.dragOver.emit(e);\n    });\n  }\n\n  /**\n   * Ë¢´ÊãñÂä®ÂÖÉÁ¥†Ê≤°ÊúâÊîæ‰∏ãÂ∞±Á¶ªÂºÄÂΩìÂâçÂÖÉÁ¥†Êó∂Ëß¶Âèë\n   */\n  public onDragLeave(e: CustomEvent): void {\n    this.zone.run(() => {\n      this.dragLeave.emit(e);\n    });\n  }\n\n  /**\n   * ÈáäÊîæ‰∫ã‰ª∂\n   */\n  public onDrop(e: CustomEvent): void {\n    this.zone.run(() => {\n      this.drop.emit(e);\n    });\n  }\n}\n```\n\n## Áº©Áï•ÂõæÊåá‰ª§\n\nÂú®ËßÜÈ¢ëÂâ™ËæëËΩØ‰ª∂‰∏≠ÔºåËΩ®ÈÅìÂå∫ÂüüÁöÑËßÜÈ¢ëÁâáÊÆµÈÉΩ‰ºöÊòæÁ§∫ÂØπÂ∫îÊó∂Èó¥ÁöÑÊà™ÂõæÔºåÊñπ‰æøÁî®Êà∑ÂÆö‰ΩçÊåáÂÆöÁîªÈù¢ÊâÄÂú®ÁöÑ‰ΩçÁΩÆ‰ª•ËøõË°åËøõ‰∏ÄÊ≠•ÁöÑÊìç‰ΩúÔºåÂêåÊ†∑Âú∞Êàë‰ª¨‰πüÈúÄË¶ÅÂØπËßÜÈ¢ëÁâáÊÆµÁöÑÁº©Áï•ÂõæËøõË°åÂ±ïÁ§∫„ÄÇ\n\nÂú®Â§ßÊñπÂêë‰∏äÊàë‰ª¨Êúâ‰∏§ÁßçÊñπÂºèÂÆûÁé∞Ê≠§Á±ªÊïàÊûúÔºö\n\n- ÂΩìÁî®Êà∑ÂºÄÂßã‰∏ä‰º†ËßÜÈ¢ë‰ΩÜÊú™ÂÆåÊàêÊó∂ÔºåÂØπËßÜÈ¢ëËøõË°åÈÖçÈΩêÊìç‰ΩúÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπËßÜÈ¢ëÊñá‰ª∂Ê†πÊçÆÊØî‰æãÊà™ÂèñÂõæÁâáÂπ∂Â±ïÁ§∫\n- ÂΩìËßÜÈ¢ë‰∏ä‰º†ÂÆåÊàêÂêéÔºå‰∫ëÊúçÂä°ÁîüÊàêËßÜÈ¢ëÊà™ÂõæÈõ™Á¢ßÂõæÔºåÁî®Êà∑Âà∑Êñ∞È°µÈù¢ÂêéÔºå‰ΩøÁî®Èõ™Á¢ßÂõæËøõË°åÂ±ïÁ§∫\n\n### ËßÜÈ¢ëÊñá‰ª∂ÁîªÂ∏ÉÊà™Âõæ\n\n‰∏é‰πãÂâçÊ£ÄÊµãËßÜÈ¢ëÊñá‰ª∂ÂèØÁî®ÊÄßÊó∂ÁöÑÂÆûÁé∞ÈÄªËæëÁ±ª‰ººÔºåÂæÄÊñáÊ°£‰∏≠ÊèíÂÖ• video Ê†áÁ≠æÔºåÂπ∂ËøõË°å play Êí≠ÊîæÔºåÂà©Áî® Canvas ÁîªÂ∏ÉÁªòÂà∂ËßÜÈ¢ëÊåáÂÆöÊó∂Èó¥ÁöÑÁîªÈù¢ÔºåÂΩìÊó∂Èó¥Êõ¥Êñ∞ÂêéÂØπÁîªÂ∏ÉÂÜÖÂÆπ‰ΩøÁî® `toDataURL` ËæìÂá∫ËßÜÈ¢ëÊà™Âõæ„ÄÇ\n\n```ts\nexport class SSVideoPreviewDirective implements OnInit {\n  @Input()\n  public previewList;\n\n  @Input()\n  public blobUrl;\n\n  /** ÂºÄÂßãÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ */\n  @Input()\n  public beginTime: number;\n\n  /** ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÊåÅÁª≠Êó∂ÈïøÔºàÂçï‰ΩçÔºöÁßíÔºâ */\n  @Input()\n  public duration: number;\n\n  /** Ê≠•ÈïøÔºåÊØèÂº†Êà™ÂõæÁõ∏ÈöîÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ */\n  @Input()\n  public scaleRatio: number;\n\n  public ngOnInit(): void {\n    if (this.imgList && this.imgList.length > 0) {\n      this.renderVideoPreviewByImageList();\n    } else if (this.blobUrl) {\n      this.renderVideoPreviewByBlobUrl();\n    }\n  }\n\n  // ÊØèÊÆµËßÜÈ¢ëÊï∞ÊçÆÈÉΩ‰ºö‰øùÂ≠òÂèØÊí≠ÊîæÁöÑ Blob Url\n  public renderVideoPreviewByBlobUrl() {\n    // Áº©Áï•ÂõæÊÄªÊï∞Èáè\n    const count = Math.ceil(this.duration / this.scaleRatio);\n    const frag = document.createDocumentFragment();\n\n    const durationList = [];\n    for (let i = 0; i < count; i++) {\n      // Á¨¨ i Âº†ÊòæÁ§∫Êà™ÂõæÁöÑÊó∂Èó¥\n      const currentTime = this.beginTime + i * this.scaleRatio;\n\n      durationList.push(currentTime);\n    }\n\n    const promise = this.videoPicture({ videoUrl: this.blobUrl, seconds: durationList });\n\n    promise.then((imgList: string[]) => {\n      imgList.forEach((base64: string) => {\n        const div = document.createElement('div');\n\n        div.style.display = 'inline-block';\n        div.style.width = '80px';\n        div.style.height = '44px';\n        div.style.backgroundRepeat = 'no-repeat';\n        div.style.backgroundImage = `url(\"${base64}\")`;\n        div.style.backgroundSize = 'contain';\n        div.style.flexShrink = '0';\n\n        frag.appendChild(div);\n      });\n\n      this.currentElement.innerHTML = '';\n      this.currentElement.appendChild(frag);\n    });\n  }\n\n  /**\n   * Ëé∑Âèñ‰∏ÄÊÆµÊó∂Èó¥ÁöÑËßÜÈ¢ëÊà™Âõæ\n   *\n   * @param videoData ËßÜÈ¢ëÊï∞ÊçÆ\n   * @param width Êà™ÂõæÂÆΩÂ∫¶ÔºàÈªòËÆ§ 80pxÔºâ* 8 ÊòØ‰∏∫‰∫ÜËÆ©Êà™Âá∫Êù•ÁöÑÂõæÁâá‰∏çÊ®°Á≥ä\n   * @param height Êà™ÂõæÈ´òÂ∫¶ÔºàÈªòËÆ§ 44pxÔºâ* 8 ÊòØ‰∏∫‰∫ÜËÆ©Êà™Âá∫Êù•ÁöÑÂõæÁâá‰∏çÊ®°Á≥ä\n   * @param seconds Êà™ÂèñËßÜÈ¢ëÁöÑÁßí   [1,3,4,5,6]Ë°®Á§∫Êà™ÂèñËßÜÈ¢ë 1 3 4 5 6ÁßíÁöÑÂõæÁâá\n   */\n  videoPicture({\n    videoUrl,\n    videoData,\n    width = 80 * 8,\n    height = 44 * 8,\n    seconds,\n  }: {\n    videoUrl?: string;\n    videoData?: File;\n    width?: number;\n    height?: number;\n    seconds: number[];\n  }) {\n    // ÂàõÂª∫‰∏Ä‰∏™ËßÜÈ¢ëÂÖÉÁ¥†\n    const container = document.createElement('div');\n    container.className = 'video-picture';\n    container.style.position = 'absolute';\n    // container.style.visibility = 'hidden';\n    container.style.left = '-9999px';\n    const video = document.createElement('video');\n    video.width = width;\n    video.height = height;\n    video.src = videoUrl || window.URL.createObjectURL(videoData);\n    container.appendChild(video);\n\n    // ÂàõÂª∫‰∏Ä‰∏™canvas\n    const canvas = document.createElement('canvas');\n    canvas.width = width; //ËßÜÈ¢ëÂéüÊúâÂ∞∫ÂØ∏\n    canvas.height = height; //ËßÜÈ¢ëÂéüÊúâÂ∞∫ÂØ∏\n    container.appendChild(canvas);\n\n    // Êà™Âõæ\n    return new Promise(resolve => {\n      video.addEventListener('loadeddata', () => {\n        video.currentTime = 1;\n        video.play();\n      });\n      video.addEventListener('playing', async () => {\n        video.pause();\n        const captureVideoPromises = [];\n        for (let i = 0; i < seconds.length; i++) {\n          const captureVideoPromise = await this.captureVideoPromise(canvas, video, seconds[i]);\n          captureVideoPromises.push(captureVideoPromise);\n        }\n        Promise.all(captureVideoPromises).then(allSrcs => {\n          container.remove();\n          allSrcs.sort((a, b) => a.beginTime - b.beginTime);\n          const srcs = allSrcs.map(val => val.src);\n          resolve(srcs);\n        });\n      });\n\n      document.body.appendChild(container);\n    });\n  }\n\n  /**\n   * ËßÜÈ¢ëÊà™Âõæ\n   * @param canvas\n   * @param video\n   * @param beginTime Êà™ÂèñÂõæÁâáÁöÑËßÜÈ¢ëÊó∂Èó¥ÁÇπ\n   */\n  private captureVideoPromise(canvas, video, beginTime) {\n    const videoWidth = video.width;\n    const videoHeight = video.height;\n    // ËßÜÈ¢ëÁöÑÂΩìÂâçÁîªÈù¢Ê∏≤ÊüìÂà∞ÁîªÂ∏É‰∏ä\n    const ctx = canvas.getContext('2d');\n    return new Promise(resolve => {\n      const cutImg = () => {\n        video.removeEventListener('timeupdate', cutImg);\n\n        ctx.drawImage(video, 0, 0, videoWidth, videoHeight);\n        const dataUrl = canvas.toDataURL('image/png');\n        resolve({ beginTime: beginTime, src: dataUrl });\n      };\n      video.addEventListener('timeupdate', cutImg);\n      video.currentTime = beginTime;\n    });\n  }\n}\n```\n\n### Èõ™Á¢ßÂõæÂÆûÁé∞Áº©Áï•Âõæ\n\nÂÆûÁé∞ÊÄùË∑ØÔºö\n\n1. ËÆ°ÁÆóÊÄªÂÖ±ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊà™ÂõæÊï∞Èáè\n2. Âæ™ÁéØÂàõÂª∫ DOM ÂÖÉÁ¥†ÔºåÂπ∂ËÆ°ÁÆóÂΩìÂâç‰ΩçÁΩÆÁº©Áï•ÂõæÂØπÂ∫îÈõ™Á¢ßÂõæ‰∏≠ÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØÔºå‰ª• background ËÉåÊôØÊ†∑ÂºèÂÆûÁé∞Áº©Áï•ÂõæÂ±ïÁ§∫\n3. ÊúÄÂêéÁªü‰∏ÄÊèíÂÖ•Âà∞ÊñáÊ°£‰∏≠\n\nËøôÈáåÁöÑËÆ°ÁÆóÊñπÊ≥ïÂÄºÂæóÊÄªÁªì‰∏Ä‰∏ãÔºö\n\nÊØè‰∏™ËßÜÈ¢ëÊ°ÜÊû∂ÂØπÂ∫îÁùÄ‰∏Ä‰∏™ËßÜÈ¢ëÁ¥†ÊùêÔºåÁî®Êà∑ÂèØ‰ª•Âú®ËßÜÈ¢ëÊ°ÜÊû∂‰∏äÊ∑ªÂä†ÈîöÁÇπÔºåÊâÄ‰ª•Âú®ËßÜÈ¢ëÊ°ÜÊû∂ÂÜÖÊòØ‰ª• ËßÜÈ¢ë-ÈîöÁÇπ-ËßÜÈ¢ë-ÈîöÁÇπ-ËßÜÈ¢ë Èó¥ÈöîÂ≠òÂú®ÁöÑÔºåÈîöÁÇπÂêéËßÜÈ¢ëÁöÑÂºÄÂßãÊó∂Èó¥ÊòØ‰∏ä‰∏ÄÊÆµËßÜÈ¢ëÁöÑÁªìÊùüÊó∂Èó¥„ÄÇÈòøÈáå‰∫ëÁöÑÈõ™Á¢ßÂõæÊòØÊØèÁßíÊà™Âèñ‰∏ÄÂº†ÂõæÁâáÔºå‰πüÂ∞±ÊòØÁ¨¨ 0 ÁßíÂØπÂ∫îÁ¨¨‰∏ÄÂº†Êà™ÂõæÔºåÁ¨¨ 100 ÁßíÂØπÂ∫îÁöÑÊòØÁ¨¨‰∫åÁªÑ\n\n![sprite-preview](https://img.mrsingsing.com/sprite-preview.png)\n\n> ÁªìÂêà‰ª£Á†ÅËØ¥ÊòéÔºö\n>\n> - duration ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÊåÅÁª≠Êó∂ÈïøÔºàÂçï‰ΩçÔºöÁßíÔºâ\n> - scaleRatio Ê∏∏Ê†áÂ∞∫ÁöÑÊØî‰æãÂ∞∫\n> - beginTime ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÂú®ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÂºÄÂßãÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ\n> - imgList Èõ™Á¢ßÂõæÊï∞ÁªÑÈõÜÂêà\n\n1. ÈÄöËøáÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÊà™ÂèñÁâáÊÆµÊÄªÊåÅÁª≠Êó∂ÈïøÂíåÊØî‰æãÂ∞∫ËÆ°ÁÆóÂá∫ÊÄªÂÖ±ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊà™ÂõæÊï∞ÈáèÔºå‰∏çÂ§üÊòæÁ§∫‰∏ÄÂº†ÂÆåÊï¥Áº©Áï•ÂõæÂàôÊòæÁ§∫Áº©Áï•ÂõæÁöÑÈÉ®ÂàÜÔºåÈááÁî®Êà™ÂèñÂõæÁâáÁöÑÁ≠ñÁï•\n2. ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÊà™ÂèñÁâáÊÆµÁöÑÁ¨¨‰∏ÄÂº†Áº©Áï•ÂõæÂç≥‰∏∫Êà™ÂèñÁâáÊÆµÂºÄÂßãÊó∂Èó¥ÈÇ£‰∏ÄÁßíÔºå‰æãÂ¶Ç‰∏Ä‰∏™‰Ωç‰∫éÈîöÁÇπÂêéÁöÑËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÁöÑÂºÄÂßãÊó∂Èó¥ÊòØÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÁ¨¨ 120 ÁßíÔºåÈÇ£‰πàÁ¨¨‰∏ÄÂº†Â∞±ÊòØ 120 ÁßíÂ§ÑÁöÑÊà™Âõæ\n3. Èõ™Á¢ßÂõæÊØèÂº†‰∏∫ 10x10 ÁöÑËßÑÂàôÔºåÁ¨¨ 0-99 Áßí‰∏∫Á¨¨‰∏ÄÂº†Èõ™Á¢ßÂõæÔºåÁ¨¨ 100-199 Áßí‰∏∫Á¨¨‰∫åÂº†Èõ™Á¢ßÂõæÔºåÂè™ÈúÄÂΩìÂâçÊó∂Èó¥ÔºàÁßíÊï∞ÔºâÈô§‰ª• 100 Âπ∂Âêë‰∏ãÂèñÊï¥ÔºåÂ∞±ÂèØËé∑Áü•ÂΩìÂâçÁº©Áï•ÂõæÂú®Êï∞ÁªÑÁöÑÂì™Âº†Èõ™Á¢ßÂõæ‰∏≠\n4. ÊâæÂà∞Èõ™Á¢ßÂõæÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÁ°ÆËÆ§Âú®Èõ™Á¢ßÂõæ‰∏≠ÁöÑÊñπ‰ΩçÔºåÊ†πÊçÆÂΩìÂâçÊó∂Èó¥ÂèñÊ®° 100 ÁöÑÁªìÊûúÊòØÂê¶Á≠â‰∫é 0 ÂèØÂæóÁü•ÊòØÂê¶‰∏∫Èõ™Á¢ßÂõæÁöÑÁ¨¨‰∏ÄÂº†ÔºåÂê¶ÂàôÂêë‰∏äÂèñÊï¥ÂèñÊ®° 100 ÂèØÁü•ÂÖ∂ÊâÄÂ§Ñ‰ΩçÁΩÆ\n5. Â∞ÜËá™ÁÑ∂È°∫Â∫èËΩ¨Êç¢‰∏∫Áî± 0 ÂºÄÂßãÁöÑÁ¥¢ÂºïÈ°∫Â∫è\n6. ËÆ°ÁÆóÊ∞¥Âπ≥ÂÅèÁßªÂÄºÔºöÁ¥¢Âºï‰∏™‰ΩçÊï∞Âç≥‰ª£Ë°®ÊâÄÈúÄÁº©Áï•ÂõæÂ∑¶‰æßË∑ùÁ¶ªÈõ™Á¢ßÂõæÊâÄÂú®Ë°åÂ∑¶‰æßÂÖ±ÊúâÂ§öÂ∞ëÂº†Áº©Áï•ÂõæÔºåÂèØÁî± `(index % 10) * width` ËÆ°ÁÆóÊ∞¥Âπ≥ÂÅèÁßªÂÄº\n7. ËÆ°ÁÆóÂûÇÁõ¥ÂÅèÁßªÂÄºÔºöÁ¥¢ÂºïÂçÅ‰ΩçÊï∞Âç≥‰ª£Ë°®ÊâÄÈúÄÁº©Áï•ÂõæÈ°∂Á´ØË∑ùÁ¶ªÈõ™Á¢ßÂõæÊâÄÂú®ÂàóÈ°∂Á´ØÂÖ±ÊúâÂ§öÂ∞ëÂº†Áï•Áï•ÂõæÔºåÂèØÁî± `Math.floor(index / 10) * height` ËÆ°ÁÆóÂûÇÁõ¥ÂÅèÁßªÂÄº\n\n```ts\nexport class SSVideoPreviewDirective implements OnInit {\n  public renderVideoPreviewByImageList(): void {\n    // ÊÄªÂÖ±ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊà™ÂõæÂº†Êï∞\n    const count = Math.ceil(this.duration / this.scaleRatio);\n    const frag = document.createDocumentFragment();\n\n    for (let i = 0; i < count; i++) {\n      const div = document.createElement('div');\n\n      // Á¨¨ i Âº†ÊòæÁ§∫Êà™ÂõæÁöÑÊó∂Èó¥\n      const currentTime = this.beginTime + i * this.scaleRatio;\n      // Êà™ÂõæÊï∞ÁªÑ‰∏≠Á¨¨Âá†ÁªÑÊàêÂëò\n      const groupIndex = Math.floor(currentTime / 100);\n      // 100x100 ÈáåÁöÑÁ¨¨Âá†Âº†\n      const remainder = parseInt(`${currentTime}`) % 100 === 0 ? 1 : Math.ceil(currentTime) % 100;\n      //  ÂØπÂ∫îÂú®ÂõæÁâáÁªÑ‰∏≠ÁöÑÁ¥¢Âºï\n      const index = remainder === 0 ? 99 : remainder - 1;\n\n      const url = this.imgList[groupIndex];\n      const x = (index % 10) * 80;\n      const y = Math.floor(index / 10) * 44;\n\n      div.style.display = 'inline-block';\n      div.style.width = '80px';\n      div.style.height = '44px';\n      div.style.backgroundRepeat = 'no-repeat';\n      div.style.backgroundImage = `url(\"${url}\")`;\n      div.style.backgroundPosition = `-${x}px -${y}px`;\n      div.style.backgroundSize = '800px 440px';\n      div.style.flexShrink = '0';\n\n      frag.appendChild(div);\n    }\n\n    this.currentElement.innerHTML = '';\n    this.currentElement.appendChild(frag);\n  }\n}\n```\n\nÂú®ÂØπËøôÁßçÁº©Áï•ÂõæÁöÑÊäÄÊúØÂÆûÁé∞ÊñπÊ°àËøõË°åË∞ÉÁ†îÊó∂ÔºåÂèëÁé∞‰∫ÜÂè¶‰∏ÄÁßçÂ∑ßÂ¶ôÂÆûÁé∞ÊñπÂºèÔºö\n\nÂØπÂΩì‰∏™ DOM ÂÖÉÁ¥†ËÆæÂÆöÂ§ö‰∏™ background-image Âíå background-positionÔºåÊåáÂÆö backgroud-size ‰∏∫Âõ∫ÂÆöÂÆΩÂ∫¶ÔºåËÉåÊôØÂõæÁöÑÂºïÁî®‰πüÊòØ‰∏ÄÂº†Èõ™Á¢ßÂõæÔºåÂè™ÈúÄË¶ÅÂØπ background-image Âíå background-position ËøõË°åËÆ°ÁÆóÊìç‰ΩúÂç≥ÂèØ„ÄÇ\n\n‰ΩÜÊòØËøôÁßçÂÆûÁé∞ÊñπÂºèÊúâÂâçÊèêÔºåÂ∞±ÊòØÈõ™Á¢ßÂõæÂøÖÈ°ªÊòØ 1xn ËøôÁßçÂΩ¢ÂºèÁöÑÔºåËøôÊòØÂõ†‰∏∫ background-image ËÆæÁΩÆÂ§ö‰∏™ÂÄºÊó∂ÔºåËÉåÊôØÂõæÁâá‰ºö‰æùÊ¨°‰ªéÂ∑¶ÂêëÂè≥ÊéíÂàóÔºåÂ¶ÇÊûúÊòØ 10x10 ËøôÊ†∑ÁöÑËßÑÂàôÔºåÈÇ£‰πàÈõ™Á¢ßÂõæÁöÑÂÆΩÂ∫¶‰ºöÂç†Êª°ÔºåÂ∞±Êó†Ê≥ïÂÆûÁé∞‰∏Ä‰∏™ËÆæÁΩÆÂÆö‰πâ‰∏ÄÂº†Áº©Áï•Âõæ‰∫Ü„ÄÇ\n\n![tencent-preview](https://img.mrsingsing.com/tencent-preview.png)\n\n‰ΩÜÊòØÈâ¥‰∫éÈòøÈáå‰∫ëÊà™ÂõæÂè™ËÉΩÈááÁî® 10 x 10 ÁöÑËßÑÊ†ºÔºåÊâÄ‰ª•Êàë‰ª¨ÊúÄÁªà‰ªçÊóßÈááÁî®Â∑≤ÊúâÁöÑÊñπÊ°à„ÄÇ\nÂÖ∂‰ªñÂäüËÉΩ\n\n‰ª•‰∏äÁΩóÂàóËØ¶ÁªÜËÆ≤Ëß£‰∫ÜËØ•Á≥ªÁªüÈÉ®ÂàÜÊ†∏ÂøÉÂäüËÉΩÁöÑÂÆûÁé∞ÊñπÊ°àÔºå‰ΩÜÁ¢ç‰∫éÁØáÂπÖÂÆûÂú®Â§™ÈïøÔºåÂ∞±‰∏çÂÆåÂÖ®Â±ïÁ§∫‰∫ÜÔºåÂÆûÁé∞‰∏äÈÉΩÊòØÂ§ßÂêåÂ∞èÂºÇ„ÄÇ‰∏ãÈù¢Â∞±ÁÆÄËø∞ÂÖ∂‰ªñÈÉ®ÂàÜÂäüËÉΩÂÆûÁé∞ÁöÑÈöæÁÇπÂèäËß£ÂÜ≥ÊÄùË∑Ø„ÄÇ\n\n## ÂÖ∂‰ªñÂäüËÉΩ\n\n### Âø´Êç∑ËèúÂçï\n\n‰πüËÆ∏‰Ω†‰ºöÁñëÈóÆÔºå‰∏çÂ∞±‰∏Ä‰∏™Âè≥ÈîÆËèúÂçïÂêóÔºåÊúâÂï•ÈöæÁöÑÔºü\n\nËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑÂø´Êç∑ËèúÂçïÂÆûÁé∞ÁöÑÈöæÂ∫¶Âú®‰∫éËßÜÈ¢ëÊ°ÜÊû∂ÂÜÖÂµåÂ•ó‰∫ÜÈîöÁÇπËøô‰∏™ÂÜÖÁΩÆÁöÑÂÖÉÁ¥†ÔºåËØ•Âå∫ÂüüÁªëÂÆö‰∫ÜÂ§ßÈáèÁöÑÈº†Ê†áÁõ∏ÂÖ≥‰∫ã‰ª∂ click„ÄÅmousedown„ÄÅmousemove„ÄÅmouseup„ÄÅcontextmeu Á≠âÁ≠âÔºåËÄå‰∫§‰∫í‰∏äÈîöÁÇπÁöÑÊãñÊãΩ„ÄÅÂè≥ÈîÆËèúÂçïÁ≠âÈÉΩÈúÄË¶Å‰∏éÂ§ñÂ±ÇÁöÑËßÜÈ¢ëÊ°ÜÊû∂Âå∫ÂàÜÂºÄÊù•ÔºåÊâÄ‰ª•Âú®Ëøô‰∏™Âå∫ÂüüÂ§ßÁªùÂ§ßÈÉ®ÂàÜÁöÑÂÖÉÁ¥†ÈÉΩËÆæÁΩÆ‰∫Ü poiner-events: none ÈòªÊ≠¢‰∫ã‰ª∂ÂÜíÊ≥°„ÄÇ\n\nËøôÂú®‰∫§‰∫íÂ±ÇÈù¢ÂèàÂíåÁÇπÂáªÁ©∫ÁôΩÂå∫ÂüüÂèñÊ∂àÈÄâ‰∏≠„ÄÅÈöêËóèËèúÂçïÁ≠âÊìç‰Ωú‰ºöÂΩ¢ÊàêÂÜ≤Á™ÅÔºåËøôÈúÄË¶ÅÂú® document ‰∏äÁªëÂÆö click ‰∫ã‰ª∂Ôºå‰ΩÜÊòØÈòªÊ≠¢ÂÜíÊ≥°Âèà‰ºöÊó†Ê≥ïÂà∞Ëææ document„ÄÇ‰ª•ÂèäËΩ®ÈÅìÂ∑•‰ΩúÂå∫‰∏§‰∏™Âè≥ÈîÆËèúÂçï‰πãÈó¥ÁöÑ‰∫íÊñ•ÂÖ≥Á≥ªÁöÑÂ§ÑÁêÜÔºåÈÉΩÊòØËæÉÈöæÂ§ÑÁêÜÁöÑÂú∞Êñπ„ÄÇ\n\nÊ≠§Â§ÑÊàë‰πüÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Âè≥ÈîÆÁÇπÂáªÁöÑÊåá‰ª§ÔºåÂú®ÂàùÂßãÂåñÊåá‰ª§Êó∂‰ºöÂÖàÁõëÂê¨ document ÁöÑ click ‰∫ã‰ª∂ÔºåÂ¶ÇÊûúÊåá‰ª§‰∏≠ÁºìÂ≠òÁöÑËèúÂçïËäÇÁÇπ‰∏∫Á©∫ÔºåÊàñ click ‰∫ã‰ª∂ÂØπË±°ÁöÑ path Â±ûÊÄßÔºà‰πüÂ∞±ÊòØ‰∫ã‰ª∂ÂÜíÊ≥°ÁöÑË∑ØÂæÑÔºâÂåÖÂê´ËèúÂçïËäÇÁÇπÔºà‰πüÂ∞±ÊòØÂú®ËèúÂçï‰∏äÊñπ clickÔºâÔºåÂàô‰∏çËøõË°åÈöêËóèËèúÂçïÁöÑÊìç‰ΩúÔºåÂê¶ÂàôÂàôÈúÄË¶ÅÈöêËóè„ÄÇ\n\n![contextmenu](https://img.mrsingsing.com/contextmenu.gif)\n\n### Ê∏∏Ê†áËøõÂ∫¶Êù°\n\nÂΩìÊí≠ÊîæÂô®ÂºÄÂßãÊí≠ÊîæÊó∂Ôºå‰∫§‰∫í‰∏äÈúÄË¶ÅÊääËΩ®ÈÅìÂå∫Áúã‰ΩúÊòØËøõÂ∫¶Êù°ÔºåÊ∏∏Ê†áÈúÄË¶ÅÊ†πÊçÆÊí≠ÊîæÂô®Êí≠ÊîæÁöÑÊó∂Èó¥ÂÆûÊó∂ÁßªÂä®Âà∞Ê∏∏Ê†áÂ∞∫ÂØπÂ∫îÁöÑÊó∂Èó¥‰∏ä„ÄÇËÄå‰∏îÔºåÂΩìÊ∏∏Ê†áÁßªÂä®Ëá≥Â∑•‰ΩúÂå∫ËßÜÂè£‰∏≠Á∫øÊó∂ÔºåÂàôÈúÄË¶ÅÂÆöÂú®‰∏≠Á∫ø‰ΩçÁΩÆÔºåÊîπ‰∏∫ËΩ®ÈÅìÂå∫ÂüüÂêëÂêéÊªöÂä®ÔºõÂΩìËΩ®ÈÅìÂå∫ÂüüÂ∞æÈÉ®ÊªöÂä®Ëá≥Â∑•‰ΩúÂå∫Âè≥‰æßÈáçÂêàÊó∂ÔºåÊ∏∏Ê†áÂàôÈúÄË¶ÅÂÜçÊ¨°ÁßªÂä®ÔºåÁõ¥Ëá≥Âà∞ËßÜÈ¢ëÊí≠ÊîæÁªìÊùü„ÄÇ\n\nÂÆûÁé∞‰∏äÂè™ÈúÄË¶ÅÂ∞ÜÊí≠ÊîæÂô®ÁöÑÊó∂Èó¥ÂõûË∞ÉÊñπÊ≥ïÊèê‰æõÁöÑ duration Êó∂Èó¥ÂèÇÊï∞ÔºåÊ†πÊçÆÊ∏∏Ê†áÂ∞∫ÊØî‰æãÂ∞∫ËΩ¨Âåñ‰∏∫ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÂÆö‰ΩçÊ∏∏Ê†áÈúÄË¶ÅÁßªÂä®Âà∞ÁöÑÂÅèÁßªÂÄºÔºåÂÜçÈÄöËøá scrollTo ÊñπÊ≥ïÊªöÂä®Âà∞ÊåáÂÆö‰ΩçÁΩÆÂç≥ÂèØ„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂ§ÑÁêÜÂ•ΩÊ∏∏Ê†á‰∏ã‰∏™ÁßªÂä®ÁöÑ‰ΩçÁΩÆ‰∏éÂ∑•‰ΩúÂå∫ËßÜÂè£‰∏≠Á∫øË∑ùÁ¶ª‰πãÈó¥ÁöÑÂà§Êñ≠ÔºåËøôÊòØÂå∫ÂàÜÊ∏∏Ê†áÁßªÂä®ËøòÊòØÂ∑•‰ΩúÂå∫ÁßªÂä®ÁöÑÂÖ≥ÈîÆ„ÄÇ\n\n## ÊÄªÁªì\n\nÊú¨ÊñáÂè™ÁùÄÈáçÊèèËø∞‰∫ÜÊïôËÇ≤Ë°å‰∏ö‰∫ëÂâ™ËæëÈ°πÁõÆÁöÑÈáçÁÇπÈöæÁÇπÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂú®È°πÁõÆÂºÄÂèëËøáÁ®ãÂØπÊï∞ÊçÆÁªìÊûÑÁöÑÂÆö‰πâ„ÄÅ‰∏çÂêåÂÆû‰ΩìÁöÑÂ¢ûÂà†ÊîπÊü•„ÄÅ‰∏çÂêåÂå∫ÂüüÁöÑ‰∫ã‰ª∂ÈÄö‰ø°ÂèäÊï∞ÊçÆÂêåÊ≠•„ÄÅÈîöÁÇπ‰∫íÂä®ÁöÑÈÖçÁΩÆ„ÄÅÂÖ®Â±ÄÁöÑËßÜÈ¢ë‰∏ä‰º†ÊÇ¨ÊµÆÁêÉ„ÄÅÂÆûÊó∂ËçâÁ®ø‰øùÂ≠òÂíåÂêàÊàêÂâçÊï∞ÊçÆÁöÑÊ†°È™åÁ≠âÁ≠âÔºåÊØè‰∏™ÁªÜÂàÜÂäüËÉΩÁöÑÂÆûÁé∞ÈÉΩÊòØ‰∏Ä‰∏™‰∏™ÊåëÊàò„ÄÇÂú®ÂºÄÂèëËØÑÂÆ°Èò∂ÊÆµÊâÄÊúâÂâçÁ´ØÈÉΩÊÑüËßâÂõ∞ÈöæÊó†ÊØîÁöÑÂ∑•Á®ãÔºåÊúÄÁªàÁªèËøáÂ∞ÜËøë‰∏Ä‰∏™ÊúàÁöÑËÆæËÆ°ËØÑÂÆ°ÂºÄÂèëÊµãËØïÂêéÔºåÈ°∫Âà©‰∏äÁ∫øËøêË°åÔºå‰∏∫Â§ö‰∏™ÁßëÁõÆÊï∞Áôæ‰∏™ËØæÁ®ãÔºåÊï∞‰∏áËØæÊ¨°ÁöÑÂΩïÊí≠ËßÜÈ¢ëÈÖçÈΩêÊèê‰æõÈ´òË¥®È´òÊïàÁéáÁöÑÊúçÂä°„ÄÇ\n\nÈÄöËøáËøô‰∏™Ëø≠‰ª£ÂØπ Web Á´ØÂèØËßÜÂåñÈÖçÁΩÆÁ±ªÂûãÁ≥ªÁªüÊúâ‰∫ÜÊõ¥Ê∑±Â±ÇÊ¨°ÁöÑÁêÜËß£ÔºåÁâπÂà´ÊòØËÆæËÆ°Â∏àÊèêÂá∫ÁöÑÂ§öÊ†∑ÂåñÁöÑÁî®Êà∑‰∫§‰∫íÔºå‰∏ç‰ªÖËÆ©ÊàëÂØπÊïàÁéáÁ±ªÂ∑•ÂÖ∑ÁöÑ‰∫ßÂìÅËÆæËÆ°ÂíåÁî®Êà∑‰ΩìÈ™åÂàÜÊûêËÉΩÂäõÊúâ‰∫ÜÈ£ûÈÄüÁöÑËøõÊ≠•ÔºåÂêåÊó∂ËÉΩÂú®ÈúÄÊ±ÇÂÆûÁé∞ÁöÑÂêåÊó∂ÊâìÁ†¥‰∫ÜÂ±ÇÂ±ÇÊäÄÊúØÂ£ÅÂûí„ÄÇ\n\nÊú¨ÊñáËØ¶ÁªÜËÆ≤Ëø∞‰∫ÜÊ†∏ÂøÉËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑÊäÄÊúØÂÆûÁé∞ÊñπÊ°àÔºå‰∏ãÁØáÂ∞ÜËÆ≤Ëø∞Âü∫‰∫éÈòøÈáå‰∫ëÊí≠ÊîæÂô®ÁöÑ‰∫åÊ¨°Â∞ÅË£ÖÁöÑÈÄªËæëÂÆûÁé∞„ÄÇ\n","source":"_posts/web-video-editor-practise.md","raw":"---\ntitle: ‰∫ëËßÜÈ¢ëÂâ™ËæëÈÖçÈΩêÂ∑•ÂÖ∑ÂÆûË∑µÂ§çÁõòÔºàÂÆûÁé∞ÁØáÔºâ\ndate: '2021-06-12'\n---\n\n‰∏äÁØá‰ªãÁªç‰∫Ü‰∫ëËßÜÈ¢ëÂâ™ËæëÈÖçÈΩêÂ∑•ÂÖ∑ÁöÑÊäÄÊúØÊû∂ÊûÑÔºåÂØπÊï¥‰∏™È°πÁõÆÁöÑÊûÑÊàêÊúâ‰∫ÜÂ§ßËá¥ÁöÑ‰∫ÜËß£ÔºåÊú¨ÊñáÂ∞Ü‰ªãÁªçÂú®ÂÆûÁé∞ËØ•Á≥ªÁªüÁöÑÂâçÁ´ØÊäÄÊúØÈöæÁÇπÂèäËß£ÂÜ≥ÊñπÊ°à„ÄÇ\n\n> ËØ•È°πÁõÆÂü∫‰∫éÈõÜÂõ¢ÂÜÖÈÉ®ÁöÑÂπ≥Âè∞ÂÆûË∑µÔºåÂâçÁ´ØÊ°ÜÊû∂‰ΩøÁî® Angular ÂÆûÁé∞ÔºåÊâÄ‰ª•‰ª£Á†ÅÁ§∫‰æã‰∏∫ Angular Ê°ÜÊû∂ËØ≠Ê≥ï„ÄÇ\n\n## ‰∏ä‰º†ËßÜÈ¢ë\n\nÂ∏∏ËßÅÁöÑ‰∏ä‰º†ËßÜÈ¢ëÊñπÂºèÊúâ‰∏§ÁßçÔºöÁî®Êà∑ÈÄöËøáË°®ÂçïÊâìÂºÄÊñá‰ª∂ÈÄâÊã©Âô®ÈÄâÊã©ÈúÄË¶Å‰∏ä‰º†ÁöÑÊñá‰ª∂ÂíåÁõ¥Êé•ÊãñÊãΩÊñá‰ª∂Âà∞ Web È°µÈù¢ÁöÑÊåáÂÆöÂå∫ÂüüÔºåWeb Â∫îÁî®Ê£ÄÊµãÂèØÂæóÂØπÂ∫îËßÜÈ¢ëÊñá‰ª∂ÁöÑÂÜÖÂÆπ„ÄÇ\n\n### ÈÄâÊã©Êñá‰ª∂‰∏ä‰º†\n\n‰º™‰ª£Á†ÅÂÆûÁé∞Ôºö\n\n```html\n<input multiple type=\"file\" accept=\"video/mp4\" (change)=\"handleVideoMaterialUpload\" />\n```\n\n```js\nimport axios from 'axios';\n\nfunction handleUpload(e) {\n  const uploadUrl = 'https://upload-url.com/';\n  const fileList = e.target.files;\n\n  // ‰∏ä‰º†ÂâçÊ†°È™å\n  // do something\n\n  // do something ‰∏ä‰º†Âà∞ÊåáÂÆöÊúçÂä°\n  const formData = new FormData();\n\n  formData.append('file', filesList[0]);\n\n  axios\n    .post(uploadUrl, formData)\n    .then(res => {\n      console.log('‰∏ä‰º†ÊàêÂäü', res);\n    })\n    .catch(err => {\n      console.log('‰∏ä‰º†Â§±Ë¥•', err);\n    });\n}\n```\n\nÂú®‰∏ä‰º†ËßÜÈ¢ëÊñá‰ª∂Ââç‰∏ç‰ªÖË¶ÅÊ£ÄÊµãËßÜÈ¢ëÊñá‰ª∂ÁöÑÁ±ªÂûã„ÄÅÂ§ßÂ∞èÁ≠âÂü∫Á°Ä‰ø°ÊÅØÔºåËøòË¶ÅÂØπËßÜÈ¢ëÊñá‰ª∂ËøõË°åÂèØÊí≠ÊîæÊÄßÊ£ÄÊµãÔºåÂπ∂‰∏îÂú®Ê£ÄÊµãËøáÁ®ã‰∏≠Ëé∑ÂèñËßÜÈ¢ëÊñá‰ª∂Êó∂Èïø„ÄÅÂ∞ÅÈù¢Á≠âÂÜçÂêéÁª≠ÊµÅÁ®ã‰∏≠‰ΩøÁî®Âà∞ÁöÑ‰ø°ÊÅØÔºàËØ•ÈÉ®ÂàÜÂÆûÁé∞ËØ∑Áúã‰∏ãÊñáÁ´†ËäÇÔºâÔºåÊ£ÄÊµãÂêåËøáÂêéÊ∑ªÂä†Âà∞Ëß£ÊûêÈòüÂàó„ÄÇ\n\n<!-- more -->\n\n### ÊãñÊãΩÊñá‰ª∂‰∏ä‰º†\n\nÈÄöËøáÁõëÂê¨ÊåáÂÆöÂå∫ÂüüÁöÑ `dragOver` Âíå `drop` ‰∫ã‰ª∂ÔºåËÉΩÈÄöËøáÂÖ•ÂèÇÂ±ûÊÄß `e.dataTransfer` Ëé∑ÂèñÁî®Êà∑ÊâÄÊãñÊãΩÁöÑÊñá‰ª∂ÂØπË±°ÔºåÂêéÁª≠ÁöÑÊìç‰Ωú‰∏éÈÄâÊã©Êñá‰ª∂‰∏ä‰º†ÈÉ®ÂàÜ‰∏ÄËá¥„ÄÇ\n\n```html\n<div class=\"drag-area\" (dragOver)=\"onDragOver\" (drop)=\"onDrop\"></div>\n```\n\n```js\nfunction onDragOver(e) {\n  const fileList = e.dataTransfer.files;\n\n  // do something ÂêéÈù¢ÁöÑÊµÅÁ®ãÂèÇËÄÉ„ÄåÈÄâÊã©Êñá‰ª∂‰∏ä‰º†„Äç\n}\n```\n\n‰∏§ÁßçÊñπÂºèÁöÑÂ§ÑÁêÜÈÄªËæëÂü∫Êú¨‰∏ÄËá¥ÔºåÂè™ÊòØÁî®Êà∑‰∫§‰∫íÊñπÂºè‰∏ç‰∏ÄÊ†∑ÔºåÈöæÂ∫¶ÊØîËæÉÂ∞è„ÄÇ\n\n### ‰∏ä‰º†ËßÜÈ¢ëÊúÄ‰Ω≥ÂÆûË∑µ\n\n‰ºÅ‰∏öÂÜÖÈÉ®‰∫åËøõÂà∂Êñá‰ª∂Êï∞ÊçÆ‰∏ÄËà¨ÈÉΩÁî±‰∫ëÊúçÂä°Êèê‰æõÁöÑÂØπË±°Â≠òÂÇ®ÊúçÂä°Ë¥üË¥£Â≠òÂÇ®ÔºåÊØîÂ¶Ç [ÈòøÈáå‰∫ë ÂØπË±°Â≠òÂÇ® OSS](https://help.aliyun.com/product/31815.html)„ÄÅ[ËÖæËÆØ‰∫ë ÂØπË±°Â≠òÂÇ® COS](https://cloud.tencent.com/document/product/436)ÔºåËøôÈúÄË¶Å‰ºÅ‰∏öË¥≠‰π∞‰ΩøÁî®„ÄÇËøô‰∫õÂØπË±°Â≠òÂÇ®ÁöÑ‰∏ä‰º†ÂÆûÁé∞ÊñπÂºèÊúâÂ§öÁßçÔºåÊÉ≥‰∫ÜËß£Êõ¥ËØ¶ÁªÜÁöÑÂÜÖÂÆπÂèØ‰ª•ÁÇπÂáª‰∏äËø∞ËøûÊé•„ÄÇ\n\nÊàë‰ª¨ÂÜÖÈÉ®‰ΩøÁî®ÁöÑÊòØÈòøÈáå‰∫ëÁöÑ OSS ÂØπË±°Â≠òÂÇ®ÊúçÂä°ÔºåÁÆÄË¶ÅÊµÅÁ®ãÂ∞±ÊòØÂâçÁ´ØÈÄöËøáÂêéÁ´ØÊé•Âè£Ëé∑ÂèñÈòøÈáå‰∫ë OSS ‰∏ä‰º†Âá≠ËØÅÔºåÈÄöËøá‰∏ä‰º†Âá≠ËØÅÁõ¥Êé•ËÆ≤Êñá‰ª∂‰∏ä‰º†Âà∞ OSS ÊúçÂä°„ÄÇ\n\n![upload-swim](https://img.mrsingsing.com/upload-swim.jpg)\n\n## Èü≥ËßÜÈ¢ëÊñá‰ª∂‰ø°ÊÅØ\n\nËé∑ÂèñËßÜÈ¢ëÊñá‰ª∂ÂêéÔºåÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®Êèê‰æõÁöÑ `window.URL.createObjectURL` ÁîüÊàêËßÜÈ¢ëÊñá‰ª∂ÁöÑ Blob ÂºïÁî®Âú∞ÂùÄÔºåÂú®È°µÈù¢ÂàõÂª∫Âπ∂ÊåÇËΩΩ `<video>` Ê†áÁ≠æÔºå ËØªÂèñÂÜÖÂ≠ò‰∏≠ÁöÑËßÜÈ¢ëÊñá‰ª∂ÔºåÂΩì `video` ÂÆû‰æãËß¶Âèë `canplay` ‰∫ã‰ª∂ÂêéÂàõÂª∫ Canvas ÁîªÂ∏ÉÔºåÊ†πÊçÆËßÜÈ¢ëÊñá‰ª∂ÂÆΩÈ´òÈÄÇÈÖçÁîªÂ∏ÉÂÆΩÈ´òÔºå\n\nÂú® `video.play` Â§ñÂ±ÇÂåÖË£π `try...catch` Â¶ÇÊûúÊä•ÈîôÂàôËØ¥ÊòéËßÜÈ¢ëÊçüÂùè‰∏çÂèØÊí≠ÊîæÔºåÂê¶ÂàôËØ¥ÊòéËßÜÈ¢ëÊúâÊïà„ÄÇ\n\n```js\nconst captureImagePreview = async (videoFile: File) => {\n  return new Promise((resolve, reject) => {\n    \t(async () => {\n        const captureArea = document.getElementById('captureArea');\n      \t// Ë¶ÅÊà™ÂõæÁöÑËßÜÈ¢ë\n      \tconst video = document.createElement('video');\n      \tvideo.muted = true;\n\n    \t\t// ÁîüÊàê blob Âú∞ÂùÄ\n      \tconst blobUrl = window.URL.createObjectURL(videoFile);\n\n      \tvideo.src = blobUrl;\n\n    \t\t// Âú®È¢ÑËÆæÁöÑËäÇÁÇπ‰∏äÊåÇËΩΩ video DOM ËäÇÁÇπ\n      \tcaptureArea.appendChild(video);\n\n    \t\t// ÊåÇËΩΩÂêé‰ºöËá™Âä®Âä†ËΩΩÊú¨Âú∞ÁöÑËßÜÈ¢ëÊñá‰ª∂\n      \tvideo.addEventListener('canplay', e => {\n        \tlet imgHeight = 0,\n            imgWidth = 0,\n            videoWidth = 0,\n            videoHeight = 0;\n        \tconst video: any = e.target;\n\n        // Âà©Áî® Canvas ÂØπËßÜÈ¢ëÊñá‰ª∂ËøõË°åÊà™Â±è\n        const canvas = document.createElement('canvas');\n        const canvasCtx = canvas.getContext('2d');\n        const blobUrl = window.URL.createObjectURL(videoFile);\n\n        // Ëé∑ÂèñÂ±ïÁ§∫ÁöÑ video ÂÆΩÈ´ò‰Ωú‰∏∫ÁîªÂ∏ÉÁöÑÂÆΩÈ´òÂíå‰∏¥Êó∂ËßÜÈ¢ëÊà™ÂõæÁöÑÂÆΩÈ´ò\n        canvas.width = imgWidth = video.offsetWidth;\n        canvas.height = imgHeight = video.offsetHeight;\n\n        // Ëé∑ÂèñÂÆûÈôÖËßÜÈ¢ëÁöÑÂÆΩÈ´òÔºåÁõ∏ÂΩì‰∫éËßÜÈ¢ëÂàÜËæ®Áéá\n        videoWidth = video.videoWidth;\n        videoHeight = video.videoHeight;\n\n        try {\n        \tawait (video as HTMLVideoElement).play();\n        } catch (err) {\n        \tthis.$notification('Ê†ºÂºèÊúâËØØÔºåËØ∑ÈáçÊñ∞‰∏ä‰º†');\n\n          resolve(null);\n          return;\n        }\n\n        video.pause();\n\n        // canvas.drawImage ÊñπÊ≥ïÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÂÖÅËÆ∏ÁöÑÂõæÂÉèÊ∫êÂåÖÊã¨ HTMLVideoElement Á≠â\n        canvasCtx.drawImage(\n          video,\n          imgWidth - videoWidth,\n          (imgHeight - videoHeight) / 2,\n          videoWidth,\n          videoHeight,\n          imgWidth - videoWidth,\n          (imgHeight - videoHeight) / 2,\n          videoWidth,\n          videoHeight,\n        );\n\n        canvas.toBlob(blob => {\n          // ËßÜÈ¢ëÂ∞ÅÈù¢Âõæ\n          const url = URL.createObjectURL(blob);\n\n          const material: Material = {\n            // ËßÜÈ¢ëÊó∂Èïø\n            duration: video.duration,\n            // ËßÜÈ¢ëÂ∞ÅÈù¢Âõæ Blob Âú∞ÂùÄ\n            videoCoverUrl: url,\n            // ËßÜÈ¢ëÊñá‰ª∂Âêç\n            videoName: videoFile.name,\n            // ÁîüÊàê uuid ‰Ωú‰∏∫ videoId\n            videoId: CommonUtils.generateUUID(),\n            // ËßÜÈ¢ëÁä∂ÊÄÅÔºàËß£Êûê‰∏≠Ôºâ\n            status: MaterialStatus.Parse,\n            file: videoFile,\n            // ËßÜÈ¢ëÂ§ßÂ∞è\n            fileSize: videoFile.size,\n            // ÊïôÊùê ID\n            fileId: this.aiMatchBordcastService.fileId,\n            // ËßÜÈ¢ëÊñá‰ª∂ Blob Âú∞ÂùÄ\n            blobUrl: blobUrl,\n            // ÁîüÊàêÊó∂Èó¥\n            createDttm: +new Date(),\n          };\n\n          resolve(material);\n\n          captureArea.removeChild(video);\n      \t})();\n      });\n  })\n}\n```\n\n## Ê∏∏Ê†á\n\nÊ∏∏Ê†áÊòØËßÜÈ¢ëÂâ™ËæëËΩØ‰ª∂‰∏≠Áî®‰∫éËæÖÂä©Áî®Êà∑Âø´ÈÄüÂÆö‰ΩçÔºåÂáèÂ∞ëËØØÊìç‰ΩúÁöÑ‰∏ÄÁßçÊâãÊÆµ„ÄÇÂú®Êàë‰ª¨ÁöÑ‰∫ëËßÜÈ¢ëÂâ™ËæëÈÖçÈΩêÂ∑•ÂÖ∑‰∏≠ËÆæËÆ°ÊèêÂá∫‰∫Ü‰∏âÁßçÂäüËÉΩÁöÑÊ∏∏Ê†áÔºåÂàÜÂà´ÊòØÈ¢ÑËßàÊ∏∏Ê†á„ÄÅÂÆö‰ΩçÊ∏∏Ê†áÂíåÁ£ÅÂê∏Ê∏∏Ê†á„ÄÇ\n\n### ÂÆö‰ΩçÊ∏∏Ê†á\n\n![located-cursor](https://img.mrsingsing.com/located-cursor.gif)\n\nÂÆö‰ΩçÊ∏∏Ê†áÊòØÁî®‰∫éÂÆö‰ΩçËßÜÈ¢ëÊí≠ÊîæÁöÑ‰ΩçÁΩÆ„ÄÅÊèíÂÖ•‰∫íÂä®ÈîöÁÇπÁöÑ‰ΩçÁΩÆÁöÑÊ†áÁöÑÔºåÂÆö‰ΩçÊ∏∏Ê†áÂú®ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑ‰ΩçÁΩÆÂØπÂ∫îÁùÄÂÆåÊï¥ËßÜÈ¢ëÁöÑÊâÄÂú®ÁöÑÊó∂Èó¥ÁÇπÔºåÂêåÊó∂Êí≠ÊîæÂô®ÂëàÁé∞ÁöÑÁîªÈù¢ÈúÄË¶ÅÂÆöÊ†ºÂú®ÂØπÂ∫îÊó∂Èó¥ÁöÑÁîªÈù¢ÔºåËã•Â§Ñ‰∫éÊí≠Êîæ‰∏≠ËøòÈúÄË¶ÅË∑≥ËΩ¨Âà∞ÊåáÂÆöÊó∂Èó¥ÂºÄÂßãÊí≠Êîæ„ÄÇ\n\n‰ªé UI Â±ÇÈù¢Êàñ‰∫§‰∫íÂ±ÇÈù¢‰∏äÁöÑÂÆûÁé∞Êù•ÁúãÈöæÂ∫¶Â∞öÂèØÔºå‰ΩÜÂÖ∂ÂÆûÁúüÊ≠£ÂÆûË∑µ‰∏ãÊù•ÔºåÊúÄÂ§ßÁöÑÊåëÊàòËøòÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜÂ•ΩÂêÑÁßçÈÄöÁü•‰∫ã‰ª∂ÂºïËµ∑Ê∏∏Ê†á‰ΩçÁΩÆÁöÑËÅîÂä®„ÄÇ\n\nÂÆö‰ΩçÊ∏∏Ê†áÂíåÊ∏∏ËßàÊ∏∏Ê†áÂàÜÂà´ÈááÁî®Èº†Ê†áÁÇπÂáª‰∫ã‰ª∂ÂíåÈº†Ê†áÁßªÂä®‰∫ã‰ª∂Ëß¶ÂèëÔºåÂà©Áî®Èº†Ê†á‰∫ã‰ª∂Ëé∑ÂèñÁöÑÊ∞¥Âπ≥ÊñπÂêëÂÅèÁßªÈáèÂèäÂΩìÂâçÊ∏∏Ê†áÂ∞∫ÊØî‰æãËÆ°ÁÆóÂá∫ÂΩìÂâç‰ΩçÁΩÆÂØπÂ∫îÂÆåÊï¥ÂêàÊàêËßÜÈ¢ëÁöÑÊó∂Èó¥„ÄÇ\n\nÂè¶Â§ñ‰∏∫‰∫ÜÂáèÂ∞ëËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑÂõûÊµÅÔºåÈááÁî®ÁªùÂØπÂÆö‰ΩçÂíå transform: translateX() ÁöÑÊñπÂºèÁõ∏ÂØπ‰∫éËΩ®ÈÅìÊªëÂä®Âå∫ÂüüÂºÄÁ´ØËøõË°åÊ∞¥Âπ≥ÊñπÂêëÂÅèÁßª„ÄÇ\n\n```js\nconst CONSTANTS = {\n  /** Ê∏∏Ê†áÂ∞∫Êï¥Êï∞ÂàªÂ∫¶Âç†ÊçÆÁöÑÂÉèÁ¥†ÂÄº */\n  RULER_INTEGER_SPACING: 80,\n  /** Ê†áÁöÑÂÖÉÁ¥†Èó¥Ë∑ùÂÆΩÂ∫¶ */\n  INDICATOR_WIDTH: 30,\n  /** ÂÆö‰ΩçÊ∏∏Ê†áÁöÑÂàùÂßãÂÄº */\n  CURSOR_INITIAL_VALUE: 31,\n};\n\nconst handleLocatedCursoRedirect = ({\n    cursorShift = CONSTANTS.CURSOR_INITIAL_VALUE,\n    duration,\n    frameBeginTime,\n    framework,\n    anchor = null,\n  }) => {\n\t\tif (!cursorShift) return;\n\n    // ËΩ®ÈÅìÁ©∫ÁΩÆÊó∂Ôºå‰∏çËÆæÁΩÆÂÆö‰ΩçÊ∏∏Ê†á\n    if (!this.videoTrackList.length) {\n      this.currentDuration = 0;\n      this.setLocatedCursor = null;\n      this.currentLocatedBeginTime = 0;\n      this.currentLocatedFramework = null;\n      this.currentLocatedAnchor = null;\n\n      this.setLocationInfo();\n\n      return;\n    }\n\n    let currentDuration = 0;\n    // ËÆ°ÁÆóÂΩìÂâçÂÆö‰ΩçÊ∏∏Ê†áÊâÄÂú®ÁöÑÊó∂Èó¥\n    if (CommonUtils.isDefined(duration)) {\n      currentDuration = duration;\n    } else {\n      // Èº†Ê†áÁÇπÂáªÂå∫ÂüüÂØπÂ∫îÁöÑÊó∂Èó¥\n      const mouseDuration =\n        ((((cursorShift - CONSTANTS.CURSOR_INITIAL_VALUE) / CONSTANTS.RULER_INTEGER_SPACING) * this.scaleRatio).toFixed(2) as any) * 1;\n\n      // Ë∂ÖÂá∫ËßÜÈ¢ëÊ°ÜÊû∂Âå∫ÂüüÔºåËá™Âä®ÂÆö‰ΩçÂà∞Ê°ÜÊû∂Âå∫ÂüüÊú´Â∞æ\n      if (mouseDuration >= this.totalDuration) {\n        currentDuration = this.totalDuration;\n        cursorShift =\n          this.lastFrameworkClientRect.left - this.indicatorClientRect.left + this.lastFrameworkClientRect.width;\n      } else {\n        currentDuration = mouseDuration;\n      }\n    }\n\n    // ÂÆö‰ΩçÊ∏∏Ê†áÂΩìÂâçÊó∂Èó¥\n    this.currentDuration = currentDuration;\n\n    // ÂèòÊõ¥ÂÆö‰ΩçÊ∏∏Ê†á‰ΩçÁΩÆ\n    this.setLocatedCursor = cursorShift;\n\n    // Ê†πÊçÆÂÆö‰ΩçÊ∏∏Ê†á‰ΩçÁΩÆËé∑ÂèñÊ∏∏Ê†áÊâÄÂú®Ê°ÜÊû∂Êï∞ÊçÆ„ÄÅÁõ∏ÂØπ‰∫éÊ°ÜÊû∂ÁöÑÂºÄÂßãÊó∂Èó¥ÂíåÈîöÁÇπÊï∞ÊçÆ\n    if (!framework) {\n      try {\n        const { frameBeginTime, frameworkId, anchorId } = this.getFrameworkInfoByDuration(cursorShift);\n\n        this.currentLocatedBeginTime = frameBeginTime;\n        this.currentLocatedFramework = this.videoTrackList.find(item => item.id === frameworkId);\n        this.currentLocatedAnchor = anchorId\n          ? this.videoTrackList.find(item => item.id === frameworkId).dataList.find(item => `${item.id}` === anchorId)\n          : null;\n      } catch (err) {\n        console.log(err);\n      }\n    } else {\n      // ÂΩìÂâçÊ∏∏Ê†áÂÆö‰ΩçÂú®Ê°ÜÊû∂ÂÜÖÁöÑÂºÄÂßãÊó∂Èó¥\n      this.currentLocatedBeginTime = frameBeginTime;\n      // ÂΩìÂâçÊ∏∏Ê†áÂÆö‰ΩçÊâÄÂú®ÁöÑÊ°ÜÊû∂\n      this.currentLocatedFramework = framework;\n      // ÂΩìÂâçÊúâÊ†áÂÆö‰ΩçÊâÄÂú®ÁöÑÈîöÁÇπ\n      this.currentLocatedAnchor = anchor;\n    }\n\n  \t// ‰øùÂ≠òÂΩìÂâç‰ΩçÁΩÆ‰ø°ÊÅØ\n    this.setLocationInfo();\n\n  \t// ËøîÂõûÂΩìÂâçÊ∏∏Ê†áÂØπÂ∫îÁöÑÊó∂Èó¥\n    return currentDuration;\n}\n```\n\n### È¢ÑËßàÊ∏∏Ê†á\n\n![preview-cursor](https://img.mrsingsing.com/preview-cursor.gif)\n\nÂΩìÈº†Ê†áËøõÂÖ•ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÔºåÂ∞±‰ºöËá™Âä®Ë∑üÈöè‰∏ÄÊ†πÈ¢ÑËßàÊ∏∏Ê†áÔºåÈ¢ÑËßàÊ∏∏Ê†áÊâÄÂà∞‰πãÂ§ÑÔºåÊí≠ÊîæÂô®ÈúÄË¶ÅÂ±ïÁ§∫ËØ•Êó∂Èó¥‰ΩçÁΩÆÂØπÂ∫îÁöÑÁîªÈù¢„ÄÇÊâÄ‰ª•Ê≠§Â§ÑÂè™ÈúÄË¶ÅÁõëÂê¨ `mousenter` Èº†Ê†áËøõÂÖ•ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÔºåÂà©Áî® `mousemove` ÂÆûÊó∂ÂèòÊõ¥È¢ÑËßàÊ∏∏Ê†áÂÅèÁßªÂÄºÔºåÂπ∂Ë∞ÉÁî®Êí≠ÊîæÂô®ÁªÑ‰ª∂ÂèòÊõ¥È¢ÑËßàÁîªÈù¢ÔºåÂΩìÁÑ∂Áî±‰∫éÈº†Ê†á‰∫ã‰ª∂Ëß¶ÂèëÈ¢ëÁéáÈ´òÔºåÈúÄË¶ÅÂØπË∞ÉÁî®È¢ÑËßàÊñπÊ≥ïËøõË°åÈò≤ÊäñÊìç‰ΩúÔºåÂΩì `mouseleave` Á¶ªÂºÄÂ∑•‰ΩúÂå∫Êó∂ÈöêËóèÈ¢ÑËßàÊ∏∏Ê†á„ÄÇ\n\n### Á£ÅÂê∏Ê∏∏Ê†á\n\n![magnet-cursor](https://img.mrsingsing.com/magnet-cursor.gif)\n\nÂΩìÁî®Êà∑ÊãñÊãΩËßÜÈ¢ëÁ¥†ÊùêÂà∞ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÔºåÊàñÊãñÊãΩÂ∑•‰ΩúÂå∫Ê°ÜÊû∂ËøõË°åÊéíÂ∫èÊìç‰ΩúÔºåÈúÄË¶ÅÂú®ÂÆåÊï¥ËßÜÈ¢ëÂºÄÁ´Ø„ÄÅÁªìÂ∞æÂèäÊ°ÜÊû∂‰∏éÊ°ÜÊû∂‰πãÈó¥Ë°îÊé•Â§ÑÊòæÁ§∫ÁªøËâ≤Á£ÅÂê∏Ê∏∏Ê†áÔºåÊñπ‰æøÁî®Êà∑ÂÆö‰ΩçÊãñÊãΩÁöÑÁ¥†ÊùêÊúÄÁªàÂú®ËΩ®ÈÅìÂ∑•‰ΩúÂå∫‰∏≠ÊèíÂÖ•ÁöÑ‰ΩçÁΩÆ„ÄÇ\n\nËøôÈáåÁöÑÂÆûÁé∞ÊñπÂºèÊòØÔºåÂΩìÊ£ÄÊµãÂà∞Áî®Êà∑ÂºÄÂßãÊãñÊãΩÂä®‰ΩúÊó∂ÔºåÈÄöÁü•ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁîüÊàêÊâÄÊúâÁ£ÅÂê∏Âå∫ÂüüÁöÑÂùêÊ†á‰ø°ÊÅØÂàóË°®ÔºåÂπ∂Âú® DOM ‰∏≠ÁîüÊàêÂØπÂ∫îÊï∞ÈáèÁöÑÁ£ÅÂê∏Âå∫Âüü„ÄÇ\n\n‰∏∫‰∫ÜÊñπ‰æøÁêÜËß£Ôºå‰∏ãÂõæÁ∫¢Ëâ≤Âå∫Âüü‰∏∫ÂºÄÂßãÊãñÊãΩÂêéÁîüÊàêÁöÑÁ£ÅÂê∏Âå∫Âüü„ÄÇ‰∏∫‰∫ÜÂáèÂ∞ëÊìç‰ΩúÂØºËá¥È°µÈù¢È¢ëÁπÅÈáçÊéíÈáçÁªòÁöÑÈóÆÈ¢òÔºåÊâÄÊúâÁîüÊàêÁöÑÂÖÉÁ¥†ÈÉΩÊòØÂü∫‰∫éÂü∫ÁÇπËøõË°å `translate` ‰æøÂÅèÁßª„ÄÇ\n\n![magnet-area](https://img.mrsingsing.com/magnet-area.png)\n\n‰Ω†ËÇØÂÆö‰ºöÊúâÁñëÈóÆÔºå‰∏∫‰ªÄ‰πàÁ£ÅÂê∏Âå∫ÂüüËÉΩÊ£ÄÊµãÂà∞ÊãñÊãΩÂÖÉÁ¥†‰Ωç‰∫é‰∏äÊñπÔºåËøô‰∏éÊãñÊãΩÊåá‰ª§ÁöÑÂÆûÁé∞ÊúâÂÖ≥ÔºåÂèØ‰ª•ÁïôÊÑèÂêéÈù¢ÂØπÊãñÊãΩÊåá‰ª§ÁöÑËØ¶ÁªÜËØ¥Êòé„ÄÇ\n\n```less\n// Á£ÅÂê∏Âå∫Âüü\n.magnet-area-item {\n  box-sizing: border-box;\n  position: absolute;\n  top: 0;\n  max-width: 80px;\n  height: 100%;\n  z-index: 1450;\n  /* Êñπ‰æøÊü•ÁúãÊïàÊûú */\n  background-color: rgba(255, 0, 0, 0.3);\n\n  &.first {\n    transform: translate3d(0, 0, 0);\n\n    &.active {\n      .magnet-area-cursor {\n        left: 0;\n        transform: none;\n      }\n    }\n  }\n\n  &.last {\n    transform: translate3d(-100%, 0, 0);\n\n    &.active {\n      .magnet-area-cursor {\n        left: initial;\n        right: 0;\n        transform: none;\n      }\n    }\n  }\n\n  &.active {\n    // Á£ÅÂê∏Ê∏∏Ê†á\n    .magnet-area-cursor {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 50%;\n      width: 2px;\n      height: 100%;\n      background-color: #1db368;\n      transform: translateX(-50%);\n    }\n  }\n}\n```\n\n```js\n  const initMagnetArea = () => {\n    this.currentMagnetAreaList = [];\n\n    // Âà©Áî®ÂÆö‰ΩçÂÖÉÁ¥†ÔºàËΩ®ÈÅìÂàóË°®ÂâçÁî®‰∫éÂç†‰ΩçÁöÑÁ©∫ÂÖÉÁ¥†ÔºâËé∑ÂèñÂΩìÂâçËΩ®ÈÅìÂå∫Âüü‰∏≠ÊâÄÊúâÁöÑËßÜÈ¢ëÊ°ÜÊû∂ÁöÑ DOM ÂÖÉÁ¥†ÂºïÁî®\n    const frameworkList = this.indicatorRef.nativeElement.parentElement.querySelectorAll(\n      '.framework-item',\n    ) as NodeListOf<HTMLDivElement>;\n\n    const indicatorLeft = this.indicatorClientRect.left;\n\n    this.currentMagnetAreaList = Array.from(frameworkList).reduce(\n      (acc: any, item: HTMLDivElement, index: number) => {\n\n        // Ëé∑ÂèñÂçï‰∏™ËßÜÈ¢ëÊ°ÜÊû∂ÂØπÂ∫î DOM ÂÖÉÁ¥†ÁöÑÂ§ßÂ∞èÂèäËßÜÂè£‰ΩçÁΩÆ\n        const frameworkRect = item.getBoundingClientRect();\n\n        // ÁîüÊàêÁ£ÅÂê∏Âå∫ÂüüÁöÑÂÆΩÂ∫¶\n        // Áî±‰∫é‰∏çÂêåÊó∂Èïø‰∏çÂêåÊØî‰æã‰∏ãÊ°ÜÊû∂ÂÆûÈôÖÁöÑÂÆΩÂ∫¶‰∏ç‰∏ÄËá¥\n        // Ëã•‰ΩøÁî®ËøáÂ∞èÁöÑÔºàÂõ∫ÂÆöÔºâÂÆΩÂ∫¶‰Ωú‰∏∫Á£ÅÂê∏Âå∫ÂüüÔºå‰ºöÂØºËá¥Âú®ËæÉÂ§ßÂÆΩÂ∫¶ÁöÑÊ°ÜÊû∂‰∏≠ÈúÄË¶ÅÊõ¥Èù†Ëøë‰∏§Ê°ÜÊû∂Ë°îÊé•Â§ÑÊâçËÉΩÊòæÁ§∫Á£ÅÂê∏Ê∏∏Ê†á\n        // ÊâÄ‰ª•ËøôÈáåÂèñÊ°ÜÊû∂ÂÆΩÂ∫¶ÁöÑ 30% ‰Ωú‰∏∫Á£ÅÂê∏Âå∫ÂüüÂú®ÂΩìÂâçÊ°ÜÊû∂Âå∫ÂüüÊâÄÂç†ÁöÑÂÆΩÂ∫¶\n        const currentWidth = frameworkRect.width * 0.3;\n        // Á£ÅÂê∏Âå∫ÂüüÂÆΩÂ∫¶\n        const areaWidth = index === 0 ? currentWidth : currentWidth + acc.prevWidth;\n        // Á£ÅÂê∏Ê∏∏Ê†áÂú®Á£ÅÂê∏Âå∫ÂüüÁöÑÂÅèÁßªÈáè\n        const areaShift = index === 0 ? 0 : (acc.prevWidth / areaWidth) * 100;\n\n        acc.list.push({\n          id: item.dataset.id,\n          areaWidth: areaWidth,\n          areaTranform: `translateX(-${areaShift}%)`,\n          areaLeft: frameworkRect.left - indicatorLeft + 'px',\n          cursorLeft: areaShift + '%',\n        });\n\n        // ÊúÄÂêé‰∏ÄÁâáÁ£ÅÂê∏Âå∫ÂüüÔºåÊòØÊúÄÂêé‰∏Ä‰∏™ËßÜÈ¢ëÊ°ÜÊû∂ÁöÑÊúÄÂêé 30% ÁöÑÂå∫Âüü\n        // ÊãñÊãΩÁ¥†ÊùêÊñ∞Â¢ûËßÜÈ¢ëÊ°ÜÊû∂ÔºåÁõ∏ÂΩì‰∫éÂú®ÂàóË°®Êú´Â∞æÊñ∞Â¢û\n        // ÊãñÊãΩÊ°ÜÊû∂ÊéíÂ∫èÔºåÁõ∏ÂΩì‰∫éÊääÂéü‰ΩçÁΩÆÊ°ÜÊû∂ÁΩÆ‰∫éÂàóË°®Êú´Â∞æ\n        if (index === frameworkList.length - 1) {\n          acc.list.push({\n            id: null,\n            areaWidth: currentWidth,\n            areaTranform: 'translateX(-100%)',\n            areaLeft: frameworkRect.right - indicatorLeft + 'px',\n            cursorLeft: 'initial',\n          });\n        }\n\n        acc.prevWidth = currentWidth;\n\n        return acc;\n      },\n      {\n        list: [],\n        // ‰∏ä‰∏™Ê°ÜÊû∂Á¢∞ÊíûÂå∫ÂüüÁöÑÂÆΩÂ∫¶\n        //ÔºàÊØè‰∏™Ê°ÜÊû∂ÊúâÈ¶ñÂ∞æ‰∏§‰∏™Á¢∞ÊíûÂå∫ÂüüÔºåÂêÑÂç†Ê°ÜÊû∂ÂÆΩÂ∫¶ 30%ÔºåÊÄªÂç†Ê°ÜÊû∂ÂÆΩÂ∫¶ 60%Ôºâ\n        prevWidth: null,\n      },\n    ).list;\n  }\n```\n\n## Ê∏∏Ê†áÂ∞∫\n\nÊ∏∏Ê†áÂ∞∫ÊòØËßÜÈ¢ëÂâ™ËæëËΩØ‰ª∂‰∏≠‰ª•Êó∂Èó¥Ê†áËÆ∞ÂàªÂ∫¶ÁöÑÊ†áÂ∞∫„ÄÇÊàëÁ†îÁ©∂‰∫ÜÁ±ª‰ººÁöÑ Web ÁΩëÈ°µ‰∫ëÂâ™ËæëÂ∫îÁî®ÔºåÊúâ‰∏§ÁßçÂÆûÁé∞ÊñπÂºèÔºö\n\n1. Âà©Áî® Canvas ÁªòÂà∂ÂàªÂ∫¶Â∞∫ÔºàBilibili ‰∫ëÂâ™ËæëÔºâ\n2. Âà©Áî® DOM ÁªòÂà∂ÂàªÂ∫¶Â∞∫ÔºåÈááÁî®Á±ª‰ººËôöÊãüÂàóË°®ÁöÑÊñπÂºèÂ§ÑÁêÜÊµ∑ÈáèÁöÑ DOM ËäÇÁÇπÔºàËÖæËÆØ‰∫ëÂâ™ËæëÔºâ\n\n![ruler1](https://img.mrsingsing.com/ruler1.gif)\n\n![ruler2](https://img.mrsingsing.com/ruler2.gif)\n\nÂÆûÁé∞ÊÄùË∑ØÔºö\n\n1. ÂàõÂª∫ `<canvas>` Âπ∂Ê†πÊçÆÂΩìÂâçËÆæÂ§á DPR ÊåâÊØî‰æãÁº©ÊîæÁîªÂ∏ÉÂ∞∫ÂØ∏\n2. Ê†πÊçÆÂΩìÂâçËΩ®ÈÅìÂå∫ÂüüÊâÄÊúâÂàÜÊÆµËßÜÈ¢ëÊó∂ÈïøÔºåËÆ°ÁÆóÂá∫ÊÄªÊó∂ÈïøÔºà‰∏çË∂≥‰∏§Â∞èÊó∂ÊòæÁ§∫‰∏§Â∞èÔºåÂ§ß‰∫é‰∏§Â∞èÊó∂ÔºåÊåâÊãºÊé•ÈïøÂ∫¶Â¢ûÈïøÔºâÔºå‰ªéËÄåËÆ°ÁÆóÂá∫Ê∏∏Ê†áÂ∞∫‰∏≠ÊòæÁ§∫ÂàªÂ∫¶ÁöÑÊÄªÊï∞\n3. Âæ™ÁéØÈÅçÂéÜ‰æùÊ¨°ÂØπ Canvas ÁªòÂà∂ÊåáÈíàËøõË°åÁßªÂä®ÔºåÂèñÊ®°Âà§Êñ≠ÊòØÊï¥Êï∞ÂàªÂ∫¶ËøòÊòØÂ∞èÊï∞ÂàªÂ∫¶ÔºåÂπ∂ÁªòÂà∂Áõ∏ÂØπÂ∫îÁöÑÂàªÂ∫¶Á∫øÔºåÁõ¥Âà∞ÊâÄÊúâÊï∞ÈÅçÂéÜÂÆåÊàê\n4. ÊúÄÂêéÊ†πÊçÆÊØî‰æãÂ∞∫ËÆ°ÁÆóÊï¥Êï∞ÂàªÂ∫¶ÊòæÁ§∫ÁöÑÊó∂Èó¥ÊñáÊ°à\n\n```ts\nexport class RecordVideoTimelineRulerComponent implements OnInit {\n  /** ÊØî‰æãÂ∞∫ */\n  @Input()\n  scaleRatio: number;\n  /** ÊúÄÂ§ßÂàªÂ∫¶Êï∞Èáè */\n  @Input()\n  maxScaleValue: number;\n  /** Ê∏∏Ê†áÂ∞∫ÂÆΩÂ∫¶ */\n  public canvasWidth: number;\n  /** Ê∏∏Ê†áÂ∞∫ÁîªÂ∏É DOM ÂÖÉÁ¥†ÂºïÁî® */\n  public canvasElement: HTMLCanvasElement;\n  /** Ê∏∏Ê†áÂ∞∫ÁîªÂ∏É‰∏ä‰∏ãÊñáÂºïÁî® */\n  public canvasContext: CanvasRenderingContext2D;\n\n  ngOnInit(): void {\n    this.initCanvas();\n  }\n\n  ngOnChanges(changes: { [propName: string]: SimpleChange }) {\n    const scaleRatio = changes['scaleRatio'];\n\n    if (\n      scaleRatio &&\n      (!scaleRatio.previousValue || scaleRatio.previousValue !== scaleRatio.currentValue)\n    ) {\n      this.drawCanvas();\n    }\n  }\n\n  /**\n   * ÂàùÂßãÂåñÂàªÂ∫¶Â∞∫\n   */\n  initCanvas(): void {\n    const canvas = document.getElementById('canvas') as HTMLCanvasElement;\n    this.canvasElement = canvas;\n\n    const ctx = canvas.getContext('2d');\n    this.canvasContext = ctx;\n\n    const documentBodyWidth = document.body.clientWidth || document.documentElement.clientWidth;\n    this.canvasWidth = documentBodyWidth;\n\n    if (window.devicePixelRatio) {\n      const devicePixelRatio = window.devicePixelRatio;\n\n      canvas.width = devicePixelRatio * this.canvasWidth;\n      canvas.height = devicePixelRatio * 26;\n\n      // ÊåâÁÖßÊØî‰æãÁº©Êîæ\n      ctx.scale(devicePixelRatio, devicePixelRatio);\n    }\n\n    this.drawCanvas();\n  }\n\n  /**\n   * ÁªòÂà∂ÂàªÂ∫¶Â∞∫\n   */\n  drawCanvas(): void {\n    const scrollX = 0;\n    const ctx = this.canvasContext;\n\n    if (!ctx) return;\n\n    const canvasWidth = this.canvasWidth;\n    const canvasHeight = 26;\n\n    // Ê∞¥Âπ≥ÊñπÂêëÂÅèÁßªÈáè\n    const offsetX = (scrollX ? 30 - scrollX : 30) + 0.5;\n\n    // ÊúÄÂ§ßÂàªÂ∫¶ÂÄºÔºàÂΩìÂâçÊòæÁ§∫ÁöÑÊúÄÂ§ßÂàªÂ∫¶ÂÄºÔºâ\n    const totalScaleValue = this.maxScaleValue;\n\n    const startCount = Math.max(parseInt('' + Math.floor((scrollX - 30) / 16), 10), 0);\n    const endCount = Math.min(\n      parseInt('' + Math.ceil((scrollX + canvasWidth - 30) / 16), 10) - 1,\n      totalScaleValue\n    );\n\n    // ÊØè‰∏™ÂàªÂ∫¶ÂÄºÁöÑË∑ùÁ¶ª ÂàÜÂâ≤Á∫ø\n    const division = 15;\n    // Êï¥Êï∞ÂàªÂ∫¶È´òÂ∫¶\n    const integerHeight = 14 || Math.floor(canvasHeight * 0.53);\n    // ÂàÜÂ∫¶ÂÄºÂàªÂ∫¶È´òÂ∫¶\n    const divisionHeight = 8 || Math.floor(canvasHeight * 0.3);\n    // Êï¥Êï∞ÂàªÂ∫¶‰∏ãÁöÑÊñáÊ°àÈ´òÂ∫¶\n    const textHeight = 21 || Math.floor(canvasHeight * 0.78);\n    // ÊØèÊÆµÊï¥Êï∞ÂàªÂ∫¶‰ª£Ë°®ÁöÑÁßíÊï∞ÊØî‰æã\n    const scaleRatio = this.scaleRatio;\n\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n    // ÂΩìÂàªÂ∫¶ÂÄºË∂≥Â§üÂ§ßÁöÑÊó∂ÂÄôÔºåÂè™ÁªòÂà∂ÂèØËßÜËåÉÂõ¥ÂÜÖÁöÑÂàªÂ∫¶ÂÄº\n    // ÁîªÂàªÂ∫¶Á∫ø\n    for (let i = startCount; i < endCount; i++) {\n      ctx.beginPath();\n      ctx.save();\n      ctx.strokeStyle = '#595959';\n      ctx.lineWidth = 1;\n      ctx.lineCap = 'round';\n\n      const moveTo = offsetX + i * (division + 1);\n      ctx.moveTo(moveTo, 0);\n\n      if (i % 5 === 0) {\n        ctx.lineTo(offsetX + i * (division + 1), integerHeight);\n      } else {\n        ctx.lineTo(offsetX + i * (division + 1), divisionHeight);\n      }\n\n      ctx.stroke();\n      ctx.restore();\n      ctx.closePath();\n    }\n\n    // Êï¥Êï∞ÂàªÂ∫¶ÊñáÊ°à\n    ctx.beginPath();\n    ctx.font = '10px Arial';\n    ctx.fillStyle = '#AAAAAA';\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n\n    const seperatedScaleValue = totalScaleValue / 5;\n    for (let i = 0; i < seperatedScaleValue; i++) {\n      const text = this.formatTimeScaleText(i, scaleRatio);\n      ctx.fillText(text, offsetX + 80 * i, textHeight);\n    }\n\n    ctx.closePath();\n  }\n\n  /**\n   * Ê†πÊçÆÊ≠£Êï¥Êï∞Á¥¢ÂºïÂíåÊØî‰æãÂ∞∫Ê†ºÂºèÂåñÊòæÁ§∫Êó∂Èó¥\n   * @param index ÂàªÂ∫¶Â∞∫Á¥¢ÂºïÔºà‰ªé 0 ÂºÄÂßãÔºâ\n   * @param ratio ÊØè‰∏™Êï¥Êï∞ÂàªÂ∫¶‰πãÈó¥ÁöÑÊó∂Èó¥ÈïøÂ∫¶Ôºà‰ª•Áßí‰∏∫Âçï‰ΩçÔºâ\n   * @description Â∞Ü‰ª•Áßí‰∏∫Âçï‰ΩçÁöÑÊï∞ÂÄºËΩ¨Âåñ‰∏∫ HH:MM:SS.ss Ê†ºÂºèÁöÑÊó∂Èó¥Â≠óÁ¨¶‰∏≤\n   */\n  formatTimeScaleText(index: number, ratio: number): string {\n    const totalSeconds = index * ratio;\n\n    let hour: number | string = 0;\n    let minute: number | string = 0;\n    let second: number | string = 0;\n    const millisecond = '00';\n\n    hour = Math.floor(totalSeconds / 3600);\n    minute = Math.floor((totalSeconds - hour * 3600) / 60);\n    second = ratio >= 60 ? 0 : Math.floor(totalSeconds - hour * 3600 - minute * 60);\n\n    hour = this.fixZero(hour);\n    minute = this.fixZero(minute);\n    second = this.fixZero(second);\n\n    return `${hour}:${minute}:${second}.${millisecond}`;\n  }\n\n  /**\n   * Ë°•Èõ∂ÂáΩÊï∞ÔºàÂè™ÊîØÊåÅ‰∏™‰ΩçÊï∞Ë°•Èõ∂‰∏∫ÂçÅ‰ΩçÊï∞Ôºâ\n   */\n  fixZero(value: any): string {\n    return value * 1 < 10 ? `0${value}` : `${value}`;\n  }\n}\n```\n\nËøôÈáåÁöÑÊØî‰æãÂ∞∫ËôΩÁÑ∂ÂèØ‰ª•ÈÄöËøáÊªëÂä®ËøõË°åËÆæÁΩÆÔºå‰ΩÜÊòØ‰∏∫‰∫ÜÂáÜÁ°ÆËÆ°ÁÆóÔºåÊàë‰ª¨Âè™Êèê‰æõ‰∫ÜÂá†‰∏™Âõ∫ÂÆöÁöÑÊ°£‰Ωç„ÄÇ\n\nËøôÈáåÁöÑÊØî‰æãÂ∞∫‰ª£Ë°®ÁöÑÊòØÊ∏∏Ê†áÂ∞∫‰∏≠‰∏Ä‰∏™ÂÆåÊï¥Â§ßÂàªÂ∫¶‰πãÈó¥ÊâÄ‰ª£Ë°®ÁöÑÊó∂Èó¥ÔºåÂπ∂‰ª•Áßí‰Ωú‰∏∫Áªü‰∏ÄÂ∫¶ÈáèË°°Ôºö\n\n1. 5 Ê†º 1 Áßí 1 Ê†º 0.2s=200ms\n2. 5 Ê†º 1 ÂàÜÈíü=60s 1 Ê†º 0.2min=12s=12000ms\n3. 5 Ê†º 3 ÂàÜÈíü=180s 1 Ê†º 0.6min=36s=36000ms\n4. 5 Ê†º 6 ÂàÜÈíü=360s 1 Ê†º 1.2min=62s=62000ms\n\n## ÊãñÊãΩÊåá‰ª§\n\nÂØπ‰∫é‰∫ëÂâ™Ëæë Web Â∫îÁî®ÔºåÂÖ∂‰∏é‰∏ÄËà¨Á∫ØÁ≤πË°®ÂçïË°®Ê†ºÁöÑÂ∫îÁî®ÔºåÂú®‰∫éËÆ©Áî®Êà∑ÊääÊõ¥Â§öÁöÑÊìç‰Ωú‰ªéÈîÆÁõòËΩ¨ÁßªÂà∞Èº†Ê†áÔºåËÄåÊãñÊãΩÁöÑÂÆûÁé∞ÊñπÂºèÔºåÊòØÊ≠§Ê¨°ÈúÄÊ±Ç‰∏≠ÁöÑÈáç‰∏≠‰πãÈáç„ÄÇ\n\nÊàëÂØπ‰∫ßÂìÅÂíåËÆæËÆ°Â∏àÊèêÂá∫ÁöÑÈúÄÊ±ÇËøõË°å‰∫ÜÊ¢≥ÁêÜÔºö\n\n![drag-and-drop](https://img.mrsingsing.com/drag-and-drop.png)\n\nÊúÄÂàùÔºåÊàëËÄÉËôëÂà∞‰ΩøÁî®ÂéüÁîüÁöÑ drag & drop ÊñπÊ≥ïÂÆûÁé∞ÊãñÊãΩÔºå‰ΩÜÊòØÂéüÁîüÁöÑ drag & drop ÊñπÊ≥ï‰ºöÂΩ±ÂìçÂà∞ÊñáÊ°£ÊµÅÂÖ∂‰ªñÂÖÉÁ¥†ÁöÑÂ∏ÉÂ±ÄÔºåÂØºËá¥ÊµèËßàÂô®ÂõûÊµÅÔºåËøôÊòæÁÑ∂‰∏çÊòØ‰∏ÄÁßç‰ºòÈõÖÁöÑËß£ÂÜ≥ÊñπÂºè„ÄÇÊü•ÈòÖÁõ∏ÂÖ≥ËµÑÊñôÂêéÔºåÂèëÁé∞ËÉΩÈÄöËøá mouse Áõ∏ÂÖ≥ÊñπÊ≥ïÊ®°Êãü drag & drop ÁöÑÊñπÊ≥ïÔºåÈÇ£‰πàÂ¶ÇÊûúÂà©Áî® mouse Áõ∏ÂÖ≥ÊñπÊ≥ïÔºåÈÄöËøáÊüê‰∫õÂà§Êñ≠Êù°‰ª∂Âà§Êñ≠‰∏∫ÊãñÊãΩÂêéÔºåÈááÁî®ÁªùÂØπÂ∏ÉÂ±ÄÂàõÂª∫ÂùóÁ∫ßÊ†ºÂºè‰∏ä‰∏ãÊñáÂÖÉÁ¥†ÔºåÁã¨Á´ã‰∫éÊñáÊ°£ÊµÅËøõË°å‰ΩçÁßªÔºåËøôÊ†∑‰∏ÄÊù•Êó¢ËÉΩÊª°Ë∂≥ÂäüËÉΩÈúÄÊ±Ç‰πüËÉΩÊª°Ë∂≥ÊÄßËÉΩÈúÄÊ±Ç„ÄÇ\n\nHTML ÁöÑÊãñÊãΩ API ÂàÜÂà´‰ΩúÁî®‰∫éË¢´ÊãñÊãΩÁöÑÂÖÉÁ¥†ÂíåÁõÆÊ†áÂÖÉÁ¥†Ôºö\n\n| ÈíàÂØπÂØπË±°     | ‰∫ã‰ª∂ÂêçÁß∞  | ËØ¥Êòé                                                  |\n| :----------- | :-------- | :---------------------------------------------------- |\n| Ë¢´ÊãñÂä®ÁöÑÂÖÉÁ¥† | dragstart | Âú®ÂÖÉÁ¥†ÂºÄÂßãÊãñÂä®Êó∂Ëß¶Âèë                                  |\n|              | drag      | Âú®ÂÖÉÁ¥†ÊãñÂä®Êó∂ÂèçÂ§çËß¶Âèë                                  |\n|              | dragend   | Âú®ÊãñÂä®Êìç‰ΩúÂÆåÊàêÊó∂Ëß¶Âèë                                  |\n| ÁõÆÁöÑÂú∞ÂØπË±°   | dragenter | ÂΩìË¢´ÊãñÂä®ÂÖÉÁ¥†ËøõÂÖ•ÁõÆÁöÑÂú∞ÂÖÉÁ¥†ÊâÄÂç†ÊçÆÁöÑÂ±èÂπïÁ©∫Èó¥Êó∂Ëß¶Âèë      |\n|              | dragover  | ÂΩìË¢´ÊãñÂä®ÂÖÉÁ¥†Âú®ÁõÆÁöÑÂú∞ÂÖÉÁ¥†ÂÜÖÊó∂Ëß¶ÂèëÔºàÊØè 100ms Ëß¶Âèë‰∏ÄÊ¨°Ôºâ |\n|              | dragleave | ÂΩìË¢´ÊãñÂä®ÂÖÉÁ¥†Ê≤°ÊúâÊîæ‰∏ãÂ∞±Á¶ªÂºÄÁõÆÁöÑÂú∞ÂÖÉÁ¥†Êó∂Ëß¶Âèë            |\n|              | drop      | ÈáäÊîæË¢´ÊãñÊãΩÂÖÉÁ¥†Êó∂Ëß¶Âèë                                  |\n\n### Ë¢´ÊãñÊãΩÂÖÉÁ¥†\n\n‰∏ãÈù¢Êàë‰ª¨ÂºÄÂßã‰∏ÄÊ≠•Ê≠•‰ΩøÁî® mouse ‰∫ã‰ª∂ÂÆûÁé∞Ë¢´ÊãñÊãΩÂÖÉÁ¥†ÁöÑ drag Êåá‰ª§„ÄÇ\n\nÊàë‰ª¨Â∞ùËØïÊãÜËß£ÊãñÊãΩËøô‰∏™Âä®‰ΩúÔºå‰ªéÊµèËßàÂô®‰∫ã‰ª∂ËßíÂ∫¶Âá∫ÂèëËÄÉËôëÔºåÂèØ‰ª•ÂàÜ‰∏∫ `mousedown` Âíå `mousemove` ‰∏§ÈÉ®ÂàÜÔºåÂΩì `mousemove` ÂùêÊ†á‰∏é `mousedown` ÂùêÊ†á‰πãÂ∑ÆÁöÑÁªùÂØπÂÄºËææÂà∞‰∏ÄÂÆöÈòàÂÄºÂêéÔºåÂèØËÆ§‰∏∫Áî®Êà∑Âú®ËøõË°åÊãñÊãΩË°å‰∏∫ÔºåÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÁªôËøô‰∏™‰∏∫Êåá‰ª§Êèê‰æõÂèØ‰æõ‰ΩøÁî®ÊñπËá™Áî±ËÆæÁΩÆÁöÑÂÖ•ÂèÇ `dragTolerance`ÔºàÈªòËÆ§ËÆæ‰∏∫ 5ÔºåÂèØÁêÜËß£‰∏∫ÊãñÊãΩ‰ΩçÁßª‰∫Ü 5 ÂÉèÁ¥†Âçï‰ΩçÂêéÂà§ÂÆö‰∏∫ÊãñÊãΩÔºâ„ÄÇ\n\nÂú® HTML ÂÖ®Â±ÄÂ±ûÊÄß‰∏≠ÔºåÊúâ‰∏™ draggable ÁöÑÂ±ûÊÄßÔºåÂΩìÂÄº‰∏∫ true Êó∂ÔºåË°®Á§∫ÂÖÉÁ¥†ÂèØË¢´ÊãñÂä®ÔºõÂΩìÂÄº‰∏∫ false Êó∂ÔºåÂàôË°®Á§∫ÂÖÉÁ¥†‰∏çÂèØË¢´ÊãñÂä®„ÄÇÊàë‰ª¨ÁöÑÈúÄÊ±ÇÂú∫ÊôØ‰∏≠ÔºåÊúâÂêåÊ†∑Á±ª‰ººÁöÑÂäüËÉΩÈúÄË¶ÅÂÆûÁé∞Ôºå‰∏æ‰∏™‰æãÂ≠êÔºåËßÜÈ¢ëÊ°ÜÊû∂ÂíåÈîöÁÇπÂç†‰ΩçÂÖÉÁ¥†Âùá‰∏∫ÂèØÊãñÊãΩÁöÑÂÖÉÁ¥†ÔºåËÄåÈîöÁÇπÂç†‰ΩçÂÖÉÁ¥†ÊòØ‚ÄúÈï∂Âµå‚ÄùÂÜçËßÜÈ¢ëÊ°ÜÊû∂‰∏≠ÁöÑÔºåÂ¶ÇÊûúÂ∞ÜËØ•Êåá‰ª§ÂàÜÂà´ËÆæÁΩÆÂú®ÂêÑËá™ÁöÑÂÖÉÁ¥†‰∏äÔºåÈÇ£‰πàÂΩìÊãñÊãΩÈîöÁÇπÂç†‰ΩçÂÖÉÁ¥†Êó∂Ôºå‰πü‰ºöËß¶ÂèëËßÜÈ¢ëÊ°ÜÊû∂ÁöÑÊãñÊãΩ‰∫ã‰ª∂ÔºåËøôÊòæÁÑ∂‰∏çÊòØÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÁªìÊûú„ÄÇ\n\n‰ªÖ‰ªÖÁî±Â§ñÈÉ®ËÆæÁΩÆ‰∏∫Â∏ÉÂ∞îÂÄº‰ºº‰πéÂπ∂‰∏çËÉΩËß£ÂÜ≥Êàë‰ª¨ÁöÑÈóÆÈ¢ò„ÄÇÊâÄ‰ª•ÔºåÈô§‰∫ÜÂ∏ÉÂ∞îÂÄºÂ§ñÔºå Êàë‰ª¨ÂÖÅËÆ∏ `draggable` ÂèÇÊï∞‰∏∫ÂáΩÊï∞Á±ªÂûã„ÄÇÂΩì `mousedown` Êó∂Ôºå‰ºöËé∑ÂèñÂΩìÂâç `draggable` ÁöÑÂÄºÔºåËã• darggable ‰∏∫ÂèØÊâßË°åÂáΩÊï∞Êó∂ÔºåÂ∞ÜÊê∫Â∏¶Êï∞ÊçÆÂíåË¢´ÊãñÊãΩÂéüÂßã DOM ÂÖÉÁ¥†ÂºïÁî®Á≠â‰Ωú‰∏∫ÂèÇÊï∞ÊâßË°åËØ•Ê†°È™åÂáΩÊï∞ÔºåÂáΩÊï∞ÂÜÖÈÉ®Â§ÑÁêÜÂà§Êñ≠ÂèØÂê¶ÊãñÊãΩÈÄªËæëÔºåÊúÄÁªàËøîÂõûÂ∏ÉÂ∞îÂÄºÂÜ≥ÂÆö `mousedown` ÂêéÁª≠ÁöÑÂ§ÑÁêÜ„ÄÇ\n\nËøô‰πüÊòØÊäΩË±°ÂÖ¨ÂÖ±ÁªÑ‰ª∂ÂíåÂ∑•ÂÖ∑ÁöÑÊäÄÂ∑ß‰πã‰∏ÄÔºåÊó¢ËÉΩÂÆûÁé∞Â∞Ü‰∏öÂä°‰ª£Á†ÅÈÄöËøáÂáΩÊï∞‰Ωú‰∏∫ÂõûË∞ÉÂØπÁªÑ‰ª∂Â∑•ÂÖ∑ÈÄªËæëËøõË°åÂΩ±ÂìçÔºåÂêåÊó∂‰πüÂáèÂ∞ëÂØπÊäΩË±°ÁªÑ‰ª∂Â∑•ÂÖ∑‰æµÂÖ•„ÄÇ\n\n```ts\n@Directive({\n  selector: '[ssDraggable]',\n})\nexport class SSDraggableDirective implements OnInit {\n  constructor(public el: ElementRef, public zone: NgZone, public viewContainer: ViewContainerRef) {\n    this.currentElement = el.nativeElement;\n  }\n\n  public ngOnInit(): void {\n    this.onMouseMove = this.onMouseMove.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n  }\n\n  public ngAfterContentInit() {\n    if (this.currentElement) {\n      this.currentElement.onmousedown = this.onMouseDown.bind(this);\n    }\n  }\n\n  /**\n   * ËÉΩÂê¶ÊãñÊãΩ\n   */\n  private get currentElementDraggable() {\n    if (typeof this.draggable === 'function') {\n      return this.draggable({\n        // Ë¢´ÊãñÊãΩÂÖÉÁ¥†Êê∫Â∏¶ÁöÑÊï∞ÊçÆ\n        data: this.data,\n        // Ë¢´ÊãñÊãΩÂÖÉÁ¥†ÁöÑÂéüÂßã DOM ÂÖÉÁ¥†\n        mousedownElement: this.mousedownElement,\n      });\n    }\n\n    return this.draggable;\n  }\n\n  /**\n   * ÊãñÊãΩÂºÄÂßãÂâçÈº†Ê†áÊåâ‰∏ã‰∫ã‰ª∂\n   */\n  onMouseDown(e: MouseEvent): void {\n    e.preventDefault();\n\n    this.mousedownElement = e.target as HTMLElement;\n\n    if (!this.currentElementDraggable) return;\n\n    this.clicked = true;\n\n    // ËÆ∞ÂΩïÈº†Ê†áÊåâ‰∏ãÁöÑÊ®™Á∫µÂùêÊ†á\n    this.startX = e.pageX;\n    this.startY = e.pageY;\n\n    document.defaultView?.addEventListener('mousemove', this.onMouseMove);\n    document.defaultView?.addEventListener('mouseup', this.onMouseUp);\n  }\n\n  /**\n   * ÊãñÊãΩÂºÄÂßãÂâçÈº†Ê†áÊåâ‰∏ã‰∫ã‰ª∂\n   */\n  onMouseMove(e: MouseEvent): void {\n    // do something\n  }\n\n  /**\n   * ÁõëÂê¨ÊãñÂä®ÁªìÊùü\n   */\n  onMouseUp(e: MouseEvent): void {\n    // do something\n  }\n}\n```\n\nÂΩìÈº†Ê†áË∑ùÁ¶ª mousedown Ë∑ùÁ¶ªË∂ÖÂá∫ËÆæÂÆöÈòàÂÄºÂêéÔºåÈúÄËß¶Âèë‰∏ÄÊ¨°Âë®ÊúüÂáΩÊï∞ÁöÑ dragStartÔºåË°®Á§∫ÂºÄÂßãÊãñÊãΩ„ÄÇ‰∏éÊ≠§ÂêåÊó∂ÔºåÂü∫‰∫éÊ®°ÁâàÂàõÂª∫Áî®‰∫éÊãñÊãΩÁöÑÂπΩÁÅµÂÖÉÁ¥†„ÄÇ\n\n‰∏∫‰∫ÜÊª°Ë∂≥‰∫§‰∫íÈúÄÊ±ÇÔºåËøôÈáåÊúâ‰∏§ÁßçÂπΩÁÅµÂÖÉÁ¥†ÁöÑÂÆûÁé∞ÊñπÂºèÔºö‰∏ÄÁßçÊòØ Angular Êèê‰æõÁöÑÊ®°ÁâàËØ≠Ê≥ïÔºå‰∏ÄÁßçÊòØ clone Âéü DOM ÂÖÉÁ¥†„ÄÇ\n\nÂü∫‰∫éÊ®°ÁâàÁîüÊàêÁöÑÂπΩÁÅµÂÖÉÁ¥†Áõ∏ÂØπÊØîËæÉÂÆπÊòìÂÆûÁé∞ÔºåÂè™ÈúÄË¶ÅÂÆûÁî® ng-template ÂÆö‰πâÂ•Ω HTML ÁªìÊûÑÔºåÂ∞ÜÊ®°ÁâàÂºïÁî®ÂèòÈáè‰Ωú‰∏∫ÂÖ•ÂèÇ‰º†ÂÖ•Êåá‰ª§Âç≥ÂèØ„ÄÇÊåá‰ª§ÂÜÖÈÉ®Ê†πÊçÆÊ®°ÁâàÂºïÁî®ÂèòÈáèÂàõÂª∫ DOM ÂÖÉÁ¥†Âç≥ÂèØ„ÄÇ\n\n![drag-anchor](https://img.mrsingsing.com/drag-anchor.gif)\n\n```xml\n<!-- ÊãñÊãΩÁßªÂä®ÈîöÁÇπÂπΩÁÅµÊ®°Áâà -->\n<ng-template #ssDraggableAnchorGhost>\n  <div\n    class=\"drag-anchor-ghost\"\n    [attr.data-type]=\"DragGhostElementType.ANCHOR\"\n  >\n    <div class=\"ghost-cursor\"></div>\n    <div class=\"ghost-placeholder\"></div>\n  </div>\n</ng-template>\n```\n\nÂè¶‰∏ÄÁßçÊ†πÊçÆ DOM ÂÖÉÁ¥†ÂàõÂª∫ÂâØÊú¨ÁöÑÊñπÂºè‰ºöÁ®çÂæÆÂ§çÊùÇÔºåÊàë‰ª¨ÈÉΩÁü•ÈÅì DOM Êèê‰æõÁöÑÊñπÊ≥ï‰∏≠Êúâ‰∏Ä‰∏™ `Node.cloneNode()` ÁöÑÊñπÊ≥ïÔºåÂèØÁî®‰∫éÂÖãÈöÜ DOM ËäÇÁÇπÔºå‰ΩÜÊòØËøô‰∏™ÊñπÊ≥ïÊúâ‰∏™ÊòéÊòæÁöÑÁº∫Èô∑ÔºåÂ∞±ÊòØÂè™ËÉΩÂÖãÈöÜ DOM ÁªìÊûÑÔºåCSS Ê†∑ÂºèÊó†Ê≥ïÂÖãÈöÜ„ÄÇ\n\nÂú®Á†îÁ©∂‰∫ÜÊâÄÊúâÂèØË°åÁöÑÊñπÊ°àÂêéÔºåÂπ∂Ê≤°Êúâ‰∏Ä‰∏™ÂçÅÂàÜÂÆåÁæéÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÈÇ£‰πàÂ∞±Âè™ËÉΩËµ∞ÊúÄÁ¨®ÊãôÁöÑÂÆûÁé∞ÊñπÂºè„ÄÇÂéüÁîü DOM Êèê‰æõ‰∫ÜËé∑ÂèñÂÖÉÁ¥†ÁªèËøáÂ∏ÉÂ±Ä„ÄÅÁªòÂà∂„ÄÅÂÖâÊ†ÖÂåñÂíåÂêàÂπ∂ÂêéÁöÑÊ†∑ÂºèÂ±ûÊÄßÊñπÊ≥ï getComputedStyle„ÄÇÂàõÂª∫ÂπΩÁÅµÂÖÉÁ¥†Êó∂ÔºåÂÖàÂÖãÈöÜÂÖÉÁ¥†ÂèäÂÖ∂Â≠êÂ≠ôËäÇÁÇπÔºåÁÑ∂Âêé‰æùÊ¨°ÈÅçÂéÜÊØè‰∏™ËäÇÁÇπÔºåÈÄöËøáËØ•ÊñπÊ≥ïËé∑ÂèñËäÇÁÇπÁöÑËÆ°ÁÆóÊ†∑ÂºèÂ±ûÊÄßÔºåÁÑ∂ÂêéÂÜçÂØπÊ†∑ÂºèÂ±ûÊÄßÈÄê‰∏ÄËµãÂÄºÂà∞ÂÖãÈöÜËäÇÁÇπ‰∏ä„ÄÇ\n\n‰ΩÜÊòØÊµèËßàÂô®ÊîØÊåÅÁöÑ CSS Â±ûÊÄßÊúâÂá†Áôæ‰∏™ÔºåÂ¶ÇÊûúÊØè‰∏™ÈÉΩÈúÄË¶ÅÁöÑËØùÂ∞Ü‰ºöÊèêÂçáÊï¥‰∏™Êìç‰ΩúÁöÑÂ§çÊùÇÂ∫¶„ÄÇÂõ†‰∏∫Âú®ËøôÈáåÁöÑ‰ΩøÁî®Áõ∏ÂÖ≥Â±ûÊÄßÁöÑÂÖÉÁ¥†ÁöÑÊ†∑ÂºèÊòØÊØîËæÉÂõ∫ÂÆöÁöÑÔºåÊâÄ‰ª•Âè™ÂØπÈÉ®ÂàÜÊ†∑ÂºèÂ±ûÊÄßËøõË°å‰∫ÜËΩ¨Áßª„ÄÇÂ¶ÇÊûúÊòØÂÆûÁé∞Â§ßÂûãÁöÑÂÖ¨Áî®ÂåÖÔºåÂàôÂ∫îËØ•‰øùËØÅÂèØÁî®ÊÄß„ÄÇ\n\n![drag-video](https://img.mrsingsing.com/drag-video.gif)\n\n```ts\nexport class SSDraggableDirective implements OnInit {\n  /**\n   * Ê†πÊçÆÂΩìÂâçÂÖÉÁ¥†ÂÖãÈöÜÁîüÊàêÊãñÊãΩÂπΩÁÅµÂÖÉÁ¥†\n   */\n  cloneGhostElement(element: Element): Element {\n    const clonedElement = element.cloneNode(true) as HTMLElement;\n\n    const originalStyles: CSSStyleDeclaration = document.defaultView.getComputedStyle(element, '');\n\n    for (const cssProperty of styleProperties) {\n      clonedElement.style[cssProperty] = originalStyles[cssProperty];\n    }\n\n    clonedElement.style.pointerEvents = 'none';\n\n    const originalElementChildren = element.getElementsByTagName('*') as HTMLCollectionOf<\n      HTMLElement\n    >;\n    const clonedElementChildren = clonedElement.getElementsByTagName('*') as HTMLCollectionOf<\n      HTMLElement\n    >;\n\n    for (let i = originalElementChildren.length - 1; i--; ) {\n      const originalChild = originalElementChildren[i];\n      const clonedChild = clonedElementChildren[i];\n      const originElementStyles = document.defaultView.getComputedStyle(originalChild, '');\n\n      for (const cssProperty of styleProperties) {\n        clonedChild.style[cssProperty] = originElementStyles[cssProperty];\n      }\n\n      clonedChild.style.pointerEvents = 'none';\n    }\n\n    return clonedElement;\n  }\n}\n```\n\nÂºÄÂßãÊãñÊãΩÂπ∂ÁîüÊàêÂπΩÁÅµÂáΩÊï∞ÁöÑ‰ª£Á†ÅÂÆûÁé∞Ôºö\n\n```ts\ninterface SSDraggableBaseEventArgs {\n  originalEvent: MouseEvent;\n  ghostElement: Nullable<HTMLElement>;\n  startX: number;\n  startY: number;\n  pageX: number;\n  pageY: number;\n  cancel: boolean;\n}\n\nexport class SSDraggableDirective implements OnInit {\n  /**\n   * Èº†Ê†áÁßªÂä®‰∫ã‰ª∂\n   */\n  onMouseMove(e: MouseEvent) {\n    const { pageX, pageY } = e;\n\n    if (this.clicked) {\n      const totalMovedX = pageX - this.startX;\n      const totalMovedY = pageY - this.startY;\n\n      if (\n        !this.dragStarted &&\n        (Math.abs(totalMovedX) > this.dragTolerance || Math.abs(totalMovedY) > this.dragTolerance)\n      ) {\n        const dragStartArgs: SSDraggableBaseEventArgs = {\n          originalEvent: e,\n          ghostElement: this.ghostElement,\n          startX: this.startX,\n          startY: this.startY,\n          pageX,\n          pageY,\n          cancel: false,\n        };\n\n        this.zone.run(() => {\n          this.dragStart.emit(dragStartArgs);\n        });\n\n        if (dragStartArgs.cancel) {\n          this.destoryEventListener();\n\n          return;\n        }\n\n        const clientRect = this.currentElement.getBoundingClientRect();\n\n        this.baseX = clientRect.left;\n        this.baseY = clientRect.top;\n\n        this.dragStarted = true;\n\n        // ÂΩìÁßªÂä®Ë∂≥Â§üÂ§öË∑ùÁ¶ªÊó∂ÔºåÂπΩÁÅµÂÖÉÁ¥†Êâç‰ºöÊ∏≤ÊüìÂπ∂Ë¢´ÂÆûÈôÖÂºÄÂßãÊãñÊãΩ\n        this.createGhostElement(pageX, pageY);\n      } else if (!this.dragStarted) {\n        return;\n      }\n\n      const dragMoveArgs: SSDraggableDragMoveArgs = {\n        originalEvent: e,\n        ghostElement: this.ghostElement,\n        startX: this.startX,\n        startY: this.startY,\n        pageX: this.lastX,\n        pageY: this.lastY,\n        nextPageX: e.pageX,\n        nextPageY: e.pageY,\n        cancel: false,\n      };\n\n      this.dragMove.emit(dragMoveArgs);\n\n      const setPageX = dragMoveArgs.nextPageX;\n      const setPageY = dragMoveArgs.nextPageY;\n\n      if (!dragMoveArgs.cancel) {\n        this.ghostLeft = this.dragDirection === DragDirection.VERTICAL ? this.baseX : setPageX;\n        this.ghostTop = this.dragDirection === DragDirection.HORIZONTAL ? this.baseY : setPageY;\n\n        this.dispatchDragEvent(pageX, pageY, e);\n      }\n\n      this.lastX = setPageX;\n      this.lastY = setPageY;\n    }\n  }\n\n  /**\n   * Ê†πÊçÆÊ®°ÁâàÁîüÊàêÊãñÊãΩÂπΩÁÅµÂÖÉÁ¥†\n   */\n  createGhostElement(pageX: number, pageY: number) {\n    let dynamicGhostRef;\n    //\n    if (this.ghostTemplate) {\n      dynamicGhostRef = this.viewContainer.createEmbeddedView(this.ghostTemplate, null);\n      this.ghostElement = dynamicGhostRef.rootNodes[0];\n    } else {\n      const clonedElement = this.cloneGhostElement(this.currentElement);\n\n      const ghostContainer = document.createElement('div');\n      ghostContainer.appendChild(clonedElement);\n\n      if (this.currentElement.dataset) {\n        Object.entries(this.currentElement.dataset).forEach(([key, value]) => {\n          ghostContainer.setAttribute(`data-${key}`, value);\n        });\n      }\n\n      this.ghostElement = ghostContainer;\n    }\n\n    if (this.ghostElement) {\n      const createEventArgs = {\n        ghostElement: this.ghostElement,\n        cancel: false,\n      };\n\n      this.ghostCreate.emit(createEventArgs);\n\n      if (createEventArgs.cancel) {\n        this.ghostElement = null;\n\n        if (this.ghostTemplate && dynamicGhostRef) {\n          dynamicGhostRef.destroy();\n        }\n        return;\n      }\n\n      this.ghostElement.style.position = 'absolute';\n      this.ghostElement.style.pointerEvents = 'none';\n      this.ghostElement.style.zIndex = this.ghostIndex;\n      this.ghostElement.style.transform =\n        this.dragDirection === DragDirection.BOTH ? 'translate3d(-50%, -50%, 0)' : null;\n      // ÂûÇÁõ¥ÊñπÂêëÂèØÊãñÊãΩÔºåÈÇ£‰πà left Âõ∫ÂÆö\n      this.ghostElement.style.left =\n        this.dragDirection === DragDirection.VERTICAL ? this.baseX + 'px' : pageX + 'px';\n      // Ê∞¥Âπ≥ÊñπÂêëÂèØÊãñÊãΩÔºåÈÇ£‰πà right Âõ∫ÂÆö\n      this.ghostElement.style.top =\n        this.dragDirection === DragDirection.HORIZONTAL ? this.baseY + 'px' : pageY + 'px';\n      this.ghostElement.style.width = 'auto';\n      this.ghostElement.style.height = 'auto';\n      this.ghostElement.style.cursor = 'grabbing';\n\n      document.body.appendChild(this.ghostElement);\n\n      this.ghostElement.addEventListener('pointerup', args => {\n        this.onMouseUp(args);\n      });\n    }\n  }\n}\n```\n\nÂΩìÊãñÊãΩÁªìÊùüÔºå‰πüÂ∞±ÊòØÁî®Êà∑ÈáäÊîæÈº†Ê†á mouseup ÂêéÔºåÂàôÈô§‰∫ÜÈúÄË¶ÅÂ∞Ü‰º†ËææÁªô drop ÁõÆÊ†áÂå∫ÂüüÂ§ñÔºåËøòË¶ÅÁßªÈô§Êó∂Èó¥ÁöÑÁõëÂê¨„ÄÇ\n\n```ts\nexport class SSDrggableDirective implements OnInit {\n  /**\n   * ÁõëÂê¨ÊãñÂä®ÁªìÊùü\n   */\n  onMouseUp(e: MouseEvent) {\n    if (!this.clicked) return;\n\n    this.clicked = false;\n    this.dragStarted = false;\n\n    const dragEndArgs = {\n      originalEvent: e,\n      ghostElement: this.ghostElement,\n      startX: this.startX,\n      startY: this.startY,\n      pageX: e.pageX,\n      pageY: e.pageY,\n      data: this.data,\n      cancel: false,\n    };\n\n    this.zone.run(() => {\n      this.dragEnd.emit(dragEndArgs);\n    });\n\n    this.dispatchDropEvent(e.pageX, e.pageY, e);\n\n    if (this.ghostElement) {\n      this.ghostElement.parentNode?.removeChild(this.ghostElement);\n      this.ghostElement = null;\n    }\n\n    this.destoryEventListener();\n  }\n}\n```\n\n‰Ω†‰πüËÆ∏‰ºöÁñëÈóÆÂú® mouse ÂÆûÁé∞ drag & drop Ë¶ÅÂ¶Ç‰ΩïÂÆûÁé∞Â∞ÜÊãñÊãΩÂÖÉÁ¥†ÁöÑ‰ø°ÊÅØÈÄöÁü•ÁªôÁõÆÁöÑÂú∞ÂÖÉÁ¥†ÔºåÊØïÁ´ü drag & drop ËÉΩÈÄöËøá dataTransfer ‰Ωú‰∏∫Êï∞ÊçÆ‰º†ËæìÁöÑËΩΩ‰ΩìÔºåËÄå‰∏îÂéüÁîüÊîØÊåÅÊï∞ÊçÆ‰º†ÈÄí„ÄÇ\n\n‰∫ãÂÆû‰∏äÔºåÈô§‰∫ÜÊµèËßàÂô®Êèê‰æõÁ±ª‰ºº click„ÄÅmousedown„ÄÅblur Á≠âÂÜÖÁΩÆÁöÑÊ†áÂáÜ‰∫ã‰ª∂Â§ñÔºåÊµèËßàÂô®ËøòÈÄöËøáÊñπÊ≥ïËÆ©ÂºÄÂèëËÄÖËá™Â∑±ÂàõÂª∫ÁõëÂê¨‰∫ã‰ª∂„ÄÇ\n\nÂàõÂª∫ÊåáÂÆöÁ±ªÂûãÁöÑ‰∫ã‰ª∂Á§∫‰æãÔºö\n\n```ts\n// ÂàõÂª∫‰∫ã‰ª∂\nconst event = documet.createEvent('Event');\n\n// ÂÆö‰πâ‰∫ã‰ª∂Âêç‰∏∫ build\nevent.initEvent('build', true, true);\n\n// ÁõëÂê¨‰∫ã‰ª∂\nevent.addEventListener(\n  'build',\n  function(e) {\n    // e.target\n  },\n  false\n);\n\n// Ëß¶ÂèëÂØπË±°ÂèØ‰ª•ÊòØ‰ªª‰ΩïÂÖÉÁ¥†ÊàñÂÖ∂‰ªñ‰∫ã‰ª∂ÁõÆÊ†á\nelem.dispatchEvent(Event);\n```\n\nÂΩìÂÖÉÁ¥†Ë¢´ÊãñÊãΩÁßªÂä®Êó∂Ôºå‰ºöÂÆûÊó∂ÈÄöËøá getElementsAtPoint Ëé∑ÂèñÂÖÉÁ¥†‰∏ãÊñπÁöÑÂùêÊ†áÂêÑÂ±ÇÁ∫ßÁöÑÂÖÉÁ¥†ÔºåÂΩìÂ≠òÂú®ÁõÆÁöÑÂú∞Ê†áËØÜÁöÑÂÖÉÁ¥†Êó∂ÔºåÊâßË°åÂØπÂ∫îÁöÑÂë®ÊúüÂáΩÊï∞ÔºåËøôÊ†∑Â∞±ËÉΩÂÆûÁé∞Êï∞ÊçÆÁöÑÈÄö‰ø°‰∫Ü„ÄÇ\n\n‰∏ãÈù¢‰∏∫ÂÆûÁé∞ drag Âíå drop Áõ∏ÂÖ≥‰∫ã‰ª∂ÁöÑ‰ª£Á†ÅÔºö\n\n- dispatchDragEventÔºöÂ§ÑÁêÜ dragEnter„ÄÅdragLeave ‰∫ã‰ª∂\n- dispatchDropEventÔºöÂ§ÑÁêÜ drop ‰∫ã‰ª∂\n- dispatchEventÔºöÂ∫ïÂ±ÇÂ∞ÅË£Ö\n\n```ts\nexport class SSDraggableDirective implements OnInit {\n  dispatchDragEvent(pageX: number, pageY: number, originalEvent: MouseEvent) {\n    let dropArea;\n\n    const customEventArgs: SSDraggableCustomEventDetail = {\n      data: { ...this.data },\n      originalEvent,\n      ghostElement: this.ghostElement,\n      startX: this.startX,\n      startY: this.startY,\n      pageX,\n      pageY,\n      cancel: false,\n    };\n\n    // ÊåâÁÖßÂÖÉÁ¥†ÂÜíÊ≥°È°∫Â∫èÊéíÂàóÁöÑÊï∞ÁªÑ\n    const elementsFromPoint = this.getElementsAtPoint(pageX, pageY);\n    const dropAreaFlag = this.dropAreaFlag;\n\n    for (const element of elementsFromPoint) {\n      if (\n        element.getAttribute(dropAreaFlag) === 'true' &&\n        element !== this.ghostElement &&\n        element !== this.currentElement\n      ) {\n        dropArea = element;\n        break;\n      }\n    }\n\n    if (dropArea && (!this.lastDropArea || (this.lastDropArea && this.lastDropArea !== dropArea))) {\n      if (this.lastDropArea) {\n        this.dispatchEvent(this.lastDropArea, 'ssDragLeave', customEventArgs);\n      }\n\n      this.lastDropArea = dropArea;\n      this.dispatchEvent(dropArea, 'ssDragEnter', customEventArgs);\n    } else if (!dropArea && this.lastDropArea) {\n      this.dispatchEvent(this.lastDropArea, 'ssDragLeave', customEventArgs);\n      this.lastDropArea = null;\n      return;\n    }\n\n    if (dropArea) {\n      this.dispatchEvent(dropArea, 'ssDragOver', customEventArgs);\n    }\n  }\n\n  dispatchDropEvent(pageX: number, pageY: number, originalEvent: MouseEvent) {\n    const customEventArgs = {\n      ghostElement: this.ghostElement,\n      originalEvent,\n      startX: this.startX,\n      startY: this.startY,\n      pageX,\n      pageY,\n      data: this.data,\n      cancel: false,\n    };\n\n    this.dispatchEvent(this.lastDropArea, 'ssDrop', customEventArgs);\n  }\n\n  dispatchEvent(\n    target: Nullable<HTMLElement>,\n    eventName: string,\n    eventArgs: SSDraggableCustomEventDetail\n  ) {\n    if (target) {\n      const customEvent = document.createEvent('CustomEvent');\n      customEvent.initCustomEvent(eventName, false, false, eventArgs);\n      target.dispatchEvent(customEvent);\n    }\n  }\n\n  protected getElementsAtPoint(pageX: number, pageY: number) {\n    const viewPortX = pageX - window.pageXOffset;\n    const viewPortY = pageY - window.pageYOffset;\n\n    if (document['msElementsFromPoint']) {\n      const elements = document['msElementsFromPoint'](viewPortX, viewPortY);\n      return elements === null ? [] : elements;\n    } else {\n      return document.elementsFromPoint(viewPortX, viewPortY);\n    }\n  }\n}\n```\n\nÂ¶ÇÊ≠§ËøôÊ†∑ÔºåÊãñÊãΩÂÖÉÁ¥†ÁöÑ Angular Êåá‰ª§Â∞±ËøôÊ†∑ÂÆûÁé∞‰∫ÜÔºåËØ∏Â¶ÇËæπÁïå„ÄÅÊ†áËØÜÂ±ûÊÄßÁ≠âÂÆûÁé∞‰∏äËø∞‰ª£Á†ÅÂ∑≤ÁªèÂåÖÂê´Âú®ÂÜÖÔºå‰∏ãÈù¢ÊÄªÁªìÂ∞ÅË£Ö‰∏Ä‰∏™ mouse ÂÆûÁé∞ drag ÁöÑÊåá‰ª§Â∑•ÂÖ∑ÈúÄË¶ÅËÄÉËôëÂà∞ÁöÑ API Âíå‰∫ã‰ª∂„ÄÇ\n\n| API           | ËØ¥Êòé                         | Á±ªÂûã                     |\n| :------------ | :--------------------------- | :----------------------- |\n| data          | ÊãñÊãΩÂÖÉÁ¥†Êê∫Â∏¶ÁöÑÊï∞ÊçÆ           | any                      |\n| draggable     | ËÉΩÂê¶Ë¢´ÊãñÊãΩ                   | boolean \\| () => boolean |\n| ghostTemplate | Ë¢´ÊãñÊãΩÂπΩÁÅµÂÖÉÁ¥†ÁöÑÊ®°ÁâàÂºïÁî®ÂèòÈáè | `TemplateRef<any>`       |\n| ghostIndex    | ÂπΩÁÅµÂÖÉÁ¥†ÁöÑÂ±ÇÁ∫ß               | string                   |\n| dragTolerance | Âà§Êñ≠ÊãñÊãΩÂºÄÂßãÁöÑÈòàÂÄº           | number                   |\n| dragDirection | ËæπÁïå                         | DragDirection            |\n| dropAreaFlag  | Ê†áËØÜË¢´ÊãñÂä®ÂÖÉÁ¥†ÁöÑËá™ÂÆö‰πâÂ±ûÊÄß   | string                   |\n\n> dropAreaFlag ÊòØÁî®‰∫éÂà§Êñ≠ÊòØÂê¶‰∏∫ËÉΩÂ§ü drop Âå∫ÂüüÁöÑÊ†áËØÜÔºå‰ΩøÁî® drop Êåá‰ª§ÁöÑÂÖÉÁ¥†ÈªòËÆ§Ê∑ªÂä† data-\\* ÁöÑËá™ÂÆö‰πâ attribute„ÄÇ\n\n| ‰∫ã‰ª∂         | ËØ¥Êòé               |\n| :----------- | :----------------- |\n| dragStart    | ÊãñÊãΩÂºÄÂßãÊó∂Ëß¶Âèë     |\n| dragMove     | ÊãñÊãΩÂÖÉÁ¥†ÁßªÂä®Êó∂Ëß¶Âèë |\n| dragEnd      | ÊãñÊãΩÁªìÊùüÊó∂Ëß¶Âèë     |\n| ghostCreate  | ÂπΩÁÅµÂÖÉÁ¥†ÂàõÂª∫Êó∂Ëß¶Âèë |\n| ghostDestory | ÂπΩÁÅµÂÖÉÁ¥†ÈîÄÊØÅÊó∂Ëß¶Âèë |\n\n### ÊãñÊãΩÁõÆÁöÑÂú∞ÂÖÉÁ¥†\n\nÂØπ‰∫éÈáäÊîæÁöÑ drop Êåá‰ª§Êù•ËØ¥ÔºåÂÆûÁé∞Ëµ∑Êù•Â∞±ÊØîËæÉÁÆÄÂçï‰∫ÜÔºåÂè™ÈúÄË¶ÅÂØπ drag Êåá‰ª§ÂÆö‰πâÁöÑÂá†‰∏™Ëá™ÂÆö‰πâ‰∫ã‰ª∂ËøõË°åÁõëÂê¨Âπ∂Â§ÑÁêÜÂØπÂ∫îÁöÑÂõûË∞É‰∫ã‰ª∂Âç≥ÂèØ„ÄÇ\n\n```ts\n@Directive({\n  selector: '[ssDroppable]',\n})\nexport class SSDroppableDirective implements OnInit {\n  public currentElement: Nullable<HTMLElement> = null;\n\n  @Input()\n  public dropAreaFlag = 'ssdroppable';\n\n  @Output()\n  public dragEnter = new EventEmitter<CustomEvent>();\n\n  @Output()\n  public dragOver = new EventEmitter<CustomEvent>();\n\n  @Output()\n  public dragLeave = new EventEmitter<CustomEvent>();\n\n  @Output()\n  public drop = new EventEmitter<CustomEvent>();\n\n  constructor(public el: ElementRef, public zone: NgZone) {\n    this.currentElement = el.nativeElement;\n  }\n\n  public ngOnInit(): void {\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragOver = this.onDragOver.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n\n    if (!this.currentElement) return;\n\n    this.currentElement.setAttribute(this.dropAreaFlag, 'true');\n\n    this.currentElement.addEventListener('ssDragEnter', this.onDragEnter as EventListener);\n    this.currentElement.addEventListener('ssDragOver', this.onDragOver as EventListener);\n    this.currentElement.addEventListener('ssDragLeave', this.onDragLeave as EventListener);\n    this.currentElement.addEventListener('ssDrop', this.onDrop as EventListener);\n  }\n\n  /**\n   * Ë¢´ÊãñÂä®ÂÖÉÁ¥†ËøõÂÖ•ÂΩìÂâçÂÖÉÁ¥†ÊâÄÂç†ÊçÆÁöÑÂ±èÂπïÁ©∫Èó¥Êó∂Ëß¶Âèë\n   */\n  public onDragEnter(e: CustomEvent): void {\n    this.zone.run(() => {\n      this.dragEnter.emit(e);\n    });\n  }\n\n  /**\n   * Ë¢´ÊãñÊãΩÂÖÉÁ¥†Âú®ÂΩìÂâçÂÖÉÁ¥†‰∏äÊñπÊó∂Ëß¶Âèë\n   */\n  public onDragOver(e: CustomEvent): void {\n    this.zone.run(() => {\n      this.dragOver.emit(e);\n    });\n  }\n\n  /**\n   * Ë¢´ÊãñÂä®ÂÖÉÁ¥†Ê≤°ÊúâÊîæ‰∏ãÂ∞±Á¶ªÂºÄÂΩìÂâçÂÖÉÁ¥†Êó∂Ëß¶Âèë\n   */\n  public onDragLeave(e: CustomEvent): void {\n    this.zone.run(() => {\n      this.dragLeave.emit(e);\n    });\n  }\n\n  /**\n   * ÈáäÊîæ‰∫ã‰ª∂\n   */\n  public onDrop(e: CustomEvent): void {\n    this.zone.run(() => {\n      this.drop.emit(e);\n    });\n  }\n}\n```\n\n## Áº©Áï•ÂõæÊåá‰ª§\n\nÂú®ËßÜÈ¢ëÂâ™ËæëËΩØ‰ª∂‰∏≠ÔºåËΩ®ÈÅìÂå∫ÂüüÁöÑËßÜÈ¢ëÁâáÊÆµÈÉΩ‰ºöÊòæÁ§∫ÂØπÂ∫îÊó∂Èó¥ÁöÑÊà™ÂõæÔºåÊñπ‰æøÁî®Êà∑ÂÆö‰ΩçÊåáÂÆöÁîªÈù¢ÊâÄÂú®ÁöÑ‰ΩçÁΩÆ‰ª•ËøõË°åËøõ‰∏ÄÊ≠•ÁöÑÊìç‰ΩúÔºåÂêåÊ†∑Âú∞Êàë‰ª¨‰πüÈúÄË¶ÅÂØπËßÜÈ¢ëÁâáÊÆµÁöÑÁº©Áï•ÂõæËøõË°åÂ±ïÁ§∫„ÄÇ\n\nÂú®Â§ßÊñπÂêë‰∏äÊàë‰ª¨Êúâ‰∏§ÁßçÊñπÂºèÂÆûÁé∞Ê≠§Á±ªÊïàÊûúÔºö\n\n- ÂΩìÁî®Êà∑ÂºÄÂßã‰∏ä‰º†ËßÜÈ¢ë‰ΩÜÊú™ÂÆåÊàêÊó∂ÔºåÂØπËßÜÈ¢ëËøõË°åÈÖçÈΩêÊìç‰ΩúÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπËßÜÈ¢ëÊñá‰ª∂Ê†πÊçÆÊØî‰æãÊà™ÂèñÂõæÁâáÂπ∂Â±ïÁ§∫\n- ÂΩìËßÜÈ¢ë‰∏ä‰º†ÂÆåÊàêÂêéÔºå‰∫ëÊúçÂä°ÁîüÊàêËßÜÈ¢ëÊà™ÂõæÈõ™Á¢ßÂõæÔºåÁî®Êà∑Âà∑Êñ∞È°µÈù¢ÂêéÔºå‰ΩøÁî®Èõ™Á¢ßÂõæËøõË°åÂ±ïÁ§∫\n\n### ËßÜÈ¢ëÊñá‰ª∂ÁîªÂ∏ÉÊà™Âõæ\n\n‰∏é‰πãÂâçÊ£ÄÊµãËßÜÈ¢ëÊñá‰ª∂ÂèØÁî®ÊÄßÊó∂ÁöÑÂÆûÁé∞ÈÄªËæëÁ±ª‰ººÔºåÂæÄÊñáÊ°£‰∏≠ÊèíÂÖ• video Ê†áÁ≠æÔºåÂπ∂ËøõË°å play Êí≠ÊîæÔºåÂà©Áî® Canvas ÁîªÂ∏ÉÁªòÂà∂ËßÜÈ¢ëÊåáÂÆöÊó∂Èó¥ÁöÑÁîªÈù¢ÔºåÂΩìÊó∂Èó¥Êõ¥Êñ∞ÂêéÂØπÁîªÂ∏ÉÂÜÖÂÆπ‰ΩøÁî® `toDataURL` ËæìÂá∫ËßÜÈ¢ëÊà™Âõæ„ÄÇ\n\n```ts\nexport class SSVideoPreviewDirective implements OnInit {\n  @Input()\n  public previewList;\n\n  @Input()\n  public blobUrl;\n\n  /** ÂºÄÂßãÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ */\n  @Input()\n  public beginTime: number;\n\n  /** ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÊåÅÁª≠Êó∂ÈïøÔºàÂçï‰ΩçÔºöÁßíÔºâ */\n  @Input()\n  public duration: number;\n\n  /** Ê≠•ÈïøÔºåÊØèÂº†Êà™ÂõæÁõ∏ÈöîÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ */\n  @Input()\n  public scaleRatio: number;\n\n  public ngOnInit(): void {\n    if (this.imgList && this.imgList.length > 0) {\n      this.renderVideoPreviewByImageList();\n    } else if (this.blobUrl) {\n      this.renderVideoPreviewByBlobUrl();\n    }\n  }\n\n  // ÊØèÊÆµËßÜÈ¢ëÊï∞ÊçÆÈÉΩ‰ºö‰øùÂ≠òÂèØÊí≠ÊîæÁöÑ Blob Url\n  public renderVideoPreviewByBlobUrl() {\n    // Áº©Áï•ÂõæÊÄªÊï∞Èáè\n    const count = Math.ceil(this.duration / this.scaleRatio);\n    const frag = document.createDocumentFragment();\n\n    const durationList = [];\n    for (let i = 0; i < count; i++) {\n      // Á¨¨ i Âº†ÊòæÁ§∫Êà™ÂõæÁöÑÊó∂Èó¥\n      const currentTime = this.beginTime + i * this.scaleRatio;\n\n      durationList.push(currentTime);\n    }\n\n    const promise = this.videoPicture({ videoUrl: this.blobUrl, seconds: durationList });\n\n    promise.then((imgList: string[]) => {\n      imgList.forEach((base64: string) => {\n        const div = document.createElement('div');\n\n        div.style.display = 'inline-block';\n        div.style.width = '80px';\n        div.style.height = '44px';\n        div.style.backgroundRepeat = 'no-repeat';\n        div.style.backgroundImage = `url(\"${base64}\")`;\n        div.style.backgroundSize = 'contain';\n        div.style.flexShrink = '0';\n\n        frag.appendChild(div);\n      });\n\n      this.currentElement.innerHTML = '';\n      this.currentElement.appendChild(frag);\n    });\n  }\n\n  /**\n   * Ëé∑Âèñ‰∏ÄÊÆµÊó∂Èó¥ÁöÑËßÜÈ¢ëÊà™Âõæ\n   *\n   * @param videoData ËßÜÈ¢ëÊï∞ÊçÆ\n   * @param width Êà™ÂõæÂÆΩÂ∫¶ÔºàÈªòËÆ§ 80pxÔºâ* 8 ÊòØ‰∏∫‰∫ÜËÆ©Êà™Âá∫Êù•ÁöÑÂõæÁâá‰∏çÊ®°Á≥ä\n   * @param height Êà™ÂõæÈ´òÂ∫¶ÔºàÈªòËÆ§ 44pxÔºâ* 8 ÊòØ‰∏∫‰∫ÜËÆ©Êà™Âá∫Êù•ÁöÑÂõæÁâá‰∏çÊ®°Á≥ä\n   * @param seconds Êà™ÂèñËßÜÈ¢ëÁöÑÁßí   [1,3,4,5,6]Ë°®Á§∫Êà™ÂèñËßÜÈ¢ë 1 3 4 5 6ÁßíÁöÑÂõæÁâá\n   */\n  videoPicture({\n    videoUrl,\n    videoData,\n    width = 80 * 8,\n    height = 44 * 8,\n    seconds,\n  }: {\n    videoUrl?: string;\n    videoData?: File;\n    width?: number;\n    height?: number;\n    seconds: number[];\n  }) {\n    // ÂàõÂª∫‰∏Ä‰∏™ËßÜÈ¢ëÂÖÉÁ¥†\n    const container = document.createElement('div');\n    container.className = 'video-picture';\n    container.style.position = 'absolute';\n    // container.style.visibility = 'hidden';\n    container.style.left = '-9999px';\n    const video = document.createElement('video');\n    video.width = width;\n    video.height = height;\n    video.src = videoUrl || window.URL.createObjectURL(videoData);\n    container.appendChild(video);\n\n    // ÂàõÂª∫‰∏Ä‰∏™canvas\n    const canvas = document.createElement('canvas');\n    canvas.width = width; //ËßÜÈ¢ëÂéüÊúâÂ∞∫ÂØ∏\n    canvas.height = height; //ËßÜÈ¢ëÂéüÊúâÂ∞∫ÂØ∏\n    container.appendChild(canvas);\n\n    // Êà™Âõæ\n    return new Promise(resolve => {\n      video.addEventListener('loadeddata', () => {\n        video.currentTime = 1;\n        video.play();\n      });\n      video.addEventListener('playing', async () => {\n        video.pause();\n        const captureVideoPromises = [];\n        for (let i = 0; i < seconds.length; i++) {\n          const captureVideoPromise = await this.captureVideoPromise(canvas, video, seconds[i]);\n          captureVideoPromises.push(captureVideoPromise);\n        }\n        Promise.all(captureVideoPromises).then(allSrcs => {\n          container.remove();\n          allSrcs.sort((a, b) => a.beginTime - b.beginTime);\n          const srcs = allSrcs.map(val => val.src);\n          resolve(srcs);\n        });\n      });\n\n      document.body.appendChild(container);\n    });\n  }\n\n  /**\n   * ËßÜÈ¢ëÊà™Âõæ\n   * @param canvas\n   * @param video\n   * @param beginTime Êà™ÂèñÂõæÁâáÁöÑËßÜÈ¢ëÊó∂Èó¥ÁÇπ\n   */\n  private captureVideoPromise(canvas, video, beginTime) {\n    const videoWidth = video.width;\n    const videoHeight = video.height;\n    // ËßÜÈ¢ëÁöÑÂΩìÂâçÁîªÈù¢Ê∏≤ÊüìÂà∞ÁîªÂ∏É‰∏ä\n    const ctx = canvas.getContext('2d');\n    return new Promise(resolve => {\n      const cutImg = () => {\n        video.removeEventListener('timeupdate', cutImg);\n\n        ctx.drawImage(video, 0, 0, videoWidth, videoHeight);\n        const dataUrl = canvas.toDataURL('image/png');\n        resolve({ beginTime: beginTime, src: dataUrl });\n      };\n      video.addEventListener('timeupdate', cutImg);\n      video.currentTime = beginTime;\n    });\n  }\n}\n```\n\n### Èõ™Á¢ßÂõæÂÆûÁé∞Áº©Áï•Âõæ\n\nÂÆûÁé∞ÊÄùË∑ØÔºö\n\n1. ËÆ°ÁÆóÊÄªÂÖ±ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊà™ÂõæÊï∞Èáè\n2. Âæ™ÁéØÂàõÂª∫ DOM ÂÖÉÁ¥†ÔºåÂπ∂ËÆ°ÁÆóÂΩìÂâç‰ΩçÁΩÆÁº©Áï•ÂõæÂØπÂ∫îÈõ™Á¢ßÂõæ‰∏≠ÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØÔºå‰ª• background ËÉåÊôØÊ†∑ÂºèÂÆûÁé∞Áº©Áï•ÂõæÂ±ïÁ§∫\n3. ÊúÄÂêéÁªü‰∏ÄÊèíÂÖ•Âà∞ÊñáÊ°£‰∏≠\n\nËøôÈáåÁöÑËÆ°ÁÆóÊñπÊ≥ïÂÄºÂæóÊÄªÁªì‰∏Ä‰∏ãÔºö\n\nÊØè‰∏™ËßÜÈ¢ëÊ°ÜÊû∂ÂØπÂ∫îÁùÄ‰∏Ä‰∏™ËßÜÈ¢ëÁ¥†ÊùêÔºåÁî®Êà∑ÂèØ‰ª•Âú®ËßÜÈ¢ëÊ°ÜÊû∂‰∏äÊ∑ªÂä†ÈîöÁÇπÔºåÊâÄ‰ª•Âú®ËßÜÈ¢ëÊ°ÜÊû∂ÂÜÖÊòØ‰ª• ËßÜÈ¢ë-ÈîöÁÇπ-ËßÜÈ¢ë-ÈîöÁÇπ-ËßÜÈ¢ë Èó¥ÈöîÂ≠òÂú®ÁöÑÔºåÈîöÁÇπÂêéËßÜÈ¢ëÁöÑÂºÄÂßãÊó∂Èó¥ÊòØ‰∏ä‰∏ÄÊÆµËßÜÈ¢ëÁöÑÁªìÊùüÊó∂Èó¥„ÄÇÈòøÈáå‰∫ëÁöÑÈõ™Á¢ßÂõæÊòØÊØèÁßíÊà™Âèñ‰∏ÄÂº†ÂõæÁâáÔºå‰πüÂ∞±ÊòØÁ¨¨ 0 ÁßíÂØπÂ∫îÁ¨¨‰∏ÄÂº†Êà™ÂõæÔºåÁ¨¨ 100 ÁßíÂØπÂ∫îÁöÑÊòØÁ¨¨‰∫åÁªÑ\n\n![sprite-preview](https://img.mrsingsing.com/sprite-preview.png)\n\n> ÁªìÂêà‰ª£Á†ÅËØ¥ÊòéÔºö\n>\n> - duration ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÊåÅÁª≠Êó∂ÈïøÔºàÂçï‰ΩçÔºöÁßíÔºâ\n> - scaleRatio Ê∏∏Ê†áÂ∞∫ÁöÑÊØî‰æãÂ∞∫\n> - beginTime ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÂú®ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÂºÄÂßãÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ\n> - imgList Èõ™Á¢ßÂõæÊï∞ÁªÑÈõÜÂêà\n\n1. ÈÄöËøáÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÊà™ÂèñÁâáÊÆµÊÄªÊåÅÁª≠Êó∂ÈïøÂíåÊØî‰æãÂ∞∫ËÆ°ÁÆóÂá∫ÊÄªÂÖ±ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊà™ÂõæÊï∞ÈáèÔºå‰∏çÂ§üÊòæÁ§∫‰∏ÄÂº†ÂÆåÊï¥Áº©Áï•ÂõæÂàôÊòæÁ§∫Áº©Áï•ÂõæÁöÑÈÉ®ÂàÜÔºåÈááÁî®Êà™ÂèñÂõæÁâáÁöÑÁ≠ñÁï•\n2. ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÊà™ÂèñÁâáÊÆµÁöÑÁ¨¨‰∏ÄÂº†Áº©Áï•ÂõæÂç≥‰∏∫Êà™ÂèñÁâáÊÆµÂºÄÂßãÊó∂Èó¥ÈÇ£‰∏ÄÁßíÔºå‰æãÂ¶Ç‰∏Ä‰∏™‰Ωç‰∫éÈîöÁÇπÂêéÁöÑËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÁöÑÂºÄÂßãÊó∂Èó¥ÊòØÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÁ¨¨ 120 ÁßíÔºåÈÇ£‰πàÁ¨¨‰∏ÄÂº†Â∞±ÊòØ 120 ÁßíÂ§ÑÁöÑÊà™Âõæ\n3. Èõ™Á¢ßÂõæÊØèÂº†‰∏∫ 10x10 ÁöÑËßÑÂàôÔºåÁ¨¨ 0-99 Áßí‰∏∫Á¨¨‰∏ÄÂº†Èõ™Á¢ßÂõæÔºåÁ¨¨ 100-199 Áßí‰∏∫Á¨¨‰∫åÂº†Èõ™Á¢ßÂõæÔºåÂè™ÈúÄÂΩìÂâçÊó∂Èó¥ÔºàÁßíÊï∞ÔºâÈô§‰ª• 100 Âπ∂Âêë‰∏ãÂèñÊï¥ÔºåÂ∞±ÂèØËé∑Áü•ÂΩìÂâçÁº©Áï•ÂõæÂú®Êï∞ÁªÑÁöÑÂì™Âº†Èõ™Á¢ßÂõæ‰∏≠\n4. ÊâæÂà∞Èõ™Á¢ßÂõæÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÁ°ÆËÆ§Âú®Èõ™Á¢ßÂõæ‰∏≠ÁöÑÊñπ‰ΩçÔºåÊ†πÊçÆÂΩìÂâçÊó∂Èó¥ÂèñÊ®° 100 ÁöÑÁªìÊûúÊòØÂê¶Á≠â‰∫é 0 ÂèØÂæóÁü•ÊòØÂê¶‰∏∫Èõ™Á¢ßÂõæÁöÑÁ¨¨‰∏ÄÂº†ÔºåÂê¶ÂàôÂêë‰∏äÂèñÊï¥ÂèñÊ®° 100 ÂèØÁü•ÂÖ∂ÊâÄÂ§Ñ‰ΩçÁΩÆ\n5. Â∞ÜËá™ÁÑ∂È°∫Â∫èËΩ¨Êç¢‰∏∫Áî± 0 ÂºÄÂßãÁöÑÁ¥¢ÂºïÈ°∫Â∫è\n6. ËÆ°ÁÆóÊ∞¥Âπ≥ÂÅèÁßªÂÄºÔºöÁ¥¢Âºï‰∏™‰ΩçÊï∞Âç≥‰ª£Ë°®ÊâÄÈúÄÁº©Áï•ÂõæÂ∑¶‰æßË∑ùÁ¶ªÈõ™Á¢ßÂõæÊâÄÂú®Ë°åÂ∑¶‰æßÂÖ±ÊúâÂ§öÂ∞ëÂº†Áº©Áï•ÂõæÔºåÂèØÁî± `(index % 10) * width` ËÆ°ÁÆóÊ∞¥Âπ≥ÂÅèÁßªÂÄº\n7. ËÆ°ÁÆóÂûÇÁõ¥ÂÅèÁßªÂÄºÔºöÁ¥¢ÂºïÂçÅ‰ΩçÊï∞Âç≥‰ª£Ë°®ÊâÄÈúÄÁº©Áï•ÂõæÈ°∂Á´ØË∑ùÁ¶ªÈõ™Á¢ßÂõæÊâÄÂú®ÂàóÈ°∂Á´ØÂÖ±ÊúâÂ§öÂ∞ëÂº†Áï•Áï•ÂõæÔºåÂèØÁî± `Math.floor(index / 10) * height` ËÆ°ÁÆóÂûÇÁõ¥ÂÅèÁßªÂÄº\n\n```ts\nexport class SSVideoPreviewDirective implements OnInit {\n  public renderVideoPreviewByImageList(): void {\n    // ÊÄªÂÖ±ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊà™ÂõæÂº†Êï∞\n    const count = Math.ceil(this.duration / this.scaleRatio);\n    const frag = document.createDocumentFragment();\n\n    for (let i = 0; i < count; i++) {\n      const div = document.createElement('div');\n\n      // Á¨¨ i Âº†ÊòæÁ§∫Êà™ÂõæÁöÑÊó∂Èó¥\n      const currentTime = this.beginTime + i * this.scaleRatio;\n      // Êà™ÂõæÊï∞ÁªÑ‰∏≠Á¨¨Âá†ÁªÑÊàêÂëò\n      const groupIndex = Math.floor(currentTime / 100);\n      // 100x100 ÈáåÁöÑÁ¨¨Âá†Âº†\n      const remainder = parseInt(`${currentTime}`) % 100 === 0 ? 1 : Math.ceil(currentTime) % 100;\n      //  ÂØπÂ∫îÂú®ÂõæÁâáÁªÑ‰∏≠ÁöÑÁ¥¢Âºï\n      const index = remainder === 0 ? 99 : remainder - 1;\n\n      const url = this.imgList[groupIndex];\n      const x = (index % 10) * 80;\n      const y = Math.floor(index / 10) * 44;\n\n      div.style.display = 'inline-block';\n      div.style.width = '80px';\n      div.style.height = '44px';\n      div.style.backgroundRepeat = 'no-repeat';\n      div.style.backgroundImage = `url(\"${url}\")`;\n      div.style.backgroundPosition = `-${x}px -${y}px`;\n      div.style.backgroundSize = '800px 440px';\n      div.style.flexShrink = '0';\n\n      frag.appendChild(div);\n    }\n\n    this.currentElement.innerHTML = '';\n    this.currentElement.appendChild(frag);\n  }\n}\n```\n\nÂú®ÂØπËøôÁßçÁº©Áï•ÂõæÁöÑÊäÄÊúØÂÆûÁé∞ÊñπÊ°àËøõË°åË∞ÉÁ†îÊó∂ÔºåÂèëÁé∞‰∫ÜÂè¶‰∏ÄÁßçÂ∑ßÂ¶ôÂÆûÁé∞ÊñπÂºèÔºö\n\nÂØπÂΩì‰∏™ DOM ÂÖÉÁ¥†ËÆæÂÆöÂ§ö‰∏™ background-image Âíå background-positionÔºåÊåáÂÆö backgroud-size ‰∏∫Âõ∫ÂÆöÂÆΩÂ∫¶ÔºåËÉåÊôØÂõæÁöÑÂºïÁî®‰πüÊòØ‰∏ÄÂº†Èõ™Á¢ßÂõæÔºåÂè™ÈúÄË¶ÅÂØπ background-image Âíå background-position ËøõË°åËÆ°ÁÆóÊìç‰ΩúÂç≥ÂèØ„ÄÇ\n\n‰ΩÜÊòØËøôÁßçÂÆûÁé∞ÊñπÂºèÊúâÂâçÊèêÔºåÂ∞±ÊòØÈõ™Á¢ßÂõæÂøÖÈ°ªÊòØ 1xn ËøôÁßçÂΩ¢ÂºèÁöÑÔºåËøôÊòØÂõ†‰∏∫ background-image ËÆæÁΩÆÂ§ö‰∏™ÂÄºÊó∂ÔºåËÉåÊôØÂõæÁâá‰ºö‰æùÊ¨°‰ªéÂ∑¶ÂêëÂè≥ÊéíÂàóÔºåÂ¶ÇÊûúÊòØ 10x10 ËøôÊ†∑ÁöÑËßÑÂàôÔºåÈÇ£‰πàÈõ™Á¢ßÂõæÁöÑÂÆΩÂ∫¶‰ºöÂç†Êª°ÔºåÂ∞±Êó†Ê≥ïÂÆûÁé∞‰∏Ä‰∏™ËÆæÁΩÆÂÆö‰πâ‰∏ÄÂº†Áº©Áï•Âõæ‰∫Ü„ÄÇ\n\n![tencent-preview](https://img.mrsingsing.com/tencent-preview.png)\n\n‰ΩÜÊòØÈâ¥‰∫éÈòøÈáå‰∫ëÊà™ÂõæÂè™ËÉΩÈááÁî® 10 x 10 ÁöÑËßÑÊ†ºÔºåÊâÄ‰ª•Êàë‰ª¨ÊúÄÁªà‰ªçÊóßÈááÁî®Â∑≤ÊúâÁöÑÊñπÊ°à„ÄÇ\nÂÖ∂‰ªñÂäüËÉΩ\n\n‰ª•‰∏äÁΩóÂàóËØ¶ÁªÜËÆ≤Ëß£‰∫ÜËØ•Á≥ªÁªüÈÉ®ÂàÜÊ†∏ÂøÉÂäüËÉΩÁöÑÂÆûÁé∞ÊñπÊ°àÔºå‰ΩÜÁ¢ç‰∫éÁØáÂπÖÂÆûÂú®Â§™ÈïøÔºåÂ∞±‰∏çÂÆåÂÖ®Â±ïÁ§∫‰∫ÜÔºåÂÆûÁé∞‰∏äÈÉΩÊòØÂ§ßÂêåÂ∞èÂºÇ„ÄÇ‰∏ãÈù¢Â∞±ÁÆÄËø∞ÂÖ∂‰ªñÈÉ®ÂàÜÂäüËÉΩÂÆûÁé∞ÁöÑÈöæÁÇπÂèäËß£ÂÜ≥ÊÄùË∑Ø„ÄÇ\n\n## ÂÖ∂‰ªñÂäüËÉΩ\n\n### Âø´Êç∑ËèúÂçï\n\n‰πüËÆ∏‰Ω†‰ºöÁñëÈóÆÔºå‰∏çÂ∞±‰∏Ä‰∏™Âè≥ÈîÆËèúÂçïÂêóÔºåÊúâÂï•ÈöæÁöÑÔºü\n\nËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑÂø´Êç∑ËèúÂçïÂÆûÁé∞ÁöÑÈöæÂ∫¶Âú®‰∫éËßÜÈ¢ëÊ°ÜÊû∂ÂÜÖÂµåÂ•ó‰∫ÜÈîöÁÇπËøô‰∏™ÂÜÖÁΩÆÁöÑÂÖÉÁ¥†ÔºåËØ•Âå∫ÂüüÁªëÂÆö‰∫ÜÂ§ßÈáèÁöÑÈº†Ê†áÁõ∏ÂÖ≥‰∫ã‰ª∂ click„ÄÅmousedown„ÄÅmousemove„ÄÅmouseup„ÄÅcontextmeu Á≠âÁ≠âÔºåËÄå‰∫§‰∫í‰∏äÈîöÁÇπÁöÑÊãñÊãΩ„ÄÅÂè≥ÈîÆËèúÂçïÁ≠âÈÉΩÈúÄË¶Å‰∏éÂ§ñÂ±ÇÁöÑËßÜÈ¢ëÊ°ÜÊû∂Âå∫ÂàÜÂºÄÊù•ÔºåÊâÄ‰ª•Âú®Ëøô‰∏™Âå∫ÂüüÂ§ßÁªùÂ§ßÈÉ®ÂàÜÁöÑÂÖÉÁ¥†ÈÉΩËÆæÁΩÆ‰∫Ü poiner-events: none ÈòªÊ≠¢‰∫ã‰ª∂ÂÜíÊ≥°„ÄÇ\n\nËøôÂú®‰∫§‰∫íÂ±ÇÈù¢ÂèàÂíåÁÇπÂáªÁ©∫ÁôΩÂå∫ÂüüÂèñÊ∂àÈÄâ‰∏≠„ÄÅÈöêËóèËèúÂçïÁ≠âÊìç‰Ωú‰ºöÂΩ¢ÊàêÂÜ≤Á™ÅÔºåËøôÈúÄË¶ÅÂú® document ‰∏äÁªëÂÆö click ‰∫ã‰ª∂Ôºå‰ΩÜÊòØÈòªÊ≠¢ÂÜíÊ≥°Âèà‰ºöÊó†Ê≥ïÂà∞Ëææ document„ÄÇ‰ª•ÂèäËΩ®ÈÅìÂ∑•‰ΩúÂå∫‰∏§‰∏™Âè≥ÈîÆËèúÂçï‰πãÈó¥ÁöÑ‰∫íÊñ•ÂÖ≥Á≥ªÁöÑÂ§ÑÁêÜÔºåÈÉΩÊòØËæÉÈöæÂ§ÑÁêÜÁöÑÂú∞Êñπ„ÄÇ\n\nÊ≠§Â§ÑÊàë‰πüÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Âè≥ÈîÆÁÇπÂáªÁöÑÊåá‰ª§ÔºåÂú®ÂàùÂßãÂåñÊåá‰ª§Êó∂‰ºöÂÖàÁõëÂê¨ document ÁöÑ click ‰∫ã‰ª∂ÔºåÂ¶ÇÊûúÊåá‰ª§‰∏≠ÁºìÂ≠òÁöÑËèúÂçïËäÇÁÇπ‰∏∫Á©∫ÔºåÊàñ click ‰∫ã‰ª∂ÂØπË±°ÁöÑ path Â±ûÊÄßÔºà‰πüÂ∞±ÊòØ‰∫ã‰ª∂ÂÜíÊ≥°ÁöÑË∑ØÂæÑÔºâÂåÖÂê´ËèúÂçïËäÇÁÇπÔºà‰πüÂ∞±ÊòØÂú®ËèúÂçï‰∏äÊñπ clickÔºâÔºåÂàô‰∏çËøõË°åÈöêËóèËèúÂçïÁöÑÊìç‰ΩúÔºåÂê¶ÂàôÂàôÈúÄË¶ÅÈöêËóè„ÄÇ\n\n![contextmenu](https://img.mrsingsing.com/contextmenu.gif)\n\n### Ê∏∏Ê†áËøõÂ∫¶Êù°\n\nÂΩìÊí≠ÊîæÂô®ÂºÄÂßãÊí≠ÊîæÊó∂Ôºå‰∫§‰∫í‰∏äÈúÄË¶ÅÊääËΩ®ÈÅìÂå∫Áúã‰ΩúÊòØËøõÂ∫¶Êù°ÔºåÊ∏∏Ê†áÈúÄË¶ÅÊ†πÊçÆÊí≠ÊîæÂô®Êí≠ÊîæÁöÑÊó∂Èó¥ÂÆûÊó∂ÁßªÂä®Âà∞Ê∏∏Ê†áÂ∞∫ÂØπÂ∫îÁöÑÊó∂Èó¥‰∏ä„ÄÇËÄå‰∏îÔºåÂΩìÊ∏∏Ê†áÁßªÂä®Ëá≥Â∑•‰ΩúÂå∫ËßÜÂè£‰∏≠Á∫øÊó∂ÔºåÂàôÈúÄË¶ÅÂÆöÂú®‰∏≠Á∫ø‰ΩçÁΩÆÔºåÊîπ‰∏∫ËΩ®ÈÅìÂå∫ÂüüÂêëÂêéÊªöÂä®ÔºõÂΩìËΩ®ÈÅìÂå∫ÂüüÂ∞æÈÉ®ÊªöÂä®Ëá≥Â∑•‰ΩúÂå∫Âè≥‰æßÈáçÂêàÊó∂ÔºåÊ∏∏Ê†áÂàôÈúÄË¶ÅÂÜçÊ¨°ÁßªÂä®ÔºåÁõ¥Ëá≥Âà∞ËßÜÈ¢ëÊí≠ÊîæÁªìÊùü„ÄÇ\n\nÂÆûÁé∞‰∏äÂè™ÈúÄË¶ÅÂ∞ÜÊí≠ÊîæÂô®ÁöÑÊó∂Èó¥ÂõûË∞ÉÊñπÊ≥ïÊèê‰æõÁöÑ duration Êó∂Èó¥ÂèÇÊï∞ÔºåÊ†πÊçÆÊ∏∏Ê†áÂ∞∫ÊØî‰æãÂ∞∫ËΩ¨Âåñ‰∏∫ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÂÆö‰ΩçÊ∏∏Ê†áÈúÄË¶ÅÁßªÂä®Âà∞ÁöÑÂÅèÁßªÂÄºÔºåÂÜçÈÄöËøá scrollTo ÊñπÊ≥ïÊªöÂä®Âà∞ÊåáÂÆö‰ΩçÁΩÆÂç≥ÂèØ„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂ§ÑÁêÜÂ•ΩÊ∏∏Ê†á‰∏ã‰∏™ÁßªÂä®ÁöÑ‰ΩçÁΩÆ‰∏éÂ∑•‰ΩúÂå∫ËßÜÂè£‰∏≠Á∫øË∑ùÁ¶ª‰πãÈó¥ÁöÑÂà§Êñ≠ÔºåËøôÊòØÂå∫ÂàÜÊ∏∏Ê†áÁßªÂä®ËøòÊòØÂ∑•‰ΩúÂå∫ÁßªÂä®ÁöÑÂÖ≥ÈîÆ„ÄÇ\n\n## ÊÄªÁªì\n\nÊú¨ÊñáÂè™ÁùÄÈáçÊèèËø∞‰∫ÜÊïôËÇ≤Ë°å‰∏ö‰∫ëÂâ™ËæëÈ°πÁõÆÁöÑÈáçÁÇπÈöæÁÇπÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂú®È°πÁõÆÂºÄÂèëËøáÁ®ãÂØπÊï∞ÊçÆÁªìÊûÑÁöÑÂÆö‰πâ„ÄÅ‰∏çÂêåÂÆû‰ΩìÁöÑÂ¢ûÂà†ÊîπÊü•„ÄÅ‰∏çÂêåÂå∫ÂüüÁöÑ‰∫ã‰ª∂ÈÄö‰ø°ÂèäÊï∞ÊçÆÂêåÊ≠•„ÄÅÈîöÁÇπ‰∫íÂä®ÁöÑÈÖçÁΩÆ„ÄÅÂÖ®Â±ÄÁöÑËßÜÈ¢ë‰∏ä‰º†ÊÇ¨ÊµÆÁêÉ„ÄÅÂÆûÊó∂ËçâÁ®ø‰øùÂ≠òÂíåÂêàÊàêÂâçÊï∞ÊçÆÁöÑÊ†°È™åÁ≠âÁ≠âÔºåÊØè‰∏™ÁªÜÂàÜÂäüËÉΩÁöÑÂÆûÁé∞ÈÉΩÊòØ‰∏Ä‰∏™‰∏™ÊåëÊàò„ÄÇÂú®ÂºÄÂèëËØÑÂÆ°Èò∂ÊÆµÊâÄÊúâÂâçÁ´ØÈÉΩÊÑüËßâÂõ∞ÈöæÊó†ÊØîÁöÑÂ∑•Á®ãÔºåÊúÄÁªàÁªèËøáÂ∞ÜËøë‰∏Ä‰∏™ÊúàÁöÑËÆæËÆ°ËØÑÂÆ°ÂºÄÂèëÊµãËØïÂêéÔºåÈ°∫Âà©‰∏äÁ∫øËøêË°åÔºå‰∏∫Â§ö‰∏™ÁßëÁõÆÊï∞Áôæ‰∏™ËØæÁ®ãÔºåÊï∞‰∏áËØæÊ¨°ÁöÑÂΩïÊí≠ËßÜÈ¢ëÈÖçÈΩêÊèê‰æõÈ´òË¥®È´òÊïàÁéáÁöÑÊúçÂä°„ÄÇ\n\nÈÄöËøáËøô‰∏™Ëø≠‰ª£ÂØπ Web Á´ØÂèØËßÜÂåñÈÖçÁΩÆÁ±ªÂûãÁ≥ªÁªüÊúâ‰∫ÜÊõ¥Ê∑±Â±ÇÊ¨°ÁöÑÁêÜËß£ÔºåÁâπÂà´ÊòØËÆæËÆ°Â∏àÊèêÂá∫ÁöÑÂ§öÊ†∑ÂåñÁöÑÁî®Êà∑‰∫§‰∫íÔºå‰∏ç‰ªÖËÆ©ÊàëÂØπÊïàÁéáÁ±ªÂ∑•ÂÖ∑ÁöÑ‰∫ßÂìÅËÆæËÆ°ÂíåÁî®Êà∑‰ΩìÈ™åÂàÜÊûêËÉΩÂäõÊúâ‰∫ÜÈ£ûÈÄüÁöÑËøõÊ≠•ÔºåÂêåÊó∂ËÉΩÂú®ÈúÄÊ±ÇÂÆûÁé∞ÁöÑÂêåÊó∂ÊâìÁ†¥‰∫ÜÂ±ÇÂ±ÇÊäÄÊúØÂ£ÅÂûí„ÄÇ\n\nÊú¨ÊñáËØ¶ÁªÜËÆ≤Ëø∞‰∫ÜÊ†∏ÂøÉËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑÊäÄÊúØÂÆûÁé∞ÊñπÊ°àÔºå‰∏ãÁØáÂ∞ÜËÆ≤Ëø∞Âü∫‰∫éÈòøÈáå‰∫ëÊí≠ÊîæÂô®ÁöÑ‰∫åÊ¨°Â∞ÅË£ÖÁöÑÈÄªËæëÂÆûÁé∞„ÄÇ\n","slug":"web-video-editor-practise","published":1,"updated":"2021-09-29T18:05:45.709Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867nc7000ebmjdiofuran3","content":"<p>‰∏äÁØá‰ªãÁªç‰∫Ü‰∫ëËßÜÈ¢ëÂâ™ËæëÈÖçÈΩêÂ∑•ÂÖ∑ÁöÑÊäÄÊúØÊû∂ÊûÑÔºåÂØπÊï¥‰∏™È°πÁõÆÁöÑÊûÑÊàêÊúâ‰∫ÜÂ§ßËá¥ÁöÑ‰∫ÜËß£ÔºåÊú¨ÊñáÂ∞Ü‰ªãÁªçÂú®ÂÆûÁé∞ËØ•Á≥ªÁªüÁöÑÂâçÁ´ØÊäÄÊúØÈöæÁÇπÂèäËß£ÂÜ≥ÊñπÊ°à„ÄÇ</p>\n<blockquote>\n<p>ËØ•È°πÁõÆÂü∫‰∫éÈõÜÂõ¢ÂÜÖÈÉ®ÁöÑÂπ≥Âè∞ÂÆûË∑µÔºåÂâçÁ´ØÊ°ÜÊû∂‰ΩøÁî® Angular ÂÆûÁé∞ÔºåÊâÄ‰ª•‰ª£Á†ÅÁ§∫‰æã‰∏∫ Angular Ê°ÜÊû∂ËØ≠Ê≥ï„ÄÇ</p>\n</blockquote>\n<h2 id=\"‰∏ä‰º†ËßÜÈ¢ë\"><a href=\"#‰∏ä‰º†ËßÜÈ¢ë\" class=\"headerlink\" title=\"‰∏ä‰º†ËßÜÈ¢ë\"></a>‰∏ä‰º†ËßÜÈ¢ë</h2><p>Â∏∏ËßÅÁöÑ‰∏ä‰º†ËßÜÈ¢ëÊñπÂºèÊúâ‰∏§ÁßçÔºöÁî®Êà∑ÈÄöËøáË°®ÂçïÊâìÂºÄÊñá‰ª∂ÈÄâÊã©Âô®ÈÄâÊã©ÈúÄË¶Å‰∏ä‰º†ÁöÑÊñá‰ª∂ÂíåÁõ¥Êé•ÊãñÊãΩÊñá‰ª∂Âà∞ Web È°µÈù¢ÁöÑÊåáÂÆöÂå∫ÂüüÔºåWeb Â∫îÁî®Ê£ÄÊµãÂèØÂæóÂØπÂ∫îËßÜÈ¢ëÊñá‰ª∂ÁöÑÂÜÖÂÆπ„ÄÇ</p>\n<h3 id=\"ÈÄâÊã©Êñá‰ª∂‰∏ä‰º†\"><a href=\"#ÈÄâÊã©Êñá‰ª∂‰∏ä‰º†\" class=\"headerlink\" title=\"ÈÄâÊã©Êñá‰ª∂‰∏ä‰º†\"></a>ÈÄâÊã©Êñá‰ª∂‰∏ä‰º†</h3><p>‰º™‰ª£Á†ÅÂÆûÁé∞Ôºö</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">multiple</span> <span class=\"attr\">type</span>=<span class=\"string\">\"file\"</span> <span class=\"attr\">accept</span>=<span class=\"string\">\"video/mp4\"</span> (<span class=\"attr\">change</span>)=<span class=\"string\">\"handleVideoMaterialUpload\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> axios <span class=\"keyword\">from</span> <span class=\"string\">'axios'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handleUpload</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> uploadUrl = <span class=\"string\">'https://upload-url.com/'</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> fileList = e.target.files;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ‰∏ä‰º†ÂâçÊ†°È™å</span></span><br><span class=\"line\">  <span class=\"comment\">// do something</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// do something ‰∏ä‰º†Âà∞ÊåáÂÆöÊúçÂä°</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> formData = <span class=\"keyword\">new</span> FormData();</span><br><span class=\"line\"></span><br><span class=\"line\">  formData.append(<span class=\"string\">'file'</span>, filesList[<span class=\"number\">0</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\">  axios</span><br><span class=\"line\">    .post(uploadUrl, formData)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">'‰∏ä‰º†ÊàêÂäü'</span>, res);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .catch(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">'‰∏ä‰º†Â§±Ë¥•'</span>, err);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Âú®‰∏ä‰º†ËßÜÈ¢ëÊñá‰ª∂Ââç‰∏ç‰ªÖË¶ÅÊ£ÄÊµãËßÜÈ¢ëÊñá‰ª∂ÁöÑÁ±ªÂûã„ÄÅÂ§ßÂ∞èÁ≠âÂü∫Á°Ä‰ø°ÊÅØÔºåËøòË¶ÅÂØπËßÜÈ¢ëÊñá‰ª∂ËøõË°åÂèØÊí≠ÊîæÊÄßÊ£ÄÊµãÔºåÂπ∂‰∏îÂú®Ê£ÄÊµãËøáÁ®ã‰∏≠Ëé∑ÂèñËßÜÈ¢ëÊñá‰ª∂Êó∂Èïø„ÄÅÂ∞ÅÈù¢Á≠âÂÜçÂêéÁª≠ÊµÅÁ®ã‰∏≠‰ΩøÁî®Âà∞ÁöÑ‰ø°ÊÅØÔºàËØ•ÈÉ®ÂàÜÂÆûÁé∞ËØ∑Áúã‰∏ãÊñáÁ´†ËäÇÔºâÔºåÊ£ÄÊµãÂêåËøáÂêéÊ∑ªÂä†Âà∞Ëß£ÊûêÈòüÂàó„ÄÇ</p>\n<a id=\"more\"></a>\n<h3 id=\"ÊãñÊãΩÊñá‰ª∂‰∏ä‰º†\"><a href=\"#ÊãñÊãΩÊñá‰ª∂‰∏ä‰º†\" class=\"headerlink\" title=\"ÊãñÊãΩÊñá‰ª∂‰∏ä‰º†\"></a>ÊãñÊãΩÊñá‰ª∂‰∏ä‰º†</h3><p>ÈÄöËøáÁõëÂê¨ÊåáÂÆöÂå∫ÂüüÁöÑ <code>dragOver</code> Âíå <code>drop</code> ‰∫ã‰ª∂ÔºåËÉΩÈÄöËøáÂÖ•ÂèÇÂ±ûÊÄß <code>e.dataTransfer</code> Ëé∑ÂèñÁî®Êà∑ÊâÄÊãñÊãΩÁöÑÊñá‰ª∂ÂØπË±°ÔºåÂêéÁª≠ÁöÑÊìç‰Ωú‰∏éÈÄâÊã©Êñá‰ª∂‰∏ä‰º†ÈÉ®ÂàÜ‰∏ÄËá¥„ÄÇ</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"drag-area\"</span> (<span class=\"attr\">dragOver</span>)=<span class=\"string\">\"onDragOver\"</span> (<span class=\"attr\">drop</span>)=<span class=\"string\">\"onDrop\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onDragOver</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> fileList = e.dataTransfer.files;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// do something ÂêéÈù¢ÁöÑÊµÅÁ®ãÂèÇËÄÉ„ÄåÈÄâÊã©Êñá‰ª∂‰∏ä‰º†„Äç</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>‰∏§ÁßçÊñπÂºèÁöÑÂ§ÑÁêÜÈÄªËæëÂü∫Êú¨‰∏ÄËá¥ÔºåÂè™ÊòØÁî®Êà∑‰∫§‰∫íÊñπÂºè‰∏ç‰∏ÄÊ†∑ÔºåÈöæÂ∫¶ÊØîËæÉÂ∞è„ÄÇ</p>\n<h3 id=\"‰∏ä‰º†ËßÜÈ¢ëÊúÄ‰Ω≥ÂÆûË∑µ\"><a href=\"#‰∏ä‰º†ËßÜÈ¢ëÊúÄ‰Ω≥ÂÆûË∑µ\" class=\"headerlink\" title=\"‰∏ä‰º†ËßÜÈ¢ëÊúÄ‰Ω≥ÂÆûË∑µ\"></a>‰∏ä‰º†ËßÜÈ¢ëÊúÄ‰Ω≥ÂÆûË∑µ</h3><p>‰ºÅ‰∏öÂÜÖÈÉ®‰∫åËøõÂà∂Êñá‰ª∂Êï∞ÊçÆ‰∏ÄËà¨ÈÉΩÁî±‰∫ëÊúçÂä°Êèê‰æõÁöÑÂØπË±°Â≠òÂÇ®ÊúçÂä°Ë¥üË¥£Â≠òÂÇ®ÔºåÊØîÂ¶Ç <a href=\"https://help.aliyun.com/product/31815.html\" target=\"_blank\" rel=\"noopener\">ÈòøÈáå‰∫ë ÂØπË±°Â≠òÂÇ® OSS</a>„ÄÅ<a href=\"https://cloud.tencent.com/document/product/436\" target=\"_blank\" rel=\"noopener\">ËÖæËÆØ‰∫ë ÂØπË±°Â≠òÂÇ® COS</a>ÔºåËøôÈúÄË¶Å‰ºÅ‰∏öË¥≠‰π∞‰ΩøÁî®„ÄÇËøô‰∫õÂØπË±°Â≠òÂÇ®ÁöÑ‰∏ä‰º†ÂÆûÁé∞ÊñπÂºèÊúâÂ§öÁßçÔºåÊÉ≥‰∫ÜËß£Êõ¥ËØ¶ÁªÜÁöÑÂÜÖÂÆπÂèØ‰ª•ÁÇπÂáª‰∏äËø∞ËøûÊé•„ÄÇ</p>\n<p>Êàë‰ª¨ÂÜÖÈÉ®‰ΩøÁî®ÁöÑÊòØÈòøÈáå‰∫ëÁöÑ OSS ÂØπË±°Â≠òÂÇ®ÊúçÂä°ÔºåÁÆÄË¶ÅÊµÅÁ®ãÂ∞±ÊòØÂâçÁ´ØÈÄöËøáÂêéÁ´ØÊé•Âè£Ëé∑ÂèñÈòøÈáå‰∫ë OSS ‰∏ä‰º†Âá≠ËØÅÔºåÈÄöËøá‰∏ä‰º†Âá≠ËØÅÁõ¥Êé•ËÆ≤Êñá‰ª∂‰∏ä‰º†Âà∞ OSS ÊúçÂä°„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/upload-swim.jpg\" alt=\"upload-swim\"></p>\n<h2 id=\"Èü≥ËßÜÈ¢ëÊñá‰ª∂‰ø°ÊÅØ\"><a href=\"#Èü≥ËßÜÈ¢ëÊñá‰ª∂‰ø°ÊÅØ\" class=\"headerlink\" title=\"Èü≥ËßÜÈ¢ëÊñá‰ª∂‰ø°ÊÅØ\"></a>Èü≥ËßÜÈ¢ëÊñá‰ª∂‰ø°ÊÅØ</h2><p>Ëé∑ÂèñËßÜÈ¢ëÊñá‰ª∂ÂêéÔºåÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®Êèê‰æõÁöÑ <code>window.URL.createObjectURL</code> ÁîüÊàêËßÜÈ¢ëÊñá‰ª∂ÁöÑ Blob ÂºïÁî®Âú∞ÂùÄÔºåÂú®È°µÈù¢ÂàõÂª∫Âπ∂ÊåÇËΩΩ <code>&lt;video&gt;</code> Ê†áÁ≠æÔºå ËØªÂèñÂÜÖÂ≠ò‰∏≠ÁöÑËßÜÈ¢ëÊñá‰ª∂ÔºåÂΩì <code>video</code> ÂÆû‰æãËß¶Âèë <code>canplay</code> ‰∫ã‰ª∂ÂêéÂàõÂª∫ Canvas ÁîªÂ∏ÉÔºåÊ†πÊçÆËßÜÈ¢ëÊñá‰ª∂ÂÆΩÈ´òÈÄÇÈÖçÁîªÂ∏ÉÂÆΩÈ´òÔºå</p>\n<p>Âú® <code>video.play</code> Â§ñÂ±ÇÂåÖË£π <code>try...catch</code> Â¶ÇÊûúÊä•ÈîôÂàôËØ¥ÊòéËßÜÈ¢ëÊçüÂùè‰∏çÂèØÊí≠ÊîæÔºåÂê¶ÂàôËØ¥ÊòéËßÜÈ¢ëÊúâÊïà„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> captureImagePreview = <span class=\"keyword\">async</span> (videoFile: File) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    \t(<span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> captureArea = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'captureArea'</span>);</span><br><span class=\"line\">      \t<span class=\"comment\">// Ë¶ÅÊà™ÂõæÁöÑËßÜÈ¢ë</span></span><br><span class=\"line\">      \t<span class=\"keyword\">const</span> video = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'video'</span>);</span><br><span class=\"line\">      \tvideo.muted = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    \t\t<span class=\"comment\">// ÁîüÊàê blob Âú∞ÂùÄ</span></span><br><span class=\"line\">      \t<span class=\"keyword\">const</span> blobUrl = <span class=\"built_in\">window</span>.URL.createObjectURL(videoFile);</span><br><span class=\"line\"></span><br><span class=\"line\">      \tvideo.src = blobUrl;</span><br><span class=\"line\"></span><br><span class=\"line\">    \t\t<span class=\"comment\">// Âú®È¢ÑËÆæÁöÑËäÇÁÇπ‰∏äÊåÇËΩΩ video DOM ËäÇÁÇπ</span></span><br><span class=\"line\">      \tcaptureArea.appendChild(video);</span><br><span class=\"line\"></span><br><span class=\"line\">    \t\t<span class=\"comment\">// ÊåÇËΩΩÂêé‰ºöËá™Âä®Âä†ËΩΩÊú¨Âú∞ÁöÑËßÜÈ¢ëÊñá‰ª∂</span></span><br><span class=\"line\">      \tvideo.addEventListener(<span class=\"string\">'canplay'</span>, e =&gt; &#123;</span><br><span class=\"line\">        \t<span class=\"keyword\">let</span> imgHeight = <span class=\"number\">0</span>,</span><br><span class=\"line\">            imgWidth = <span class=\"number\">0</span>,</span><br><span class=\"line\">            videoWidth = <span class=\"number\">0</span>,</span><br><span class=\"line\">            videoHeight = <span class=\"number\">0</span>;</span><br><span class=\"line\">        \t<span class=\"keyword\">const</span> video: any = e.target;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Âà©Áî® Canvas ÂØπËßÜÈ¢ëÊñá‰ª∂ËøõË°åÊà™Â±è</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> canvas = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'canvas'</span>);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> canvasCtx = canvas.getContext(<span class=\"string\">'2d'</span>);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> blobUrl = <span class=\"built_in\">window</span>.URL.createObjectURL(videoFile);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Ëé∑ÂèñÂ±ïÁ§∫ÁöÑ video ÂÆΩÈ´ò‰Ωú‰∏∫ÁîªÂ∏ÉÁöÑÂÆΩÈ´òÂíå‰∏¥Êó∂ËßÜÈ¢ëÊà™ÂõæÁöÑÂÆΩÈ´ò</span></span><br><span class=\"line\">        canvas.width = imgWidth = video.offsetWidth;</span><br><span class=\"line\">        canvas.height = imgHeight = video.offsetHeight;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Ëé∑ÂèñÂÆûÈôÖËßÜÈ¢ëÁöÑÂÆΩÈ´òÔºåÁõ∏ÂΩì‰∫éËßÜÈ¢ëÂàÜËæ®Áéá</span></span><br><span class=\"line\">        videoWidth = video.videoWidth;</span><br><span class=\"line\">        videoHeight = video.videoHeight;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        \t<span class=\"keyword\">await</span> (video <span class=\"keyword\">as</span> HTMLVideoElement).play();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">        \t<span class=\"keyword\">this</span>.$notification(<span class=\"string\">'Ê†ºÂºèÊúâËØØÔºåËØ∑ÈáçÊñ∞‰∏ä‰º†'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">          resolve(<span class=\"literal\">null</span>);</span><br><span class=\"line\">          <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        video.pause();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// canvas.drawImage ÊñπÊ≥ïÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÂÖÅËÆ∏ÁöÑÂõæÂÉèÊ∫êÂåÖÊã¨ HTMLVideoElement Á≠â</span></span><br><span class=\"line\">        canvasCtx.drawImage(</span><br><span class=\"line\">          video,</span><br><span class=\"line\">          imgWidth - videoWidth,</span><br><span class=\"line\">          (imgHeight - videoHeight) / <span class=\"number\">2</span>,</span><br><span class=\"line\">          videoWidth,</span><br><span class=\"line\">          videoHeight,</span><br><span class=\"line\">          imgWidth - videoWidth,</span><br><span class=\"line\">          (imgHeight - videoHeight) / <span class=\"number\">2</span>,</span><br><span class=\"line\">          videoWidth,</span><br><span class=\"line\">          videoHeight,</span><br><span class=\"line\">        );</span><br><span class=\"line\"></span><br><span class=\"line\">        canvas.toBlob(<span class=\"function\"><span class=\"params\">blob</span> =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">// ËßÜÈ¢ëÂ∞ÅÈù¢Âõæ</span></span><br><span class=\"line\">          <span class=\"keyword\">const</span> url = URL.createObjectURL(blob);</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">const</span> material: Material = &#123;</span><br><span class=\"line\">            <span class=\"comment\">// ËßÜÈ¢ëÊó∂Èïø</span></span><br><span class=\"line\">            duration: video.duration,</span><br><span class=\"line\">            <span class=\"comment\">// ËßÜÈ¢ëÂ∞ÅÈù¢Âõæ Blob Âú∞ÂùÄ</span></span><br><span class=\"line\">            videoCoverUrl: url,</span><br><span class=\"line\">            <span class=\"comment\">// ËßÜÈ¢ëÊñá‰ª∂Âêç</span></span><br><span class=\"line\">            videoName: videoFile.name,</span><br><span class=\"line\">            <span class=\"comment\">// ÁîüÊàê uuid ‰Ωú‰∏∫ videoId</span></span><br><span class=\"line\">            videoId: CommonUtils.generateUUID(),</span><br><span class=\"line\">            <span class=\"comment\">// ËßÜÈ¢ëÁä∂ÊÄÅÔºàËß£Êûê‰∏≠Ôºâ</span></span><br><span class=\"line\">            status: MaterialStatus.Parse,</span><br><span class=\"line\">            file: videoFile,</span><br><span class=\"line\">            <span class=\"comment\">// ËßÜÈ¢ëÂ§ßÂ∞è</span></span><br><span class=\"line\">            fileSize: videoFile.size,</span><br><span class=\"line\">            <span class=\"comment\">// ÊïôÊùê ID</span></span><br><span class=\"line\">            fileId: <span class=\"keyword\">this</span>.aiMatchBordcastService.fileId,</span><br><span class=\"line\">            <span class=\"comment\">// ËßÜÈ¢ëÊñá‰ª∂ Blob Âú∞ÂùÄ</span></span><br><span class=\"line\">            blobUrl: blobUrl,</span><br><span class=\"line\">            <span class=\"comment\">// ÁîüÊàêÊó∂Èó¥</span></span><br><span class=\"line\">            createDttm: +<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(),</span><br><span class=\"line\">          &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">          resolve(material);</span><br><span class=\"line\"></span><br><span class=\"line\">          captureArea.removeChild(video);</span><br><span class=\"line\">      \t&#125;)();</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Ê∏∏Ê†á\"><a href=\"#Ê∏∏Ê†á\" class=\"headerlink\" title=\"Ê∏∏Ê†á\"></a>Ê∏∏Ê†á</h2><p>Ê∏∏Ê†áÊòØËßÜÈ¢ëÂâ™ËæëËΩØ‰ª∂‰∏≠Áî®‰∫éËæÖÂä©Áî®Êà∑Âø´ÈÄüÂÆö‰ΩçÔºåÂáèÂ∞ëËØØÊìç‰ΩúÁöÑ‰∏ÄÁßçÊâãÊÆµ„ÄÇÂú®Êàë‰ª¨ÁöÑ‰∫ëËßÜÈ¢ëÂâ™ËæëÈÖçÈΩêÂ∑•ÂÖ∑‰∏≠ËÆæËÆ°ÊèêÂá∫‰∫Ü‰∏âÁßçÂäüËÉΩÁöÑÊ∏∏Ê†áÔºåÂàÜÂà´ÊòØÈ¢ÑËßàÊ∏∏Ê†á„ÄÅÂÆö‰ΩçÊ∏∏Ê†áÂíåÁ£ÅÂê∏Ê∏∏Ê†á„ÄÇ</p>\n<h3 id=\"ÂÆö‰ΩçÊ∏∏Ê†á\"><a href=\"#ÂÆö‰ΩçÊ∏∏Ê†á\" class=\"headerlink\" title=\"ÂÆö‰ΩçÊ∏∏Ê†á\"></a>ÂÆö‰ΩçÊ∏∏Ê†á</h3><p><img src=\"https://img.mrsingsing.com/located-cursor.gif\" alt=\"located-cursor\"></p>\n<p>ÂÆö‰ΩçÊ∏∏Ê†áÊòØÁî®‰∫éÂÆö‰ΩçËßÜÈ¢ëÊí≠ÊîæÁöÑ‰ΩçÁΩÆ„ÄÅÊèíÂÖ•‰∫íÂä®ÈîöÁÇπÁöÑ‰ΩçÁΩÆÁöÑÊ†áÁöÑÔºåÂÆö‰ΩçÊ∏∏Ê†áÂú®ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑ‰ΩçÁΩÆÂØπÂ∫îÁùÄÂÆåÊï¥ËßÜÈ¢ëÁöÑÊâÄÂú®ÁöÑÊó∂Èó¥ÁÇπÔºåÂêåÊó∂Êí≠ÊîæÂô®ÂëàÁé∞ÁöÑÁîªÈù¢ÈúÄË¶ÅÂÆöÊ†ºÂú®ÂØπÂ∫îÊó∂Èó¥ÁöÑÁîªÈù¢ÔºåËã•Â§Ñ‰∫éÊí≠Êîæ‰∏≠ËøòÈúÄË¶ÅË∑≥ËΩ¨Âà∞ÊåáÂÆöÊó∂Èó¥ÂºÄÂßãÊí≠Êîæ„ÄÇ</p>\n<p>‰ªé UI Â±ÇÈù¢Êàñ‰∫§‰∫íÂ±ÇÈù¢‰∏äÁöÑÂÆûÁé∞Êù•ÁúãÈöæÂ∫¶Â∞öÂèØÔºå‰ΩÜÂÖ∂ÂÆûÁúüÊ≠£ÂÆûË∑µ‰∏ãÊù•ÔºåÊúÄÂ§ßÁöÑÊåëÊàòËøòÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜÂ•ΩÂêÑÁßçÈÄöÁü•‰∫ã‰ª∂ÂºïËµ∑Ê∏∏Ê†á‰ΩçÁΩÆÁöÑËÅîÂä®„ÄÇ</p>\n<p>ÂÆö‰ΩçÊ∏∏Ê†áÂíåÊ∏∏ËßàÊ∏∏Ê†áÂàÜÂà´ÈááÁî®Èº†Ê†áÁÇπÂáª‰∫ã‰ª∂ÂíåÈº†Ê†áÁßªÂä®‰∫ã‰ª∂Ëß¶ÂèëÔºåÂà©Áî®Èº†Ê†á‰∫ã‰ª∂Ëé∑ÂèñÁöÑÊ∞¥Âπ≥ÊñπÂêëÂÅèÁßªÈáèÂèäÂΩìÂâçÊ∏∏Ê†áÂ∞∫ÊØî‰æãËÆ°ÁÆóÂá∫ÂΩìÂâç‰ΩçÁΩÆÂØπÂ∫îÂÆåÊï¥ÂêàÊàêËßÜÈ¢ëÁöÑÊó∂Èó¥„ÄÇ</p>\n<p>Âè¶Â§ñ‰∏∫‰∫ÜÂáèÂ∞ëËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑÂõûÊµÅÔºåÈááÁî®ÁªùÂØπÂÆö‰ΩçÂíå transform: translateX() ÁöÑÊñπÂºèÁõ∏ÂØπ‰∫éËΩ®ÈÅìÊªëÂä®Âå∫ÂüüÂºÄÁ´ØËøõË°åÊ∞¥Âπ≥ÊñπÂêëÂÅèÁßª„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> CONSTANTS = &#123;</span><br><span class=\"line\">  <span class=\"comment\">/** Ê∏∏Ê†áÂ∞∫Êï¥Êï∞ÂàªÂ∫¶Âç†ÊçÆÁöÑÂÉèÁ¥†ÂÄº */</span></span><br><span class=\"line\">  RULER_INTEGER_SPACING: <span class=\"number\">80</span>,</span><br><span class=\"line\">  <span class=\"comment\">/** Ê†áÁöÑÂÖÉÁ¥†Èó¥Ë∑ùÂÆΩÂ∫¶ */</span></span><br><span class=\"line\">  INDICATOR_WIDTH: <span class=\"number\">30</span>,</span><br><span class=\"line\">  <span class=\"comment\">/** ÂÆö‰ΩçÊ∏∏Ê†áÁöÑÂàùÂßãÂÄº */</span></span><br><span class=\"line\">  CURSOR_INITIAL_VALUE: <span class=\"number\">31</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> handleLocatedCursoRedirect = (&#123;</span><br><span class=\"line\">    cursorShift = CONSTANTS.CURSOR_INITIAL_VALUE,</span><br><span class=\"line\">    duration,</span><br><span class=\"line\">    frameBeginTime,</span><br><span class=\"line\">    framework,</span><br><span class=\"line\">    anchor = <span class=\"literal\">null</span>,</span><br><span class=\"line\">  &#125;) =&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!cursorShift) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ËΩ®ÈÅìÁ©∫ÁΩÆÊó∂Ôºå‰∏çËÆæÁΩÆÂÆö‰ΩçÊ∏∏Ê†á</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.videoTrackList.length) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentDuration = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.setLocatedCursor = <span class=\"literal\">null</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentLocatedBeginTime = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentLocatedFramework = <span class=\"literal\">null</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentLocatedAnchor = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.setLocationInfo();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">let</span> currentDuration = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// ËÆ°ÁÆóÂΩìÂâçÂÆö‰ΩçÊ∏∏Ê†áÊâÄÂú®ÁöÑÊó∂Èó¥</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (CommonUtils.isDefined(duration)) &#123;</span><br><span class=\"line\">      currentDuration = duration;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// Èº†Ê†áÁÇπÂáªÂå∫ÂüüÂØπÂ∫îÁöÑÊó∂Èó¥</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> mouseDuration =</span><br><span class=\"line\">        ((((cursorShift - CONSTANTS.CURSOR_INITIAL_VALUE) / CONSTANTS.RULER_INTEGER_SPACING) * <span class=\"keyword\">this</span>.scaleRatio).toFixed(<span class=\"number\">2</span>) <span class=\"keyword\">as</span> any) * <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Ë∂ÖÂá∫ËßÜÈ¢ëÊ°ÜÊû∂Âå∫ÂüüÔºåËá™Âä®ÂÆö‰ΩçÂà∞Ê°ÜÊû∂Âå∫ÂüüÊú´Â∞æ</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (mouseDuration &gt;= <span class=\"keyword\">this</span>.totalDuration) &#123;</span><br><span class=\"line\">        currentDuration = <span class=\"keyword\">this</span>.totalDuration;</span><br><span class=\"line\">        cursorShift =</span><br><span class=\"line\">          <span class=\"keyword\">this</span>.lastFrameworkClientRect.left - <span class=\"keyword\">this</span>.indicatorClientRect.left + <span class=\"keyword\">this</span>.lastFrameworkClientRect.width;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        currentDuration = mouseDuration;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÂÆö‰ΩçÊ∏∏Ê†áÂΩìÂâçÊó∂Èó¥</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentDuration = currentDuration;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÂèòÊõ¥ÂÆö‰ΩçÊ∏∏Ê†á‰ΩçÁΩÆ</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.setLocatedCursor = cursorShift;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Ê†πÊçÆÂÆö‰ΩçÊ∏∏Ê†á‰ΩçÁΩÆËé∑ÂèñÊ∏∏Ê†áÊâÄÂú®Ê°ÜÊû∂Êï∞ÊçÆ„ÄÅÁõ∏ÂØπ‰∫éÊ°ÜÊû∂ÁöÑÂºÄÂßãÊó∂Èó¥ÂíåÈîöÁÇπÊï∞ÊçÆ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!framework) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> &#123; frameBeginTime, frameworkId, anchorId &#125; = <span class=\"keyword\">this</span>.getFrameworkInfoByDuration(cursorShift);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.currentLocatedBeginTime = frameBeginTime;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.currentLocatedFramework = <span class=\"keyword\">this</span>.videoTrackList.find(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item.id === frameworkId);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.currentLocatedAnchor = anchorId</span><br><span class=\"line\">          ? <span class=\"keyword\">this</span>.videoTrackList.find(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item.id === frameworkId).dataList.find(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> <span class=\"string\">`<span class=\"subst\">$&#123;item.id&#125;</span>`</span> === anchorId)</span><br><span class=\"line\">          : <span class=\"literal\">null</span>;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(err);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// ÂΩìÂâçÊ∏∏Ê†áÂÆö‰ΩçÂú®Ê°ÜÊû∂ÂÜÖÁöÑÂºÄÂßãÊó∂Èó¥</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentLocatedBeginTime = frameBeginTime;</span><br><span class=\"line\">      <span class=\"comment\">// ÂΩìÂâçÊ∏∏Ê†áÂÆö‰ΩçÊâÄÂú®ÁöÑÊ°ÜÊû∂</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentLocatedFramework = framework;</span><br><span class=\"line\">      <span class=\"comment\">// ÂΩìÂâçÊúâÊ†áÂÆö‰ΩçÊâÄÂú®ÁöÑÈîöÁÇπ</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentLocatedAnchor = anchor;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  \t<span class=\"comment\">// ‰øùÂ≠òÂΩìÂâç‰ΩçÁΩÆ‰ø°ÊÅØ</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.setLocationInfo();</span><br><span class=\"line\"></span><br><span class=\"line\">  \t<span class=\"comment\">// ËøîÂõûÂΩìÂâçÊ∏∏Ê†áÂØπÂ∫îÁöÑÊó∂Èó¥</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> currentDuration;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"È¢ÑËßàÊ∏∏Ê†á\"><a href=\"#È¢ÑËßàÊ∏∏Ê†á\" class=\"headerlink\" title=\"È¢ÑËßàÊ∏∏Ê†á\"></a>È¢ÑËßàÊ∏∏Ê†á</h3><p><img src=\"https://img.mrsingsing.com/preview-cursor.gif\" alt=\"preview-cursor\"></p>\n<p>ÂΩìÈº†Ê†áËøõÂÖ•ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÔºåÂ∞±‰ºöËá™Âä®Ë∑üÈöè‰∏ÄÊ†πÈ¢ÑËßàÊ∏∏Ê†áÔºåÈ¢ÑËßàÊ∏∏Ê†áÊâÄÂà∞‰πãÂ§ÑÔºåÊí≠ÊîæÂô®ÈúÄË¶ÅÂ±ïÁ§∫ËØ•Êó∂Èó¥‰ΩçÁΩÆÂØπÂ∫îÁöÑÁîªÈù¢„ÄÇÊâÄ‰ª•Ê≠§Â§ÑÂè™ÈúÄË¶ÅÁõëÂê¨ <code>mousenter</code> Èº†Ê†áËøõÂÖ•ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÔºåÂà©Áî® <code>mousemove</code> ÂÆûÊó∂ÂèòÊõ¥È¢ÑËßàÊ∏∏Ê†áÂÅèÁßªÂÄºÔºåÂπ∂Ë∞ÉÁî®Êí≠ÊîæÂô®ÁªÑ‰ª∂ÂèòÊõ¥È¢ÑËßàÁîªÈù¢ÔºåÂΩìÁÑ∂Áî±‰∫éÈº†Ê†á‰∫ã‰ª∂Ëß¶ÂèëÈ¢ëÁéáÈ´òÔºåÈúÄË¶ÅÂØπË∞ÉÁî®È¢ÑËßàÊñπÊ≥ïËøõË°åÈò≤ÊäñÊìç‰ΩúÔºåÂΩì <code>mouseleave</code> Á¶ªÂºÄÂ∑•‰ΩúÂå∫Êó∂ÈöêËóèÈ¢ÑËßàÊ∏∏Ê†á„ÄÇ</p>\n<h3 id=\"Á£ÅÂê∏Ê∏∏Ê†á\"><a href=\"#Á£ÅÂê∏Ê∏∏Ê†á\" class=\"headerlink\" title=\"Á£ÅÂê∏Ê∏∏Ê†á\"></a>Á£ÅÂê∏Ê∏∏Ê†á</h3><p><img src=\"https://img.mrsingsing.com/magnet-cursor.gif\" alt=\"magnet-cursor\"></p>\n<p>ÂΩìÁî®Êà∑ÊãñÊãΩËßÜÈ¢ëÁ¥†ÊùêÂà∞ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÔºåÊàñÊãñÊãΩÂ∑•‰ΩúÂå∫Ê°ÜÊû∂ËøõË°åÊéíÂ∫èÊìç‰ΩúÔºåÈúÄË¶ÅÂú®ÂÆåÊï¥ËßÜÈ¢ëÂºÄÁ´Ø„ÄÅÁªìÂ∞æÂèäÊ°ÜÊû∂‰∏éÊ°ÜÊû∂‰πãÈó¥Ë°îÊé•Â§ÑÊòæÁ§∫ÁªøËâ≤Á£ÅÂê∏Ê∏∏Ê†áÔºåÊñπ‰æøÁî®Êà∑ÂÆö‰ΩçÊãñÊãΩÁöÑÁ¥†ÊùêÊúÄÁªàÂú®ËΩ®ÈÅìÂ∑•‰ΩúÂå∫‰∏≠ÊèíÂÖ•ÁöÑ‰ΩçÁΩÆ„ÄÇ</p>\n<p>ËøôÈáåÁöÑÂÆûÁé∞ÊñπÂºèÊòØÔºåÂΩìÊ£ÄÊµãÂà∞Áî®Êà∑ÂºÄÂßãÊãñÊãΩÂä®‰ΩúÊó∂ÔºåÈÄöÁü•ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁîüÊàêÊâÄÊúâÁ£ÅÂê∏Âå∫ÂüüÁöÑÂùêÊ†á‰ø°ÊÅØÂàóË°®ÔºåÂπ∂Âú® DOM ‰∏≠ÁîüÊàêÂØπÂ∫îÊï∞ÈáèÁöÑÁ£ÅÂê∏Âå∫Âüü„ÄÇ</p>\n<p>‰∏∫‰∫ÜÊñπ‰æøÁêÜËß£Ôºå‰∏ãÂõæÁ∫¢Ëâ≤Âå∫Âüü‰∏∫ÂºÄÂßãÊãñÊãΩÂêéÁîüÊàêÁöÑÁ£ÅÂê∏Âå∫Âüü„ÄÇ‰∏∫‰∫ÜÂáèÂ∞ëÊìç‰ΩúÂØºËá¥È°µÈù¢È¢ëÁπÅÈáçÊéíÈáçÁªòÁöÑÈóÆÈ¢òÔºåÊâÄÊúâÁîüÊàêÁöÑÂÖÉÁ¥†ÈÉΩÊòØÂü∫‰∫éÂü∫ÁÇπËøõË°å <code>translate</code> ‰æøÂÅèÁßª„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/magnet-area.png\" alt=\"magnet-area\"></p>\n<p>‰Ω†ËÇØÂÆö‰ºöÊúâÁñëÈóÆÔºå‰∏∫‰ªÄ‰πàÁ£ÅÂê∏Âå∫ÂüüËÉΩÊ£ÄÊµãÂà∞ÊãñÊãΩÂÖÉÁ¥†‰Ωç‰∫é‰∏äÊñπÔºåËøô‰∏éÊãñÊãΩÊåá‰ª§ÁöÑÂÆûÁé∞ÊúâÂÖ≥ÔºåÂèØ‰ª•ÁïôÊÑèÂêéÈù¢ÂØπÊãñÊãΩÊåá‰ª§ÁöÑËØ¶ÁªÜËØ¥Êòé„ÄÇ</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Á£ÅÂê∏Âå∫Âüü</span></span><br><span class=\"line\"><span class=\"selector-class\">.magnet-area-item</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">box-sizing</span>: border-box;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">max-width</span>: <span class=\"number\">80px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">1450</span>;</span><br><span class=\"line\">  <span class=\"comment\">/* Êñπ‰æøÊü•ÁúãÊïàÊûú */</span></span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: rgba(<span class=\"number\">255</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"selector-tag\">&amp;</span><span class=\"selector-class\">.first</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: translate3d(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-tag\">&amp;</span><span class=\"selector-class\">.active</span> &#123;</span><br><span class=\"line\">      <span class=\"selector-class\">.magnet-area-cursor</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attribute\">transform</span>: none;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"selector-tag\">&amp;</span><span class=\"selector-class\">.last</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: translate3d(-<span class=\"number\">100%</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-tag\">&amp;</span><span class=\"selector-class\">.active</span> &#123;</span><br><span class=\"line\">      <span class=\"selector-class\">.magnet-area-cursor</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">left</span>: initial;</span><br><span class=\"line\">        <span class=\"attribute\">right</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attribute\">transform</span>: none;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"selector-tag\">&amp;</span><span class=\"selector-class\">.active</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Á£ÅÂê∏Ê∏∏Ê†á</span></span><br><span class=\"line\">    <span class=\"selector-class\">.magnet-area-cursor</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">content</span>: <span class=\"string\">''</span>;</span><br><span class=\"line\">      <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">      <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"attribute\">left</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">      <span class=\"attribute\">width</span>: <span class=\"number\">2px</span>;</span><br><span class=\"line\">      <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"number\">#1db368</span>;</span><br><span class=\"line\">      <span class=\"attribute\">transform</span>: translateX(-<span class=\"number\">50%</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> initMagnetArea = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.currentMagnetAreaList = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Âà©Áî®ÂÆö‰ΩçÂÖÉÁ¥†ÔºàËΩ®ÈÅìÂàóË°®ÂâçÁî®‰∫éÂç†‰ΩçÁöÑÁ©∫ÂÖÉÁ¥†ÔºâËé∑ÂèñÂΩìÂâçËΩ®ÈÅìÂå∫Âüü‰∏≠ÊâÄÊúâÁöÑËßÜÈ¢ëÊ°ÜÊû∂ÁöÑ DOM ÂÖÉÁ¥†ÂºïÁî®</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> frameworkList = <span class=\"keyword\">this</span>.indicatorRef.nativeElement.parentElement.querySelectorAll(</span><br><span class=\"line\">    <span class=\"string\">'.framework-item'</span>,</span><br><span class=\"line\">  ) <span class=\"keyword\">as</span> NodeListOf&lt;HTMLDivElement&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> indicatorLeft = <span class=\"keyword\">this</span>.indicatorClientRect.left;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.currentMagnetAreaList = <span class=\"built_in\">Array</span>.from(frameworkList).reduce(</span><br><span class=\"line\">    (acc: any, <span class=\"attr\">item</span>: HTMLDivElement, <span class=\"attr\">index</span>: number) =&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Ëé∑ÂèñÂçï‰∏™ËßÜÈ¢ëÊ°ÜÊû∂ÂØπÂ∫î DOM ÂÖÉÁ¥†ÁöÑÂ§ßÂ∞èÂèäËßÜÂè£‰ΩçÁΩÆ</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> frameworkRect = item.getBoundingClientRect();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// ÁîüÊàêÁ£ÅÂê∏Âå∫ÂüüÁöÑÂÆΩÂ∫¶</span></span><br><span class=\"line\">      <span class=\"comment\">// Áî±‰∫é‰∏çÂêåÊó∂Èïø‰∏çÂêåÊØî‰æã‰∏ãÊ°ÜÊû∂ÂÆûÈôÖÁöÑÂÆΩÂ∫¶‰∏ç‰∏ÄËá¥</span></span><br><span class=\"line\">      <span class=\"comment\">// Ëã•‰ΩøÁî®ËøáÂ∞èÁöÑÔºàÂõ∫ÂÆöÔºâÂÆΩÂ∫¶‰Ωú‰∏∫Á£ÅÂê∏Âå∫ÂüüÔºå‰ºöÂØºËá¥Âú®ËæÉÂ§ßÂÆΩÂ∫¶ÁöÑÊ°ÜÊû∂‰∏≠ÈúÄË¶ÅÊõ¥Èù†Ëøë‰∏§Ê°ÜÊû∂Ë°îÊé•Â§ÑÊâçËÉΩÊòæÁ§∫Á£ÅÂê∏Ê∏∏Ê†á</span></span><br><span class=\"line\">      <span class=\"comment\">// ÊâÄ‰ª•ËøôÈáåÂèñÊ°ÜÊû∂ÂÆΩÂ∫¶ÁöÑ 30% ‰Ωú‰∏∫Á£ÅÂê∏Âå∫ÂüüÂú®ÂΩìÂâçÊ°ÜÊû∂Âå∫ÂüüÊâÄÂç†ÁöÑÂÆΩÂ∫¶</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> currentWidth = frameworkRect.width * <span class=\"number\">0.3</span>;</span><br><span class=\"line\">      <span class=\"comment\">// Á£ÅÂê∏Âå∫ÂüüÂÆΩÂ∫¶</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> areaWidth = index === <span class=\"number\">0</span> ? currentWidth : currentWidth + acc.prevWidth;</span><br><span class=\"line\">      <span class=\"comment\">// Á£ÅÂê∏Ê∏∏Ê†áÂú®Á£ÅÂê∏Âå∫ÂüüÁöÑÂÅèÁßªÈáè</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> areaShift = index === <span class=\"number\">0</span> ? <span class=\"number\">0</span> : (acc.prevWidth / areaWidth) * <span class=\"number\">100</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      acc.list.push(&#123;</span><br><span class=\"line\">        id: item.dataset.id,</span><br><span class=\"line\">        areaWidth: areaWidth,</span><br><span class=\"line\">        areaTranform: <span class=\"string\">`translateX(-<span class=\"subst\">$&#123;areaShift&#125;</span>%)`</span>,</span><br><span class=\"line\">        areaLeft: frameworkRect.left - indicatorLeft + <span class=\"string\">'px'</span>,</span><br><span class=\"line\">        cursorLeft: areaShift + <span class=\"string\">'%'</span>,</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// ÊúÄÂêé‰∏ÄÁâáÁ£ÅÂê∏Âå∫ÂüüÔºåÊòØÊúÄÂêé‰∏Ä‰∏™ËßÜÈ¢ëÊ°ÜÊû∂ÁöÑÊúÄÂêé 30% ÁöÑÂå∫Âüü</span></span><br><span class=\"line\">      <span class=\"comment\">// ÊãñÊãΩÁ¥†ÊùêÊñ∞Â¢ûËßÜÈ¢ëÊ°ÜÊû∂ÔºåÁõ∏ÂΩì‰∫éÂú®ÂàóË°®Êú´Â∞æÊñ∞Â¢û</span></span><br><span class=\"line\">      <span class=\"comment\">// ÊãñÊãΩÊ°ÜÊû∂ÊéíÂ∫èÔºåÁõ∏ÂΩì‰∫éÊääÂéü‰ΩçÁΩÆÊ°ÜÊû∂ÁΩÆ‰∫éÂàóË°®Êú´Â∞æ</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === frameworkList.length - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        acc.list.push(&#123;</span><br><span class=\"line\">          id: <span class=\"literal\">null</span>,</span><br><span class=\"line\">          areaWidth: currentWidth,</span><br><span class=\"line\">          areaTranform: <span class=\"string\">'translateX(-100%)'</span>,</span><br><span class=\"line\">          areaLeft: frameworkRect.right - indicatorLeft + <span class=\"string\">'px'</span>,</span><br><span class=\"line\">          cursorLeft: <span class=\"string\">'initial'</span>,</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      acc.prevWidth = currentWidth;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span> acc;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      list: [],</span><br><span class=\"line\">      <span class=\"comment\">// ‰∏ä‰∏™Ê°ÜÊû∂Á¢∞ÊíûÂå∫ÂüüÁöÑÂÆΩÂ∫¶</span></span><br><span class=\"line\">      <span class=\"comment\">//ÔºàÊØè‰∏™Ê°ÜÊû∂ÊúâÈ¶ñÂ∞æ‰∏§‰∏™Á¢∞ÊíûÂå∫ÂüüÔºåÂêÑÂç†Ê°ÜÊû∂ÂÆΩÂ∫¶ 30%ÔºåÊÄªÂç†Ê°ÜÊû∂ÂÆΩÂ∫¶ 60%Ôºâ</span></span><br><span class=\"line\">      prevWidth: <span class=\"literal\">null</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ).list;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Ê∏∏Ê†áÂ∞∫\"><a href=\"#Ê∏∏Ê†áÂ∞∫\" class=\"headerlink\" title=\"Ê∏∏Ê†áÂ∞∫\"></a>Ê∏∏Ê†áÂ∞∫</h2><p>Ê∏∏Ê†áÂ∞∫ÊòØËßÜÈ¢ëÂâ™ËæëËΩØ‰ª∂‰∏≠‰ª•Êó∂Èó¥Ê†áËÆ∞ÂàªÂ∫¶ÁöÑÊ†áÂ∞∫„ÄÇÊàëÁ†îÁ©∂‰∫ÜÁ±ª‰ººÁöÑ Web ÁΩëÈ°µ‰∫ëÂâ™ËæëÂ∫îÁî®ÔºåÊúâ‰∏§ÁßçÂÆûÁé∞ÊñπÂºèÔºö</p>\n<ol>\n<li>Âà©Áî® Canvas ÁªòÂà∂ÂàªÂ∫¶Â∞∫ÔºàBilibili ‰∫ëÂâ™ËæëÔºâ</li>\n<li>Âà©Áî® DOM ÁªòÂà∂ÂàªÂ∫¶Â∞∫ÔºåÈááÁî®Á±ª‰ººËôöÊãüÂàóË°®ÁöÑÊñπÂºèÂ§ÑÁêÜÊµ∑ÈáèÁöÑ DOM ËäÇÁÇπÔºàËÖæËÆØ‰∫ëÂâ™ËæëÔºâ</li>\n</ol>\n<p><img src=\"https://img.mrsingsing.com/ruler1.gif\" alt=\"ruler1\"></p>\n<p><img src=\"https://img.mrsingsing.com/ruler2.gif\" alt=\"ruler2\"></p>\n<p>ÂÆûÁé∞ÊÄùË∑ØÔºö</p>\n<ol>\n<li>ÂàõÂª∫ <code>&lt;canvas&gt;</code> Âπ∂Ê†πÊçÆÂΩìÂâçËÆæÂ§á DPR ÊåâÊØî‰æãÁº©ÊîæÁîªÂ∏ÉÂ∞∫ÂØ∏</li>\n<li>Ê†πÊçÆÂΩìÂâçËΩ®ÈÅìÂå∫ÂüüÊâÄÊúâÂàÜÊÆµËßÜÈ¢ëÊó∂ÈïøÔºåËÆ°ÁÆóÂá∫ÊÄªÊó∂ÈïøÔºà‰∏çË∂≥‰∏§Â∞èÊó∂ÊòæÁ§∫‰∏§Â∞èÔºåÂ§ß‰∫é‰∏§Â∞èÊó∂ÔºåÊåâÊãºÊé•ÈïøÂ∫¶Â¢ûÈïøÔºâÔºå‰ªéËÄåËÆ°ÁÆóÂá∫Ê∏∏Ê†áÂ∞∫‰∏≠ÊòæÁ§∫ÂàªÂ∫¶ÁöÑÊÄªÊï∞</li>\n<li>Âæ™ÁéØÈÅçÂéÜ‰æùÊ¨°ÂØπ Canvas ÁªòÂà∂ÊåáÈíàËøõË°åÁßªÂä®ÔºåÂèñÊ®°Âà§Êñ≠ÊòØÊï¥Êï∞ÂàªÂ∫¶ËøòÊòØÂ∞èÊï∞ÂàªÂ∫¶ÔºåÂπ∂ÁªòÂà∂Áõ∏ÂØπÂ∫îÁöÑÂàªÂ∫¶Á∫øÔºåÁõ¥Âà∞ÊâÄÊúâÊï∞ÈÅçÂéÜÂÆåÊàê</li>\n<li>ÊúÄÂêéÊ†πÊçÆÊØî‰æãÂ∞∫ËÆ°ÁÆóÊï¥Êï∞ÂàªÂ∫¶ÊòæÁ§∫ÁöÑÊó∂Èó¥ÊñáÊ°à</li>\n</ol>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> RecordVideoTimelineRulerComponent <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"comment\">/** ÊØî‰æãÂ∞∫ */</span></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  scaleRatio: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  <span class=\"comment\">/** ÊúÄÂ§ßÂàªÂ∫¶Êï∞Èáè */</span></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  maxScaleValue: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  <span class=\"comment\">/** Ê∏∏Ê†áÂ∞∫ÂÆΩÂ∫¶ */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> canvasWidth: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  <span class=\"comment\">/** Ê∏∏Ê†áÂ∞∫ÁîªÂ∏É DOM ÂÖÉÁ¥†ÂºïÁî® */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> canvasElement: HTMLCanvasElement;</span><br><span class=\"line\">  <span class=\"comment\">/** Ê∏∏Ê†áÂ∞∫ÁîªÂ∏É‰∏ä‰∏ãÊñáÂºïÁî® */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> canvasContext: CanvasRenderingContext2D;</span><br><span class=\"line\"></span><br><span class=\"line\">  ngOnInit(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.initCanvas();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  ngOnChanges(changes: &#123; [propName: <span class=\"built_in\">string</span>]: SimpleChange &#125;) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> scaleRatio = changes[<span class=\"string\">'scaleRatio'</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      scaleRatio &amp;&amp;</span><br><span class=\"line\">      (!scaleRatio.previousValue || scaleRatio.previousValue !== scaleRatio.currentValue)</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.drawCanvas();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÂàùÂßãÂåñÂàªÂ∫¶Â∞∫</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  initCanvas(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> canvas = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'canvas'</span>) <span class=\"keyword\">as</span> HTMLCanvasElement;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.canvasElement = canvas;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> ctx = canvas.getContext(<span class=\"string\">'2d'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.canvasContext = ctx;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> documentBodyWidth = <span class=\"built_in\">document</span>.body.clientWidth || <span class=\"built_in\">document</span>.documentElement.clientWidth;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.canvasWidth = documentBodyWidth;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.devicePixelRatio) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> devicePixelRatio = <span class=\"built_in\">window</span>.devicePixelRatio;</span><br><span class=\"line\"></span><br><span class=\"line\">      canvas.width = devicePixelRatio * <span class=\"keyword\">this</span>.canvasWidth;</span><br><span class=\"line\">      canvas.height = devicePixelRatio * <span class=\"number\">26</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// ÊåâÁÖßÊØî‰æãÁº©Êîæ</span></span><br><span class=\"line\">      ctx.scale(devicePixelRatio, devicePixelRatio);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.drawCanvas();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÁªòÂà∂ÂàªÂ∫¶Â∞∫</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  drawCanvas(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> scrollX = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> ctx = <span class=\"keyword\">this</span>.canvasContext;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!ctx) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> canvasWidth = <span class=\"keyword\">this</span>.canvasWidth;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> canvasHeight = <span class=\"number\">26</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Ê∞¥Âπ≥ÊñπÂêëÂÅèÁßªÈáè</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> offsetX = (scrollX ? <span class=\"number\">30</span> - scrollX : <span class=\"number\">30</span>) + <span class=\"number\">0.5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÊúÄÂ§ßÂàªÂ∫¶ÂÄºÔºàÂΩìÂâçÊòæÁ§∫ÁöÑÊúÄÂ§ßÂàªÂ∫¶ÂÄºÔºâ</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> totalScaleValue = <span class=\"keyword\">this</span>.maxScaleValue;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> startCount = <span class=\"built_in\">Math</span>.max(<span class=\"built_in\">parseInt</span>(<span class=\"string\">''</span> + <span class=\"built_in\">Math</span>.floor((scrollX - <span class=\"number\">30</span>) / <span class=\"number\">16</span>), <span class=\"number\">10</span>), <span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> endCount = <span class=\"built_in\">Math</span>.min(</span><br><span class=\"line\">      <span class=\"built_in\">parseInt</span>(<span class=\"string\">''</span> + <span class=\"built_in\">Math</span>.ceil((scrollX + canvasWidth - <span class=\"number\">30</span>) / <span class=\"number\">16</span>), <span class=\"number\">10</span>) - <span class=\"number\">1</span>,</span><br><span class=\"line\">      totalScaleValue</span><br><span class=\"line\">    );</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÊØè‰∏™ÂàªÂ∫¶ÂÄºÁöÑË∑ùÁ¶ª ÂàÜÂâ≤Á∫ø</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> division = <span class=\"number\">15</span>;</span><br><span class=\"line\">    <span class=\"comment\">// Êï¥Êï∞ÂàªÂ∫¶È´òÂ∫¶</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> integerHeight = <span class=\"number\">14</span> || <span class=\"built_in\">Math</span>.floor(canvasHeight * <span class=\"number\">0.53</span>);</span><br><span class=\"line\">    <span class=\"comment\">// ÂàÜÂ∫¶ÂÄºÂàªÂ∫¶È´òÂ∫¶</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> divisionHeight = <span class=\"number\">8</span> || <span class=\"built_in\">Math</span>.floor(canvasHeight * <span class=\"number\">0.3</span>);</span><br><span class=\"line\">    <span class=\"comment\">// Êï¥Êï∞ÂàªÂ∫¶‰∏ãÁöÑÊñáÊ°àÈ´òÂ∫¶</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> textHeight = <span class=\"number\">21</span> || <span class=\"built_in\">Math</span>.floor(canvasHeight * <span class=\"number\">0.78</span>);</span><br><span class=\"line\">    <span class=\"comment\">// ÊØèÊÆµÊï¥Êï∞ÂàªÂ∫¶‰ª£Ë°®ÁöÑÁßíÊï∞ÊØî‰æã</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> scaleRatio = <span class=\"keyword\">this</span>.scaleRatio;</span><br><span class=\"line\"></span><br><span class=\"line\">    ctx.clearRect(<span class=\"number\">0</span>, <span class=\"number\">0</span>, canvasWidth, canvasHeight);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÂΩìÂàªÂ∫¶ÂÄºË∂≥Â§üÂ§ßÁöÑÊó∂ÂÄôÔºåÂè™ÁªòÂà∂ÂèØËßÜËåÉÂõ¥ÂÜÖÁöÑÂàªÂ∫¶ÂÄº</span></span><br><span class=\"line\">    <span class=\"comment\">// ÁîªÂàªÂ∫¶Á∫ø</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = startCount; i &lt; endCount; i++) &#123;</span><br><span class=\"line\">      ctx.beginPath();</span><br><span class=\"line\">      ctx.save();</span><br><span class=\"line\">      ctx.strokeStyle = <span class=\"string\">'#595959'</span>;</span><br><span class=\"line\">      ctx.lineWidth = <span class=\"number\">1</span>;</span><br><span class=\"line\">      ctx.lineCap = <span class=\"string\">'round'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> moveTo = offsetX + i * (division + <span class=\"number\">1</span>);</span><br><span class=\"line\">      ctx.moveTo(moveTo, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i % <span class=\"number\">5</span> === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        ctx.lineTo(offsetX + i * (division + <span class=\"number\">1</span>), integerHeight);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        ctx.lineTo(offsetX + i * (division + <span class=\"number\">1</span>), divisionHeight);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      ctx.stroke();</span><br><span class=\"line\">      ctx.restore();</span><br><span class=\"line\">      ctx.closePath();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Êï¥Êï∞ÂàªÂ∫¶ÊñáÊ°à</span></span><br><span class=\"line\">    ctx.beginPath();</span><br><span class=\"line\">    ctx.font = <span class=\"string\">'10px Arial'</span>;</span><br><span class=\"line\">    ctx.fillStyle = <span class=\"string\">'#AAAAAA'</span>;</span><br><span class=\"line\">    ctx.textAlign = <span class=\"string\">'center'</span>;</span><br><span class=\"line\">    ctx.textBaseline = <span class=\"string\">'middle'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> seperatedScaleValue = totalScaleValue / <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; seperatedScaleValue; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> text = <span class=\"keyword\">this</span>.formatTimeScaleText(i, scaleRatio);</span><br><span class=\"line\">      ctx.fillText(text, offsetX + <span class=\"number\">80</span> * i, textHeight);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    ctx.closePath();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ê†πÊçÆÊ≠£Êï¥Êï∞Á¥¢ÂºïÂíåÊØî‰æãÂ∞∫Ê†ºÂºèÂåñÊòæÁ§∫Êó∂Èó¥</span></span><br><span class=\"line\"><span class=\"comment\">   * @param index ÂàªÂ∫¶Â∞∫Á¥¢ÂºïÔºà‰ªé 0 ÂºÄÂßãÔºâ</span></span><br><span class=\"line\"><span class=\"comment\">   * @param ratio ÊØè‰∏™Êï¥Êï∞ÂàªÂ∫¶‰πãÈó¥ÁöÑÊó∂Èó¥ÈïøÂ∫¶Ôºà‰ª•Áßí‰∏∫Âçï‰ΩçÔºâ</span></span><br><span class=\"line\"><span class=\"comment\">   * @description Â∞Ü‰ª•Áßí‰∏∫Âçï‰ΩçÁöÑÊï∞ÂÄºËΩ¨Âåñ‰∏∫ HH:MM:SS.ss Ê†ºÂºèÁöÑÊó∂Èó¥Â≠óÁ¨¶‰∏≤</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  formatTimeScaleText(index: <span class=\"built_in\">number</span>, ratio: <span class=\"built_in\">number</span>): <span class=\"built_in\">string</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> totalSeconds = index * ratio;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">let</span> hour: <span class=\"built_in\">number</span> | <span class=\"built_in\">string</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> minute: <span class=\"built_in\">number</span> | <span class=\"built_in\">string</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> second: <span class=\"built_in\">number</span> | <span class=\"built_in\">string</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> millisecond = <span class=\"string\">'00'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    hour = <span class=\"built_in\">Math</span>.floor(totalSeconds / <span class=\"number\">3600</span>);</span><br><span class=\"line\">    minute = <span class=\"built_in\">Math</span>.floor((totalSeconds - hour * <span class=\"number\">3600</span>) / <span class=\"number\">60</span>);</span><br><span class=\"line\">    second = ratio &gt;= <span class=\"number\">60</span> ? <span class=\"number\">0</span> : <span class=\"built_in\">Math</span>.floor(totalSeconds - hour * <span class=\"number\">3600</span> - minute * <span class=\"number\">60</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    hour = <span class=\"keyword\">this</span>.fixZero(hour);</span><br><span class=\"line\">    minute = <span class=\"keyword\">this</span>.fixZero(minute);</span><br><span class=\"line\">    second = <span class=\"keyword\">this</span>.fixZero(second);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">`<span class=\"subst\">$&#123;hour&#125;</span>:<span class=\"subst\">$&#123;minute&#125;</span>:<span class=\"subst\">$&#123;second&#125;</span>.<span class=\"subst\">$&#123;millisecond&#125;</span>`</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ë°•Èõ∂ÂáΩÊï∞ÔºàÂè™ÊîØÊåÅ‰∏™‰ΩçÊï∞Ë°•Èõ∂‰∏∫ÂçÅ‰ΩçÊï∞Ôºâ</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  fixZero(value: <span class=\"built_in\">any</span>): <span class=\"built_in\">string</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value * <span class=\"number\">1</span> &lt; <span class=\"number\">10</span> ? <span class=\"string\">`0<span class=\"subst\">$&#123;value&#125;</span>`</span> : <span class=\"string\">`<span class=\"subst\">$&#123;value&#125;</span>`</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ËøôÈáåÁöÑÊØî‰æãÂ∞∫ËôΩÁÑ∂ÂèØ‰ª•ÈÄöËøáÊªëÂä®ËøõË°åËÆæÁΩÆÔºå‰ΩÜÊòØ‰∏∫‰∫ÜÂáÜÁ°ÆËÆ°ÁÆóÔºåÊàë‰ª¨Âè™Êèê‰æõ‰∫ÜÂá†‰∏™Âõ∫ÂÆöÁöÑÊ°£‰Ωç„ÄÇ</p>\n<p>ËøôÈáåÁöÑÊØî‰æãÂ∞∫‰ª£Ë°®ÁöÑÊòØÊ∏∏Ê†áÂ∞∫‰∏≠‰∏Ä‰∏™ÂÆåÊï¥Â§ßÂàªÂ∫¶‰πãÈó¥ÊâÄ‰ª£Ë°®ÁöÑÊó∂Èó¥ÔºåÂπ∂‰ª•Áßí‰Ωú‰∏∫Áªü‰∏ÄÂ∫¶ÈáèË°°Ôºö</p>\n<ol>\n<li>5 Ê†º 1 Áßí 1 Ê†º 0.2s=200ms</li>\n<li>5 Ê†º 1 ÂàÜÈíü=60s 1 Ê†º 0.2min=12s=12000ms</li>\n<li>5 Ê†º 3 ÂàÜÈíü=180s 1 Ê†º 0.6min=36s=36000ms</li>\n<li>5 Ê†º 6 ÂàÜÈíü=360s 1 Ê†º 1.2min=62s=62000ms</li>\n</ol>\n<h2 id=\"ÊãñÊãΩÊåá‰ª§\"><a href=\"#ÊãñÊãΩÊåá‰ª§\" class=\"headerlink\" title=\"ÊãñÊãΩÊåá‰ª§\"></a>ÊãñÊãΩÊåá‰ª§</h2><p>ÂØπ‰∫é‰∫ëÂâ™Ëæë Web Â∫îÁî®ÔºåÂÖ∂‰∏é‰∏ÄËà¨Á∫ØÁ≤πË°®ÂçïË°®Ê†ºÁöÑÂ∫îÁî®ÔºåÂú®‰∫éËÆ©Áî®Êà∑ÊääÊõ¥Â§öÁöÑÊìç‰Ωú‰ªéÈîÆÁõòËΩ¨ÁßªÂà∞Èº†Ê†áÔºåËÄåÊãñÊãΩÁöÑÂÆûÁé∞ÊñπÂºèÔºåÊòØÊ≠§Ê¨°ÈúÄÊ±Ç‰∏≠ÁöÑÈáç‰∏≠‰πãÈáç„ÄÇ</p>\n<p>ÊàëÂØπ‰∫ßÂìÅÂíåËÆæËÆ°Â∏àÊèêÂá∫ÁöÑÈúÄÊ±ÇËøõË°å‰∫ÜÊ¢≥ÁêÜÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/drag-and-drop.png\" alt=\"drag-and-drop\"></p>\n<p>ÊúÄÂàùÔºåÊàëËÄÉËôëÂà∞‰ΩøÁî®ÂéüÁîüÁöÑ drag &amp; drop ÊñπÊ≥ïÂÆûÁé∞ÊãñÊãΩÔºå‰ΩÜÊòØÂéüÁîüÁöÑ drag &amp; drop ÊñπÊ≥ï‰ºöÂΩ±ÂìçÂà∞ÊñáÊ°£ÊµÅÂÖ∂‰ªñÂÖÉÁ¥†ÁöÑÂ∏ÉÂ±ÄÔºåÂØºËá¥ÊµèËßàÂô®ÂõûÊµÅÔºåËøôÊòæÁÑ∂‰∏çÊòØ‰∏ÄÁßç‰ºòÈõÖÁöÑËß£ÂÜ≥ÊñπÂºè„ÄÇÊü•ÈòÖÁõ∏ÂÖ≥ËµÑÊñôÂêéÔºåÂèëÁé∞ËÉΩÈÄöËøá mouse Áõ∏ÂÖ≥ÊñπÊ≥ïÊ®°Êãü drag &amp; drop ÁöÑÊñπÊ≥ïÔºåÈÇ£‰πàÂ¶ÇÊûúÂà©Áî® mouse Áõ∏ÂÖ≥ÊñπÊ≥ïÔºåÈÄöËøáÊüê‰∫õÂà§Êñ≠Êù°‰ª∂Âà§Êñ≠‰∏∫ÊãñÊãΩÂêéÔºåÈááÁî®ÁªùÂØπÂ∏ÉÂ±ÄÂàõÂª∫ÂùóÁ∫ßÊ†ºÂºè‰∏ä‰∏ãÊñáÂÖÉÁ¥†ÔºåÁã¨Á´ã‰∫éÊñáÊ°£ÊµÅËøõË°å‰ΩçÁßªÔºåËøôÊ†∑‰∏ÄÊù•Êó¢ËÉΩÊª°Ë∂≥ÂäüËÉΩÈúÄÊ±Ç‰πüËÉΩÊª°Ë∂≥ÊÄßËÉΩÈúÄÊ±Ç„ÄÇ</p>\n<p>HTML ÁöÑÊãñÊãΩ API ÂàÜÂà´‰ΩúÁî®‰∫éË¢´ÊãñÊãΩÁöÑÂÖÉÁ¥†ÂíåÁõÆÊ†áÂÖÉÁ¥†Ôºö</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">ÈíàÂØπÂØπË±°</th>\n<th style=\"text-align:left\">‰∫ã‰ª∂ÂêçÁß∞</th>\n<th style=\"text-align:left\">ËØ¥Êòé</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Ë¢´ÊãñÂä®ÁöÑÂÖÉÁ¥†</td>\n<td style=\"text-align:left\">dragstart</td>\n<td style=\"text-align:left\">Âú®ÂÖÉÁ¥†ÂºÄÂßãÊãñÂä®Êó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\">drag</td>\n<td style=\"text-align:left\">Âú®ÂÖÉÁ¥†ÊãñÂä®Êó∂ÂèçÂ§çËß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\">dragend</td>\n<td style=\"text-align:left\">Âú®ÊãñÂä®Êìç‰ΩúÂÆåÊàêÊó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ÁõÆÁöÑÂú∞ÂØπË±°</td>\n<td style=\"text-align:left\">dragenter</td>\n<td style=\"text-align:left\">ÂΩìË¢´ÊãñÂä®ÂÖÉÁ¥†ËøõÂÖ•ÁõÆÁöÑÂú∞ÂÖÉÁ¥†ÊâÄÂç†ÊçÆÁöÑÂ±èÂπïÁ©∫Èó¥Êó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\">dragover</td>\n<td style=\"text-align:left\">ÂΩìË¢´ÊãñÂä®ÂÖÉÁ¥†Âú®ÁõÆÁöÑÂú∞ÂÖÉÁ¥†ÂÜÖÊó∂Ëß¶ÂèëÔºàÊØè 100ms Ëß¶Âèë‰∏ÄÊ¨°Ôºâ</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\">dragleave</td>\n<td style=\"text-align:left\">ÂΩìË¢´ÊãñÂä®ÂÖÉÁ¥†Ê≤°ÊúâÊîæ‰∏ãÂ∞±Á¶ªÂºÄÁõÆÁöÑÂú∞ÂÖÉÁ¥†Êó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\">drop</td>\n<td style=\"text-align:left\">ÈáäÊîæË¢´ÊãñÊãΩÂÖÉÁ¥†Êó∂Ëß¶Âèë</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"Ë¢´ÊãñÊãΩÂÖÉÁ¥†\"><a href=\"#Ë¢´ÊãñÊãΩÂÖÉÁ¥†\" class=\"headerlink\" title=\"Ë¢´ÊãñÊãΩÂÖÉÁ¥†\"></a>Ë¢´ÊãñÊãΩÂÖÉÁ¥†</h3><p>‰∏ãÈù¢Êàë‰ª¨ÂºÄÂßã‰∏ÄÊ≠•Ê≠•‰ΩøÁî® mouse ‰∫ã‰ª∂ÂÆûÁé∞Ë¢´ÊãñÊãΩÂÖÉÁ¥†ÁöÑ drag Êåá‰ª§„ÄÇ</p>\n<p>Êàë‰ª¨Â∞ùËØïÊãÜËß£ÊãñÊãΩËøô‰∏™Âä®‰ΩúÔºå‰ªéÊµèËßàÂô®‰∫ã‰ª∂ËßíÂ∫¶Âá∫ÂèëËÄÉËôëÔºåÂèØ‰ª•ÂàÜ‰∏∫ <code>mousedown</code> Âíå <code>mousemove</code> ‰∏§ÈÉ®ÂàÜÔºåÂΩì <code>mousemove</code> ÂùêÊ†á‰∏é <code>mousedown</code> ÂùêÊ†á‰πãÂ∑ÆÁöÑÁªùÂØπÂÄºËææÂà∞‰∏ÄÂÆöÈòàÂÄºÂêéÔºåÂèØËÆ§‰∏∫Áî®Êà∑Âú®ËøõË°åÊãñÊãΩË°å‰∏∫ÔºåÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÁªôËøô‰∏™‰∏∫Êåá‰ª§Êèê‰æõÂèØ‰æõ‰ΩøÁî®ÊñπËá™Áî±ËÆæÁΩÆÁöÑÂÖ•ÂèÇ <code>dragTolerance</code>ÔºàÈªòËÆ§ËÆæ‰∏∫ 5ÔºåÂèØÁêÜËß£‰∏∫ÊãñÊãΩ‰ΩçÁßª‰∫Ü 5 ÂÉèÁ¥†Âçï‰ΩçÂêéÂà§ÂÆö‰∏∫ÊãñÊãΩÔºâ„ÄÇ</p>\n<p>Âú® HTML ÂÖ®Â±ÄÂ±ûÊÄß‰∏≠ÔºåÊúâ‰∏™ draggable ÁöÑÂ±ûÊÄßÔºåÂΩìÂÄº‰∏∫ true Êó∂ÔºåË°®Á§∫ÂÖÉÁ¥†ÂèØË¢´ÊãñÂä®ÔºõÂΩìÂÄº‰∏∫ false Êó∂ÔºåÂàôË°®Á§∫ÂÖÉÁ¥†‰∏çÂèØË¢´ÊãñÂä®„ÄÇÊàë‰ª¨ÁöÑÈúÄÊ±ÇÂú∫ÊôØ‰∏≠ÔºåÊúâÂêåÊ†∑Á±ª‰ººÁöÑÂäüËÉΩÈúÄË¶ÅÂÆûÁé∞Ôºå‰∏æ‰∏™‰æãÂ≠êÔºåËßÜÈ¢ëÊ°ÜÊû∂ÂíåÈîöÁÇπÂç†‰ΩçÂÖÉÁ¥†Âùá‰∏∫ÂèØÊãñÊãΩÁöÑÂÖÉÁ¥†ÔºåËÄåÈîöÁÇπÂç†‰ΩçÂÖÉÁ¥†ÊòØ‚ÄúÈï∂Âµå‚ÄùÂÜçËßÜÈ¢ëÊ°ÜÊû∂‰∏≠ÁöÑÔºåÂ¶ÇÊûúÂ∞ÜËØ•Êåá‰ª§ÂàÜÂà´ËÆæÁΩÆÂú®ÂêÑËá™ÁöÑÂÖÉÁ¥†‰∏äÔºåÈÇ£‰πàÂΩìÊãñÊãΩÈîöÁÇπÂç†‰ΩçÂÖÉÁ¥†Êó∂Ôºå‰πü‰ºöËß¶ÂèëËßÜÈ¢ëÊ°ÜÊû∂ÁöÑÊãñÊãΩ‰∫ã‰ª∂ÔºåËøôÊòæÁÑ∂‰∏çÊòØÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÁªìÊûú„ÄÇ</p>\n<p>‰ªÖ‰ªÖÁî±Â§ñÈÉ®ËÆæÁΩÆ‰∏∫Â∏ÉÂ∞îÂÄº‰ºº‰πéÂπ∂‰∏çËÉΩËß£ÂÜ≥Êàë‰ª¨ÁöÑÈóÆÈ¢ò„ÄÇÊâÄ‰ª•ÔºåÈô§‰∫ÜÂ∏ÉÂ∞îÂÄºÂ§ñÔºå Êàë‰ª¨ÂÖÅËÆ∏ <code>draggable</code> ÂèÇÊï∞‰∏∫ÂáΩÊï∞Á±ªÂûã„ÄÇÂΩì <code>mousedown</code> Êó∂Ôºå‰ºöËé∑ÂèñÂΩìÂâç <code>draggable</code> ÁöÑÂÄºÔºåËã• darggable ‰∏∫ÂèØÊâßË°åÂáΩÊï∞Êó∂ÔºåÂ∞ÜÊê∫Â∏¶Êï∞ÊçÆÂíåË¢´ÊãñÊãΩÂéüÂßã DOM ÂÖÉÁ¥†ÂºïÁî®Á≠â‰Ωú‰∏∫ÂèÇÊï∞ÊâßË°åËØ•Ê†°È™åÂáΩÊï∞ÔºåÂáΩÊï∞ÂÜÖÈÉ®Â§ÑÁêÜÂà§Êñ≠ÂèØÂê¶ÊãñÊãΩÈÄªËæëÔºåÊúÄÁªàËøîÂõûÂ∏ÉÂ∞îÂÄºÂÜ≥ÂÆö <code>mousedown</code> ÂêéÁª≠ÁöÑÂ§ÑÁêÜ„ÄÇ</p>\n<p>Ëøô‰πüÊòØÊäΩË±°ÂÖ¨ÂÖ±ÁªÑ‰ª∂ÂíåÂ∑•ÂÖ∑ÁöÑÊäÄÂ∑ß‰πã‰∏ÄÔºåÊó¢ËÉΩÂÆûÁé∞Â∞Ü‰∏öÂä°‰ª£Á†ÅÈÄöËøáÂáΩÊï∞‰Ωú‰∏∫ÂõûË∞ÉÂØπÁªÑ‰ª∂Â∑•ÂÖ∑ÈÄªËæëËøõË°åÂΩ±ÂìçÔºåÂêåÊó∂‰πüÂáèÂ∞ëÂØπÊäΩË±°ÁªÑ‰ª∂Â∑•ÂÖ∑‰æµÂÖ•„ÄÇ</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Directive</span>(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">'[ssDraggable]'</span>,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSDraggableDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">public</span> el: ElementRef, <span class=\"keyword\">public</span> zone: NgZone, <span class=\"keyword\">public</span> viewContainer: ViewContainerRef</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement = el.nativeElement;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> ngOnInit(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onMouseMove = <span class=\"keyword\">this</span>.onMouseMove.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onMouseUp = <span class=\"keyword\">this</span>.onMouseUp.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> ngAfterContentInit() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.currentElement) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentElement.onmousedown = <span class=\"keyword\">this</span>.onMouseDown.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ËÉΩÂê¶ÊãñÊãΩ</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">get</span> currentElementDraggable() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> <span class=\"keyword\">this</span>.draggable === <span class=\"string\">'function'</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.draggable(&#123;</span><br><span class=\"line\">        <span class=\"comment\">// Ë¢´ÊãñÊãΩÂÖÉÁ¥†Êê∫Â∏¶ÁöÑÊï∞ÊçÆ</span></span><br><span class=\"line\">        data: <span class=\"keyword\">this</span>.data,</span><br><span class=\"line\">        <span class=\"comment\">// Ë¢´ÊãñÊãΩÂÖÉÁ¥†ÁöÑÂéüÂßã DOM ÂÖÉÁ¥†</span></span><br><span class=\"line\">        mousedownElement: <span class=\"keyword\">this</span>.mousedownElement,</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.draggable;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÊãñÊãΩÂºÄÂßãÂâçÈº†Ê†áÊåâ‰∏ã‰∫ã‰ª∂</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onMouseDown(e: MouseEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    e.preventDefault();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.mousedownElement = e.target <span class=\"keyword\">as</span> HTMLElement;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.currentElementDraggable) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.clicked = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ËÆ∞ÂΩïÈº†Ê†áÊåâ‰∏ãÁöÑÊ®™Á∫µÂùêÊ†á</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.startX = e.pageX;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.startY = e.pageY;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">document</span>.defaultView?.addEventListener(<span class=\"string\">'mousemove'</span>, <span class=\"keyword\">this</span>.onMouseMove);</span><br><span class=\"line\">    <span class=\"built_in\">document</span>.defaultView?.addEventListener(<span class=\"string\">'mouseup'</span>, <span class=\"keyword\">this</span>.onMouseUp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÊãñÊãΩÂºÄÂßãÂâçÈº†Ê†áÊåâ‰∏ã‰∫ã‰ª∂</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onMouseMove(e: MouseEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// do something</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÁõëÂê¨ÊãñÂä®ÁªìÊùü</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onMouseUp(e: MouseEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// do something</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂΩìÈº†Ê†áË∑ùÁ¶ª mousedown Ë∑ùÁ¶ªË∂ÖÂá∫ËÆæÂÆöÈòàÂÄºÂêéÔºåÈúÄËß¶Âèë‰∏ÄÊ¨°Âë®ÊúüÂáΩÊï∞ÁöÑ dragStartÔºåË°®Á§∫ÂºÄÂßãÊãñÊãΩ„ÄÇ‰∏éÊ≠§ÂêåÊó∂ÔºåÂü∫‰∫éÊ®°ÁâàÂàõÂª∫Áî®‰∫éÊãñÊãΩÁöÑÂπΩÁÅµÂÖÉÁ¥†„ÄÇ</p>\n<p>‰∏∫‰∫ÜÊª°Ë∂≥‰∫§‰∫íÈúÄÊ±ÇÔºåËøôÈáåÊúâ‰∏§ÁßçÂπΩÁÅµÂÖÉÁ¥†ÁöÑÂÆûÁé∞ÊñπÂºèÔºö‰∏ÄÁßçÊòØ Angular Êèê‰æõÁöÑÊ®°ÁâàËØ≠Ê≥ïÔºå‰∏ÄÁßçÊòØ clone Âéü DOM ÂÖÉÁ¥†„ÄÇ</p>\n<p>Âü∫‰∫éÊ®°ÁâàÁîüÊàêÁöÑÂπΩÁÅµÂÖÉÁ¥†Áõ∏ÂØπÊØîËæÉÂÆπÊòìÂÆûÁé∞ÔºåÂè™ÈúÄË¶ÅÂÆûÁî® ng-template ÂÆö‰πâÂ•Ω HTML ÁªìÊûÑÔºåÂ∞ÜÊ®°ÁâàÂºïÁî®ÂèòÈáè‰Ωú‰∏∫ÂÖ•ÂèÇ‰º†ÂÖ•Êåá‰ª§Âç≥ÂèØ„ÄÇÊåá‰ª§ÂÜÖÈÉ®Ê†πÊçÆÊ®°ÁâàÂºïÁî®ÂèòÈáèÂàõÂª∫ DOM ÂÖÉÁ¥†Âç≥ÂèØ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/drag-anchor.gif\" alt=\"drag-anchor\"></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- ÊãñÊãΩÁßªÂä®ÈîöÁÇπÂπΩÁÅµÊ®°Áâà --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ng-template</span> #<span class=\"attr\">ssDraggableAnchorGhost</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">class</span>=<span class=\"string\">\"drag-anchor-ghost\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    [<span class=\"attr\">attr.data-type</span>]=<span class=\"string\">\"DragGhostElementType.ANCHOR\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  &gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ghost-cursor\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ghost-placeholder\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ng-template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>Âè¶‰∏ÄÁßçÊ†πÊçÆ DOM ÂÖÉÁ¥†ÂàõÂª∫ÂâØÊú¨ÁöÑÊñπÂºè‰ºöÁ®çÂæÆÂ§çÊùÇÔºåÊàë‰ª¨ÈÉΩÁü•ÈÅì DOM Êèê‰æõÁöÑÊñπÊ≥ï‰∏≠Êúâ‰∏Ä‰∏™ <code>Node.cloneNode()</code> ÁöÑÊñπÊ≥ïÔºåÂèØÁî®‰∫éÂÖãÈöÜ DOM ËäÇÁÇπÔºå‰ΩÜÊòØËøô‰∏™ÊñπÊ≥ïÊúâ‰∏™ÊòéÊòæÁöÑÁº∫Èô∑ÔºåÂ∞±ÊòØÂè™ËÉΩÂÖãÈöÜ DOM ÁªìÊûÑÔºåCSS Ê†∑ÂºèÊó†Ê≥ïÂÖãÈöÜ„ÄÇ</p>\n<p>Âú®Á†îÁ©∂‰∫ÜÊâÄÊúâÂèØË°åÁöÑÊñπÊ°àÂêéÔºåÂπ∂Ê≤°Êúâ‰∏Ä‰∏™ÂçÅÂàÜÂÆåÁæéÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÈÇ£‰πàÂ∞±Âè™ËÉΩËµ∞ÊúÄÁ¨®ÊãôÁöÑÂÆûÁé∞ÊñπÂºè„ÄÇÂéüÁîü DOM Êèê‰æõ‰∫ÜËé∑ÂèñÂÖÉÁ¥†ÁªèËøáÂ∏ÉÂ±Ä„ÄÅÁªòÂà∂„ÄÅÂÖâÊ†ÖÂåñÂíåÂêàÂπ∂ÂêéÁöÑÊ†∑ÂºèÂ±ûÊÄßÊñπÊ≥ï getComputedStyle„ÄÇÂàõÂª∫ÂπΩÁÅµÂÖÉÁ¥†Êó∂ÔºåÂÖàÂÖãÈöÜÂÖÉÁ¥†ÂèäÂÖ∂Â≠êÂ≠ôËäÇÁÇπÔºåÁÑ∂Âêé‰æùÊ¨°ÈÅçÂéÜÊØè‰∏™ËäÇÁÇπÔºåÈÄöËøáËØ•ÊñπÊ≥ïËé∑ÂèñËäÇÁÇπÁöÑËÆ°ÁÆóÊ†∑ÂºèÂ±ûÊÄßÔºåÁÑ∂ÂêéÂÜçÂØπÊ†∑ÂºèÂ±ûÊÄßÈÄê‰∏ÄËµãÂÄºÂà∞ÂÖãÈöÜËäÇÁÇπ‰∏ä„ÄÇ</p>\n<p>‰ΩÜÊòØÊµèËßàÂô®ÊîØÊåÅÁöÑ CSS Â±ûÊÄßÊúâÂá†Áôæ‰∏™ÔºåÂ¶ÇÊûúÊØè‰∏™ÈÉΩÈúÄË¶ÅÁöÑËØùÂ∞Ü‰ºöÊèêÂçáÊï¥‰∏™Êìç‰ΩúÁöÑÂ§çÊùÇÂ∫¶„ÄÇÂõ†‰∏∫Âú®ËøôÈáåÁöÑ‰ΩøÁî®Áõ∏ÂÖ≥Â±ûÊÄßÁöÑÂÖÉÁ¥†ÁöÑÊ†∑ÂºèÊòØÊØîËæÉÂõ∫ÂÆöÁöÑÔºåÊâÄ‰ª•Âè™ÂØπÈÉ®ÂàÜÊ†∑ÂºèÂ±ûÊÄßËøõË°å‰∫ÜËΩ¨Áßª„ÄÇÂ¶ÇÊûúÊòØÂÆûÁé∞Â§ßÂûãÁöÑÂÖ¨Áî®ÂåÖÔºåÂàôÂ∫îËØ•‰øùËØÅÂèØÁî®ÊÄß„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/drag-video.gif\" alt=\"drag-video\"></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSDraggableDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ê†πÊçÆÂΩìÂâçÂÖÉÁ¥†ÂÖãÈöÜÁîüÊàêÊãñÊãΩÂπΩÁÅµÂÖÉÁ¥†</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  cloneGhostElement(element: Element): Element &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> clonedElement = element.cloneNode(<span class=\"literal\">true</span>) <span class=\"keyword\">as</span> HTMLElement;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> originalStyles: CSSStyleDeclaration = <span class=\"built_in\">document</span>.defaultView.getComputedStyle(element, <span class=\"string\">''</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> cssProperty of styleProperties) &#123;</span><br><span class=\"line\">      clonedElement.style[cssProperty] = originalStyles[cssProperty];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    clonedElement.style.pointerEvents = <span class=\"string\">'none'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> originalElementChildren = element.getElementsByTagName(<span class=\"string\">'*'</span>) <span class=\"keyword\">as</span> HTMLCollectionOf&lt;</span><br><span class=\"line\">      HTMLElement</span><br><span class=\"line\">    &gt;;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> clonedElementChildren = clonedElement.getElementsByTagName(<span class=\"string\">'*'</span>) <span class=\"keyword\">as</span> HTMLCollectionOf&lt;</span><br><span class=\"line\">      HTMLElement</span><br><span class=\"line\">    &gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = originalElementChildren.length - <span class=\"number\">1</span>; i--; ) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> originalChild = originalElementChildren[i];</span><br><span class=\"line\">      <span class=\"keyword\">const</span> clonedChild = clonedElementChildren[i];</span><br><span class=\"line\">      <span class=\"keyword\">const</span> originElementStyles = <span class=\"built_in\">document</span>.defaultView.getComputedStyle(originalChild, <span class=\"string\">''</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> cssProperty of styleProperties) &#123;</span><br><span class=\"line\">        clonedChild.style[cssProperty] = originElementStyles[cssProperty];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      clonedChild.style.pointerEvents = <span class=\"string\">'none'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> clonedElement;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂºÄÂßãÊãñÊãΩÂπ∂ÁîüÊàêÂπΩÁÅµÂáΩÊï∞ÁöÑ‰ª£Á†ÅÂÆûÁé∞Ôºö</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">interface</span> SSDraggableBaseEventArgs &#123;</span><br><span class=\"line\">  originalEvent: MouseEvent;</span><br><span class=\"line\">  ghostElement: Nullable&lt;HTMLElement&gt;;</span><br><span class=\"line\">  startX: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  startY: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  pageX: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  pageY: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  cancel: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSDraggableDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Èº†Ê†áÁßªÂä®‰∫ã‰ª∂</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onMouseMove(e: MouseEvent) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; pageX, pageY &#125; = e;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.clicked) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> totalMovedX = pageX - <span class=\"keyword\">this</span>.startX;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> totalMovedY = pageY - <span class=\"keyword\">this</span>.startY;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        !<span class=\"keyword\">this</span>.dragStarted &amp;&amp;</span><br><span class=\"line\">        (<span class=\"built_in\">Math</span>.abs(totalMovedX) &gt; <span class=\"keyword\">this</span>.dragTolerance || <span class=\"built_in\">Math</span>.abs(totalMovedY) &gt; <span class=\"keyword\">this</span>.dragTolerance)</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> dragStartArgs: SSDraggableBaseEventArgs = &#123;</span><br><span class=\"line\">          originalEvent: e,</span><br><span class=\"line\">          ghostElement: <span class=\"keyword\">this</span>.ghostElement,</span><br><span class=\"line\">          startX: <span class=\"keyword\">this</span>.startX,</span><br><span class=\"line\">          startY: <span class=\"keyword\">this</span>.startY,</span><br><span class=\"line\">          pageX,</span><br><span class=\"line\">          pageY,</span><br><span class=\"line\">          cancel: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.zone.run(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">this</span>.dragStart.emit(dragStartArgs);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dragStartArgs.cancel) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">this</span>.destoryEventListener();</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">const</span> clientRect = <span class=\"keyword\">this</span>.currentElement.getBoundingClientRect();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.baseX = clientRect.left;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.baseY = clientRect.top;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.dragStarted = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ÂΩìÁßªÂä®Ë∂≥Â§üÂ§öË∑ùÁ¶ªÊó∂ÔºåÂπΩÁÅµÂÖÉÁ¥†Êâç‰ºöÊ∏≤ÊüìÂπ∂Ë¢´ÂÆûÈôÖÂºÄÂßãÊãñÊãΩ</span></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.createGhostElement(pageX, pageY);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.dragStarted) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> dragMoveArgs: SSDraggableDragMoveArgs = &#123;</span><br><span class=\"line\">        originalEvent: e,</span><br><span class=\"line\">        ghostElement: <span class=\"keyword\">this</span>.ghostElement,</span><br><span class=\"line\">        startX: <span class=\"keyword\">this</span>.startX,</span><br><span class=\"line\">        startY: <span class=\"keyword\">this</span>.startY,</span><br><span class=\"line\">        pageX: <span class=\"keyword\">this</span>.lastX,</span><br><span class=\"line\">        pageY: <span class=\"keyword\">this</span>.lastY,</span><br><span class=\"line\">        nextPageX: e.pageX,</span><br><span class=\"line\">        nextPageY: e.pageY,</span><br><span class=\"line\">        cancel: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dragMove.emit(dragMoveArgs);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> setPageX = dragMoveArgs.nextPageX;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> setPageY = dragMoveArgs.nextPageY;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!dragMoveArgs.cancel) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.ghostLeft = <span class=\"keyword\">this</span>.dragDirection === DragDirection.VERTICAL ? <span class=\"keyword\">this</span>.baseX : setPageX;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.ghostTop = <span class=\"keyword\">this</span>.dragDirection === DragDirection.HORIZONTAL ? <span class=\"keyword\">this</span>.baseY : setPageY;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.dispatchDragEvent(pageX, pageY, e);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.lastX = setPageX;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.lastY = setPageY;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ê†πÊçÆÊ®°ÁâàÁîüÊàêÊãñÊãΩÂπΩÁÅµÂÖÉÁ¥†</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  createGhostElement(pageX: <span class=\"built_in\">number</span>, pageY: <span class=\"built_in\">number</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> dynamicGhostRef;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.ghostTemplate) &#123;</span><br><span class=\"line\">      dynamicGhostRef = <span class=\"keyword\">this</span>.viewContainer.createEmbeddedView(<span class=\"keyword\">this</span>.ghostTemplate, <span class=\"literal\">null</span>);</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement = dynamicGhostRef.rootNodes[<span class=\"number\">0</span>];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> clonedElement = <span class=\"keyword\">this</span>.cloneGhostElement(<span class=\"keyword\">this</span>.currentElement);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> ghostContainer = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</span><br><span class=\"line\">      ghostContainer.appendChild(clonedElement);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.currentElement.dataset) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">Object</span>.entries(<span class=\"keyword\">this</span>.currentElement.dataset).forEach(<span class=\"function\">(<span class=\"params\">[key, value]</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          ghostContainer.setAttribute(<span class=\"string\">`data-<span class=\"subst\">$&#123;key&#125;</span>`</span>, value);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement = ghostContainer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.ghostElement) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> createEventArgs = &#123;</span><br><span class=\"line\">        ghostElement: <span class=\"keyword\">this</span>.ghostElement,</span><br><span class=\"line\">        cancel: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostCreate.emit(createEventArgs);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (createEventArgs.cancel) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.ghostElement = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.ghostTemplate &amp;&amp; dynamicGhostRef) &#123;</span><br><span class=\"line\">          dynamicGhostRef.destroy();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.position = <span class=\"string\">'absolute'</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.pointerEvents = <span class=\"string\">'none'</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.zIndex = <span class=\"keyword\">this</span>.ghostIndex;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.transform =</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.dragDirection === DragDirection.BOTH ? <span class=\"string\">'translate3d(-50%, -50%, 0)'</span> : <span class=\"literal\">null</span>;</span><br><span class=\"line\">      <span class=\"comment\">// ÂûÇÁõ¥ÊñπÂêëÂèØÊãñÊãΩÔºåÈÇ£‰πà left Âõ∫ÂÆö</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.left =</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.dragDirection === DragDirection.VERTICAL ? <span class=\"keyword\">this</span>.baseX + <span class=\"string\">'px'</span> : pageX + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">      <span class=\"comment\">// Ê∞¥Âπ≥ÊñπÂêëÂèØÊãñÊãΩÔºåÈÇ£‰πà right Âõ∫ÂÆö</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.top =</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.dragDirection === DragDirection.HORIZONTAL ? <span class=\"keyword\">this</span>.baseY + <span class=\"string\">'px'</span> : pageY + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.width = <span class=\"string\">'auto'</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.height = <span class=\"string\">'auto'</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.cursor = <span class=\"string\">'grabbing'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"built_in\">document</span>.body.appendChild(<span class=\"keyword\">this</span>.ghostElement);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.addEventListener(<span class=\"string\">'pointerup'</span>, <span class=\"function\"><span class=\"params\">args</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.onMouseUp(args);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂΩìÊãñÊãΩÁªìÊùüÔºå‰πüÂ∞±ÊòØÁî®Êà∑ÈáäÊîæÈº†Ê†á mouseup ÂêéÔºåÂàôÈô§‰∫ÜÈúÄË¶ÅÂ∞Ü‰º†ËææÁªô drop ÁõÆÊ†áÂå∫ÂüüÂ§ñÔºåËøòË¶ÅÁßªÈô§Êó∂Èó¥ÁöÑÁõëÂê¨„ÄÇ</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSDrggableDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÁõëÂê¨ÊãñÂä®ÁªìÊùü</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onMouseUp(e: MouseEvent) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.clicked) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.clicked = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.dragStarted = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> dragEndArgs = &#123;</span><br><span class=\"line\">      originalEvent: e,</span><br><span class=\"line\">      ghostElement: <span class=\"keyword\">this</span>.ghostElement,</span><br><span class=\"line\">      startX: <span class=\"keyword\">this</span>.startX,</span><br><span class=\"line\">      startY: <span class=\"keyword\">this</span>.startY,</span><br><span class=\"line\">      pageX: e.pageX,</span><br><span class=\"line\">      pageY: e.pageY,</span><br><span class=\"line\">      data: <span class=\"keyword\">this</span>.data,</span><br><span class=\"line\">      cancel: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.zone.run(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dragEnd.emit(dragEndArgs);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.dispatchDropEvent(e.pageX, e.pageY, e);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.ghostElement) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.parentNode?.removeChild(<span class=\"keyword\">this</span>.ghostElement);</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.destoryEventListener();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>‰Ω†‰πüËÆ∏‰ºöÁñëÈóÆÂú® mouse ÂÆûÁé∞ drag &amp; drop Ë¶ÅÂ¶Ç‰ΩïÂÆûÁé∞Â∞ÜÊãñÊãΩÂÖÉÁ¥†ÁöÑ‰ø°ÊÅØÈÄöÁü•ÁªôÁõÆÁöÑÂú∞ÂÖÉÁ¥†ÔºåÊØïÁ´ü drag &amp; drop ËÉΩÈÄöËøá dataTransfer ‰Ωú‰∏∫Êï∞ÊçÆ‰º†ËæìÁöÑËΩΩ‰ΩìÔºåËÄå‰∏îÂéüÁîüÊîØÊåÅÊï∞ÊçÆ‰º†ÈÄí„ÄÇ</p>\n<p>‰∫ãÂÆû‰∏äÔºåÈô§‰∫ÜÊµèËßàÂô®Êèê‰æõÁ±ª‰ºº click„ÄÅmousedown„ÄÅblur Á≠âÂÜÖÁΩÆÁöÑÊ†áÂáÜ‰∫ã‰ª∂Â§ñÔºåÊµèËßàÂô®ËøòÈÄöËøáÊñπÊ≥ïËÆ©ÂºÄÂèëËÄÖËá™Â∑±ÂàõÂª∫ÁõëÂê¨‰∫ã‰ª∂„ÄÇ</p>\n<p>ÂàõÂª∫ÊåáÂÆöÁ±ªÂûãÁöÑ‰∫ã‰ª∂Á§∫‰æãÔºö</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ÂàõÂª∫‰∫ã‰ª∂</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> event = documet.createEvent(<span class=\"string\">'Event'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ÂÆö‰πâ‰∫ã‰ª∂Âêç‰∏∫ build</span></span><br><span class=\"line\">event.initEvent(<span class=\"string\">'build'</span>, <span class=\"literal\">true</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ÁõëÂê¨‰∫ã‰ª∂</span></span><br><span class=\"line\">event.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">'build'</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// e.target</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">false</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Ëß¶ÂèëÂØπË±°ÂèØ‰ª•ÊòØ‰ªª‰ΩïÂÖÉÁ¥†ÊàñÂÖ∂‰ªñ‰∫ã‰ª∂ÁõÆÊ†á</span></span><br><span class=\"line\">elem.dispatchEvent(Event);</span><br></pre></td></tr></table></figure>\n<p>ÂΩìÂÖÉÁ¥†Ë¢´ÊãñÊãΩÁßªÂä®Êó∂Ôºå‰ºöÂÆûÊó∂ÈÄöËøá getElementsAtPoint Ëé∑ÂèñÂÖÉÁ¥†‰∏ãÊñπÁöÑÂùêÊ†áÂêÑÂ±ÇÁ∫ßÁöÑÂÖÉÁ¥†ÔºåÂΩìÂ≠òÂú®ÁõÆÁöÑÂú∞Ê†áËØÜÁöÑÂÖÉÁ¥†Êó∂ÔºåÊâßË°åÂØπÂ∫îÁöÑÂë®ÊúüÂáΩÊï∞ÔºåËøôÊ†∑Â∞±ËÉΩÂÆûÁé∞Êï∞ÊçÆÁöÑÈÄö‰ø°‰∫Ü„ÄÇ</p>\n<p>‰∏ãÈù¢‰∏∫ÂÆûÁé∞ drag Âíå drop Áõ∏ÂÖ≥‰∫ã‰ª∂ÁöÑ‰ª£Á†ÅÔºö</p>\n<ul>\n<li>dispatchDragEventÔºöÂ§ÑÁêÜ dragEnter„ÄÅdragLeave ‰∫ã‰ª∂</li>\n<li>dispatchDropEventÔºöÂ§ÑÁêÜ drop ‰∫ã‰ª∂</li>\n<li>dispatchEventÔºöÂ∫ïÂ±ÇÂ∞ÅË£Ö</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSDraggableDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  dispatchDragEvent(pageX: <span class=\"built_in\">number</span>, pageY: <span class=\"built_in\">number</span>, originalEvent: MouseEvent) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> dropArea;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> customEventArgs: SSDraggableCustomEventDetail = &#123;</span><br><span class=\"line\">      data: &#123; ...this.data &#125;,</span><br><span class=\"line\">      originalEvent,</span><br><span class=\"line\">      ghostElement: <span class=\"keyword\">this</span>.ghostElement,</span><br><span class=\"line\">      startX: <span class=\"keyword\">this</span>.startX,</span><br><span class=\"line\">      startY: <span class=\"keyword\">this</span>.startY,</span><br><span class=\"line\">      pageX,</span><br><span class=\"line\">      pageY,</span><br><span class=\"line\">      cancel: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÊåâÁÖßÂÖÉÁ¥†ÂÜíÊ≥°È°∫Â∫èÊéíÂàóÁöÑÊï∞ÁªÑ</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> elementsFromPoint = <span class=\"keyword\">this</span>.getElementsAtPoint(pageX, pageY);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> dropAreaFlag = <span class=\"keyword\">this</span>.dropAreaFlag;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> element of elementsFromPoint) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        element.getAttribute(dropAreaFlag) === <span class=\"string\">'true'</span> &amp;&amp;</span><br><span class=\"line\">        element !== <span class=\"keyword\">this</span>.ghostElement &amp;&amp;</span><br><span class=\"line\">        element !== <span class=\"keyword\">this</span>.currentElement</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        dropArea = element;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (dropArea &amp;&amp; (!<span class=\"keyword\">this</span>.lastDropArea || (<span class=\"keyword\">this</span>.lastDropArea &amp;&amp; <span class=\"keyword\">this</span>.lastDropArea !== dropArea))) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.lastDropArea) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.dispatchEvent(<span class=\"keyword\">this</span>.lastDropArea, <span class=\"string\">'ssDragLeave'</span>, customEventArgs);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.lastDropArea = dropArea;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dispatchEvent(dropArea, <span class=\"string\">'ssDragEnter'</span>, customEventArgs);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (!dropArea &amp;&amp; <span class=\"keyword\">this</span>.lastDropArea) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dispatchEvent(<span class=\"keyword\">this</span>.lastDropArea, <span class=\"string\">'ssDragLeave'</span>, customEventArgs);</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.lastDropArea = <span class=\"literal\">null</span>;</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (dropArea) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dispatchEvent(dropArea, <span class=\"string\">'ssDragOver'</span>, customEventArgs);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  dispatchDropEvent(pageX: <span class=\"built_in\">number</span>, pageY: <span class=\"built_in\">number</span>, originalEvent: MouseEvent) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> customEventArgs = &#123;</span><br><span class=\"line\">      ghostElement: <span class=\"keyword\">this</span>.ghostElement,</span><br><span class=\"line\">      originalEvent,</span><br><span class=\"line\">      startX: <span class=\"keyword\">this</span>.startX,</span><br><span class=\"line\">      startY: <span class=\"keyword\">this</span>.startY,</span><br><span class=\"line\">      pageX,</span><br><span class=\"line\">      pageY,</span><br><span class=\"line\">      data: <span class=\"keyword\">this</span>.data,</span><br><span class=\"line\">      cancel: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.dispatchEvent(<span class=\"keyword\">this</span>.lastDropArea, <span class=\"string\">'ssDrop'</span>, customEventArgs);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  dispatchEvent(</span><br><span class=\"line\">    target: Nullable&lt;HTMLElement&gt;,</span><br><span class=\"line\">    eventName: <span class=\"built_in\">string</span>,</span><br><span class=\"line\">    eventArgs: SSDraggableCustomEventDetail</span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (target) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> customEvent = <span class=\"built_in\">document</span>.createEvent(<span class=\"string\">'CustomEvent'</span>);</span><br><span class=\"line\">      customEvent.initCustomEvent(eventName, <span class=\"literal\">false</span>, <span class=\"literal\">false</span>, eventArgs);</span><br><span class=\"line\">      target.dispatchEvent(customEvent);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">protected</span> getElementsAtPoint(pageX: <span class=\"built_in\">number</span>, pageY: <span class=\"built_in\">number</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> viewPortX = pageX - <span class=\"built_in\">window</span>.pageXOffset;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> viewPortY = pageY - <span class=\"built_in\">window</span>.pageYOffset;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">document</span>[<span class=\"string\">'msElementsFromPoint'</span>]) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> elements = <span class=\"built_in\">document</span>[<span class=\"string\">'msElementsFromPoint'</span>](viewPortX, viewPortY);</span><br><span class=\"line\">      <span class=\"keyword\">return</span> elements === <span class=\"literal\">null</span> ? [] : elements;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">document</span>.elementsFromPoint(viewPortX, viewPortY);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Â¶ÇÊ≠§ËøôÊ†∑ÔºåÊãñÊãΩÂÖÉÁ¥†ÁöÑ Angular Êåá‰ª§Â∞±ËøôÊ†∑ÂÆûÁé∞‰∫ÜÔºåËØ∏Â¶ÇËæπÁïå„ÄÅÊ†áËØÜÂ±ûÊÄßÁ≠âÂÆûÁé∞‰∏äËø∞‰ª£Á†ÅÂ∑≤ÁªèÂåÖÂê´Âú®ÂÜÖÔºå‰∏ãÈù¢ÊÄªÁªìÂ∞ÅË£Ö‰∏Ä‰∏™ mouse ÂÆûÁé∞ drag ÁöÑÊåá‰ª§Â∑•ÂÖ∑ÈúÄË¶ÅËÄÉËôëÂà∞ÁöÑ API Âíå‰∫ã‰ª∂„ÄÇ</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">API</th>\n<th style=\"text-align:left\">ËØ¥Êòé</th>\n<th style=\"text-align:left\">Á±ªÂûã</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">data</td>\n<td style=\"text-align:left\">ÊãñÊãΩÂÖÉÁ¥†Êê∫Â∏¶ÁöÑÊï∞ÊçÆ</td>\n<td style=\"text-align:left\">any</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">draggable</td>\n<td style=\"text-align:left\">ËÉΩÂê¶Ë¢´ÊãñÊãΩ</td>\n<td style=\"text-align:left\">boolean \\</td>\n<td>() =&gt; boolean</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ghostTemplate</td>\n<td style=\"text-align:left\">Ë¢´ÊãñÊãΩÂπΩÁÅµÂÖÉÁ¥†ÁöÑÊ®°ÁâàÂºïÁî®ÂèòÈáè</td>\n<td style=\"text-align:left\"><code>TemplateRef&lt;any&gt;</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ghostIndex</td>\n<td style=\"text-align:left\">ÂπΩÁÅµÂÖÉÁ¥†ÁöÑÂ±ÇÁ∫ß</td>\n<td style=\"text-align:left\">string</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dragTolerance</td>\n<td style=\"text-align:left\">Âà§Êñ≠ÊãñÊãΩÂºÄÂßãÁöÑÈòàÂÄº</td>\n<td style=\"text-align:left\">number</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dragDirection</td>\n<td style=\"text-align:left\">ËæπÁïå</td>\n<td style=\"text-align:left\">DragDirection</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dropAreaFlag</td>\n<td style=\"text-align:left\">Ê†áËØÜË¢´ÊãñÂä®ÂÖÉÁ¥†ÁöÑËá™ÂÆö‰πâÂ±ûÊÄß</td>\n<td style=\"text-align:left\">string</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>dropAreaFlag ÊòØÁî®‰∫éÂà§Êñ≠ÊòØÂê¶‰∏∫ËÉΩÂ§ü drop Âå∫ÂüüÁöÑÊ†áËØÜÔºå‰ΩøÁî® drop Êåá‰ª§ÁöÑÂÖÉÁ¥†ÈªòËÆ§Ê∑ªÂä† data-* ÁöÑËá™ÂÆö‰πâ attribute„ÄÇ</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">‰∫ã‰ª∂</th>\n<th style=\"text-align:left\">ËØ¥Êòé</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">dragStart</td>\n<td style=\"text-align:left\">ÊãñÊãΩÂºÄÂßãÊó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dragMove</td>\n<td style=\"text-align:left\">ÊãñÊãΩÂÖÉÁ¥†ÁßªÂä®Êó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dragEnd</td>\n<td style=\"text-align:left\">ÊãñÊãΩÁªìÊùüÊó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ghostCreate</td>\n<td style=\"text-align:left\">ÂπΩÁÅµÂÖÉÁ¥†ÂàõÂª∫Êó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ghostDestory</td>\n<td style=\"text-align:left\">ÂπΩÁÅµÂÖÉÁ¥†ÈîÄÊØÅÊó∂Ëß¶Âèë</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"ÊãñÊãΩÁõÆÁöÑÂú∞ÂÖÉÁ¥†\"><a href=\"#ÊãñÊãΩÁõÆÁöÑÂú∞ÂÖÉÁ¥†\" class=\"headerlink\" title=\"ÊãñÊãΩÁõÆÁöÑÂú∞ÂÖÉÁ¥†\"></a>ÊãñÊãΩÁõÆÁöÑÂú∞ÂÖÉÁ¥†</h3><p>ÂØπ‰∫éÈáäÊîæÁöÑ drop Êåá‰ª§Êù•ËØ¥ÔºåÂÆûÁé∞Ëµ∑Êù•Â∞±ÊØîËæÉÁÆÄÂçï‰∫ÜÔºåÂè™ÈúÄË¶ÅÂØπ drag Êåá‰ª§ÂÆö‰πâÁöÑÂá†‰∏™Ëá™ÂÆö‰πâ‰∫ã‰ª∂ËøõË°åÁõëÂê¨Âπ∂Â§ÑÁêÜÂØπÂ∫îÁöÑÂõûË∞É‰∫ã‰ª∂Âç≥ÂèØ„ÄÇ</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Directive</span>(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">'[ssDroppable]'</span>,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSDroppableDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> currentElement: Nullable&lt;HTMLElement&gt; = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> dropAreaFlag = <span class=\"string\">'ssdroppable'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Output</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> dragEnter = <span class=\"keyword\">new</span> EventEmitter&lt;CustomEvent&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Output</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> dragOver = <span class=\"keyword\">new</span> EventEmitter&lt;CustomEvent&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Output</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> dragLeave = <span class=\"keyword\">new</span> EventEmitter&lt;CustomEvent&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Output</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> drop = <span class=\"keyword\">new</span> EventEmitter&lt;CustomEvent&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">public</span> el: ElementRef, <span class=\"keyword\">public</span> zone: NgZone</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement = el.nativeElement;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> ngOnInit(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onDragEnter = <span class=\"keyword\">this</span>.onDragEnter.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onDragOver = <span class=\"keyword\">this</span>.onDragOver.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onDragLeave = <span class=\"keyword\">this</span>.onDragLeave.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onDrop = <span class=\"keyword\">this</span>.onDrop.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.currentElement) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.setAttribute(<span class=\"keyword\">this</span>.dropAreaFlag, <span class=\"string\">'true'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.addEventListener(<span class=\"string\">'ssDragEnter'</span>, <span class=\"keyword\">this</span>.onDragEnter <span class=\"keyword\">as</span> EventListener);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.addEventListener(<span class=\"string\">'ssDragOver'</span>, <span class=\"keyword\">this</span>.onDragOver <span class=\"keyword\">as</span> EventListener);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.addEventListener(<span class=\"string\">'ssDragLeave'</span>, <span class=\"keyword\">this</span>.onDragLeave <span class=\"keyword\">as</span> EventListener);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.addEventListener(<span class=\"string\">'ssDrop'</span>, <span class=\"keyword\">this</span>.onDrop <span class=\"keyword\">as</span> EventListener);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ë¢´ÊãñÂä®ÂÖÉÁ¥†ËøõÂÖ•ÂΩìÂâçÂÖÉÁ¥†ÊâÄÂç†ÊçÆÁöÑÂ±èÂπïÁ©∫Èó¥Êó∂Ëß¶Âèë</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> onDragEnter(e: CustomEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.zone.run(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dragEnter.emit(e);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ë¢´ÊãñÊãΩÂÖÉÁ¥†Âú®ÂΩìÂâçÂÖÉÁ¥†‰∏äÊñπÊó∂Ëß¶Âèë</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> onDragOver(e: CustomEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.zone.run(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dragOver.emit(e);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ë¢´ÊãñÂä®ÂÖÉÁ¥†Ê≤°ÊúâÊîæ‰∏ãÂ∞±Á¶ªÂºÄÂΩìÂâçÂÖÉÁ¥†Êó∂Ëß¶Âèë</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> onDragLeave(e: CustomEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.zone.run(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dragLeave.emit(e);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÈáäÊîæ‰∫ã‰ª∂</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> onDrop(e: CustomEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.zone.run(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.drop.emit(e);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Áº©Áï•ÂõæÊåá‰ª§\"><a href=\"#Áº©Áï•ÂõæÊåá‰ª§\" class=\"headerlink\" title=\"Áº©Áï•ÂõæÊåá‰ª§\"></a>Áº©Áï•ÂõæÊåá‰ª§</h2><p>Âú®ËßÜÈ¢ëÂâ™ËæëËΩØ‰ª∂‰∏≠ÔºåËΩ®ÈÅìÂå∫ÂüüÁöÑËßÜÈ¢ëÁâáÊÆµÈÉΩ‰ºöÊòæÁ§∫ÂØπÂ∫îÊó∂Èó¥ÁöÑÊà™ÂõæÔºåÊñπ‰æøÁî®Êà∑ÂÆö‰ΩçÊåáÂÆöÁîªÈù¢ÊâÄÂú®ÁöÑ‰ΩçÁΩÆ‰ª•ËøõË°åËøõ‰∏ÄÊ≠•ÁöÑÊìç‰ΩúÔºåÂêåÊ†∑Âú∞Êàë‰ª¨‰πüÈúÄË¶ÅÂØπËßÜÈ¢ëÁâáÊÆµÁöÑÁº©Áï•ÂõæËøõË°åÂ±ïÁ§∫„ÄÇ</p>\n<p>Âú®Â§ßÊñπÂêë‰∏äÊàë‰ª¨Êúâ‰∏§ÁßçÊñπÂºèÂÆûÁé∞Ê≠§Á±ªÊïàÊûúÔºö</p>\n<ul>\n<li>ÂΩìÁî®Êà∑ÂºÄÂßã‰∏ä‰º†ËßÜÈ¢ë‰ΩÜÊú™ÂÆåÊàêÊó∂ÔºåÂØπËßÜÈ¢ëËøõË°åÈÖçÈΩêÊìç‰ΩúÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπËßÜÈ¢ëÊñá‰ª∂Ê†πÊçÆÊØî‰æãÊà™ÂèñÂõæÁâáÂπ∂Â±ïÁ§∫</li>\n<li>ÂΩìËßÜÈ¢ë‰∏ä‰º†ÂÆåÊàêÂêéÔºå‰∫ëÊúçÂä°ÁîüÊàêËßÜÈ¢ëÊà™ÂõæÈõ™Á¢ßÂõæÔºåÁî®Êà∑Âà∑Êñ∞È°µÈù¢ÂêéÔºå‰ΩøÁî®Èõ™Á¢ßÂõæËøõË°åÂ±ïÁ§∫</li>\n</ul>\n<h3 id=\"ËßÜÈ¢ëÊñá‰ª∂ÁîªÂ∏ÉÊà™Âõæ\"><a href=\"#ËßÜÈ¢ëÊñá‰ª∂ÁîªÂ∏ÉÊà™Âõæ\" class=\"headerlink\" title=\"ËßÜÈ¢ëÊñá‰ª∂ÁîªÂ∏ÉÊà™Âõæ\"></a>ËßÜÈ¢ëÊñá‰ª∂ÁîªÂ∏ÉÊà™Âõæ</h3><p>‰∏é‰πãÂâçÊ£ÄÊµãËßÜÈ¢ëÊñá‰ª∂ÂèØÁî®ÊÄßÊó∂ÁöÑÂÆûÁé∞ÈÄªËæëÁ±ª‰ººÔºåÂæÄÊñáÊ°£‰∏≠ÊèíÂÖ• video Ê†áÁ≠æÔºåÂπ∂ËøõË°å play Êí≠ÊîæÔºåÂà©Áî® Canvas ÁîªÂ∏ÉÁªòÂà∂ËßÜÈ¢ëÊåáÂÆöÊó∂Èó¥ÁöÑÁîªÈù¢ÔºåÂΩìÊó∂Èó¥Êõ¥Êñ∞ÂêéÂØπÁîªÂ∏ÉÂÜÖÂÆπ‰ΩøÁî® <code>toDataURL</code> ËæìÂá∫ËßÜÈ¢ëÊà™Âõæ„ÄÇ</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSVideoPreviewDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> previewList;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> blobUrl;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/** ÂºÄÂßãÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ */</span></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> beginTime: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/** ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÊåÅÁª≠Êó∂ÈïøÔºàÂçï‰ΩçÔºöÁßíÔºâ */</span></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> duration: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/** Ê≠•ÈïøÔºåÊØèÂº†Êà™ÂõæÁõ∏ÈöîÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ */</span></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> scaleRatio: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> ngOnInit(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.imgList &amp;&amp; <span class=\"keyword\">this</span>.imgList.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.renderVideoPreviewByImageList();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.blobUrl) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.renderVideoPreviewByBlobUrl();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ÊØèÊÆµËßÜÈ¢ëÊï∞ÊçÆÈÉΩ‰ºö‰øùÂ≠òÂèØÊí≠ÊîæÁöÑ Blob Url</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> renderVideoPreviewByBlobUrl() &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Áº©Áï•ÂõæÊÄªÊï∞Èáè</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> count = <span class=\"built_in\">Math</span>.ceil(<span class=\"keyword\">this</span>.duration / <span class=\"keyword\">this</span>.scaleRatio);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> frag = <span class=\"built_in\">document</span>.createDocumentFragment();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> durationList = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; count; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// Á¨¨ i Âº†ÊòæÁ§∫Êà™ÂõæÁöÑÊó∂Èó¥</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> currentTime = <span class=\"keyword\">this</span>.beginTime + i * <span class=\"keyword\">this</span>.scaleRatio;</span><br><span class=\"line\"></span><br><span class=\"line\">      durationList.push(currentTime);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> promise = <span class=\"keyword\">this</span>.videoPicture(&#123; videoUrl: <span class=\"keyword\">this</span>.blobUrl, seconds: durationList &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    promise.then(<span class=\"function\">(<span class=\"params\">imgList: <span class=\"built_in\">string</span>[]</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      imgList.forEach(<span class=\"function\">(<span class=\"params\">base64: <span class=\"built_in\">string</span></span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> div = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        div.style.display = <span class=\"string\">'inline-block'</span>;</span><br><span class=\"line\">        div.style.width = <span class=\"string\">'80px'</span>;</span><br><span class=\"line\">        div.style.height = <span class=\"string\">'44px'</span>;</span><br><span class=\"line\">        div.style.backgroundRepeat = <span class=\"string\">'no-repeat'</span>;</span><br><span class=\"line\">        div.style.backgroundImage = <span class=\"string\">`url(\"<span class=\"subst\">$&#123;base64&#125;</span>\")`</span>;</span><br><span class=\"line\">        div.style.backgroundSize = <span class=\"string\">'contain'</span>;</span><br><span class=\"line\">        div.style.flexShrink = <span class=\"string\">'0'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        frag.appendChild(div);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentElement.innerHTML = <span class=\"string\">''</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentElement.appendChild(frag);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ëé∑Âèñ‰∏ÄÊÆµÊó∂Èó¥ÁöÑËßÜÈ¢ëÊà™Âõæ</span></span><br><span class=\"line\"><span class=\"comment\">   *</span></span><br><span class=\"line\"><span class=\"comment\">   * @param videoData ËßÜÈ¢ëÊï∞ÊçÆ</span></span><br><span class=\"line\"><span class=\"comment\">   * @param width Êà™ÂõæÂÆΩÂ∫¶ÔºàÈªòËÆ§ 80pxÔºâ* 8 ÊòØ‰∏∫‰∫ÜËÆ©Êà™Âá∫Êù•ÁöÑÂõæÁâá‰∏çÊ®°Á≥ä</span></span><br><span class=\"line\"><span class=\"comment\">   * @param height Êà™ÂõæÈ´òÂ∫¶ÔºàÈªòËÆ§ 44pxÔºâ* 8 ÊòØ‰∏∫‰∫ÜËÆ©Êà™Âá∫Êù•ÁöÑÂõæÁâá‰∏çÊ®°Á≥ä</span></span><br><span class=\"line\"><span class=\"comment\">   * @param seconds Êà™ÂèñËßÜÈ¢ëÁöÑÁßí   [1,3,4,5,6]Ë°®Á§∫Êà™ÂèñËßÜÈ¢ë 1 3 4 5 6ÁßíÁöÑÂõæÁâá</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  videoPicture(&#123;</span><br><span class=\"line\">    videoUrl,</span><br><span class=\"line\">    videoData,</span><br><span class=\"line\">    width = <span class=\"number\">80</span> * <span class=\"number\">8</span>,</span><br><span class=\"line\">    height = <span class=\"number\">44</span> * <span class=\"number\">8</span>,</span><br><span class=\"line\">    seconds,</span><br><span class=\"line\">  &#125;: &#123;</span><br><span class=\"line\">    videoUrl?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">    videoData?: File;</span><br><span class=\"line\">    width?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">    height?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">    seconds: <span class=\"built_in\">number</span>[];</span><br><span class=\"line\">  &#125;) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ÂàõÂª∫‰∏Ä‰∏™ËßÜÈ¢ëÂÖÉÁ¥†</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> container = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</span><br><span class=\"line\">    container.className = <span class=\"string\">'video-picture'</span>;</span><br><span class=\"line\">    container.style.position = <span class=\"string\">'absolute'</span>;</span><br><span class=\"line\">    <span class=\"comment\">// container.style.visibility = 'hidden';</span></span><br><span class=\"line\">    container.style.left = <span class=\"string\">'-9999px'</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> video = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'video'</span>);</span><br><span class=\"line\">    video.width = width;</span><br><span class=\"line\">    video.height = height;</span><br><span class=\"line\">    video.src = videoUrl || <span class=\"built_in\">window</span>.URL.createObjectURL(videoData);</span><br><span class=\"line\">    container.appendChild(video);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÂàõÂª∫‰∏Ä‰∏™canvas</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> canvas = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'canvas'</span>);</span><br><span class=\"line\">    canvas.width = width; <span class=\"comment\">//ËßÜÈ¢ëÂéüÊúâÂ∞∫ÂØ∏</span></span><br><span class=\"line\">    canvas.height = height; <span class=\"comment\">//ËßÜÈ¢ëÂéüÊúâÂ∞∫ÂØ∏</span></span><br><span class=\"line\">    container.appendChild(canvas);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Êà™Âõæ</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">      video.addEventListener(<span class=\"string\">'loadeddata'</span>, <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        video.currentTime = <span class=\"number\">1</span>;</span><br><span class=\"line\">        video.play();</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">      video.addEventListener(<span class=\"string\">'playing'</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">        video.pause();</span><br><span class=\"line\">        <span class=\"keyword\">const</span> captureVideoPromises = [];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; seconds.length; i++) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> captureVideoPromise = <span class=\"keyword\">await</span> <span class=\"keyword\">this</span>.captureVideoPromise(canvas, video, seconds[i]);</span><br><span class=\"line\">          captureVideoPromises.push(captureVideoPromise);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">Promise</span>.all(captureVideoPromises).then(<span class=\"function\"><span class=\"params\">allSrcs</span> =&gt;</span> &#123;</span><br><span class=\"line\">          container.remove();</span><br><span class=\"line\">          allSrcs.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.beginTime - b.beginTime);</span><br><span class=\"line\">          <span class=\"keyword\">const</span> srcs = allSrcs.map(<span class=\"function\"><span class=\"params\">val</span> =&gt;</span> val.src);</span><br><span class=\"line\">          resolve(srcs);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"built_in\">document</span>.body.appendChild(container);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ËßÜÈ¢ëÊà™Âõæ</span></span><br><span class=\"line\"><span class=\"comment\">   * @param canvas</span></span><br><span class=\"line\"><span class=\"comment\">   * @param video</span></span><br><span class=\"line\"><span class=\"comment\">   * @param beginTime Êà™ÂèñÂõæÁâáÁöÑËßÜÈ¢ëÊó∂Èó¥ÁÇπ</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> captureVideoPromise(canvas, video, beginTime) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> videoWidth = video.width;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> videoHeight = video.height;</span><br><span class=\"line\">    <span class=\"comment\">// ËßÜÈ¢ëÁöÑÂΩìÂâçÁîªÈù¢Ê∏≤ÊüìÂà∞ÁîªÂ∏É‰∏ä</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> ctx = canvas.getContext(<span class=\"string\">'2d'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> cutImg = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        video.removeEventListener(<span class=\"string\">'timeupdate'</span>, cutImg);</span><br><span class=\"line\"></span><br><span class=\"line\">        ctx.drawImage(video, <span class=\"number\">0</span>, <span class=\"number\">0</span>, videoWidth, videoHeight);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> dataUrl = canvas.toDataURL(<span class=\"string\">'image/png'</span>);</span><br><span class=\"line\">        resolve(&#123; beginTime: beginTime, src: dataUrl &#125;);</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">      video.addEventListener(<span class=\"string\">'timeupdate'</span>, cutImg);</span><br><span class=\"line\">      video.currentTime = beginTime;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Èõ™Á¢ßÂõæÂÆûÁé∞Áº©Áï•Âõæ\"><a href=\"#Èõ™Á¢ßÂõæÂÆûÁé∞Áº©Áï•Âõæ\" class=\"headerlink\" title=\"Èõ™Á¢ßÂõæÂÆûÁé∞Áº©Áï•Âõæ\"></a>Èõ™Á¢ßÂõæÂÆûÁé∞Áº©Áï•Âõæ</h3><p>ÂÆûÁé∞ÊÄùË∑ØÔºö</p>\n<ol>\n<li>ËÆ°ÁÆóÊÄªÂÖ±ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊà™ÂõæÊï∞Èáè</li>\n<li>Âæ™ÁéØÂàõÂª∫ DOM ÂÖÉÁ¥†ÔºåÂπ∂ËÆ°ÁÆóÂΩìÂâç‰ΩçÁΩÆÁº©Áï•ÂõæÂØπÂ∫îÈõ™Á¢ßÂõæ‰∏≠ÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØÔºå‰ª• background ËÉåÊôØÊ†∑ÂºèÂÆûÁé∞Áº©Áï•ÂõæÂ±ïÁ§∫</li>\n<li>ÊúÄÂêéÁªü‰∏ÄÊèíÂÖ•Âà∞ÊñáÊ°£‰∏≠</li>\n</ol>\n<p>ËøôÈáåÁöÑËÆ°ÁÆóÊñπÊ≥ïÂÄºÂæóÊÄªÁªì‰∏Ä‰∏ãÔºö</p>\n<p>ÊØè‰∏™ËßÜÈ¢ëÊ°ÜÊû∂ÂØπÂ∫îÁùÄ‰∏Ä‰∏™ËßÜÈ¢ëÁ¥†ÊùêÔºåÁî®Êà∑ÂèØ‰ª•Âú®ËßÜÈ¢ëÊ°ÜÊû∂‰∏äÊ∑ªÂä†ÈîöÁÇπÔºåÊâÄ‰ª•Âú®ËßÜÈ¢ëÊ°ÜÊû∂ÂÜÖÊòØ‰ª• ËßÜÈ¢ë-ÈîöÁÇπ-ËßÜÈ¢ë-ÈîöÁÇπ-ËßÜÈ¢ë Èó¥ÈöîÂ≠òÂú®ÁöÑÔºåÈîöÁÇπÂêéËßÜÈ¢ëÁöÑÂºÄÂßãÊó∂Èó¥ÊòØ‰∏ä‰∏ÄÊÆµËßÜÈ¢ëÁöÑÁªìÊùüÊó∂Èó¥„ÄÇÈòøÈáå‰∫ëÁöÑÈõ™Á¢ßÂõæÊòØÊØèÁßíÊà™Âèñ‰∏ÄÂº†ÂõæÁâáÔºå‰πüÂ∞±ÊòØÁ¨¨ 0 ÁßíÂØπÂ∫îÁ¨¨‰∏ÄÂº†Êà™ÂõæÔºåÁ¨¨ 100 ÁßíÂØπÂ∫îÁöÑÊòØÁ¨¨‰∫åÁªÑ</p>\n<p><img src=\"https://img.mrsingsing.com/sprite-preview.png\" alt=\"sprite-preview\"></p>\n<blockquote>\n<p>ÁªìÂêà‰ª£Á†ÅËØ¥ÊòéÔºö</p>\n<ul>\n<li>duration ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÊåÅÁª≠Êó∂ÈïøÔºàÂçï‰ΩçÔºöÁßíÔºâ</li>\n<li>scaleRatio Ê∏∏Ê†áÂ∞∫ÁöÑÊØî‰æãÂ∞∫</li>\n<li>beginTime ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÂú®ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÂºÄÂßãÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ</li>\n<li>imgList Èõ™Á¢ßÂõæÊï∞ÁªÑÈõÜÂêà</li>\n</ul>\n</blockquote>\n<ol>\n<li>ÈÄöËøáÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÊà™ÂèñÁâáÊÆµÊÄªÊåÅÁª≠Êó∂ÈïøÂíåÊØî‰æãÂ∞∫ËÆ°ÁÆóÂá∫ÊÄªÂÖ±ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊà™ÂõæÊï∞ÈáèÔºå‰∏çÂ§üÊòæÁ§∫‰∏ÄÂº†ÂÆåÊï¥Áº©Áï•ÂõæÂàôÊòæÁ§∫Áº©Áï•ÂõæÁöÑÈÉ®ÂàÜÔºåÈááÁî®Êà™ÂèñÂõæÁâáÁöÑÁ≠ñÁï•</li>\n<li>ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÊà™ÂèñÁâáÊÆµÁöÑÁ¨¨‰∏ÄÂº†Áº©Áï•ÂõæÂç≥‰∏∫Êà™ÂèñÁâáÊÆµÂºÄÂßãÊó∂Èó¥ÈÇ£‰∏ÄÁßíÔºå‰æãÂ¶Ç‰∏Ä‰∏™‰Ωç‰∫éÈîöÁÇπÂêéÁöÑËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÁöÑÂºÄÂßãÊó∂Èó¥ÊòØÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÁ¨¨ 120 ÁßíÔºåÈÇ£‰πàÁ¨¨‰∏ÄÂº†Â∞±ÊòØ 120 ÁßíÂ§ÑÁöÑÊà™Âõæ</li>\n<li>Èõ™Á¢ßÂõæÊØèÂº†‰∏∫ 10x10 ÁöÑËßÑÂàôÔºåÁ¨¨ 0-99 Áßí‰∏∫Á¨¨‰∏ÄÂº†Èõ™Á¢ßÂõæÔºåÁ¨¨ 100-199 Áßí‰∏∫Á¨¨‰∫åÂº†Èõ™Á¢ßÂõæÔºåÂè™ÈúÄÂΩìÂâçÊó∂Èó¥ÔºàÁßíÊï∞ÔºâÈô§‰ª• 100 Âπ∂Âêë‰∏ãÂèñÊï¥ÔºåÂ∞±ÂèØËé∑Áü•ÂΩìÂâçÁº©Áï•ÂõæÂú®Êï∞ÁªÑÁöÑÂì™Âº†Èõ™Á¢ßÂõæ‰∏≠</li>\n<li>ÊâæÂà∞Èõ™Á¢ßÂõæÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÁ°ÆËÆ§Âú®Èõ™Á¢ßÂõæ‰∏≠ÁöÑÊñπ‰ΩçÔºåÊ†πÊçÆÂΩìÂâçÊó∂Èó¥ÂèñÊ®° 100 ÁöÑÁªìÊûúÊòØÂê¶Á≠â‰∫é 0 ÂèØÂæóÁü•ÊòØÂê¶‰∏∫Èõ™Á¢ßÂõæÁöÑÁ¨¨‰∏ÄÂº†ÔºåÂê¶ÂàôÂêë‰∏äÂèñÊï¥ÂèñÊ®° 100 ÂèØÁü•ÂÖ∂ÊâÄÂ§Ñ‰ΩçÁΩÆ</li>\n<li>Â∞ÜËá™ÁÑ∂È°∫Â∫èËΩ¨Êç¢‰∏∫Áî± 0 ÂºÄÂßãÁöÑÁ¥¢ÂºïÈ°∫Â∫è</li>\n<li>ËÆ°ÁÆóÊ∞¥Âπ≥ÂÅèÁßªÂÄºÔºöÁ¥¢Âºï‰∏™‰ΩçÊï∞Âç≥‰ª£Ë°®ÊâÄÈúÄÁº©Áï•ÂõæÂ∑¶‰æßË∑ùÁ¶ªÈõ™Á¢ßÂõæÊâÄÂú®Ë°åÂ∑¶‰æßÂÖ±ÊúâÂ§öÂ∞ëÂº†Áº©Áï•ÂõæÔºåÂèØÁî± <code>(index % 10) * width</code> ËÆ°ÁÆóÊ∞¥Âπ≥ÂÅèÁßªÂÄº</li>\n<li>ËÆ°ÁÆóÂûÇÁõ¥ÂÅèÁßªÂÄºÔºöÁ¥¢ÂºïÂçÅ‰ΩçÊï∞Âç≥‰ª£Ë°®ÊâÄÈúÄÁº©Áï•ÂõæÈ°∂Á´ØË∑ùÁ¶ªÈõ™Á¢ßÂõæÊâÄÂú®ÂàóÈ°∂Á´ØÂÖ±ÊúâÂ§öÂ∞ëÂº†Áï•Áï•ÂõæÔºåÂèØÁî± <code>Math.floor(index / 10) * height</code> ËÆ°ÁÆóÂûÇÁõ¥ÂÅèÁßªÂÄº</li>\n</ol>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSVideoPreviewDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> renderVideoPreviewByImageList(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ÊÄªÂÖ±ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊà™ÂõæÂº†Êï∞</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> count = <span class=\"built_in\">Math</span>.ceil(<span class=\"keyword\">this</span>.duration / <span class=\"keyword\">this</span>.scaleRatio);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> frag = <span class=\"built_in\">document</span>.createDocumentFragment();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; count; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> div = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Á¨¨ i Âº†ÊòæÁ§∫Êà™ÂõæÁöÑÊó∂Èó¥</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> currentTime = <span class=\"keyword\">this</span>.beginTime + i * <span class=\"keyword\">this</span>.scaleRatio;</span><br><span class=\"line\">      <span class=\"comment\">// Êà™ÂõæÊï∞ÁªÑ‰∏≠Á¨¨Âá†ÁªÑÊàêÂëò</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> groupIndex = <span class=\"built_in\">Math</span>.floor(currentTime / <span class=\"number\">100</span>);</span><br><span class=\"line\">      <span class=\"comment\">// 100x100 ÈáåÁöÑÁ¨¨Âá†Âº†</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> remainder = <span class=\"built_in\">parseInt</span>(<span class=\"string\">`<span class=\"subst\">$&#123;currentTime&#125;</span>`</span>) % <span class=\"number\">100</span> === <span class=\"number\">0</span> ? <span class=\"number\">1</span> : <span class=\"built_in\">Math</span>.ceil(currentTime) % <span class=\"number\">100</span>;</span><br><span class=\"line\">      <span class=\"comment\">//  ÂØπÂ∫îÂú®ÂõæÁâáÁªÑ‰∏≠ÁöÑÁ¥¢Âºï</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> index = remainder === <span class=\"number\">0</span> ? <span class=\"number\">99</span> : remainder - <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> url = <span class=\"keyword\">this</span>.imgList[groupIndex];</span><br><span class=\"line\">      <span class=\"keyword\">const</span> x = (index % <span class=\"number\">10</span>) * <span class=\"number\">80</span>;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> y = <span class=\"built_in\">Math</span>.floor(index / <span class=\"number\">10</span>) * <span class=\"number\">44</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      div.style.display = <span class=\"string\">'inline-block'</span>;</span><br><span class=\"line\">      div.style.width = <span class=\"string\">'80px'</span>;</span><br><span class=\"line\">      div.style.height = <span class=\"string\">'44px'</span>;</span><br><span class=\"line\">      div.style.backgroundRepeat = <span class=\"string\">'no-repeat'</span>;</span><br><span class=\"line\">      div.style.backgroundImage = <span class=\"string\">`url(\"<span class=\"subst\">$&#123;url&#125;</span>\")`</span>;</span><br><span class=\"line\">      div.style.backgroundPosition = <span class=\"string\">`-<span class=\"subst\">$&#123;x&#125;</span>px -<span class=\"subst\">$&#123;y&#125;</span>px`</span>;</span><br><span class=\"line\">      div.style.backgroundSize = <span class=\"string\">'800px 440px'</span>;</span><br><span class=\"line\">      div.style.flexShrink = <span class=\"string\">'0'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      frag.appendChild(div);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.innerHTML = <span class=\"string\">''</span>;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.appendChild(frag);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Âú®ÂØπËøôÁßçÁº©Áï•ÂõæÁöÑÊäÄÊúØÂÆûÁé∞ÊñπÊ°àËøõË°åË∞ÉÁ†îÊó∂ÔºåÂèëÁé∞‰∫ÜÂè¶‰∏ÄÁßçÂ∑ßÂ¶ôÂÆûÁé∞ÊñπÂºèÔºö</p>\n<p>ÂØπÂΩì‰∏™ DOM ÂÖÉÁ¥†ËÆæÂÆöÂ§ö‰∏™ background-image Âíå background-positionÔºåÊåáÂÆö backgroud-size ‰∏∫Âõ∫ÂÆöÂÆΩÂ∫¶ÔºåËÉåÊôØÂõæÁöÑÂºïÁî®‰πüÊòØ‰∏ÄÂº†Èõ™Á¢ßÂõæÔºåÂè™ÈúÄË¶ÅÂØπ background-image Âíå background-position ËøõË°åËÆ°ÁÆóÊìç‰ΩúÂç≥ÂèØ„ÄÇ</p>\n<p>‰ΩÜÊòØËøôÁßçÂÆûÁé∞ÊñπÂºèÊúâÂâçÊèêÔºåÂ∞±ÊòØÈõ™Á¢ßÂõæÂøÖÈ°ªÊòØ 1xn ËøôÁßçÂΩ¢ÂºèÁöÑÔºåËøôÊòØÂõ†‰∏∫ background-image ËÆæÁΩÆÂ§ö‰∏™ÂÄºÊó∂ÔºåËÉåÊôØÂõæÁâá‰ºö‰æùÊ¨°‰ªéÂ∑¶ÂêëÂè≥ÊéíÂàóÔºåÂ¶ÇÊûúÊòØ 10x10 ËøôÊ†∑ÁöÑËßÑÂàôÔºåÈÇ£‰πàÈõ™Á¢ßÂõæÁöÑÂÆΩÂ∫¶‰ºöÂç†Êª°ÔºåÂ∞±Êó†Ê≥ïÂÆûÁé∞‰∏Ä‰∏™ËÆæÁΩÆÂÆö‰πâ‰∏ÄÂº†Áº©Áï•Âõæ‰∫Ü„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/tencent-preview.png\" alt=\"tencent-preview\"></p>\n<p>‰ΩÜÊòØÈâ¥‰∫éÈòøÈáå‰∫ëÊà™ÂõæÂè™ËÉΩÈááÁî® 10 x 10 ÁöÑËßÑÊ†ºÔºåÊâÄ‰ª•Êàë‰ª¨ÊúÄÁªà‰ªçÊóßÈááÁî®Â∑≤ÊúâÁöÑÊñπÊ°à„ÄÇ<br>ÂÖ∂‰ªñÂäüËÉΩ</p>\n<p>‰ª•‰∏äÁΩóÂàóËØ¶ÁªÜËÆ≤Ëß£‰∫ÜËØ•Á≥ªÁªüÈÉ®ÂàÜÊ†∏ÂøÉÂäüËÉΩÁöÑÂÆûÁé∞ÊñπÊ°àÔºå‰ΩÜÁ¢ç‰∫éÁØáÂπÖÂÆûÂú®Â§™ÈïøÔºåÂ∞±‰∏çÂÆåÂÖ®Â±ïÁ§∫‰∫ÜÔºåÂÆûÁé∞‰∏äÈÉΩÊòØÂ§ßÂêåÂ∞èÂºÇ„ÄÇ‰∏ãÈù¢Â∞±ÁÆÄËø∞ÂÖ∂‰ªñÈÉ®ÂàÜÂäüËÉΩÂÆûÁé∞ÁöÑÈöæÁÇπÂèäËß£ÂÜ≥ÊÄùË∑Ø„ÄÇ</p>\n<h2 id=\"ÂÖ∂‰ªñÂäüËÉΩ\"><a href=\"#ÂÖ∂‰ªñÂäüËÉΩ\" class=\"headerlink\" title=\"ÂÖ∂‰ªñÂäüËÉΩ\"></a>ÂÖ∂‰ªñÂäüËÉΩ</h2><h3 id=\"Âø´Êç∑ËèúÂçï\"><a href=\"#Âø´Êç∑ËèúÂçï\" class=\"headerlink\" title=\"Âø´Êç∑ËèúÂçï\"></a>Âø´Êç∑ËèúÂçï</h3><p>‰πüËÆ∏‰Ω†‰ºöÁñëÈóÆÔºå‰∏çÂ∞±‰∏Ä‰∏™Âè≥ÈîÆËèúÂçïÂêóÔºåÊúâÂï•ÈöæÁöÑÔºü</p>\n<p>ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑÂø´Êç∑ËèúÂçïÂÆûÁé∞ÁöÑÈöæÂ∫¶Âú®‰∫éËßÜÈ¢ëÊ°ÜÊû∂ÂÜÖÂµåÂ•ó‰∫ÜÈîöÁÇπËøô‰∏™ÂÜÖÁΩÆÁöÑÂÖÉÁ¥†ÔºåËØ•Âå∫ÂüüÁªëÂÆö‰∫ÜÂ§ßÈáèÁöÑÈº†Ê†áÁõ∏ÂÖ≥‰∫ã‰ª∂ click„ÄÅmousedown„ÄÅmousemove„ÄÅmouseup„ÄÅcontextmeu Á≠âÁ≠âÔºåËÄå‰∫§‰∫í‰∏äÈîöÁÇπÁöÑÊãñÊãΩ„ÄÅÂè≥ÈîÆËèúÂçïÁ≠âÈÉΩÈúÄË¶Å‰∏éÂ§ñÂ±ÇÁöÑËßÜÈ¢ëÊ°ÜÊû∂Âå∫ÂàÜÂºÄÊù•ÔºåÊâÄ‰ª•Âú®Ëøô‰∏™Âå∫ÂüüÂ§ßÁªùÂ§ßÈÉ®ÂàÜÁöÑÂÖÉÁ¥†ÈÉΩËÆæÁΩÆ‰∫Ü poiner-events: none ÈòªÊ≠¢‰∫ã‰ª∂ÂÜíÊ≥°„ÄÇ</p>\n<p>ËøôÂú®‰∫§‰∫íÂ±ÇÈù¢ÂèàÂíåÁÇπÂáªÁ©∫ÁôΩÂå∫ÂüüÂèñÊ∂àÈÄâ‰∏≠„ÄÅÈöêËóèËèúÂçïÁ≠âÊìç‰Ωú‰ºöÂΩ¢ÊàêÂÜ≤Á™ÅÔºåËøôÈúÄË¶ÅÂú® document ‰∏äÁªëÂÆö click ‰∫ã‰ª∂Ôºå‰ΩÜÊòØÈòªÊ≠¢ÂÜíÊ≥°Âèà‰ºöÊó†Ê≥ïÂà∞Ëææ document„ÄÇ‰ª•ÂèäËΩ®ÈÅìÂ∑•‰ΩúÂå∫‰∏§‰∏™Âè≥ÈîÆËèúÂçï‰πãÈó¥ÁöÑ‰∫íÊñ•ÂÖ≥Á≥ªÁöÑÂ§ÑÁêÜÔºåÈÉΩÊòØËæÉÈöæÂ§ÑÁêÜÁöÑÂú∞Êñπ„ÄÇ</p>\n<p>Ê≠§Â§ÑÊàë‰πüÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Âè≥ÈîÆÁÇπÂáªÁöÑÊåá‰ª§ÔºåÂú®ÂàùÂßãÂåñÊåá‰ª§Êó∂‰ºöÂÖàÁõëÂê¨ document ÁöÑ click ‰∫ã‰ª∂ÔºåÂ¶ÇÊûúÊåá‰ª§‰∏≠ÁºìÂ≠òÁöÑËèúÂçïËäÇÁÇπ‰∏∫Á©∫ÔºåÊàñ click ‰∫ã‰ª∂ÂØπË±°ÁöÑ path Â±ûÊÄßÔºà‰πüÂ∞±ÊòØ‰∫ã‰ª∂ÂÜíÊ≥°ÁöÑË∑ØÂæÑÔºâÂåÖÂê´ËèúÂçïËäÇÁÇπÔºà‰πüÂ∞±ÊòØÂú®ËèúÂçï‰∏äÊñπ clickÔºâÔºåÂàô‰∏çËøõË°åÈöêËóèËèúÂçïÁöÑÊìç‰ΩúÔºåÂê¶ÂàôÂàôÈúÄË¶ÅÈöêËóè„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/contextmenu.gif\" alt=\"contextmenu\"></p>\n<h3 id=\"Ê∏∏Ê†áËøõÂ∫¶Êù°\"><a href=\"#Ê∏∏Ê†áËøõÂ∫¶Êù°\" class=\"headerlink\" title=\"Ê∏∏Ê†áËøõÂ∫¶Êù°\"></a>Ê∏∏Ê†áËøõÂ∫¶Êù°</h3><p>ÂΩìÊí≠ÊîæÂô®ÂºÄÂßãÊí≠ÊîæÊó∂Ôºå‰∫§‰∫í‰∏äÈúÄË¶ÅÊääËΩ®ÈÅìÂå∫Áúã‰ΩúÊòØËøõÂ∫¶Êù°ÔºåÊ∏∏Ê†áÈúÄË¶ÅÊ†πÊçÆÊí≠ÊîæÂô®Êí≠ÊîæÁöÑÊó∂Èó¥ÂÆûÊó∂ÁßªÂä®Âà∞Ê∏∏Ê†áÂ∞∫ÂØπÂ∫îÁöÑÊó∂Èó¥‰∏ä„ÄÇËÄå‰∏îÔºåÂΩìÊ∏∏Ê†áÁßªÂä®Ëá≥Â∑•‰ΩúÂå∫ËßÜÂè£‰∏≠Á∫øÊó∂ÔºåÂàôÈúÄË¶ÅÂÆöÂú®‰∏≠Á∫ø‰ΩçÁΩÆÔºåÊîπ‰∏∫ËΩ®ÈÅìÂå∫ÂüüÂêëÂêéÊªöÂä®ÔºõÂΩìËΩ®ÈÅìÂå∫ÂüüÂ∞æÈÉ®ÊªöÂä®Ëá≥Â∑•‰ΩúÂå∫Âè≥‰æßÈáçÂêàÊó∂ÔºåÊ∏∏Ê†áÂàôÈúÄË¶ÅÂÜçÊ¨°ÁßªÂä®ÔºåÁõ¥Ëá≥Âà∞ËßÜÈ¢ëÊí≠ÊîæÁªìÊùü„ÄÇ</p>\n<p>ÂÆûÁé∞‰∏äÂè™ÈúÄË¶ÅÂ∞ÜÊí≠ÊîæÂô®ÁöÑÊó∂Èó¥ÂõûË∞ÉÊñπÊ≥ïÊèê‰æõÁöÑ duration Êó∂Èó¥ÂèÇÊï∞ÔºåÊ†πÊçÆÊ∏∏Ê†áÂ∞∫ÊØî‰æãÂ∞∫ËΩ¨Âåñ‰∏∫ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÂÆö‰ΩçÊ∏∏Ê†áÈúÄË¶ÅÁßªÂä®Âà∞ÁöÑÂÅèÁßªÂÄºÔºåÂÜçÈÄöËøá scrollTo ÊñπÊ≥ïÊªöÂä®Âà∞ÊåáÂÆö‰ΩçÁΩÆÂç≥ÂèØ„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂ§ÑÁêÜÂ•ΩÊ∏∏Ê†á‰∏ã‰∏™ÁßªÂä®ÁöÑ‰ΩçÁΩÆ‰∏éÂ∑•‰ΩúÂå∫ËßÜÂè£‰∏≠Á∫øË∑ùÁ¶ª‰πãÈó¥ÁöÑÂà§Êñ≠ÔºåËøôÊòØÂå∫ÂàÜÊ∏∏Ê†áÁßªÂä®ËøòÊòØÂ∑•‰ΩúÂå∫ÁßªÂä®ÁöÑÂÖ≥ÈîÆ„ÄÇ</p>\n<h2 id=\"ÊÄªÁªì\"><a href=\"#ÊÄªÁªì\" class=\"headerlink\" title=\"ÊÄªÁªì\"></a>ÊÄªÁªì</h2><p>Êú¨ÊñáÂè™ÁùÄÈáçÊèèËø∞‰∫ÜÊïôËÇ≤Ë°å‰∏ö‰∫ëÂâ™ËæëÈ°πÁõÆÁöÑÈáçÁÇπÈöæÁÇπÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂú®È°πÁõÆÂºÄÂèëËøáÁ®ãÂØπÊï∞ÊçÆÁªìÊûÑÁöÑÂÆö‰πâ„ÄÅ‰∏çÂêåÂÆû‰ΩìÁöÑÂ¢ûÂà†ÊîπÊü•„ÄÅ‰∏çÂêåÂå∫ÂüüÁöÑ‰∫ã‰ª∂ÈÄö‰ø°ÂèäÊï∞ÊçÆÂêåÊ≠•„ÄÅÈîöÁÇπ‰∫íÂä®ÁöÑÈÖçÁΩÆ„ÄÅÂÖ®Â±ÄÁöÑËßÜÈ¢ë‰∏ä‰º†ÊÇ¨ÊµÆÁêÉ„ÄÅÂÆûÊó∂ËçâÁ®ø‰øùÂ≠òÂíåÂêàÊàêÂâçÊï∞ÊçÆÁöÑÊ†°È™åÁ≠âÁ≠âÔºåÊØè‰∏™ÁªÜÂàÜÂäüËÉΩÁöÑÂÆûÁé∞ÈÉΩÊòØ‰∏Ä‰∏™‰∏™ÊåëÊàò„ÄÇÂú®ÂºÄÂèëËØÑÂÆ°Èò∂ÊÆµÊâÄÊúâÂâçÁ´ØÈÉΩÊÑüËßâÂõ∞ÈöæÊó†ÊØîÁöÑÂ∑•Á®ãÔºåÊúÄÁªàÁªèËøáÂ∞ÜËøë‰∏Ä‰∏™ÊúàÁöÑËÆæËÆ°ËØÑÂÆ°ÂºÄÂèëÊµãËØïÂêéÔºåÈ°∫Âà©‰∏äÁ∫øËøêË°åÔºå‰∏∫Â§ö‰∏™ÁßëÁõÆÊï∞Áôæ‰∏™ËØæÁ®ãÔºåÊï∞‰∏áËØæÊ¨°ÁöÑÂΩïÊí≠ËßÜÈ¢ëÈÖçÈΩêÊèê‰æõÈ´òË¥®È´òÊïàÁéáÁöÑÊúçÂä°„ÄÇ</p>\n<p>ÈÄöËøáËøô‰∏™Ëø≠‰ª£ÂØπ Web Á´ØÂèØËßÜÂåñÈÖçÁΩÆÁ±ªÂûãÁ≥ªÁªüÊúâ‰∫ÜÊõ¥Ê∑±Â±ÇÊ¨°ÁöÑÁêÜËß£ÔºåÁâπÂà´ÊòØËÆæËÆ°Â∏àÊèêÂá∫ÁöÑÂ§öÊ†∑ÂåñÁöÑÁî®Êà∑‰∫§‰∫íÔºå‰∏ç‰ªÖËÆ©ÊàëÂØπÊïàÁéáÁ±ªÂ∑•ÂÖ∑ÁöÑ‰∫ßÂìÅËÆæËÆ°ÂíåÁî®Êà∑‰ΩìÈ™åÂàÜÊûêËÉΩÂäõÊúâ‰∫ÜÈ£ûÈÄüÁöÑËøõÊ≠•ÔºåÂêåÊó∂ËÉΩÂú®ÈúÄÊ±ÇÂÆûÁé∞ÁöÑÂêåÊó∂ÊâìÁ†¥‰∫ÜÂ±ÇÂ±ÇÊäÄÊúØÂ£ÅÂûí„ÄÇ</p>\n<p>Êú¨ÊñáËØ¶ÁªÜËÆ≤Ëø∞‰∫ÜÊ†∏ÂøÉËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑÊäÄÊúØÂÆûÁé∞ÊñπÊ°àÔºå‰∏ãÁØáÂ∞ÜËÆ≤Ëø∞Âü∫‰∫éÈòøÈáå‰∫ëÊí≠ÊîæÂô®ÁöÑ‰∫åÊ¨°Â∞ÅË£ÖÁöÑÈÄªËæëÂÆûÁé∞„ÄÇ</p>\n","site":{"data":{}},"excerpt":"<p>‰∏äÁØá‰ªãÁªç‰∫Ü‰∫ëËßÜÈ¢ëÂâ™ËæëÈÖçÈΩêÂ∑•ÂÖ∑ÁöÑÊäÄÊúØÊû∂ÊûÑÔºåÂØπÊï¥‰∏™È°πÁõÆÁöÑÊûÑÊàêÊúâ‰∫ÜÂ§ßËá¥ÁöÑ‰∫ÜËß£ÔºåÊú¨ÊñáÂ∞Ü‰ªãÁªçÂú®ÂÆûÁé∞ËØ•Á≥ªÁªüÁöÑÂâçÁ´ØÊäÄÊúØÈöæÁÇπÂèäËß£ÂÜ≥ÊñπÊ°à„ÄÇ</p>\n<blockquote>\n<p>ËØ•È°πÁõÆÂü∫‰∫éÈõÜÂõ¢ÂÜÖÈÉ®ÁöÑÂπ≥Âè∞ÂÆûË∑µÔºåÂâçÁ´ØÊ°ÜÊû∂‰ΩøÁî® Angular ÂÆûÁé∞ÔºåÊâÄ‰ª•‰ª£Á†ÅÁ§∫‰æã‰∏∫ Angular Ê°ÜÊû∂ËØ≠Ê≥ï„ÄÇ</p>\n</blockquote>\n<h2 id=\"‰∏ä‰º†ËßÜÈ¢ë\"><a href=\"#‰∏ä‰º†ËßÜÈ¢ë\" class=\"headerlink\" title=\"‰∏ä‰º†ËßÜÈ¢ë\"></a>‰∏ä‰º†ËßÜÈ¢ë</h2><p>Â∏∏ËßÅÁöÑ‰∏ä‰º†ËßÜÈ¢ëÊñπÂºèÊúâ‰∏§ÁßçÔºöÁî®Êà∑ÈÄöËøáË°®ÂçïÊâìÂºÄÊñá‰ª∂ÈÄâÊã©Âô®ÈÄâÊã©ÈúÄË¶Å‰∏ä‰º†ÁöÑÊñá‰ª∂ÂíåÁõ¥Êé•ÊãñÊãΩÊñá‰ª∂Âà∞ Web È°µÈù¢ÁöÑÊåáÂÆöÂå∫ÂüüÔºåWeb Â∫îÁî®Ê£ÄÊµãÂèØÂæóÂØπÂ∫îËßÜÈ¢ëÊñá‰ª∂ÁöÑÂÜÖÂÆπ„ÄÇ</p>\n<h3 id=\"ÈÄâÊã©Êñá‰ª∂‰∏ä‰º†\"><a href=\"#ÈÄâÊã©Êñá‰ª∂‰∏ä‰º†\" class=\"headerlink\" title=\"ÈÄâÊã©Êñá‰ª∂‰∏ä‰º†\"></a>ÈÄâÊã©Êñá‰ª∂‰∏ä‰º†</h3><p>‰º™‰ª£Á†ÅÂÆûÁé∞Ôºö</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">multiple</span> <span class=\"attr\">type</span>=<span class=\"string\">\"file\"</span> <span class=\"attr\">accept</span>=<span class=\"string\">\"video/mp4\"</span> (<span class=\"attr\">change</span>)=<span class=\"string\">\"handleVideoMaterialUpload\"</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> axios <span class=\"keyword\">from</span> <span class=\"string\">'axios'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">handleUpload</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> uploadUrl = <span class=\"string\">'https://upload-url.com/'</span>;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> fileList = e.target.files;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ‰∏ä‰º†ÂâçÊ†°È™å</span></span><br><span class=\"line\">  <span class=\"comment\">// do something</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// do something ‰∏ä‰º†Âà∞ÊåáÂÆöÊúçÂä°</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> formData = <span class=\"keyword\">new</span> FormData();</span><br><span class=\"line\"></span><br><span class=\"line\">  formData.append(<span class=\"string\">'file'</span>, filesList[<span class=\"number\">0</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\">  axios</span><br><span class=\"line\">    .post(uploadUrl, formData)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">'‰∏ä‰º†ÊàêÂäü'</span>, res);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .catch(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"string\">'‰∏ä‰º†Â§±Ë¥•'</span>, err);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Âú®‰∏ä‰º†ËßÜÈ¢ëÊñá‰ª∂Ââç‰∏ç‰ªÖË¶ÅÊ£ÄÊµãËßÜÈ¢ëÊñá‰ª∂ÁöÑÁ±ªÂûã„ÄÅÂ§ßÂ∞èÁ≠âÂü∫Á°Ä‰ø°ÊÅØÔºåËøòË¶ÅÂØπËßÜÈ¢ëÊñá‰ª∂ËøõË°åÂèØÊí≠ÊîæÊÄßÊ£ÄÊµãÔºåÂπ∂‰∏îÂú®Ê£ÄÊµãËøáÁ®ã‰∏≠Ëé∑ÂèñËßÜÈ¢ëÊñá‰ª∂Êó∂Èïø„ÄÅÂ∞ÅÈù¢Á≠âÂÜçÂêéÁª≠ÊµÅÁ®ã‰∏≠‰ΩøÁî®Âà∞ÁöÑ‰ø°ÊÅØÔºàËØ•ÈÉ®ÂàÜÂÆûÁé∞ËØ∑Áúã‰∏ãÊñáÁ´†ËäÇÔºâÔºåÊ£ÄÊµãÂêåËøáÂêéÊ∑ªÂä†Âà∞Ëß£ÊûêÈòüÂàó„ÄÇ</p>","more":"<h3 id=\"ÊãñÊãΩÊñá‰ª∂‰∏ä‰º†\"><a href=\"#ÊãñÊãΩÊñá‰ª∂‰∏ä‰º†\" class=\"headerlink\" title=\"ÊãñÊãΩÊñá‰ª∂‰∏ä‰º†\"></a>ÊãñÊãΩÊñá‰ª∂‰∏ä‰º†</h3><p>ÈÄöËøáÁõëÂê¨ÊåáÂÆöÂå∫ÂüüÁöÑ <code>dragOver</code> Âíå <code>drop</code> ‰∫ã‰ª∂ÔºåËÉΩÈÄöËøáÂÖ•ÂèÇÂ±ûÊÄß <code>e.dataTransfer</code> Ëé∑ÂèñÁî®Êà∑ÊâÄÊãñÊãΩÁöÑÊñá‰ª∂ÂØπË±°ÔºåÂêéÁª≠ÁöÑÊìç‰Ωú‰∏éÈÄâÊã©Êñá‰ª∂‰∏ä‰º†ÈÉ®ÂàÜ‰∏ÄËá¥„ÄÇ</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"drag-area\"</span> (<span class=\"attr\">dragOver</span>)=<span class=\"string\">\"onDragOver\"</span> (<span class=\"attr\">drop</span>)=<span class=\"string\">\"onDrop\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onDragOver</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> fileList = e.dataTransfer.files;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// do something ÂêéÈù¢ÁöÑÊµÅÁ®ãÂèÇËÄÉ„ÄåÈÄâÊã©Êñá‰ª∂‰∏ä‰º†„Äç</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>‰∏§ÁßçÊñπÂºèÁöÑÂ§ÑÁêÜÈÄªËæëÂü∫Êú¨‰∏ÄËá¥ÔºåÂè™ÊòØÁî®Êà∑‰∫§‰∫íÊñπÂºè‰∏ç‰∏ÄÊ†∑ÔºåÈöæÂ∫¶ÊØîËæÉÂ∞è„ÄÇ</p>\n<h3 id=\"‰∏ä‰º†ËßÜÈ¢ëÊúÄ‰Ω≥ÂÆûË∑µ\"><a href=\"#‰∏ä‰º†ËßÜÈ¢ëÊúÄ‰Ω≥ÂÆûË∑µ\" class=\"headerlink\" title=\"‰∏ä‰º†ËßÜÈ¢ëÊúÄ‰Ω≥ÂÆûË∑µ\"></a>‰∏ä‰º†ËßÜÈ¢ëÊúÄ‰Ω≥ÂÆûË∑µ</h3><p>‰ºÅ‰∏öÂÜÖÈÉ®‰∫åËøõÂà∂Êñá‰ª∂Êï∞ÊçÆ‰∏ÄËà¨ÈÉΩÁî±‰∫ëÊúçÂä°Êèê‰æõÁöÑÂØπË±°Â≠òÂÇ®ÊúçÂä°Ë¥üË¥£Â≠òÂÇ®ÔºåÊØîÂ¶Ç <a href=\"https://help.aliyun.com/product/31815.html\" target=\"_blank\" rel=\"noopener\">ÈòøÈáå‰∫ë ÂØπË±°Â≠òÂÇ® OSS</a>„ÄÅ<a href=\"https://cloud.tencent.com/document/product/436\" target=\"_blank\" rel=\"noopener\">ËÖæËÆØ‰∫ë ÂØπË±°Â≠òÂÇ® COS</a>ÔºåËøôÈúÄË¶Å‰ºÅ‰∏öË¥≠‰π∞‰ΩøÁî®„ÄÇËøô‰∫õÂØπË±°Â≠òÂÇ®ÁöÑ‰∏ä‰º†ÂÆûÁé∞ÊñπÂºèÊúâÂ§öÁßçÔºåÊÉ≥‰∫ÜËß£Êõ¥ËØ¶ÁªÜÁöÑÂÜÖÂÆπÂèØ‰ª•ÁÇπÂáª‰∏äËø∞ËøûÊé•„ÄÇ</p>\n<p>Êàë‰ª¨ÂÜÖÈÉ®‰ΩøÁî®ÁöÑÊòØÈòøÈáå‰∫ëÁöÑ OSS ÂØπË±°Â≠òÂÇ®ÊúçÂä°ÔºåÁÆÄË¶ÅÊµÅÁ®ãÂ∞±ÊòØÂâçÁ´ØÈÄöËøáÂêéÁ´ØÊé•Âè£Ëé∑ÂèñÈòøÈáå‰∫ë OSS ‰∏ä‰º†Âá≠ËØÅÔºåÈÄöËøá‰∏ä‰º†Âá≠ËØÅÁõ¥Êé•ËÆ≤Êñá‰ª∂‰∏ä‰º†Âà∞ OSS ÊúçÂä°„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/upload-swim.jpg\" alt=\"upload-swim\"></p>\n<h2 id=\"Èü≥ËßÜÈ¢ëÊñá‰ª∂‰ø°ÊÅØ\"><a href=\"#Èü≥ËßÜÈ¢ëÊñá‰ª∂‰ø°ÊÅØ\" class=\"headerlink\" title=\"Èü≥ËßÜÈ¢ëÊñá‰ª∂‰ø°ÊÅØ\"></a>Èü≥ËßÜÈ¢ëÊñá‰ª∂‰ø°ÊÅØ</h2><p>Ëé∑ÂèñËßÜÈ¢ëÊñá‰ª∂ÂêéÔºåÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®Êèê‰æõÁöÑ <code>window.URL.createObjectURL</code> ÁîüÊàêËßÜÈ¢ëÊñá‰ª∂ÁöÑ Blob ÂºïÁî®Âú∞ÂùÄÔºåÂú®È°µÈù¢ÂàõÂª∫Âπ∂ÊåÇËΩΩ <code>&lt;video&gt;</code> Ê†áÁ≠æÔºå ËØªÂèñÂÜÖÂ≠ò‰∏≠ÁöÑËßÜÈ¢ëÊñá‰ª∂ÔºåÂΩì <code>video</code> ÂÆû‰æãËß¶Âèë <code>canplay</code> ‰∫ã‰ª∂ÂêéÂàõÂª∫ Canvas ÁîªÂ∏ÉÔºåÊ†πÊçÆËßÜÈ¢ëÊñá‰ª∂ÂÆΩÈ´òÈÄÇÈÖçÁîªÂ∏ÉÂÆΩÈ´òÔºå</p>\n<p>Âú® <code>video.play</code> Â§ñÂ±ÇÂåÖË£π <code>try...catch</code> Â¶ÇÊûúÊä•ÈîôÂàôËØ¥ÊòéËßÜÈ¢ëÊçüÂùè‰∏çÂèØÊí≠ÊîæÔºåÂê¶ÂàôËØ¥ÊòéËßÜÈ¢ëÊúâÊïà„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> captureImagePreview = <span class=\"keyword\">async</span> (videoFile: File) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    \t(<span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> captureArea = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'captureArea'</span>);</span><br><span class=\"line\">      \t<span class=\"comment\">// Ë¶ÅÊà™ÂõæÁöÑËßÜÈ¢ë</span></span><br><span class=\"line\">      \t<span class=\"keyword\">const</span> video = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'video'</span>);</span><br><span class=\"line\">      \tvideo.muted = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    \t\t<span class=\"comment\">// ÁîüÊàê blob Âú∞ÂùÄ</span></span><br><span class=\"line\">      \t<span class=\"keyword\">const</span> blobUrl = <span class=\"built_in\">window</span>.URL.createObjectURL(videoFile);</span><br><span class=\"line\"></span><br><span class=\"line\">      \tvideo.src = blobUrl;</span><br><span class=\"line\"></span><br><span class=\"line\">    \t\t<span class=\"comment\">// Âú®È¢ÑËÆæÁöÑËäÇÁÇπ‰∏äÊåÇËΩΩ video DOM ËäÇÁÇπ</span></span><br><span class=\"line\">      \tcaptureArea.appendChild(video);</span><br><span class=\"line\"></span><br><span class=\"line\">    \t\t<span class=\"comment\">// ÊåÇËΩΩÂêé‰ºöËá™Âä®Âä†ËΩΩÊú¨Âú∞ÁöÑËßÜÈ¢ëÊñá‰ª∂</span></span><br><span class=\"line\">      \tvideo.addEventListener(<span class=\"string\">'canplay'</span>, e =&gt; &#123;</span><br><span class=\"line\">        \t<span class=\"keyword\">let</span> imgHeight = <span class=\"number\">0</span>,</span><br><span class=\"line\">            imgWidth = <span class=\"number\">0</span>,</span><br><span class=\"line\">            videoWidth = <span class=\"number\">0</span>,</span><br><span class=\"line\">            videoHeight = <span class=\"number\">0</span>;</span><br><span class=\"line\">        \t<span class=\"keyword\">const</span> video: any = e.target;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Âà©Áî® Canvas ÂØπËßÜÈ¢ëÊñá‰ª∂ËøõË°åÊà™Â±è</span></span><br><span class=\"line\">        <span class=\"keyword\">const</span> canvas = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'canvas'</span>);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> canvasCtx = canvas.getContext(<span class=\"string\">'2d'</span>);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> blobUrl = <span class=\"built_in\">window</span>.URL.createObjectURL(videoFile);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Ëé∑ÂèñÂ±ïÁ§∫ÁöÑ video ÂÆΩÈ´ò‰Ωú‰∏∫ÁîªÂ∏ÉÁöÑÂÆΩÈ´òÂíå‰∏¥Êó∂ËßÜÈ¢ëÊà™ÂõæÁöÑÂÆΩÈ´ò</span></span><br><span class=\"line\">        canvas.width = imgWidth = video.offsetWidth;</span><br><span class=\"line\">        canvas.height = imgHeight = video.offsetHeight;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// Ëé∑ÂèñÂÆûÈôÖËßÜÈ¢ëÁöÑÂÆΩÈ´òÔºåÁõ∏ÂΩì‰∫éËßÜÈ¢ëÂàÜËæ®Áéá</span></span><br><span class=\"line\">        videoWidth = video.videoWidth;</span><br><span class=\"line\">        videoHeight = video.videoHeight;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        \t<span class=\"keyword\">await</span> (video <span class=\"keyword\">as</span> HTMLVideoElement).play();</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">        \t<span class=\"keyword\">this</span>.$notification(<span class=\"string\">'Ê†ºÂºèÊúâËØØÔºåËØ∑ÈáçÊñ∞‰∏ä‰º†'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">          resolve(<span class=\"literal\">null</span>);</span><br><span class=\"line\">          <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        video.pause();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// canvas.drawImage ÊñπÊ≥ïÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÂÖÅËÆ∏ÁöÑÂõæÂÉèÊ∫êÂåÖÊã¨ HTMLVideoElement Á≠â</span></span><br><span class=\"line\">        canvasCtx.drawImage(</span><br><span class=\"line\">          video,</span><br><span class=\"line\">          imgWidth - videoWidth,</span><br><span class=\"line\">          (imgHeight - videoHeight) / <span class=\"number\">2</span>,</span><br><span class=\"line\">          videoWidth,</span><br><span class=\"line\">          videoHeight,</span><br><span class=\"line\">          imgWidth - videoWidth,</span><br><span class=\"line\">          (imgHeight - videoHeight) / <span class=\"number\">2</span>,</span><br><span class=\"line\">          videoWidth,</span><br><span class=\"line\">          videoHeight,</span><br><span class=\"line\">        );</span><br><span class=\"line\"></span><br><span class=\"line\">        canvas.toBlob(<span class=\"function\"><span class=\"params\">blob</span> =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">// ËßÜÈ¢ëÂ∞ÅÈù¢Âõæ</span></span><br><span class=\"line\">          <span class=\"keyword\">const</span> url = URL.createObjectURL(blob);</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">const</span> material: Material = &#123;</span><br><span class=\"line\">            <span class=\"comment\">// ËßÜÈ¢ëÊó∂Èïø</span></span><br><span class=\"line\">            duration: video.duration,</span><br><span class=\"line\">            <span class=\"comment\">// ËßÜÈ¢ëÂ∞ÅÈù¢Âõæ Blob Âú∞ÂùÄ</span></span><br><span class=\"line\">            videoCoverUrl: url,</span><br><span class=\"line\">            <span class=\"comment\">// ËßÜÈ¢ëÊñá‰ª∂Âêç</span></span><br><span class=\"line\">            videoName: videoFile.name,</span><br><span class=\"line\">            <span class=\"comment\">// ÁîüÊàê uuid ‰Ωú‰∏∫ videoId</span></span><br><span class=\"line\">            videoId: CommonUtils.generateUUID(),</span><br><span class=\"line\">            <span class=\"comment\">// ËßÜÈ¢ëÁä∂ÊÄÅÔºàËß£Êûê‰∏≠Ôºâ</span></span><br><span class=\"line\">            status: MaterialStatus.Parse,</span><br><span class=\"line\">            file: videoFile,</span><br><span class=\"line\">            <span class=\"comment\">// ËßÜÈ¢ëÂ§ßÂ∞è</span></span><br><span class=\"line\">            fileSize: videoFile.size,</span><br><span class=\"line\">            <span class=\"comment\">// ÊïôÊùê ID</span></span><br><span class=\"line\">            fileId: <span class=\"keyword\">this</span>.aiMatchBordcastService.fileId,</span><br><span class=\"line\">            <span class=\"comment\">// ËßÜÈ¢ëÊñá‰ª∂ Blob Âú∞ÂùÄ</span></span><br><span class=\"line\">            blobUrl: blobUrl,</span><br><span class=\"line\">            <span class=\"comment\">// ÁîüÊàêÊó∂Èó¥</span></span><br><span class=\"line\">            createDttm: +<span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(),</span><br><span class=\"line\">          &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">          resolve(material);</span><br><span class=\"line\"></span><br><span class=\"line\">          captureArea.removeChild(video);</span><br><span class=\"line\">      \t&#125;)();</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Ê∏∏Ê†á\"><a href=\"#Ê∏∏Ê†á\" class=\"headerlink\" title=\"Ê∏∏Ê†á\"></a>Ê∏∏Ê†á</h2><p>Ê∏∏Ê†áÊòØËßÜÈ¢ëÂâ™ËæëËΩØ‰ª∂‰∏≠Áî®‰∫éËæÖÂä©Áî®Êà∑Âø´ÈÄüÂÆö‰ΩçÔºåÂáèÂ∞ëËØØÊìç‰ΩúÁöÑ‰∏ÄÁßçÊâãÊÆµ„ÄÇÂú®Êàë‰ª¨ÁöÑ‰∫ëËßÜÈ¢ëÂâ™ËæëÈÖçÈΩêÂ∑•ÂÖ∑‰∏≠ËÆæËÆ°ÊèêÂá∫‰∫Ü‰∏âÁßçÂäüËÉΩÁöÑÊ∏∏Ê†áÔºåÂàÜÂà´ÊòØÈ¢ÑËßàÊ∏∏Ê†á„ÄÅÂÆö‰ΩçÊ∏∏Ê†áÂíåÁ£ÅÂê∏Ê∏∏Ê†á„ÄÇ</p>\n<h3 id=\"ÂÆö‰ΩçÊ∏∏Ê†á\"><a href=\"#ÂÆö‰ΩçÊ∏∏Ê†á\" class=\"headerlink\" title=\"ÂÆö‰ΩçÊ∏∏Ê†á\"></a>ÂÆö‰ΩçÊ∏∏Ê†á</h3><p><img src=\"https://img.mrsingsing.com/located-cursor.gif\" alt=\"located-cursor\"></p>\n<p>ÂÆö‰ΩçÊ∏∏Ê†áÊòØÁî®‰∫éÂÆö‰ΩçËßÜÈ¢ëÊí≠ÊîæÁöÑ‰ΩçÁΩÆ„ÄÅÊèíÂÖ•‰∫íÂä®ÈîöÁÇπÁöÑ‰ΩçÁΩÆÁöÑÊ†áÁöÑÔºåÂÆö‰ΩçÊ∏∏Ê†áÂú®ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑ‰ΩçÁΩÆÂØπÂ∫îÁùÄÂÆåÊï¥ËßÜÈ¢ëÁöÑÊâÄÂú®ÁöÑÊó∂Èó¥ÁÇπÔºåÂêåÊó∂Êí≠ÊîæÂô®ÂëàÁé∞ÁöÑÁîªÈù¢ÈúÄË¶ÅÂÆöÊ†ºÂú®ÂØπÂ∫îÊó∂Èó¥ÁöÑÁîªÈù¢ÔºåËã•Â§Ñ‰∫éÊí≠Êîæ‰∏≠ËøòÈúÄË¶ÅË∑≥ËΩ¨Âà∞ÊåáÂÆöÊó∂Èó¥ÂºÄÂßãÊí≠Êîæ„ÄÇ</p>\n<p>‰ªé UI Â±ÇÈù¢Êàñ‰∫§‰∫íÂ±ÇÈù¢‰∏äÁöÑÂÆûÁé∞Êù•ÁúãÈöæÂ∫¶Â∞öÂèØÔºå‰ΩÜÂÖ∂ÂÆûÁúüÊ≠£ÂÆûË∑µ‰∏ãÊù•ÔºåÊúÄÂ§ßÁöÑÊåëÊàòËøòÊòØÂ¶Ç‰ΩïÂ§ÑÁêÜÂ•ΩÂêÑÁßçÈÄöÁü•‰∫ã‰ª∂ÂºïËµ∑Ê∏∏Ê†á‰ΩçÁΩÆÁöÑËÅîÂä®„ÄÇ</p>\n<p>ÂÆö‰ΩçÊ∏∏Ê†áÂíåÊ∏∏ËßàÊ∏∏Ê†áÂàÜÂà´ÈááÁî®Èº†Ê†áÁÇπÂáª‰∫ã‰ª∂ÂíåÈº†Ê†áÁßªÂä®‰∫ã‰ª∂Ëß¶ÂèëÔºåÂà©Áî®Èº†Ê†á‰∫ã‰ª∂Ëé∑ÂèñÁöÑÊ∞¥Âπ≥ÊñπÂêëÂÅèÁßªÈáèÂèäÂΩìÂâçÊ∏∏Ê†áÂ∞∫ÊØî‰æãËÆ°ÁÆóÂá∫ÂΩìÂâç‰ΩçÁΩÆÂØπÂ∫îÂÆåÊï¥ÂêàÊàêËßÜÈ¢ëÁöÑÊó∂Èó¥„ÄÇ</p>\n<p>Âè¶Â§ñ‰∏∫‰∫ÜÂáèÂ∞ëËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑÂõûÊµÅÔºåÈááÁî®ÁªùÂØπÂÆö‰ΩçÂíå transform: translateX() ÁöÑÊñπÂºèÁõ∏ÂØπ‰∫éËΩ®ÈÅìÊªëÂä®Âå∫ÂüüÂºÄÁ´ØËøõË°åÊ∞¥Âπ≥ÊñπÂêëÂÅèÁßª„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> CONSTANTS = &#123;</span><br><span class=\"line\">  <span class=\"comment\">/** Ê∏∏Ê†áÂ∞∫Êï¥Êï∞ÂàªÂ∫¶Âç†ÊçÆÁöÑÂÉèÁ¥†ÂÄº */</span></span><br><span class=\"line\">  RULER_INTEGER_SPACING: <span class=\"number\">80</span>,</span><br><span class=\"line\">  <span class=\"comment\">/** Ê†áÁöÑÂÖÉÁ¥†Èó¥Ë∑ùÂÆΩÂ∫¶ */</span></span><br><span class=\"line\">  INDICATOR_WIDTH: <span class=\"number\">30</span>,</span><br><span class=\"line\">  <span class=\"comment\">/** ÂÆö‰ΩçÊ∏∏Ê†áÁöÑÂàùÂßãÂÄº */</span></span><br><span class=\"line\">  CURSOR_INITIAL_VALUE: <span class=\"number\">31</span>,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> handleLocatedCursoRedirect = (&#123;</span><br><span class=\"line\">    cursorShift = CONSTANTS.CURSOR_INITIAL_VALUE,</span><br><span class=\"line\">    duration,</span><br><span class=\"line\">    frameBeginTime,</span><br><span class=\"line\">    framework,</span><br><span class=\"line\">    anchor = <span class=\"literal\">null</span>,</span><br><span class=\"line\">  &#125;) =&gt; &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (!cursorShift) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ËΩ®ÈÅìÁ©∫ÁΩÆÊó∂Ôºå‰∏çËÆæÁΩÆÂÆö‰ΩçÊ∏∏Ê†á</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.videoTrackList.length) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentDuration = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.setLocatedCursor = <span class=\"literal\">null</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentLocatedBeginTime = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentLocatedFramework = <span class=\"literal\">null</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentLocatedAnchor = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.setLocationInfo();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">let</span> currentDuration = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// ËÆ°ÁÆóÂΩìÂâçÂÆö‰ΩçÊ∏∏Ê†áÊâÄÂú®ÁöÑÊó∂Èó¥</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (CommonUtils.isDefined(duration)) &#123;</span><br><span class=\"line\">      currentDuration = duration;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// Èº†Ê†áÁÇπÂáªÂå∫ÂüüÂØπÂ∫îÁöÑÊó∂Èó¥</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> mouseDuration =</span><br><span class=\"line\">        ((((cursorShift - CONSTANTS.CURSOR_INITIAL_VALUE) / CONSTANTS.RULER_INTEGER_SPACING) * <span class=\"keyword\">this</span>.scaleRatio).toFixed(<span class=\"number\">2</span>) <span class=\"keyword\">as</span> any) * <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Ë∂ÖÂá∫ËßÜÈ¢ëÊ°ÜÊû∂Âå∫ÂüüÔºåËá™Âä®ÂÆö‰ΩçÂà∞Ê°ÜÊû∂Âå∫ÂüüÊú´Â∞æ</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (mouseDuration &gt;= <span class=\"keyword\">this</span>.totalDuration) &#123;</span><br><span class=\"line\">        currentDuration = <span class=\"keyword\">this</span>.totalDuration;</span><br><span class=\"line\">        cursorShift =</span><br><span class=\"line\">          <span class=\"keyword\">this</span>.lastFrameworkClientRect.left - <span class=\"keyword\">this</span>.indicatorClientRect.left + <span class=\"keyword\">this</span>.lastFrameworkClientRect.width;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        currentDuration = mouseDuration;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÂÆö‰ΩçÊ∏∏Ê†áÂΩìÂâçÊó∂Èó¥</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentDuration = currentDuration;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÂèòÊõ¥ÂÆö‰ΩçÊ∏∏Ê†á‰ΩçÁΩÆ</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.setLocatedCursor = cursorShift;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Ê†πÊçÆÂÆö‰ΩçÊ∏∏Ê†á‰ΩçÁΩÆËé∑ÂèñÊ∏∏Ê†áÊâÄÂú®Ê°ÜÊû∂Êï∞ÊçÆ„ÄÅÁõ∏ÂØπ‰∫éÊ°ÜÊû∂ÁöÑÂºÄÂßãÊó∂Èó¥ÂíåÈîöÁÇπÊï∞ÊçÆ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!framework) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> &#123; frameBeginTime, frameworkId, anchorId &#125; = <span class=\"keyword\">this</span>.getFrameworkInfoByDuration(cursorShift);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.currentLocatedBeginTime = frameBeginTime;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.currentLocatedFramework = <span class=\"keyword\">this</span>.videoTrackList.find(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item.id === frameworkId);</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.currentLocatedAnchor = anchorId</span><br><span class=\"line\">          ? <span class=\"keyword\">this</span>.videoTrackList.find(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> item.id === frameworkId).dataList.find(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> <span class=\"string\">`<span class=\"subst\">$&#123;item.id&#125;</span>`</span> === anchorId)</span><br><span class=\"line\">          : <span class=\"literal\">null</span>;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">catch</span> (err) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(err);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// ÂΩìÂâçÊ∏∏Ê†áÂÆö‰ΩçÂú®Ê°ÜÊû∂ÂÜÖÁöÑÂºÄÂßãÊó∂Èó¥</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentLocatedBeginTime = frameBeginTime;</span><br><span class=\"line\">      <span class=\"comment\">// ÂΩìÂâçÊ∏∏Ê†áÂÆö‰ΩçÊâÄÂú®ÁöÑÊ°ÜÊû∂</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentLocatedFramework = framework;</span><br><span class=\"line\">      <span class=\"comment\">// ÂΩìÂâçÊúâÊ†áÂÆö‰ΩçÊâÄÂú®ÁöÑÈîöÁÇπ</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentLocatedAnchor = anchor;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  \t<span class=\"comment\">// ‰øùÂ≠òÂΩìÂâç‰ΩçÁΩÆ‰ø°ÊÅØ</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.setLocationInfo();</span><br><span class=\"line\"></span><br><span class=\"line\">  \t<span class=\"comment\">// ËøîÂõûÂΩìÂâçÊ∏∏Ê†áÂØπÂ∫îÁöÑÊó∂Èó¥</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> currentDuration;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"È¢ÑËßàÊ∏∏Ê†á\"><a href=\"#È¢ÑËßàÊ∏∏Ê†á\" class=\"headerlink\" title=\"È¢ÑËßàÊ∏∏Ê†á\"></a>È¢ÑËßàÊ∏∏Ê†á</h3><p><img src=\"https://img.mrsingsing.com/preview-cursor.gif\" alt=\"preview-cursor\"></p>\n<p>ÂΩìÈº†Ê†áËøõÂÖ•ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÔºåÂ∞±‰ºöËá™Âä®Ë∑üÈöè‰∏ÄÊ†πÈ¢ÑËßàÊ∏∏Ê†áÔºåÈ¢ÑËßàÊ∏∏Ê†áÊâÄÂà∞‰πãÂ§ÑÔºåÊí≠ÊîæÂô®ÈúÄË¶ÅÂ±ïÁ§∫ËØ•Êó∂Èó¥‰ΩçÁΩÆÂØπÂ∫îÁöÑÁîªÈù¢„ÄÇÊâÄ‰ª•Ê≠§Â§ÑÂè™ÈúÄË¶ÅÁõëÂê¨ <code>mousenter</code> Èº†Ê†áËøõÂÖ•ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÔºåÂà©Áî® <code>mousemove</code> ÂÆûÊó∂ÂèòÊõ¥È¢ÑËßàÊ∏∏Ê†áÂÅèÁßªÂÄºÔºåÂπ∂Ë∞ÉÁî®Êí≠ÊîæÂô®ÁªÑ‰ª∂ÂèòÊõ¥È¢ÑËßàÁîªÈù¢ÔºåÂΩìÁÑ∂Áî±‰∫éÈº†Ê†á‰∫ã‰ª∂Ëß¶ÂèëÈ¢ëÁéáÈ´òÔºåÈúÄË¶ÅÂØπË∞ÉÁî®È¢ÑËßàÊñπÊ≥ïËøõË°åÈò≤ÊäñÊìç‰ΩúÔºåÂΩì <code>mouseleave</code> Á¶ªÂºÄÂ∑•‰ΩúÂå∫Êó∂ÈöêËóèÈ¢ÑËßàÊ∏∏Ê†á„ÄÇ</p>\n<h3 id=\"Á£ÅÂê∏Ê∏∏Ê†á\"><a href=\"#Á£ÅÂê∏Ê∏∏Ê†á\" class=\"headerlink\" title=\"Á£ÅÂê∏Ê∏∏Ê†á\"></a>Á£ÅÂê∏Ê∏∏Ê†á</h3><p><img src=\"https://img.mrsingsing.com/magnet-cursor.gif\" alt=\"magnet-cursor\"></p>\n<p>ÂΩìÁî®Êà∑ÊãñÊãΩËßÜÈ¢ëÁ¥†ÊùêÂà∞ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÔºåÊàñÊãñÊãΩÂ∑•‰ΩúÂå∫Ê°ÜÊû∂ËøõË°åÊéíÂ∫èÊìç‰ΩúÔºåÈúÄË¶ÅÂú®ÂÆåÊï¥ËßÜÈ¢ëÂºÄÁ´Ø„ÄÅÁªìÂ∞æÂèäÊ°ÜÊû∂‰∏éÊ°ÜÊû∂‰πãÈó¥Ë°îÊé•Â§ÑÊòæÁ§∫ÁªøËâ≤Á£ÅÂê∏Ê∏∏Ê†áÔºåÊñπ‰æøÁî®Êà∑ÂÆö‰ΩçÊãñÊãΩÁöÑÁ¥†ÊùêÊúÄÁªàÂú®ËΩ®ÈÅìÂ∑•‰ΩúÂå∫‰∏≠ÊèíÂÖ•ÁöÑ‰ΩçÁΩÆ„ÄÇ</p>\n<p>ËøôÈáåÁöÑÂÆûÁé∞ÊñπÂºèÊòØÔºåÂΩìÊ£ÄÊµãÂà∞Áî®Êà∑ÂºÄÂßãÊãñÊãΩÂä®‰ΩúÊó∂ÔºåÈÄöÁü•ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁîüÊàêÊâÄÊúâÁ£ÅÂê∏Âå∫ÂüüÁöÑÂùêÊ†á‰ø°ÊÅØÂàóË°®ÔºåÂπ∂Âú® DOM ‰∏≠ÁîüÊàêÂØπÂ∫îÊï∞ÈáèÁöÑÁ£ÅÂê∏Âå∫Âüü„ÄÇ</p>\n<p>‰∏∫‰∫ÜÊñπ‰æøÁêÜËß£Ôºå‰∏ãÂõæÁ∫¢Ëâ≤Âå∫Âüü‰∏∫ÂºÄÂßãÊãñÊãΩÂêéÁîüÊàêÁöÑÁ£ÅÂê∏Âå∫Âüü„ÄÇ‰∏∫‰∫ÜÂáèÂ∞ëÊìç‰ΩúÂØºËá¥È°µÈù¢È¢ëÁπÅÈáçÊéíÈáçÁªòÁöÑÈóÆÈ¢òÔºåÊâÄÊúâÁîüÊàêÁöÑÂÖÉÁ¥†ÈÉΩÊòØÂü∫‰∫éÂü∫ÁÇπËøõË°å <code>translate</code> ‰æøÂÅèÁßª„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/magnet-area.png\" alt=\"magnet-area\"></p>\n<p>‰Ω†ËÇØÂÆö‰ºöÊúâÁñëÈóÆÔºå‰∏∫‰ªÄ‰πàÁ£ÅÂê∏Âå∫ÂüüËÉΩÊ£ÄÊµãÂà∞ÊãñÊãΩÂÖÉÁ¥†‰Ωç‰∫é‰∏äÊñπÔºåËøô‰∏éÊãñÊãΩÊåá‰ª§ÁöÑÂÆûÁé∞ÊúâÂÖ≥ÔºåÂèØ‰ª•ÁïôÊÑèÂêéÈù¢ÂØπÊãñÊãΩÊåá‰ª§ÁöÑËØ¶ÁªÜËØ¥Êòé„ÄÇ</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Á£ÅÂê∏Âå∫Âüü</span></span><br><span class=\"line\"><span class=\"selector-class\">.magnet-area-item</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">box-sizing</span>: border-box;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">max-width</span>: <span class=\"number\">80px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">1450</span>;</span><br><span class=\"line\">  <span class=\"comment\">/* Êñπ‰æøÊü•ÁúãÊïàÊûú */</span></span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: rgba(<span class=\"number\">255</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.3</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"selector-tag\">&amp;</span><span class=\"selector-class\">.first</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: translate3d(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-tag\">&amp;</span><span class=\"selector-class\">.active</span> &#123;</span><br><span class=\"line\">      <span class=\"selector-class\">.magnet-area-cursor</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attribute\">transform</span>: none;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"selector-tag\">&amp;</span><span class=\"selector-class\">.last</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: translate3d(-<span class=\"number\">100%</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-tag\">&amp;</span><span class=\"selector-class\">.active</span> &#123;</span><br><span class=\"line\">      <span class=\"selector-class\">.magnet-area-cursor</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">left</span>: initial;</span><br><span class=\"line\">        <span class=\"attribute\">right</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attribute\">transform</span>: none;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"selector-tag\">&amp;</span><span class=\"selector-class\">.active</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Á£ÅÂê∏Ê∏∏Ê†á</span></span><br><span class=\"line\">    <span class=\"selector-class\">.magnet-area-cursor</span> &#123;</span><br><span class=\"line\">      <span class=\"attribute\">content</span>: <span class=\"string\">''</span>;</span><br><span class=\"line\">      <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">      <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"attribute\">left</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">      <span class=\"attribute\">width</span>: <span class=\"number\">2px</span>;</span><br><span class=\"line\">      <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">      <span class=\"attribute\">background-color</span>: <span class=\"number\">#1db368</span>;</span><br><span class=\"line\">      <span class=\"attribute\">transform</span>: translateX(-<span class=\"number\">50%</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> initMagnetArea = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">this</span>.currentMagnetAreaList = [];</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Âà©Áî®ÂÆö‰ΩçÂÖÉÁ¥†ÔºàËΩ®ÈÅìÂàóË°®ÂâçÁî®‰∫éÂç†‰ΩçÁöÑÁ©∫ÂÖÉÁ¥†ÔºâËé∑ÂèñÂΩìÂâçËΩ®ÈÅìÂå∫Âüü‰∏≠ÊâÄÊúâÁöÑËßÜÈ¢ëÊ°ÜÊû∂ÁöÑ DOM ÂÖÉÁ¥†ÂºïÁî®</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> frameworkList = <span class=\"keyword\">this</span>.indicatorRef.nativeElement.parentElement.querySelectorAll(</span><br><span class=\"line\">    <span class=\"string\">'.framework-item'</span>,</span><br><span class=\"line\">  ) <span class=\"keyword\">as</span> NodeListOf&lt;HTMLDivElement&gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">const</span> indicatorLeft = <span class=\"keyword\">this</span>.indicatorClientRect.left;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">this</span>.currentMagnetAreaList = <span class=\"built_in\">Array</span>.from(frameworkList).reduce(</span><br><span class=\"line\">    (acc: any, <span class=\"attr\">item</span>: HTMLDivElement, <span class=\"attr\">index</span>: number) =&gt; &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Ëé∑ÂèñÂçï‰∏™ËßÜÈ¢ëÊ°ÜÊû∂ÂØπÂ∫î DOM ÂÖÉÁ¥†ÁöÑÂ§ßÂ∞èÂèäËßÜÂè£‰ΩçÁΩÆ</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> frameworkRect = item.getBoundingClientRect();</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// ÁîüÊàêÁ£ÅÂê∏Âå∫ÂüüÁöÑÂÆΩÂ∫¶</span></span><br><span class=\"line\">      <span class=\"comment\">// Áî±‰∫é‰∏çÂêåÊó∂Èïø‰∏çÂêåÊØî‰æã‰∏ãÊ°ÜÊû∂ÂÆûÈôÖÁöÑÂÆΩÂ∫¶‰∏ç‰∏ÄËá¥</span></span><br><span class=\"line\">      <span class=\"comment\">// Ëã•‰ΩøÁî®ËøáÂ∞èÁöÑÔºàÂõ∫ÂÆöÔºâÂÆΩÂ∫¶‰Ωú‰∏∫Á£ÅÂê∏Âå∫ÂüüÔºå‰ºöÂØºËá¥Âú®ËæÉÂ§ßÂÆΩÂ∫¶ÁöÑÊ°ÜÊû∂‰∏≠ÈúÄË¶ÅÊõ¥Èù†Ëøë‰∏§Ê°ÜÊû∂Ë°îÊé•Â§ÑÊâçËÉΩÊòæÁ§∫Á£ÅÂê∏Ê∏∏Ê†á</span></span><br><span class=\"line\">      <span class=\"comment\">// ÊâÄ‰ª•ËøôÈáåÂèñÊ°ÜÊû∂ÂÆΩÂ∫¶ÁöÑ 30% ‰Ωú‰∏∫Á£ÅÂê∏Âå∫ÂüüÂú®ÂΩìÂâçÊ°ÜÊû∂Âå∫ÂüüÊâÄÂç†ÁöÑÂÆΩÂ∫¶</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> currentWidth = frameworkRect.width * <span class=\"number\">0.3</span>;</span><br><span class=\"line\">      <span class=\"comment\">// Á£ÅÂê∏Âå∫ÂüüÂÆΩÂ∫¶</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> areaWidth = index === <span class=\"number\">0</span> ? currentWidth : currentWidth + acc.prevWidth;</span><br><span class=\"line\">      <span class=\"comment\">// Á£ÅÂê∏Ê∏∏Ê†áÂú®Á£ÅÂê∏Âå∫ÂüüÁöÑÂÅèÁßªÈáè</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> areaShift = index === <span class=\"number\">0</span> ? <span class=\"number\">0</span> : (acc.prevWidth / areaWidth) * <span class=\"number\">100</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      acc.list.push(&#123;</span><br><span class=\"line\">        id: item.dataset.id,</span><br><span class=\"line\">        areaWidth: areaWidth,</span><br><span class=\"line\">        areaTranform: <span class=\"string\">`translateX(-<span class=\"subst\">$&#123;areaShift&#125;</span>%)`</span>,</span><br><span class=\"line\">        areaLeft: frameworkRect.left - indicatorLeft + <span class=\"string\">'px'</span>,</span><br><span class=\"line\">        cursorLeft: areaShift + <span class=\"string\">'%'</span>,</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// ÊúÄÂêé‰∏ÄÁâáÁ£ÅÂê∏Âå∫ÂüüÔºåÊòØÊúÄÂêé‰∏Ä‰∏™ËßÜÈ¢ëÊ°ÜÊû∂ÁöÑÊúÄÂêé 30% ÁöÑÂå∫Âüü</span></span><br><span class=\"line\">      <span class=\"comment\">// ÊãñÊãΩÁ¥†ÊùêÊñ∞Â¢ûËßÜÈ¢ëÊ°ÜÊû∂ÔºåÁõ∏ÂΩì‰∫éÂú®ÂàóË°®Êú´Â∞æÊñ∞Â¢û</span></span><br><span class=\"line\">      <span class=\"comment\">// ÊãñÊãΩÊ°ÜÊû∂ÊéíÂ∫èÔºåÁõ∏ÂΩì‰∫éÊääÂéü‰ΩçÁΩÆÊ°ÜÊû∂ÁΩÆ‰∫éÂàóË°®Êú´Â∞æ</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (index === frameworkList.length - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">        acc.list.push(&#123;</span><br><span class=\"line\">          id: <span class=\"literal\">null</span>,</span><br><span class=\"line\">          areaWidth: currentWidth,</span><br><span class=\"line\">          areaTranform: <span class=\"string\">'translateX(-100%)'</span>,</span><br><span class=\"line\">          areaLeft: frameworkRect.right - indicatorLeft + <span class=\"string\">'px'</span>,</span><br><span class=\"line\">          cursorLeft: <span class=\"string\">'initial'</span>,</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      acc.prevWidth = currentWidth;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">return</span> acc;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      list: [],</span><br><span class=\"line\">      <span class=\"comment\">// ‰∏ä‰∏™Ê°ÜÊû∂Á¢∞ÊíûÂå∫ÂüüÁöÑÂÆΩÂ∫¶</span></span><br><span class=\"line\">      <span class=\"comment\">//ÔºàÊØè‰∏™Ê°ÜÊû∂ÊúâÈ¶ñÂ∞æ‰∏§‰∏™Á¢∞ÊíûÂå∫ÂüüÔºåÂêÑÂç†Ê°ÜÊû∂ÂÆΩÂ∫¶ 30%ÔºåÊÄªÂç†Ê°ÜÊû∂ÂÆΩÂ∫¶ 60%Ôºâ</span></span><br><span class=\"line\">      prevWidth: <span class=\"literal\">null</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ).list;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Ê∏∏Ê†áÂ∞∫\"><a href=\"#Ê∏∏Ê†áÂ∞∫\" class=\"headerlink\" title=\"Ê∏∏Ê†áÂ∞∫\"></a>Ê∏∏Ê†áÂ∞∫</h2><p>Ê∏∏Ê†áÂ∞∫ÊòØËßÜÈ¢ëÂâ™ËæëËΩØ‰ª∂‰∏≠‰ª•Êó∂Èó¥Ê†áËÆ∞ÂàªÂ∫¶ÁöÑÊ†áÂ∞∫„ÄÇÊàëÁ†îÁ©∂‰∫ÜÁ±ª‰ººÁöÑ Web ÁΩëÈ°µ‰∫ëÂâ™ËæëÂ∫îÁî®ÔºåÊúâ‰∏§ÁßçÂÆûÁé∞ÊñπÂºèÔºö</p>\n<ol>\n<li>Âà©Áî® Canvas ÁªòÂà∂ÂàªÂ∫¶Â∞∫ÔºàBilibili ‰∫ëÂâ™ËæëÔºâ</li>\n<li>Âà©Áî® DOM ÁªòÂà∂ÂàªÂ∫¶Â∞∫ÔºåÈááÁî®Á±ª‰ººËôöÊãüÂàóË°®ÁöÑÊñπÂºèÂ§ÑÁêÜÊµ∑ÈáèÁöÑ DOM ËäÇÁÇπÔºàËÖæËÆØ‰∫ëÂâ™ËæëÔºâ</li>\n</ol>\n<p><img src=\"https://img.mrsingsing.com/ruler1.gif\" alt=\"ruler1\"></p>\n<p><img src=\"https://img.mrsingsing.com/ruler2.gif\" alt=\"ruler2\"></p>\n<p>ÂÆûÁé∞ÊÄùË∑ØÔºö</p>\n<ol>\n<li>ÂàõÂª∫ <code>&lt;canvas&gt;</code> Âπ∂Ê†πÊçÆÂΩìÂâçËÆæÂ§á DPR ÊåâÊØî‰æãÁº©ÊîæÁîªÂ∏ÉÂ∞∫ÂØ∏</li>\n<li>Ê†πÊçÆÂΩìÂâçËΩ®ÈÅìÂå∫ÂüüÊâÄÊúâÂàÜÊÆµËßÜÈ¢ëÊó∂ÈïøÔºåËÆ°ÁÆóÂá∫ÊÄªÊó∂ÈïøÔºà‰∏çË∂≥‰∏§Â∞èÊó∂ÊòæÁ§∫‰∏§Â∞èÔºåÂ§ß‰∫é‰∏§Â∞èÊó∂ÔºåÊåâÊãºÊé•ÈïøÂ∫¶Â¢ûÈïøÔºâÔºå‰ªéËÄåËÆ°ÁÆóÂá∫Ê∏∏Ê†áÂ∞∫‰∏≠ÊòæÁ§∫ÂàªÂ∫¶ÁöÑÊÄªÊï∞</li>\n<li>Âæ™ÁéØÈÅçÂéÜ‰æùÊ¨°ÂØπ Canvas ÁªòÂà∂ÊåáÈíàËøõË°åÁßªÂä®ÔºåÂèñÊ®°Âà§Êñ≠ÊòØÊï¥Êï∞ÂàªÂ∫¶ËøòÊòØÂ∞èÊï∞ÂàªÂ∫¶ÔºåÂπ∂ÁªòÂà∂Áõ∏ÂØπÂ∫îÁöÑÂàªÂ∫¶Á∫øÔºåÁõ¥Âà∞ÊâÄÊúâÊï∞ÈÅçÂéÜÂÆåÊàê</li>\n<li>ÊúÄÂêéÊ†πÊçÆÊØî‰æãÂ∞∫ËÆ°ÁÆóÊï¥Êï∞ÂàªÂ∫¶ÊòæÁ§∫ÁöÑÊó∂Èó¥ÊñáÊ°à</li>\n</ol>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> RecordVideoTimelineRulerComponent <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"comment\">/** ÊØî‰æãÂ∞∫ */</span></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  scaleRatio: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  <span class=\"comment\">/** ÊúÄÂ§ßÂàªÂ∫¶Êï∞Èáè */</span></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  maxScaleValue: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  <span class=\"comment\">/** Ê∏∏Ê†áÂ∞∫ÂÆΩÂ∫¶ */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> canvasWidth: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  <span class=\"comment\">/** Ê∏∏Ê†áÂ∞∫ÁîªÂ∏É DOM ÂÖÉÁ¥†ÂºïÁî® */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> canvasElement: HTMLCanvasElement;</span><br><span class=\"line\">  <span class=\"comment\">/** Ê∏∏Ê†áÂ∞∫ÁîªÂ∏É‰∏ä‰∏ãÊñáÂºïÁî® */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> canvasContext: CanvasRenderingContext2D;</span><br><span class=\"line\"></span><br><span class=\"line\">  ngOnInit(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.initCanvas();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  ngOnChanges(changes: &#123; [propName: <span class=\"built_in\">string</span>]: SimpleChange &#125;) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> scaleRatio = changes[<span class=\"string\">'scaleRatio'</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      scaleRatio &amp;&amp;</span><br><span class=\"line\">      (!scaleRatio.previousValue || scaleRatio.previousValue !== scaleRatio.currentValue)</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.drawCanvas();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÂàùÂßãÂåñÂàªÂ∫¶Â∞∫</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  initCanvas(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> canvas = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'canvas'</span>) <span class=\"keyword\">as</span> HTMLCanvasElement;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.canvasElement = canvas;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> ctx = canvas.getContext(<span class=\"string\">'2d'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.canvasContext = ctx;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> documentBodyWidth = <span class=\"built_in\">document</span>.body.clientWidth || <span class=\"built_in\">document</span>.documentElement.clientWidth;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.canvasWidth = documentBodyWidth;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.devicePixelRatio) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> devicePixelRatio = <span class=\"built_in\">window</span>.devicePixelRatio;</span><br><span class=\"line\"></span><br><span class=\"line\">      canvas.width = devicePixelRatio * <span class=\"keyword\">this</span>.canvasWidth;</span><br><span class=\"line\">      canvas.height = devicePixelRatio * <span class=\"number\">26</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// ÊåâÁÖßÊØî‰æãÁº©Êîæ</span></span><br><span class=\"line\">      ctx.scale(devicePixelRatio, devicePixelRatio);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.drawCanvas();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÁªòÂà∂ÂàªÂ∫¶Â∞∫</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  drawCanvas(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> scrollX = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> ctx = <span class=\"keyword\">this</span>.canvasContext;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!ctx) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> canvasWidth = <span class=\"keyword\">this</span>.canvasWidth;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> canvasHeight = <span class=\"number\">26</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Ê∞¥Âπ≥ÊñπÂêëÂÅèÁßªÈáè</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> offsetX = (scrollX ? <span class=\"number\">30</span> - scrollX : <span class=\"number\">30</span>) + <span class=\"number\">0.5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÊúÄÂ§ßÂàªÂ∫¶ÂÄºÔºàÂΩìÂâçÊòæÁ§∫ÁöÑÊúÄÂ§ßÂàªÂ∫¶ÂÄºÔºâ</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> totalScaleValue = <span class=\"keyword\">this</span>.maxScaleValue;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> startCount = <span class=\"built_in\">Math</span>.max(<span class=\"built_in\">parseInt</span>(<span class=\"string\">''</span> + <span class=\"built_in\">Math</span>.floor((scrollX - <span class=\"number\">30</span>) / <span class=\"number\">16</span>), <span class=\"number\">10</span>), <span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> endCount = <span class=\"built_in\">Math</span>.min(</span><br><span class=\"line\">      <span class=\"built_in\">parseInt</span>(<span class=\"string\">''</span> + <span class=\"built_in\">Math</span>.ceil((scrollX + canvasWidth - <span class=\"number\">30</span>) / <span class=\"number\">16</span>), <span class=\"number\">10</span>) - <span class=\"number\">1</span>,</span><br><span class=\"line\">      totalScaleValue</span><br><span class=\"line\">    );</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÊØè‰∏™ÂàªÂ∫¶ÂÄºÁöÑË∑ùÁ¶ª ÂàÜÂâ≤Á∫ø</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> division = <span class=\"number\">15</span>;</span><br><span class=\"line\">    <span class=\"comment\">// Êï¥Êï∞ÂàªÂ∫¶È´òÂ∫¶</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> integerHeight = <span class=\"number\">14</span> || <span class=\"built_in\">Math</span>.floor(canvasHeight * <span class=\"number\">0.53</span>);</span><br><span class=\"line\">    <span class=\"comment\">// ÂàÜÂ∫¶ÂÄºÂàªÂ∫¶È´òÂ∫¶</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> divisionHeight = <span class=\"number\">8</span> || <span class=\"built_in\">Math</span>.floor(canvasHeight * <span class=\"number\">0.3</span>);</span><br><span class=\"line\">    <span class=\"comment\">// Êï¥Êï∞ÂàªÂ∫¶‰∏ãÁöÑÊñáÊ°àÈ´òÂ∫¶</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> textHeight = <span class=\"number\">21</span> || <span class=\"built_in\">Math</span>.floor(canvasHeight * <span class=\"number\">0.78</span>);</span><br><span class=\"line\">    <span class=\"comment\">// ÊØèÊÆµÊï¥Êï∞ÂàªÂ∫¶‰ª£Ë°®ÁöÑÁßíÊï∞ÊØî‰æã</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> scaleRatio = <span class=\"keyword\">this</span>.scaleRatio;</span><br><span class=\"line\"></span><br><span class=\"line\">    ctx.clearRect(<span class=\"number\">0</span>, <span class=\"number\">0</span>, canvasWidth, canvasHeight);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÂΩìÂàªÂ∫¶ÂÄºË∂≥Â§üÂ§ßÁöÑÊó∂ÂÄôÔºåÂè™ÁªòÂà∂ÂèØËßÜËåÉÂõ¥ÂÜÖÁöÑÂàªÂ∫¶ÂÄº</span></span><br><span class=\"line\">    <span class=\"comment\">// ÁîªÂàªÂ∫¶Á∫ø</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = startCount; i &lt; endCount; i++) &#123;</span><br><span class=\"line\">      ctx.beginPath();</span><br><span class=\"line\">      ctx.save();</span><br><span class=\"line\">      ctx.strokeStyle = <span class=\"string\">'#595959'</span>;</span><br><span class=\"line\">      ctx.lineWidth = <span class=\"number\">1</span>;</span><br><span class=\"line\">      ctx.lineCap = <span class=\"string\">'round'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> moveTo = offsetX + i * (division + <span class=\"number\">1</span>);</span><br><span class=\"line\">      ctx.moveTo(moveTo, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (i % <span class=\"number\">5</span> === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        ctx.lineTo(offsetX + i * (division + <span class=\"number\">1</span>), integerHeight);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        ctx.lineTo(offsetX + i * (division + <span class=\"number\">1</span>), divisionHeight);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      ctx.stroke();</span><br><span class=\"line\">      ctx.restore();</span><br><span class=\"line\">      ctx.closePath();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Êï¥Êï∞ÂàªÂ∫¶ÊñáÊ°à</span></span><br><span class=\"line\">    ctx.beginPath();</span><br><span class=\"line\">    ctx.font = <span class=\"string\">'10px Arial'</span>;</span><br><span class=\"line\">    ctx.fillStyle = <span class=\"string\">'#AAAAAA'</span>;</span><br><span class=\"line\">    ctx.textAlign = <span class=\"string\">'center'</span>;</span><br><span class=\"line\">    ctx.textBaseline = <span class=\"string\">'middle'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> seperatedScaleValue = totalScaleValue / <span class=\"number\">5</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; seperatedScaleValue; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> text = <span class=\"keyword\">this</span>.formatTimeScaleText(i, scaleRatio);</span><br><span class=\"line\">      ctx.fillText(text, offsetX + <span class=\"number\">80</span> * i, textHeight);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    ctx.closePath();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ê†πÊçÆÊ≠£Êï¥Êï∞Á¥¢ÂºïÂíåÊØî‰æãÂ∞∫Ê†ºÂºèÂåñÊòæÁ§∫Êó∂Èó¥</span></span><br><span class=\"line\"><span class=\"comment\">   * @param index ÂàªÂ∫¶Â∞∫Á¥¢ÂºïÔºà‰ªé 0 ÂºÄÂßãÔºâ</span></span><br><span class=\"line\"><span class=\"comment\">   * @param ratio ÊØè‰∏™Êï¥Êï∞ÂàªÂ∫¶‰πãÈó¥ÁöÑÊó∂Èó¥ÈïøÂ∫¶Ôºà‰ª•Áßí‰∏∫Âçï‰ΩçÔºâ</span></span><br><span class=\"line\"><span class=\"comment\">   * @description Â∞Ü‰ª•Áßí‰∏∫Âçï‰ΩçÁöÑÊï∞ÂÄºËΩ¨Âåñ‰∏∫ HH:MM:SS.ss Ê†ºÂºèÁöÑÊó∂Èó¥Â≠óÁ¨¶‰∏≤</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  formatTimeScaleText(index: <span class=\"built_in\">number</span>, ratio: <span class=\"built_in\">number</span>): <span class=\"built_in\">string</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> totalSeconds = index * ratio;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">let</span> hour: <span class=\"built_in\">number</span> | <span class=\"built_in\">string</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> minute: <span class=\"built_in\">number</span> | <span class=\"built_in\">string</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> second: <span class=\"built_in\">number</span> | <span class=\"built_in\">string</span> = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> millisecond = <span class=\"string\">'00'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    hour = <span class=\"built_in\">Math</span>.floor(totalSeconds / <span class=\"number\">3600</span>);</span><br><span class=\"line\">    minute = <span class=\"built_in\">Math</span>.floor((totalSeconds - hour * <span class=\"number\">3600</span>) / <span class=\"number\">60</span>);</span><br><span class=\"line\">    second = ratio &gt;= <span class=\"number\">60</span> ? <span class=\"number\">0</span> : <span class=\"built_in\">Math</span>.floor(totalSeconds - hour * <span class=\"number\">3600</span> - minute * <span class=\"number\">60</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    hour = <span class=\"keyword\">this</span>.fixZero(hour);</span><br><span class=\"line\">    minute = <span class=\"keyword\">this</span>.fixZero(minute);</span><br><span class=\"line\">    second = <span class=\"keyword\">this</span>.fixZero(second);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">`<span class=\"subst\">$&#123;hour&#125;</span>:<span class=\"subst\">$&#123;minute&#125;</span>:<span class=\"subst\">$&#123;second&#125;</span>.<span class=\"subst\">$&#123;millisecond&#125;</span>`</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ë°•Èõ∂ÂáΩÊï∞ÔºàÂè™ÊîØÊåÅ‰∏™‰ΩçÊï∞Ë°•Èõ∂‰∏∫ÂçÅ‰ΩçÊï∞Ôºâ</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  fixZero(value: <span class=\"built_in\">any</span>): <span class=\"built_in\">string</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value * <span class=\"number\">1</span> &lt; <span class=\"number\">10</span> ? <span class=\"string\">`0<span class=\"subst\">$&#123;value&#125;</span>`</span> : <span class=\"string\">`<span class=\"subst\">$&#123;value&#125;</span>`</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ËøôÈáåÁöÑÊØî‰æãÂ∞∫ËôΩÁÑ∂ÂèØ‰ª•ÈÄöËøáÊªëÂä®ËøõË°åËÆæÁΩÆÔºå‰ΩÜÊòØ‰∏∫‰∫ÜÂáÜÁ°ÆËÆ°ÁÆóÔºåÊàë‰ª¨Âè™Êèê‰æõ‰∫ÜÂá†‰∏™Âõ∫ÂÆöÁöÑÊ°£‰Ωç„ÄÇ</p>\n<p>ËøôÈáåÁöÑÊØî‰æãÂ∞∫‰ª£Ë°®ÁöÑÊòØÊ∏∏Ê†áÂ∞∫‰∏≠‰∏Ä‰∏™ÂÆåÊï¥Â§ßÂàªÂ∫¶‰πãÈó¥ÊâÄ‰ª£Ë°®ÁöÑÊó∂Èó¥ÔºåÂπ∂‰ª•Áßí‰Ωú‰∏∫Áªü‰∏ÄÂ∫¶ÈáèË°°Ôºö</p>\n<ol>\n<li>5 Ê†º 1 Áßí 1 Ê†º 0.2s=200ms</li>\n<li>5 Ê†º 1 ÂàÜÈíü=60s 1 Ê†º 0.2min=12s=12000ms</li>\n<li>5 Ê†º 3 ÂàÜÈíü=180s 1 Ê†º 0.6min=36s=36000ms</li>\n<li>5 Ê†º 6 ÂàÜÈíü=360s 1 Ê†º 1.2min=62s=62000ms</li>\n</ol>\n<h2 id=\"ÊãñÊãΩÊåá‰ª§\"><a href=\"#ÊãñÊãΩÊåá‰ª§\" class=\"headerlink\" title=\"ÊãñÊãΩÊåá‰ª§\"></a>ÊãñÊãΩÊåá‰ª§</h2><p>ÂØπ‰∫é‰∫ëÂâ™Ëæë Web Â∫îÁî®ÔºåÂÖ∂‰∏é‰∏ÄËà¨Á∫ØÁ≤πË°®ÂçïË°®Ê†ºÁöÑÂ∫îÁî®ÔºåÂú®‰∫éËÆ©Áî®Êà∑ÊääÊõ¥Â§öÁöÑÊìç‰Ωú‰ªéÈîÆÁõòËΩ¨ÁßªÂà∞Èº†Ê†áÔºåËÄåÊãñÊãΩÁöÑÂÆûÁé∞ÊñπÂºèÔºåÊòØÊ≠§Ê¨°ÈúÄÊ±Ç‰∏≠ÁöÑÈáç‰∏≠‰πãÈáç„ÄÇ</p>\n<p>ÊàëÂØπ‰∫ßÂìÅÂíåËÆæËÆ°Â∏àÊèêÂá∫ÁöÑÈúÄÊ±ÇËøõË°å‰∫ÜÊ¢≥ÁêÜÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/drag-and-drop.png\" alt=\"drag-and-drop\"></p>\n<p>ÊúÄÂàùÔºåÊàëËÄÉËôëÂà∞‰ΩøÁî®ÂéüÁîüÁöÑ drag &amp; drop ÊñπÊ≥ïÂÆûÁé∞ÊãñÊãΩÔºå‰ΩÜÊòØÂéüÁîüÁöÑ drag &amp; drop ÊñπÊ≥ï‰ºöÂΩ±ÂìçÂà∞ÊñáÊ°£ÊµÅÂÖ∂‰ªñÂÖÉÁ¥†ÁöÑÂ∏ÉÂ±ÄÔºåÂØºËá¥ÊµèËßàÂô®ÂõûÊµÅÔºåËøôÊòæÁÑ∂‰∏çÊòØ‰∏ÄÁßç‰ºòÈõÖÁöÑËß£ÂÜ≥ÊñπÂºè„ÄÇÊü•ÈòÖÁõ∏ÂÖ≥ËµÑÊñôÂêéÔºåÂèëÁé∞ËÉΩÈÄöËøá mouse Áõ∏ÂÖ≥ÊñπÊ≥ïÊ®°Êãü drag &amp; drop ÁöÑÊñπÊ≥ïÔºåÈÇ£‰πàÂ¶ÇÊûúÂà©Áî® mouse Áõ∏ÂÖ≥ÊñπÊ≥ïÔºåÈÄöËøáÊüê‰∫õÂà§Êñ≠Êù°‰ª∂Âà§Êñ≠‰∏∫ÊãñÊãΩÂêéÔºåÈááÁî®ÁªùÂØπÂ∏ÉÂ±ÄÂàõÂª∫ÂùóÁ∫ßÊ†ºÂºè‰∏ä‰∏ãÊñáÂÖÉÁ¥†ÔºåÁã¨Á´ã‰∫éÊñáÊ°£ÊµÅËøõË°å‰ΩçÁßªÔºåËøôÊ†∑‰∏ÄÊù•Êó¢ËÉΩÊª°Ë∂≥ÂäüËÉΩÈúÄÊ±Ç‰πüËÉΩÊª°Ë∂≥ÊÄßËÉΩÈúÄÊ±Ç„ÄÇ</p>\n<p>HTML ÁöÑÊãñÊãΩ API ÂàÜÂà´‰ΩúÁî®‰∫éË¢´ÊãñÊãΩÁöÑÂÖÉÁ¥†ÂíåÁõÆÊ†áÂÖÉÁ¥†Ôºö</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">ÈíàÂØπÂØπË±°</th>\n<th style=\"text-align:left\">‰∫ã‰ª∂ÂêçÁß∞</th>\n<th style=\"text-align:left\">ËØ¥Êòé</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">Ë¢´ÊãñÂä®ÁöÑÂÖÉÁ¥†</td>\n<td style=\"text-align:left\">dragstart</td>\n<td style=\"text-align:left\">Âú®ÂÖÉÁ¥†ÂºÄÂßãÊãñÂä®Êó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\">drag</td>\n<td style=\"text-align:left\">Âú®ÂÖÉÁ¥†ÊãñÂä®Êó∂ÂèçÂ§çËß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\">dragend</td>\n<td style=\"text-align:left\">Âú®ÊãñÂä®Êìç‰ΩúÂÆåÊàêÊó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ÁõÆÁöÑÂú∞ÂØπË±°</td>\n<td style=\"text-align:left\">dragenter</td>\n<td style=\"text-align:left\">ÂΩìË¢´ÊãñÂä®ÂÖÉÁ¥†ËøõÂÖ•ÁõÆÁöÑÂú∞ÂÖÉÁ¥†ÊâÄÂç†ÊçÆÁöÑÂ±èÂπïÁ©∫Èó¥Êó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\">dragover</td>\n<td style=\"text-align:left\">ÂΩìË¢´ÊãñÂä®ÂÖÉÁ¥†Âú®ÁõÆÁöÑÂú∞ÂÖÉÁ¥†ÂÜÖÊó∂Ëß¶ÂèëÔºàÊØè 100ms Ëß¶Âèë‰∏ÄÊ¨°Ôºâ</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\">dragleave</td>\n<td style=\"text-align:left\">ÂΩìË¢´ÊãñÂä®ÂÖÉÁ¥†Ê≤°ÊúâÊîæ‰∏ãÂ∞±Á¶ªÂºÄÁõÆÁöÑÂú∞ÂÖÉÁ¥†Êó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\">drop</td>\n<td style=\"text-align:left\">ÈáäÊîæË¢´ÊãñÊãΩÂÖÉÁ¥†Êó∂Ëß¶Âèë</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"Ë¢´ÊãñÊãΩÂÖÉÁ¥†\"><a href=\"#Ë¢´ÊãñÊãΩÂÖÉÁ¥†\" class=\"headerlink\" title=\"Ë¢´ÊãñÊãΩÂÖÉÁ¥†\"></a>Ë¢´ÊãñÊãΩÂÖÉÁ¥†</h3><p>‰∏ãÈù¢Êàë‰ª¨ÂºÄÂßã‰∏ÄÊ≠•Ê≠•‰ΩøÁî® mouse ‰∫ã‰ª∂ÂÆûÁé∞Ë¢´ÊãñÊãΩÂÖÉÁ¥†ÁöÑ drag Êåá‰ª§„ÄÇ</p>\n<p>Êàë‰ª¨Â∞ùËØïÊãÜËß£ÊãñÊãΩËøô‰∏™Âä®‰ΩúÔºå‰ªéÊµèËßàÂô®‰∫ã‰ª∂ËßíÂ∫¶Âá∫ÂèëËÄÉËôëÔºåÂèØ‰ª•ÂàÜ‰∏∫ <code>mousedown</code> Âíå <code>mousemove</code> ‰∏§ÈÉ®ÂàÜÔºåÂΩì <code>mousemove</code> ÂùêÊ†á‰∏é <code>mousedown</code> ÂùêÊ†á‰πãÂ∑ÆÁöÑÁªùÂØπÂÄºËææÂà∞‰∏ÄÂÆöÈòàÂÄºÂêéÔºåÂèØËÆ§‰∏∫Áî®Êà∑Âú®ËøõË°åÊãñÊãΩË°å‰∏∫ÔºåÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÁªôËøô‰∏™‰∏∫Êåá‰ª§Êèê‰æõÂèØ‰æõ‰ΩøÁî®ÊñπËá™Áî±ËÆæÁΩÆÁöÑÂÖ•ÂèÇ <code>dragTolerance</code>ÔºàÈªòËÆ§ËÆæ‰∏∫ 5ÔºåÂèØÁêÜËß£‰∏∫ÊãñÊãΩ‰ΩçÁßª‰∫Ü 5 ÂÉèÁ¥†Âçï‰ΩçÂêéÂà§ÂÆö‰∏∫ÊãñÊãΩÔºâ„ÄÇ</p>\n<p>Âú® HTML ÂÖ®Â±ÄÂ±ûÊÄß‰∏≠ÔºåÊúâ‰∏™ draggable ÁöÑÂ±ûÊÄßÔºåÂΩìÂÄº‰∏∫ true Êó∂ÔºåË°®Á§∫ÂÖÉÁ¥†ÂèØË¢´ÊãñÂä®ÔºõÂΩìÂÄº‰∏∫ false Êó∂ÔºåÂàôË°®Á§∫ÂÖÉÁ¥†‰∏çÂèØË¢´ÊãñÂä®„ÄÇÊàë‰ª¨ÁöÑÈúÄÊ±ÇÂú∫ÊôØ‰∏≠ÔºåÊúâÂêåÊ†∑Á±ª‰ººÁöÑÂäüËÉΩÈúÄË¶ÅÂÆûÁé∞Ôºå‰∏æ‰∏™‰æãÂ≠êÔºåËßÜÈ¢ëÊ°ÜÊû∂ÂíåÈîöÁÇπÂç†‰ΩçÂÖÉÁ¥†Âùá‰∏∫ÂèØÊãñÊãΩÁöÑÂÖÉÁ¥†ÔºåËÄåÈîöÁÇπÂç†‰ΩçÂÖÉÁ¥†ÊòØ‚ÄúÈï∂Âµå‚ÄùÂÜçËßÜÈ¢ëÊ°ÜÊû∂‰∏≠ÁöÑÔºåÂ¶ÇÊûúÂ∞ÜËØ•Êåá‰ª§ÂàÜÂà´ËÆæÁΩÆÂú®ÂêÑËá™ÁöÑÂÖÉÁ¥†‰∏äÔºåÈÇ£‰πàÂΩìÊãñÊãΩÈîöÁÇπÂç†‰ΩçÂÖÉÁ¥†Êó∂Ôºå‰πü‰ºöËß¶ÂèëËßÜÈ¢ëÊ°ÜÊû∂ÁöÑÊãñÊãΩ‰∫ã‰ª∂ÔºåËøôÊòæÁÑ∂‰∏çÊòØÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÁªìÊûú„ÄÇ</p>\n<p>‰ªÖ‰ªÖÁî±Â§ñÈÉ®ËÆæÁΩÆ‰∏∫Â∏ÉÂ∞îÂÄº‰ºº‰πéÂπ∂‰∏çËÉΩËß£ÂÜ≥Êàë‰ª¨ÁöÑÈóÆÈ¢ò„ÄÇÊâÄ‰ª•ÔºåÈô§‰∫ÜÂ∏ÉÂ∞îÂÄºÂ§ñÔºå Êàë‰ª¨ÂÖÅËÆ∏ <code>draggable</code> ÂèÇÊï∞‰∏∫ÂáΩÊï∞Á±ªÂûã„ÄÇÂΩì <code>mousedown</code> Êó∂Ôºå‰ºöËé∑ÂèñÂΩìÂâç <code>draggable</code> ÁöÑÂÄºÔºåËã• darggable ‰∏∫ÂèØÊâßË°åÂáΩÊï∞Êó∂ÔºåÂ∞ÜÊê∫Â∏¶Êï∞ÊçÆÂíåË¢´ÊãñÊãΩÂéüÂßã DOM ÂÖÉÁ¥†ÂºïÁî®Á≠â‰Ωú‰∏∫ÂèÇÊï∞ÊâßË°åËØ•Ê†°È™åÂáΩÊï∞ÔºåÂáΩÊï∞ÂÜÖÈÉ®Â§ÑÁêÜÂà§Êñ≠ÂèØÂê¶ÊãñÊãΩÈÄªËæëÔºåÊúÄÁªàËøîÂõûÂ∏ÉÂ∞îÂÄºÂÜ≥ÂÆö <code>mousedown</code> ÂêéÁª≠ÁöÑÂ§ÑÁêÜ„ÄÇ</p>\n<p>Ëøô‰πüÊòØÊäΩË±°ÂÖ¨ÂÖ±ÁªÑ‰ª∂ÂíåÂ∑•ÂÖ∑ÁöÑÊäÄÂ∑ß‰πã‰∏ÄÔºåÊó¢ËÉΩÂÆûÁé∞Â∞Ü‰∏öÂä°‰ª£Á†ÅÈÄöËøáÂáΩÊï∞‰Ωú‰∏∫ÂõûË∞ÉÂØπÁªÑ‰ª∂Â∑•ÂÖ∑ÈÄªËæëËøõË°åÂΩ±ÂìçÔºåÂêåÊó∂‰πüÂáèÂ∞ëÂØπÊäΩË±°ÁªÑ‰ª∂Â∑•ÂÖ∑‰æµÂÖ•„ÄÇ</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Directive</span>(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">'[ssDraggable]'</span>,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSDraggableDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">public</span> el: ElementRef, <span class=\"keyword\">public</span> zone: NgZone, <span class=\"keyword\">public</span> viewContainer: ViewContainerRef</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement = el.nativeElement;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> ngOnInit(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onMouseMove = <span class=\"keyword\">this</span>.onMouseMove.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onMouseUp = <span class=\"keyword\">this</span>.onMouseUp.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> ngAfterContentInit() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.currentElement) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentElement.onmousedown = <span class=\"keyword\">this</span>.onMouseDown.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ËÉΩÂê¶ÊãñÊãΩ</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">get</span> currentElementDraggable() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> <span class=\"keyword\">this</span>.draggable === <span class=\"string\">'function'</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.draggable(&#123;</span><br><span class=\"line\">        <span class=\"comment\">// Ë¢´ÊãñÊãΩÂÖÉÁ¥†Êê∫Â∏¶ÁöÑÊï∞ÊçÆ</span></span><br><span class=\"line\">        data: <span class=\"keyword\">this</span>.data,</span><br><span class=\"line\">        <span class=\"comment\">// Ë¢´ÊãñÊãΩÂÖÉÁ¥†ÁöÑÂéüÂßã DOM ÂÖÉÁ¥†</span></span><br><span class=\"line\">        mousedownElement: <span class=\"keyword\">this</span>.mousedownElement,</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.draggable;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÊãñÊãΩÂºÄÂßãÂâçÈº†Ê†áÊåâ‰∏ã‰∫ã‰ª∂</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onMouseDown(e: MouseEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    e.preventDefault();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.mousedownElement = e.target <span class=\"keyword\">as</span> HTMLElement;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.currentElementDraggable) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.clicked = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ËÆ∞ÂΩïÈº†Ê†áÊåâ‰∏ãÁöÑÊ®™Á∫µÂùêÊ†á</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.startX = e.pageX;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.startY = e.pageY;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">document</span>.defaultView?.addEventListener(<span class=\"string\">'mousemove'</span>, <span class=\"keyword\">this</span>.onMouseMove);</span><br><span class=\"line\">    <span class=\"built_in\">document</span>.defaultView?.addEventListener(<span class=\"string\">'mouseup'</span>, <span class=\"keyword\">this</span>.onMouseUp);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÊãñÊãΩÂºÄÂßãÂâçÈº†Ê†áÊåâ‰∏ã‰∫ã‰ª∂</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onMouseMove(e: MouseEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// do something</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÁõëÂê¨ÊãñÂä®ÁªìÊùü</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onMouseUp(e: MouseEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// do something</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂΩìÈº†Ê†áË∑ùÁ¶ª mousedown Ë∑ùÁ¶ªË∂ÖÂá∫ËÆæÂÆöÈòàÂÄºÂêéÔºåÈúÄËß¶Âèë‰∏ÄÊ¨°Âë®ÊúüÂáΩÊï∞ÁöÑ dragStartÔºåË°®Á§∫ÂºÄÂßãÊãñÊãΩ„ÄÇ‰∏éÊ≠§ÂêåÊó∂ÔºåÂü∫‰∫éÊ®°ÁâàÂàõÂª∫Áî®‰∫éÊãñÊãΩÁöÑÂπΩÁÅµÂÖÉÁ¥†„ÄÇ</p>\n<p>‰∏∫‰∫ÜÊª°Ë∂≥‰∫§‰∫íÈúÄÊ±ÇÔºåËøôÈáåÊúâ‰∏§ÁßçÂπΩÁÅµÂÖÉÁ¥†ÁöÑÂÆûÁé∞ÊñπÂºèÔºö‰∏ÄÁßçÊòØ Angular Êèê‰æõÁöÑÊ®°ÁâàËØ≠Ê≥ïÔºå‰∏ÄÁßçÊòØ clone Âéü DOM ÂÖÉÁ¥†„ÄÇ</p>\n<p>Âü∫‰∫éÊ®°ÁâàÁîüÊàêÁöÑÂπΩÁÅµÂÖÉÁ¥†Áõ∏ÂØπÊØîËæÉÂÆπÊòìÂÆûÁé∞ÔºåÂè™ÈúÄË¶ÅÂÆûÁî® ng-template ÂÆö‰πâÂ•Ω HTML ÁªìÊûÑÔºåÂ∞ÜÊ®°ÁâàÂºïÁî®ÂèòÈáè‰Ωú‰∏∫ÂÖ•ÂèÇ‰º†ÂÖ•Êåá‰ª§Âç≥ÂèØ„ÄÇÊåá‰ª§ÂÜÖÈÉ®Ê†πÊçÆÊ®°ÁâàÂºïÁî®ÂèòÈáèÂàõÂª∫ DOM ÂÖÉÁ¥†Âç≥ÂèØ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/drag-anchor.gif\" alt=\"drag-anchor\"></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- ÊãñÊãΩÁßªÂä®ÈîöÁÇπÂπΩÁÅµÊ®°Áâà --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ng-template</span> #<span class=\"attr\">ssDraggableAnchorGhost</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">class</span>=<span class=\"string\">\"drag-anchor-ghost\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    [<span class=\"attr\">attr.data-type</span>]=<span class=\"string\">\"DragGhostElementType.ANCHOR\"</span></span></span><br><span class=\"line\"><span class=\"tag\">  &gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ghost-cursor\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"ghost-placeholder\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ng-template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>Âè¶‰∏ÄÁßçÊ†πÊçÆ DOM ÂÖÉÁ¥†ÂàõÂª∫ÂâØÊú¨ÁöÑÊñπÂºè‰ºöÁ®çÂæÆÂ§çÊùÇÔºåÊàë‰ª¨ÈÉΩÁü•ÈÅì DOM Êèê‰æõÁöÑÊñπÊ≥ï‰∏≠Êúâ‰∏Ä‰∏™ <code>Node.cloneNode()</code> ÁöÑÊñπÊ≥ïÔºåÂèØÁî®‰∫éÂÖãÈöÜ DOM ËäÇÁÇπÔºå‰ΩÜÊòØËøô‰∏™ÊñπÊ≥ïÊúâ‰∏™ÊòéÊòæÁöÑÁº∫Èô∑ÔºåÂ∞±ÊòØÂè™ËÉΩÂÖãÈöÜ DOM ÁªìÊûÑÔºåCSS Ê†∑ÂºèÊó†Ê≥ïÂÖãÈöÜ„ÄÇ</p>\n<p>Âú®Á†îÁ©∂‰∫ÜÊâÄÊúâÂèØË°åÁöÑÊñπÊ°àÂêéÔºåÂπ∂Ê≤°Êúâ‰∏Ä‰∏™ÂçÅÂàÜÂÆåÁæéÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÈÇ£‰πàÂ∞±Âè™ËÉΩËµ∞ÊúÄÁ¨®ÊãôÁöÑÂÆûÁé∞ÊñπÂºè„ÄÇÂéüÁîü DOM Êèê‰æõ‰∫ÜËé∑ÂèñÂÖÉÁ¥†ÁªèËøáÂ∏ÉÂ±Ä„ÄÅÁªòÂà∂„ÄÅÂÖâÊ†ÖÂåñÂíåÂêàÂπ∂ÂêéÁöÑÊ†∑ÂºèÂ±ûÊÄßÊñπÊ≥ï getComputedStyle„ÄÇÂàõÂª∫ÂπΩÁÅµÂÖÉÁ¥†Êó∂ÔºåÂÖàÂÖãÈöÜÂÖÉÁ¥†ÂèäÂÖ∂Â≠êÂ≠ôËäÇÁÇπÔºåÁÑ∂Âêé‰æùÊ¨°ÈÅçÂéÜÊØè‰∏™ËäÇÁÇπÔºåÈÄöËøáËØ•ÊñπÊ≥ïËé∑ÂèñËäÇÁÇπÁöÑËÆ°ÁÆóÊ†∑ÂºèÂ±ûÊÄßÔºåÁÑ∂ÂêéÂÜçÂØπÊ†∑ÂºèÂ±ûÊÄßÈÄê‰∏ÄËµãÂÄºÂà∞ÂÖãÈöÜËäÇÁÇπ‰∏ä„ÄÇ</p>\n<p>‰ΩÜÊòØÊµèËßàÂô®ÊîØÊåÅÁöÑ CSS Â±ûÊÄßÊúâÂá†Áôæ‰∏™ÔºåÂ¶ÇÊûúÊØè‰∏™ÈÉΩÈúÄË¶ÅÁöÑËØùÂ∞Ü‰ºöÊèêÂçáÊï¥‰∏™Êìç‰ΩúÁöÑÂ§çÊùÇÂ∫¶„ÄÇÂõ†‰∏∫Âú®ËøôÈáåÁöÑ‰ΩøÁî®Áõ∏ÂÖ≥Â±ûÊÄßÁöÑÂÖÉÁ¥†ÁöÑÊ†∑ÂºèÊòØÊØîËæÉÂõ∫ÂÆöÁöÑÔºåÊâÄ‰ª•Âè™ÂØπÈÉ®ÂàÜÊ†∑ÂºèÂ±ûÊÄßËøõË°å‰∫ÜËΩ¨Áßª„ÄÇÂ¶ÇÊûúÊòØÂÆûÁé∞Â§ßÂûãÁöÑÂÖ¨Áî®ÂåÖÔºåÂàôÂ∫îËØ•‰øùËØÅÂèØÁî®ÊÄß„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/drag-video.gif\" alt=\"drag-video\"></p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSDraggableDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ê†πÊçÆÂΩìÂâçÂÖÉÁ¥†ÂÖãÈöÜÁîüÊàêÊãñÊãΩÂπΩÁÅµÂÖÉÁ¥†</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  cloneGhostElement(element: Element): Element &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> clonedElement = element.cloneNode(<span class=\"literal\">true</span>) <span class=\"keyword\">as</span> HTMLElement;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> originalStyles: CSSStyleDeclaration = <span class=\"built_in\">document</span>.defaultView.getComputedStyle(element, <span class=\"string\">''</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> cssProperty of styleProperties) &#123;</span><br><span class=\"line\">      clonedElement.style[cssProperty] = originalStyles[cssProperty];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    clonedElement.style.pointerEvents = <span class=\"string\">'none'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> originalElementChildren = element.getElementsByTagName(<span class=\"string\">'*'</span>) <span class=\"keyword\">as</span> HTMLCollectionOf&lt;</span><br><span class=\"line\">      HTMLElement</span><br><span class=\"line\">    &gt;;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> clonedElementChildren = clonedElement.getElementsByTagName(<span class=\"string\">'*'</span>) <span class=\"keyword\">as</span> HTMLCollectionOf&lt;</span><br><span class=\"line\">      HTMLElement</span><br><span class=\"line\">    &gt;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = originalElementChildren.length - <span class=\"number\">1</span>; i--; ) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> originalChild = originalElementChildren[i];</span><br><span class=\"line\">      <span class=\"keyword\">const</span> clonedChild = clonedElementChildren[i];</span><br><span class=\"line\">      <span class=\"keyword\">const</span> originElementStyles = <span class=\"built_in\">document</span>.defaultView.getComputedStyle(originalChild, <span class=\"string\">''</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> cssProperty of styleProperties) &#123;</span><br><span class=\"line\">        clonedChild.style[cssProperty] = originElementStyles[cssProperty];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      clonedChild.style.pointerEvents = <span class=\"string\">'none'</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> clonedElement;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂºÄÂßãÊãñÊãΩÂπ∂ÁîüÊàêÂπΩÁÅµÂáΩÊï∞ÁöÑ‰ª£Á†ÅÂÆûÁé∞Ôºö</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">interface</span> SSDraggableBaseEventArgs &#123;</span><br><span class=\"line\">  originalEvent: MouseEvent;</span><br><span class=\"line\">  ghostElement: Nullable&lt;HTMLElement&gt;;</span><br><span class=\"line\">  startX: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  startY: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  pageX: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  pageY: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">  cancel: <span class=\"built_in\">boolean</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSDraggableDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Èº†Ê†áÁßªÂä®‰∫ã‰ª∂</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onMouseMove(e: MouseEvent) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; pageX, pageY &#125; = e;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.clicked) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> totalMovedX = pageX - <span class=\"keyword\">this</span>.startX;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> totalMovedY = pageY - <span class=\"keyword\">this</span>.startY;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        !<span class=\"keyword\">this</span>.dragStarted &amp;&amp;</span><br><span class=\"line\">        (<span class=\"built_in\">Math</span>.abs(totalMovedX) &gt; <span class=\"keyword\">this</span>.dragTolerance || <span class=\"built_in\">Math</span>.abs(totalMovedY) &gt; <span class=\"keyword\">this</span>.dragTolerance)</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> dragStartArgs: SSDraggableBaseEventArgs = &#123;</span><br><span class=\"line\">          originalEvent: e,</span><br><span class=\"line\">          ghostElement: <span class=\"keyword\">this</span>.ghostElement,</span><br><span class=\"line\">          startX: <span class=\"keyword\">this</span>.startX,</span><br><span class=\"line\">          startY: <span class=\"keyword\">this</span>.startY,</span><br><span class=\"line\">          pageX,</span><br><span class=\"line\">          pageY,</span><br><span class=\"line\">          cancel: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.zone.run(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">this</span>.dragStart.emit(dragStartArgs);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (dragStartArgs.cancel) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">this</span>.destoryEventListener();</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">const</span> clientRect = <span class=\"keyword\">this</span>.currentElement.getBoundingClientRect();</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.baseX = clientRect.left;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.baseY = clientRect.top;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.dragStarted = <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// ÂΩìÁßªÂä®Ë∂≥Â§üÂ§öË∑ùÁ¶ªÊó∂ÔºåÂπΩÁÅµÂÖÉÁ¥†Êâç‰ºöÊ∏≤ÊüìÂπ∂Ë¢´ÂÆûÈôÖÂºÄÂßãÊãñÊãΩ</span></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.createGhostElement(pageX, pageY);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.dragStarted) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> dragMoveArgs: SSDraggableDragMoveArgs = &#123;</span><br><span class=\"line\">        originalEvent: e,</span><br><span class=\"line\">        ghostElement: <span class=\"keyword\">this</span>.ghostElement,</span><br><span class=\"line\">        startX: <span class=\"keyword\">this</span>.startX,</span><br><span class=\"line\">        startY: <span class=\"keyword\">this</span>.startY,</span><br><span class=\"line\">        pageX: <span class=\"keyword\">this</span>.lastX,</span><br><span class=\"line\">        pageY: <span class=\"keyword\">this</span>.lastY,</span><br><span class=\"line\">        nextPageX: e.pageX,</span><br><span class=\"line\">        nextPageY: e.pageY,</span><br><span class=\"line\">        cancel: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dragMove.emit(dragMoveArgs);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> setPageX = dragMoveArgs.nextPageX;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> setPageY = dragMoveArgs.nextPageY;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!dragMoveArgs.cancel) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.ghostLeft = <span class=\"keyword\">this</span>.dragDirection === DragDirection.VERTICAL ? <span class=\"keyword\">this</span>.baseX : setPageX;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.ghostTop = <span class=\"keyword\">this</span>.dragDirection === DragDirection.HORIZONTAL ? <span class=\"keyword\">this</span>.baseY : setPageY;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">this</span>.dispatchDragEvent(pageX, pageY, e);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.lastX = setPageX;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.lastY = setPageY;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ê†πÊçÆÊ®°ÁâàÁîüÊàêÊãñÊãΩÂπΩÁÅµÂÖÉÁ¥†</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  createGhostElement(pageX: <span class=\"built_in\">number</span>, pageY: <span class=\"built_in\">number</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> dynamicGhostRef;</span><br><span class=\"line\">    <span class=\"comment\">//</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.ghostTemplate) &#123;</span><br><span class=\"line\">      dynamicGhostRef = <span class=\"keyword\">this</span>.viewContainer.createEmbeddedView(<span class=\"keyword\">this</span>.ghostTemplate, <span class=\"literal\">null</span>);</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement = dynamicGhostRef.rootNodes[<span class=\"number\">0</span>];</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> clonedElement = <span class=\"keyword\">this</span>.cloneGhostElement(<span class=\"keyword\">this</span>.currentElement);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> ghostContainer = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</span><br><span class=\"line\">      ghostContainer.appendChild(clonedElement);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.currentElement.dataset) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">Object</span>.entries(<span class=\"keyword\">this</span>.currentElement.dataset).forEach(<span class=\"function\">(<span class=\"params\">[key, value]</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          ghostContainer.setAttribute(<span class=\"string\">`data-<span class=\"subst\">$&#123;key&#125;</span>`</span>, value);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement = ghostContainer;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.ghostElement) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> createEventArgs = &#123;</span><br><span class=\"line\">        ghostElement: <span class=\"keyword\">this</span>.ghostElement,</span><br><span class=\"line\">        cancel: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostCreate.emit(createEventArgs);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (createEventArgs.cancel) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.ghostElement = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.ghostTemplate &amp;&amp; dynamicGhostRef) &#123;</span><br><span class=\"line\">          dynamicGhostRef.destroy();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.position = <span class=\"string\">'absolute'</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.pointerEvents = <span class=\"string\">'none'</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.zIndex = <span class=\"keyword\">this</span>.ghostIndex;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.transform =</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.dragDirection === DragDirection.BOTH ? <span class=\"string\">'translate3d(-50%, -50%, 0)'</span> : <span class=\"literal\">null</span>;</span><br><span class=\"line\">      <span class=\"comment\">// ÂûÇÁõ¥ÊñπÂêëÂèØÊãñÊãΩÔºåÈÇ£‰πà left Âõ∫ÂÆö</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.left =</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.dragDirection === DragDirection.VERTICAL ? <span class=\"keyword\">this</span>.baseX + <span class=\"string\">'px'</span> : pageX + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">      <span class=\"comment\">// Ê∞¥Âπ≥ÊñπÂêëÂèØÊãñÊãΩÔºåÈÇ£‰πà right Âõ∫ÂÆö</span></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.top =</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.dragDirection === DragDirection.HORIZONTAL ? <span class=\"keyword\">this</span>.baseY + <span class=\"string\">'px'</span> : pageY + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.width = <span class=\"string\">'auto'</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.height = <span class=\"string\">'auto'</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.style.cursor = <span class=\"string\">'grabbing'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"built_in\">document</span>.body.appendChild(<span class=\"keyword\">this</span>.ghostElement);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.addEventListener(<span class=\"string\">'pointerup'</span>, <span class=\"function\"><span class=\"params\">args</span> =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.onMouseUp(args);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ÂΩìÊãñÊãΩÁªìÊùüÔºå‰πüÂ∞±ÊòØÁî®Êà∑ÈáäÊîæÈº†Ê†á mouseup ÂêéÔºåÂàôÈô§‰∫ÜÈúÄË¶ÅÂ∞Ü‰º†ËææÁªô drop ÁõÆÊ†áÂå∫ÂüüÂ§ñÔºåËøòË¶ÅÁßªÈô§Êó∂Èó¥ÁöÑÁõëÂê¨„ÄÇ</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSDrggableDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÁõëÂê¨ÊãñÂä®ÁªìÊùü</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  onMouseUp(e: MouseEvent) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.clicked) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.clicked = <span class=\"literal\">false</span>;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.dragStarted = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> dragEndArgs = &#123;</span><br><span class=\"line\">      originalEvent: e,</span><br><span class=\"line\">      ghostElement: <span class=\"keyword\">this</span>.ghostElement,</span><br><span class=\"line\">      startX: <span class=\"keyword\">this</span>.startX,</span><br><span class=\"line\">      startY: <span class=\"keyword\">this</span>.startY,</span><br><span class=\"line\">      pageX: e.pageX,</span><br><span class=\"line\">      pageY: e.pageY,</span><br><span class=\"line\">      data: <span class=\"keyword\">this</span>.data,</span><br><span class=\"line\">      cancel: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.zone.run(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dragEnd.emit(dragEndArgs);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.dispatchDropEvent(e.pageX, e.pageY, e);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.ghostElement) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement.parentNode?.removeChild(<span class=\"keyword\">this</span>.ghostElement);</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.ghostElement = <span class=\"literal\">null</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.destoryEventListener();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>‰Ω†‰πüËÆ∏‰ºöÁñëÈóÆÂú® mouse ÂÆûÁé∞ drag &amp; drop Ë¶ÅÂ¶Ç‰ΩïÂÆûÁé∞Â∞ÜÊãñÊãΩÂÖÉÁ¥†ÁöÑ‰ø°ÊÅØÈÄöÁü•ÁªôÁõÆÁöÑÂú∞ÂÖÉÁ¥†ÔºåÊØïÁ´ü drag &amp; drop ËÉΩÈÄöËøá dataTransfer ‰Ωú‰∏∫Êï∞ÊçÆ‰º†ËæìÁöÑËΩΩ‰ΩìÔºåËÄå‰∏îÂéüÁîüÊîØÊåÅÊï∞ÊçÆ‰º†ÈÄí„ÄÇ</p>\n<p>‰∫ãÂÆû‰∏äÔºåÈô§‰∫ÜÊµèËßàÂô®Êèê‰æõÁ±ª‰ºº click„ÄÅmousedown„ÄÅblur Á≠âÂÜÖÁΩÆÁöÑÊ†áÂáÜ‰∫ã‰ª∂Â§ñÔºåÊµèËßàÂô®ËøòÈÄöËøáÊñπÊ≥ïËÆ©ÂºÄÂèëËÄÖËá™Â∑±ÂàõÂª∫ÁõëÂê¨‰∫ã‰ª∂„ÄÇ</p>\n<p>ÂàõÂª∫ÊåáÂÆöÁ±ªÂûãÁöÑ‰∫ã‰ª∂Á§∫‰æãÔºö</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ÂàõÂª∫‰∫ã‰ª∂</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> event = documet.createEvent(<span class=\"string\">'Event'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ÂÆö‰πâ‰∫ã‰ª∂Âêç‰∏∫ build</span></span><br><span class=\"line\">event.initEvent(<span class=\"string\">'build'</span>, <span class=\"literal\">true</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ÁõëÂê¨‰∫ã‰ª∂</span></span><br><span class=\"line\">event.addEventListener(</span><br><span class=\"line\">  <span class=\"string\">'build'</span>,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// e.target</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"literal\">false</span></span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Ëß¶ÂèëÂØπË±°ÂèØ‰ª•ÊòØ‰ªª‰ΩïÂÖÉÁ¥†ÊàñÂÖ∂‰ªñ‰∫ã‰ª∂ÁõÆÊ†á</span></span><br><span class=\"line\">elem.dispatchEvent(Event);</span><br></pre></td></tr></table></figure>\n<p>ÂΩìÂÖÉÁ¥†Ë¢´ÊãñÊãΩÁßªÂä®Êó∂Ôºå‰ºöÂÆûÊó∂ÈÄöËøá getElementsAtPoint Ëé∑ÂèñÂÖÉÁ¥†‰∏ãÊñπÁöÑÂùêÊ†áÂêÑÂ±ÇÁ∫ßÁöÑÂÖÉÁ¥†ÔºåÂΩìÂ≠òÂú®ÁõÆÁöÑÂú∞Ê†áËØÜÁöÑÂÖÉÁ¥†Êó∂ÔºåÊâßË°åÂØπÂ∫îÁöÑÂë®ÊúüÂáΩÊï∞ÔºåËøôÊ†∑Â∞±ËÉΩÂÆûÁé∞Êï∞ÊçÆÁöÑÈÄö‰ø°‰∫Ü„ÄÇ</p>\n<p>‰∏ãÈù¢‰∏∫ÂÆûÁé∞ drag Âíå drop Áõ∏ÂÖ≥‰∫ã‰ª∂ÁöÑ‰ª£Á†ÅÔºö</p>\n<ul>\n<li>dispatchDragEventÔºöÂ§ÑÁêÜ dragEnter„ÄÅdragLeave ‰∫ã‰ª∂</li>\n<li>dispatchDropEventÔºöÂ§ÑÁêÜ drop ‰∫ã‰ª∂</li>\n<li>dispatchEventÔºöÂ∫ïÂ±ÇÂ∞ÅË£Ö</li>\n</ul>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSDraggableDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  dispatchDragEvent(pageX: <span class=\"built_in\">number</span>, pageY: <span class=\"built_in\">number</span>, originalEvent: MouseEvent) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> dropArea;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> customEventArgs: SSDraggableCustomEventDetail = &#123;</span><br><span class=\"line\">      data: &#123; ...this.data &#125;,</span><br><span class=\"line\">      originalEvent,</span><br><span class=\"line\">      ghostElement: <span class=\"keyword\">this</span>.ghostElement,</span><br><span class=\"line\">      startX: <span class=\"keyword\">this</span>.startX,</span><br><span class=\"line\">      startY: <span class=\"keyword\">this</span>.startY,</span><br><span class=\"line\">      pageX,</span><br><span class=\"line\">      pageY,</span><br><span class=\"line\">      cancel: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÊåâÁÖßÂÖÉÁ¥†ÂÜíÊ≥°È°∫Â∫èÊéíÂàóÁöÑÊï∞ÁªÑ</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> elementsFromPoint = <span class=\"keyword\">this</span>.getElementsAtPoint(pageX, pageY);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> dropAreaFlag = <span class=\"keyword\">this</span>.dropAreaFlag;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> element of elementsFromPoint) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        element.getAttribute(dropAreaFlag) === <span class=\"string\">'true'</span> &amp;&amp;</span><br><span class=\"line\">        element !== <span class=\"keyword\">this</span>.ghostElement &amp;&amp;</span><br><span class=\"line\">        element !== <span class=\"keyword\">this</span>.currentElement</span><br><span class=\"line\">      ) &#123;</span><br><span class=\"line\">        dropArea = element;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (dropArea &amp;&amp; (!<span class=\"keyword\">this</span>.lastDropArea || (<span class=\"keyword\">this</span>.lastDropArea &amp;&amp; <span class=\"keyword\">this</span>.lastDropArea !== dropArea))) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.lastDropArea) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>.dispatchEvent(<span class=\"keyword\">this</span>.lastDropArea, <span class=\"string\">'ssDragLeave'</span>, customEventArgs);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.lastDropArea = dropArea;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dispatchEvent(dropArea, <span class=\"string\">'ssDragEnter'</span>, customEventArgs);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (!dropArea &amp;&amp; <span class=\"keyword\">this</span>.lastDropArea) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dispatchEvent(<span class=\"keyword\">this</span>.lastDropArea, <span class=\"string\">'ssDragLeave'</span>, customEventArgs);</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.lastDropArea = <span class=\"literal\">null</span>;</span><br><span class=\"line\">      <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (dropArea) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dispatchEvent(dropArea, <span class=\"string\">'ssDragOver'</span>, customEventArgs);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  dispatchDropEvent(pageX: <span class=\"built_in\">number</span>, pageY: <span class=\"built_in\">number</span>, originalEvent: MouseEvent) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> customEventArgs = &#123;</span><br><span class=\"line\">      ghostElement: <span class=\"keyword\">this</span>.ghostElement,</span><br><span class=\"line\">      originalEvent,</span><br><span class=\"line\">      startX: <span class=\"keyword\">this</span>.startX,</span><br><span class=\"line\">      startY: <span class=\"keyword\">this</span>.startY,</span><br><span class=\"line\">      pageX,</span><br><span class=\"line\">      pageY,</span><br><span class=\"line\">      data: <span class=\"keyword\">this</span>.data,</span><br><span class=\"line\">      cancel: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.dispatchEvent(<span class=\"keyword\">this</span>.lastDropArea, <span class=\"string\">'ssDrop'</span>, customEventArgs);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  dispatchEvent(</span><br><span class=\"line\">    target: Nullable&lt;HTMLElement&gt;,</span><br><span class=\"line\">    eventName: <span class=\"built_in\">string</span>,</span><br><span class=\"line\">    eventArgs: SSDraggableCustomEventDetail</span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (target) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> customEvent = <span class=\"built_in\">document</span>.createEvent(<span class=\"string\">'CustomEvent'</span>);</span><br><span class=\"line\">      customEvent.initCustomEvent(eventName, <span class=\"literal\">false</span>, <span class=\"literal\">false</span>, eventArgs);</span><br><span class=\"line\">      target.dispatchEvent(customEvent);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">protected</span> getElementsAtPoint(pageX: <span class=\"built_in\">number</span>, pageY: <span class=\"built_in\">number</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> viewPortX = pageX - <span class=\"built_in\">window</span>.pageXOffset;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> viewPortY = pageY - <span class=\"built_in\">window</span>.pageYOffset;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"built_in\">document</span>[<span class=\"string\">'msElementsFromPoint'</span>]) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> elements = <span class=\"built_in\">document</span>[<span class=\"string\">'msElementsFromPoint'</span>](viewPortX, viewPortY);</span><br><span class=\"line\">      <span class=\"keyword\">return</span> elements === <span class=\"literal\">null</span> ? [] : elements;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">document</span>.elementsFromPoint(viewPortX, viewPortY);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Â¶ÇÊ≠§ËøôÊ†∑ÔºåÊãñÊãΩÂÖÉÁ¥†ÁöÑ Angular Êåá‰ª§Â∞±ËøôÊ†∑ÂÆûÁé∞‰∫ÜÔºåËØ∏Â¶ÇËæπÁïå„ÄÅÊ†áËØÜÂ±ûÊÄßÁ≠âÂÆûÁé∞‰∏äËø∞‰ª£Á†ÅÂ∑≤ÁªèÂåÖÂê´Âú®ÂÜÖÔºå‰∏ãÈù¢ÊÄªÁªìÂ∞ÅË£Ö‰∏Ä‰∏™ mouse ÂÆûÁé∞ drag ÁöÑÊåá‰ª§Â∑•ÂÖ∑ÈúÄË¶ÅËÄÉËôëÂà∞ÁöÑ API Âíå‰∫ã‰ª∂„ÄÇ</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">API</th>\n<th style=\"text-align:left\">ËØ¥Êòé</th>\n<th style=\"text-align:left\">Á±ªÂûã</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">data</td>\n<td style=\"text-align:left\">ÊãñÊãΩÂÖÉÁ¥†Êê∫Â∏¶ÁöÑÊï∞ÊçÆ</td>\n<td style=\"text-align:left\">any</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">draggable</td>\n<td style=\"text-align:left\">ËÉΩÂê¶Ë¢´ÊãñÊãΩ</td>\n<td style=\"text-align:left\">boolean \\</td>\n<td>() =&gt; boolean</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ghostTemplate</td>\n<td style=\"text-align:left\">Ë¢´ÊãñÊãΩÂπΩÁÅµÂÖÉÁ¥†ÁöÑÊ®°ÁâàÂºïÁî®ÂèòÈáè</td>\n<td style=\"text-align:left\"><code>TemplateRef&lt;any&gt;</code></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ghostIndex</td>\n<td style=\"text-align:left\">ÂπΩÁÅµÂÖÉÁ¥†ÁöÑÂ±ÇÁ∫ß</td>\n<td style=\"text-align:left\">string</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dragTolerance</td>\n<td style=\"text-align:left\">Âà§Êñ≠ÊãñÊãΩÂºÄÂßãÁöÑÈòàÂÄº</td>\n<td style=\"text-align:left\">number</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dragDirection</td>\n<td style=\"text-align:left\">ËæπÁïå</td>\n<td style=\"text-align:left\">DragDirection</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dropAreaFlag</td>\n<td style=\"text-align:left\">Ê†áËØÜË¢´ÊãñÂä®ÂÖÉÁ¥†ÁöÑËá™ÂÆö‰πâÂ±ûÊÄß</td>\n<td style=\"text-align:left\">string</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>dropAreaFlag ÊòØÁî®‰∫éÂà§Êñ≠ÊòØÂê¶‰∏∫ËÉΩÂ§ü drop Âå∫ÂüüÁöÑÊ†áËØÜÔºå‰ΩøÁî® drop Êåá‰ª§ÁöÑÂÖÉÁ¥†ÈªòËÆ§Ê∑ªÂä† data-* ÁöÑËá™ÂÆö‰πâ attribute„ÄÇ</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">‰∫ã‰ª∂</th>\n<th style=\"text-align:left\">ËØ¥Êòé</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">dragStart</td>\n<td style=\"text-align:left\">ÊãñÊãΩÂºÄÂßãÊó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dragMove</td>\n<td style=\"text-align:left\">ÊãñÊãΩÂÖÉÁ¥†ÁßªÂä®Êó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">dragEnd</td>\n<td style=\"text-align:left\">ÊãñÊãΩÁªìÊùüÊó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ghostCreate</td>\n<td style=\"text-align:left\">ÂπΩÁÅµÂÖÉÁ¥†ÂàõÂª∫Êó∂Ëß¶Âèë</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ghostDestory</td>\n<td style=\"text-align:left\">ÂπΩÁÅµÂÖÉÁ¥†ÈîÄÊØÅÊó∂Ëß¶Âèë</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"ÊãñÊãΩÁõÆÁöÑÂú∞ÂÖÉÁ¥†\"><a href=\"#ÊãñÊãΩÁõÆÁöÑÂú∞ÂÖÉÁ¥†\" class=\"headerlink\" title=\"ÊãñÊãΩÁõÆÁöÑÂú∞ÂÖÉÁ¥†\"></a>ÊãñÊãΩÁõÆÁöÑÂú∞ÂÖÉÁ¥†</h3><p>ÂØπ‰∫éÈáäÊîæÁöÑ drop Êåá‰ª§Êù•ËØ¥ÔºåÂÆûÁé∞Ëµ∑Êù•Â∞±ÊØîËæÉÁÆÄÂçï‰∫ÜÔºåÂè™ÈúÄË¶ÅÂØπ drag Êåá‰ª§ÂÆö‰πâÁöÑÂá†‰∏™Ëá™ÂÆö‰πâ‰∫ã‰ª∂ËøõË°åÁõëÂê¨Âπ∂Â§ÑÁêÜÂØπÂ∫îÁöÑÂõûË∞É‰∫ã‰ª∂Âç≥ÂèØ„ÄÇ</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Directive</span>(&#123;</span><br><span class=\"line\">  selector: <span class=\"string\">'[ssDroppable]'</span>,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSDroppableDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> currentElement: Nullable&lt;HTMLElement&gt; = <span class=\"literal\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> dropAreaFlag = <span class=\"string\">'ssdroppable'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Output</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> dragEnter = <span class=\"keyword\">new</span> EventEmitter&lt;CustomEvent&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Output</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> dragOver = <span class=\"keyword\">new</span> EventEmitter&lt;CustomEvent&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Output</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> dragLeave = <span class=\"keyword\">new</span> EventEmitter&lt;CustomEvent&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Output</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> drop = <span class=\"keyword\">new</span> EventEmitter&lt;CustomEvent&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>(<span class=\"params\"><span class=\"keyword\">public</span> el: ElementRef, <span class=\"keyword\">public</span> zone: NgZone</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement = el.nativeElement;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> ngOnInit(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onDragEnter = <span class=\"keyword\">this</span>.onDragEnter.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onDragOver = <span class=\"keyword\">this</span>.onDragOver.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onDragLeave = <span class=\"keyword\">this</span>.onDragLeave.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.onDrop = <span class=\"keyword\">this</span>.onDrop.bind(<span class=\"keyword\">this</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"keyword\">this</span>.currentElement) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.setAttribute(<span class=\"keyword\">this</span>.dropAreaFlag, <span class=\"string\">'true'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.addEventListener(<span class=\"string\">'ssDragEnter'</span>, <span class=\"keyword\">this</span>.onDragEnter <span class=\"keyword\">as</span> EventListener);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.addEventListener(<span class=\"string\">'ssDragOver'</span>, <span class=\"keyword\">this</span>.onDragOver <span class=\"keyword\">as</span> EventListener);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.addEventListener(<span class=\"string\">'ssDragLeave'</span>, <span class=\"keyword\">this</span>.onDragLeave <span class=\"keyword\">as</span> EventListener);</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.addEventListener(<span class=\"string\">'ssDrop'</span>, <span class=\"keyword\">this</span>.onDrop <span class=\"keyword\">as</span> EventListener);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ë¢´ÊãñÂä®ÂÖÉÁ¥†ËøõÂÖ•ÂΩìÂâçÂÖÉÁ¥†ÊâÄÂç†ÊçÆÁöÑÂ±èÂπïÁ©∫Èó¥Êó∂Ëß¶Âèë</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> onDragEnter(e: CustomEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.zone.run(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dragEnter.emit(e);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ë¢´ÊãñÊãΩÂÖÉÁ¥†Âú®ÂΩìÂâçÂÖÉÁ¥†‰∏äÊñπÊó∂Ëß¶Âèë</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> onDragOver(e: CustomEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.zone.run(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dragOver.emit(e);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ë¢´ÊãñÂä®ÂÖÉÁ¥†Ê≤°ÊúâÊîæ‰∏ãÂ∞±Á¶ªÂºÄÂΩìÂâçÂÖÉÁ¥†Êó∂Ëß¶Âèë</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> onDragLeave(e: CustomEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.zone.run(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.dragLeave.emit(e);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ÈáäÊîæ‰∫ã‰ª∂</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> onDrop(e: CustomEvent): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.zone.run(<span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.drop.emit(e);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"Áº©Áï•ÂõæÊåá‰ª§\"><a href=\"#Áº©Áï•ÂõæÊåá‰ª§\" class=\"headerlink\" title=\"Áº©Áï•ÂõæÊåá‰ª§\"></a>Áº©Áï•ÂõæÊåá‰ª§</h2><p>Âú®ËßÜÈ¢ëÂâ™ËæëËΩØ‰ª∂‰∏≠ÔºåËΩ®ÈÅìÂå∫ÂüüÁöÑËßÜÈ¢ëÁâáÊÆµÈÉΩ‰ºöÊòæÁ§∫ÂØπÂ∫îÊó∂Èó¥ÁöÑÊà™ÂõæÔºåÊñπ‰æøÁî®Êà∑ÂÆö‰ΩçÊåáÂÆöÁîªÈù¢ÊâÄÂú®ÁöÑ‰ΩçÁΩÆ‰ª•ËøõË°åËøõ‰∏ÄÊ≠•ÁöÑÊìç‰ΩúÔºåÂêåÊ†∑Âú∞Êàë‰ª¨‰πüÈúÄË¶ÅÂØπËßÜÈ¢ëÁâáÊÆµÁöÑÁº©Áï•ÂõæËøõË°åÂ±ïÁ§∫„ÄÇ</p>\n<p>Âú®Â§ßÊñπÂêë‰∏äÊàë‰ª¨Êúâ‰∏§ÁßçÊñπÂºèÂÆûÁé∞Ê≠§Á±ªÊïàÊûúÔºö</p>\n<ul>\n<li>ÂΩìÁî®Êà∑ÂºÄÂßã‰∏ä‰º†ËßÜÈ¢ë‰ΩÜÊú™ÂÆåÊàêÊó∂ÔºåÂØπËßÜÈ¢ëËøõË°åÈÖçÈΩêÊìç‰ΩúÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπËßÜÈ¢ëÊñá‰ª∂Ê†πÊçÆÊØî‰æãÊà™ÂèñÂõæÁâáÂπ∂Â±ïÁ§∫</li>\n<li>ÂΩìËßÜÈ¢ë‰∏ä‰º†ÂÆåÊàêÂêéÔºå‰∫ëÊúçÂä°ÁîüÊàêËßÜÈ¢ëÊà™ÂõæÈõ™Á¢ßÂõæÔºåÁî®Êà∑Âà∑Êñ∞È°µÈù¢ÂêéÔºå‰ΩøÁî®Èõ™Á¢ßÂõæËøõË°åÂ±ïÁ§∫</li>\n</ul>\n<h3 id=\"ËßÜÈ¢ëÊñá‰ª∂ÁîªÂ∏ÉÊà™Âõæ\"><a href=\"#ËßÜÈ¢ëÊñá‰ª∂ÁîªÂ∏ÉÊà™Âõæ\" class=\"headerlink\" title=\"ËßÜÈ¢ëÊñá‰ª∂ÁîªÂ∏ÉÊà™Âõæ\"></a>ËßÜÈ¢ëÊñá‰ª∂ÁîªÂ∏ÉÊà™Âõæ</h3><p>‰∏é‰πãÂâçÊ£ÄÊµãËßÜÈ¢ëÊñá‰ª∂ÂèØÁî®ÊÄßÊó∂ÁöÑÂÆûÁé∞ÈÄªËæëÁ±ª‰ººÔºåÂæÄÊñáÊ°£‰∏≠ÊèíÂÖ• video Ê†áÁ≠æÔºåÂπ∂ËøõË°å play Êí≠ÊîæÔºåÂà©Áî® Canvas ÁîªÂ∏ÉÁªòÂà∂ËßÜÈ¢ëÊåáÂÆöÊó∂Èó¥ÁöÑÁîªÈù¢ÔºåÂΩìÊó∂Èó¥Êõ¥Êñ∞ÂêéÂØπÁîªÂ∏ÉÂÜÖÂÆπ‰ΩøÁî® <code>toDataURL</code> ËæìÂá∫ËßÜÈ¢ëÊà™Âõæ„ÄÇ</p>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSVideoPreviewDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> previewList;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> blobUrl;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/** ÂºÄÂßãÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ */</span></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> beginTime: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/** ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÊåÅÁª≠Êó∂ÈïøÔºàÂçï‰ΩçÔºöÁßíÔºâ */</span></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> duration: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/** Ê≠•ÈïøÔºåÊØèÂº†Êà™ÂõæÁõ∏ÈöîÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ */</span></span><br><span class=\"line\">  <span class=\"meta\">@Input</span>()</span><br><span class=\"line\">  <span class=\"keyword\">public</span> scaleRatio: <span class=\"built_in\">number</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> ngOnInit(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.imgList &amp;&amp; <span class=\"keyword\">this</span>.imgList.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.renderVideoPreviewByImageList();</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.blobUrl) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.renderVideoPreviewByBlobUrl();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ÊØèÊÆµËßÜÈ¢ëÊï∞ÊçÆÈÉΩ‰ºö‰øùÂ≠òÂèØÊí≠ÊîæÁöÑ Blob Url</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> renderVideoPreviewByBlobUrl() &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Áº©Áï•ÂõæÊÄªÊï∞Èáè</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> count = <span class=\"built_in\">Math</span>.ceil(<span class=\"keyword\">this</span>.duration / <span class=\"keyword\">this</span>.scaleRatio);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> frag = <span class=\"built_in\">document</span>.createDocumentFragment();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> durationList = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; count; i++) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// Á¨¨ i Âº†ÊòæÁ§∫Êà™ÂõæÁöÑÊó∂Èó¥</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> currentTime = <span class=\"keyword\">this</span>.beginTime + i * <span class=\"keyword\">this</span>.scaleRatio;</span><br><span class=\"line\"></span><br><span class=\"line\">      durationList.push(currentTime);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">const</span> promise = <span class=\"keyword\">this</span>.videoPicture(&#123; videoUrl: <span class=\"keyword\">this</span>.blobUrl, seconds: durationList &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    promise.then(<span class=\"function\">(<span class=\"params\">imgList: <span class=\"built_in\">string</span>[]</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      imgList.forEach(<span class=\"function\">(<span class=\"params\">base64: <span class=\"built_in\">string</span></span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> div = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        div.style.display = <span class=\"string\">'inline-block'</span>;</span><br><span class=\"line\">        div.style.width = <span class=\"string\">'80px'</span>;</span><br><span class=\"line\">        div.style.height = <span class=\"string\">'44px'</span>;</span><br><span class=\"line\">        div.style.backgroundRepeat = <span class=\"string\">'no-repeat'</span>;</span><br><span class=\"line\">        div.style.backgroundImage = <span class=\"string\">`url(\"<span class=\"subst\">$&#123;base64&#125;</span>\")`</span>;</span><br><span class=\"line\">        div.style.backgroundSize = <span class=\"string\">'contain'</span>;</span><br><span class=\"line\">        div.style.flexShrink = <span class=\"string\">'0'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        frag.appendChild(div);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentElement.innerHTML = <span class=\"string\">''</span>;</span><br><span class=\"line\">      <span class=\"keyword\">this</span>.currentElement.appendChild(frag);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * Ëé∑Âèñ‰∏ÄÊÆµÊó∂Èó¥ÁöÑËßÜÈ¢ëÊà™Âõæ</span></span><br><span class=\"line\"><span class=\"comment\">   *</span></span><br><span class=\"line\"><span class=\"comment\">   * @param videoData ËßÜÈ¢ëÊï∞ÊçÆ</span></span><br><span class=\"line\"><span class=\"comment\">   * @param width Êà™ÂõæÂÆΩÂ∫¶ÔºàÈªòËÆ§ 80pxÔºâ* 8 ÊòØ‰∏∫‰∫ÜËÆ©Êà™Âá∫Êù•ÁöÑÂõæÁâá‰∏çÊ®°Á≥ä</span></span><br><span class=\"line\"><span class=\"comment\">   * @param height Êà™ÂõæÈ´òÂ∫¶ÔºàÈªòËÆ§ 44pxÔºâ* 8 ÊòØ‰∏∫‰∫ÜËÆ©Êà™Âá∫Êù•ÁöÑÂõæÁâá‰∏çÊ®°Á≥ä</span></span><br><span class=\"line\"><span class=\"comment\">   * @param seconds Êà™ÂèñËßÜÈ¢ëÁöÑÁßí   [1,3,4,5,6]Ë°®Á§∫Êà™ÂèñËßÜÈ¢ë 1 3 4 5 6ÁßíÁöÑÂõæÁâá</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  videoPicture(&#123;</span><br><span class=\"line\">    videoUrl,</span><br><span class=\"line\">    videoData,</span><br><span class=\"line\">    width = <span class=\"number\">80</span> * <span class=\"number\">8</span>,</span><br><span class=\"line\">    height = <span class=\"number\">44</span> * <span class=\"number\">8</span>,</span><br><span class=\"line\">    seconds,</span><br><span class=\"line\">  &#125;: &#123;</span><br><span class=\"line\">    videoUrl?: <span class=\"built_in\">string</span>;</span><br><span class=\"line\">    videoData?: File;</span><br><span class=\"line\">    width?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">    height?: <span class=\"built_in\">number</span>;</span><br><span class=\"line\">    seconds: <span class=\"built_in\">number</span>[];</span><br><span class=\"line\">  &#125;) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ÂàõÂª∫‰∏Ä‰∏™ËßÜÈ¢ëÂÖÉÁ¥†</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> container = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</span><br><span class=\"line\">    container.className = <span class=\"string\">'video-picture'</span>;</span><br><span class=\"line\">    container.style.position = <span class=\"string\">'absolute'</span>;</span><br><span class=\"line\">    <span class=\"comment\">// container.style.visibility = 'hidden';</span></span><br><span class=\"line\">    container.style.left = <span class=\"string\">'-9999px'</span>;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> video = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'video'</span>);</span><br><span class=\"line\">    video.width = width;</span><br><span class=\"line\">    video.height = height;</span><br><span class=\"line\">    video.src = videoUrl || <span class=\"built_in\">window</span>.URL.createObjectURL(videoData);</span><br><span class=\"line\">    container.appendChild(video);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ÂàõÂª∫‰∏Ä‰∏™canvas</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> canvas = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'canvas'</span>);</span><br><span class=\"line\">    canvas.width = width; <span class=\"comment\">//ËßÜÈ¢ëÂéüÊúâÂ∞∫ÂØ∏</span></span><br><span class=\"line\">    canvas.height = height; <span class=\"comment\">//ËßÜÈ¢ëÂéüÊúâÂ∞∫ÂØ∏</span></span><br><span class=\"line\">    container.appendChild(canvas);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Êà™Âõæ</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">      video.addEventListener(<span class=\"string\">'loadeddata'</span>, <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        video.currentTime = <span class=\"number\">1</span>;</span><br><span class=\"line\">        video.play();</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">      video.addEventListener(<span class=\"string\">'playing'</span>, <span class=\"keyword\">async</span> () =&gt; &#123;</span><br><span class=\"line\">        video.pause();</span><br><span class=\"line\">        <span class=\"keyword\">const</span> captureVideoPromises = [];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; seconds.length; i++) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> captureVideoPromise = <span class=\"keyword\">await</span> <span class=\"keyword\">this</span>.captureVideoPromise(canvas, video, seconds[i]);</span><br><span class=\"line\">          captureVideoPromises.push(captureVideoPromise);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">Promise</span>.all(captureVideoPromises).then(<span class=\"function\"><span class=\"params\">allSrcs</span> =&gt;</span> &#123;</span><br><span class=\"line\">          container.remove();</span><br><span class=\"line\">          allSrcs.sort(<span class=\"function\">(<span class=\"params\">a, b</span>) =&gt;</span> a.beginTime - b.beginTime);</span><br><span class=\"line\">          <span class=\"keyword\">const</span> srcs = allSrcs.map(<span class=\"function\"><span class=\"params\">val</span> =&gt;</span> val.src);</span><br><span class=\"line\">          resolve(srcs);</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"built_in\">document</span>.body.appendChild(container);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * ËßÜÈ¢ëÊà™Âõæ</span></span><br><span class=\"line\"><span class=\"comment\">   * @param canvas</span></span><br><span class=\"line\"><span class=\"comment\">   * @param video</span></span><br><span class=\"line\"><span class=\"comment\">   * @param beginTime Êà™ÂèñÂõæÁâáÁöÑËßÜÈ¢ëÊó∂Èó¥ÁÇπ</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> captureVideoPromise(canvas, video, beginTime) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> videoWidth = video.width;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> videoHeight = video.height;</span><br><span class=\"line\">    <span class=\"comment\">// ËßÜÈ¢ëÁöÑÂΩìÂâçÁîªÈù¢Ê∏≤ÊüìÂà∞ÁîªÂ∏É‰∏ä</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> ctx = canvas.getContext(<span class=\"string\">'2d'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> cutImg = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">        video.removeEventListener(<span class=\"string\">'timeupdate'</span>, cutImg);</span><br><span class=\"line\"></span><br><span class=\"line\">        ctx.drawImage(video, <span class=\"number\">0</span>, <span class=\"number\">0</span>, videoWidth, videoHeight);</span><br><span class=\"line\">        <span class=\"keyword\">const</span> dataUrl = canvas.toDataURL(<span class=\"string\">'image/png'</span>);</span><br><span class=\"line\">        resolve(&#123; beginTime: beginTime, src: dataUrl &#125;);</span><br><span class=\"line\">      &#125;;</span><br><span class=\"line\">      video.addEventListener(<span class=\"string\">'timeupdate'</span>, cutImg);</span><br><span class=\"line\">      video.currentTime = beginTime;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"Èõ™Á¢ßÂõæÂÆûÁé∞Áº©Áï•Âõæ\"><a href=\"#Èõ™Á¢ßÂõæÂÆûÁé∞Áº©Áï•Âõæ\" class=\"headerlink\" title=\"Èõ™Á¢ßÂõæÂÆûÁé∞Áº©Áï•Âõæ\"></a>Èõ™Á¢ßÂõæÂÆûÁé∞Áº©Áï•Âõæ</h3><p>ÂÆûÁé∞ÊÄùË∑ØÔºö</p>\n<ol>\n<li>ËÆ°ÁÆóÊÄªÂÖ±ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊà™ÂõæÊï∞Èáè</li>\n<li>Âæ™ÁéØÂàõÂª∫ DOM ÂÖÉÁ¥†ÔºåÂπ∂ËÆ°ÁÆóÂΩìÂâç‰ΩçÁΩÆÁº©Áï•ÂõæÂØπÂ∫îÈõ™Á¢ßÂõæ‰∏≠ÁöÑ‰ΩçÁΩÆ‰ø°ÊÅØÔºå‰ª• background ËÉåÊôØÊ†∑ÂºèÂÆûÁé∞Áº©Áï•ÂõæÂ±ïÁ§∫</li>\n<li>ÊúÄÂêéÁªü‰∏ÄÊèíÂÖ•Âà∞ÊñáÊ°£‰∏≠</li>\n</ol>\n<p>ËøôÈáåÁöÑËÆ°ÁÆóÊñπÊ≥ïÂÄºÂæóÊÄªÁªì‰∏Ä‰∏ãÔºö</p>\n<p>ÊØè‰∏™ËßÜÈ¢ëÊ°ÜÊû∂ÂØπÂ∫îÁùÄ‰∏Ä‰∏™ËßÜÈ¢ëÁ¥†ÊùêÔºåÁî®Êà∑ÂèØ‰ª•Âú®ËßÜÈ¢ëÊ°ÜÊû∂‰∏äÊ∑ªÂä†ÈîöÁÇπÔºåÊâÄ‰ª•Âú®ËßÜÈ¢ëÊ°ÜÊû∂ÂÜÖÊòØ‰ª• ËßÜÈ¢ë-ÈîöÁÇπ-ËßÜÈ¢ë-ÈîöÁÇπ-ËßÜÈ¢ë Èó¥ÈöîÂ≠òÂú®ÁöÑÔºåÈîöÁÇπÂêéËßÜÈ¢ëÁöÑÂºÄÂßãÊó∂Èó¥ÊòØ‰∏ä‰∏ÄÊÆµËßÜÈ¢ëÁöÑÁªìÊùüÊó∂Èó¥„ÄÇÈòøÈáå‰∫ëÁöÑÈõ™Á¢ßÂõæÊòØÊØèÁßíÊà™Âèñ‰∏ÄÂº†ÂõæÁâáÔºå‰πüÂ∞±ÊòØÁ¨¨ 0 ÁßíÂØπÂ∫îÁ¨¨‰∏ÄÂº†Êà™ÂõæÔºåÁ¨¨ 100 ÁßíÂØπÂ∫îÁöÑÊòØÁ¨¨‰∫åÁªÑ</p>\n<p><img src=\"https://img.mrsingsing.com/sprite-preview.png\" alt=\"sprite-preview\"></p>\n<blockquote>\n<p>ÁªìÂêà‰ª£Á†ÅËØ¥ÊòéÔºö</p>\n<ul>\n<li>duration ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÊåÅÁª≠Êó∂ÈïøÔºàÂçï‰ΩçÔºöÁßíÔºâ</li>\n<li>scaleRatio Ê∏∏Ê†áÂ∞∫ÁöÑÊØî‰æãÂ∞∫</li>\n<li>beginTime ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÂú®ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÂºÄÂßãÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ</li>\n<li>imgList Èõ™Á¢ßÂõæÊï∞ÁªÑÈõÜÂêà</li>\n</ul>\n</blockquote>\n<ol>\n<li>ÈÄöËøáÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÊà™ÂèñÁâáÊÆµÊÄªÊåÅÁª≠Êó∂ÈïøÂíåÊØî‰æãÂ∞∫ËÆ°ÁÆóÂá∫ÊÄªÂÖ±ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊà™ÂõæÊï∞ÈáèÔºå‰∏çÂ§üÊòæÁ§∫‰∏ÄÂº†ÂÆåÊï¥Áº©Áï•ÂõæÂàôÊòæÁ§∫Áº©Áï•ÂõæÁöÑÈÉ®ÂàÜÔºåÈááÁî®Êà™ÂèñÂõæÁâáÁöÑÁ≠ñÁï•</li>\n<li>ÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÊà™ÂèñÁâáÊÆµÁöÑÁ¨¨‰∏ÄÂº†Áº©Áï•ÂõæÂç≥‰∏∫Êà™ÂèñÁâáÊÆµÂºÄÂßãÊó∂Èó¥ÈÇ£‰∏ÄÁßíÔºå‰æãÂ¶Ç‰∏Ä‰∏™‰Ωç‰∫éÈîöÁÇπÂêéÁöÑËßÜÈ¢ëÁ¥†ÊùêÊà™ÂèñÁâáÊÆµÁöÑÂºÄÂßãÊó∂Èó¥ÊòØÂΩìÂâçËßÜÈ¢ëÁ¥†ÊùêÁöÑÁ¨¨ 120 ÁßíÔºåÈÇ£‰πàÁ¨¨‰∏ÄÂº†Â∞±ÊòØ 120 ÁßíÂ§ÑÁöÑÊà™Âõæ</li>\n<li>Èõ™Á¢ßÂõæÊØèÂº†‰∏∫ 10x10 ÁöÑËßÑÂàôÔºåÁ¨¨ 0-99 Áßí‰∏∫Á¨¨‰∏ÄÂº†Èõ™Á¢ßÂõæÔºåÁ¨¨ 100-199 Áßí‰∏∫Á¨¨‰∫åÂº†Èõ™Á¢ßÂõæÔºåÂè™ÈúÄÂΩìÂâçÊó∂Èó¥ÔºàÁßíÊï∞ÔºâÈô§‰ª• 100 Âπ∂Âêë‰∏ãÂèñÊï¥ÔºåÂ∞±ÂèØËé∑Áü•ÂΩìÂâçÁº©Áï•ÂõæÂú®Êï∞ÁªÑÁöÑÂì™Âº†Èõ™Á¢ßÂõæ‰∏≠</li>\n<li>ÊâæÂà∞Èõ™Á¢ßÂõæÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÁ°ÆËÆ§Âú®Èõ™Á¢ßÂõæ‰∏≠ÁöÑÊñπ‰ΩçÔºåÊ†πÊçÆÂΩìÂâçÊó∂Èó¥ÂèñÊ®° 100 ÁöÑÁªìÊûúÊòØÂê¶Á≠â‰∫é 0 ÂèØÂæóÁü•ÊòØÂê¶‰∏∫Èõ™Á¢ßÂõæÁöÑÁ¨¨‰∏ÄÂº†ÔºåÂê¶ÂàôÂêë‰∏äÂèñÊï¥ÂèñÊ®° 100 ÂèØÁü•ÂÖ∂ÊâÄÂ§Ñ‰ΩçÁΩÆ</li>\n<li>Â∞ÜËá™ÁÑ∂È°∫Â∫èËΩ¨Êç¢‰∏∫Áî± 0 ÂºÄÂßãÁöÑÁ¥¢ÂºïÈ°∫Â∫è</li>\n<li>ËÆ°ÁÆóÊ∞¥Âπ≥ÂÅèÁßªÂÄºÔºöÁ¥¢Âºï‰∏™‰ΩçÊï∞Âç≥‰ª£Ë°®ÊâÄÈúÄÁº©Áï•ÂõæÂ∑¶‰æßË∑ùÁ¶ªÈõ™Á¢ßÂõæÊâÄÂú®Ë°åÂ∑¶‰æßÂÖ±ÊúâÂ§öÂ∞ëÂº†Áº©Áï•ÂõæÔºåÂèØÁî± <code>(index % 10) * width</code> ËÆ°ÁÆóÊ∞¥Âπ≥ÂÅèÁßªÂÄº</li>\n<li>ËÆ°ÁÆóÂûÇÁõ¥ÂÅèÁßªÂÄºÔºöÁ¥¢ÂºïÂçÅ‰ΩçÊï∞Âç≥‰ª£Ë°®ÊâÄÈúÄÁº©Áï•ÂõæÈ°∂Á´ØË∑ùÁ¶ªÈõ™Á¢ßÂõæÊâÄÂú®ÂàóÈ°∂Á´ØÂÖ±ÊúâÂ§öÂ∞ëÂº†Áï•Áï•ÂõæÔºåÂèØÁî± <code>Math.floor(index / 10) * height</code> ËÆ°ÁÆóÂûÇÁõ¥ÂÅèÁßªÂÄº</li>\n</ol>\n<figure class=\"highlight ts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> SSVideoPreviewDirective <span class=\"keyword\">implements</span> OnInit &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> renderVideoPreviewByImageList(): <span class=\"built_in\">void</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ÊÄªÂÖ±ÈúÄË¶ÅÊòæÁ§∫ÁöÑÊà™ÂõæÂº†Êï∞</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> count = <span class=\"built_in\">Math</span>.ceil(<span class=\"keyword\">this</span>.duration / <span class=\"keyword\">this</span>.scaleRatio);</span><br><span class=\"line\">    <span class=\"keyword\">const</span> frag = <span class=\"built_in\">document</span>.createDocumentFragment();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; count; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> div = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// Á¨¨ i Âº†ÊòæÁ§∫Êà™ÂõæÁöÑÊó∂Èó¥</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> currentTime = <span class=\"keyword\">this</span>.beginTime + i * <span class=\"keyword\">this</span>.scaleRatio;</span><br><span class=\"line\">      <span class=\"comment\">// Êà™ÂõæÊï∞ÁªÑ‰∏≠Á¨¨Âá†ÁªÑÊàêÂëò</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> groupIndex = <span class=\"built_in\">Math</span>.floor(currentTime / <span class=\"number\">100</span>);</span><br><span class=\"line\">      <span class=\"comment\">// 100x100 ÈáåÁöÑÁ¨¨Âá†Âº†</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> remainder = <span class=\"built_in\">parseInt</span>(<span class=\"string\">`<span class=\"subst\">$&#123;currentTime&#125;</span>`</span>) % <span class=\"number\">100</span> === <span class=\"number\">0</span> ? <span class=\"number\">1</span> : <span class=\"built_in\">Math</span>.ceil(currentTime) % <span class=\"number\">100</span>;</span><br><span class=\"line\">      <span class=\"comment\">//  ÂØπÂ∫îÂú®ÂõæÁâáÁªÑ‰∏≠ÁöÑÁ¥¢Âºï</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> index = remainder === <span class=\"number\">0</span> ? <span class=\"number\">99</span> : remainder - <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">const</span> url = <span class=\"keyword\">this</span>.imgList[groupIndex];</span><br><span class=\"line\">      <span class=\"keyword\">const</span> x = (index % <span class=\"number\">10</span>) * <span class=\"number\">80</span>;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> y = <span class=\"built_in\">Math</span>.floor(index / <span class=\"number\">10</span>) * <span class=\"number\">44</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      div.style.display = <span class=\"string\">'inline-block'</span>;</span><br><span class=\"line\">      div.style.width = <span class=\"string\">'80px'</span>;</span><br><span class=\"line\">      div.style.height = <span class=\"string\">'44px'</span>;</span><br><span class=\"line\">      div.style.backgroundRepeat = <span class=\"string\">'no-repeat'</span>;</span><br><span class=\"line\">      div.style.backgroundImage = <span class=\"string\">`url(\"<span class=\"subst\">$&#123;url&#125;</span>\")`</span>;</span><br><span class=\"line\">      div.style.backgroundPosition = <span class=\"string\">`-<span class=\"subst\">$&#123;x&#125;</span>px -<span class=\"subst\">$&#123;y&#125;</span>px`</span>;</span><br><span class=\"line\">      div.style.backgroundSize = <span class=\"string\">'800px 440px'</span>;</span><br><span class=\"line\">      div.style.flexShrink = <span class=\"string\">'0'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      frag.appendChild(div);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.innerHTML = <span class=\"string\">''</span>;</span><br><span class=\"line\">    <span class=\"keyword\">this</span>.currentElement.appendChild(frag);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Âú®ÂØπËøôÁßçÁº©Áï•ÂõæÁöÑÊäÄÊúØÂÆûÁé∞ÊñπÊ°àËøõË°åË∞ÉÁ†îÊó∂ÔºåÂèëÁé∞‰∫ÜÂè¶‰∏ÄÁßçÂ∑ßÂ¶ôÂÆûÁé∞ÊñπÂºèÔºö</p>\n<p>ÂØπÂΩì‰∏™ DOM ÂÖÉÁ¥†ËÆæÂÆöÂ§ö‰∏™ background-image Âíå background-positionÔºåÊåáÂÆö backgroud-size ‰∏∫Âõ∫ÂÆöÂÆΩÂ∫¶ÔºåËÉåÊôØÂõæÁöÑÂºïÁî®‰πüÊòØ‰∏ÄÂº†Èõ™Á¢ßÂõæÔºåÂè™ÈúÄË¶ÅÂØπ background-image Âíå background-position ËøõË°åËÆ°ÁÆóÊìç‰ΩúÂç≥ÂèØ„ÄÇ</p>\n<p>‰ΩÜÊòØËøôÁßçÂÆûÁé∞ÊñπÂºèÊúâÂâçÊèêÔºåÂ∞±ÊòØÈõ™Á¢ßÂõæÂøÖÈ°ªÊòØ 1xn ËøôÁßçÂΩ¢ÂºèÁöÑÔºåËøôÊòØÂõ†‰∏∫ background-image ËÆæÁΩÆÂ§ö‰∏™ÂÄºÊó∂ÔºåËÉåÊôØÂõæÁâá‰ºö‰æùÊ¨°‰ªéÂ∑¶ÂêëÂè≥ÊéíÂàóÔºåÂ¶ÇÊûúÊòØ 10x10 ËøôÊ†∑ÁöÑËßÑÂàôÔºåÈÇ£‰πàÈõ™Á¢ßÂõæÁöÑÂÆΩÂ∫¶‰ºöÂç†Êª°ÔºåÂ∞±Êó†Ê≥ïÂÆûÁé∞‰∏Ä‰∏™ËÆæÁΩÆÂÆö‰πâ‰∏ÄÂº†Áº©Áï•Âõæ‰∫Ü„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/tencent-preview.png\" alt=\"tencent-preview\"></p>\n<p>‰ΩÜÊòØÈâ¥‰∫éÈòøÈáå‰∫ëÊà™ÂõæÂè™ËÉΩÈááÁî® 10 x 10 ÁöÑËßÑÊ†ºÔºåÊâÄ‰ª•Êàë‰ª¨ÊúÄÁªà‰ªçÊóßÈááÁî®Â∑≤ÊúâÁöÑÊñπÊ°à„ÄÇ<br>ÂÖ∂‰ªñÂäüËÉΩ</p>\n<p>‰ª•‰∏äÁΩóÂàóËØ¶ÁªÜËÆ≤Ëß£‰∫ÜËØ•Á≥ªÁªüÈÉ®ÂàÜÊ†∏ÂøÉÂäüËÉΩÁöÑÂÆûÁé∞ÊñπÊ°àÔºå‰ΩÜÁ¢ç‰∫éÁØáÂπÖÂÆûÂú®Â§™ÈïøÔºåÂ∞±‰∏çÂÆåÂÖ®Â±ïÁ§∫‰∫ÜÔºåÂÆûÁé∞‰∏äÈÉΩÊòØÂ§ßÂêåÂ∞èÂºÇ„ÄÇ‰∏ãÈù¢Â∞±ÁÆÄËø∞ÂÖ∂‰ªñÈÉ®ÂàÜÂäüËÉΩÂÆûÁé∞ÁöÑÈöæÁÇπÂèäËß£ÂÜ≥ÊÄùË∑Ø„ÄÇ</p>\n<h2 id=\"ÂÖ∂‰ªñÂäüËÉΩ\"><a href=\"#ÂÖ∂‰ªñÂäüËÉΩ\" class=\"headerlink\" title=\"ÂÖ∂‰ªñÂäüËÉΩ\"></a>ÂÖ∂‰ªñÂäüËÉΩ</h2><h3 id=\"Âø´Êç∑ËèúÂçï\"><a href=\"#Âø´Êç∑ËèúÂçï\" class=\"headerlink\" title=\"Âø´Êç∑ËèúÂçï\"></a>Âø´Êç∑ËèúÂçï</h3><p>‰πüËÆ∏‰Ω†‰ºöÁñëÈóÆÔºå‰∏çÂ∞±‰∏Ä‰∏™Âè≥ÈîÆËèúÂçïÂêóÔºåÊúâÂï•ÈöæÁöÑÔºü</p>\n<p>ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑÂø´Êç∑ËèúÂçïÂÆûÁé∞ÁöÑÈöæÂ∫¶Âú®‰∫éËßÜÈ¢ëÊ°ÜÊû∂ÂÜÖÂµåÂ•ó‰∫ÜÈîöÁÇπËøô‰∏™ÂÜÖÁΩÆÁöÑÂÖÉÁ¥†ÔºåËØ•Âå∫ÂüüÁªëÂÆö‰∫ÜÂ§ßÈáèÁöÑÈº†Ê†áÁõ∏ÂÖ≥‰∫ã‰ª∂ click„ÄÅmousedown„ÄÅmousemove„ÄÅmouseup„ÄÅcontextmeu Á≠âÁ≠âÔºåËÄå‰∫§‰∫í‰∏äÈîöÁÇπÁöÑÊãñÊãΩ„ÄÅÂè≥ÈîÆËèúÂçïÁ≠âÈÉΩÈúÄË¶Å‰∏éÂ§ñÂ±ÇÁöÑËßÜÈ¢ëÊ°ÜÊû∂Âå∫ÂàÜÂºÄÊù•ÔºåÊâÄ‰ª•Âú®Ëøô‰∏™Âå∫ÂüüÂ§ßÁªùÂ§ßÈÉ®ÂàÜÁöÑÂÖÉÁ¥†ÈÉΩËÆæÁΩÆ‰∫Ü poiner-events: none ÈòªÊ≠¢‰∫ã‰ª∂ÂÜíÊ≥°„ÄÇ</p>\n<p>ËøôÂú®‰∫§‰∫íÂ±ÇÈù¢ÂèàÂíåÁÇπÂáªÁ©∫ÁôΩÂå∫ÂüüÂèñÊ∂àÈÄâ‰∏≠„ÄÅÈöêËóèËèúÂçïÁ≠âÊìç‰Ωú‰ºöÂΩ¢ÊàêÂÜ≤Á™ÅÔºåËøôÈúÄË¶ÅÂú® document ‰∏äÁªëÂÆö click ‰∫ã‰ª∂Ôºå‰ΩÜÊòØÈòªÊ≠¢ÂÜíÊ≥°Âèà‰ºöÊó†Ê≥ïÂà∞Ëææ document„ÄÇ‰ª•ÂèäËΩ®ÈÅìÂ∑•‰ΩúÂå∫‰∏§‰∏™Âè≥ÈîÆËèúÂçï‰πãÈó¥ÁöÑ‰∫íÊñ•ÂÖ≥Á≥ªÁöÑÂ§ÑÁêÜÔºåÈÉΩÊòØËæÉÈöæÂ§ÑÁêÜÁöÑÂú∞Êñπ„ÄÇ</p>\n<p>Ê≠§Â§ÑÊàë‰πüÂÆûÁé∞‰∫Ü‰∏Ä‰∏™Âè≥ÈîÆÁÇπÂáªÁöÑÊåá‰ª§ÔºåÂú®ÂàùÂßãÂåñÊåá‰ª§Êó∂‰ºöÂÖàÁõëÂê¨ document ÁöÑ click ‰∫ã‰ª∂ÔºåÂ¶ÇÊûúÊåá‰ª§‰∏≠ÁºìÂ≠òÁöÑËèúÂçïËäÇÁÇπ‰∏∫Á©∫ÔºåÊàñ click ‰∫ã‰ª∂ÂØπË±°ÁöÑ path Â±ûÊÄßÔºà‰πüÂ∞±ÊòØ‰∫ã‰ª∂ÂÜíÊ≥°ÁöÑË∑ØÂæÑÔºâÂåÖÂê´ËèúÂçïËäÇÁÇπÔºà‰πüÂ∞±ÊòØÂú®ËèúÂçï‰∏äÊñπ clickÔºâÔºåÂàô‰∏çËøõË°åÈöêËóèËèúÂçïÁöÑÊìç‰ΩúÔºåÂê¶ÂàôÂàôÈúÄË¶ÅÈöêËóè„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/contextmenu.gif\" alt=\"contextmenu\"></p>\n<h3 id=\"Ê∏∏Ê†áËøõÂ∫¶Êù°\"><a href=\"#Ê∏∏Ê†áËøõÂ∫¶Êù°\" class=\"headerlink\" title=\"Ê∏∏Ê†áËøõÂ∫¶Êù°\"></a>Ê∏∏Ê†áËøõÂ∫¶Êù°</h3><p>ÂΩìÊí≠ÊîæÂô®ÂºÄÂßãÊí≠ÊîæÊó∂Ôºå‰∫§‰∫í‰∏äÈúÄË¶ÅÊääËΩ®ÈÅìÂå∫Áúã‰ΩúÊòØËøõÂ∫¶Êù°ÔºåÊ∏∏Ê†áÈúÄË¶ÅÊ†πÊçÆÊí≠ÊîæÂô®Êí≠ÊîæÁöÑÊó∂Èó¥ÂÆûÊó∂ÁßªÂä®Âà∞Ê∏∏Ê†áÂ∞∫ÂØπÂ∫îÁöÑÊó∂Èó¥‰∏ä„ÄÇËÄå‰∏îÔºåÂΩìÊ∏∏Ê†áÁßªÂä®Ëá≥Â∑•‰ΩúÂå∫ËßÜÂè£‰∏≠Á∫øÊó∂ÔºåÂàôÈúÄË¶ÅÂÆöÂú®‰∏≠Á∫ø‰ΩçÁΩÆÔºåÊîπ‰∏∫ËΩ®ÈÅìÂå∫ÂüüÂêëÂêéÊªöÂä®ÔºõÂΩìËΩ®ÈÅìÂå∫ÂüüÂ∞æÈÉ®ÊªöÂä®Ëá≥Â∑•‰ΩúÂå∫Âè≥‰æßÈáçÂêàÊó∂ÔºåÊ∏∏Ê†áÂàôÈúÄË¶ÅÂÜçÊ¨°ÁßªÂä®ÔºåÁõ¥Ëá≥Âà∞ËßÜÈ¢ëÊí≠ÊîæÁªìÊùü„ÄÇ</p>\n<p>ÂÆûÁé∞‰∏äÂè™ÈúÄË¶ÅÂ∞ÜÊí≠ÊîæÂô®ÁöÑÊó∂Èó¥ÂõûË∞ÉÊñπÊ≥ïÊèê‰æõÁöÑ duration Êó∂Èó¥ÂèÇÊï∞ÔºåÊ†πÊçÆÊ∏∏Ê†áÂ∞∫ÊØî‰æãÂ∞∫ËΩ¨Âåñ‰∏∫ËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÂÆö‰ΩçÊ∏∏Ê†áÈúÄË¶ÅÁßªÂä®Âà∞ÁöÑÂÅèÁßªÂÄºÔºåÂÜçÈÄöËøá scrollTo ÊñπÊ≥ïÊªöÂä®Âà∞ÊåáÂÆö‰ΩçÁΩÆÂç≥ÂèØ„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÂ§ÑÁêÜÂ•ΩÊ∏∏Ê†á‰∏ã‰∏™ÁßªÂä®ÁöÑ‰ΩçÁΩÆ‰∏éÂ∑•‰ΩúÂå∫ËßÜÂè£‰∏≠Á∫øË∑ùÁ¶ª‰πãÈó¥ÁöÑÂà§Êñ≠ÔºåËøôÊòØÂå∫ÂàÜÊ∏∏Ê†áÁßªÂä®ËøòÊòØÂ∑•‰ΩúÂå∫ÁßªÂä®ÁöÑÂÖ≥ÈîÆ„ÄÇ</p>\n<h2 id=\"ÊÄªÁªì\"><a href=\"#ÊÄªÁªì\" class=\"headerlink\" title=\"ÊÄªÁªì\"></a>ÊÄªÁªì</h2><p>Êú¨ÊñáÂè™ÁùÄÈáçÊèèËø∞‰∫ÜÊïôËÇ≤Ë°å‰∏ö‰∫ëÂâ™ËæëÈ°πÁõÆÁöÑÈáçÁÇπÈöæÁÇπÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂú®È°πÁõÆÂºÄÂèëËøáÁ®ãÂØπÊï∞ÊçÆÁªìÊûÑÁöÑÂÆö‰πâ„ÄÅ‰∏çÂêåÂÆû‰ΩìÁöÑÂ¢ûÂà†ÊîπÊü•„ÄÅ‰∏çÂêåÂå∫ÂüüÁöÑ‰∫ã‰ª∂ÈÄö‰ø°ÂèäÊï∞ÊçÆÂêåÊ≠•„ÄÅÈîöÁÇπ‰∫íÂä®ÁöÑÈÖçÁΩÆ„ÄÅÂÖ®Â±ÄÁöÑËßÜÈ¢ë‰∏ä‰º†ÊÇ¨ÊµÆÁêÉ„ÄÅÂÆûÊó∂ËçâÁ®ø‰øùÂ≠òÂíåÂêàÊàêÂâçÊï∞ÊçÆÁöÑÊ†°È™åÁ≠âÁ≠âÔºåÊØè‰∏™ÁªÜÂàÜÂäüËÉΩÁöÑÂÆûÁé∞ÈÉΩÊòØ‰∏Ä‰∏™‰∏™ÊåëÊàò„ÄÇÂú®ÂºÄÂèëËØÑÂÆ°Èò∂ÊÆµÊâÄÊúâÂâçÁ´ØÈÉΩÊÑüËßâÂõ∞ÈöæÊó†ÊØîÁöÑÂ∑•Á®ãÔºåÊúÄÁªàÁªèËøáÂ∞ÜËøë‰∏Ä‰∏™ÊúàÁöÑËÆæËÆ°ËØÑÂÆ°ÂºÄÂèëÊµãËØïÂêéÔºåÈ°∫Âà©‰∏äÁ∫øËøêË°åÔºå‰∏∫Â§ö‰∏™ÁßëÁõÆÊï∞Áôæ‰∏™ËØæÁ®ãÔºåÊï∞‰∏áËØæÊ¨°ÁöÑÂΩïÊí≠ËßÜÈ¢ëÈÖçÈΩêÊèê‰æõÈ´òË¥®È´òÊïàÁéáÁöÑÊúçÂä°„ÄÇ</p>\n<p>ÈÄöËøáËøô‰∏™Ëø≠‰ª£ÂØπ Web Á´ØÂèØËßÜÂåñÈÖçÁΩÆÁ±ªÂûãÁ≥ªÁªüÊúâ‰∫ÜÊõ¥Ê∑±Â±ÇÊ¨°ÁöÑÁêÜËß£ÔºåÁâπÂà´ÊòØËÆæËÆ°Â∏àÊèêÂá∫ÁöÑÂ§öÊ†∑ÂåñÁöÑÁî®Êà∑‰∫§‰∫íÔºå‰∏ç‰ªÖËÆ©ÊàëÂØπÊïàÁéáÁ±ªÂ∑•ÂÖ∑ÁöÑ‰∫ßÂìÅËÆæËÆ°ÂíåÁî®Êà∑‰ΩìÈ™åÂàÜÊûêËÉΩÂäõÊúâ‰∫ÜÈ£ûÈÄüÁöÑËøõÊ≠•ÔºåÂêåÊó∂ËÉΩÂú®ÈúÄÊ±ÇÂÆûÁé∞ÁöÑÂêåÊó∂ÊâìÁ†¥‰∫ÜÂ±ÇÂ±ÇÊäÄÊúØÂ£ÅÂûí„ÄÇ</p>\n<p>Êú¨ÊñáËØ¶ÁªÜËÆ≤Ëø∞‰∫ÜÊ†∏ÂøÉËΩ®ÈÅìÂ∑•‰ΩúÂå∫ÁöÑÊäÄÊúØÂÆûÁé∞ÊñπÊ°àÔºå‰∏ãÁØáÂ∞ÜËÆ≤Ëø∞Âü∫‰∫éÈòøÈáå‰∫ëÊí≠ÊîæÂô®ÁöÑ‰∫åÊ¨°Â∞ÅË£ÖÁöÑÈÄªËæëÂÆûÁé∞„ÄÇ</p>"},{"title":"Web ÂâçÂêéÁ´ØÂ∫îÁî® Docker ÂÆπÂô®ÂåñÁã¨Á´ãÈÉ®ÁΩ≤ÂÆûË∑µ","date":"2020-04-20T00:00:00.000Z","_content":"\nÂú®‰∫∫Á±ªÁ§æ‰ºöÂ§ßÂàÜÂ∑•Ë∂äÊù•Ë∂äÁ≤æÁªÜÁöÑÂ§ßËÉåÊôØ‰∏ãÔºåÂêÑÂºèÂêÑÊ†∑ÁöÑËΩØ‰ª∂ÊäÄÊúØÂÖ¨Âè∏Â±ÇÂá∫‰∏çÁ©∑Ôºå‰∏∫ÂêÑË°åÂêÑ‰∏öÊèê‰æõÁùÄÊàñÂ§ß‰ºóÂåñÊàñÂÖ∑ÊúâÁâπËâ≤ÁöÑËΩØ‰ª∂ÊúçÂä°ÔºåÂ§ßÈÉ®ÂàÜËΩØ‰ª∂ÊúçÂä°ÊòØÂÖ¨ÊúâÊÄßË¥®ÁöÑÔºå‰πüÂ∞±ÊòØËøô‰∫õÊúçÂä°Êèê‰æõÂïÜÂÜÖÈÉ®ÂçïÁã¨ÁöÑËøêËê•ËΩØ‰ª∂Âπ≥Âè∞Ôºå‰ΩøÁî®ËÄÖËé∑ÂèñËΩØ‰ª∂‰ΩøÁî®ÊùÉÂêéÂú®ÂÖ∂Âπ≥Âè∞Áîü‰∫ßÂÜÖÂÆπÔºåÂπ∂Áî±ÊúçÂä°ÂïÜÊèê‰æõÊï∞ÊçÆÂ≠òÂÇ®ÊúçÂä°ÔºåËøôÁßçÊÄßË¥®ÁöÑÂπ≥Âè∞ÂØπ‰∫éËΩØ‰ª∂ÂºÄÂèëÂïÜÊù•ËØ¥ÈúÄË¶ÅËÄÉËôëÊï∞ÊçÆÁöÑÈöîÁ¶ªÔºåÂØπ‰∫é‰ΩøÁî®ËÄÖÊù•ËØ¥ÂàôÂáèÂ∞ë‰∫ÜÁª¥Êä§ÊàêÊú¨Ôºå‰ΩÜÊòØÊï∞ÊçÆÂπ∂ÈùûÁßÅËá™Â≠òÂÇ®Êó†Ê≥ïÁ°Æ‰øùÂÆâÂÖ®ÊÄß„ÄÇËÄåÁõ∏ÂØπ‰∫éÂÖ¨ÊúâÊÄßËΩØ‰ª∂ÊúçÂä°ÁöÑÂ∞±ÊòØÁßÅÊúâÂåñËΩØ‰ª∂ÊúçÂä°ÔºåËøôÁ±ªÂûã‰∫ßÂìÅÊèê‰æõÂèØÈÉ®ÁΩ≤Ëá≥ÂÆ¢Êà∑ÁßÅËá™ÁöÑÊúçÂä°Âô®‰∏äÁöÑÁâàÊú¨ÔºåÊï∞ÊçÆÁî±ÂÆ¢Êà∑Ëá™Ë∫´Â≠òÂÇ®ÔºåÊüêÁßçÁ®ãÂ∫¶‰∏ä‰øùËØÅÁöÑ‰∫ÜÊï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄß„ÄÇ\n\nÂú® PPmoney ÂÜÖÈÉ®ÔºåÈæôÁå´ X ÈÖçÁΩÆÂπ≥Âè∞Êèê‰æõÁªôÁêÜË¥¢ÂèäÂÄüË¥∑‰∏§‰∏™ÊäÄÊúØÂõ¢Èòü‰ΩøÁî®ÔºåÂØπ‰∫éÈ°µÈù¢„ÄÅÊ®°Áâà„ÄÅÁªÑ‰ª∂„ÄÅÁ¥†ÊùêÈÉΩÈúÄË¶ÅÂú®ÂÖ¨ÂÖ±Á©∫Èó¥ËøõË°åÂÖ±‰∫´Â≠òÂÇ®ÔºåËÄåÁé∞ÊúâÁöÑ‰∫∫ÂëòÊùÉÈôêÊú∫Âà∂Êó†Ê≥ïÂØπËøô‰∫õË¶ÅÁ¥†ËøõË°åÁ≠õÈÄâÂå∫ÂàÜÔºåÊó†ÂèØÈÅøÂÖçÂá∫Áé∞ÁÆ°ÁêÜÊ∑∑‰π±ÁöÑÂ±ÄÈù¢„ÄÇËÄåÊ†πÊçÆ‰∏çÂêåÁöÑÂõ¢Èòü„ÄÅ‰∏çÂêåÁöÑÈÉ®ÁΩ≤ÁéØÂ¢ÉËøõË°åÁ≥ªÁªüÈÉ®ÁΩ≤‰πüÊòØÈúÄÊ±ÇÁöÑÂÖ≥Ê≥®ÁÇπ„ÄÇËÄÉËôëÂà∞ÂØπÊï∞ÊçÆÁöÑÈöîÁ¶ªÔºå‰ª•ÂèäÊú™Êù•ÈæôÁå´ X ‰Ωú‰∏∫ËΩØ‰ª∂ÊúçÂä°ÂØπÂ§ñÊèê‰æõÂïÜ‰∏öÊÄßË¥®ÁöÑÊúçÂä°Ôºå‰∏∫ÈæôÁå´ X Â¢ûÂº∫ÂèØÁã¨Á´ãÈÉ®ÁΩ≤ÁöÑÂäüËÉΩÁöÑ‰∫ãÂÆúÂç≥Êèê‰∏äÂºÄÂèëÁöÑÊó•Á®ã„ÄÇ\n\nÂú®ÂØπÈæôÁå´ X ÁöÑÁã¨Á´ãÈÉ®ÁΩ≤ÁöÑÊäÄÊúØÈÄâÂûã‰∏äÊàë‰ª¨ÈÄâÊã©‰∫Ü Docker ÂÆπÂô®ÂåñÊäÄÊúØ„ÄÇ‰πãÊâÄ‰ª•ÈÄâÊã© Docker ÊòØÂõ†‰∏∫ÂÆπÂô®ÊäÄÊúØÂØπËøõÁ®ãËøõË°åÂ∞ÅË£ÖÈöîÁ¶ªÔºåËÉΩÂ§üÈ´òÊïàÂú∞Âú®Âà©Áî®ÊúçÂä°Âô®ËµÑÊ∫ê‰ª•Âèä‰æøÊç∑Âú∞Âú®Â§öÂπ≥Âè∞Èó¥ËøõË°åËøÅÁßª„ÄÇ\n\nÂú®ËøôÁØáÊñáÁ´†‰∏≠ÊàëÂ∞ùËØïÊääÂÆπÂô®ÂåñÊîπÈÄ†ËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑÂùë‰ΩçËÆ∞ÂΩï‰∏ãÊù•‰∏∫Âêé‰∫∫Êèê‰æõÂÄüÈâ¥Ôºå‰πüÊòØÂØπÊï¥‰∏™ÂùéÂù∑ÁöÑËøáÁ®ãÁöÑËÆ∞ÂΩï„ÄÇ\n\n<!-- more -->\n\n## ÂÆπÂô®ÂåñÊäÄÊúØ\n\nÂÆπÂô®ÊäÄÊúØÂØπËøõÁ®ãËøõË°åÂ∞ÅË£ÖÈöîÁ¶ªÔºåÂ±û‰∫éÊìç‰ΩúÁ≥ªÁªüÂ±ÇÈù¢ÁöÑËôöÊãüÂåñÊäÄÊúØ„ÄÇÁî±‰∫éÈöîÁ¶ªÁöÑËøõÁ®ãÁã¨Á´ã‰∫éÂÆø‰∏ªÂíåÂÖ∂‰ªñÁöÑÈöîÁ¶ªÁöÑËøõÁ®ãÔºåÂõ†Ê≠§Áß∞‰∏∫ÂÆπÂô®„ÄÇ\n\n![ÊúçÂä°Âô®‰∏≠ÁöÑÂÆπÂô®](https://img.mrsingsing.com/docker-in-server.png)\n\nDocker ÂÆπÂô®ÂåñÊäÄÊúØÂÖ≥ÈîÆÊ†∏ÂøÉÂè™ÈúÄË¶ÅÊéåÊè°‰∏â‰∏™Ê¶ÇÂøµÔºö\n\n- ÈïúÂÉè Image\n- ÂÆπÂô® Container\n- ‰ªìÂ∫ì Repository\n\n‰ªéÂ∞èÁôΩÁöÑËßíÂ∫¶ÁêÜËß£ÁöÑËØùÂèØ‰ª•Êää **ÈïúÂÉè** Âíå **ÂÆπÂô®** Á±ªÊØî‰∏∫Èù¢ÂêëÂØπË±°ÁºñÁ®ã‰∏≠ÁöÑÁ±ªÂíåÂÆû‰æãÔºåÈïúÂÉèÊòØÈùôÊÄÅÁöÑÂÆö‰πâÔºåËÄåÂÆπÂô®ÂàôÊòØÈïúÂÉèËøêË°åÊó∂ÁöÑÂΩ¢ÊÄÅ„ÄÇÊàë‰ª¨ÂèØ‰ª•ÊääÂÆπÂô®ÊÉ≥ÂÉèÊàêÂåÖË£ÖÁõíÔºåÂåÖË£ÖÁõíÈáåË£ÖËΩΩÁùÄ‰∏Ä‰∏™ÂæÆÂûãÊìç‰ΩúÁ≥ªÁªüÔºåÂÖ∂ÂÜÖÈÉ®ËøêË°åÁùÄÊàë‰ª¨ÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ\n\n‰ªìÂ∫ìÂàôÊòØÂ≠òÊîæÈïúÂÉèÁöÑÂú∞ÊñπÔºåÂèØ‰ª•‰∏∫ÈïúÂÉèÊâì tagÔºàÊ†áÁ≠æÔºâÔºåÂ∞±Â•ΩÂÉèÊàë‰ª¨‰∏∫ git commit ÊâìÁâàÊú¨Âè∑ÁöÑ tag ‰∏ÄÊ†∑Ôºå‰ΩøÁî®ËÄÖÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÈÄâÊã©ÁâàÊú¨ÈÉ®ÁΩ≤ÔºåÁ®ãÂ∫èÊïÖÈöúÊó∂‰πüËÉΩÁ´ãÈ©¨Ê†πÊçÆÁâàÊú¨ËøõË°åÂõûÊªö„ÄÇ\n\nDocker Hub ÊòØ Docker ÂÆòÊñπÁöÑÂÖ¨ÂºÄÁöÑ‰ªìÂ∫ìÔºåÁßÅÊúâ‰ªìÂ∫ìÂàôÊúâ HarborÔºåÂïÜ‰∏öÂåñÁöÑÂÆπÂô®ÊúçÂä°Êèê‰æõÂïÜÊúâÈòøÈáå‰∫ë„ÄÅDao Cloud Á≠â„ÄÇÊàë‰ª¨ÂÖ¨Âè∏ÈááÁî®ÁöÑÊòØÂÜÖÈÉ®Ëá™Âª∫ÁöÑ Harbor ‰ªìÂ∫ì„ÄÇ\n\nÂõ†‰∏∫Êú¨ÁØáÊñáÁ´†ÈùûÁßëÊôÆÊÄßË¥®ÔºåÊâÄ‰ª•ÂØπ‰∫é Docker ÁöÑ‰ªãÁªçÂ∞±‰∏çËøá‰∫éÊ∑±ÂÖ•ÂèôËø∞ÔºåÊúâÂÖ¥Ë∂£ÂèØ‰ª•ÊêúÁ¥¢Áõ∏ÂÖ≥ÊñáÁ´†ËøõË°åÁ†îÁ©∂ÔºåÂΩìÁÑ∂È¶ñÊé®ËøòÊòØÊää [ÂÆòÊñπÊñáÊ°£](https://docs.docker.com/) Áúã‰∏ÄÈÅçÔºåÊØïÁ´üÁ¨¨‰∏ÄÊâãËµÑÊñôÊâçÊòØÊúÄÂÖ∑ÂèÇËÄÉ‰ª∑ÂÄºÁöÑ„ÄÇ\n\n## ÈïúÂÉèÂà∂‰Ωú\n\nÂØπÈæôÁå´ X ËøõË°åÂÆπÂô®ÂåñÊîπÈÄ†ÈúÄË¶ÅÈÉ®ÁΩ≤Âõõ‰∏™Â≠êÈ°πÁõÆÔºåÂàÜÂà´ÊòØ React ÂÖ®ÂÆ∂Ê°∂ÁöÑÂÆ¢Êà∑Á´ØÈ°πÁõÆ„ÄÅKoa ÊúçÂä°Á´ØÈ°πÁõÆ„ÄÅÈ°µÈù¢Áà¨Ëô´È°πÁõÆ‰ª•Âèä MongoDB Êï∞ÊçÆÂ∫ì„ÄÇ\n\nÂú® Docker ‰∏≠ÔºåÈïúÂÉèÊòØÊ†πÊçÆÈÖçÁΩÆÊñá‰ª∂ Dockerfile ÊûÑÂª∫ÁöÑ„ÄÇÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§ÂèØ‰ª•ÊâßË°åÊûÑÂª∫ÁöÑÂ∑•‰ΩúÔºö\n\n```bash\n# docker build -t <ÈïúÂÉèÂêçÁß∞> <ÊûÑÂª∫ÁõÆÂΩï>\n$ docker build -t totorox-admin .\n```\n\n`-t` Ë°®Á§∫Â∞ÜÈïúÂÉèÂëΩÂêç‰∏∫ `totorox-admin`„ÄÇ\n\n### ÂâçÁ´ØÈ°πÁõÆ\n\nÂ¶Ç‰∏ãÂõæÊâÄÁ§∫‰∏∫ÂâçÁ´ØÈ°πÁõÆÈïúÂÉèÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºö\n\n![Dockerfile in Frontend Project](https://img.mrsingsing.com/frontend-dockerfile.png)\n\nÂú® Dockerfile ‰∏≠ `FROM` Êåá‰ª§ÊòØÂøÖÁÑ∂Â≠òÂú®ÁöÑÂπ∂‰∏î‰Ωú‰∏∫ÊûÑÂª∫ÁöÑÂºÄÂ§¥ÔºåËØ•Êåá‰ª§ÂàùÂßãÂåñ‰∏Ä‰∏™Êñ∞ÁöÑÊûÑÂª∫Èò∂ÊÆµÔºà‰πüÂ∞±ÊòØÊúâÂ§öÂ∞ë‰∏™ `FROM` Êåá‰ª§Â∞±ÊúâÂ§öÂ∞ë‰∏™ÈïúÂÉèÊûÑÂª∫Èò∂ÊÆµÔºâÂπ∂‰∏∫ÂêéÁª≠Êåá‰ª§ËÆæÁΩÆÂü∫Á°ÄÊò†ÂÉè„ÄÇ\n\n`COPY` Êåá‰ª§Ë°®Á§∫Êã∑Ë¥ùËµÑÊ∫êËá≥ÈïúÂÉèÂÜÖÈÉ®ÔºåËøôÈáåÊúâ‰∏™‰ºòÂåñÁöÑÂ∞èÊäÄÂ∑ßÔºåÂ∞±ÊòØÂú®È°πÁõÆÊ†πÁõÆÂΩïÊ∑ªÂä† `.dockerignore` Êñá‰ª∂Ôºå‰∏é `.gitignore` Êàñ `.npmignore` Á±ª‰ººÔºåÊ∑ªÂä†Âà∞ËØ•Êñá‰ª∂‰∏ãÁöÑÁõÆÂΩï Docker ÊûÑÂª∫ÈïúÂÉèÊó∂Â∞ÜÂøΩÁï•ÂÖ∂‰∏≠ÁöÑÊñá‰ª∂„ÄÇÊàë‰ª¨ÂèØ‰ª•ÊääÂè™Áî®‰∫é‰ª£Á†ÅÂºÄÂèëÈò∂ÊÆµÊàñËÄÖËßÑËåÉÊÄßÁöÑÊñá‰ª∂ÊéíÈô§Âú®ÊûÑÂª∫‰πãÂ§ñÔºå‰æãÂ¶Ç `.vscode`„ÄÅ`.eslint`„ÄÅ`dist` Á≠â„ÄÇ\n\nÊé•‰∏ãÊù•Â∞±ÊòØÂ∏∏ËßÑÁöÑÂÆâË£Ö‰æùËµñ„ÄÅÈ°πÁõÆÊûÑÂª∫ÊâìÂåÖÁöÑÊåá‰ª§Ôºå`npm install` ÂèØ‰ª•ÊåáÂÆö‰∏∫Ê∑òÂÆùÈïúÂÉèÔºåÂú®ÂõΩÂÜÖÁöÑËØù‰∏ãËΩΩÈÄüÂ∫¶Áõ∏ÂØπÊúâ‰øùÈöúÔºåËÉΩÂ§üÁº©ÂáèÈïúÂÉèÁöÑÊûÑÂª∫Êó∂Èó¥„ÄÇ\n\nÁ±ª‰ººÂú∞ÔºåÁî±‰∫éÊàë‰ª¨ÁöÑÈ°πÁõÆ‰∏≠‰ΩøÁî®Âà∞‰∫Ü Sass È¢ÑÁºñËØëÔºåWebpack ÊâìÂåÖÈúÄË¶ÅÁî®Âà∞ `node-sass` Êèí‰ª∂ÔºåÊØèÊ¨°ÈÉΩÂøÖÈ°ª‰∏ãËΩΩ `win32-x64-57_binding.node` Êñá‰ª∂ÔºåÊâÄ‰ª•Ë¶Å‰∏çÈúÄË¶ÅÊº´ÈïøÁöÑÁ≠âÂæÖÔºàÂõ†‰∏∫‰ªéÂõΩÂ§ñÊ∫ê‰ªìÂ∫ì‰∏ãËΩΩÔºâÔºåË¶Å‰∏ç‰∏ãËΩΩÂ§±Ë¥•Êä•‰∏ÄÁ≥ªÂàóÁöÑÈîô„ÄÇÂπ∏Â•ΩÂÆÉÊèê‰æõ‰∫Ü‰∫∫ÊÄßÂåñÁöÑÈÖçÁΩÆÔºåÂèØ‰ª•ÈÄöËøáÁéØÂ¢ÉÂèòÈáèÊîπÂèò‰∏ãËΩΩÁöÑÂú∞ÂùÄ„ÄÇÊàë‰ª¨Âú® `.npmrc` ‰∏≠Â∞Ü‰∏Ä‰∫õ‰æùËµñÂåÖ‰∏≠ÈúÄË¶ÅÈ¢ùÂ§ñ‰∏ãËΩΩÁöÑÊñá‰ª∂ÁöÑÈìæÊé•Âú∞ÂùÄÁöÑÁéØÂ¢ÉÂèòÈáèÊåáÂÆö‰∏∫ÂõΩÂÜÖÁöÑÈïúÂÉèÂú∞ÂùÄ„ÄÇÂΩìÁÑ∂Âï¶Âπ∂ÈùûÊâÄÊúâ‰æùËµñÂåÖÈÉΩÊîØÊåÅËøôÊ†∑ÂÅöÔºåÊúâ‰∫õÂÜôÊ≠ª‰∫Ü‰∏ãËΩΩÂú∞ÂùÄÊòØÊó†Ê≥ïÈÄöËøáËøôÊ†∑ÁöÑÊñπÊ≥ï‰ºòÂåñÁöÑ„ÄÇÈô§‰∫Ü‰∏äÈù¢ÊèêÂà∞ÁöÑ `node-sass`ÔºåÂÖ∂‰ΩôÂèØ‰ª•Âú® [Ê∑òÂÆùÈïúÂÉè](https://developer.aliyun.com/mirror/NPM?from=tnpm) ÊâæÂà∞ÂØπÂ∫îÁöÑÈïúÂÉèÂú∞ÂùÄÔºåÂêéÈù¢‰ºöÊèêÂà∞ÁöÑÈ°µÈù¢Áà¨Ëô´È°πÁõÆ‰∏≠‰ΩøÁî®ÁöÑ `phantomjs` ‰πüÊòØÈÄöËøáËøôÁßçÊñπÂºèÂ§ßÂπÖÂ∫¶ÂéãÁº©‰∫ÜÊûÑÂª∫Êó∂Èó¥„ÄÇ\n\n![.npmrcÈÖçÁΩÆÊñá‰ª∂](https://img.mrsingsing.com/npmrc.jpg)\n\nÁ¨¨‰∫åÈò∂ÊÆµÊàë‰ª¨‰ªéÈïúÂÉè‰ªìÂ∫ìËé∑Âèñ Nginx ÈïúÂÉè„ÄÇ‰∏ÄËà¨Âú∞ÔºåÂâçÁ´ØÈ°πÁõÆÊûÑÂª∫ÊâìÂåÖÂêéÁîüÊàêÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂ÔºåÈúÄË¶Å Web ‰ª£ÁêÜÊúçÂä°Âô®ËøõË°åËØ∑Ê±ÇËΩ¨ÂèëÔºåÊàë‰ª¨ËøôÈáåÁî®ÁöÑÊòØ NginxÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•Áî® Express ÂÆûÁé∞‰∏Ä‰∏™ Web ÊúçÂä°‰Ωú‰∏∫‰ª£ÁêÜËΩ¨Âèë„ÄÇ\n\nNginx ÈÖçÁΩÆÂíå‰ΩøÁî®Áõ∏ÂØπÊù•ËØ¥ÊØîËæÉÁÆÄÂçïÔºåÈÄöËøáÁÆÄÂçïÁöÑÈÖçÁΩÆÂç≥ÂèØÊã•ÊúâÈ´òÊÄßËÉΩÂíåÈ´òÂèØÁî®ÊÄßÔºå‰∏ãÈù¢ÊòØ Nginx ÁöÑÁ§∫‰æãÈÖçÁΩÆÔºö\n\n![NginxÈÖçÁΩÆ](https://img.mrsingsing.com/nginx-conf.png)\n\nÂú®ËØ•Èò∂ÊÆµ‰∏≠Ôºå‰∏ªË¶ÅÊòØÂ∞ÜÁ¨¨‰∏ÄÈò∂ÊÆµÁîüÊàêÁöÑ‰∫ßÁâ©ËΩ¨ÁßªÂà∞Á¨¨‰∫åÈò∂ÊÆµÔºåËøôÊòØÂõ†‰∏∫ÈïúÂÉèÊúÄÁªàÁöÑÂêØÂä®Êåá‰ª§ `CMD` ÊòØÂú®Á¨¨‰∫åÈò∂ÊÆµÔºåËÄå‰∏îÂàÜÈò∂ÊÆµÁöÑÈïúÂÉèÊûÑÂª∫ËÉΩÂ§ü‰ΩøÂæóÊúÄÁªàÂÆπÂô®ÂÜÖÂè™ÈúÄÊîæÁΩÆÊâìÂåÖÂêéÁöÑÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Âç≥ÂèØÔºå‰∏çÁî®ÂåÖÂê´Ê∫ê‰ª£Á†ÅÊñá‰ª∂ÔºåÈïúÂÉèÁöÑ‰ΩìÁßØ‰πü‰ºöÂõ†Ê≠§ËÄåÂ§ßÂπÖÂ∫¶Áº©ÂáèÔºåÂú®ÊüêÁßçÁ®ãÂ∫¶‰πüÁ°Æ‰øù‰∫ÜÊ∫ê‰ª£Á†ÅÁöÑ‰∏çÂØπÂ§ñÊ≥ÑÊºè„ÄÇ\n\nÊúÄÁªà `CMD` ÂëΩ‰ª§ÊòØÂÆπÂô®ËøêË°åÊó∂Âú®ÂÜÖÈÉ®ÊâßË°åÁöÑÊåá‰ª§„ÄÇËÄÉËôëÂà∞‰∏çÂêå‰ΩøÁî®ËÄÖÁöÑ API ÊúçÂä°Âô®ÂüüÂêçÊòØ‰∏çÂêåÁöÑÊòØÂä®ÊÄÅÂèòÂåñÁöÑÔºåÂú®Ê∫ê‰ª£Á†Å‰∏≠Êää API ÂüüÂêçÂÜôÊ≠ªÊòæÁÑ∂ÊòØ‰∏™‰∏çÊòéÊô∫ÁöÑÂÅöÊ≥ï„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨ÈÄöËøáÂú®ËøêË°åÂÆπÂô®Êó∂ÁöÑÁéØÂ¢ÉÂèòÈáèÊ§çÂÖ•ÂÜôÂ•ΩÁöÑ Shell ËÑöÊú¨ÔºåÈÄöËøá Shell ËÑöÊú¨ÁîüÊàêÂåÖÂê´ÂüüÂêçÁ≠â‰ø°ÊÅØÁöÑ JavaScript Êñá‰ª∂ÔºåHTML ÊñáÊ°£ÈÄöËøáÂÜôÂ•ΩÁöÑÂ§ñÈìæËØ•ËÑöÊú¨Êñá‰ª∂ÂÆûÁé∞Âä†ËΩΩÔºåËøôÊ†∑Âç≥ÂèØÊª°Ë∂≥Âä®ÊÄÅÂüüÂêçÂèòÊõ¥ÁöÑÈúÄÊ±Ç„ÄÇ\n\nÂú®ÈïúÂÉèÊûÑÂª∫ËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúÁªÜÂøÉËßÇÂØüÊâìÂç∞ÁöÑÊó•ÂøóÔºå‰ºöÂèëÁé∞ÊúâËøô‰πà‰∏ÄÂè•Ôºö\n\n![ÁßªÈô§‰∏≠Èó¥ÂÆπÂô®](https://img.mrsingsing.com/removeing-intermediate-container.jpg)\n\nÂÖ∂ÂÆû‰ªéÊûÑÂª∫ÁöÑÊó•Âøó‰∏≠ÂèØ‰ª•ÁúãÂà∞ÔºåÂÆûË¥®‰∏äÈïúÂÉèÊûÑÂª∫ÁöÑÊØè‰∏™Êåá‰ª§ÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™‰∏¥Êó∂ÁöÑ‰∏≠Èó¥ÂÆπÂô®ÔºåÊØèÂ±Ç‰∏≠Èó¥ÂÆπÂô®ÈÉΩÊòØ‰ª•ÂâçÈù¢‰∏ÄÂ±Ç‰∏≠Èó¥ÂÆπÂô®‰∏∫Âü∫Á°ÄÁöÑ„ÄÇÂΩìÂØπÂ∫îÁöÑÊåá‰ª§ÊâßË°åÂÆåÊØïÂêéÔºåÂØπÂ∫îÂ±ÇÁ∫ßÂ∞±‰∏ç‰ºöÂÜçÂèëÁîüÊîπÂèòÔºå‰ºöÁßªÈô§ËØ•‰∏¥Êó∂ÂàõÂª∫ÁöÑ‰∏≠Èó¥ÂÆπÂô®ÔºåÁÑ∂ÂêéÂÜçËøõË°å‰∏ã‰∏Ä‰∏™Êåá‰ª§Êìç‰Ωú„ÄÇ\n\nÊûÑÂª∫ÊàêÂäüÂêéÔºåÂú®ÂëΩ‰ª§Ë°å‰∏≠ËæìÂÖ• `docker images` Âç≥ÂèØÊü•ÁúãÂΩìÂâçÂÆø‰∏ªÊú∫ÁöÑ Docker ÈïúÂÉèÂàóË°®Ôºö\n\n![ÂÆπÂô®ÈïúÂÉè](https://img.mrsingsing.com/docker-images.jpg)\n\nÁî±‰∫éÊàë‰ª¨ÁöÑÈ°πÁõÆÊâÄÈúÄË¶ÅÁöÑÈïúÂÉèÂú®ÂÖ¨Âè∏ÂÜÖÈÉ®ÊúâÁßÅÊúâ‰ªìÂ∫ìÔºåÊâÄ‰ª•ÊûÑÂª∫Êó∂ÈÄüÂ∫¶Êúâ‰∏ÄÂÆöÁöÑ‰øùÈöúÔºåÂ¶ÇÊûúÊòØ‰∏™‰∫∫ÂºÄÂèëËÄÖÂú®Ëá™Â∑±ÁöÑÊúçÂä°Âô®‰∏äÊûÑÂª∫ÈïúÂÉèÂèØËÉΩÈúÄË¶Å‰ªéÂÖ¨Êúâ‰ªìÂ∫ì‰æãÂ¶Ç Docker Hub ÊãâÂèñÊâÄÈúÄË¶ÅÁöÑÈïúÂÉèÔºåËøôÈáåÊèê‰æõ‰∏Ä‰∏™‰ºòÂåñÁöÑÊâãÊÆµÔºåÂèØ‰ª•ÈÄöËøá‰øÆÊîπ Docker Daemon ÈÖçÁΩÆ `/etc/docker/daemon.json` ÁöÑÈïúÂÉèÂú∞ÂùÄÔºåÂÆûÁé∞ÈïúÂÉèÁöÑÂä†ÈÄüÔºåDocker ÂÆòÊñπÂíåÂõΩÂÜÖÂæàÂ§ö‰∫ëÊúçÂä°Âô®Âπ≥Âè∞ÈÉΩÊèê‰æõ‰∫ÜÂõΩÂÜÖÁöÑÂä†ÈÄüÊúçÂä°„ÄÇ\n\nüå∞ **Á§∫‰æãÔºö**\n\nËøôÈáåÊèê‰æõÁöÑÈïúÂÉèÂú∞ÂùÄ‰ªÖ‰æõÂèÇËÄÉÔºåÂèØ‰ª•Âà∞ÂØπÂ∫îÁöÑ‰∫ëÊúçÂä°ÂïÜÊâæÂà∞ÂØπÂ∫îÁöÑÈïúÂÉèÂä†ÈÄüÂú∞ÂùÄ„ÄÇ\n\n![ÈïúÂÉèÂä†ÈÄü](https://img.mrsingsing.com/docker-image-acceleration.png)\n\nÈô§Ê≠§‰πãÂ§ñÔºåÂú®‰ΩøÁî® Docker ÊûÑÂª∫ÈÉ®ÁΩ≤Â∫îÁî®ÂâçÊúÄÂ•ΩÁ°ÆËÆ§Â•Ω Docker ÁöÑÁâàÊú¨Ôºå‰æãÂ¶Ç CentOS 7 Á≥ªÁªüÈªòËÆ§ÁöÑ Docker ÁâàÊú¨ÊòØ 13ÔºåËÄå `FROM AS` ÁöÑËØ≠Ê≥ïÂàôÈúÄË¶Å Docker ÁâàÊú¨ 17 ‰ª•‰∏äÊâçÊîØÊåÅÔºåËøô‰∏™Êó∂ÂÄôÈúÄË¶ÅÂÖàÂØπÂÆø‰∏ªÊú∫ÁöÑ Docker ËøõË°åÁâàÊú¨Êõ¥Êñ∞„ÄÇ\n\nÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨ÁöÑ Docker ÂèØ‰ª•ÂèÇËÄÉÔºö\n\n[CentOS ÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨ÁöÑ Docker](https://www.jianshu.com/p/2e208721aa39)\n\nÂçáÁ∫ß Docker ÂêéÈáçÂêØÂÆπÂô®Âá∫Áé∞ÈîôËØØ `Unknown runtime specified docker runc` ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºö\n\n```bash\n$ grep -rl 'docker-runc' /var/lib/docker/containers/ | xargs sed -i 's/docker-runc/runc/g'\n\n$ systemctl stop docker\n\n$ systemctl start docker\n```\n\n### ÊúçÂä°Á´ØÈ°πÁõÆ\n\nÊé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúãÁî® Koa Êê≠Âª∫ÁöÑÊúçÂä°Á´ØÈ°πÁõÆÂ¶Ç‰ΩïÈÉ®ÁΩ≤ÔºåÁ±ª‰ººÊìç‰ΩúÊåá‰ª§Â∞±‰∏çÂÜçÈáçÂ§çËµòËø∞‰∫ÜÔºå‰∏ªË¶ÅË∞àË∞àÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂú∞Êñπ„ÄÇ\n\n![ÊúçÂä°Á´ØDockerfile](https://img.mrsingsing.com/backend-dockerfile.png)\n\nÂõ†‰∏∫È°πÁõÆ‰∏≠ÈÄöËøáÂºÄÂêØÂ≠êËøõÁ®ãÁöÑÊñπÂºèÊâßË°å Webpack ÂëΩ‰ª§ËøõË°åÈ°µÈù¢ÁöÑÁîüÊàêÔºåÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂú®ÂÆπÂô®ÂÜÖÂÖ®Â±ÄÂÆâË£Ö Webpack„ÄÇ\n\nÊàë‰ª¨ÁúãÂà∞ËøôÈáå‰∏∫‰∏Ä‰∏™Âêç‰∏∫ `wait-for-it.sh` ÁöÑÊèê‰æõ‰∫ÜÂèØÊâßË°åÁöÑÊùÉÈôêÔºåËÄå‰∏îÂú®ÂêéÁª≠ÁöÑ `CMD` Êåá‰ª§‰∏≠ÂÖàÊâßË°å‰∫ÜËØ•ËÑöÊú¨Êñá‰ª∂„ÄÇÂ∫îÁî®ÂÆπÂô®ÂåñÂêéÔºåDocker ÂÆπÂô®ÂêØÂä®Êó∂ÔºåÈªòËÆ§‰ΩøÁî®Èùû root Áî®Êà∑ÊâßË°åÂëΩ‰ª§ÔºåÊâÄ‰ª•Â∫îÁî®ÂÜÖÁöÑËÑöÊú¨Êñá‰ª∂Êó†Ê≥ïÊ≠£Â∏∏ÊâßË°åÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÊâßË°å `chmod a+x` ‰∏∫ËÑöÊú¨Êñá‰ª∂Êèê‰æõÂèØÊâßË°åÁöÑÊùÉÈôê„ÄÇËá≥‰∫éËøô‰∏™ËÑöÊú¨ÁöÑÂ≠òÂú®ÊÑè‰πâÊàë‰ª¨Âú®ÂêéÈù¢ÂÆπÂô®ÈÄöËÆØÁöÑÈÉ®ÂàÜÂÜçËØ¶ÁªÜËØ¥ÊòéÔºåÊöÇ‰∏îË∑≥Ëøá„ÄÇ\n\n‰∏ãÈù¢Êàë‰ª¨Ë∞àË∞à Dockerfile ‰∏≠ÁöÑËæìÂÖ•ÂèÇÊï∞ `ARG`„ÄÅÁéØÂ¢ÉÂèòÈáè `ENV` ‰ª•ÂèäÂ¶Ç‰ΩïÂ∞Ü Dockerfile ‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáè/‰º†ÂÖ•ÂèÇÊï∞Âú® `CMD` Êåá‰ª§‰∏≠ÁöÑ‰ΩøÁî®„ÄÇ\n\nÊåá‰ª§ `ARG` ÂÆö‰πâ‰∏Ä‰∏™ÂèòÈáèÔºåÁî®Êà∑ÂèØ‰ª•Âú®‰ΩøÁî® `docker build` ÂëΩ‰ª§‰ΩøÁî® `--build-arg <varname>=<value>` Ê†áÂøóÔºåÂú®ÊûÑÂª∫Êó∂Â∞ÜÂÖ∂‰º†ÈÄíÁªôÊûÑÂª∫Âô®„ÄÇ\n\n```dockerfile\nARG env\n\n# ÊåáÂÆöÈªòËÆ§ÂÄº\nARG env=local\n```\n\nÂ¶ÇÊûú `ARG` ÂØπÂ∫îÁöÑÂÄºÊúâÁº∫ÁúÅÂÄºÔºåÂπ∂‰∏îÂ¶ÇÊûúÂú®ÊûÑÂª∫Êó∂Ê≤°Êúâ‰º†ÈÄíÂÄºÔºåÂàôÊûÑÂª∫Âô®‰ΩøÁî®Áº∫ÁúÅÂÄº„ÄÇ\n\nDockerfile ÁöÑ `ENV` Êåá‰ª§Êúâ‰∏§Áßç‰π¶ÂÜôÊñπÂºèÔºö\n\n```dockerfile\nENV <key> <value>\n\n# ËøôÁßçÂÜôÊ≥ïÈîÆ/ÂÄº‰∏éÁ≠âÂè∑‰πãÈó¥‰∏çËÉΩÂ≠òÂú®Á©∫Ê†º\nENV <key>=<value>\n\n# ÈÄöËøáÊñúÊù† \\ Êç¢Ë°å‰∏ÄÊ¨°ÊÄßÂ£∞ÊòéÂ§ö‰∏™ÁéØÂ¢ÉÂèòÈáè\nENV API_URL=example.com \\\n    NODE_ENV=production \\\n    COMMAND=dev\n```\n\n‰∏é `ARG` Êåá‰ª§ÂØπÊØîÔºå`ENV` ÂßãÁªàÂ≠òÂú®‰∫éÈïúÂÉèÂΩì‰∏≠ÔºåËÄå `ARG` ‰ªÖÂú®ÊâßË°åÊó∂Â≠òÂú®„ÄÇ\n\nÂÖ≥‰∫é dockerfile ‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáèÊõøÊç¢ÂèØ‰ª•ÈòÖËØªÂÆòÊñπÊñáÊ°£‰∏≠ÊúâÂÖ≥ [ÁéØÂ¢ÉÂèòÈáèÊõøÊç¢](https://docs.docker.com/engine/reference/builder/#environment-replacement) ÁöÑÁõ∏ÂÖ≥Á´†ËäÇ„ÄÇ\n\n`CMD` Êåá‰ª§Êúâ‰∏âÁßç‰π¶ÂÜôÊñπÂºèÔºö\n\n```dockerfile\n# ‰ΩøÁî® exec ÊâßË°åÔºåËøôÁ±ªÊ†ºÂºèÂú®Ëß£ÊûêÊó∂‰ºöË¢´Ëß£ÊûêÊàê JSON Êï∞ÁªÑÔºåÂõ†Ê≠§‰∏ÄÂÆöË¶Å‰ΩøÁî®ÂèåÂºïÂè∑\nCMD [\"command\", \"instructions\", \"options\"]\n\n# ‰ΩøÁî® /bin/sh ‰∏≠ÊâßË°åÔºåÊèê‰æõÁªôÈúÄË¶Å‰∫§‰∫íÁöÑÂ∫îÁî®\n# ÂÆûÈôÖÂëΩ‰ª§‰ºöË¢´ÂåÖË£Ö‰∏∫ sh -c ÁöÑÂèÇÊï∞ÂΩ¢ÂºèËøõË°åÊâßË°å\nCMD command param1 param2\n```\n\nÊåáÂÆöÂêØÂä®ÂÆπÂô®Êó∂ÊâßË°åÂëΩ‰ª§ÔºåÊØè‰∏™ Dockerfile Âè™ËÉΩÊúâ‰∏Ä‰∏™ `CMD` Êåá‰ª§„ÄÇÂ¶ÇÊûúÊåáÂÆö‰∫ÜÂ§öÊù°ÂëΩ‰ª§ÔºåÂàôÂè™ÊúâÊúÄÂêé‰∏ÄÊù°‰ºöË¢´ÊâßË°å„ÄÇÂ¶ÇÊûúÁî®Êà∑ÂêØÂä®ÂÆπÂô®Êó∂ÊåáÂÆö‰∫ÜËøêË°åÁöÑÂëΩ‰ª§ÔºåÂàô‰ºöË¶ÜÁõñÊéâ `CMD` ÊåáÂÆöÁöÑÂëΩ‰ª§„ÄÇ\n\nÂú®Êàë‰ª¨ÁöÑÈ°πÁõÆ‰∏≠ÔºåÈô§‰∫ÜÂâçÈù¢Ë∞àËøáÁöÑÂâçÁ´ØÈ°πÁõÆÈúÄË¶ÅÂ∞Ü API ÂüüÂêçÁ≠âÂú® Docker ËøêË°åÂàùÊúüÂä®ÊÄÅÊ§çÂÖ•Â§ñÔºåÊúçÂä°Á´ØÈ°πÁõÆ‰πüÈúÄË¶Å‰º†ÂÖ•Êï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØ„ÄÇÁªèËøáÂÆûÈ™åÂèëÁé∞Ôºå`exec` ÂΩ¢ÂºèÁöÑ `CMD` ÊòØÈÄöËøá Docker Êù•ËøêË°åÂëΩ‰ª§ÁöÑÔºåÂπ∂‰∏çÊîØÊåÅÂèÇÊï∞ÊõøÊç¢„ÄÇËÄå `shell` ÂΩ¢ÂºèÁöÑ `CMD` ÂàôÊòØÈÄöËøá Docker Êù•ËøêË°å `sh`Ôºå`sh` ÂÜçËøêË°åÊàë‰ª¨ÂÜôÁöÑÂëΩ‰ª§ÔºåËÄå `sh` ÊòØÊîØÊåÅÂèÇÊï∞ÊõøÊç¢ÁöÑ„ÄÇ\n\nÊâÄ‰ª•Â¶ÇÊûúÊÉ≥Â∞Ü Dockerfile ‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáè `ENV` ÊàñÂèÇÊï∞ `ARG` Âú® `CMD` Êåá‰ª§‰∏≠‰ΩøÁî®ÔºåÂ∞±ÈúÄË¶ÅÈááÁî® `shell` ÁöÑÂΩ¢Âºè‰π¶ÂÜôÂêØÂä®ÂëΩ‰ª§„ÄÇ\n\n```dockerfile\n# docker run ÂêéÊ∑ªÂä†ÁöÑÂèÇÊï∞‰º†ÂÖ•\nARG env=production\n\n# ‰ªéÊâßË°å shell ÂëΩ‰ª§ÁöÑÊâßË°åÁéØÂ¢É‰∏≠ËØªÂèñ ENV ÂèòÈáè‰Ωú‰∏∫ dockerfile ‰∏≠ÁöÑ env ÂèòÈáèÂÄº\nENV env=${ENV}\n\n# ÂêØÂä®ÂëΩ‰ª§ÊòØÊâßË°åËÑöÊú¨ /scripts/setup.sh\n# ËØ•ËÑöÊú¨ÈúÄË¶Å‰º†ÂÖ•ÁéØÂ¢ÉÂèòÈáè envÔºå‰πüÂ∞±ÊòØ dockerfile ‰∏≠ÂÆö‰πâÁöÑÂèòÈáè\nCMD /scripts/setup.sh ${env}\n```\n\n### Áà¨Ëô´È°πÁõÆ\n\nÊé•ÁùÄÊàë‰ª¨Ë∞àË∞àÈ°µÈù¢Áà¨Ëô´È°πÁõÆÁöÑÈïúÂÉèÊûÑÂª∫„ÄÇ\n\nÁî±‰∫éÈæôÁå´ X ‰∏ªË¶ÅÁî®‰∫éÁßªÂä®Á´ØËê•ÈîÄÊ¥ªÂä®ÔºåÈ°µÈù¢ÁöÑÂä†ËΩΩ‰ΩìÈ™åÂØπÁî®Êà∑ËΩ¨ÂåñÁéáËµ∑Âà∞Ëá≥ÂÖ≥ÈáçË¶ÅÁöÑ‰ΩúÁî®ÔºåÂõ†Ê≠§ÂèëÂ∏ÉÈ°µÈù¢ÈÉΩÁªèÁî±Êó†Â§¥ÊµèËßàÂô®Áà¨ÂèñÂèëÂ∏ÉÈ°µÈù¢ÁöÑÈ¶ñÂ±èÊ∏≤ÊüìÁöÑ HTML ÊñáÊ°£‰ª•Áº©ÂáèÈ°µÈù¢ÁöÑÁôΩÂ±èÊó∂Èó¥„ÄÇ\n\nÂú® Linux Á≥ªÁªü‰∏≠‰ΩøÁî® PhantomJS ÈúÄË¶Å‰ªéÊ∫ê‰ª£Á†Å‰ªìÂ∫ì‰∏≠ÊãâÂèñÊï¥ÂåÖÔºå‰∏ãËΩΩÈÄüÂ∫¶Âõ†‰ºóÊâÄÂë®Áü•ÁöÑÂéüÂõ†ÈùûÂ∏∏ÊÖ¢ÔºåÊâÄ‰ª•ËøôÈáåÊîπÁî®ÈòøÈáåÂõΩÂÜÖÁöÑÈïúÂÉè‰Ωú‰∏∫‰∏ãËΩΩÂú∞ÂùÄÔºåÂêéÁª≠ÁªèËøá‰∏ÄÁ≥ªÂàóËß£ÂéãÁº©„ÄÅÁßªÂä®Êñá‰ª∂„ÄÅÂª∫Á´ãËΩØÈìæÊé•Á≠âÔºåÂú®ÂÆπÂô®ÂÜÖËÉΩÂ§üÁõ¥Êé•ÈÄöËøáÂëΩ‰ª§Ë°åÊâßË°å PhantomJS ÁöÑÁõ∏ÂÖ≥ÂëΩ‰ª§„ÄÇ\n\nÂâçÈù¢ÊèêÂèäÊØè‰∏™Êåá‰ª§ÈÉΩÊòØÊñ∞ÁöÑÊûÑÂª∫Â±ÇÔºåÊâÄ‰ª•ËøôÈáå‰πüÊòØÈÄöËøáÁÆ°ÈÅìËøûÊé•ÁöÑÊñπÂºèÂÆûÁé∞‰∏ÄËøû‰∏≤ÁöÑÊìç‰ΩúÔºåËøôÁßçÊñπÂºèÊòØÂæàÂ•ΩÁöÑÂéãÁº©ÈïúÂÉè‰ΩìÁßØÁöÑÊñπÊ≥ï„ÄÇ\n\n![Áà¨Ëô´È°πÁõÆ Dockerfile](https://img.mrsingsing.com/spider-dockerfile.png)\n\n### Êï∞ÊçÆÂ∫ìÈ°πÁõÆ\n\n‰∏ãÈù¢ÈúÄË¶ÅÂØπ MongoDB Êï∞ÊçÆÂ∫ìÂÆûÁé∞ÂÆπÂô®ÂåñÁÆ°ÁêÜ„ÄÇÂÖàÁªôÂ§ßÂÆ∂ÁúãÁúã MongoDB Êï∞ÊçÆÂ∫ìÁöÑ Dockerfile Êñá‰ª∂Ôºö\n\n![](https://img.mrsingsing.com/mongodb-dockerfile.png)\n\nÁî±‰∫éÁã¨Á´ãÈÉ®ÁΩ≤ÁâàÊú¨ÁöÑÈæôÁå´ X Âú®ÂàùÂßãÂåñÊó∂ÈúÄË¶ÅÂØºÂÖ•ÈªòËÆ§ÁöÑÊï∞ÊçÆÔºå‰æãÂ¶ÇÁªÑ‰ª∂Êï∞ÊçÆ„ÄÅÁªÑ‰ª∂Á±ªÂûãÊï∞ÊçÆ„ÄÅÊ†áÁ≠æÊï∞ÊçÆ„ÄÅÈ°µÈù¢Á±ªÂûãÊï∞ÊçÆÁ≠â„ÄÇÊàë‰ª¨‰ªéÂ∑≤ÊúâÁöÑÈ°πÁõÆ‰∏≠ÂØºÂá∫Êï∞ÊçÆÂπ∂ËøõË°åÈÄÇÂΩì‰øÆÊ≠£ÂêéÔºåÂ∞ÜÊï∞ÊçÆÊñá‰ª∂‰øùÂ≠òÂà∞È°πÁõÆÊåáÂÆöÈªòËÆ§Êï∞ÊçÆÁöÑÁõÆÂΩï‰∏ãÔºåÂú® Dockerfile ‰∏≠ÊåáÂÆö `RUN` ÈÄöËøá‰∏ãÈù¢ÁöÑ shell ËÑöÊú¨ÂØπÊï∞ÊçÆÂ∫ìËøõË°åÂàùÂßãÂåñÔºåÂπ∂ÂêëÊï∞ÊçÆÂ∫ì‰∏≠ÂØºÂÖ•Êï∞ÊçÆ„ÄÇ\n\n![MongoDB ÂàùÂßãÂåñËÑöÊú¨](https://img.mrsingsing.com/docker-entrypoint-initdb.png)\n\n‰∏∫‰∫ÜÊèêÈ´òÊï∞ÊçÆÂ∫ìÁöÑÊâ©Â±ïÊÄßÔºåÊï∞ÊçÆÂ∫ìÁöÑÁî®Êà∑Âêç„ÄÅÂØÜÁ†Å„ÄÅÂêçÁß∞ÂèØ‰ª•ÈÄöËøáÁéØÂ¢ÉÂèòÈáèÁöÑÊñπÂºèËøõË°åËÆæÁΩÆÔºåÊñπ‰æø‰∏çÂêåÁöÑÂõ¢ÈòüÊ†πÊçÆËá™Ë∫´ÈúÄÊ±Ç‰øÆÊîπ„ÄÇ\n\nÊàë‰ª¨Â∞ÜÂõõ‰∏™È°πÁõÆÂàÜÂà´ÈÄöËøá `docker build` ÂëΩ‰ª§ÊûÑÂª∫Áã¨Á´ãÁöÑÈïúÂÉèÂêéÔºåÈÄöËøáÂëΩ‰ª§ `docker images` ËÉΩÂ§üÊü•ÁúãÂà∞ÊâÄÊúâÂ∑≤ÊûÑÂª∫ÁöÑÈïúÂÉèÂàóË°®ÔºåÈÄöËøá `docker history <image-id>` ÂëΩ‰ª§ËÉΩÂ§üÊü•ÁúãÈïúÂÉèÊûÑÂª∫ËøáÁ®ã‰∏≠ÁöÑÁªÜËäÇÔºöÂåÖÊã¨ÊØèÂ±ÇÊåá‰ª§ÊâßË°åÁöÑÊåá‰ª§„ÄÅÊûÑÂª∫ÂêéÁöÑ‰∫ßÁâ©Âç†ÈïúÂÉèÁöÑ‰ΩìÁßØÂ§ßÂ∞èÁ≠âÔºåÈÄöËøáÂàÜÊûêÊûÑÂª∫ÂéÜÂè≤ËÉΩÂ§üËÆ©Êàë‰ª¨ÊéåÊè°‰æùÊçÆÂØπ Dockerfile ËøõË°å‰ºòÂåñ„ÄÇ\n\n![ÂÆπÂô®ÊûÑÂª∫ÂéÜÂè≤](https://img.mrsingsing.com/docker-history.jpg)\n\nÈô§Ê≠§‰πãÂ§ñÔºåÊûÑÂª∫Â•ΩÁöÑÈïúÂÉèÈúÄË¶ÅÊåÅ‰πÖÂåñ‰øùÂ≠òÁöÑËØùÔºåÈúÄË¶Å `docker tag` ÊâìÊ†áÁ≠æÂπ∂ `docker push` Âà∞ËøúÁ®ã‰ªìÂ∫ì‰∏≠ËøõË°å‰øùÂ≠ò„ÄÇ\n\n## ÂÆπÂô®‰∫íËÅî\n\nÊàë‰ª¨Áü•ÈÅìÊúçÂä°Á´ØÈ°πÁõÆËøêË°åÊó∂ÊòØÈúÄË¶Å‰∏éÊï∞ÊçÆÂ∫ì‰øùÊåÅËøûÊé•ÁöÑÔºåÈÇ£‰πà Docker ÊòØÂê¶Êèê‰æõÊüêÁßçÊú∫Âà∂ËÆ©‰∏çÂêåÂÆπÂô®‰πãÈó¥ËøõË°åÈÄö‰ø°Âë¢Ôºü\n\nÂΩì Docker ÂêØÂä®Êó∂ÔºåÂÆûÈôÖ‰∏ä‰ºöËá™Âä®Âú®ÂÆø‰∏ªÊú∫‰∏äÂàõÂª∫‰∏Ä‰∏™ `docker0` ËôöÊãüÁΩëÊ°•ÔºåÁõ∏ÂΩì‰∫é Linux ‰∏äÁöÑ‰∏Ä‰∏™ bridgeÔºåÂèØ‰ª•ÁêÜËß£‰∏∫‰∏Ä‰∏™ËΩØ‰ª∂‰∫§Êç¢Êú∫„ÄÇÂÆÉ‰ºöÂú®ÊåÇËΩΩÂà∞ÂÆÉÁöÑÁΩëÂè£‰πãÈó¥ËøõË°åËΩ¨Âèë„ÄÇ\n\n![ÂÆπÂô®‰∫íËÅî](https://img.mrsingsing.com/docker-network.png)\n\nÂõûÂà∞Êàë‰ª¨ÁöÑÈúÄÊ±Ç‰∏äÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÊúçÂä°Á´ØÈ°πÁõÆ„ÄÅÊï∞ÊçÆÂ∫ìÈ°πÁõÆÂíåÁà¨Ëô´È°πÁõÆÂåÖË£πÂú®‰∏Ä‰∏™ÁΩëÁªúÂΩì‰∏≠Ôºå‰πüÂ∞±ÊòØÂª∫Á´ãËøô‰∏â‰∏™È°πÁõÆÂØπÂ∫îÂÆπÂô®ÁöÑ‚ÄúÂ±ÄÂüüÁΩë‚Äù„ÄÇÂ∞ÜÂÆπÂô®Âä†ÂÖ•ÊåáÂÆöÁöÑÂ±ÄÂüüÁΩëÂÖ∂ÂÆûÂæàÁÆÄÂçïÔºåtalk is cheapÔºåshow you the codeÔºö\n\n```bash\n# ÂàõÂª∫ËôöÊãüÂ±ÄÂüüÁΩë `totorox-net` ÊòØËØ•Â±ÄÂüüÁΩëÁöÑÂêçÁß∞\ndocker network create -d bridge totorox-net\n\n# ÂêØÂä®ÂÆπÂô®Êó∂Â∏¶‰∏ä `--network <‰Ω†ÂàõÂª∫ÁöÑÂ±ÄÂüüÁΩëÂêçÁß∞>` Âç≥ÂèØÂä†ÂÖ•Âà∞ÊåáÂÆöÁöÑÂ±ÄÂüüÁΩëÂÜÖ\ndocker run -d --name totorox-server -p 3012:3012 --network totorox-net ...\n```\n\n‰ª•Ê≠§Á±ªÊé®Âú®ÂØπÂ∫îÁöÑÂÆπÂô®ÂêØÂä®Êó∂‰πüÂä†ÂÖ•Â±ÄÂüüÁΩëÂÜÖÔºåÈÇ£‰πàÂ±ÄÂüüÁΩëÂÜÖÁöÑÂÆπÂô®‰πãÈó¥Â∞±ËÉΩÂ§üÈÄöËøáÂä†ÂÖ•Â±ÄÂüüÁΩëÊó∂ÈöèÊú∫ÂàÜÈÖçÁöÑÂüüÂêçËøõË°åËÆøÈóÆ„ÄÇ\n\n<!-- ![docker network ls Êü•ËØ¢ docker]() -->\n\nÈÇ£‰πàÈóÆÈ¢òÊù•‰∫ÜÔºå‰ªéÊúçÂä°Á´ØÂÆπÂô®ÁöÑËßíÂ∫¶Âá∫ÂèëÔºåÊÄé‰πàÁü•ÈÅìÊï∞ÊçÆÂ∫ìÂÆπÂô®ÁöÑÂüüÂêçÊòØ `xxx.xxx.xxx.xxx` Âë¢ÔºåÊÄª‰∏çËÉΩÊØèÊ¨°ÂêØÂä®Âêé `docker network ls` Êü•ÁúãÂÆπÂô®ÂàÜÈÖçÂà∞ÁöÑÂ±ÄÂüüÁΩëÂüüÂêçÔºåÁÑ∂ÂêéÂÜçÂà∞ÂØπÂ∫îÁöÑÂÆπÂô®ÂÜÖÈÉ®ËøõË°å‰øÆÊîπÔºåËøôÊòæÁÑ∂‰∏çÂ§™ÁßëÂ≠¶„ÄÇ\n\ndocker ‰Ωú‰∏∫ÂπøÊ≥õ‰ΩøÁî®ÁöÑÊäÄÊúØÔºåÂÖ∂ÂºÄÊ∫êÂõ¢ÈòüÊòæÁÑ∂‰∏ç‰ºöÁäØÂ¶ÇÊ≠§‰ΩéÁ∫ßÁöÑËÆæËÆ°ÈîôËØØ„ÄÇÂÆûÈôÖ‰∏äÔºåÈô§‰∫ÜËøêË°åÂÆπÂô®Êó∂Â∞ÜÂÆπÂô®Âä†ÂÖ•Â±ÄÂüüÁΩëÂ§ñÔºå‰∏∫ÂÆπÂô®ÂëΩÂêç‰πüÊòØÂøÖ‰∏çÂèØÂ∞ëÁöÑÊ≠•È™§„ÄÇÂÆπÂô®ÂêçÁß∞Á±ªÊØîÊù•ÁêÜËß£ÔºåÁõ∏ÂΩì‰∫éÊàë‰ª¨ÈúÄË¶ÅÁî≥ËØ∑Ë¥≠‰π∞ÂüüÂêç‰ª•Êõø‰ª£ IP Âú∞ÂùÄ‰∏ÄÊ†∑Ôºå‰∏ÄËà¨Áî®Êà∑Âè™ÈúÄË¶ÅËÆ∞‰ΩèËæ®ËØÜÂ∫¶È´òÁöÑÁΩëÁ´ôÂú∞ÂùÄÔºåËÆøÈóÆÊó∂ÈÄöËøá DNS Ëß£ÊûêÂà∞ IP Âú∞ÂùÄÂÜçÂØπÊúçÂä°Âô®ËøõË°åËÆøÈóÆÔºåËøôÈáå docker ÂÆπÂô®‰∫íËÅîÁöÑÂéüÁêÜÊòØÈ´òÂ∫¶Á±ª‰ººÁöÑÔºåÂ±ÄÂüüÁΩëÂÜÖÁõ¥Êé•ËÆøÈóÆÂÆπÂô®ÂêçÁß∞‰πüËÉΩËß£ÊûêÂà∞ÂØπÂ∫îÁöÑÂÆπÂô®ÂΩì‰∏≠Âπ∂ËøõË°åËÆøÈóÆ„ÄÇ\n\nÂ§öËØ¥Êó†ÁõäÔºåÊàë‰ª¨ÁúãÁúãÂ¶Ç‰ΩïÂú®ÊúçÂä°Á´ØÈ°πÁõÆ‰∏≠Áî® Mongoose ËøûÊé•Êï∞ÊçÆÂ∫ìÂÆπÂô®ÁöÑ MongoDBÔºö\n\n```js\n// username ‰∏∫Êï∞ÊçÆÂ∫ìË¥¶Êà∑ÂêçÁß∞\n// password ‰∏∫Êï∞ÊçÆÂ∫ìË¥¶Êà∑ÂØÜÁ†Å\n// containerName ‰∏∫Êï∞ÊçÆÂ∫ìÈ°πÁõÆÂÆπÂô®ÁöÑÂêçÁß∞\n// databaseName ‰∏∫Êï∞ÊçÆÂ∫ìÂêçÁß∞\nconst uri = `mongodb://${username}:${password}@${containerName}/${databaseName}`;\n\nmongoose.connect(uri, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  autoIndex: false,\n});\n```\n\nËøôÈáåË∏©‰∫Ü‰∏çÂ∞ëÂùëÔºåMongoose ËøûÊé• MongoDB ÁöÑÂüüÂêç‰ΩøÁî®ÂÆπÂô®ÂêçÁß∞‰Ωú‰∏∫Ê†áËØÜÔºåËÄåÈùû‰ΩøÁî®ÈöèÊú∫ÂàÜÈÖçÁöÑÂõ∫ÂÆö IP Âú∞ÂùÄÔºåÊàñÂÆπÂô®ÁΩëÁªúÁöÑÂêçÁß∞„ÄÇ\n\nÈô§Ê≠§‰πãÂ§ñÔºåÂæàÂ§ö‰∏≠ÊñáÊñáÁ´†‰∏≠ÈÉΩÊ≤°ÊúâÊèêÂà∞‰∏Ä‰∏™ÈÅá‰∏äÊú∫ÁéáÊØîËæÉÂ§ßÁöÑÂùëÔºåÂ∞±ÊòØÊúçÂä°Á´ØÊòØÈúÄË¶ÅÁ≠âÂæÖ MongoDB Êï∞ÊçÆÂ∫ìÂêØÂä®Âπ∂Â∞±Áª™ÂêéÔºåÊâçËÉΩËøûÊé•ÊàêÂäüÁöÑ„ÄÇ\n\nÂú®‰ΩøÁî® `docker run` ÊñπÂºèÂêØÂä®ÂÆπÂô®Êó∂Ë¶ÅÂÖàÂêØÂä® MongoDB ÁöÑÂÆπÂô®ÔºåÂÜçÂêØÂä®ÊúçÂä°Á´ØÈ°πÁõÆÁöÑÂÆπÂô®Ôºå‰∏§‰∏™ÂêØÂä®ÂëΩ‰ª§ÊâßË°åÈúÄË¶ÅÊúâÊÆµÊó∂Èó¥Â∑ÆÔºå‰∏çËÉΩÊâßË°åÂâç‰∏Ä‰∏™ÔºåÈ©¨‰∏çÂÅúËπÑÂú∞Â∞±ÊâßË°å‰∏ã‰∏Ä‰∏™„ÄÇËøôÊòØÂõ†‰∏∫ `docker run` Âè™ÊòØ‰Ωú‰∏∫ÂêØÂä®ÂÆπÂô®ÁöÑËµ∑ÁÇπÔºåÂÆπÂô®ÂÜÖÈÉ®ÂÆûÈôÖÂØπÂ§ñÊúçÂä°ÁöÑÊï∞ÊçÆÂ∫ìÊ≠£Âú®ÊâßË°åÂêØÂä®‰∏≠ÔºåÂÆπÂô®Â±ÄÂüüÁΩëÂÜÖÂπ∂‰∏çËÉΩÁ¨¨‰∏ÄÊó∂Èó¥ÂØπÂÖ∂ËøõË°åËÆøÈóÆÔºåËÄåÊòØÈúÄË¶ÅÁ≠âÂæÖ‰∏ÄÊÆµÊó∂ÂÄôÂêéÊö¥Èú≤ÁöÑÁ´ØÂè£ÊâçÂèØÊé•ÂèóÂ§ñÈÉ®ËØ∑Ê±Ç„ÄÇÂú®ÂÆπÂô®Â§ñÊù•ÁúãÔºå`docker run` ÂëΩ‰ª§ÊâßË°åÂêéÂÆπÂô®ÊòØÂêØÂä®‰∫ÜÔºå‰ΩÜÊòØÂÜÖÈÉ®ÂÆûÈôÖÊèê‰æõÊúçÂä°ÁöÑÊï∞ÊçÆÂ∫ìËøòÊ≤°ÂáÜÂ§áÂ∞±Áª™ÔºåËøôÂ∞±ÊúâÂèØËÉΩÂØºËá¥ÊúçÂä°Á´ØÈ°πÁõÆËøûÊé•Êï∞ÊçÆÂ∫ìÂÆπÂô®Âá∫Áé∞Ë∂ÖÊó∂ÁöÑÈóÆÈ¢òÂèëÁîü„ÄÇ\n\nÂõ†Ê≠§ÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπ mongoose ËÆæÁ´ãÈáçËøûÊú∫Âà∂ÔºåÂΩìËøûÊé•Ë∂ÖÊó∂Á≠âÊÉÖÂÜµÂá∫Áé∞Êó∂Ôºå‰πüËÉΩËá™Âä®ÂØπÊï∞ÊçÆÂ∫ìËøõË°åÈáçËøûÊìç‰Ωú„ÄÇ\n\n```js\nconst connect = () => {\n  mongoose.connect(uri, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n    autoIndex: false,\n  });\n};\ndb.on('error', error => {\n  console.error('Error in MongoDB connection:' + error);\n  mongoose.disconnect();\n});\ndb.on('disconnected', () => {\n  console.log('MongoDB disconnected!');\n  connect();\n});\ndb.on('close', () => {\n  console.log('Lost MongoDB connection...');\n  connect();\n  console.log('Reconnect to MongoDB, wait...');\n});\n```\n\nÈô§‰∫ÜÊúçÂä°Á´ØÂÜÖÈÉ®ËøõË°åÊï∞ÊçÆÂ∫ìÈáçËøûÁöÑ‰øùÈöúÂ§ñÔºåÂêéÈù¢‰ºöÊèêÂà∞ÂÆπÂô®ÁºñÊéí‰πü‰ºöÂá∫Áé∞ËøôÊ†∑ÁöÑÊÉÖÂÜµÔºåserver È°πÁõÆ‰æùËµñ database È°πÁõÆÁöÑÂêØÂä®Ôºå`docker-compose.yml` ‰∏≠Êúâ‰∏™ÈÖçÁΩÆÈ°πÊòØ `depends_on`ÔºåË°®Á§∫Á≠âÂæÖÊåáÂÆöÁöÑÂÆπÂô®ÂêØÂä®ÂêéÂÜçËøõË°åÂΩìÂâçÂÆπÂô®ÁöÑÂêØÂä®„ÄÇÂú®ÂÆπÂô®ÁöÑËßíÂ∫¶Êù•ÁúãÔºåÂÆÉÂè™Áü•ÈÅìÂÆπÂô®ÁöÑÊòØÂê¶Â∑≤ÁªèÂêØÂä®Ôºå‰πüÂèØ‰ª•ÁêÜËß£‰∏∫ÊòØÂê¶Â∑≤ÁªèÊâßË°å‰∫Ü `docker run` ÁöÑÂëΩ‰ª§ÔºåÂÆπÂô®ÂÜÖÈÉ®ÁöÑÈ°πÁõÆÊòØÂê¶ÂêØÂä®ÔºåÂÆπÂô®ÁöÑÁÆ°‰∏çÁùÄÁöÑÔºåÂÆÉ‰πü‰∏çÁü•ÈÅìÔºåÊâÄ‰ª•Â¶ÇÊûúÂÜÖÈÉ®ÊúçÂä°ÂêØÂä®Êó∂Èó¥‰πÖ‰∫éÂÆπÂô®‰πãÈó¥ÁºñÊéíÂêØÂä®ÁöÑÊó∂Èó¥ÔºåÂêåÊó∂‰∏§ËÄÖÂº∫‰æùËµñÊÄßË¥®ÁöÑÔºåÈÇ£‰πàÂ∞±‰ºöÂØºËá¥ÊüêÊñπÂá∫Áé∞ÈîôËØØÔºåËøôÊ†∑ÁöÑÊÉÖÂÜµÂ§ßÈÉ®ÂàÜÂá∫Áé∞Âú®ÂØπÊï∞ÊçÆÂ∫ìÁöÑËøûÊé•‰∏ä„ÄÇ\n\nÂèØËÉΩÁî±‰∫éÊé•Êî∂Âà∞ÁöÑÂèçÈ¶àÂ§™Â§öÔºåÂÆòÊñπÊñáÊ°£‰∏≠ [Control startup and shutdown order in Compose](https://docs.docker.com/compose/startup-order/) ‰πüÊòéÁ°ÆË°®Á§∫Ëøô‰∏™ÈóÆÈ¢òÔºåÂÆÉÊèê‰æõ‰∫ÜÂá†‰∏™ËΩÆËÆ≠ÂÆπÂô®ÊúçÂä°ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂåÖÊã¨ [wait-for-it.sh](https://github.com/vishnubob/wait-for-it)„ÄÅ[dockerize](https://github.com/jwilder/dockerize) Âíå [wait-for](https://github.com/Eficode/wait-for)„ÄÇ\n\n## ÊúçÂä°ÈÉ®ÁΩ≤\n\nÈ¶ñÂÖàÊàë‰ª¨ÂÖàÈÉ®ÁΩ≤Â•ΩÂâçÁ´ØÈ°πÁõÆÔºåÂâçÁ´ØÈ°πÁõÆÂÆπÂô®ÂÜÖÈÉ®ÊâßË°å Nginx ÂëΩ‰ª§ÂêØÂä®‰ª£ÁêÜÊúçÂä°Âô®‰ªéËÄåËΩ¨ÂèëËØ∑Ê±ÇÔºåÂ¶ÇÊûúÊåâÁÖßÂâçÈù¢ÊâÄÂàóÁöÑ Nginx ÈÖçÁΩÆÔºåÁêÜËÆ∫‰∏äÂ∫îËØ•ËÉΩÈ°∫Âà©ÂêØÂä®ÂÆπÂô®„ÄÇ\n\n‰∏çËøáËøôÈáå‰πüÊèê‰∏Ä‰∏ãÂÆûË∑µ‰∏≠ÈÅáÂà∞ÁöÑÈóÆÈ¢òÔºö\n\n```bash\n# ÂêØÂä®ÂÆπÂô®\n$ docker run -d --name totorox-admin -p 8200:80 hub.ppmoney.io/telescope/totorox-admin\nStarting nginx ... done\nAttating to nginx\n```\n\nÂ∞±ÊòØÊâßË°åÂÆåÊØïÂêéÔºåÁïåÈù¢‰ºö‰∏ÄÁõ¥ÂÅúÁïôÂú® `Attating to nginx`ÔºåÊ≤°ÊúâÊä•Èîô‰πüÊ≤°ÊúâÊèêÁ§∫ËøêË°åÊàêÂäü„ÄÇ\n\nËøô‰∏™ÈóÆÈ¢òÔºåÊòØÁî±‰∫éÂÆπÂô®ÂÜÖÈÉ® `/etc/nginx/conf.d/default.conf` Ë∑ØÂæÑ‰∏ãÁöÑ `default.conf` Êñá‰ª∂ÁöÑÁº∫Â§±ÊâÄÂØºËá¥ÔºåÊç¢Âè•ËØùËØ¥Â∞±ÊòØ Nginx ÂêØÂä®ÊâÄÈúÄË¶ÅÊâßË°åÁöÑÈªòËÆ§ÈÖçÁΩÆ‰∏¢Â§±‰∫Ü„ÄÇÂú®ÂÆπÂô®ÁöÑÂ±ÇÈù¢ÂàÜÊûêÔºåÊúâÂèØËÉΩÊòØÂõ†‰∏∫ÂÆπÂô®ÊåÇËΩΩ‰∫Ü `volumes`ÔºåËÄåÂÆø‰∏ªÊú∫ÁöÑ `conf.d` ÁõÆÂΩï‰∏ã‰∏∫Á©∫Ë¶ÜÁõñ‰∫ÜÂÆπÂô®ÂÜÖÈÉ®ÂØπÂ∫îÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂ÔºåÂÖ∑‰ΩìÂéüÂõ†ÂèØ‰ª• `docker exec -it totorox-admin .` ËøõÂÖ•ÂÆπÂô®ÂÜÖÈÉ®Ê£ÄÊü•„ÄÇ\n\n‰∏ãÈù¢ÁΩóÂàó‰∫ÜÊ†πÊçÆÊûÑÂª∫Â•ΩÁöÑÈïúÂÉèÂú®ÊúçÂä°Âô®‰∏äÂêØÂä®ËøêË°åÂÆπÂô®Ôºö\n\n![ËøêË°åÂÆπÂô®ÂëΩ‰ª§](https://img.mrsingsing.com/docker-run.png)\n\nÂÆπÂô®ÂêØÂä®ÂêéÔºåÂèØ‰ª•ËæìÂÖ• `docker ps -a` Êü•ÁúãÂÆø‰∏ªÊú∫‰∏äÊâÄÊúâÁöÑÂÆπÂô®ÂàóË°®„ÄÇ\n\n![Êü•ÁúãÂÆø‰∏ªÊú∫ÂÆπÂô®ÂàóË°®](https://img.mrsingsing.com/docker-container-list.jpg)\n\n‰ªé‰∏äÂõæÂèØ‰ª•Ë°®Ê†º‰∏≠ÁöÑ STATUS Âíå PORTS ÂèØ‰ª•ÁúãÂá∫Êù•ÔºåÊúâ‰∏â‰∏™ÂÆπÂô®Â∑≤ÁªèÂêØÂä®Ôºå‰ΩÜÊòØ MongoDB ÁöÑÂÆπÂô®ÂàôÂêØÂä®Â§±Ë¥•‰∫Ü„ÄÇ\n\nÊü•ÁúãÊó•Âøó `docker logs <container-name>` Êü•ÁúãÂÆπÂô®ÁöÑËøêË°åÊó•ÂøóÔºåÊâæÂà∞Âá∫ÈîôÁöÑÂéüÂõ†ÔºàËøôÈáåÂè™ÊòØ‰∏∫‰∫ÜÊºîÁ§∫ËÄåÂá∫ÈîôÔºå‰∏äËø∞Áõ∏ÂÖ≥‰ª£Á†ÅÂùáÈ™åËØÅÊúâÊïàÔºâ„ÄÇ\n\nËøôÈáåÂèØËÉΩ‰ºöÊúâ‰∫õÁñëÈóÆÔºåÊòØÂê¶Â∫îËØ•‰ΩøÁî® PM2 Á≠âÂÆàÊä§ËøõÁ®ãÂ∑•ÂÖ∑ÂØπËøõÁ®ãËøõË°åÂÆàÊä§Âë¢Ôºü\n\nÂÆûÈôÖ‰∏äÂÆπÂô®‰∏≠ÁöÑÂ∫îÁî®ÈÉΩÂ∫îËØ•ÂâçÂè∞ÊâßË°åËøêË°åÔºåËÄåÈùûÂêéÂè∞ÊâßË°åÔºåÂÆπÂô®ÂÜÖÊ≤°ÊúâÂêéÂè∞ÊúçÂä°ÁöÑÊ¶ÇÂøµ„ÄÇÂØπ‰∫éÂÆπÂô®ËÄåË®ÄÔºåÂÖ∂ÂêØÂä®Á®ãÂ∫èÂ∞±ÊòØÂÆπÂô®Â∫îÁî®ËøõÁ®ãÔºåÂÆπÂô®Â∞±ÊòØ‰∏∫‰∫Ü‰∏ªËøõÁ®ãËÄåÂ≠òÂú®ÁöÑÔºå‰∏ªËøõÁ®ãÈÄÄÂá∫ÔºåÂÆπÂô®Â∞±Â§±Âéª‰∫ÜÂ≠òÂú®ÁöÑÊÑè‰πâ„ÄÇ ÊØîÂ¶Ç `CMD service nginx start` ÂÆÉÁ≠âÂêå‰∫é `CMD [ \"bash\", \"-c\", \"service nginx start\"]` ‰∏ªËøõÁ®ãÂÆûÈôÖ‰∏äÊòØ `bash`Ôºå`bash` ‰πüÂ∞±ÁªìÊùü‰∫ÜÔºå`bash` ‰Ωú‰∏∫‰∏ªËøõÁ®ãÈÄÄÂá∫‰∫Ü„ÄÇÂõ†Ê≠§Âú®Êàë‰ª¨ÁöÑÈïúÂÉèÊûÑÂª∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÂùáÁõ¥Êé•ÂºÄÂêØÊúçÂä°ËÄåÈùûÈÄöËøá PM2 Êàñ Forever Á≠âÂ∑•ÂÖ∑ÂºÄÂêØ„ÄÇ\n\nÂÆπÂô®ÁöÑÂêØÂä®Áõ∏ÂØπÊØîËæÉÁÆÄÂçïÔºåÊ†πÊçÆÈúÄË¶Å‰ΩøÁî®ÈÖçÁΩÆÈ°πÂç≥ÂèØÂø´ÈÄüÂêØÂä®/ÂÅúÊ≠¢ÂÆπÂô®„ÄÇ‰ΩÜÊòØÔºåÊØèÊ¨°ÈÉ®ÁΩ≤ÈÉΩÈúÄË¶ÅËæìÂÖ•‰∏ÄÂ§ß‰∏≤ÁöÑÂëΩ‰ª§ÔºåÂì™Â§©ÂøòËÆ∞‰∫ÜÂì™‰∏™ÂèÇÊï∞Âøò‰∫Ü‰º†ÊÄé‰πàÂäûÔºåÂëΩ‰ª§ÁöÑÊâßË°åÈ°∫Â∫èË∞ÉÊç¢‰∫ÜÊÄé‰πàÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶Å‰∏ÄÁßçÂÆπÂô®ÁºñÊéíÁöÑÊñπÂºèÔºåËÆ©ÊØèÊ¨°ÂÆπÂô®Êõ¥Êñ∞ÈÉ®ÁΩ≤ÈÉΩËÉΩÈÄöËøáÊõ¥ÁÆÄ‰æøÁöÑÂëΩ‰ª§ÂÆûÁé∞„ÄÇ\n\n## ÂÆπÂô®ÁºñÊéí\n\ndocker-compose Ë¥üË¥£ÂÆûÁé∞ÂØπ Docker ÂÆπÂô®ÈõÜÁæ§ÁöÑÂø´ÈÄüÁºñÊéí„ÄÇ‰ΩøÁî®ËÄÖÈÄöËøá `docker-compose.yml` Ê®°ÁâàÊñá‰ª∂ÂÆö‰πâ‰∏ÄÁªÑÂÖ≥ËÅîÁöÑÂ∫îÁî®ÂÆπÂô®‰∏∫‰∏Ä‰∏™È°πÁõÆ„ÄÇÂÆÉÈªòËÆ§ÁÆ°ÁêÜÂØπË±°ÊòØÈ°πÁõÆÔºåÈÄöËøáÂ≠êÂëΩ‰ª§ÂØπÈ°πÁõÆ‰∏≠ÁöÑ‰∏ÄÁªÑÂÆπÂô®ËøõË°å‰æøÊç∑Âú∞ÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåÂ∞±ÊòØÊääÂàöÊâç‰∏ÄËøû‰∏≤ÁöÑÂëΩ‰ª§Âà©Áî®ÈùôÊÄÅÁöÑÈÖçÁΩÆÊñá‰ª∂ËÆ∞ÂΩï‰∏ãÊù•ÔºåÂêØÂä®ÂÆπÂô®Âè™ÈúÄÈÄöËøá `docker compose up -d` ÂëΩ‰ª§ËøêË°åÂç≥ÂèØ„ÄÇ\n\n![ÂÆπÂô®ÁºñÊéí](https://img.mrsingsing.com/docker-compose.png)\n\nÈ¶ñÂÖàÔºåÊàë‰ª¨ÈúÄË¶ÅÊ≥®ÊÑè `docker-compose` ÁöÑÁâàÊú¨ÈóÆÈ¢òÔºåÊúâÁöÑÈÖçÁΩÆÈ°πÊòØ version2.0 Ê≤°ÊúâÔºåËÄå version3.0 Êñ∞Â¢ûÁöÑÔºåËØ¶ÊÉÖÁõ¥Êé•ÁúãÂÆòÊñπÊñáÊ°£ [Compose file versions and upgrading](https://docs.docker.com/compose/compose-file/compose-versioning/) Âç≥ÂèØ„ÄÇ\n\n`docker-compose.yml` ÂÆö‰πâ‰∫ÜÂêØÂä®ÂÆπÂô®ÂêçÁß∞„ÄÅÈïúÂÉèÂú∞ÂùÄ„ÄÅÂØπÂ§ñÊö¥Èú≤ÁöÑÁ´ØÂè£„ÄÅÁéØÂ¢ÉÂèòÈáè„ÄÅÊï∞ÊçÆÂç∑‰ª•ÂèäÂÆπÂô®ÂêØÂä®ÁöÑÂÖàÂêéÈ°∫Â∫èÁ≠â„ÄÇ\n\n`docker-compose` ÂêØÂä®Êó∂‰ºöÂÖàËé∑ÂèñÊú¨Âú∞ÈïúÂÉèÔºåÂ¶ÇÊûúÊú¨Âú∞Â∑≤ÁªèÊúâÂØπÂ∫îÁöÑÈïúÂÉèÂàô‰ºöÁõ¥Êé•‰ΩøÁî®ÔºåÂ¶ÇÊûúÊú¨Âú∞Ê≤°ÊúâÊâæÂà∞ÔºåÂàô‰ºö‰ªéËøúÁ®ã‰ªìÂ∫ìÊãâÂèñÂà∞Êú¨Âú∞ÂêéÂÜçÂêØÂä®„ÄÇ\n\n`restart: always` ÈÖçÁΩÆÈ°πÂèØ‰ª•ËÆ©ÂÆπÂô®Âú®ÂÜÖÈÉ®ÊúçÂä°ÊåÇÊéâÁöÑÊó∂ÂÄôÔºåËá™Âä®ÈáçÊñ∞ÂêØÂä®ÂÜÖÈÉ®ÊúçÂä°„ÄÇ\n\n‰ªìÂ∫ìÂÖ¨ÂºÄÁöÑ‰ª£Á†ÅÂ∫îËØ•ÈúÄË¶ÅÂØπÊñá‰ª∂ËøõË°åËÑ±ÊïèÔºå‰πüÂ∞±ÊòØÂ∞ÜÈÖçÁΩÆÊñá‰ª∂ÔºàÂåÖÊã¨ÁôªÂΩïÊï∞ÊçÆÂ∫ìÁöÑÁî®Êà∑ÂêçÂØÜÁ†ÅÁ≠âÔºâÊéíÈô§ÂÖ¨ÂºÄÁöÑÊñá‰ª∂ÂàóË°®‰∏≠„ÄÇ\n\n```bash\n$ docker run -e VARIABLE1 --env VARIABLE2=foo --env-file ./env.list ubuntu bash\n```\n\n---\n\n**ÂèÇËÄÉËµÑÊñôÔºö**\n\n- [Passing variables to Docker](https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file)\n- [Pass Docker Environment Variables During The Image Build](https://vsupalov.com/docker-build-pass-environment-variables/)\n- [How To Pass Environment Info During Docker Builds](https://blog.bitsrc.io/how-to-pass-environment-info-during-docker-builds-1f7c5566dd0e)\n- [How to setup Node environment variable in Dockerfile for running node.js application?](https://stackoverflow.com/questions/42992397/how-to-setup-node-environment-variable-in-dockerfile-for-running-node-js-applica)\n- [How to create a Node App within a Docker container with Mongo](https://hn.werick.codes/how-to-create-a-node-app-within-a-docker-container-with-mongo-cjwjd3l4t00067rs18w7035oc)\n- [Cannot connect from node to mongo replicaset in docker](http://quabr.com/57123227/cannot-connect-from-node-to-mongo-replicaset-in-docker)\n- [Docker Node È°πÁõÆËøûÊé• MongoDB](https://blog.csdn.net/weixin_30466953/article/details/97366689)\n- [ÂçáÁ∫ß Docker ÂêéÈáçÂêØÂÆπÂô®Âá∫Áé∞ÈîôËØØ Unknown runtime specified docker-runc](https://blog.csdn.net/wxb880114/article/details/88869215)\n- [Mongoose ËøúÁ®ãËøûÊé• MongoDBÔºåÂΩìÂÆ¢Êà∑Á´ØÊñ≠ÂºÄÁΩëÁªúÈáçËøûÊó∂Êä•Èîô topology was destoryedÔºü](https://segmentfault.com/q/1010000010768993)\n- [ËøôÂèØËÉΩÊòØÁΩëÁªú‰∏äÂîØ‰∏Ä‰∏ÄÁØáÁªôÂâçÁ´ØÂÜôÁöÑ Docker+Node+Nginx+MongoDB ÁöÑÊú¨Âú∞ÂºÄÂèë+ÈÉ®ÁΩ≤ÂÆûÊàò](https://juejin.im/post/5ddb3f85e51d45231576af3c)\n","source":"_posts/docker-deploy-pratice.md","raw":"---\ntitle: Web ÂâçÂêéÁ´ØÂ∫îÁî® Docker ÂÆπÂô®ÂåñÁã¨Á´ãÈÉ®ÁΩ≤ÂÆûË∑µ\ndate: '2020-04-20'\n---\n\nÂú®‰∫∫Á±ªÁ§æ‰ºöÂ§ßÂàÜÂ∑•Ë∂äÊù•Ë∂äÁ≤æÁªÜÁöÑÂ§ßËÉåÊôØ‰∏ãÔºåÂêÑÂºèÂêÑÊ†∑ÁöÑËΩØ‰ª∂ÊäÄÊúØÂÖ¨Âè∏Â±ÇÂá∫‰∏çÁ©∑Ôºå‰∏∫ÂêÑË°åÂêÑ‰∏öÊèê‰æõÁùÄÊàñÂ§ß‰ºóÂåñÊàñÂÖ∑ÊúâÁâπËâ≤ÁöÑËΩØ‰ª∂ÊúçÂä°ÔºåÂ§ßÈÉ®ÂàÜËΩØ‰ª∂ÊúçÂä°ÊòØÂÖ¨ÊúâÊÄßË¥®ÁöÑÔºå‰πüÂ∞±ÊòØËøô‰∫õÊúçÂä°Êèê‰æõÂïÜÂÜÖÈÉ®ÂçïÁã¨ÁöÑËøêËê•ËΩØ‰ª∂Âπ≥Âè∞Ôºå‰ΩøÁî®ËÄÖËé∑ÂèñËΩØ‰ª∂‰ΩøÁî®ÊùÉÂêéÂú®ÂÖ∂Âπ≥Âè∞Áîü‰∫ßÂÜÖÂÆπÔºåÂπ∂Áî±ÊúçÂä°ÂïÜÊèê‰æõÊï∞ÊçÆÂ≠òÂÇ®ÊúçÂä°ÔºåËøôÁßçÊÄßË¥®ÁöÑÂπ≥Âè∞ÂØπ‰∫éËΩØ‰ª∂ÂºÄÂèëÂïÜÊù•ËØ¥ÈúÄË¶ÅËÄÉËôëÊï∞ÊçÆÁöÑÈöîÁ¶ªÔºåÂØπ‰∫é‰ΩøÁî®ËÄÖÊù•ËØ¥ÂàôÂáèÂ∞ë‰∫ÜÁª¥Êä§ÊàêÊú¨Ôºå‰ΩÜÊòØÊï∞ÊçÆÂπ∂ÈùûÁßÅËá™Â≠òÂÇ®Êó†Ê≥ïÁ°Æ‰øùÂÆâÂÖ®ÊÄß„ÄÇËÄåÁõ∏ÂØπ‰∫éÂÖ¨ÊúâÊÄßËΩØ‰ª∂ÊúçÂä°ÁöÑÂ∞±ÊòØÁßÅÊúâÂåñËΩØ‰ª∂ÊúçÂä°ÔºåËøôÁ±ªÂûã‰∫ßÂìÅÊèê‰æõÂèØÈÉ®ÁΩ≤Ëá≥ÂÆ¢Êà∑ÁßÅËá™ÁöÑÊúçÂä°Âô®‰∏äÁöÑÁâàÊú¨ÔºåÊï∞ÊçÆÁî±ÂÆ¢Êà∑Ëá™Ë∫´Â≠òÂÇ®ÔºåÊüêÁßçÁ®ãÂ∫¶‰∏ä‰øùËØÅÁöÑ‰∫ÜÊï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄß„ÄÇ\n\nÂú® PPmoney ÂÜÖÈÉ®ÔºåÈæôÁå´ X ÈÖçÁΩÆÂπ≥Âè∞Êèê‰æõÁªôÁêÜË¥¢ÂèäÂÄüË¥∑‰∏§‰∏™ÊäÄÊúØÂõ¢Èòü‰ΩøÁî®ÔºåÂØπ‰∫éÈ°µÈù¢„ÄÅÊ®°Áâà„ÄÅÁªÑ‰ª∂„ÄÅÁ¥†ÊùêÈÉΩÈúÄË¶ÅÂú®ÂÖ¨ÂÖ±Á©∫Èó¥ËøõË°åÂÖ±‰∫´Â≠òÂÇ®ÔºåËÄåÁé∞ÊúâÁöÑ‰∫∫ÂëòÊùÉÈôêÊú∫Âà∂Êó†Ê≥ïÂØπËøô‰∫õË¶ÅÁ¥†ËøõË°åÁ≠õÈÄâÂå∫ÂàÜÔºåÊó†ÂèØÈÅøÂÖçÂá∫Áé∞ÁÆ°ÁêÜÊ∑∑‰π±ÁöÑÂ±ÄÈù¢„ÄÇËÄåÊ†πÊçÆ‰∏çÂêåÁöÑÂõ¢Èòü„ÄÅ‰∏çÂêåÁöÑÈÉ®ÁΩ≤ÁéØÂ¢ÉËøõË°åÁ≥ªÁªüÈÉ®ÁΩ≤‰πüÊòØÈúÄÊ±ÇÁöÑÂÖ≥Ê≥®ÁÇπ„ÄÇËÄÉËôëÂà∞ÂØπÊï∞ÊçÆÁöÑÈöîÁ¶ªÔºå‰ª•ÂèäÊú™Êù•ÈæôÁå´ X ‰Ωú‰∏∫ËΩØ‰ª∂ÊúçÂä°ÂØπÂ§ñÊèê‰æõÂïÜ‰∏öÊÄßË¥®ÁöÑÊúçÂä°Ôºå‰∏∫ÈæôÁå´ X Â¢ûÂº∫ÂèØÁã¨Á´ãÈÉ®ÁΩ≤ÁöÑÂäüËÉΩÁöÑ‰∫ãÂÆúÂç≥Êèê‰∏äÂºÄÂèëÁöÑÊó•Á®ã„ÄÇ\n\nÂú®ÂØπÈæôÁå´ X ÁöÑÁã¨Á´ãÈÉ®ÁΩ≤ÁöÑÊäÄÊúØÈÄâÂûã‰∏äÊàë‰ª¨ÈÄâÊã©‰∫Ü Docker ÂÆπÂô®ÂåñÊäÄÊúØ„ÄÇ‰πãÊâÄ‰ª•ÈÄâÊã© Docker ÊòØÂõ†‰∏∫ÂÆπÂô®ÊäÄÊúØÂØπËøõÁ®ãËøõË°åÂ∞ÅË£ÖÈöîÁ¶ªÔºåËÉΩÂ§üÈ´òÊïàÂú∞Âú®Âà©Áî®ÊúçÂä°Âô®ËµÑÊ∫ê‰ª•Âèä‰æøÊç∑Âú∞Âú®Â§öÂπ≥Âè∞Èó¥ËøõË°åËøÅÁßª„ÄÇ\n\nÂú®ËøôÁØáÊñáÁ´†‰∏≠ÊàëÂ∞ùËØïÊääÂÆπÂô®ÂåñÊîπÈÄ†ËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑÂùë‰ΩçËÆ∞ÂΩï‰∏ãÊù•‰∏∫Âêé‰∫∫Êèê‰æõÂÄüÈâ¥Ôºå‰πüÊòØÂØπÊï¥‰∏™ÂùéÂù∑ÁöÑËøáÁ®ãÁöÑËÆ∞ÂΩï„ÄÇ\n\n<!-- more -->\n\n## ÂÆπÂô®ÂåñÊäÄÊúØ\n\nÂÆπÂô®ÊäÄÊúØÂØπËøõÁ®ãËøõË°åÂ∞ÅË£ÖÈöîÁ¶ªÔºåÂ±û‰∫éÊìç‰ΩúÁ≥ªÁªüÂ±ÇÈù¢ÁöÑËôöÊãüÂåñÊäÄÊúØ„ÄÇÁî±‰∫éÈöîÁ¶ªÁöÑËøõÁ®ãÁã¨Á´ã‰∫éÂÆø‰∏ªÂíåÂÖ∂‰ªñÁöÑÈöîÁ¶ªÁöÑËøõÁ®ãÔºåÂõ†Ê≠§Áß∞‰∏∫ÂÆπÂô®„ÄÇ\n\n![ÊúçÂä°Âô®‰∏≠ÁöÑÂÆπÂô®](https://img.mrsingsing.com/docker-in-server.png)\n\nDocker ÂÆπÂô®ÂåñÊäÄÊúØÂÖ≥ÈîÆÊ†∏ÂøÉÂè™ÈúÄË¶ÅÊéåÊè°‰∏â‰∏™Ê¶ÇÂøµÔºö\n\n- ÈïúÂÉè Image\n- ÂÆπÂô® Container\n- ‰ªìÂ∫ì Repository\n\n‰ªéÂ∞èÁôΩÁöÑËßíÂ∫¶ÁêÜËß£ÁöÑËØùÂèØ‰ª•Êää **ÈïúÂÉè** Âíå **ÂÆπÂô®** Á±ªÊØî‰∏∫Èù¢ÂêëÂØπË±°ÁºñÁ®ã‰∏≠ÁöÑÁ±ªÂíåÂÆû‰æãÔºåÈïúÂÉèÊòØÈùôÊÄÅÁöÑÂÆö‰πâÔºåËÄåÂÆπÂô®ÂàôÊòØÈïúÂÉèËøêË°åÊó∂ÁöÑÂΩ¢ÊÄÅ„ÄÇÊàë‰ª¨ÂèØ‰ª•ÊääÂÆπÂô®ÊÉ≥ÂÉèÊàêÂåÖË£ÖÁõíÔºåÂåÖË£ÖÁõíÈáåË£ÖËΩΩÁùÄ‰∏Ä‰∏™ÂæÆÂûãÊìç‰ΩúÁ≥ªÁªüÔºåÂÖ∂ÂÜÖÈÉ®ËøêË°åÁùÄÊàë‰ª¨ÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ\n\n‰ªìÂ∫ìÂàôÊòØÂ≠òÊîæÈïúÂÉèÁöÑÂú∞ÊñπÔºåÂèØ‰ª•‰∏∫ÈïúÂÉèÊâì tagÔºàÊ†áÁ≠æÔºâÔºåÂ∞±Â•ΩÂÉèÊàë‰ª¨‰∏∫ git commit ÊâìÁâàÊú¨Âè∑ÁöÑ tag ‰∏ÄÊ†∑Ôºå‰ΩøÁî®ËÄÖÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÈÄâÊã©ÁâàÊú¨ÈÉ®ÁΩ≤ÔºåÁ®ãÂ∫èÊïÖÈöúÊó∂‰πüËÉΩÁ´ãÈ©¨Ê†πÊçÆÁâàÊú¨ËøõË°åÂõûÊªö„ÄÇ\n\nDocker Hub ÊòØ Docker ÂÆòÊñπÁöÑÂÖ¨ÂºÄÁöÑ‰ªìÂ∫ìÔºåÁßÅÊúâ‰ªìÂ∫ìÂàôÊúâ HarborÔºåÂïÜ‰∏öÂåñÁöÑÂÆπÂô®ÊúçÂä°Êèê‰æõÂïÜÊúâÈòøÈáå‰∫ë„ÄÅDao Cloud Á≠â„ÄÇÊàë‰ª¨ÂÖ¨Âè∏ÈááÁî®ÁöÑÊòØÂÜÖÈÉ®Ëá™Âª∫ÁöÑ Harbor ‰ªìÂ∫ì„ÄÇ\n\nÂõ†‰∏∫Êú¨ÁØáÊñáÁ´†ÈùûÁßëÊôÆÊÄßË¥®ÔºåÊâÄ‰ª•ÂØπ‰∫é Docker ÁöÑ‰ªãÁªçÂ∞±‰∏çËøá‰∫éÊ∑±ÂÖ•ÂèôËø∞ÔºåÊúâÂÖ¥Ë∂£ÂèØ‰ª•ÊêúÁ¥¢Áõ∏ÂÖ≥ÊñáÁ´†ËøõË°åÁ†îÁ©∂ÔºåÂΩìÁÑ∂È¶ñÊé®ËøòÊòØÊää [ÂÆòÊñπÊñáÊ°£](https://docs.docker.com/) Áúã‰∏ÄÈÅçÔºåÊØïÁ´üÁ¨¨‰∏ÄÊâãËµÑÊñôÊâçÊòØÊúÄÂÖ∑ÂèÇËÄÉ‰ª∑ÂÄºÁöÑ„ÄÇ\n\n## ÈïúÂÉèÂà∂‰Ωú\n\nÂØπÈæôÁå´ X ËøõË°åÂÆπÂô®ÂåñÊîπÈÄ†ÈúÄË¶ÅÈÉ®ÁΩ≤Âõõ‰∏™Â≠êÈ°πÁõÆÔºåÂàÜÂà´ÊòØ React ÂÖ®ÂÆ∂Ê°∂ÁöÑÂÆ¢Êà∑Á´ØÈ°πÁõÆ„ÄÅKoa ÊúçÂä°Á´ØÈ°πÁõÆ„ÄÅÈ°µÈù¢Áà¨Ëô´È°πÁõÆ‰ª•Âèä MongoDB Êï∞ÊçÆÂ∫ì„ÄÇ\n\nÂú® Docker ‰∏≠ÔºåÈïúÂÉèÊòØÊ†πÊçÆÈÖçÁΩÆÊñá‰ª∂ Dockerfile ÊûÑÂª∫ÁöÑ„ÄÇÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§ÂèØ‰ª•ÊâßË°åÊûÑÂª∫ÁöÑÂ∑•‰ΩúÔºö\n\n```bash\n# docker build -t <ÈïúÂÉèÂêçÁß∞> <ÊûÑÂª∫ÁõÆÂΩï>\n$ docker build -t totorox-admin .\n```\n\n`-t` Ë°®Á§∫Â∞ÜÈïúÂÉèÂëΩÂêç‰∏∫ `totorox-admin`„ÄÇ\n\n### ÂâçÁ´ØÈ°πÁõÆ\n\nÂ¶Ç‰∏ãÂõæÊâÄÁ§∫‰∏∫ÂâçÁ´ØÈ°πÁõÆÈïúÂÉèÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºö\n\n![Dockerfile in Frontend Project](https://img.mrsingsing.com/frontend-dockerfile.png)\n\nÂú® Dockerfile ‰∏≠ `FROM` Êåá‰ª§ÊòØÂøÖÁÑ∂Â≠òÂú®ÁöÑÂπ∂‰∏î‰Ωú‰∏∫ÊûÑÂª∫ÁöÑÂºÄÂ§¥ÔºåËØ•Êåá‰ª§ÂàùÂßãÂåñ‰∏Ä‰∏™Êñ∞ÁöÑÊûÑÂª∫Èò∂ÊÆµÔºà‰πüÂ∞±ÊòØÊúâÂ§öÂ∞ë‰∏™ `FROM` Êåá‰ª§Â∞±ÊúâÂ§öÂ∞ë‰∏™ÈïúÂÉèÊûÑÂª∫Èò∂ÊÆµÔºâÂπ∂‰∏∫ÂêéÁª≠Êåá‰ª§ËÆæÁΩÆÂü∫Á°ÄÊò†ÂÉè„ÄÇ\n\n`COPY` Êåá‰ª§Ë°®Á§∫Êã∑Ë¥ùËµÑÊ∫êËá≥ÈïúÂÉèÂÜÖÈÉ®ÔºåËøôÈáåÊúâ‰∏™‰ºòÂåñÁöÑÂ∞èÊäÄÂ∑ßÔºåÂ∞±ÊòØÂú®È°πÁõÆÊ†πÁõÆÂΩïÊ∑ªÂä† `.dockerignore` Êñá‰ª∂Ôºå‰∏é `.gitignore` Êàñ `.npmignore` Á±ª‰ººÔºåÊ∑ªÂä†Âà∞ËØ•Êñá‰ª∂‰∏ãÁöÑÁõÆÂΩï Docker ÊûÑÂª∫ÈïúÂÉèÊó∂Â∞ÜÂøΩÁï•ÂÖ∂‰∏≠ÁöÑÊñá‰ª∂„ÄÇÊàë‰ª¨ÂèØ‰ª•ÊääÂè™Áî®‰∫é‰ª£Á†ÅÂºÄÂèëÈò∂ÊÆµÊàñËÄÖËßÑËåÉÊÄßÁöÑÊñá‰ª∂ÊéíÈô§Âú®ÊûÑÂª∫‰πãÂ§ñÔºå‰æãÂ¶Ç `.vscode`„ÄÅ`.eslint`„ÄÅ`dist` Á≠â„ÄÇ\n\nÊé•‰∏ãÊù•Â∞±ÊòØÂ∏∏ËßÑÁöÑÂÆâË£Ö‰æùËµñ„ÄÅÈ°πÁõÆÊûÑÂª∫ÊâìÂåÖÁöÑÊåá‰ª§Ôºå`npm install` ÂèØ‰ª•ÊåáÂÆö‰∏∫Ê∑òÂÆùÈïúÂÉèÔºåÂú®ÂõΩÂÜÖÁöÑËØù‰∏ãËΩΩÈÄüÂ∫¶Áõ∏ÂØπÊúâ‰øùÈöúÔºåËÉΩÂ§üÁº©ÂáèÈïúÂÉèÁöÑÊûÑÂª∫Êó∂Èó¥„ÄÇ\n\nÁ±ª‰ººÂú∞ÔºåÁî±‰∫éÊàë‰ª¨ÁöÑÈ°πÁõÆ‰∏≠‰ΩøÁî®Âà∞‰∫Ü Sass È¢ÑÁºñËØëÔºåWebpack ÊâìÂåÖÈúÄË¶ÅÁî®Âà∞ `node-sass` Êèí‰ª∂ÔºåÊØèÊ¨°ÈÉΩÂøÖÈ°ª‰∏ãËΩΩ `win32-x64-57_binding.node` Êñá‰ª∂ÔºåÊâÄ‰ª•Ë¶Å‰∏çÈúÄË¶ÅÊº´ÈïøÁöÑÁ≠âÂæÖÔºàÂõ†‰∏∫‰ªéÂõΩÂ§ñÊ∫ê‰ªìÂ∫ì‰∏ãËΩΩÔºâÔºåË¶Å‰∏ç‰∏ãËΩΩÂ§±Ë¥•Êä•‰∏ÄÁ≥ªÂàóÁöÑÈîô„ÄÇÂπ∏Â•ΩÂÆÉÊèê‰æõ‰∫Ü‰∫∫ÊÄßÂåñÁöÑÈÖçÁΩÆÔºåÂèØ‰ª•ÈÄöËøáÁéØÂ¢ÉÂèòÈáèÊîπÂèò‰∏ãËΩΩÁöÑÂú∞ÂùÄ„ÄÇÊàë‰ª¨Âú® `.npmrc` ‰∏≠Â∞Ü‰∏Ä‰∫õ‰æùËµñÂåÖ‰∏≠ÈúÄË¶ÅÈ¢ùÂ§ñ‰∏ãËΩΩÁöÑÊñá‰ª∂ÁöÑÈìæÊé•Âú∞ÂùÄÁöÑÁéØÂ¢ÉÂèòÈáèÊåáÂÆö‰∏∫ÂõΩÂÜÖÁöÑÈïúÂÉèÂú∞ÂùÄ„ÄÇÂΩìÁÑ∂Âï¶Âπ∂ÈùûÊâÄÊúâ‰æùËµñÂåÖÈÉΩÊîØÊåÅËøôÊ†∑ÂÅöÔºåÊúâ‰∫õÂÜôÊ≠ª‰∫Ü‰∏ãËΩΩÂú∞ÂùÄÊòØÊó†Ê≥ïÈÄöËøáËøôÊ†∑ÁöÑÊñπÊ≥ï‰ºòÂåñÁöÑ„ÄÇÈô§‰∫Ü‰∏äÈù¢ÊèêÂà∞ÁöÑ `node-sass`ÔºåÂÖ∂‰ΩôÂèØ‰ª•Âú® [Ê∑òÂÆùÈïúÂÉè](https://developer.aliyun.com/mirror/NPM?from=tnpm) ÊâæÂà∞ÂØπÂ∫îÁöÑÈïúÂÉèÂú∞ÂùÄÔºåÂêéÈù¢‰ºöÊèêÂà∞ÁöÑÈ°µÈù¢Áà¨Ëô´È°πÁõÆ‰∏≠‰ΩøÁî®ÁöÑ `phantomjs` ‰πüÊòØÈÄöËøáËøôÁßçÊñπÂºèÂ§ßÂπÖÂ∫¶ÂéãÁº©‰∫ÜÊûÑÂª∫Êó∂Èó¥„ÄÇ\n\n![.npmrcÈÖçÁΩÆÊñá‰ª∂](https://img.mrsingsing.com/npmrc.jpg)\n\nÁ¨¨‰∫åÈò∂ÊÆµÊàë‰ª¨‰ªéÈïúÂÉè‰ªìÂ∫ìËé∑Âèñ Nginx ÈïúÂÉè„ÄÇ‰∏ÄËà¨Âú∞ÔºåÂâçÁ´ØÈ°πÁõÆÊûÑÂª∫ÊâìÂåÖÂêéÁîüÊàêÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂ÔºåÈúÄË¶Å Web ‰ª£ÁêÜÊúçÂä°Âô®ËøõË°åËØ∑Ê±ÇËΩ¨ÂèëÔºåÊàë‰ª¨ËøôÈáåÁî®ÁöÑÊòØ NginxÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•Áî® Express ÂÆûÁé∞‰∏Ä‰∏™ Web ÊúçÂä°‰Ωú‰∏∫‰ª£ÁêÜËΩ¨Âèë„ÄÇ\n\nNginx ÈÖçÁΩÆÂíå‰ΩøÁî®Áõ∏ÂØπÊù•ËØ¥ÊØîËæÉÁÆÄÂçïÔºåÈÄöËøáÁÆÄÂçïÁöÑÈÖçÁΩÆÂç≥ÂèØÊã•ÊúâÈ´òÊÄßËÉΩÂíåÈ´òÂèØÁî®ÊÄßÔºå‰∏ãÈù¢ÊòØ Nginx ÁöÑÁ§∫‰æãÈÖçÁΩÆÔºö\n\n![NginxÈÖçÁΩÆ](https://img.mrsingsing.com/nginx-conf.png)\n\nÂú®ËØ•Èò∂ÊÆµ‰∏≠Ôºå‰∏ªË¶ÅÊòØÂ∞ÜÁ¨¨‰∏ÄÈò∂ÊÆµÁîüÊàêÁöÑ‰∫ßÁâ©ËΩ¨ÁßªÂà∞Á¨¨‰∫åÈò∂ÊÆµÔºåËøôÊòØÂõ†‰∏∫ÈïúÂÉèÊúÄÁªàÁöÑÂêØÂä®Êåá‰ª§ `CMD` ÊòØÂú®Á¨¨‰∫åÈò∂ÊÆµÔºåËÄå‰∏îÂàÜÈò∂ÊÆµÁöÑÈïúÂÉèÊûÑÂª∫ËÉΩÂ§ü‰ΩøÂæóÊúÄÁªàÂÆπÂô®ÂÜÖÂè™ÈúÄÊîæÁΩÆÊâìÂåÖÂêéÁöÑÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Âç≥ÂèØÔºå‰∏çÁî®ÂåÖÂê´Ê∫ê‰ª£Á†ÅÊñá‰ª∂ÔºåÈïúÂÉèÁöÑ‰ΩìÁßØ‰πü‰ºöÂõ†Ê≠§ËÄåÂ§ßÂπÖÂ∫¶Áº©ÂáèÔºåÂú®ÊüêÁßçÁ®ãÂ∫¶‰πüÁ°Æ‰øù‰∫ÜÊ∫ê‰ª£Á†ÅÁöÑ‰∏çÂØπÂ§ñÊ≥ÑÊºè„ÄÇ\n\nÊúÄÁªà `CMD` ÂëΩ‰ª§ÊòØÂÆπÂô®ËøêË°åÊó∂Âú®ÂÜÖÈÉ®ÊâßË°åÁöÑÊåá‰ª§„ÄÇËÄÉËôëÂà∞‰∏çÂêå‰ΩøÁî®ËÄÖÁöÑ API ÊúçÂä°Âô®ÂüüÂêçÊòØ‰∏çÂêåÁöÑÊòØÂä®ÊÄÅÂèòÂåñÁöÑÔºåÂú®Ê∫ê‰ª£Á†Å‰∏≠Êää API ÂüüÂêçÂÜôÊ≠ªÊòæÁÑ∂ÊòØ‰∏™‰∏çÊòéÊô∫ÁöÑÂÅöÊ≥ï„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨ÈÄöËøáÂú®ËøêË°åÂÆπÂô®Êó∂ÁöÑÁéØÂ¢ÉÂèòÈáèÊ§çÂÖ•ÂÜôÂ•ΩÁöÑ Shell ËÑöÊú¨ÔºåÈÄöËøá Shell ËÑöÊú¨ÁîüÊàêÂåÖÂê´ÂüüÂêçÁ≠â‰ø°ÊÅØÁöÑ JavaScript Êñá‰ª∂ÔºåHTML ÊñáÊ°£ÈÄöËøáÂÜôÂ•ΩÁöÑÂ§ñÈìæËØ•ËÑöÊú¨Êñá‰ª∂ÂÆûÁé∞Âä†ËΩΩÔºåËøôÊ†∑Âç≥ÂèØÊª°Ë∂≥Âä®ÊÄÅÂüüÂêçÂèòÊõ¥ÁöÑÈúÄÊ±Ç„ÄÇ\n\nÂú®ÈïúÂÉèÊûÑÂª∫ËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúÁªÜÂøÉËßÇÂØüÊâìÂç∞ÁöÑÊó•ÂøóÔºå‰ºöÂèëÁé∞ÊúâËøô‰πà‰∏ÄÂè•Ôºö\n\n![ÁßªÈô§‰∏≠Èó¥ÂÆπÂô®](https://img.mrsingsing.com/removeing-intermediate-container.jpg)\n\nÂÖ∂ÂÆû‰ªéÊûÑÂª∫ÁöÑÊó•Âøó‰∏≠ÂèØ‰ª•ÁúãÂà∞ÔºåÂÆûË¥®‰∏äÈïúÂÉèÊûÑÂª∫ÁöÑÊØè‰∏™Êåá‰ª§ÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™‰∏¥Êó∂ÁöÑ‰∏≠Èó¥ÂÆπÂô®ÔºåÊØèÂ±Ç‰∏≠Èó¥ÂÆπÂô®ÈÉΩÊòØ‰ª•ÂâçÈù¢‰∏ÄÂ±Ç‰∏≠Èó¥ÂÆπÂô®‰∏∫Âü∫Á°ÄÁöÑ„ÄÇÂΩìÂØπÂ∫îÁöÑÊåá‰ª§ÊâßË°åÂÆåÊØïÂêéÔºåÂØπÂ∫îÂ±ÇÁ∫ßÂ∞±‰∏ç‰ºöÂÜçÂèëÁîüÊîπÂèòÔºå‰ºöÁßªÈô§ËØ•‰∏¥Êó∂ÂàõÂª∫ÁöÑ‰∏≠Èó¥ÂÆπÂô®ÔºåÁÑ∂ÂêéÂÜçËøõË°å‰∏ã‰∏Ä‰∏™Êåá‰ª§Êìç‰Ωú„ÄÇ\n\nÊûÑÂª∫ÊàêÂäüÂêéÔºåÂú®ÂëΩ‰ª§Ë°å‰∏≠ËæìÂÖ• `docker images` Âç≥ÂèØÊü•ÁúãÂΩìÂâçÂÆø‰∏ªÊú∫ÁöÑ Docker ÈïúÂÉèÂàóË°®Ôºö\n\n![ÂÆπÂô®ÈïúÂÉè](https://img.mrsingsing.com/docker-images.jpg)\n\nÁî±‰∫éÊàë‰ª¨ÁöÑÈ°πÁõÆÊâÄÈúÄË¶ÅÁöÑÈïúÂÉèÂú®ÂÖ¨Âè∏ÂÜÖÈÉ®ÊúâÁßÅÊúâ‰ªìÂ∫ìÔºåÊâÄ‰ª•ÊûÑÂª∫Êó∂ÈÄüÂ∫¶Êúâ‰∏ÄÂÆöÁöÑ‰øùÈöúÔºåÂ¶ÇÊûúÊòØ‰∏™‰∫∫ÂºÄÂèëËÄÖÂú®Ëá™Â∑±ÁöÑÊúçÂä°Âô®‰∏äÊûÑÂª∫ÈïúÂÉèÂèØËÉΩÈúÄË¶Å‰ªéÂÖ¨Êúâ‰ªìÂ∫ì‰æãÂ¶Ç Docker Hub ÊãâÂèñÊâÄÈúÄË¶ÅÁöÑÈïúÂÉèÔºåËøôÈáåÊèê‰æõ‰∏Ä‰∏™‰ºòÂåñÁöÑÊâãÊÆµÔºåÂèØ‰ª•ÈÄöËøá‰øÆÊîπ Docker Daemon ÈÖçÁΩÆ `/etc/docker/daemon.json` ÁöÑÈïúÂÉèÂú∞ÂùÄÔºåÂÆûÁé∞ÈïúÂÉèÁöÑÂä†ÈÄüÔºåDocker ÂÆòÊñπÂíåÂõΩÂÜÖÂæàÂ§ö‰∫ëÊúçÂä°Âô®Âπ≥Âè∞ÈÉΩÊèê‰æõ‰∫ÜÂõΩÂÜÖÁöÑÂä†ÈÄüÊúçÂä°„ÄÇ\n\nüå∞ **Á§∫‰æãÔºö**\n\nËøôÈáåÊèê‰æõÁöÑÈïúÂÉèÂú∞ÂùÄ‰ªÖ‰æõÂèÇËÄÉÔºåÂèØ‰ª•Âà∞ÂØπÂ∫îÁöÑ‰∫ëÊúçÂä°ÂïÜÊâæÂà∞ÂØπÂ∫îÁöÑÈïúÂÉèÂä†ÈÄüÂú∞ÂùÄ„ÄÇ\n\n![ÈïúÂÉèÂä†ÈÄü](https://img.mrsingsing.com/docker-image-acceleration.png)\n\nÈô§Ê≠§‰πãÂ§ñÔºåÂú®‰ΩøÁî® Docker ÊûÑÂª∫ÈÉ®ÁΩ≤Â∫îÁî®ÂâçÊúÄÂ•ΩÁ°ÆËÆ§Â•Ω Docker ÁöÑÁâàÊú¨Ôºå‰æãÂ¶Ç CentOS 7 Á≥ªÁªüÈªòËÆ§ÁöÑ Docker ÁâàÊú¨ÊòØ 13ÔºåËÄå `FROM AS` ÁöÑËØ≠Ê≥ïÂàôÈúÄË¶Å Docker ÁâàÊú¨ 17 ‰ª•‰∏äÊâçÊîØÊåÅÔºåËøô‰∏™Êó∂ÂÄôÈúÄË¶ÅÂÖàÂØπÂÆø‰∏ªÊú∫ÁöÑ Docker ËøõË°åÁâàÊú¨Êõ¥Êñ∞„ÄÇ\n\nÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨ÁöÑ Docker ÂèØ‰ª•ÂèÇËÄÉÔºö\n\n[CentOS ÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨ÁöÑ Docker](https://www.jianshu.com/p/2e208721aa39)\n\nÂçáÁ∫ß Docker ÂêéÈáçÂêØÂÆπÂô®Âá∫Áé∞ÈîôËØØ `Unknown runtime specified docker runc` ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºö\n\n```bash\n$ grep -rl 'docker-runc' /var/lib/docker/containers/ | xargs sed -i 's/docker-runc/runc/g'\n\n$ systemctl stop docker\n\n$ systemctl start docker\n```\n\n### ÊúçÂä°Á´ØÈ°πÁõÆ\n\nÊé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúãÁî® Koa Êê≠Âª∫ÁöÑÊúçÂä°Á´ØÈ°πÁõÆÂ¶Ç‰ΩïÈÉ®ÁΩ≤ÔºåÁ±ª‰ººÊìç‰ΩúÊåá‰ª§Â∞±‰∏çÂÜçÈáçÂ§çËµòËø∞‰∫ÜÔºå‰∏ªË¶ÅË∞àË∞àÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂú∞Êñπ„ÄÇ\n\n![ÊúçÂä°Á´ØDockerfile](https://img.mrsingsing.com/backend-dockerfile.png)\n\nÂõ†‰∏∫È°πÁõÆ‰∏≠ÈÄöËøáÂºÄÂêØÂ≠êËøõÁ®ãÁöÑÊñπÂºèÊâßË°å Webpack ÂëΩ‰ª§ËøõË°åÈ°µÈù¢ÁöÑÁîüÊàêÔºåÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂú®ÂÆπÂô®ÂÜÖÂÖ®Â±ÄÂÆâË£Ö Webpack„ÄÇ\n\nÊàë‰ª¨ÁúãÂà∞ËøôÈáå‰∏∫‰∏Ä‰∏™Âêç‰∏∫ `wait-for-it.sh` ÁöÑÊèê‰æõ‰∫ÜÂèØÊâßË°åÁöÑÊùÉÈôêÔºåËÄå‰∏îÂú®ÂêéÁª≠ÁöÑ `CMD` Êåá‰ª§‰∏≠ÂÖàÊâßË°å‰∫ÜËØ•ËÑöÊú¨Êñá‰ª∂„ÄÇÂ∫îÁî®ÂÆπÂô®ÂåñÂêéÔºåDocker ÂÆπÂô®ÂêØÂä®Êó∂ÔºåÈªòËÆ§‰ΩøÁî®Èùû root Áî®Êà∑ÊâßË°åÂëΩ‰ª§ÔºåÊâÄ‰ª•Â∫îÁî®ÂÜÖÁöÑËÑöÊú¨Êñá‰ª∂Êó†Ê≥ïÊ≠£Â∏∏ÊâßË°åÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÊâßË°å `chmod a+x` ‰∏∫ËÑöÊú¨Êñá‰ª∂Êèê‰æõÂèØÊâßË°åÁöÑÊùÉÈôê„ÄÇËá≥‰∫éËøô‰∏™ËÑöÊú¨ÁöÑÂ≠òÂú®ÊÑè‰πâÊàë‰ª¨Âú®ÂêéÈù¢ÂÆπÂô®ÈÄöËÆØÁöÑÈÉ®ÂàÜÂÜçËØ¶ÁªÜËØ¥ÊòéÔºåÊöÇ‰∏îË∑≥Ëøá„ÄÇ\n\n‰∏ãÈù¢Êàë‰ª¨Ë∞àË∞à Dockerfile ‰∏≠ÁöÑËæìÂÖ•ÂèÇÊï∞ `ARG`„ÄÅÁéØÂ¢ÉÂèòÈáè `ENV` ‰ª•ÂèäÂ¶Ç‰ΩïÂ∞Ü Dockerfile ‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáè/‰º†ÂÖ•ÂèÇÊï∞Âú® `CMD` Êåá‰ª§‰∏≠ÁöÑ‰ΩøÁî®„ÄÇ\n\nÊåá‰ª§ `ARG` ÂÆö‰πâ‰∏Ä‰∏™ÂèòÈáèÔºåÁî®Êà∑ÂèØ‰ª•Âú®‰ΩøÁî® `docker build` ÂëΩ‰ª§‰ΩøÁî® `--build-arg <varname>=<value>` Ê†áÂøóÔºåÂú®ÊûÑÂª∫Êó∂Â∞ÜÂÖ∂‰º†ÈÄíÁªôÊûÑÂª∫Âô®„ÄÇ\n\n```dockerfile\nARG env\n\n# ÊåáÂÆöÈªòËÆ§ÂÄº\nARG env=local\n```\n\nÂ¶ÇÊûú `ARG` ÂØπÂ∫îÁöÑÂÄºÊúâÁº∫ÁúÅÂÄºÔºåÂπ∂‰∏îÂ¶ÇÊûúÂú®ÊûÑÂª∫Êó∂Ê≤°Êúâ‰º†ÈÄíÂÄºÔºåÂàôÊûÑÂª∫Âô®‰ΩøÁî®Áº∫ÁúÅÂÄº„ÄÇ\n\nDockerfile ÁöÑ `ENV` Êåá‰ª§Êúâ‰∏§Áßç‰π¶ÂÜôÊñπÂºèÔºö\n\n```dockerfile\nENV <key> <value>\n\n# ËøôÁßçÂÜôÊ≥ïÈîÆ/ÂÄº‰∏éÁ≠âÂè∑‰πãÈó¥‰∏çËÉΩÂ≠òÂú®Á©∫Ê†º\nENV <key>=<value>\n\n# ÈÄöËøáÊñúÊù† \\ Êç¢Ë°å‰∏ÄÊ¨°ÊÄßÂ£∞ÊòéÂ§ö‰∏™ÁéØÂ¢ÉÂèòÈáè\nENV API_URL=example.com \\\n    NODE_ENV=production \\\n    COMMAND=dev\n```\n\n‰∏é `ARG` Êåá‰ª§ÂØπÊØîÔºå`ENV` ÂßãÁªàÂ≠òÂú®‰∫éÈïúÂÉèÂΩì‰∏≠ÔºåËÄå `ARG` ‰ªÖÂú®ÊâßË°åÊó∂Â≠òÂú®„ÄÇ\n\nÂÖ≥‰∫é dockerfile ‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáèÊõøÊç¢ÂèØ‰ª•ÈòÖËØªÂÆòÊñπÊñáÊ°£‰∏≠ÊúâÂÖ≥ [ÁéØÂ¢ÉÂèòÈáèÊõøÊç¢](https://docs.docker.com/engine/reference/builder/#environment-replacement) ÁöÑÁõ∏ÂÖ≥Á´†ËäÇ„ÄÇ\n\n`CMD` Êåá‰ª§Êúâ‰∏âÁßç‰π¶ÂÜôÊñπÂºèÔºö\n\n```dockerfile\n# ‰ΩøÁî® exec ÊâßË°åÔºåËøôÁ±ªÊ†ºÂºèÂú®Ëß£ÊûêÊó∂‰ºöË¢´Ëß£ÊûêÊàê JSON Êï∞ÁªÑÔºåÂõ†Ê≠§‰∏ÄÂÆöË¶Å‰ΩøÁî®ÂèåÂºïÂè∑\nCMD [\"command\", \"instructions\", \"options\"]\n\n# ‰ΩøÁî® /bin/sh ‰∏≠ÊâßË°åÔºåÊèê‰æõÁªôÈúÄË¶Å‰∫§‰∫íÁöÑÂ∫îÁî®\n# ÂÆûÈôÖÂëΩ‰ª§‰ºöË¢´ÂåÖË£Ö‰∏∫ sh -c ÁöÑÂèÇÊï∞ÂΩ¢ÂºèËøõË°åÊâßË°å\nCMD command param1 param2\n```\n\nÊåáÂÆöÂêØÂä®ÂÆπÂô®Êó∂ÊâßË°åÂëΩ‰ª§ÔºåÊØè‰∏™ Dockerfile Âè™ËÉΩÊúâ‰∏Ä‰∏™ `CMD` Êåá‰ª§„ÄÇÂ¶ÇÊûúÊåáÂÆö‰∫ÜÂ§öÊù°ÂëΩ‰ª§ÔºåÂàôÂè™ÊúâÊúÄÂêé‰∏ÄÊù°‰ºöË¢´ÊâßË°å„ÄÇÂ¶ÇÊûúÁî®Êà∑ÂêØÂä®ÂÆπÂô®Êó∂ÊåáÂÆö‰∫ÜËøêË°åÁöÑÂëΩ‰ª§ÔºåÂàô‰ºöË¶ÜÁõñÊéâ `CMD` ÊåáÂÆöÁöÑÂëΩ‰ª§„ÄÇ\n\nÂú®Êàë‰ª¨ÁöÑÈ°πÁõÆ‰∏≠ÔºåÈô§‰∫ÜÂâçÈù¢Ë∞àËøáÁöÑÂâçÁ´ØÈ°πÁõÆÈúÄË¶ÅÂ∞Ü API ÂüüÂêçÁ≠âÂú® Docker ËøêË°åÂàùÊúüÂä®ÊÄÅÊ§çÂÖ•Â§ñÔºåÊúçÂä°Á´ØÈ°πÁõÆ‰πüÈúÄË¶Å‰º†ÂÖ•Êï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØ„ÄÇÁªèËøáÂÆûÈ™åÂèëÁé∞Ôºå`exec` ÂΩ¢ÂºèÁöÑ `CMD` ÊòØÈÄöËøá Docker Êù•ËøêË°åÂëΩ‰ª§ÁöÑÔºåÂπ∂‰∏çÊîØÊåÅÂèÇÊï∞ÊõøÊç¢„ÄÇËÄå `shell` ÂΩ¢ÂºèÁöÑ `CMD` ÂàôÊòØÈÄöËøá Docker Êù•ËøêË°å `sh`Ôºå`sh` ÂÜçËøêË°åÊàë‰ª¨ÂÜôÁöÑÂëΩ‰ª§ÔºåËÄå `sh` ÊòØÊîØÊåÅÂèÇÊï∞ÊõøÊç¢ÁöÑ„ÄÇ\n\nÊâÄ‰ª•Â¶ÇÊûúÊÉ≥Â∞Ü Dockerfile ‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáè `ENV` ÊàñÂèÇÊï∞ `ARG` Âú® `CMD` Êåá‰ª§‰∏≠‰ΩøÁî®ÔºåÂ∞±ÈúÄË¶ÅÈááÁî® `shell` ÁöÑÂΩ¢Âºè‰π¶ÂÜôÂêØÂä®ÂëΩ‰ª§„ÄÇ\n\n```dockerfile\n# docker run ÂêéÊ∑ªÂä†ÁöÑÂèÇÊï∞‰º†ÂÖ•\nARG env=production\n\n# ‰ªéÊâßË°å shell ÂëΩ‰ª§ÁöÑÊâßË°åÁéØÂ¢É‰∏≠ËØªÂèñ ENV ÂèòÈáè‰Ωú‰∏∫ dockerfile ‰∏≠ÁöÑ env ÂèòÈáèÂÄº\nENV env=${ENV}\n\n# ÂêØÂä®ÂëΩ‰ª§ÊòØÊâßË°åËÑöÊú¨ /scripts/setup.sh\n# ËØ•ËÑöÊú¨ÈúÄË¶Å‰º†ÂÖ•ÁéØÂ¢ÉÂèòÈáè envÔºå‰πüÂ∞±ÊòØ dockerfile ‰∏≠ÂÆö‰πâÁöÑÂèòÈáè\nCMD /scripts/setup.sh ${env}\n```\n\n### Áà¨Ëô´È°πÁõÆ\n\nÊé•ÁùÄÊàë‰ª¨Ë∞àË∞àÈ°µÈù¢Áà¨Ëô´È°πÁõÆÁöÑÈïúÂÉèÊûÑÂª∫„ÄÇ\n\nÁî±‰∫éÈæôÁå´ X ‰∏ªË¶ÅÁî®‰∫éÁßªÂä®Á´ØËê•ÈîÄÊ¥ªÂä®ÔºåÈ°µÈù¢ÁöÑÂä†ËΩΩ‰ΩìÈ™åÂØπÁî®Êà∑ËΩ¨ÂåñÁéáËµ∑Âà∞Ëá≥ÂÖ≥ÈáçË¶ÅÁöÑ‰ΩúÁî®ÔºåÂõ†Ê≠§ÂèëÂ∏ÉÈ°µÈù¢ÈÉΩÁªèÁî±Êó†Â§¥ÊµèËßàÂô®Áà¨ÂèñÂèëÂ∏ÉÈ°µÈù¢ÁöÑÈ¶ñÂ±èÊ∏≤ÊüìÁöÑ HTML ÊñáÊ°£‰ª•Áº©ÂáèÈ°µÈù¢ÁöÑÁôΩÂ±èÊó∂Èó¥„ÄÇ\n\nÂú® Linux Á≥ªÁªü‰∏≠‰ΩøÁî® PhantomJS ÈúÄË¶Å‰ªéÊ∫ê‰ª£Á†Å‰ªìÂ∫ì‰∏≠ÊãâÂèñÊï¥ÂåÖÔºå‰∏ãËΩΩÈÄüÂ∫¶Âõ†‰ºóÊâÄÂë®Áü•ÁöÑÂéüÂõ†ÈùûÂ∏∏ÊÖ¢ÔºåÊâÄ‰ª•ËøôÈáåÊîπÁî®ÈòøÈáåÂõΩÂÜÖÁöÑÈïúÂÉè‰Ωú‰∏∫‰∏ãËΩΩÂú∞ÂùÄÔºåÂêéÁª≠ÁªèËøá‰∏ÄÁ≥ªÂàóËß£ÂéãÁº©„ÄÅÁßªÂä®Êñá‰ª∂„ÄÅÂª∫Á´ãËΩØÈìæÊé•Á≠âÔºåÂú®ÂÆπÂô®ÂÜÖËÉΩÂ§üÁõ¥Êé•ÈÄöËøáÂëΩ‰ª§Ë°åÊâßË°å PhantomJS ÁöÑÁõ∏ÂÖ≥ÂëΩ‰ª§„ÄÇ\n\nÂâçÈù¢ÊèêÂèäÊØè‰∏™Êåá‰ª§ÈÉΩÊòØÊñ∞ÁöÑÊûÑÂª∫Â±ÇÔºåÊâÄ‰ª•ËøôÈáå‰πüÊòØÈÄöËøáÁÆ°ÈÅìËøûÊé•ÁöÑÊñπÂºèÂÆûÁé∞‰∏ÄËøû‰∏≤ÁöÑÊìç‰ΩúÔºåËøôÁßçÊñπÂºèÊòØÂæàÂ•ΩÁöÑÂéãÁº©ÈïúÂÉè‰ΩìÁßØÁöÑÊñπÊ≥ï„ÄÇ\n\n![Áà¨Ëô´È°πÁõÆ Dockerfile](https://img.mrsingsing.com/spider-dockerfile.png)\n\n### Êï∞ÊçÆÂ∫ìÈ°πÁõÆ\n\n‰∏ãÈù¢ÈúÄË¶ÅÂØπ MongoDB Êï∞ÊçÆÂ∫ìÂÆûÁé∞ÂÆπÂô®ÂåñÁÆ°ÁêÜ„ÄÇÂÖàÁªôÂ§ßÂÆ∂ÁúãÁúã MongoDB Êï∞ÊçÆÂ∫ìÁöÑ Dockerfile Êñá‰ª∂Ôºö\n\n![](https://img.mrsingsing.com/mongodb-dockerfile.png)\n\nÁî±‰∫éÁã¨Á´ãÈÉ®ÁΩ≤ÁâàÊú¨ÁöÑÈæôÁå´ X Âú®ÂàùÂßãÂåñÊó∂ÈúÄË¶ÅÂØºÂÖ•ÈªòËÆ§ÁöÑÊï∞ÊçÆÔºå‰æãÂ¶ÇÁªÑ‰ª∂Êï∞ÊçÆ„ÄÅÁªÑ‰ª∂Á±ªÂûãÊï∞ÊçÆ„ÄÅÊ†áÁ≠æÊï∞ÊçÆ„ÄÅÈ°µÈù¢Á±ªÂûãÊï∞ÊçÆÁ≠â„ÄÇÊàë‰ª¨‰ªéÂ∑≤ÊúâÁöÑÈ°πÁõÆ‰∏≠ÂØºÂá∫Êï∞ÊçÆÂπ∂ËøõË°åÈÄÇÂΩì‰øÆÊ≠£ÂêéÔºåÂ∞ÜÊï∞ÊçÆÊñá‰ª∂‰øùÂ≠òÂà∞È°πÁõÆÊåáÂÆöÈªòËÆ§Êï∞ÊçÆÁöÑÁõÆÂΩï‰∏ãÔºåÂú® Dockerfile ‰∏≠ÊåáÂÆö `RUN` ÈÄöËøá‰∏ãÈù¢ÁöÑ shell ËÑöÊú¨ÂØπÊï∞ÊçÆÂ∫ìËøõË°åÂàùÂßãÂåñÔºåÂπ∂ÂêëÊï∞ÊçÆÂ∫ì‰∏≠ÂØºÂÖ•Êï∞ÊçÆ„ÄÇ\n\n![MongoDB ÂàùÂßãÂåñËÑöÊú¨](https://img.mrsingsing.com/docker-entrypoint-initdb.png)\n\n‰∏∫‰∫ÜÊèêÈ´òÊï∞ÊçÆÂ∫ìÁöÑÊâ©Â±ïÊÄßÔºåÊï∞ÊçÆÂ∫ìÁöÑÁî®Êà∑Âêç„ÄÅÂØÜÁ†Å„ÄÅÂêçÁß∞ÂèØ‰ª•ÈÄöËøáÁéØÂ¢ÉÂèòÈáèÁöÑÊñπÂºèËøõË°åËÆæÁΩÆÔºåÊñπ‰æø‰∏çÂêåÁöÑÂõ¢ÈòüÊ†πÊçÆËá™Ë∫´ÈúÄÊ±Ç‰øÆÊîπ„ÄÇ\n\nÊàë‰ª¨Â∞ÜÂõõ‰∏™È°πÁõÆÂàÜÂà´ÈÄöËøá `docker build` ÂëΩ‰ª§ÊûÑÂª∫Áã¨Á´ãÁöÑÈïúÂÉèÂêéÔºåÈÄöËøáÂëΩ‰ª§ `docker images` ËÉΩÂ§üÊü•ÁúãÂà∞ÊâÄÊúâÂ∑≤ÊûÑÂª∫ÁöÑÈïúÂÉèÂàóË°®ÔºåÈÄöËøá `docker history <image-id>` ÂëΩ‰ª§ËÉΩÂ§üÊü•ÁúãÈïúÂÉèÊûÑÂª∫ËøáÁ®ã‰∏≠ÁöÑÁªÜËäÇÔºöÂåÖÊã¨ÊØèÂ±ÇÊåá‰ª§ÊâßË°åÁöÑÊåá‰ª§„ÄÅÊûÑÂª∫ÂêéÁöÑ‰∫ßÁâ©Âç†ÈïúÂÉèÁöÑ‰ΩìÁßØÂ§ßÂ∞èÁ≠âÔºåÈÄöËøáÂàÜÊûêÊûÑÂª∫ÂéÜÂè≤ËÉΩÂ§üËÆ©Êàë‰ª¨ÊéåÊè°‰æùÊçÆÂØπ Dockerfile ËøõË°å‰ºòÂåñ„ÄÇ\n\n![ÂÆπÂô®ÊûÑÂª∫ÂéÜÂè≤](https://img.mrsingsing.com/docker-history.jpg)\n\nÈô§Ê≠§‰πãÂ§ñÔºåÊûÑÂª∫Â•ΩÁöÑÈïúÂÉèÈúÄË¶ÅÊåÅ‰πÖÂåñ‰øùÂ≠òÁöÑËØùÔºåÈúÄË¶Å `docker tag` ÊâìÊ†áÁ≠æÂπ∂ `docker push` Âà∞ËøúÁ®ã‰ªìÂ∫ì‰∏≠ËøõË°å‰øùÂ≠ò„ÄÇ\n\n## ÂÆπÂô®‰∫íËÅî\n\nÊàë‰ª¨Áü•ÈÅìÊúçÂä°Á´ØÈ°πÁõÆËøêË°åÊó∂ÊòØÈúÄË¶Å‰∏éÊï∞ÊçÆÂ∫ì‰øùÊåÅËøûÊé•ÁöÑÔºåÈÇ£‰πà Docker ÊòØÂê¶Êèê‰æõÊüêÁßçÊú∫Âà∂ËÆ©‰∏çÂêåÂÆπÂô®‰πãÈó¥ËøõË°åÈÄö‰ø°Âë¢Ôºü\n\nÂΩì Docker ÂêØÂä®Êó∂ÔºåÂÆûÈôÖ‰∏ä‰ºöËá™Âä®Âú®ÂÆø‰∏ªÊú∫‰∏äÂàõÂª∫‰∏Ä‰∏™ `docker0` ËôöÊãüÁΩëÊ°•ÔºåÁõ∏ÂΩì‰∫é Linux ‰∏äÁöÑ‰∏Ä‰∏™ bridgeÔºåÂèØ‰ª•ÁêÜËß£‰∏∫‰∏Ä‰∏™ËΩØ‰ª∂‰∫§Êç¢Êú∫„ÄÇÂÆÉ‰ºöÂú®ÊåÇËΩΩÂà∞ÂÆÉÁöÑÁΩëÂè£‰πãÈó¥ËøõË°åËΩ¨Âèë„ÄÇ\n\n![ÂÆπÂô®‰∫íËÅî](https://img.mrsingsing.com/docker-network.png)\n\nÂõûÂà∞Êàë‰ª¨ÁöÑÈúÄÊ±Ç‰∏äÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÊúçÂä°Á´ØÈ°πÁõÆ„ÄÅÊï∞ÊçÆÂ∫ìÈ°πÁõÆÂíåÁà¨Ëô´È°πÁõÆÂåÖË£πÂú®‰∏Ä‰∏™ÁΩëÁªúÂΩì‰∏≠Ôºå‰πüÂ∞±ÊòØÂª∫Á´ãËøô‰∏â‰∏™È°πÁõÆÂØπÂ∫îÂÆπÂô®ÁöÑ‚ÄúÂ±ÄÂüüÁΩë‚Äù„ÄÇÂ∞ÜÂÆπÂô®Âä†ÂÖ•ÊåáÂÆöÁöÑÂ±ÄÂüüÁΩëÂÖ∂ÂÆûÂæàÁÆÄÂçïÔºåtalk is cheapÔºåshow you the codeÔºö\n\n```bash\n# ÂàõÂª∫ËôöÊãüÂ±ÄÂüüÁΩë `totorox-net` ÊòØËØ•Â±ÄÂüüÁΩëÁöÑÂêçÁß∞\ndocker network create -d bridge totorox-net\n\n# ÂêØÂä®ÂÆπÂô®Êó∂Â∏¶‰∏ä `--network <‰Ω†ÂàõÂª∫ÁöÑÂ±ÄÂüüÁΩëÂêçÁß∞>` Âç≥ÂèØÂä†ÂÖ•Âà∞ÊåáÂÆöÁöÑÂ±ÄÂüüÁΩëÂÜÖ\ndocker run -d --name totorox-server -p 3012:3012 --network totorox-net ...\n```\n\n‰ª•Ê≠§Á±ªÊé®Âú®ÂØπÂ∫îÁöÑÂÆπÂô®ÂêØÂä®Êó∂‰πüÂä†ÂÖ•Â±ÄÂüüÁΩëÂÜÖÔºåÈÇ£‰πàÂ±ÄÂüüÁΩëÂÜÖÁöÑÂÆπÂô®‰πãÈó¥Â∞±ËÉΩÂ§üÈÄöËøáÂä†ÂÖ•Â±ÄÂüüÁΩëÊó∂ÈöèÊú∫ÂàÜÈÖçÁöÑÂüüÂêçËøõË°åËÆøÈóÆ„ÄÇ\n\n<!-- ![docker network ls Êü•ËØ¢ docker]() -->\n\nÈÇ£‰πàÈóÆÈ¢òÊù•‰∫ÜÔºå‰ªéÊúçÂä°Á´ØÂÆπÂô®ÁöÑËßíÂ∫¶Âá∫ÂèëÔºåÊÄé‰πàÁü•ÈÅìÊï∞ÊçÆÂ∫ìÂÆπÂô®ÁöÑÂüüÂêçÊòØ `xxx.xxx.xxx.xxx` Âë¢ÔºåÊÄª‰∏çËÉΩÊØèÊ¨°ÂêØÂä®Âêé `docker network ls` Êü•ÁúãÂÆπÂô®ÂàÜÈÖçÂà∞ÁöÑÂ±ÄÂüüÁΩëÂüüÂêçÔºåÁÑ∂ÂêéÂÜçÂà∞ÂØπÂ∫îÁöÑÂÆπÂô®ÂÜÖÈÉ®ËøõË°å‰øÆÊîπÔºåËøôÊòæÁÑ∂‰∏çÂ§™ÁßëÂ≠¶„ÄÇ\n\ndocker ‰Ωú‰∏∫ÂπøÊ≥õ‰ΩøÁî®ÁöÑÊäÄÊúØÔºåÂÖ∂ÂºÄÊ∫êÂõ¢ÈòüÊòæÁÑ∂‰∏ç‰ºöÁäØÂ¶ÇÊ≠§‰ΩéÁ∫ßÁöÑËÆæËÆ°ÈîôËØØ„ÄÇÂÆûÈôÖ‰∏äÔºåÈô§‰∫ÜËøêË°åÂÆπÂô®Êó∂Â∞ÜÂÆπÂô®Âä†ÂÖ•Â±ÄÂüüÁΩëÂ§ñÔºå‰∏∫ÂÆπÂô®ÂëΩÂêç‰πüÊòØÂøÖ‰∏çÂèØÂ∞ëÁöÑÊ≠•È™§„ÄÇÂÆπÂô®ÂêçÁß∞Á±ªÊØîÊù•ÁêÜËß£ÔºåÁõ∏ÂΩì‰∫éÊàë‰ª¨ÈúÄË¶ÅÁî≥ËØ∑Ë¥≠‰π∞ÂüüÂêç‰ª•Êõø‰ª£ IP Âú∞ÂùÄ‰∏ÄÊ†∑Ôºå‰∏ÄËà¨Áî®Êà∑Âè™ÈúÄË¶ÅËÆ∞‰ΩèËæ®ËØÜÂ∫¶È´òÁöÑÁΩëÁ´ôÂú∞ÂùÄÔºåËÆøÈóÆÊó∂ÈÄöËøá DNS Ëß£ÊûêÂà∞ IP Âú∞ÂùÄÂÜçÂØπÊúçÂä°Âô®ËøõË°åËÆøÈóÆÔºåËøôÈáå docker ÂÆπÂô®‰∫íËÅîÁöÑÂéüÁêÜÊòØÈ´òÂ∫¶Á±ª‰ººÁöÑÔºåÂ±ÄÂüüÁΩëÂÜÖÁõ¥Êé•ËÆøÈóÆÂÆπÂô®ÂêçÁß∞‰πüËÉΩËß£ÊûêÂà∞ÂØπÂ∫îÁöÑÂÆπÂô®ÂΩì‰∏≠Âπ∂ËøõË°åËÆøÈóÆ„ÄÇ\n\nÂ§öËØ¥Êó†ÁõäÔºåÊàë‰ª¨ÁúãÁúãÂ¶Ç‰ΩïÂú®ÊúçÂä°Á´ØÈ°πÁõÆ‰∏≠Áî® Mongoose ËøûÊé•Êï∞ÊçÆÂ∫ìÂÆπÂô®ÁöÑ MongoDBÔºö\n\n```js\n// username ‰∏∫Êï∞ÊçÆÂ∫ìË¥¶Êà∑ÂêçÁß∞\n// password ‰∏∫Êï∞ÊçÆÂ∫ìË¥¶Êà∑ÂØÜÁ†Å\n// containerName ‰∏∫Êï∞ÊçÆÂ∫ìÈ°πÁõÆÂÆπÂô®ÁöÑÂêçÁß∞\n// databaseName ‰∏∫Êï∞ÊçÆÂ∫ìÂêçÁß∞\nconst uri = `mongodb://${username}:${password}@${containerName}/${databaseName}`;\n\nmongoose.connect(uri, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  autoIndex: false,\n});\n```\n\nËøôÈáåË∏©‰∫Ü‰∏çÂ∞ëÂùëÔºåMongoose ËøûÊé• MongoDB ÁöÑÂüüÂêç‰ΩøÁî®ÂÆπÂô®ÂêçÁß∞‰Ωú‰∏∫Ê†áËØÜÔºåËÄåÈùû‰ΩøÁî®ÈöèÊú∫ÂàÜÈÖçÁöÑÂõ∫ÂÆö IP Âú∞ÂùÄÔºåÊàñÂÆπÂô®ÁΩëÁªúÁöÑÂêçÁß∞„ÄÇ\n\nÈô§Ê≠§‰πãÂ§ñÔºåÂæàÂ§ö‰∏≠ÊñáÊñáÁ´†‰∏≠ÈÉΩÊ≤°ÊúâÊèêÂà∞‰∏Ä‰∏™ÈÅá‰∏äÊú∫ÁéáÊØîËæÉÂ§ßÁöÑÂùëÔºåÂ∞±ÊòØÊúçÂä°Á´ØÊòØÈúÄË¶ÅÁ≠âÂæÖ MongoDB Êï∞ÊçÆÂ∫ìÂêØÂä®Âπ∂Â∞±Áª™ÂêéÔºåÊâçËÉΩËøûÊé•ÊàêÂäüÁöÑ„ÄÇ\n\nÂú®‰ΩøÁî® `docker run` ÊñπÂºèÂêØÂä®ÂÆπÂô®Êó∂Ë¶ÅÂÖàÂêØÂä® MongoDB ÁöÑÂÆπÂô®ÔºåÂÜçÂêØÂä®ÊúçÂä°Á´ØÈ°πÁõÆÁöÑÂÆπÂô®Ôºå‰∏§‰∏™ÂêØÂä®ÂëΩ‰ª§ÊâßË°åÈúÄË¶ÅÊúâÊÆµÊó∂Èó¥Â∑ÆÔºå‰∏çËÉΩÊâßË°åÂâç‰∏Ä‰∏™ÔºåÈ©¨‰∏çÂÅúËπÑÂú∞Â∞±ÊâßË°å‰∏ã‰∏Ä‰∏™„ÄÇËøôÊòØÂõ†‰∏∫ `docker run` Âè™ÊòØ‰Ωú‰∏∫ÂêØÂä®ÂÆπÂô®ÁöÑËµ∑ÁÇπÔºåÂÆπÂô®ÂÜÖÈÉ®ÂÆûÈôÖÂØπÂ§ñÊúçÂä°ÁöÑÊï∞ÊçÆÂ∫ìÊ≠£Âú®ÊâßË°åÂêØÂä®‰∏≠ÔºåÂÆπÂô®Â±ÄÂüüÁΩëÂÜÖÂπ∂‰∏çËÉΩÁ¨¨‰∏ÄÊó∂Èó¥ÂØπÂÖ∂ËøõË°åËÆøÈóÆÔºåËÄåÊòØÈúÄË¶ÅÁ≠âÂæÖ‰∏ÄÊÆµÊó∂ÂÄôÂêéÊö¥Èú≤ÁöÑÁ´ØÂè£ÊâçÂèØÊé•ÂèóÂ§ñÈÉ®ËØ∑Ê±Ç„ÄÇÂú®ÂÆπÂô®Â§ñÊù•ÁúãÔºå`docker run` ÂëΩ‰ª§ÊâßË°åÂêéÂÆπÂô®ÊòØÂêØÂä®‰∫ÜÔºå‰ΩÜÊòØÂÜÖÈÉ®ÂÆûÈôÖÊèê‰æõÊúçÂä°ÁöÑÊï∞ÊçÆÂ∫ìËøòÊ≤°ÂáÜÂ§áÂ∞±Áª™ÔºåËøôÂ∞±ÊúâÂèØËÉΩÂØºËá¥ÊúçÂä°Á´ØÈ°πÁõÆËøûÊé•Êï∞ÊçÆÂ∫ìÂÆπÂô®Âá∫Áé∞Ë∂ÖÊó∂ÁöÑÈóÆÈ¢òÂèëÁîü„ÄÇ\n\nÂõ†Ê≠§ÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπ mongoose ËÆæÁ´ãÈáçËøûÊú∫Âà∂ÔºåÂΩìËøûÊé•Ë∂ÖÊó∂Á≠âÊÉÖÂÜµÂá∫Áé∞Êó∂Ôºå‰πüËÉΩËá™Âä®ÂØπÊï∞ÊçÆÂ∫ìËøõË°åÈáçËøûÊìç‰Ωú„ÄÇ\n\n```js\nconst connect = () => {\n  mongoose.connect(uri, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n    autoIndex: false,\n  });\n};\ndb.on('error', error => {\n  console.error('Error in MongoDB connection:' + error);\n  mongoose.disconnect();\n});\ndb.on('disconnected', () => {\n  console.log('MongoDB disconnected!');\n  connect();\n});\ndb.on('close', () => {\n  console.log('Lost MongoDB connection...');\n  connect();\n  console.log('Reconnect to MongoDB, wait...');\n});\n```\n\nÈô§‰∫ÜÊúçÂä°Á´ØÂÜÖÈÉ®ËøõË°åÊï∞ÊçÆÂ∫ìÈáçËøûÁöÑ‰øùÈöúÂ§ñÔºåÂêéÈù¢‰ºöÊèêÂà∞ÂÆπÂô®ÁºñÊéí‰πü‰ºöÂá∫Áé∞ËøôÊ†∑ÁöÑÊÉÖÂÜµÔºåserver È°πÁõÆ‰æùËµñ database È°πÁõÆÁöÑÂêØÂä®Ôºå`docker-compose.yml` ‰∏≠Êúâ‰∏™ÈÖçÁΩÆÈ°πÊòØ `depends_on`ÔºåË°®Á§∫Á≠âÂæÖÊåáÂÆöÁöÑÂÆπÂô®ÂêØÂä®ÂêéÂÜçËøõË°åÂΩìÂâçÂÆπÂô®ÁöÑÂêØÂä®„ÄÇÂú®ÂÆπÂô®ÁöÑËßíÂ∫¶Êù•ÁúãÔºåÂÆÉÂè™Áü•ÈÅìÂÆπÂô®ÁöÑÊòØÂê¶Â∑≤ÁªèÂêØÂä®Ôºå‰πüÂèØ‰ª•ÁêÜËß£‰∏∫ÊòØÂê¶Â∑≤ÁªèÊâßË°å‰∫Ü `docker run` ÁöÑÂëΩ‰ª§ÔºåÂÆπÂô®ÂÜÖÈÉ®ÁöÑÈ°πÁõÆÊòØÂê¶ÂêØÂä®ÔºåÂÆπÂô®ÁöÑÁÆ°‰∏çÁùÄÁöÑÔºåÂÆÉ‰πü‰∏çÁü•ÈÅìÔºåÊâÄ‰ª•Â¶ÇÊûúÂÜÖÈÉ®ÊúçÂä°ÂêØÂä®Êó∂Èó¥‰πÖ‰∫éÂÆπÂô®‰πãÈó¥ÁºñÊéíÂêØÂä®ÁöÑÊó∂Èó¥ÔºåÂêåÊó∂‰∏§ËÄÖÂº∫‰æùËµñÊÄßË¥®ÁöÑÔºåÈÇ£‰πàÂ∞±‰ºöÂØºËá¥ÊüêÊñπÂá∫Áé∞ÈîôËØØÔºåËøôÊ†∑ÁöÑÊÉÖÂÜµÂ§ßÈÉ®ÂàÜÂá∫Áé∞Âú®ÂØπÊï∞ÊçÆÂ∫ìÁöÑËøûÊé•‰∏ä„ÄÇ\n\nÂèØËÉΩÁî±‰∫éÊé•Êî∂Âà∞ÁöÑÂèçÈ¶àÂ§™Â§öÔºåÂÆòÊñπÊñáÊ°£‰∏≠ [Control startup and shutdown order in Compose](https://docs.docker.com/compose/startup-order/) ‰πüÊòéÁ°ÆË°®Á§∫Ëøô‰∏™ÈóÆÈ¢òÔºåÂÆÉÊèê‰æõ‰∫ÜÂá†‰∏™ËΩÆËÆ≠ÂÆπÂô®ÊúçÂä°ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂåÖÊã¨ [wait-for-it.sh](https://github.com/vishnubob/wait-for-it)„ÄÅ[dockerize](https://github.com/jwilder/dockerize) Âíå [wait-for](https://github.com/Eficode/wait-for)„ÄÇ\n\n## ÊúçÂä°ÈÉ®ÁΩ≤\n\nÈ¶ñÂÖàÊàë‰ª¨ÂÖàÈÉ®ÁΩ≤Â•ΩÂâçÁ´ØÈ°πÁõÆÔºåÂâçÁ´ØÈ°πÁõÆÂÆπÂô®ÂÜÖÈÉ®ÊâßË°å Nginx ÂëΩ‰ª§ÂêØÂä®‰ª£ÁêÜÊúçÂä°Âô®‰ªéËÄåËΩ¨ÂèëËØ∑Ê±ÇÔºåÂ¶ÇÊûúÊåâÁÖßÂâçÈù¢ÊâÄÂàóÁöÑ Nginx ÈÖçÁΩÆÔºåÁêÜËÆ∫‰∏äÂ∫îËØ•ËÉΩÈ°∫Âà©ÂêØÂä®ÂÆπÂô®„ÄÇ\n\n‰∏çËøáËøôÈáå‰πüÊèê‰∏Ä‰∏ãÂÆûË∑µ‰∏≠ÈÅáÂà∞ÁöÑÈóÆÈ¢òÔºö\n\n```bash\n# ÂêØÂä®ÂÆπÂô®\n$ docker run -d --name totorox-admin -p 8200:80 hub.ppmoney.io/telescope/totorox-admin\nStarting nginx ... done\nAttating to nginx\n```\n\nÂ∞±ÊòØÊâßË°åÂÆåÊØïÂêéÔºåÁïåÈù¢‰ºö‰∏ÄÁõ¥ÂÅúÁïôÂú® `Attating to nginx`ÔºåÊ≤°ÊúâÊä•Èîô‰πüÊ≤°ÊúâÊèêÁ§∫ËøêË°åÊàêÂäü„ÄÇ\n\nËøô‰∏™ÈóÆÈ¢òÔºåÊòØÁî±‰∫éÂÆπÂô®ÂÜÖÈÉ® `/etc/nginx/conf.d/default.conf` Ë∑ØÂæÑ‰∏ãÁöÑ `default.conf` Êñá‰ª∂ÁöÑÁº∫Â§±ÊâÄÂØºËá¥ÔºåÊç¢Âè•ËØùËØ¥Â∞±ÊòØ Nginx ÂêØÂä®ÊâÄÈúÄË¶ÅÊâßË°åÁöÑÈªòËÆ§ÈÖçÁΩÆ‰∏¢Â§±‰∫Ü„ÄÇÂú®ÂÆπÂô®ÁöÑÂ±ÇÈù¢ÂàÜÊûêÔºåÊúâÂèØËÉΩÊòØÂõ†‰∏∫ÂÆπÂô®ÊåÇËΩΩ‰∫Ü `volumes`ÔºåËÄåÂÆø‰∏ªÊú∫ÁöÑ `conf.d` ÁõÆÂΩï‰∏ã‰∏∫Á©∫Ë¶ÜÁõñ‰∫ÜÂÆπÂô®ÂÜÖÈÉ®ÂØπÂ∫îÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂ÔºåÂÖ∑‰ΩìÂéüÂõ†ÂèØ‰ª• `docker exec -it totorox-admin .` ËøõÂÖ•ÂÆπÂô®ÂÜÖÈÉ®Ê£ÄÊü•„ÄÇ\n\n‰∏ãÈù¢ÁΩóÂàó‰∫ÜÊ†πÊçÆÊûÑÂª∫Â•ΩÁöÑÈïúÂÉèÂú®ÊúçÂä°Âô®‰∏äÂêØÂä®ËøêË°åÂÆπÂô®Ôºö\n\n![ËøêË°åÂÆπÂô®ÂëΩ‰ª§](https://img.mrsingsing.com/docker-run.png)\n\nÂÆπÂô®ÂêØÂä®ÂêéÔºåÂèØ‰ª•ËæìÂÖ• `docker ps -a` Êü•ÁúãÂÆø‰∏ªÊú∫‰∏äÊâÄÊúâÁöÑÂÆπÂô®ÂàóË°®„ÄÇ\n\n![Êü•ÁúãÂÆø‰∏ªÊú∫ÂÆπÂô®ÂàóË°®](https://img.mrsingsing.com/docker-container-list.jpg)\n\n‰ªé‰∏äÂõæÂèØ‰ª•Ë°®Ê†º‰∏≠ÁöÑ STATUS Âíå PORTS ÂèØ‰ª•ÁúãÂá∫Êù•ÔºåÊúâ‰∏â‰∏™ÂÆπÂô®Â∑≤ÁªèÂêØÂä®Ôºå‰ΩÜÊòØ MongoDB ÁöÑÂÆπÂô®ÂàôÂêØÂä®Â§±Ë¥•‰∫Ü„ÄÇ\n\nÊü•ÁúãÊó•Âøó `docker logs <container-name>` Êü•ÁúãÂÆπÂô®ÁöÑËøêË°åÊó•ÂøóÔºåÊâæÂà∞Âá∫ÈîôÁöÑÂéüÂõ†ÔºàËøôÈáåÂè™ÊòØ‰∏∫‰∫ÜÊºîÁ§∫ËÄåÂá∫ÈîôÔºå‰∏äËø∞Áõ∏ÂÖ≥‰ª£Á†ÅÂùáÈ™åËØÅÊúâÊïàÔºâ„ÄÇ\n\nËøôÈáåÂèØËÉΩ‰ºöÊúâ‰∫õÁñëÈóÆÔºåÊòØÂê¶Â∫îËØ•‰ΩøÁî® PM2 Á≠âÂÆàÊä§ËøõÁ®ãÂ∑•ÂÖ∑ÂØπËøõÁ®ãËøõË°åÂÆàÊä§Âë¢Ôºü\n\nÂÆûÈôÖ‰∏äÂÆπÂô®‰∏≠ÁöÑÂ∫îÁî®ÈÉΩÂ∫îËØ•ÂâçÂè∞ÊâßË°åËøêË°åÔºåËÄåÈùûÂêéÂè∞ÊâßË°åÔºåÂÆπÂô®ÂÜÖÊ≤°ÊúâÂêéÂè∞ÊúçÂä°ÁöÑÊ¶ÇÂøµ„ÄÇÂØπ‰∫éÂÆπÂô®ËÄåË®ÄÔºåÂÖ∂ÂêØÂä®Á®ãÂ∫èÂ∞±ÊòØÂÆπÂô®Â∫îÁî®ËøõÁ®ãÔºåÂÆπÂô®Â∞±ÊòØ‰∏∫‰∫Ü‰∏ªËøõÁ®ãËÄåÂ≠òÂú®ÁöÑÔºå‰∏ªËøõÁ®ãÈÄÄÂá∫ÔºåÂÆπÂô®Â∞±Â§±Âéª‰∫ÜÂ≠òÂú®ÁöÑÊÑè‰πâ„ÄÇ ÊØîÂ¶Ç `CMD service nginx start` ÂÆÉÁ≠âÂêå‰∫é `CMD [ \"bash\", \"-c\", \"service nginx start\"]` ‰∏ªËøõÁ®ãÂÆûÈôÖ‰∏äÊòØ `bash`Ôºå`bash` ‰πüÂ∞±ÁªìÊùü‰∫ÜÔºå`bash` ‰Ωú‰∏∫‰∏ªËøõÁ®ãÈÄÄÂá∫‰∫Ü„ÄÇÂõ†Ê≠§Âú®Êàë‰ª¨ÁöÑÈïúÂÉèÊûÑÂª∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÂùáÁõ¥Êé•ÂºÄÂêØÊúçÂä°ËÄåÈùûÈÄöËøá PM2 Êàñ Forever Á≠âÂ∑•ÂÖ∑ÂºÄÂêØ„ÄÇ\n\nÂÆπÂô®ÁöÑÂêØÂä®Áõ∏ÂØπÊØîËæÉÁÆÄÂçïÔºåÊ†πÊçÆÈúÄË¶Å‰ΩøÁî®ÈÖçÁΩÆÈ°πÂç≥ÂèØÂø´ÈÄüÂêØÂä®/ÂÅúÊ≠¢ÂÆπÂô®„ÄÇ‰ΩÜÊòØÔºåÊØèÊ¨°ÈÉ®ÁΩ≤ÈÉΩÈúÄË¶ÅËæìÂÖ•‰∏ÄÂ§ß‰∏≤ÁöÑÂëΩ‰ª§ÔºåÂì™Â§©ÂøòËÆ∞‰∫ÜÂì™‰∏™ÂèÇÊï∞Âøò‰∫Ü‰º†ÊÄé‰πàÂäûÔºåÂëΩ‰ª§ÁöÑÊâßË°åÈ°∫Â∫èË∞ÉÊç¢‰∫ÜÊÄé‰πàÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶Å‰∏ÄÁßçÂÆπÂô®ÁºñÊéíÁöÑÊñπÂºèÔºåËÆ©ÊØèÊ¨°ÂÆπÂô®Êõ¥Êñ∞ÈÉ®ÁΩ≤ÈÉΩËÉΩÈÄöËøáÊõ¥ÁÆÄ‰æøÁöÑÂëΩ‰ª§ÂÆûÁé∞„ÄÇ\n\n## ÂÆπÂô®ÁºñÊéí\n\ndocker-compose Ë¥üË¥£ÂÆûÁé∞ÂØπ Docker ÂÆπÂô®ÈõÜÁæ§ÁöÑÂø´ÈÄüÁºñÊéí„ÄÇ‰ΩøÁî®ËÄÖÈÄöËøá `docker-compose.yml` Ê®°ÁâàÊñá‰ª∂ÂÆö‰πâ‰∏ÄÁªÑÂÖ≥ËÅîÁöÑÂ∫îÁî®ÂÆπÂô®‰∏∫‰∏Ä‰∏™È°πÁõÆ„ÄÇÂÆÉÈªòËÆ§ÁÆ°ÁêÜÂØπË±°ÊòØÈ°πÁõÆÔºåÈÄöËøáÂ≠êÂëΩ‰ª§ÂØπÈ°πÁõÆ‰∏≠ÁöÑ‰∏ÄÁªÑÂÆπÂô®ËøõË°å‰æøÊç∑Âú∞ÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåÂ∞±ÊòØÊääÂàöÊâç‰∏ÄËøû‰∏≤ÁöÑÂëΩ‰ª§Âà©Áî®ÈùôÊÄÅÁöÑÈÖçÁΩÆÊñá‰ª∂ËÆ∞ÂΩï‰∏ãÊù•ÔºåÂêØÂä®ÂÆπÂô®Âè™ÈúÄÈÄöËøá `docker compose up -d` ÂëΩ‰ª§ËøêË°åÂç≥ÂèØ„ÄÇ\n\n![ÂÆπÂô®ÁºñÊéí](https://img.mrsingsing.com/docker-compose.png)\n\nÈ¶ñÂÖàÔºåÊàë‰ª¨ÈúÄË¶ÅÊ≥®ÊÑè `docker-compose` ÁöÑÁâàÊú¨ÈóÆÈ¢òÔºåÊúâÁöÑÈÖçÁΩÆÈ°πÊòØ version2.0 Ê≤°ÊúâÔºåËÄå version3.0 Êñ∞Â¢ûÁöÑÔºåËØ¶ÊÉÖÁõ¥Êé•ÁúãÂÆòÊñπÊñáÊ°£ [Compose file versions and upgrading](https://docs.docker.com/compose/compose-file/compose-versioning/) Âç≥ÂèØ„ÄÇ\n\n`docker-compose.yml` ÂÆö‰πâ‰∫ÜÂêØÂä®ÂÆπÂô®ÂêçÁß∞„ÄÅÈïúÂÉèÂú∞ÂùÄ„ÄÅÂØπÂ§ñÊö¥Èú≤ÁöÑÁ´ØÂè£„ÄÅÁéØÂ¢ÉÂèòÈáè„ÄÅÊï∞ÊçÆÂç∑‰ª•ÂèäÂÆπÂô®ÂêØÂä®ÁöÑÂÖàÂêéÈ°∫Â∫èÁ≠â„ÄÇ\n\n`docker-compose` ÂêØÂä®Êó∂‰ºöÂÖàËé∑ÂèñÊú¨Âú∞ÈïúÂÉèÔºåÂ¶ÇÊûúÊú¨Âú∞Â∑≤ÁªèÊúâÂØπÂ∫îÁöÑÈïúÂÉèÂàô‰ºöÁõ¥Êé•‰ΩøÁî®ÔºåÂ¶ÇÊûúÊú¨Âú∞Ê≤°ÊúâÊâæÂà∞ÔºåÂàô‰ºö‰ªéËøúÁ®ã‰ªìÂ∫ìÊãâÂèñÂà∞Êú¨Âú∞ÂêéÂÜçÂêØÂä®„ÄÇ\n\n`restart: always` ÈÖçÁΩÆÈ°πÂèØ‰ª•ËÆ©ÂÆπÂô®Âú®ÂÜÖÈÉ®ÊúçÂä°ÊåÇÊéâÁöÑÊó∂ÂÄôÔºåËá™Âä®ÈáçÊñ∞ÂêØÂä®ÂÜÖÈÉ®ÊúçÂä°„ÄÇ\n\n‰ªìÂ∫ìÂÖ¨ÂºÄÁöÑ‰ª£Á†ÅÂ∫îËØ•ÈúÄË¶ÅÂØπÊñá‰ª∂ËøõË°åËÑ±ÊïèÔºå‰πüÂ∞±ÊòØÂ∞ÜÈÖçÁΩÆÊñá‰ª∂ÔºàÂåÖÊã¨ÁôªÂΩïÊï∞ÊçÆÂ∫ìÁöÑÁî®Êà∑ÂêçÂØÜÁ†ÅÁ≠âÔºâÊéíÈô§ÂÖ¨ÂºÄÁöÑÊñá‰ª∂ÂàóË°®‰∏≠„ÄÇ\n\n```bash\n$ docker run -e VARIABLE1 --env VARIABLE2=foo --env-file ./env.list ubuntu bash\n```\n\n---\n\n**ÂèÇËÄÉËµÑÊñôÔºö**\n\n- [Passing variables to Docker](https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file)\n- [Pass Docker Environment Variables During The Image Build](https://vsupalov.com/docker-build-pass-environment-variables/)\n- [How To Pass Environment Info During Docker Builds](https://blog.bitsrc.io/how-to-pass-environment-info-during-docker-builds-1f7c5566dd0e)\n- [How to setup Node environment variable in Dockerfile for running node.js application?](https://stackoverflow.com/questions/42992397/how-to-setup-node-environment-variable-in-dockerfile-for-running-node-js-applica)\n- [How to create a Node App within a Docker container with Mongo](https://hn.werick.codes/how-to-create-a-node-app-within-a-docker-container-with-mongo-cjwjd3l4t00067rs18w7035oc)\n- [Cannot connect from node to mongo replicaset in docker](http://quabr.com/57123227/cannot-connect-from-node-to-mongo-replicaset-in-docker)\n- [Docker Node È°πÁõÆËøûÊé• MongoDB](https://blog.csdn.net/weixin_30466953/article/details/97366689)\n- [ÂçáÁ∫ß Docker ÂêéÈáçÂêØÂÆπÂô®Âá∫Áé∞ÈîôËØØ Unknown runtime specified docker-runc](https://blog.csdn.net/wxb880114/article/details/88869215)\n- [Mongoose ËøúÁ®ãËøûÊé• MongoDBÔºåÂΩìÂÆ¢Êà∑Á´ØÊñ≠ÂºÄÁΩëÁªúÈáçËøûÊó∂Êä•Èîô topology was destoryedÔºü](https://segmentfault.com/q/1010000010768993)\n- [ËøôÂèØËÉΩÊòØÁΩëÁªú‰∏äÂîØ‰∏Ä‰∏ÄÁØáÁªôÂâçÁ´ØÂÜôÁöÑ Docker+Node+Nginx+MongoDB ÁöÑÊú¨Âú∞ÂºÄÂèë+ÈÉ®ÁΩ≤ÂÆûÊàò](https://juejin.im/post/5ddb3f85e51d45231576af3c)\n","slug":"docker-deploy-pratice","published":1,"updated":"2021-09-29T18:09:17.819Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867ncw000fbmjdfz3fcu2h","content":"<p>Âú®‰∫∫Á±ªÁ§æ‰ºöÂ§ßÂàÜÂ∑•Ë∂äÊù•Ë∂äÁ≤æÁªÜÁöÑÂ§ßËÉåÊôØ‰∏ãÔºåÂêÑÂºèÂêÑÊ†∑ÁöÑËΩØ‰ª∂ÊäÄÊúØÂÖ¨Âè∏Â±ÇÂá∫‰∏çÁ©∑Ôºå‰∏∫ÂêÑË°åÂêÑ‰∏öÊèê‰æõÁùÄÊàñÂ§ß‰ºóÂåñÊàñÂÖ∑ÊúâÁâπËâ≤ÁöÑËΩØ‰ª∂ÊúçÂä°ÔºåÂ§ßÈÉ®ÂàÜËΩØ‰ª∂ÊúçÂä°ÊòØÂÖ¨ÊúâÊÄßË¥®ÁöÑÔºå‰πüÂ∞±ÊòØËøô‰∫õÊúçÂä°Êèê‰æõÂïÜÂÜÖÈÉ®ÂçïÁã¨ÁöÑËøêËê•ËΩØ‰ª∂Âπ≥Âè∞Ôºå‰ΩøÁî®ËÄÖËé∑ÂèñËΩØ‰ª∂‰ΩøÁî®ÊùÉÂêéÂú®ÂÖ∂Âπ≥Âè∞Áîü‰∫ßÂÜÖÂÆπÔºåÂπ∂Áî±ÊúçÂä°ÂïÜÊèê‰æõÊï∞ÊçÆÂ≠òÂÇ®ÊúçÂä°ÔºåËøôÁßçÊÄßË¥®ÁöÑÂπ≥Âè∞ÂØπ‰∫éËΩØ‰ª∂ÂºÄÂèëÂïÜÊù•ËØ¥ÈúÄË¶ÅËÄÉËôëÊï∞ÊçÆÁöÑÈöîÁ¶ªÔºåÂØπ‰∫é‰ΩøÁî®ËÄÖÊù•ËØ¥ÂàôÂáèÂ∞ë‰∫ÜÁª¥Êä§ÊàêÊú¨Ôºå‰ΩÜÊòØÊï∞ÊçÆÂπ∂ÈùûÁßÅËá™Â≠òÂÇ®Êó†Ê≥ïÁ°Æ‰øùÂÆâÂÖ®ÊÄß„ÄÇËÄåÁõ∏ÂØπ‰∫éÂÖ¨ÊúâÊÄßËΩØ‰ª∂ÊúçÂä°ÁöÑÂ∞±ÊòØÁßÅÊúâÂåñËΩØ‰ª∂ÊúçÂä°ÔºåËøôÁ±ªÂûã‰∫ßÂìÅÊèê‰æõÂèØÈÉ®ÁΩ≤Ëá≥ÂÆ¢Êà∑ÁßÅËá™ÁöÑÊúçÂä°Âô®‰∏äÁöÑÁâàÊú¨ÔºåÊï∞ÊçÆÁî±ÂÆ¢Êà∑Ëá™Ë∫´Â≠òÂÇ®ÔºåÊüêÁßçÁ®ãÂ∫¶‰∏ä‰øùËØÅÁöÑ‰∫ÜÊï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄß„ÄÇ</p>\n<p>Âú® PPmoney ÂÜÖÈÉ®ÔºåÈæôÁå´ X ÈÖçÁΩÆÂπ≥Âè∞Êèê‰æõÁªôÁêÜË¥¢ÂèäÂÄüË¥∑‰∏§‰∏™ÊäÄÊúØÂõ¢Èòü‰ΩøÁî®ÔºåÂØπ‰∫éÈ°µÈù¢„ÄÅÊ®°Áâà„ÄÅÁªÑ‰ª∂„ÄÅÁ¥†ÊùêÈÉΩÈúÄË¶ÅÂú®ÂÖ¨ÂÖ±Á©∫Èó¥ËøõË°åÂÖ±‰∫´Â≠òÂÇ®ÔºåËÄåÁé∞ÊúâÁöÑ‰∫∫ÂëòÊùÉÈôêÊú∫Âà∂Êó†Ê≥ïÂØπËøô‰∫õË¶ÅÁ¥†ËøõË°åÁ≠õÈÄâÂå∫ÂàÜÔºåÊó†ÂèØÈÅøÂÖçÂá∫Áé∞ÁÆ°ÁêÜÊ∑∑‰π±ÁöÑÂ±ÄÈù¢„ÄÇËÄåÊ†πÊçÆ‰∏çÂêåÁöÑÂõ¢Èòü„ÄÅ‰∏çÂêåÁöÑÈÉ®ÁΩ≤ÁéØÂ¢ÉËøõË°åÁ≥ªÁªüÈÉ®ÁΩ≤‰πüÊòØÈúÄÊ±ÇÁöÑÂÖ≥Ê≥®ÁÇπ„ÄÇËÄÉËôëÂà∞ÂØπÊï∞ÊçÆÁöÑÈöîÁ¶ªÔºå‰ª•ÂèäÊú™Êù•ÈæôÁå´ X ‰Ωú‰∏∫ËΩØ‰ª∂ÊúçÂä°ÂØπÂ§ñÊèê‰æõÂïÜ‰∏öÊÄßË¥®ÁöÑÊúçÂä°Ôºå‰∏∫ÈæôÁå´ X Â¢ûÂº∫ÂèØÁã¨Á´ãÈÉ®ÁΩ≤ÁöÑÂäüËÉΩÁöÑ‰∫ãÂÆúÂç≥Êèê‰∏äÂºÄÂèëÁöÑÊó•Á®ã„ÄÇ</p>\n<p>Âú®ÂØπÈæôÁå´ X ÁöÑÁã¨Á´ãÈÉ®ÁΩ≤ÁöÑÊäÄÊúØÈÄâÂûã‰∏äÊàë‰ª¨ÈÄâÊã©‰∫Ü Docker ÂÆπÂô®ÂåñÊäÄÊúØ„ÄÇ‰πãÊâÄ‰ª•ÈÄâÊã© Docker ÊòØÂõ†‰∏∫ÂÆπÂô®ÊäÄÊúØÂØπËøõÁ®ãËøõË°åÂ∞ÅË£ÖÈöîÁ¶ªÔºåËÉΩÂ§üÈ´òÊïàÂú∞Âú®Âà©Áî®ÊúçÂä°Âô®ËµÑÊ∫ê‰ª•Âèä‰æøÊç∑Âú∞Âú®Â§öÂπ≥Âè∞Èó¥ËøõË°åËøÅÁßª„ÄÇ</p>\n<p>Âú®ËøôÁØáÊñáÁ´†‰∏≠ÊàëÂ∞ùËØïÊääÂÆπÂô®ÂåñÊîπÈÄ†ËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑÂùë‰ΩçËÆ∞ÂΩï‰∏ãÊù•‰∏∫Âêé‰∫∫Êèê‰æõÂÄüÈâ¥Ôºå‰πüÊòØÂØπÊï¥‰∏™ÂùéÂù∑ÁöÑËøáÁ®ãÁöÑËÆ∞ÂΩï„ÄÇ</p>\n<a id=\"more\"></a>\n<h2 id=\"ÂÆπÂô®ÂåñÊäÄÊúØ\"><a href=\"#ÂÆπÂô®ÂåñÊäÄÊúØ\" class=\"headerlink\" title=\"ÂÆπÂô®ÂåñÊäÄÊúØ\"></a>ÂÆπÂô®ÂåñÊäÄÊúØ</h2><p>ÂÆπÂô®ÊäÄÊúØÂØπËøõÁ®ãËøõË°åÂ∞ÅË£ÖÈöîÁ¶ªÔºåÂ±û‰∫éÊìç‰ΩúÁ≥ªÁªüÂ±ÇÈù¢ÁöÑËôöÊãüÂåñÊäÄÊúØ„ÄÇÁî±‰∫éÈöîÁ¶ªÁöÑËøõÁ®ãÁã¨Á´ã‰∫éÂÆø‰∏ªÂíåÂÖ∂‰ªñÁöÑÈöîÁ¶ªÁöÑËøõÁ®ãÔºåÂõ†Ê≠§Áß∞‰∏∫ÂÆπÂô®„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-in-server.png\" alt=\"ÊúçÂä°Âô®‰∏≠ÁöÑÂÆπÂô®\"></p>\n<p>Docker ÂÆπÂô®ÂåñÊäÄÊúØÂÖ≥ÈîÆÊ†∏ÂøÉÂè™ÈúÄË¶ÅÊéåÊè°‰∏â‰∏™Ê¶ÇÂøµÔºö</p>\n<ul>\n<li>ÈïúÂÉè Image</li>\n<li>ÂÆπÂô® Container</li>\n<li>‰ªìÂ∫ì Repository</li>\n</ul>\n<p>‰ªéÂ∞èÁôΩÁöÑËßíÂ∫¶ÁêÜËß£ÁöÑËØùÂèØ‰ª•Êää <strong>ÈïúÂÉè</strong> Âíå <strong>ÂÆπÂô®</strong> Á±ªÊØî‰∏∫Èù¢ÂêëÂØπË±°ÁºñÁ®ã‰∏≠ÁöÑÁ±ªÂíåÂÆû‰æãÔºåÈïúÂÉèÊòØÈùôÊÄÅÁöÑÂÆö‰πâÔºåËÄåÂÆπÂô®ÂàôÊòØÈïúÂÉèËøêË°åÊó∂ÁöÑÂΩ¢ÊÄÅ„ÄÇÊàë‰ª¨ÂèØ‰ª•ÊääÂÆπÂô®ÊÉ≥ÂÉèÊàêÂåÖË£ÖÁõíÔºåÂåÖË£ÖÁõíÈáåË£ÖËΩΩÁùÄ‰∏Ä‰∏™ÂæÆÂûãÊìç‰ΩúÁ≥ªÁªüÔºåÂÖ∂ÂÜÖÈÉ®ËøêË°åÁùÄÊàë‰ª¨ÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ</p>\n<p>‰ªìÂ∫ìÂàôÊòØÂ≠òÊîæÈïúÂÉèÁöÑÂú∞ÊñπÔºåÂèØ‰ª•‰∏∫ÈïúÂÉèÊâì tagÔºàÊ†áÁ≠æÔºâÔºåÂ∞±Â•ΩÂÉèÊàë‰ª¨‰∏∫ git commit ÊâìÁâàÊú¨Âè∑ÁöÑ tag ‰∏ÄÊ†∑Ôºå‰ΩøÁî®ËÄÖÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÈÄâÊã©ÁâàÊú¨ÈÉ®ÁΩ≤ÔºåÁ®ãÂ∫èÊïÖÈöúÊó∂‰πüËÉΩÁ´ãÈ©¨Ê†πÊçÆÁâàÊú¨ËøõË°åÂõûÊªö„ÄÇ</p>\n<p>Docker Hub ÊòØ Docker ÂÆòÊñπÁöÑÂÖ¨ÂºÄÁöÑ‰ªìÂ∫ìÔºåÁßÅÊúâ‰ªìÂ∫ìÂàôÊúâ HarborÔºåÂïÜ‰∏öÂåñÁöÑÂÆπÂô®ÊúçÂä°Êèê‰æõÂïÜÊúâÈòøÈáå‰∫ë„ÄÅDao Cloud Á≠â„ÄÇÊàë‰ª¨ÂÖ¨Âè∏ÈááÁî®ÁöÑÊòØÂÜÖÈÉ®Ëá™Âª∫ÁöÑ Harbor ‰ªìÂ∫ì„ÄÇ</p>\n<p>Âõ†‰∏∫Êú¨ÁØáÊñáÁ´†ÈùûÁßëÊôÆÊÄßË¥®ÔºåÊâÄ‰ª•ÂØπ‰∫é Docker ÁöÑ‰ªãÁªçÂ∞±‰∏çËøá‰∫éÊ∑±ÂÖ•ÂèôËø∞ÔºåÊúâÂÖ¥Ë∂£ÂèØ‰ª•ÊêúÁ¥¢Áõ∏ÂÖ≥ÊñáÁ´†ËøõË°åÁ†îÁ©∂ÔºåÂΩìÁÑ∂È¶ñÊé®ËøòÊòØÊää <a href=\"https://docs.docker.com/\" target=\"_blank\" rel=\"noopener\">ÂÆòÊñπÊñáÊ°£</a> Áúã‰∏ÄÈÅçÔºåÊØïÁ´üÁ¨¨‰∏ÄÊâãËµÑÊñôÊâçÊòØÊúÄÂÖ∑ÂèÇËÄÉ‰ª∑ÂÄºÁöÑ„ÄÇ</p>\n<h2 id=\"ÈïúÂÉèÂà∂‰Ωú\"><a href=\"#ÈïúÂÉèÂà∂‰Ωú\" class=\"headerlink\" title=\"ÈïúÂÉèÂà∂‰Ωú\"></a>ÈïúÂÉèÂà∂‰Ωú</h2><p>ÂØπÈæôÁå´ X ËøõË°åÂÆπÂô®ÂåñÊîπÈÄ†ÈúÄË¶ÅÈÉ®ÁΩ≤Âõõ‰∏™Â≠êÈ°πÁõÆÔºåÂàÜÂà´ÊòØ React ÂÖ®ÂÆ∂Ê°∂ÁöÑÂÆ¢Êà∑Á´ØÈ°πÁõÆ„ÄÅKoa ÊúçÂä°Á´ØÈ°πÁõÆ„ÄÅÈ°µÈù¢Áà¨Ëô´È°πÁõÆ‰ª•Âèä MongoDB Êï∞ÊçÆÂ∫ì„ÄÇ</p>\n<p>Âú® Docker ‰∏≠ÔºåÈïúÂÉèÊòØÊ†πÊçÆÈÖçÁΩÆÊñá‰ª∂ Dockerfile ÊûÑÂª∫ÁöÑ„ÄÇÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§ÂèØ‰ª•ÊâßË°åÊûÑÂª∫ÁöÑÂ∑•‰ΩúÔºö</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># docker build -t &lt;ÈïúÂÉèÂêçÁß∞&gt; &lt;ÊûÑÂª∫ÁõÆÂΩï&gt;</span></span><br><span class=\"line\">$ docker build -t totorox-admin .</span><br></pre></td></tr></table></figure>\n<p><code>-t</code> Ë°®Á§∫Â∞ÜÈïúÂÉèÂëΩÂêç‰∏∫ <code>totorox-admin</code>„ÄÇ</p>\n<h3 id=\"ÂâçÁ´ØÈ°πÁõÆ\"><a href=\"#ÂâçÁ´ØÈ°πÁõÆ\" class=\"headerlink\" title=\"ÂâçÁ´ØÈ°πÁõÆ\"></a>ÂâçÁ´ØÈ°πÁõÆ</h3><p>Â¶Ç‰∏ãÂõæÊâÄÁ§∫‰∏∫ÂâçÁ´ØÈ°πÁõÆÈïúÂÉèÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/frontend-dockerfile.png\" alt=\"Dockerfile in Frontend Project\"></p>\n<p>Âú® Dockerfile ‰∏≠ <code>FROM</code> Êåá‰ª§ÊòØÂøÖÁÑ∂Â≠òÂú®ÁöÑÂπ∂‰∏î‰Ωú‰∏∫ÊûÑÂª∫ÁöÑÂºÄÂ§¥ÔºåËØ•Êåá‰ª§ÂàùÂßãÂåñ‰∏Ä‰∏™Êñ∞ÁöÑÊûÑÂª∫Èò∂ÊÆµÔºà‰πüÂ∞±ÊòØÊúâÂ§öÂ∞ë‰∏™ <code>FROM</code> Êåá‰ª§Â∞±ÊúâÂ§öÂ∞ë‰∏™ÈïúÂÉèÊûÑÂª∫Èò∂ÊÆµÔºâÂπ∂‰∏∫ÂêéÁª≠Êåá‰ª§ËÆæÁΩÆÂü∫Á°ÄÊò†ÂÉè„ÄÇ</p>\n<p><code>COPY</code> Êåá‰ª§Ë°®Á§∫Êã∑Ë¥ùËµÑÊ∫êËá≥ÈïúÂÉèÂÜÖÈÉ®ÔºåËøôÈáåÊúâ‰∏™‰ºòÂåñÁöÑÂ∞èÊäÄÂ∑ßÔºåÂ∞±ÊòØÂú®È°πÁõÆÊ†πÁõÆÂΩïÊ∑ªÂä† <code>.dockerignore</code> Êñá‰ª∂Ôºå‰∏é <code>.gitignore</code> Êàñ <code>.npmignore</code> Á±ª‰ººÔºåÊ∑ªÂä†Âà∞ËØ•Êñá‰ª∂‰∏ãÁöÑÁõÆÂΩï Docker ÊûÑÂª∫ÈïúÂÉèÊó∂Â∞ÜÂøΩÁï•ÂÖ∂‰∏≠ÁöÑÊñá‰ª∂„ÄÇÊàë‰ª¨ÂèØ‰ª•ÊääÂè™Áî®‰∫é‰ª£Á†ÅÂºÄÂèëÈò∂ÊÆµÊàñËÄÖËßÑËåÉÊÄßÁöÑÊñá‰ª∂ÊéíÈô§Âú®ÊûÑÂª∫‰πãÂ§ñÔºå‰æãÂ¶Ç <code>.vscode</code>„ÄÅ<code>.eslint</code>„ÄÅ<code>dist</code> Á≠â„ÄÇ</p>\n<p>Êé•‰∏ãÊù•Â∞±ÊòØÂ∏∏ËßÑÁöÑÂÆâË£Ö‰æùËµñ„ÄÅÈ°πÁõÆÊûÑÂª∫ÊâìÂåÖÁöÑÊåá‰ª§Ôºå<code>npm install</code> ÂèØ‰ª•ÊåáÂÆö‰∏∫Ê∑òÂÆùÈïúÂÉèÔºåÂú®ÂõΩÂÜÖÁöÑËØù‰∏ãËΩΩÈÄüÂ∫¶Áõ∏ÂØπÊúâ‰øùÈöúÔºåËÉΩÂ§üÁº©ÂáèÈïúÂÉèÁöÑÊûÑÂª∫Êó∂Èó¥„ÄÇ</p>\n<p>Á±ª‰ººÂú∞ÔºåÁî±‰∫éÊàë‰ª¨ÁöÑÈ°πÁõÆ‰∏≠‰ΩøÁî®Âà∞‰∫Ü Sass È¢ÑÁºñËØëÔºåWebpack ÊâìÂåÖÈúÄË¶ÅÁî®Âà∞ <code>node-sass</code> Êèí‰ª∂ÔºåÊØèÊ¨°ÈÉΩÂøÖÈ°ª‰∏ãËΩΩ <code>win32-x64-57_binding.node</code> Êñá‰ª∂ÔºåÊâÄ‰ª•Ë¶Å‰∏çÈúÄË¶ÅÊº´ÈïøÁöÑÁ≠âÂæÖÔºàÂõ†‰∏∫‰ªéÂõΩÂ§ñÊ∫ê‰ªìÂ∫ì‰∏ãËΩΩÔºâÔºåË¶Å‰∏ç‰∏ãËΩΩÂ§±Ë¥•Êä•‰∏ÄÁ≥ªÂàóÁöÑÈîô„ÄÇÂπ∏Â•ΩÂÆÉÊèê‰æõ‰∫Ü‰∫∫ÊÄßÂåñÁöÑÈÖçÁΩÆÔºåÂèØ‰ª•ÈÄöËøáÁéØÂ¢ÉÂèòÈáèÊîπÂèò‰∏ãËΩΩÁöÑÂú∞ÂùÄ„ÄÇÊàë‰ª¨Âú® <code>.npmrc</code> ‰∏≠Â∞Ü‰∏Ä‰∫õ‰æùËµñÂåÖ‰∏≠ÈúÄË¶ÅÈ¢ùÂ§ñ‰∏ãËΩΩÁöÑÊñá‰ª∂ÁöÑÈìæÊé•Âú∞ÂùÄÁöÑÁéØÂ¢ÉÂèòÈáèÊåáÂÆö‰∏∫ÂõΩÂÜÖÁöÑÈïúÂÉèÂú∞ÂùÄ„ÄÇÂΩìÁÑ∂Âï¶Âπ∂ÈùûÊâÄÊúâ‰æùËµñÂåÖÈÉΩÊîØÊåÅËøôÊ†∑ÂÅöÔºåÊúâ‰∫õÂÜôÊ≠ª‰∫Ü‰∏ãËΩΩÂú∞ÂùÄÊòØÊó†Ê≥ïÈÄöËøáËøôÊ†∑ÁöÑÊñπÊ≥ï‰ºòÂåñÁöÑ„ÄÇÈô§‰∫Ü‰∏äÈù¢ÊèêÂà∞ÁöÑ <code>node-sass</code>ÔºåÂÖ∂‰ΩôÂèØ‰ª•Âú® <a href=\"https://developer.aliyun.com/mirror/NPM?from=tnpm\" target=\"_blank\" rel=\"noopener\">Ê∑òÂÆùÈïúÂÉè</a> ÊâæÂà∞ÂØπÂ∫îÁöÑÈïúÂÉèÂú∞ÂùÄÔºåÂêéÈù¢‰ºöÊèêÂà∞ÁöÑÈ°µÈù¢Áà¨Ëô´È°πÁõÆ‰∏≠‰ΩøÁî®ÁöÑ <code>phantomjs</code> ‰πüÊòØÈÄöËøáËøôÁßçÊñπÂºèÂ§ßÂπÖÂ∫¶ÂéãÁº©‰∫ÜÊûÑÂª∫Êó∂Èó¥„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/npmrc.jpg\" alt=\".npmrcÈÖçÁΩÆÊñá‰ª∂\"></p>\n<p>Á¨¨‰∫åÈò∂ÊÆµÊàë‰ª¨‰ªéÈïúÂÉè‰ªìÂ∫ìËé∑Âèñ Nginx ÈïúÂÉè„ÄÇ‰∏ÄËà¨Âú∞ÔºåÂâçÁ´ØÈ°πÁõÆÊûÑÂª∫ÊâìÂåÖÂêéÁîüÊàêÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂ÔºåÈúÄË¶Å Web ‰ª£ÁêÜÊúçÂä°Âô®ËøõË°åËØ∑Ê±ÇËΩ¨ÂèëÔºåÊàë‰ª¨ËøôÈáåÁî®ÁöÑÊòØ NginxÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•Áî® Express ÂÆûÁé∞‰∏Ä‰∏™ Web ÊúçÂä°‰Ωú‰∏∫‰ª£ÁêÜËΩ¨Âèë„ÄÇ</p>\n<p>Nginx ÈÖçÁΩÆÂíå‰ΩøÁî®Áõ∏ÂØπÊù•ËØ¥ÊØîËæÉÁÆÄÂçïÔºåÈÄöËøáÁÆÄÂçïÁöÑÈÖçÁΩÆÂç≥ÂèØÊã•ÊúâÈ´òÊÄßËÉΩÂíåÈ´òÂèØÁî®ÊÄßÔºå‰∏ãÈù¢ÊòØ Nginx ÁöÑÁ§∫‰æãÈÖçÁΩÆÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/nginx-conf.png\" alt=\"NginxÈÖçÁΩÆ\"></p>\n<p>Âú®ËØ•Èò∂ÊÆµ‰∏≠Ôºå‰∏ªË¶ÅÊòØÂ∞ÜÁ¨¨‰∏ÄÈò∂ÊÆµÁîüÊàêÁöÑ‰∫ßÁâ©ËΩ¨ÁßªÂà∞Á¨¨‰∫åÈò∂ÊÆµÔºåËøôÊòØÂõ†‰∏∫ÈïúÂÉèÊúÄÁªàÁöÑÂêØÂä®Êåá‰ª§ <code>CMD</code> ÊòØÂú®Á¨¨‰∫åÈò∂ÊÆµÔºåËÄå‰∏îÂàÜÈò∂ÊÆµÁöÑÈïúÂÉèÊûÑÂª∫ËÉΩÂ§ü‰ΩøÂæóÊúÄÁªàÂÆπÂô®ÂÜÖÂè™ÈúÄÊîæÁΩÆÊâìÂåÖÂêéÁöÑÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Âç≥ÂèØÔºå‰∏çÁî®ÂåÖÂê´Ê∫ê‰ª£Á†ÅÊñá‰ª∂ÔºåÈïúÂÉèÁöÑ‰ΩìÁßØ‰πü‰ºöÂõ†Ê≠§ËÄåÂ§ßÂπÖÂ∫¶Áº©ÂáèÔºåÂú®ÊüêÁßçÁ®ãÂ∫¶‰πüÁ°Æ‰øù‰∫ÜÊ∫ê‰ª£Á†ÅÁöÑ‰∏çÂØπÂ§ñÊ≥ÑÊºè„ÄÇ</p>\n<p>ÊúÄÁªà <code>CMD</code> ÂëΩ‰ª§ÊòØÂÆπÂô®ËøêË°åÊó∂Âú®ÂÜÖÈÉ®ÊâßË°åÁöÑÊåá‰ª§„ÄÇËÄÉËôëÂà∞‰∏çÂêå‰ΩøÁî®ËÄÖÁöÑ API ÊúçÂä°Âô®ÂüüÂêçÊòØ‰∏çÂêåÁöÑÊòØÂä®ÊÄÅÂèòÂåñÁöÑÔºåÂú®Ê∫ê‰ª£Á†Å‰∏≠Êää API ÂüüÂêçÂÜôÊ≠ªÊòæÁÑ∂ÊòØ‰∏™‰∏çÊòéÊô∫ÁöÑÂÅöÊ≥ï„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨ÈÄöËøáÂú®ËøêË°åÂÆπÂô®Êó∂ÁöÑÁéØÂ¢ÉÂèòÈáèÊ§çÂÖ•ÂÜôÂ•ΩÁöÑ Shell ËÑöÊú¨ÔºåÈÄöËøá Shell ËÑöÊú¨ÁîüÊàêÂåÖÂê´ÂüüÂêçÁ≠â‰ø°ÊÅØÁöÑ JavaScript Êñá‰ª∂ÔºåHTML ÊñáÊ°£ÈÄöËøáÂÜôÂ•ΩÁöÑÂ§ñÈìæËØ•ËÑöÊú¨Êñá‰ª∂ÂÆûÁé∞Âä†ËΩΩÔºåËøôÊ†∑Âç≥ÂèØÊª°Ë∂≥Âä®ÊÄÅÂüüÂêçÂèòÊõ¥ÁöÑÈúÄÊ±Ç„ÄÇ</p>\n<p>Âú®ÈïúÂÉèÊûÑÂª∫ËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúÁªÜÂøÉËßÇÂØüÊâìÂç∞ÁöÑÊó•ÂøóÔºå‰ºöÂèëÁé∞ÊúâËøô‰πà‰∏ÄÂè•Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/removeing-intermediate-container.jpg\" alt=\"ÁßªÈô§‰∏≠Èó¥ÂÆπÂô®\"></p>\n<p>ÂÖ∂ÂÆû‰ªéÊûÑÂª∫ÁöÑÊó•Âøó‰∏≠ÂèØ‰ª•ÁúãÂà∞ÔºåÂÆûË¥®‰∏äÈïúÂÉèÊûÑÂª∫ÁöÑÊØè‰∏™Êåá‰ª§ÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™‰∏¥Êó∂ÁöÑ‰∏≠Èó¥ÂÆπÂô®ÔºåÊØèÂ±Ç‰∏≠Èó¥ÂÆπÂô®ÈÉΩÊòØ‰ª•ÂâçÈù¢‰∏ÄÂ±Ç‰∏≠Èó¥ÂÆπÂô®‰∏∫Âü∫Á°ÄÁöÑ„ÄÇÂΩìÂØπÂ∫îÁöÑÊåá‰ª§ÊâßË°åÂÆåÊØïÂêéÔºåÂØπÂ∫îÂ±ÇÁ∫ßÂ∞±‰∏ç‰ºöÂÜçÂèëÁîüÊîπÂèòÔºå‰ºöÁßªÈô§ËØ•‰∏¥Êó∂ÂàõÂª∫ÁöÑ‰∏≠Èó¥ÂÆπÂô®ÔºåÁÑ∂ÂêéÂÜçËøõË°å‰∏ã‰∏Ä‰∏™Êåá‰ª§Êìç‰Ωú„ÄÇ</p>\n<p>ÊûÑÂª∫ÊàêÂäüÂêéÔºåÂú®ÂëΩ‰ª§Ë°å‰∏≠ËæìÂÖ• <code>docker images</code> Âç≥ÂèØÊü•ÁúãÂΩìÂâçÂÆø‰∏ªÊú∫ÁöÑ Docker ÈïúÂÉèÂàóË°®Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/docker-images.jpg\" alt=\"ÂÆπÂô®ÈïúÂÉè\"></p>\n<p>Áî±‰∫éÊàë‰ª¨ÁöÑÈ°πÁõÆÊâÄÈúÄË¶ÅÁöÑÈïúÂÉèÂú®ÂÖ¨Âè∏ÂÜÖÈÉ®ÊúâÁßÅÊúâ‰ªìÂ∫ìÔºåÊâÄ‰ª•ÊûÑÂª∫Êó∂ÈÄüÂ∫¶Êúâ‰∏ÄÂÆöÁöÑ‰øùÈöúÔºåÂ¶ÇÊûúÊòØ‰∏™‰∫∫ÂºÄÂèëËÄÖÂú®Ëá™Â∑±ÁöÑÊúçÂä°Âô®‰∏äÊûÑÂª∫ÈïúÂÉèÂèØËÉΩÈúÄË¶Å‰ªéÂÖ¨Êúâ‰ªìÂ∫ì‰æãÂ¶Ç Docker Hub ÊãâÂèñÊâÄÈúÄË¶ÅÁöÑÈïúÂÉèÔºåËøôÈáåÊèê‰æõ‰∏Ä‰∏™‰ºòÂåñÁöÑÊâãÊÆµÔºåÂèØ‰ª•ÈÄöËøá‰øÆÊîπ Docker Daemon ÈÖçÁΩÆ <code>/etc/docker/daemon.json</code> ÁöÑÈïúÂÉèÂú∞ÂùÄÔºåÂÆûÁé∞ÈïúÂÉèÁöÑÂä†ÈÄüÔºåDocker ÂÆòÊñπÂíåÂõΩÂÜÖÂæàÂ§ö‰∫ëÊúçÂä°Âô®Âπ≥Âè∞ÈÉΩÊèê‰æõ‰∫ÜÂõΩÂÜÖÁöÑÂä†ÈÄüÊúçÂä°„ÄÇ</p>\n<p>üå∞ <strong>Á§∫‰æãÔºö</strong></p>\n<p>ËøôÈáåÊèê‰æõÁöÑÈïúÂÉèÂú∞ÂùÄ‰ªÖ‰æõÂèÇËÄÉÔºåÂèØ‰ª•Âà∞ÂØπÂ∫îÁöÑ‰∫ëÊúçÂä°ÂïÜÊâæÂà∞ÂØπÂ∫îÁöÑÈïúÂÉèÂä†ÈÄüÂú∞ÂùÄ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-image-acceleration.png\" alt=\"ÈïúÂÉèÂä†ÈÄü\"></p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåÂú®‰ΩøÁî® Docker ÊûÑÂª∫ÈÉ®ÁΩ≤Â∫îÁî®ÂâçÊúÄÂ•ΩÁ°ÆËÆ§Â•Ω Docker ÁöÑÁâàÊú¨Ôºå‰æãÂ¶Ç CentOS 7 Á≥ªÁªüÈªòËÆ§ÁöÑ Docker ÁâàÊú¨ÊòØ 13ÔºåËÄå <code>FROM AS</code> ÁöÑËØ≠Ê≥ïÂàôÈúÄË¶Å Docker ÁâàÊú¨ 17 ‰ª•‰∏äÊâçÊîØÊåÅÔºåËøô‰∏™Êó∂ÂÄôÈúÄË¶ÅÂÖàÂØπÂÆø‰∏ªÊú∫ÁöÑ Docker ËøõË°åÁâàÊú¨Êõ¥Êñ∞„ÄÇ</p>\n<p>ÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨ÁöÑ Docker ÂèØ‰ª•ÂèÇËÄÉÔºö</p>\n<p><a href=\"https://www.jianshu.com/p/2e208721aa39\" target=\"_blank\" rel=\"noopener\">CentOS ÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨ÁöÑ Docker</a></p>\n<p>ÂçáÁ∫ß Docker ÂêéÈáçÂêØÂÆπÂô®Âá∫Áé∞ÈîôËØØ <code>Unknown runtime specified docker runc</code> ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºö</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ grep -rl <span class=\"string\">'docker-runc'</span> /var/lib/docker/containers/ | xargs sed -i <span class=\"string\">'s/docker-runc/runc/g'</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl stop docker</span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl start docker</span><br></pre></td></tr></table></figure>\n<h3 id=\"ÊúçÂä°Á´ØÈ°πÁõÆ\"><a href=\"#ÊúçÂä°Á´ØÈ°πÁõÆ\" class=\"headerlink\" title=\"ÊúçÂä°Á´ØÈ°πÁõÆ\"></a>ÊúçÂä°Á´ØÈ°πÁõÆ</h3><p>Êé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúãÁî® Koa Êê≠Âª∫ÁöÑÊúçÂä°Á´ØÈ°πÁõÆÂ¶Ç‰ΩïÈÉ®ÁΩ≤ÔºåÁ±ª‰ººÊìç‰ΩúÊåá‰ª§Â∞±‰∏çÂÜçÈáçÂ§çËµòËø∞‰∫ÜÔºå‰∏ªË¶ÅË∞àË∞àÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂú∞Êñπ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/backend-dockerfile.png\" alt=\"ÊúçÂä°Á´ØDockerfile\"></p>\n<p>Âõ†‰∏∫È°πÁõÆ‰∏≠ÈÄöËøáÂºÄÂêØÂ≠êËøõÁ®ãÁöÑÊñπÂºèÊâßË°å Webpack ÂëΩ‰ª§ËøõË°åÈ°µÈù¢ÁöÑÁîüÊàêÔºåÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂú®ÂÆπÂô®ÂÜÖÂÖ®Â±ÄÂÆâË£Ö Webpack„ÄÇ</p>\n<p>Êàë‰ª¨ÁúãÂà∞ËøôÈáå‰∏∫‰∏Ä‰∏™Âêç‰∏∫ <code>wait-for-it.sh</code> ÁöÑÊèê‰æõ‰∫ÜÂèØÊâßË°åÁöÑÊùÉÈôêÔºåËÄå‰∏îÂú®ÂêéÁª≠ÁöÑ <code>CMD</code> Êåá‰ª§‰∏≠ÂÖàÊâßË°å‰∫ÜËØ•ËÑöÊú¨Êñá‰ª∂„ÄÇÂ∫îÁî®ÂÆπÂô®ÂåñÂêéÔºåDocker ÂÆπÂô®ÂêØÂä®Êó∂ÔºåÈªòËÆ§‰ΩøÁî®Èùû root Áî®Êà∑ÊâßË°åÂëΩ‰ª§ÔºåÊâÄ‰ª•Â∫îÁî®ÂÜÖÁöÑËÑöÊú¨Êñá‰ª∂Êó†Ê≥ïÊ≠£Â∏∏ÊâßË°åÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÊâßË°å <code>chmod a+x</code> ‰∏∫ËÑöÊú¨Êñá‰ª∂Êèê‰æõÂèØÊâßË°åÁöÑÊùÉÈôê„ÄÇËá≥‰∫éËøô‰∏™ËÑöÊú¨ÁöÑÂ≠òÂú®ÊÑè‰πâÊàë‰ª¨Âú®ÂêéÈù¢ÂÆπÂô®ÈÄöËÆØÁöÑÈÉ®ÂàÜÂÜçËØ¶ÁªÜËØ¥ÊòéÔºåÊöÇ‰∏îË∑≥Ëøá„ÄÇ</p>\n<p>‰∏ãÈù¢Êàë‰ª¨Ë∞àË∞à Dockerfile ‰∏≠ÁöÑËæìÂÖ•ÂèÇÊï∞ <code>ARG</code>„ÄÅÁéØÂ¢ÉÂèòÈáè <code>ENV</code> ‰ª•ÂèäÂ¶Ç‰ΩïÂ∞Ü Dockerfile ‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáè/‰º†ÂÖ•ÂèÇÊï∞Âú® <code>CMD</code> Êåá‰ª§‰∏≠ÁöÑ‰ΩøÁî®„ÄÇ</p>\n<p>Êåá‰ª§ <code>ARG</code> ÂÆö‰πâ‰∏Ä‰∏™ÂèòÈáèÔºåÁî®Êà∑ÂèØ‰ª•Âú®‰ΩøÁî® <code>docker build</code> ÂëΩ‰ª§‰ΩøÁî® <code>--build-arg &lt;varname&gt;=&lt;value&gt;</code> Ê†áÂøóÔºåÂú®ÊûÑÂª∫Êó∂Â∞ÜÂÖ∂‰º†ÈÄíÁªôÊûÑÂª∫Âô®„ÄÇ</p>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ARG</span> <span class=\"keyword\">env</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ÊåáÂÆöÈªòËÆ§ÂÄº</span></span><br><span class=\"line\"><span class=\"keyword\">ARG</span> <span class=\"keyword\">env</span>=local</span><br></pre></td></tr></table></figure>\n<p>Â¶ÇÊûú <code>ARG</code> ÂØπÂ∫îÁöÑÂÄºÊúâÁº∫ÁúÅÂÄºÔºåÂπ∂‰∏îÂ¶ÇÊûúÂú®ÊûÑÂª∫Êó∂Ê≤°Êúâ‰º†ÈÄíÂÄºÔºåÂàôÊûÑÂª∫Âô®‰ΩøÁî®Áº∫ÁúÅÂÄº„ÄÇ</p>\n<p>Dockerfile ÁöÑ <code>ENV</code> Êåá‰ª§Êúâ‰∏§Áßç‰π¶ÂÜôÊñπÂºèÔºö</p>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ENV</span> &lt;key&gt; &lt;value&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ËøôÁßçÂÜôÊ≥ïÈîÆ/ÂÄº‰∏éÁ≠âÂè∑‰πãÈó¥‰∏çËÉΩÂ≠òÂú®Á©∫Ê†º</span></span><br><span class=\"line\"><span class=\"keyword\">ENV</span> &lt;key&gt;=&lt;value&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ÈÄöËøáÊñúÊù† \\ Êç¢Ë°å‰∏ÄÊ¨°ÊÄßÂ£∞ÊòéÂ§ö‰∏™ÁéØÂ¢ÉÂèòÈáè</span></span><br><span class=\"line\"><span class=\"keyword\">ENV</span> API_URL=example.com \\</span><br><span class=\"line\">    NODE_ENV=production \\</span><br><span class=\"line\">    COMMAND=dev</span><br></pre></td></tr></table></figure>\n<p>‰∏é <code>ARG</code> Êåá‰ª§ÂØπÊØîÔºå<code>ENV</code> ÂßãÁªàÂ≠òÂú®‰∫éÈïúÂÉèÂΩì‰∏≠ÔºåËÄå <code>ARG</code> ‰ªÖÂú®ÊâßË°åÊó∂Â≠òÂú®„ÄÇ</p>\n<p>ÂÖ≥‰∫é dockerfile ‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáèÊõøÊç¢ÂèØ‰ª•ÈòÖËØªÂÆòÊñπÊñáÊ°£‰∏≠ÊúâÂÖ≥ <a href=\"https://docs.docker.com/engine/reference/builder/#environment-replacement\" target=\"_blank\" rel=\"noopener\">ÁéØÂ¢ÉÂèòÈáèÊõøÊç¢</a> ÁöÑÁõ∏ÂÖ≥Á´†ËäÇ„ÄÇ</p>\n<p><code>CMD</code> Êåá‰ª§Êúâ‰∏âÁßç‰π¶ÂÜôÊñπÂºèÔºö</p>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ‰ΩøÁî® exec ÊâßË°åÔºåËøôÁ±ªÊ†ºÂºèÂú®Ëß£ÊûêÊó∂‰ºöË¢´Ëß£ÊûêÊàê JSON Êï∞ÁªÑÔºåÂõ†Ê≠§‰∏ÄÂÆöË¶Å‰ΩøÁî®ÂèåÂºïÂè∑</span></span><br><span class=\"line\"><span class=\"keyword\">CMD</span><span class=\"bash\"> [<span class=\"string\">\"command\"</span>, <span class=\"string\">\"instructions\"</span>, <span class=\"string\">\"options\"</span>]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ‰ΩøÁî® /bin/sh ‰∏≠ÊâßË°åÔºåÊèê‰æõÁªôÈúÄË¶Å‰∫§‰∫íÁöÑÂ∫îÁî®</span></span><br><span class=\"line\"><span class=\"comment\"># ÂÆûÈôÖÂëΩ‰ª§‰ºöË¢´ÂåÖË£Ö‰∏∫ sh -c ÁöÑÂèÇÊï∞ÂΩ¢ÂºèËøõË°åÊâßË°å</span></span><br><span class=\"line\"><span class=\"keyword\">CMD</span><span class=\"bash\"> <span class=\"built_in\">command</span> param1 param2</span></span><br></pre></td></tr></table></figure>\n<p>ÊåáÂÆöÂêØÂä®ÂÆπÂô®Êó∂ÊâßË°åÂëΩ‰ª§ÔºåÊØè‰∏™ Dockerfile Âè™ËÉΩÊúâ‰∏Ä‰∏™ <code>CMD</code> Êåá‰ª§„ÄÇÂ¶ÇÊûúÊåáÂÆö‰∫ÜÂ§öÊù°ÂëΩ‰ª§ÔºåÂàôÂè™ÊúâÊúÄÂêé‰∏ÄÊù°‰ºöË¢´ÊâßË°å„ÄÇÂ¶ÇÊûúÁî®Êà∑ÂêØÂä®ÂÆπÂô®Êó∂ÊåáÂÆö‰∫ÜËøêË°åÁöÑÂëΩ‰ª§ÔºåÂàô‰ºöË¶ÜÁõñÊéâ <code>CMD</code> ÊåáÂÆöÁöÑÂëΩ‰ª§„ÄÇ</p>\n<p>Âú®Êàë‰ª¨ÁöÑÈ°πÁõÆ‰∏≠ÔºåÈô§‰∫ÜÂâçÈù¢Ë∞àËøáÁöÑÂâçÁ´ØÈ°πÁõÆÈúÄË¶ÅÂ∞Ü API ÂüüÂêçÁ≠âÂú® Docker ËøêË°åÂàùÊúüÂä®ÊÄÅÊ§çÂÖ•Â§ñÔºåÊúçÂä°Á´ØÈ°πÁõÆ‰πüÈúÄË¶Å‰º†ÂÖ•Êï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØ„ÄÇÁªèËøáÂÆûÈ™åÂèëÁé∞Ôºå<code>exec</code> ÂΩ¢ÂºèÁöÑ <code>CMD</code> ÊòØÈÄöËøá Docker Êù•ËøêË°åÂëΩ‰ª§ÁöÑÔºåÂπ∂‰∏çÊîØÊåÅÂèÇÊï∞ÊõøÊç¢„ÄÇËÄå <code>shell</code> ÂΩ¢ÂºèÁöÑ <code>CMD</code> ÂàôÊòØÈÄöËøá Docker Êù•ËøêË°å <code>sh</code>Ôºå<code>sh</code> ÂÜçËøêË°åÊàë‰ª¨ÂÜôÁöÑÂëΩ‰ª§ÔºåËÄå <code>sh</code> ÊòØÊîØÊåÅÂèÇÊï∞ÊõøÊç¢ÁöÑ„ÄÇ</p>\n<p>ÊâÄ‰ª•Â¶ÇÊûúÊÉ≥Â∞Ü Dockerfile ‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáè <code>ENV</code> ÊàñÂèÇÊï∞ <code>ARG</code> Âú® <code>CMD</code> Êåá‰ª§‰∏≠‰ΩøÁî®ÔºåÂ∞±ÈúÄË¶ÅÈááÁî® <code>shell</code> ÁöÑÂΩ¢Âºè‰π¶ÂÜôÂêØÂä®ÂëΩ‰ª§„ÄÇ</p>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># docker run ÂêéÊ∑ªÂä†ÁöÑÂèÇÊï∞‰º†ÂÖ•</span></span><br><span class=\"line\"><span class=\"keyword\">ARG</span> <span class=\"keyword\">env</span>=production</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ‰ªéÊâßË°å shell ÂëΩ‰ª§ÁöÑÊâßË°åÁéØÂ¢É‰∏≠ËØªÂèñ ENV ÂèòÈáè‰Ωú‰∏∫ dockerfile ‰∏≠ÁöÑ env ÂèòÈáèÂÄº</span></span><br><span class=\"line\"><span class=\"keyword\">ENV</span> <span class=\"keyword\">env</span>=$&#123;<span class=\"keyword\">ENV</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ÂêØÂä®ÂëΩ‰ª§ÊòØÊâßË°åËÑöÊú¨ /scripts/setup.sh</span></span><br><span class=\"line\"><span class=\"comment\"># ËØ•ËÑöÊú¨ÈúÄË¶Å‰º†ÂÖ•ÁéØÂ¢ÉÂèòÈáè envÔºå‰πüÂ∞±ÊòØ dockerfile ‰∏≠ÂÆö‰πâÁöÑÂèòÈáè</span></span><br><span class=\"line\"><span class=\"keyword\">CMD</span><span class=\"bash\"> /scripts/setup.sh <span class=\"variable\">$&#123;env&#125;</span></span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Áà¨Ëô´È°πÁõÆ\"><a href=\"#Áà¨Ëô´È°πÁõÆ\" class=\"headerlink\" title=\"Áà¨Ëô´È°πÁõÆ\"></a>Áà¨Ëô´È°πÁõÆ</h3><p>Êé•ÁùÄÊàë‰ª¨Ë∞àË∞àÈ°µÈù¢Áà¨Ëô´È°πÁõÆÁöÑÈïúÂÉèÊûÑÂª∫„ÄÇ</p>\n<p>Áî±‰∫éÈæôÁå´ X ‰∏ªË¶ÅÁî®‰∫éÁßªÂä®Á´ØËê•ÈîÄÊ¥ªÂä®ÔºåÈ°µÈù¢ÁöÑÂä†ËΩΩ‰ΩìÈ™åÂØπÁî®Êà∑ËΩ¨ÂåñÁéáËµ∑Âà∞Ëá≥ÂÖ≥ÈáçË¶ÅÁöÑ‰ΩúÁî®ÔºåÂõ†Ê≠§ÂèëÂ∏ÉÈ°µÈù¢ÈÉΩÁªèÁî±Êó†Â§¥ÊµèËßàÂô®Áà¨ÂèñÂèëÂ∏ÉÈ°µÈù¢ÁöÑÈ¶ñÂ±èÊ∏≤ÊüìÁöÑ HTML ÊñáÊ°£‰ª•Áº©ÂáèÈ°µÈù¢ÁöÑÁôΩÂ±èÊó∂Èó¥„ÄÇ</p>\n<p>Âú® Linux Á≥ªÁªü‰∏≠‰ΩøÁî® PhantomJS ÈúÄË¶Å‰ªéÊ∫ê‰ª£Á†Å‰ªìÂ∫ì‰∏≠ÊãâÂèñÊï¥ÂåÖÔºå‰∏ãËΩΩÈÄüÂ∫¶Âõ†‰ºóÊâÄÂë®Áü•ÁöÑÂéüÂõ†ÈùûÂ∏∏ÊÖ¢ÔºåÊâÄ‰ª•ËøôÈáåÊîπÁî®ÈòøÈáåÂõΩÂÜÖÁöÑÈïúÂÉè‰Ωú‰∏∫‰∏ãËΩΩÂú∞ÂùÄÔºåÂêéÁª≠ÁªèËøá‰∏ÄÁ≥ªÂàóËß£ÂéãÁº©„ÄÅÁßªÂä®Êñá‰ª∂„ÄÅÂª∫Á´ãËΩØÈìæÊé•Á≠âÔºåÂú®ÂÆπÂô®ÂÜÖËÉΩÂ§üÁõ¥Êé•ÈÄöËøáÂëΩ‰ª§Ë°åÊâßË°å PhantomJS ÁöÑÁõ∏ÂÖ≥ÂëΩ‰ª§„ÄÇ</p>\n<p>ÂâçÈù¢ÊèêÂèäÊØè‰∏™Êåá‰ª§ÈÉΩÊòØÊñ∞ÁöÑÊûÑÂª∫Â±ÇÔºåÊâÄ‰ª•ËøôÈáå‰πüÊòØÈÄöËøáÁÆ°ÈÅìËøûÊé•ÁöÑÊñπÂºèÂÆûÁé∞‰∏ÄËøû‰∏≤ÁöÑÊìç‰ΩúÔºåËøôÁßçÊñπÂºèÊòØÂæàÂ•ΩÁöÑÂéãÁº©ÈïúÂÉè‰ΩìÁßØÁöÑÊñπÊ≥ï„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/spider-dockerfile.png\" alt=\"Áà¨Ëô´È°πÁõÆ Dockerfile\"></p>\n<h3 id=\"Êï∞ÊçÆÂ∫ìÈ°πÁõÆ\"><a href=\"#Êï∞ÊçÆÂ∫ìÈ°πÁõÆ\" class=\"headerlink\" title=\"Êï∞ÊçÆÂ∫ìÈ°πÁõÆ\"></a>Êï∞ÊçÆÂ∫ìÈ°πÁõÆ</h3><p>‰∏ãÈù¢ÈúÄË¶ÅÂØπ MongoDB Êï∞ÊçÆÂ∫ìÂÆûÁé∞ÂÆπÂô®ÂåñÁÆ°ÁêÜ„ÄÇÂÖàÁªôÂ§ßÂÆ∂ÁúãÁúã MongoDB Êï∞ÊçÆÂ∫ìÁöÑ Dockerfile Êñá‰ª∂Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/mongodb-dockerfile.png\" alt></p>\n<p>Áî±‰∫éÁã¨Á´ãÈÉ®ÁΩ≤ÁâàÊú¨ÁöÑÈæôÁå´ X Âú®ÂàùÂßãÂåñÊó∂ÈúÄË¶ÅÂØºÂÖ•ÈªòËÆ§ÁöÑÊï∞ÊçÆÔºå‰æãÂ¶ÇÁªÑ‰ª∂Êï∞ÊçÆ„ÄÅÁªÑ‰ª∂Á±ªÂûãÊï∞ÊçÆ„ÄÅÊ†áÁ≠æÊï∞ÊçÆ„ÄÅÈ°µÈù¢Á±ªÂûãÊï∞ÊçÆÁ≠â„ÄÇÊàë‰ª¨‰ªéÂ∑≤ÊúâÁöÑÈ°πÁõÆ‰∏≠ÂØºÂá∫Êï∞ÊçÆÂπ∂ËøõË°åÈÄÇÂΩì‰øÆÊ≠£ÂêéÔºåÂ∞ÜÊï∞ÊçÆÊñá‰ª∂‰øùÂ≠òÂà∞È°πÁõÆÊåáÂÆöÈªòËÆ§Êï∞ÊçÆÁöÑÁõÆÂΩï‰∏ãÔºåÂú® Dockerfile ‰∏≠ÊåáÂÆö <code>RUN</code> ÈÄöËøá‰∏ãÈù¢ÁöÑ shell ËÑöÊú¨ÂØπÊï∞ÊçÆÂ∫ìËøõË°åÂàùÂßãÂåñÔºåÂπ∂ÂêëÊï∞ÊçÆÂ∫ì‰∏≠ÂØºÂÖ•Êï∞ÊçÆ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-entrypoint-initdb.png\" alt=\"MongoDB ÂàùÂßãÂåñËÑöÊú¨\"></p>\n<p>‰∏∫‰∫ÜÊèêÈ´òÊï∞ÊçÆÂ∫ìÁöÑÊâ©Â±ïÊÄßÔºåÊï∞ÊçÆÂ∫ìÁöÑÁî®Êà∑Âêç„ÄÅÂØÜÁ†Å„ÄÅÂêçÁß∞ÂèØ‰ª•ÈÄöËøáÁéØÂ¢ÉÂèòÈáèÁöÑÊñπÂºèËøõË°åËÆæÁΩÆÔºåÊñπ‰æø‰∏çÂêåÁöÑÂõ¢ÈòüÊ†πÊçÆËá™Ë∫´ÈúÄÊ±Ç‰øÆÊîπ„ÄÇ</p>\n<p>Êàë‰ª¨Â∞ÜÂõõ‰∏™È°πÁõÆÂàÜÂà´ÈÄöËøá <code>docker build</code> ÂëΩ‰ª§ÊûÑÂª∫Áã¨Á´ãÁöÑÈïúÂÉèÂêéÔºåÈÄöËøáÂëΩ‰ª§ <code>docker images</code> ËÉΩÂ§üÊü•ÁúãÂà∞ÊâÄÊúâÂ∑≤ÊûÑÂª∫ÁöÑÈïúÂÉèÂàóË°®ÔºåÈÄöËøá <code>docker history &lt;image-id&gt;</code> ÂëΩ‰ª§ËÉΩÂ§üÊü•ÁúãÈïúÂÉèÊûÑÂª∫ËøáÁ®ã‰∏≠ÁöÑÁªÜËäÇÔºöÂåÖÊã¨ÊØèÂ±ÇÊåá‰ª§ÊâßË°åÁöÑÊåá‰ª§„ÄÅÊûÑÂª∫ÂêéÁöÑ‰∫ßÁâ©Âç†ÈïúÂÉèÁöÑ‰ΩìÁßØÂ§ßÂ∞èÁ≠âÔºåÈÄöËøáÂàÜÊûêÊûÑÂª∫ÂéÜÂè≤ËÉΩÂ§üËÆ©Êàë‰ª¨ÊéåÊè°‰æùÊçÆÂØπ Dockerfile ËøõË°å‰ºòÂåñ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-history.jpg\" alt=\"ÂÆπÂô®ÊûÑÂª∫ÂéÜÂè≤\"></p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåÊûÑÂª∫Â•ΩÁöÑÈïúÂÉèÈúÄË¶ÅÊåÅ‰πÖÂåñ‰øùÂ≠òÁöÑËØùÔºåÈúÄË¶Å <code>docker tag</code> ÊâìÊ†áÁ≠æÂπ∂ <code>docker push</code> Âà∞ËøúÁ®ã‰ªìÂ∫ì‰∏≠ËøõË°å‰øùÂ≠ò„ÄÇ</p>\n<h2 id=\"ÂÆπÂô®‰∫íËÅî\"><a href=\"#ÂÆπÂô®‰∫íËÅî\" class=\"headerlink\" title=\"ÂÆπÂô®‰∫íËÅî\"></a>ÂÆπÂô®‰∫íËÅî</h2><p>Êàë‰ª¨Áü•ÈÅìÊúçÂä°Á´ØÈ°πÁõÆËøêË°åÊó∂ÊòØÈúÄË¶Å‰∏éÊï∞ÊçÆÂ∫ì‰øùÊåÅËøûÊé•ÁöÑÔºåÈÇ£‰πà Docker ÊòØÂê¶Êèê‰æõÊüêÁßçÊú∫Âà∂ËÆ©‰∏çÂêåÂÆπÂô®‰πãÈó¥ËøõË°åÈÄö‰ø°Âë¢Ôºü</p>\n<p>ÂΩì Docker ÂêØÂä®Êó∂ÔºåÂÆûÈôÖ‰∏ä‰ºöËá™Âä®Âú®ÂÆø‰∏ªÊú∫‰∏äÂàõÂª∫‰∏Ä‰∏™ <code>docker0</code> ËôöÊãüÁΩëÊ°•ÔºåÁõ∏ÂΩì‰∫é Linux ‰∏äÁöÑ‰∏Ä‰∏™ bridgeÔºåÂèØ‰ª•ÁêÜËß£‰∏∫‰∏Ä‰∏™ËΩØ‰ª∂‰∫§Êç¢Êú∫„ÄÇÂÆÉ‰ºöÂú®ÊåÇËΩΩÂà∞ÂÆÉÁöÑÁΩëÂè£‰πãÈó¥ËøõË°åËΩ¨Âèë„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-network.png\" alt=\"ÂÆπÂô®‰∫íËÅî\"></p>\n<p>ÂõûÂà∞Êàë‰ª¨ÁöÑÈúÄÊ±Ç‰∏äÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÊúçÂä°Á´ØÈ°πÁõÆ„ÄÅÊï∞ÊçÆÂ∫ìÈ°πÁõÆÂíåÁà¨Ëô´È°πÁõÆÂåÖË£πÂú®‰∏Ä‰∏™ÁΩëÁªúÂΩì‰∏≠Ôºå‰πüÂ∞±ÊòØÂª∫Á´ãËøô‰∏â‰∏™È°πÁõÆÂØπÂ∫îÂÆπÂô®ÁöÑ‚ÄúÂ±ÄÂüüÁΩë‚Äù„ÄÇÂ∞ÜÂÆπÂô®Âä†ÂÖ•ÊåáÂÆöÁöÑÂ±ÄÂüüÁΩëÂÖ∂ÂÆûÂæàÁÆÄÂçïÔºåtalk is cheapÔºåshow you the codeÔºö</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ÂàõÂª∫ËôöÊãüÂ±ÄÂüüÁΩë `totorox-net` ÊòØËØ•Â±ÄÂüüÁΩëÁöÑÂêçÁß∞</span></span><br><span class=\"line\">docker network create -d bridge totorox-net</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ÂêØÂä®ÂÆπÂô®Êó∂Â∏¶‰∏ä `--network &lt;‰Ω†ÂàõÂª∫ÁöÑÂ±ÄÂüüÁΩëÂêçÁß∞&gt;` Âç≥ÂèØÂä†ÂÖ•Âà∞ÊåáÂÆöÁöÑÂ±ÄÂüüÁΩëÂÜÖ</span></span><br><span class=\"line\">docker run -d --name totorox-server -p 3012:3012 --network totorox-net ...</span><br></pre></td></tr></table></figure>\n<p>‰ª•Ê≠§Á±ªÊé®Âú®ÂØπÂ∫îÁöÑÂÆπÂô®ÂêØÂä®Êó∂‰πüÂä†ÂÖ•Â±ÄÂüüÁΩëÂÜÖÔºåÈÇ£‰πàÂ±ÄÂüüÁΩëÂÜÖÁöÑÂÆπÂô®‰πãÈó¥Â∞±ËÉΩÂ§üÈÄöËøáÂä†ÂÖ•Â±ÄÂüüÁΩëÊó∂ÈöèÊú∫ÂàÜÈÖçÁöÑÂüüÂêçËøõË°åËÆøÈóÆ„ÄÇ</p>\n<!-- ![docker network ls Êü•ËØ¢ docker]() -->\n<p>ÈÇ£‰πàÈóÆÈ¢òÊù•‰∫ÜÔºå‰ªéÊúçÂä°Á´ØÂÆπÂô®ÁöÑËßíÂ∫¶Âá∫ÂèëÔºåÊÄé‰πàÁü•ÈÅìÊï∞ÊçÆÂ∫ìÂÆπÂô®ÁöÑÂüüÂêçÊòØ <code>xxx.xxx.xxx.xxx</code> Âë¢ÔºåÊÄª‰∏çËÉΩÊØèÊ¨°ÂêØÂä®Âêé <code>docker network ls</code> Êü•ÁúãÂÆπÂô®ÂàÜÈÖçÂà∞ÁöÑÂ±ÄÂüüÁΩëÂüüÂêçÔºåÁÑ∂ÂêéÂÜçÂà∞ÂØπÂ∫îÁöÑÂÆπÂô®ÂÜÖÈÉ®ËøõË°å‰øÆÊîπÔºåËøôÊòæÁÑ∂‰∏çÂ§™ÁßëÂ≠¶„ÄÇ</p>\n<p>docker ‰Ωú‰∏∫ÂπøÊ≥õ‰ΩøÁî®ÁöÑÊäÄÊúØÔºåÂÖ∂ÂºÄÊ∫êÂõ¢ÈòüÊòæÁÑ∂‰∏ç‰ºöÁäØÂ¶ÇÊ≠§‰ΩéÁ∫ßÁöÑËÆæËÆ°ÈîôËØØ„ÄÇÂÆûÈôÖ‰∏äÔºåÈô§‰∫ÜËøêË°åÂÆπÂô®Êó∂Â∞ÜÂÆπÂô®Âä†ÂÖ•Â±ÄÂüüÁΩëÂ§ñÔºå‰∏∫ÂÆπÂô®ÂëΩÂêç‰πüÊòØÂøÖ‰∏çÂèØÂ∞ëÁöÑÊ≠•È™§„ÄÇÂÆπÂô®ÂêçÁß∞Á±ªÊØîÊù•ÁêÜËß£ÔºåÁõ∏ÂΩì‰∫éÊàë‰ª¨ÈúÄË¶ÅÁî≥ËØ∑Ë¥≠‰π∞ÂüüÂêç‰ª•Êõø‰ª£ IP Âú∞ÂùÄ‰∏ÄÊ†∑Ôºå‰∏ÄËà¨Áî®Êà∑Âè™ÈúÄË¶ÅËÆ∞‰ΩèËæ®ËØÜÂ∫¶È´òÁöÑÁΩëÁ´ôÂú∞ÂùÄÔºåËÆøÈóÆÊó∂ÈÄöËøá DNS Ëß£ÊûêÂà∞ IP Âú∞ÂùÄÂÜçÂØπÊúçÂä°Âô®ËøõË°åËÆøÈóÆÔºåËøôÈáå docker ÂÆπÂô®‰∫íËÅîÁöÑÂéüÁêÜÊòØÈ´òÂ∫¶Á±ª‰ººÁöÑÔºåÂ±ÄÂüüÁΩëÂÜÖÁõ¥Êé•ËÆøÈóÆÂÆπÂô®ÂêçÁß∞‰πüËÉΩËß£ÊûêÂà∞ÂØπÂ∫îÁöÑÂÆπÂô®ÂΩì‰∏≠Âπ∂ËøõË°åËÆøÈóÆ„ÄÇ</p>\n<p>Â§öËØ¥Êó†ÁõäÔºåÊàë‰ª¨ÁúãÁúãÂ¶Ç‰ΩïÂú®ÊúçÂä°Á´ØÈ°πÁõÆ‰∏≠Áî® Mongoose ËøûÊé•Êï∞ÊçÆÂ∫ìÂÆπÂô®ÁöÑ MongoDBÔºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// username ‰∏∫Êï∞ÊçÆÂ∫ìË¥¶Êà∑ÂêçÁß∞</span></span><br><span class=\"line\"><span class=\"comment\">// password ‰∏∫Êï∞ÊçÆÂ∫ìË¥¶Êà∑ÂØÜÁ†Å</span></span><br><span class=\"line\"><span class=\"comment\">// containerName ‰∏∫Êï∞ÊçÆÂ∫ìÈ°πÁõÆÂÆπÂô®ÁöÑÂêçÁß∞</span></span><br><span class=\"line\"><span class=\"comment\">// databaseName ‰∏∫Êï∞ÊçÆÂ∫ìÂêçÁß∞</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> uri = <span class=\"string\">`mongodb://<span class=\"subst\">$&#123;username&#125;</span>:<span class=\"subst\">$&#123;password&#125;</span>@<span class=\"subst\">$&#123;containerName&#125;</span>/<span class=\"subst\">$&#123;databaseName&#125;</span>`</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">mongoose.connect(uri, &#123;</span><br><span class=\"line\">  useNewUrlParser: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  useUnifiedTopology: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  autoIndex: <span class=\"literal\">false</span>,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>ËøôÈáåË∏©‰∫Ü‰∏çÂ∞ëÂùëÔºåMongoose ËøûÊé• MongoDB ÁöÑÂüüÂêç‰ΩøÁî®ÂÆπÂô®ÂêçÁß∞‰Ωú‰∏∫Ê†áËØÜÔºåËÄåÈùû‰ΩøÁî®ÈöèÊú∫ÂàÜÈÖçÁöÑÂõ∫ÂÆö IP Âú∞ÂùÄÔºåÊàñÂÆπÂô®ÁΩëÁªúÁöÑÂêçÁß∞„ÄÇ</p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåÂæàÂ§ö‰∏≠ÊñáÊñáÁ´†‰∏≠ÈÉΩÊ≤°ÊúâÊèêÂà∞‰∏Ä‰∏™ÈÅá‰∏äÊú∫ÁéáÊØîËæÉÂ§ßÁöÑÂùëÔºåÂ∞±ÊòØÊúçÂä°Á´ØÊòØÈúÄË¶ÅÁ≠âÂæÖ MongoDB Êï∞ÊçÆÂ∫ìÂêØÂä®Âπ∂Â∞±Áª™ÂêéÔºåÊâçËÉΩËøûÊé•ÊàêÂäüÁöÑ„ÄÇ</p>\n<p>Âú®‰ΩøÁî® <code>docker run</code> ÊñπÂºèÂêØÂä®ÂÆπÂô®Êó∂Ë¶ÅÂÖàÂêØÂä® MongoDB ÁöÑÂÆπÂô®ÔºåÂÜçÂêØÂä®ÊúçÂä°Á´ØÈ°πÁõÆÁöÑÂÆπÂô®Ôºå‰∏§‰∏™ÂêØÂä®ÂëΩ‰ª§ÊâßË°åÈúÄË¶ÅÊúâÊÆµÊó∂Èó¥Â∑ÆÔºå‰∏çËÉΩÊâßË°åÂâç‰∏Ä‰∏™ÔºåÈ©¨‰∏çÂÅúËπÑÂú∞Â∞±ÊâßË°å‰∏ã‰∏Ä‰∏™„ÄÇËøôÊòØÂõ†‰∏∫ <code>docker run</code> Âè™ÊòØ‰Ωú‰∏∫ÂêØÂä®ÂÆπÂô®ÁöÑËµ∑ÁÇπÔºåÂÆπÂô®ÂÜÖÈÉ®ÂÆûÈôÖÂØπÂ§ñÊúçÂä°ÁöÑÊï∞ÊçÆÂ∫ìÊ≠£Âú®ÊâßË°åÂêØÂä®‰∏≠ÔºåÂÆπÂô®Â±ÄÂüüÁΩëÂÜÖÂπ∂‰∏çËÉΩÁ¨¨‰∏ÄÊó∂Èó¥ÂØπÂÖ∂ËøõË°åËÆøÈóÆÔºåËÄåÊòØÈúÄË¶ÅÁ≠âÂæÖ‰∏ÄÊÆµÊó∂ÂÄôÂêéÊö¥Èú≤ÁöÑÁ´ØÂè£ÊâçÂèØÊé•ÂèóÂ§ñÈÉ®ËØ∑Ê±Ç„ÄÇÂú®ÂÆπÂô®Â§ñÊù•ÁúãÔºå<code>docker run</code> ÂëΩ‰ª§ÊâßË°åÂêéÂÆπÂô®ÊòØÂêØÂä®‰∫ÜÔºå‰ΩÜÊòØÂÜÖÈÉ®ÂÆûÈôÖÊèê‰æõÊúçÂä°ÁöÑÊï∞ÊçÆÂ∫ìËøòÊ≤°ÂáÜÂ§áÂ∞±Áª™ÔºåËøôÂ∞±ÊúâÂèØËÉΩÂØºËá¥ÊúçÂä°Á´ØÈ°πÁõÆËøûÊé•Êï∞ÊçÆÂ∫ìÂÆπÂô®Âá∫Áé∞Ë∂ÖÊó∂ÁöÑÈóÆÈ¢òÂèëÁîü„ÄÇ</p>\n<p>Âõ†Ê≠§ÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπ mongoose ËÆæÁ´ãÈáçËøûÊú∫Âà∂ÔºåÂΩìËøûÊé•Ë∂ÖÊó∂Á≠âÊÉÖÂÜµÂá∫Áé∞Êó∂Ôºå‰πüËÉΩËá™Âä®ÂØπÊï∞ÊçÆÂ∫ìËøõË°åÈáçËøûÊìç‰Ωú„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> connect = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">  mongoose.connect(uri, &#123;</span><br><span class=\"line\">    useNewUrlParser: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    useUnifiedTopology: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    autoIndex: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">db.on(<span class=\"string\">'error'</span>, error =&gt; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.error(<span class=\"string\">'Error in MongoDB connection:'</span> + error);</span><br><span class=\"line\">  mongoose.disconnect();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">db.on(<span class=\"string\">'disconnected'</span>, () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'MongoDB disconnected!'</span>);</span><br><span class=\"line\">  connect();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">db.on(<span class=\"string\">'close'</span>, () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'Lost MongoDB connection...'</span>);</span><br><span class=\"line\">  connect();</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'Reconnect to MongoDB, wait...'</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>Èô§‰∫ÜÊúçÂä°Á´ØÂÜÖÈÉ®ËøõË°åÊï∞ÊçÆÂ∫ìÈáçËøûÁöÑ‰øùÈöúÂ§ñÔºåÂêéÈù¢‰ºöÊèêÂà∞ÂÆπÂô®ÁºñÊéí‰πü‰ºöÂá∫Áé∞ËøôÊ†∑ÁöÑÊÉÖÂÜµÔºåserver È°πÁõÆ‰æùËµñ database È°πÁõÆÁöÑÂêØÂä®Ôºå<code>docker-compose.yml</code> ‰∏≠Êúâ‰∏™ÈÖçÁΩÆÈ°πÊòØ <code>depends_on</code>ÔºåË°®Á§∫Á≠âÂæÖÊåáÂÆöÁöÑÂÆπÂô®ÂêØÂä®ÂêéÂÜçËøõË°åÂΩìÂâçÂÆπÂô®ÁöÑÂêØÂä®„ÄÇÂú®ÂÆπÂô®ÁöÑËßíÂ∫¶Êù•ÁúãÔºåÂÆÉÂè™Áü•ÈÅìÂÆπÂô®ÁöÑÊòØÂê¶Â∑≤ÁªèÂêØÂä®Ôºå‰πüÂèØ‰ª•ÁêÜËß£‰∏∫ÊòØÂê¶Â∑≤ÁªèÊâßË°å‰∫Ü <code>docker run</code> ÁöÑÂëΩ‰ª§ÔºåÂÆπÂô®ÂÜÖÈÉ®ÁöÑÈ°πÁõÆÊòØÂê¶ÂêØÂä®ÔºåÂÆπÂô®ÁöÑÁÆ°‰∏çÁùÄÁöÑÔºåÂÆÉ‰πü‰∏çÁü•ÈÅìÔºåÊâÄ‰ª•Â¶ÇÊûúÂÜÖÈÉ®ÊúçÂä°ÂêØÂä®Êó∂Èó¥‰πÖ‰∫éÂÆπÂô®‰πãÈó¥ÁºñÊéíÂêØÂä®ÁöÑÊó∂Èó¥ÔºåÂêåÊó∂‰∏§ËÄÖÂº∫‰æùËµñÊÄßË¥®ÁöÑÔºåÈÇ£‰πàÂ∞±‰ºöÂØºËá¥ÊüêÊñπÂá∫Áé∞ÈîôËØØÔºåËøôÊ†∑ÁöÑÊÉÖÂÜµÂ§ßÈÉ®ÂàÜÂá∫Áé∞Âú®ÂØπÊï∞ÊçÆÂ∫ìÁöÑËøûÊé•‰∏ä„ÄÇ</p>\n<p>ÂèØËÉΩÁî±‰∫éÊé•Êî∂Âà∞ÁöÑÂèçÈ¶àÂ§™Â§öÔºåÂÆòÊñπÊñáÊ°£‰∏≠ <a href=\"https://docs.docker.com/compose/startup-order/\" target=\"_blank\" rel=\"noopener\">Control startup and shutdown order in Compose</a> ‰πüÊòéÁ°ÆË°®Á§∫Ëøô‰∏™ÈóÆÈ¢òÔºåÂÆÉÊèê‰æõ‰∫ÜÂá†‰∏™ËΩÆËÆ≠ÂÆπÂô®ÊúçÂä°ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂåÖÊã¨ <a href=\"https://github.com/vishnubob/wait-for-it\" target=\"_blank\" rel=\"noopener\">wait-for-it.sh</a>„ÄÅ<a href=\"https://github.com/jwilder/dockerize\" target=\"_blank\" rel=\"noopener\">dockerize</a> Âíå <a href=\"https://github.com/Eficode/wait-for\" target=\"_blank\" rel=\"noopener\">wait-for</a>„ÄÇ</p>\n<h2 id=\"ÊúçÂä°ÈÉ®ÁΩ≤\"><a href=\"#ÊúçÂä°ÈÉ®ÁΩ≤\" class=\"headerlink\" title=\"ÊúçÂä°ÈÉ®ÁΩ≤\"></a>ÊúçÂä°ÈÉ®ÁΩ≤</h2><p>È¶ñÂÖàÊàë‰ª¨ÂÖàÈÉ®ÁΩ≤Â•ΩÂâçÁ´ØÈ°πÁõÆÔºåÂâçÁ´ØÈ°πÁõÆÂÆπÂô®ÂÜÖÈÉ®ÊâßË°å Nginx ÂëΩ‰ª§ÂêØÂä®‰ª£ÁêÜÊúçÂä°Âô®‰ªéËÄåËΩ¨ÂèëËØ∑Ê±ÇÔºåÂ¶ÇÊûúÊåâÁÖßÂâçÈù¢ÊâÄÂàóÁöÑ Nginx ÈÖçÁΩÆÔºåÁêÜËÆ∫‰∏äÂ∫îËØ•ËÉΩÈ°∫Âà©ÂêØÂä®ÂÆπÂô®„ÄÇ</p>\n<p>‰∏çËøáËøôÈáå‰πüÊèê‰∏Ä‰∏ãÂÆûË∑µ‰∏≠ÈÅáÂà∞ÁöÑÈóÆÈ¢òÔºö</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ÂêØÂä®ÂÆπÂô®</span></span><br><span class=\"line\">$ docker run -d --name totorox-admin -p 8200:80 hub.ppmoney.io/telescope/totorox-admin</span><br><span class=\"line\">Starting nginx ... <span class=\"keyword\">done</span></span><br><span class=\"line\">Attating to nginx</span><br></pre></td></tr></table></figure>\n<p>Â∞±ÊòØÊâßË°åÂÆåÊØïÂêéÔºåÁïåÈù¢‰ºö‰∏ÄÁõ¥ÂÅúÁïôÂú® <code>Attating to nginx</code>ÔºåÊ≤°ÊúâÊä•Èîô‰πüÊ≤°ÊúâÊèêÁ§∫ËøêË°åÊàêÂäü„ÄÇ</p>\n<p>Ëøô‰∏™ÈóÆÈ¢òÔºåÊòØÁî±‰∫éÂÆπÂô®ÂÜÖÈÉ® <code>/etc/nginx/conf.d/default.conf</code> Ë∑ØÂæÑ‰∏ãÁöÑ <code>default.conf</code> Êñá‰ª∂ÁöÑÁº∫Â§±ÊâÄÂØºËá¥ÔºåÊç¢Âè•ËØùËØ¥Â∞±ÊòØ Nginx ÂêØÂä®ÊâÄÈúÄË¶ÅÊâßË°åÁöÑÈªòËÆ§ÈÖçÁΩÆ‰∏¢Â§±‰∫Ü„ÄÇÂú®ÂÆπÂô®ÁöÑÂ±ÇÈù¢ÂàÜÊûêÔºåÊúâÂèØËÉΩÊòØÂõ†‰∏∫ÂÆπÂô®ÊåÇËΩΩ‰∫Ü <code>volumes</code>ÔºåËÄåÂÆø‰∏ªÊú∫ÁöÑ <code>conf.d</code> ÁõÆÂΩï‰∏ã‰∏∫Á©∫Ë¶ÜÁõñ‰∫ÜÂÆπÂô®ÂÜÖÈÉ®ÂØπÂ∫îÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂ÔºåÂÖ∑‰ΩìÂéüÂõ†ÂèØ‰ª• <code>docker exec -it totorox-admin .</code> ËøõÂÖ•ÂÆπÂô®ÂÜÖÈÉ®Ê£ÄÊü•„ÄÇ</p>\n<p>‰∏ãÈù¢ÁΩóÂàó‰∫ÜÊ†πÊçÆÊûÑÂª∫Â•ΩÁöÑÈïúÂÉèÂú®ÊúçÂä°Âô®‰∏äÂêØÂä®ËøêË°åÂÆπÂô®Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/docker-run.png\" alt=\"ËøêË°åÂÆπÂô®ÂëΩ‰ª§\"></p>\n<p>ÂÆπÂô®ÂêØÂä®ÂêéÔºåÂèØ‰ª•ËæìÂÖ• <code>docker ps -a</code> Êü•ÁúãÂÆø‰∏ªÊú∫‰∏äÊâÄÊúâÁöÑÂÆπÂô®ÂàóË°®„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-container-list.jpg\" alt=\"Êü•ÁúãÂÆø‰∏ªÊú∫ÂÆπÂô®ÂàóË°®\"></p>\n<p>‰ªé‰∏äÂõæÂèØ‰ª•Ë°®Ê†º‰∏≠ÁöÑ STATUS Âíå PORTS ÂèØ‰ª•ÁúãÂá∫Êù•ÔºåÊúâ‰∏â‰∏™ÂÆπÂô®Â∑≤ÁªèÂêØÂä®Ôºå‰ΩÜÊòØ MongoDB ÁöÑÂÆπÂô®ÂàôÂêØÂä®Â§±Ë¥•‰∫Ü„ÄÇ</p>\n<p>Êü•ÁúãÊó•Âøó <code>docker logs &lt;container-name&gt;</code> Êü•ÁúãÂÆπÂô®ÁöÑËøêË°åÊó•ÂøóÔºåÊâæÂà∞Âá∫ÈîôÁöÑÂéüÂõ†ÔºàËøôÈáåÂè™ÊòØ‰∏∫‰∫ÜÊºîÁ§∫ËÄåÂá∫ÈîôÔºå‰∏äËø∞Áõ∏ÂÖ≥‰ª£Á†ÅÂùáÈ™åËØÅÊúâÊïàÔºâ„ÄÇ</p>\n<p>ËøôÈáåÂèØËÉΩ‰ºöÊúâ‰∫õÁñëÈóÆÔºåÊòØÂê¶Â∫îËØ•‰ΩøÁî® PM2 Á≠âÂÆàÊä§ËøõÁ®ãÂ∑•ÂÖ∑ÂØπËøõÁ®ãËøõË°åÂÆàÊä§Âë¢Ôºü</p>\n<p>ÂÆûÈôÖ‰∏äÂÆπÂô®‰∏≠ÁöÑÂ∫îÁî®ÈÉΩÂ∫îËØ•ÂâçÂè∞ÊâßË°åËøêË°åÔºåËÄåÈùûÂêéÂè∞ÊâßË°åÔºåÂÆπÂô®ÂÜÖÊ≤°ÊúâÂêéÂè∞ÊúçÂä°ÁöÑÊ¶ÇÂøµ„ÄÇÂØπ‰∫éÂÆπÂô®ËÄåË®ÄÔºåÂÖ∂ÂêØÂä®Á®ãÂ∫èÂ∞±ÊòØÂÆπÂô®Â∫îÁî®ËøõÁ®ãÔºåÂÆπÂô®Â∞±ÊòØ‰∏∫‰∫Ü‰∏ªËøõÁ®ãËÄåÂ≠òÂú®ÁöÑÔºå‰∏ªËøõÁ®ãÈÄÄÂá∫ÔºåÂÆπÂô®Â∞±Â§±Âéª‰∫ÜÂ≠òÂú®ÁöÑÊÑè‰πâ„ÄÇ ÊØîÂ¶Ç <code>CMD service nginx start</code> ÂÆÉÁ≠âÂêå‰∫é <code>CMD [ &quot;bash&quot;, &quot;-c&quot;, &quot;service nginx start&quot;]</code> ‰∏ªËøõÁ®ãÂÆûÈôÖ‰∏äÊòØ <code>bash</code>Ôºå<code>bash</code> ‰πüÂ∞±ÁªìÊùü‰∫ÜÔºå<code>bash</code> ‰Ωú‰∏∫‰∏ªËøõÁ®ãÈÄÄÂá∫‰∫Ü„ÄÇÂõ†Ê≠§Âú®Êàë‰ª¨ÁöÑÈïúÂÉèÊûÑÂª∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÂùáÁõ¥Êé•ÂºÄÂêØÊúçÂä°ËÄåÈùûÈÄöËøá PM2 Êàñ Forever Á≠âÂ∑•ÂÖ∑ÂºÄÂêØ„ÄÇ</p>\n<p>ÂÆπÂô®ÁöÑÂêØÂä®Áõ∏ÂØπÊØîËæÉÁÆÄÂçïÔºåÊ†πÊçÆÈúÄË¶Å‰ΩøÁî®ÈÖçÁΩÆÈ°πÂç≥ÂèØÂø´ÈÄüÂêØÂä®/ÂÅúÊ≠¢ÂÆπÂô®„ÄÇ‰ΩÜÊòØÔºåÊØèÊ¨°ÈÉ®ÁΩ≤ÈÉΩÈúÄË¶ÅËæìÂÖ•‰∏ÄÂ§ß‰∏≤ÁöÑÂëΩ‰ª§ÔºåÂì™Â§©ÂøòËÆ∞‰∫ÜÂì™‰∏™ÂèÇÊï∞Âøò‰∫Ü‰º†ÊÄé‰πàÂäûÔºåÂëΩ‰ª§ÁöÑÊâßË°åÈ°∫Â∫èË∞ÉÊç¢‰∫ÜÊÄé‰πàÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶Å‰∏ÄÁßçÂÆπÂô®ÁºñÊéíÁöÑÊñπÂºèÔºåËÆ©ÊØèÊ¨°ÂÆπÂô®Êõ¥Êñ∞ÈÉ®ÁΩ≤ÈÉΩËÉΩÈÄöËøáÊõ¥ÁÆÄ‰æøÁöÑÂëΩ‰ª§ÂÆûÁé∞„ÄÇ</p>\n<h2 id=\"ÂÆπÂô®ÁºñÊéí\"><a href=\"#ÂÆπÂô®ÁºñÊéí\" class=\"headerlink\" title=\"ÂÆπÂô®ÁºñÊéí\"></a>ÂÆπÂô®ÁºñÊéí</h2><p>docker-compose Ë¥üË¥£ÂÆûÁé∞ÂØπ Docker ÂÆπÂô®ÈõÜÁæ§ÁöÑÂø´ÈÄüÁºñÊéí„ÄÇ‰ΩøÁî®ËÄÖÈÄöËøá <code>docker-compose.yml</code> Ê®°ÁâàÊñá‰ª∂ÂÆö‰πâ‰∏ÄÁªÑÂÖ≥ËÅîÁöÑÂ∫îÁî®ÂÆπÂô®‰∏∫‰∏Ä‰∏™È°πÁõÆ„ÄÇÂÆÉÈªòËÆ§ÁÆ°ÁêÜÂØπË±°ÊòØÈ°πÁõÆÔºåÈÄöËøáÂ≠êÂëΩ‰ª§ÂØπÈ°πÁõÆ‰∏≠ÁöÑ‰∏ÄÁªÑÂÆπÂô®ËøõË°å‰æøÊç∑Âú∞ÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåÂ∞±ÊòØÊääÂàöÊâç‰∏ÄËøû‰∏≤ÁöÑÂëΩ‰ª§Âà©Áî®ÈùôÊÄÅÁöÑÈÖçÁΩÆÊñá‰ª∂ËÆ∞ÂΩï‰∏ãÊù•ÔºåÂêØÂä®ÂÆπÂô®Âè™ÈúÄÈÄöËøá <code>docker compose up -d</code> ÂëΩ‰ª§ËøêË°åÂç≥ÂèØ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-compose.png\" alt=\"ÂÆπÂô®ÁºñÊéí\"></p>\n<p>È¶ñÂÖàÔºåÊàë‰ª¨ÈúÄË¶ÅÊ≥®ÊÑè <code>docker-compose</code> ÁöÑÁâàÊú¨ÈóÆÈ¢òÔºåÊúâÁöÑÈÖçÁΩÆÈ°πÊòØ version2.0 Ê≤°ÊúâÔºåËÄå version3.0 Êñ∞Â¢ûÁöÑÔºåËØ¶ÊÉÖÁõ¥Êé•ÁúãÂÆòÊñπÊñáÊ°£ <a href=\"https://docs.docker.com/compose/compose-file/compose-versioning/\" target=\"_blank\" rel=\"noopener\">Compose file versions and upgrading</a> Âç≥ÂèØ„ÄÇ</p>\n<p><code>docker-compose.yml</code> ÂÆö‰πâ‰∫ÜÂêØÂä®ÂÆπÂô®ÂêçÁß∞„ÄÅÈïúÂÉèÂú∞ÂùÄ„ÄÅÂØπÂ§ñÊö¥Èú≤ÁöÑÁ´ØÂè£„ÄÅÁéØÂ¢ÉÂèòÈáè„ÄÅÊï∞ÊçÆÂç∑‰ª•ÂèäÂÆπÂô®ÂêØÂä®ÁöÑÂÖàÂêéÈ°∫Â∫èÁ≠â„ÄÇ</p>\n<p><code>docker-compose</code> ÂêØÂä®Êó∂‰ºöÂÖàËé∑ÂèñÊú¨Âú∞ÈïúÂÉèÔºåÂ¶ÇÊûúÊú¨Âú∞Â∑≤ÁªèÊúâÂØπÂ∫îÁöÑÈïúÂÉèÂàô‰ºöÁõ¥Êé•‰ΩøÁî®ÔºåÂ¶ÇÊûúÊú¨Âú∞Ê≤°ÊúâÊâæÂà∞ÔºåÂàô‰ºö‰ªéËøúÁ®ã‰ªìÂ∫ìÊãâÂèñÂà∞Êú¨Âú∞ÂêéÂÜçÂêØÂä®„ÄÇ</p>\n<p><code>restart: always</code> ÈÖçÁΩÆÈ°πÂèØ‰ª•ËÆ©ÂÆπÂô®Âú®ÂÜÖÈÉ®ÊúçÂä°ÊåÇÊéâÁöÑÊó∂ÂÄôÔºåËá™Âä®ÈáçÊñ∞ÂêØÂä®ÂÜÖÈÉ®ÊúçÂä°„ÄÇ</p>\n<p>‰ªìÂ∫ìÂÖ¨ÂºÄÁöÑ‰ª£Á†ÅÂ∫îËØ•ÈúÄË¶ÅÂØπÊñá‰ª∂ËøõË°åËÑ±ÊïèÔºå‰πüÂ∞±ÊòØÂ∞ÜÈÖçÁΩÆÊñá‰ª∂ÔºàÂåÖÊã¨ÁôªÂΩïÊï∞ÊçÆÂ∫ìÁöÑÁî®Êà∑ÂêçÂØÜÁ†ÅÁ≠âÔºâÊéíÈô§ÂÖ¨ÂºÄÁöÑÊñá‰ª∂ÂàóË°®‰∏≠„ÄÇ</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker run -e VARIABLE1 --env VARIABLE2=foo --env-file ./env.list ubuntu bash</span><br></pre></td></tr></table></figure>\n<hr>\n<p><strong>ÂèÇËÄÉËµÑÊñôÔºö</strong></p>\n<ul>\n<li><a href=\"https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file\" target=\"_blank\" rel=\"noopener\">Passing variables to Docker</a></li>\n<li><a href=\"https://vsupalov.com/docker-build-pass-environment-variables/\" target=\"_blank\" rel=\"noopener\">Pass Docker Environment Variables During The Image Build</a></li>\n<li><a href=\"https://blog.bitsrc.io/how-to-pass-environment-info-during-docker-builds-1f7c5566dd0e\" target=\"_blank\" rel=\"noopener\">How To Pass Environment Info During Docker Builds</a></li>\n<li><a href=\"https://stackoverflow.com/questions/42992397/how-to-setup-node-environment-variable-in-dockerfile-for-running-node-js-applica\" target=\"_blank\" rel=\"noopener\">How to setup Node environment variable in Dockerfile for running node.js application?</a></li>\n<li><a href=\"https://hn.werick.codes/how-to-create-a-node-app-within-a-docker-container-with-mongo-cjwjd3l4t00067rs18w7035oc\" target=\"_blank\" rel=\"noopener\">How to create a Node App within a Docker container with Mongo</a></li>\n<li><a href=\"http://quabr.com/57123227/cannot-connect-from-node-to-mongo-replicaset-in-docker\" target=\"_blank\" rel=\"noopener\">Cannot connect from node to mongo replicaset in docker</a></li>\n<li><a href=\"https://blog.csdn.net/weixin_30466953/article/details/97366689\" target=\"_blank\" rel=\"noopener\">Docker Node È°πÁõÆËøûÊé• MongoDB</a></li>\n<li><a href=\"https://blog.csdn.net/wxb880114/article/details/88869215\" target=\"_blank\" rel=\"noopener\">ÂçáÁ∫ß Docker ÂêéÈáçÂêØÂÆπÂô®Âá∫Áé∞ÈîôËØØ Unknown runtime specified docker-runc</a></li>\n<li><a href=\"https://segmentfault.com/q/1010000010768993\" target=\"_blank\" rel=\"noopener\">Mongoose ËøúÁ®ãËøûÊé• MongoDBÔºåÂΩìÂÆ¢Êà∑Á´ØÊñ≠ÂºÄÁΩëÁªúÈáçËøûÊó∂Êä•Èîô topology was destoryedÔºü</a></li>\n<li><a href=\"https://juejin.im/post/5ddb3f85e51d45231576af3c\" target=\"_blank\" rel=\"noopener\">ËøôÂèØËÉΩÊòØÁΩëÁªú‰∏äÂîØ‰∏Ä‰∏ÄÁØáÁªôÂâçÁ´ØÂÜôÁöÑ Docker+Node+Nginx+MongoDB ÁöÑÊú¨Âú∞ÂºÄÂèë+ÈÉ®ÁΩ≤ÂÆûÊàò</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>Âú®‰∫∫Á±ªÁ§æ‰ºöÂ§ßÂàÜÂ∑•Ë∂äÊù•Ë∂äÁ≤æÁªÜÁöÑÂ§ßËÉåÊôØ‰∏ãÔºåÂêÑÂºèÂêÑÊ†∑ÁöÑËΩØ‰ª∂ÊäÄÊúØÂÖ¨Âè∏Â±ÇÂá∫‰∏çÁ©∑Ôºå‰∏∫ÂêÑË°åÂêÑ‰∏öÊèê‰æõÁùÄÊàñÂ§ß‰ºóÂåñÊàñÂÖ∑ÊúâÁâπËâ≤ÁöÑËΩØ‰ª∂ÊúçÂä°ÔºåÂ§ßÈÉ®ÂàÜËΩØ‰ª∂ÊúçÂä°ÊòØÂÖ¨ÊúâÊÄßË¥®ÁöÑÔºå‰πüÂ∞±ÊòØËøô‰∫õÊúçÂä°Êèê‰æõÂïÜÂÜÖÈÉ®ÂçïÁã¨ÁöÑËøêËê•ËΩØ‰ª∂Âπ≥Âè∞Ôºå‰ΩøÁî®ËÄÖËé∑ÂèñËΩØ‰ª∂‰ΩøÁî®ÊùÉÂêéÂú®ÂÖ∂Âπ≥Âè∞Áîü‰∫ßÂÜÖÂÆπÔºåÂπ∂Áî±ÊúçÂä°ÂïÜÊèê‰æõÊï∞ÊçÆÂ≠òÂÇ®ÊúçÂä°ÔºåËøôÁßçÊÄßË¥®ÁöÑÂπ≥Âè∞ÂØπ‰∫éËΩØ‰ª∂ÂºÄÂèëÂïÜÊù•ËØ¥ÈúÄË¶ÅËÄÉËôëÊï∞ÊçÆÁöÑÈöîÁ¶ªÔºåÂØπ‰∫é‰ΩøÁî®ËÄÖÊù•ËØ¥ÂàôÂáèÂ∞ë‰∫ÜÁª¥Êä§ÊàêÊú¨Ôºå‰ΩÜÊòØÊï∞ÊçÆÂπ∂ÈùûÁßÅËá™Â≠òÂÇ®Êó†Ê≥ïÁ°Æ‰øùÂÆâÂÖ®ÊÄß„ÄÇËÄåÁõ∏ÂØπ‰∫éÂÖ¨ÊúâÊÄßËΩØ‰ª∂ÊúçÂä°ÁöÑÂ∞±ÊòØÁßÅÊúâÂåñËΩØ‰ª∂ÊúçÂä°ÔºåËøôÁ±ªÂûã‰∫ßÂìÅÊèê‰æõÂèØÈÉ®ÁΩ≤Ëá≥ÂÆ¢Êà∑ÁßÅËá™ÁöÑÊúçÂä°Âô®‰∏äÁöÑÁâàÊú¨ÔºåÊï∞ÊçÆÁî±ÂÆ¢Êà∑Ëá™Ë∫´Â≠òÂÇ®ÔºåÊüêÁßçÁ®ãÂ∫¶‰∏ä‰øùËØÅÁöÑ‰∫ÜÊï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄß„ÄÇ</p>\n<p>Âú® PPmoney ÂÜÖÈÉ®ÔºåÈæôÁå´ X ÈÖçÁΩÆÂπ≥Âè∞Êèê‰æõÁªôÁêÜË¥¢ÂèäÂÄüË¥∑‰∏§‰∏™ÊäÄÊúØÂõ¢Èòü‰ΩøÁî®ÔºåÂØπ‰∫éÈ°µÈù¢„ÄÅÊ®°Áâà„ÄÅÁªÑ‰ª∂„ÄÅÁ¥†ÊùêÈÉΩÈúÄË¶ÅÂú®ÂÖ¨ÂÖ±Á©∫Èó¥ËøõË°åÂÖ±‰∫´Â≠òÂÇ®ÔºåËÄåÁé∞ÊúâÁöÑ‰∫∫ÂëòÊùÉÈôêÊú∫Âà∂Êó†Ê≥ïÂØπËøô‰∫õË¶ÅÁ¥†ËøõË°åÁ≠õÈÄâÂå∫ÂàÜÔºåÊó†ÂèØÈÅøÂÖçÂá∫Áé∞ÁÆ°ÁêÜÊ∑∑‰π±ÁöÑÂ±ÄÈù¢„ÄÇËÄåÊ†πÊçÆ‰∏çÂêåÁöÑÂõ¢Èòü„ÄÅ‰∏çÂêåÁöÑÈÉ®ÁΩ≤ÁéØÂ¢ÉËøõË°åÁ≥ªÁªüÈÉ®ÁΩ≤‰πüÊòØÈúÄÊ±ÇÁöÑÂÖ≥Ê≥®ÁÇπ„ÄÇËÄÉËôëÂà∞ÂØπÊï∞ÊçÆÁöÑÈöîÁ¶ªÔºå‰ª•ÂèäÊú™Êù•ÈæôÁå´ X ‰Ωú‰∏∫ËΩØ‰ª∂ÊúçÂä°ÂØπÂ§ñÊèê‰æõÂïÜ‰∏öÊÄßË¥®ÁöÑÊúçÂä°Ôºå‰∏∫ÈæôÁå´ X Â¢ûÂº∫ÂèØÁã¨Á´ãÈÉ®ÁΩ≤ÁöÑÂäüËÉΩÁöÑ‰∫ãÂÆúÂç≥Êèê‰∏äÂºÄÂèëÁöÑÊó•Á®ã„ÄÇ</p>\n<p>Âú®ÂØπÈæôÁå´ X ÁöÑÁã¨Á´ãÈÉ®ÁΩ≤ÁöÑÊäÄÊúØÈÄâÂûã‰∏äÊàë‰ª¨ÈÄâÊã©‰∫Ü Docker ÂÆπÂô®ÂåñÊäÄÊúØ„ÄÇ‰πãÊâÄ‰ª•ÈÄâÊã© Docker ÊòØÂõ†‰∏∫ÂÆπÂô®ÊäÄÊúØÂØπËøõÁ®ãËøõË°åÂ∞ÅË£ÖÈöîÁ¶ªÔºåËÉΩÂ§üÈ´òÊïàÂú∞Âú®Âà©Áî®ÊúçÂä°Âô®ËµÑÊ∫ê‰ª•Âèä‰æøÊç∑Âú∞Âú®Â§öÂπ≥Âè∞Èó¥ËøõË°åËøÅÁßª„ÄÇ</p>\n<p>Âú®ËøôÁØáÊñáÁ´†‰∏≠ÊàëÂ∞ùËØïÊääÂÆπÂô®ÂåñÊîπÈÄ†ËøáÁ®ã‰∏≠ÈÅáÂà∞ÁöÑÂùë‰ΩçËÆ∞ÂΩï‰∏ãÊù•‰∏∫Âêé‰∫∫Êèê‰æõÂÄüÈâ¥Ôºå‰πüÊòØÂØπÊï¥‰∏™ÂùéÂù∑ÁöÑËøáÁ®ãÁöÑËÆ∞ÂΩï„ÄÇ</p>","more":"<h2 id=\"ÂÆπÂô®ÂåñÊäÄÊúØ\"><a href=\"#ÂÆπÂô®ÂåñÊäÄÊúØ\" class=\"headerlink\" title=\"ÂÆπÂô®ÂåñÊäÄÊúØ\"></a>ÂÆπÂô®ÂåñÊäÄÊúØ</h2><p>ÂÆπÂô®ÊäÄÊúØÂØπËøõÁ®ãËøõË°åÂ∞ÅË£ÖÈöîÁ¶ªÔºåÂ±û‰∫éÊìç‰ΩúÁ≥ªÁªüÂ±ÇÈù¢ÁöÑËôöÊãüÂåñÊäÄÊúØ„ÄÇÁî±‰∫éÈöîÁ¶ªÁöÑËøõÁ®ãÁã¨Á´ã‰∫éÂÆø‰∏ªÂíåÂÖ∂‰ªñÁöÑÈöîÁ¶ªÁöÑËøõÁ®ãÔºåÂõ†Ê≠§Áß∞‰∏∫ÂÆπÂô®„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-in-server.png\" alt=\"ÊúçÂä°Âô®‰∏≠ÁöÑÂÆπÂô®\"></p>\n<p>Docker ÂÆπÂô®ÂåñÊäÄÊúØÂÖ≥ÈîÆÊ†∏ÂøÉÂè™ÈúÄË¶ÅÊéåÊè°‰∏â‰∏™Ê¶ÇÂøµÔºö</p>\n<ul>\n<li>ÈïúÂÉè Image</li>\n<li>ÂÆπÂô® Container</li>\n<li>‰ªìÂ∫ì Repository</li>\n</ul>\n<p>‰ªéÂ∞èÁôΩÁöÑËßíÂ∫¶ÁêÜËß£ÁöÑËØùÂèØ‰ª•Êää <strong>ÈïúÂÉè</strong> Âíå <strong>ÂÆπÂô®</strong> Á±ªÊØî‰∏∫Èù¢ÂêëÂØπË±°ÁºñÁ®ã‰∏≠ÁöÑÁ±ªÂíåÂÆû‰æãÔºåÈïúÂÉèÊòØÈùôÊÄÅÁöÑÂÆö‰πâÔºåËÄåÂÆπÂô®ÂàôÊòØÈïúÂÉèËøêË°åÊó∂ÁöÑÂΩ¢ÊÄÅ„ÄÇÊàë‰ª¨ÂèØ‰ª•ÊääÂÆπÂô®ÊÉ≥ÂÉèÊàêÂåÖË£ÖÁõíÔºåÂåÖË£ÖÁõíÈáåË£ÖËΩΩÁùÄ‰∏Ä‰∏™ÂæÆÂûãÊìç‰ΩúÁ≥ªÁªüÔºåÂÖ∂ÂÜÖÈÉ®ËøêË°åÁùÄÊàë‰ª¨ÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ</p>\n<p>‰ªìÂ∫ìÂàôÊòØÂ≠òÊîæÈïúÂÉèÁöÑÂú∞ÊñπÔºåÂèØ‰ª•‰∏∫ÈïúÂÉèÊâì tagÔºàÊ†áÁ≠æÔºâÔºåÂ∞±Â•ΩÂÉèÊàë‰ª¨‰∏∫ git commit ÊâìÁâàÊú¨Âè∑ÁöÑ tag ‰∏ÄÊ†∑Ôºå‰ΩøÁî®ËÄÖÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÈÄâÊã©ÁâàÊú¨ÈÉ®ÁΩ≤ÔºåÁ®ãÂ∫èÊïÖÈöúÊó∂‰πüËÉΩÁ´ãÈ©¨Ê†πÊçÆÁâàÊú¨ËøõË°åÂõûÊªö„ÄÇ</p>\n<p>Docker Hub ÊòØ Docker ÂÆòÊñπÁöÑÂÖ¨ÂºÄÁöÑ‰ªìÂ∫ìÔºåÁßÅÊúâ‰ªìÂ∫ìÂàôÊúâ HarborÔºåÂïÜ‰∏öÂåñÁöÑÂÆπÂô®ÊúçÂä°Êèê‰æõÂïÜÊúâÈòøÈáå‰∫ë„ÄÅDao Cloud Á≠â„ÄÇÊàë‰ª¨ÂÖ¨Âè∏ÈááÁî®ÁöÑÊòØÂÜÖÈÉ®Ëá™Âª∫ÁöÑ Harbor ‰ªìÂ∫ì„ÄÇ</p>\n<p>Âõ†‰∏∫Êú¨ÁØáÊñáÁ´†ÈùûÁßëÊôÆÊÄßË¥®ÔºåÊâÄ‰ª•ÂØπ‰∫é Docker ÁöÑ‰ªãÁªçÂ∞±‰∏çËøá‰∫éÊ∑±ÂÖ•ÂèôËø∞ÔºåÊúâÂÖ¥Ë∂£ÂèØ‰ª•ÊêúÁ¥¢Áõ∏ÂÖ≥ÊñáÁ´†ËøõË°åÁ†îÁ©∂ÔºåÂΩìÁÑ∂È¶ñÊé®ËøòÊòØÊää <a href=\"https://docs.docker.com/\" target=\"_blank\" rel=\"noopener\">ÂÆòÊñπÊñáÊ°£</a> Áúã‰∏ÄÈÅçÔºåÊØïÁ´üÁ¨¨‰∏ÄÊâãËµÑÊñôÊâçÊòØÊúÄÂÖ∑ÂèÇËÄÉ‰ª∑ÂÄºÁöÑ„ÄÇ</p>\n<h2 id=\"ÈïúÂÉèÂà∂‰Ωú\"><a href=\"#ÈïúÂÉèÂà∂‰Ωú\" class=\"headerlink\" title=\"ÈïúÂÉèÂà∂‰Ωú\"></a>ÈïúÂÉèÂà∂‰Ωú</h2><p>ÂØπÈæôÁå´ X ËøõË°åÂÆπÂô®ÂåñÊîπÈÄ†ÈúÄË¶ÅÈÉ®ÁΩ≤Âõõ‰∏™Â≠êÈ°πÁõÆÔºåÂàÜÂà´ÊòØ React ÂÖ®ÂÆ∂Ê°∂ÁöÑÂÆ¢Êà∑Á´ØÈ°πÁõÆ„ÄÅKoa ÊúçÂä°Á´ØÈ°πÁõÆ„ÄÅÈ°µÈù¢Áà¨Ëô´È°πÁõÆ‰ª•Âèä MongoDB Êï∞ÊçÆÂ∫ì„ÄÇ</p>\n<p>Âú® Docker ‰∏≠ÔºåÈïúÂÉèÊòØÊ†πÊçÆÈÖçÁΩÆÊñá‰ª∂ Dockerfile ÊûÑÂª∫ÁöÑ„ÄÇÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§ÂèØ‰ª•ÊâßË°åÊûÑÂª∫ÁöÑÂ∑•‰ΩúÔºö</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># docker build -t &lt;ÈïúÂÉèÂêçÁß∞&gt; &lt;ÊûÑÂª∫ÁõÆÂΩï&gt;</span></span><br><span class=\"line\">$ docker build -t totorox-admin .</span><br></pre></td></tr></table></figure>\n<p><code>-t</code> Ë°®Á§∫Â∞ÜÈïúÂÉèÂëΩÂêç‰∏∫ <code>totorox-admin</code>„ÄÇ</p>\n<h3 id=\"ÂâçÁ´ØÈ°πÁõÆ\"><a href=\"#ÂâçÁ´ØÈ°πÁõÆ\" class=\"headerlink\" title=\"ÂâçÁ´ØÈ°πÁõÆ\"></a>ÂâçÁ´ØÈ°πÁõÆ</h3><p>Â¶Ç‰∏ãÂõæÊâÄÁ§∫‰∏∫ÂâçÁ´ØÈ°πÁõÆÈïúÂÉèÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/frontend-dockerfile.png\" alt=\"Dockerfile in Frontend Project\"></p>\n<p>Âú® Dockerfile ‰∏≠ <code>FROM</code> Êåá‰ª§ÊòØÂøÖÁÑ∂Â≠òÂú®ÁöÑÂπ∂‰∏î‰Ωú‰∏∫ÊûÑÂª∫ÁöÑÂºÄÂ§¥ÔºåËØ•Êåá‰ª§ÂàùÂßãÂåñ‰∏Ä‰∏™Êñ∞ÁöÑÊûÑÂª∫Èò∂ÊÆµÔºà‰πüÂ∞±ÊòØÊúâÂ§öÂ∞ë‰∏™ <code>FROM</code> Êåá‰ª§Â∞±ÊúâÂ§öÂ∞ë‰∏™ÈïúÂÉèÊûÑÂª∫Èò∂ÊÆµÔºâÂπ∂‰∏∫ÂêéÁª≠Êåá‰ª§ËÆæÁΩÆÂü∫Á°ÄÊò†ÂÉè„ÄÇ</p>\n<p><code>COPY</code> Êåá‰ª§Ë°®Á§∫Êã∑Ë¥ùËµÑÊ∫êËá≥ÈïúÂÉèÂÜÖÈÉ®ÔºåËøôÈáåÊúâ‰∏™‰ºòÂåñÁöÑÂ∞èÊäÄÂ∑ßÔºåÂ∞±ÊòØÂú®È°πÁõÆÊ†πÁõÆÂΩïÊ∑ªÂä† <code>.dockerignore</code> Êñá‰ª∂Ôºå‰∏é <code>.gitignore</code> Êàñ <code>.npmignore</code> Á±ª‰ººÔºåÊ∑ªÂä†Âà∞ËØ•Êñá‰ª∂‰∏ãÁöÑÁõÆÂΩï Docker ÊûÑÂª∫ÈïúÂÉèÊó∂Â∞ÜÂøΩÁï•ÂÖ∂‰∏≠ÁöÑÊñá‰ª∂„ÄÇÊàë‰ª¨ÂèØ‰ª•ÊääÂè™Áî®‰∫é‰ª£Á†ÅÂºÄÂèëÈò∂ÊÆµÊàñËÄÖËßÑËåÉÊÄßÁöÑÊñá‰ª∂ÊéíÈô§Âú®ÊûÑÂª∫‰πãÂ§ñÔºå‰æãÂ¶Ç <code>.vscode</code>„ÄÅ<code>.eslint</code>„ÄÅ<code>dist</code> Á≠â„ÄÇ</p>\n<p>Êé•‰∏ãÊù•Â∞±ÊòØÂ∏∏ËßÑÁöÑÂÆâË£Ö‰æùËµñ„ÄÅÈ°πÁõÆÊûÑÂª∫ÊâìÂåÖÁöÑÊåá‰ª§Ôºå<code>npm install</code> ÂèØ‰ª•ÊåáÂÆö‰∏∫Ê∑òÂÆùÈïúÂÉèÔºåÂú®ÂõΩÂÜÖÁöÑËØù‰∏ãËΩΩÈÄüÂ∫¶Áõ∏ÂØπÊúâ‰øùÈöúÔºåËÉΩÂ§üÁº©ÂáèÈïúÂÉèÁöÑÊûÑÂª∫Êó∂Èó¥„ÄÇ</p>\n<p>Á±ª‰ººÂú∞ÔºåÁî±‰∫éÊàë‰ª¨ÁöÑÈ°πÁõÆ‰∏≠‰ΩøÁî®Âà∞‰∫Ü Sass È¢ÑÁºñËØëÔºåWebpack ÊâìÂåÖÈúÄË¶ÅÁî®Âà∞ <code>node-sass</code> Êèí‰ª∂ÔºåÊØèÊ¨°ÈÉΩÂøÖÈ°ª‰∏ãËΩΩ <code>win32-x64-57_binding.node</code> Êñá‰ª∂ÔºåÊâÄ‰ª•Ë¶Å‰∏çÈúÄË¶ÅÊº´ÈïøÁöÑÁ≠âÂæÖÔºàÂõ†‰∏∫‰ªéÂõΩÂ§ñÊ∫ê‰ªìÂ∫ì‰∏ãËΩΩÔºâÔºåË¶Å‰∏ç‰∏ãËΩΩÂ§±Ë¥•Êä•‰∏ÄÁ≥ªÂàóÁöÑÈîô„ÄÇÂπ∏Â•ΩÂÆÉÊèê‰æõ‰∫Ü‰∫∫ÊÄßÂåñÁöÑÈÖçÁΩÆÔºåÂèØ‰ª•ÈÄöËøáÁéØÂ¢ÉÂèòÈáèÊîπÂèò‰∏ãËΩΩÁöÑÂú∞ÂùÄ„ÄÇÊàë‰ª¨Âú® <code>.npmrc</code> ‰∏≠Â∞Ü‰∏Ä‰∫õ‰æùËµñÂåÖ‰∏≠ÈúÄË¶ÅÈ¢ùÂ§ñ‰∏ãËΩΩÁöÑÊñá‰ª∂ÁöÑÈìæÊé•Âú∞ÂùÄÁöÑÁéØÂ¢ÉÂèòÈáèÊåáÂÆö‰∏∫ÂõΩÂÜÖÁöÑÈïúÂÉèÂú∞ÂùÄ„ÄÇÂΩìÁÑ∂Âï¶Âπ∂ÈùûÊâÄÊúâ‰æùËµñÂåÖÈÉΩÊîØÊåÅËøôÊ†∑ÂÅöÔºåÊúâ‰∫õÂÜôÊ≠ª‰∫Ü‰∏ãËΩΩÂú∞ÂùÄÊòØÊó†Ê≥ïÈÄöËøáËøôÊ†∑ÁöÑÊñπÊ≥ï‰ºòÂåñÁöÑ„ÄÇÈô§‰∫Ü‰∏äÈù¢ÊèêÂà∞ÁöÑ <code>node-sass</code>ÔºåÂÖ∂‰ΩôÂèØ‰ª•Âú® <a href=\"https://developer.aliyun.com/mirror/NPM?from=tnpm\" target=\"_blank\" rel=\"noopener\">Ê∑òÂÆùÈïúÂÉè</a> ÊâæÂà∞ÂØπÂ∫îÁöÑÈïúÂÉèÂú∞ÂùÄÔºåÂêéÈù¢‰ºöÊèêÂà∞ÁöÑÈ°µÈù¢Áà¨Ëô´È°πÁõÆ‰∏≠‰ΩøÁî®ÁöÑ <code>phantomjs</code> ‰πüÊòØÈÄöËøáËøôÁßçÊñπÂºèÂ§ßÂπÖÂ∫¶ÂéãÁº©‰∫ÜÊûÑÂª∫Êó∂Èó¥„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/npmrc.jpg\" alt=\".npmrcÈÖçÁΩÆÊñá‰ª∂\"></p>\n<p>Á¨¨‰∫åÈò∂ÊÆµÊàë‰ª¨‰ªéÈïúÂÉè‰ªìÂ∫ìËé∑Âèñ Nginx ÈïúÂÉè„ÄÇ‰∏ÄËà¨Âú∞ÔºåÂâçÁ´ØÈ°πÁõÆÊûÑÂª∫ÊâìÂåÖÂêéÁîüÊàêÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂ÔºåÈúÄË¶Å Web ‰ª£ÁêÜÊúçÂä°Âô®ËøõË°åËØ∑Ê±ÇËΩ¨ÂèëÔºåÊàë‰ª¨ËøôÈáåÁî®ÁöÑÊòØ NginxÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•Áî® Express ÂÆûÁé∞‰∏Ä‰∏™ Web ÊúçÂä°‰Ωú‰∏∫‰ª£ÁêÜËΩ¨Âèë„ÄÇ</p>\n<p>Nginx ÈÖçÁΩÆÂíå‰ΩøÁî®Áõ∏ÂØπÊù•ËØ¥ÊØîËæÉÁÆÄÂçïÔºåÈÄöËøáÁÆÄÂçïÁöÑÈÖçÁΩÆÂç≥ÂèØÊã•ÊúâÈ´òÊÄßËÉΩÂíåÈ´òÂèØÁî®ÊÄßÔºå‰∏ãÈù¢ÊòØ Nginx ÁöÑÁ§∫‰æãÈÖçÁΩÆÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/nginx-conf.png\" alt=\"NginxÈÖçÁΩÆ\"></p>\n<p>Âú®ËØ•Èò∂ÊÆµ‰∏≠Ôºå‰∏ªË¶ÅÊòØÂ∞ÜÁ¨¨‰∏ÄÈò∂ÊÆµÁîüÊàêÁöÑ‰∫ßÁâ©ËΩ¨ÁßªÂà∞Á¨¨‰∫åÈò∂ÊÆµÔºåËøôÊòØÂõ†‰∏∫ÈïúÂÉèÊúÄÁªàÁöÑÂêØÂä®Êåá‰ª§ <code>CMD</code> ÊòØÂú®Á¨¨‰∫åÈò∂ÊÆµÔºåËÄå‰∏îÂàÜÈò∂ÊÆµÁöÑÈïúÂÉèÊûÑÂª∫ËÉΩÂ§ü‰ΩøÂæóÊúÄÁªàÂÆπÂô®ÂÜÖÂè™ÈúÄÊîæÁΩÆÊâìÂåÖÂêéÁöÑÈùôÊÄÅËµÑÊ∫êÊñá‰ª∂Âç≥ÂèØÔºå‰∏çÁî®ÂåÖÂê´Ê∫ê‰ª£Á†ÅÊñá‰ª∂ÔºåÈïúÂÉèÁöÑ‰ΩìÁßØ‰πü‰ºöÂõ†Ê≠§ËÄåÂ§ßÂπÖÂ∫¶Áº©ÂáèÔºåÂú®ÊüêÁßçÁ®ãÂ∫¶‰πüÁ°Æ‰øù‰∫ÜÊ∫ê‰ª£Á†ÅÁöÑ‰∏çÂØπÂ§ñÊ≥ÑÊºè„ÄÇ</p>\n<p>ÊúÄÁªà <code>CMD</code> ÂëΩ‰ª§ÊòØÂÆπÂô®ËøêË°åÊó∂Âú®ÂÜÖÈÉ®ÊâßË°åÁöÑÊåá‰ª§„ÄÇËÄÉËôëÂà∞‰∏çÂêå‰ΩøÁî®ËÄÖÁöÑ API ÊúçÂä°Âô®ÂüüÂêçÊòØ‰∏çÂêåÁöÑÊòØÂä®ÊÄÅÂèòÂåñÁöÑÔºåÂú®Ê∫ê‰ª£Á†Å‰∏≠Êää API ÂüüÂêçÂÜôÊ≠ªÊòæÁÑ∂ÊòØ‰∏™‰∏çÊòéÊô∫ÁöÑÂÅöÊ≥ï„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨ÈÄöËøáÂú®ËøêË°åÂÆπÂô®Êó∂ÁöÑÁéØÂ¢ÉÂèòÈáèÊ§çÂÖ•ÂÜôÂ•ΩÁöÑ Shell ËÑöÊú¨ÔºåÈÄöËøá Shell ËÑöÊú¨ÁîüÊàêÂåÖÂê´ÂüüÂêçÁ≠â‰ø°ÊÅØÁöÑ JavaScript Êñá‰ª∂ÔºåHTML ÊñáÊ°£ÈÄöËøáÂÜôÂ•ΩÁöÑÂ§ñÈìæËØ•ËÑöÊú¨Êñá‰ª∂ÂÆûÁé∞Âä†ËΩΩÔºåËøôÊ†∑Âç≥ÂèØÊª°Ë∂≥Âä®ÊÄÅÂüüÂêçÂèòÊõ¥ÁöÑÈúÄÊ±Ç„ÄÇ</p>\n<p>Âú®ÈïúÂÉèÊûÑÂª∫ËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúÁªÜÂøÉËßÇÂØüÊâìÂç∞ÁöÑÊó•ÂøóÔºå‰ºöÂèëÁé∞ÊúâËøô‰πà‰∏ÄÂè•Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/removeing-intermediate-container.jpg\" alt=\"ÁßªÈô§‰∏≠Èó¥ÂÆπÂô®\"></p>\n<p>ÂÖ∂ÂÆû‰ªéÊûÑÂª∫ÁöÑÊó•Âøó‰∏≠ÂèØ‰ª•ÁúãÂà∞ÔºåÂÆûË¥®‰∏äÈïúÂÉèÊûÑÂª∫ÁöÑÊØè‰∏™Êåá‰ª§ÈÉΩ‰ºöÁîüÊàê‰∏Ä‰∏™‰∏¥Êó∂ÁöÑ‰∏≠Èó¥ÂÆπÂô®ÔºåÊØèÂ±Ç‰∏≠Èó¥ÂÆπÂô®ÈÉΩÊòØ‰ª•ÂâçÈù¢‰∏ÄÂ±Ç‰∏≠Èó¥ÂÆπÂô®‰∏∫Âü∫Á°ÄÁöÑ„ÄÇÂΩìÂØπÂ∫îÁöÑÊåá‰ª§ÊâßË°åÂÆåÊØïÂêéÔºåÂØπÂ∫îÂ±ÇÁ∫ßÂ∞±‰∏ç‰ºöÂÜçÂèëÁîüÊîπÂèòÔºå‰ºöÁßªÈô§ËØ•‰∏¥Êó∂ÂàõÂª∫ÁöÑ‰∏≠Èó¥ÂÆπÂô®ÔºåÁÑ∂ÂêéÂÜçËøõË°å‰∏ã‰∏Ä‰∏™Êåá‰ª§Êìç‰Ωú„ÄÇ</p>\n<p>ÊûÑÂª∫ÊàêÂäüÂêéÔºåÂú®ÂëΩ‰ª§Ë°å‰∏≠ËæìÂÖ• <code>docker images</code> Âç≥ÂèØÊü•ÁúãÂΩìÂâçÂÆø‰∏ªÊú∫ÁöÑ Docker ÈïúÂÉèÂàóË°®Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/docker-images.jpg\" alt=\"ÂÆπÂô®ÈïúÂÉè\"></p>\n<p>Áî±‰∫éÊàë‰ª¨ÁöÑÈ°πÁõÆÊâÄÈúÄË¶ÅÁöÑÈïúÂÉèÂú®ÂÖ¨Âè∏ÂÜÖÈÉ®ÊúâÁßÅÊúâ‰ªìÂ∫ìÔºåÊâÄ‰ª•ÊûÑÂª∫Êó∂ÈÄüÂ∫¶Êúâ‰∏ÄÂÆöÁöÑ‰øùÈöúÔºåÂ¶ÇÊûúÊòØ‰∏™‰∫∫ÂºÄÂèëËÄÖÂú®Ëá™Â∑±ÁöÑÊúçÂä°Âô®‰∏äÊûÑÂª∫ÈïúÂÉèÂèØËÉΩÈúÄË¶Å‰ªéÂÖ¨Êúâ‰ªìÂ∫ì‰æãÂ¶Ç Docker Hub ÊãâÂèñÊâÄÈúÄË¶ÅÁöÑÈïúÂÉèÔºåËøôÈáåÊèê‰æõ‰∏Ä‰∏™‰ºòÂåñÁöÑÊâãÊÆµÔºåÂèØ‰ª•ÈÄöËøá‰øÆÊîπ Docker Daemon ÈÖçÁΩÆ <code>/etc/docker/daemon.json</code> ÁöÑÈïúÂÉèÂú∞ÂùÄÔºåÂÆûÁé∞ÈïúÂÉèÁöÑÂä†ÈÄüÔºåDocker ÂÆòÊñπÂíåÂõΩÂÜÖÂæàÂ§ö‰∫ëÊúçÂä°Âô®Âπ≥Âè∞ÈÉΩÊèê‰æõ‰∫ÜÂõΩÂÜÖÁöÑÂä†ÈÄüÊúçÂä°„ÄÇ</p>\n<p>üå∞ <strong>Á§∫‰æãÔºö</strong></p>\n<p>ËøôÈáåÊèê‰æõÁöÑÈïúÂÉèÂú∞ÂùÄ‰ªÖ‰æõÂèÇËÄÉÔºåÂèØ‰ª•Âà∞ÂØπÂ∫îÁöÑ‰∫ëÊúçÂä°ÂïÜÊâæÂà∞ÂØπÂ∫îÁöÑÈïúÂÉèÂä†ÈÄüÂú∞ÂùÄ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-image-acceleration.png\" alt=\"ÈïúÂÉèÂä†ÈÄü\"></p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåÂú®‰ΩøÁî® Docker ÊûÑÂª∫ÈÉ®ÁΩ≤Â∫îÁî®ÂâçÊúÄÂ•ΩÁ°ÆËÆ§Â•Ω Docker ÁöÑÁâàÊú¨Ôºå‰æãÂ¶Ç CentOS 7 Á≥ªÁªüÈªòËÆ§ÁöÑ Docker ÁâàÊú¨ÊòØ 13ÔºåËÄå <code>FROM AS</code> ÁöÑËØ≠Ê≥ïÂàôÈúÄË¶Å Docker ÁâàÊú¨ 17 ‰ª•‰∏äÊâçÊîØÊåÅÔºåËøô‰∏™Êó∂ÂÄôÈúÄË¶ÅÂÖàÂØπÂÆø‰∏ªÊú∫ÁöÑ Docker ËøõË°åÁâàÊú¨Êõ¥Êñ∞„ÄÇ</p>\n<p>ÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨ÁöÑ Docker ÂèØ‰ª•ÂèÇËÄÉÔºö</p>\n<p><a href=\"https://www.jianshu.com/p/2e208721aa39\" target=\"_blank\" rel=\"noopener\">CentOS ÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨ÁöÑ Docker</a></p>\n<p>ÂçáÁ∫ß Docker ÂêéÈáçÂêØÂÆπÂô®Âá∫Áé∞ÈîôËØØ <code>Unknown runtime specified docker runc</code> ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºö</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ grep -rl <span class=\"string\">'docker-runc'</span> /var/lib/docker/containers/ | xargs sed -i <span class=\"string\">'s/docker-runc/runc/g'</span></span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl stop docker</span><br><span class=\"line\"></span><br><span class=\"line\">$ systemctl start docker</span><br></pre></td></tr></table></figure>\n<h3 id=\"ÊúçÂä°Á´ØÈ°πÁõÆ\"><a href=\"#ÊúçÂä°Á´ØÈ°πÁõÆ\" class=\"headerlink\" title=\"ÊúçÂä°Á´ØÈ°πÁõÆ\"></a>ÊúçÂä°Á´ØÈ°πÁõÆ</h3><p>Êé•‰∏ãÊù•Êàë‰ª¨ÁúãÁúãÁî® Koa Êê≠Âª∫ÁöÑÊúçÂä°Á´ØÈ°πÁõÆÂ¶Ç‰ΩïÈÉ®ÁΩ≤ÔºåÁ±ª‰ººÊìç‰ΩúÊåá‰ª§Â∞±‰∏çÂÜçÈáçÂ§çËµòËø∞‰∫ÜÔºå‰∏ªË¶ÅË∞àË∞àÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂú∞Êñπ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/backend-dockerfile.png\" alt=\"ÊúçÂä°Á´ØDockerfile\"></p>\n<p>Âõ†‰∏∫È°πÁõÆ‰∏≠ÈÄöËøáÂºÄÂêØÂ≠êËøõÁ®ãÁöÑÊñπÂºèÊâßË°å Webpack ÂëΩ‰ª§ËøõË°åÈ°µÈù¢ÁöÑÁîüÊàêÔºåÂõ†Ê≠§Êàë‰ª¨ÈúÄË¶ÅÂú®ÂÆπÂô®ÂÜÖÂÖ®Â±ÄÂÆâË£Ö Webpack„ÄÇ</p>\n<p>Êàë‰ª¨ÁúãÂà∞ËøôÈáå‰∏∫‰∏Ä‰∏™Âêç‰∏∫ <code>wait-for-it.sh</code> ÁöÑÊèê‰æõ‰∫ÜÂèØÊâßË°åÁöÑÊùÉÈôêÔºåËÄå‰∏îÂú®ÂêéÁª≠ÁöÑ <code>CMD</code> Êåá‰ª§‰∏≠ÂÖàÊâßË°å‰∫ÜËØ•ËÑöÊú¨Êñá‰ª∂„ÄÇÂ∫îÁî®ÂÆπÂô®ÂåñÂêéÔºåDocker ÂÆπÂô®ÂêØÂä®Êó∂ÔºåÈªòËÆ§‰ΩøÁî®Èùû root Áî®Êà∑ÊâßË°åÂëΩ‰ª§ÔºåÊâÄ‰ª•Â∫îÁî®ÂÜÖÁöÑËÑöÊú¨Êñá‰ª∂Êó†Ê≥ïÊ≠£Â∏∏ÊâßË°åÔºåËøôÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÊâßË°å <code>chmod a+x</code> ‰∏∫ËÑöÊú¨Êñá‰ª∂Êèê‰æõÂèØÊâßË°åÁöÑÊùÉÈôê„ÄÇËá≥‰∫éËøô‰∏™ËÑöÊú¨ÁöÑÂ≠òÂú®ÊÑè‰πâÊàë‰ª¨Âú®ÂêéÈù¢ÂÆπÂô®ÈÄöËÆØÁöÑÈÉ®ÂàÜÂÜçËØ¶ÁªÜËØ¥ÊòéÔºåÊöÇ‰∏îË∑≥Ëøá„ÄÇ</p>\n<p>‰∏ãÈù¢Êàë‰ª¨Ë∞àË∞à Dockerfile ‰∏≠ÁöÑËæìÂÖ•ÂèÇÊï∞ <code>ARG</code>„ÄÅÁéØÂ¢ÉÂèòÈáè <code>ENV</code> ‰ª•ÂèäÂ¶Ç‰ΩïÂ∞Ü Dockerfile ‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáè/‰º†ÂÖ•ÂèÇÊï∞Âú® <code>CMD</code> Êåá‰ª§‰∏≠ÁöÑ‰ΩøÁî®„ÄÇ</p>\n<p>Êåá‰ª§ <code>ARG</code> ÂÆö‰πâ‰∏Ä‰∏™ÂèòÈáèÔºåÁî®Êà∑ÂèØ‰ª•Âú®‰ΩøÁî® <code>docker build</code> ÂëΩ‰ª§‰ΩøÁî® <code>--build-arg &lt;varname&gt;=&lt;value&gt;</code> Ê†áÂøóÔºåÂú®ÊûÑÂª∫Êó∂Â∞ÜÂÖ∂‰º†ÈÄíÁªôÊûÑÂª∫Âô®„ÄÇ</p>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ARG</span> <span class=\"keyword\">env</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ÊåáÂÆöÈªòËÆ§ÂÄº</span></span><br><span class=\"line\"><span class=\"keyword\">ARG</span> <span class=\"keyword\">env</span>=local</span><br></pre></td></tr></table></figure>\n<p>Â¶ÇÊûú <code>ARG</code> ÂØπÂ∫îÁöÑÂÄºÊúâÁº∫ÁúÅÂÄºÔºåÂπ∂‰∏îÂ¶ÇÊûúÂú®ÊûÑÂª∫Êó∂Ê≤°Êúâ‰º†ÈÄíÂÄºÔºåÂàôÊûÑÂª∫Âô®‰ΩøÁî®Áº∫ÁúÅÂÄº„ÄÇ</p>\n<p>Dockerfile ÁöÑ <code>ENV</code> Êåá‰ª§Êúâ‰∏§Áßç‰π¶ÂÜôÊñπÂºèÔºö</p>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">ENV</span> &lt;key&gt; &lt;value&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ËøôÁßçÂÜôÊ≥ïÈîÆ/ÂÄº‰∏éÁ≠âÂè∑‰πãÈó¥‰∏çËÉΩÂ≠òÂú®Á©∫Ê†º</span></span><br><span class=\"line\"><span class=\"keyword\">ENV</span> &lt;key&gt;=&lt;value&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ÈÄöËøáÊñúÊù† \\ Êç¢Ë°å‰∏ÄÊ¨°ÊÄßÂ£∞ÊòéÂ§ö‰∏™ÁéØÂ¢ÉÂèòÈáè</span></span><br><span class=\"line\"><span class=\"keyword\">ENV</span> API_URL=example.com \\</span><br><span class=\"line\">    NODE_ENV=production \\</span><br><span class=\"line\">    COMMAND=dev</span><br></pre></td></tr></table></figure>\n<p>‰∏é <code>ARG</code> Êåá‰ª§ÂØπÊØîÔºå<code>ENV</code> ÂßãÁªàÂ≠òÂú®‰∫éÈïúÂÉèÂΩì‰∏≠ÔºåËÄå <code>ARG</code> ‰ªÖÂú®ÊâßË°åÊó∂Â≠òÂú®„ÄÇ</p>\n<p>ÂÖ≥‰∫é dockerfile ‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáèÊõøÊç¢ÂèØ‰ª•ÈòÖËØªÂÆòÊñπÊñáÊ°£‰∏≠ÊúâÂÖ≥ <a href=\"https://docs.docker.com/engine/reference/builder/#environment-replacement\" target=\"_blank\" rel=\"noopener\">ÁéØÂ¢ÉÂèòÈáèÊõøÊç¢</a> ÁöÑÁõ∏ÂÖ≥Á´†ËäÇ„ÄÇ</p>\n<p><code>CMD</code> Êåá‰ª§Êúâ‰∏âÁßç‰π¶ÂÜôÊñπÂºèÔºö</p>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ‰ΩøÁî® exec ÊâßË°åÔºåËøôÁ±ªÊ†ºÂºèÂú®Ëß£ÊûêÊó∂‰ºöË¢´Ëß£ÊûêÊàê JSON Êï∞ÁªÑÔºåÂõ†Ê≠§‰∏ÄÂÆöË¶Å‰ΩøÁî®ÂèåÂºïÂè∑</span></span><br><span class=\"line\"><span class=\"keyword\">CMD</span><span class=\"bash\"> [<span class=\"string\">\"command\"</span>, <span class=\"string\">\"instructions\"</span>, <span class=\"string\">\"options\"</span>]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ‰ΩøÁî® /bin/sh ‰∏≠ÊâßË°åÔºåÊèê‰æõÁªôÈúÄË¶Å‰∫§‰∫íÁöÑÂ∫îÁî®</span></span><br><span class=\"line\"><span class=\"comment\"># ÂÆûÈôÖÂëΩ‰ª§‰ºöË¢´ÂåÖË£Ö‰∏∫ sh -c ÁöÑÂèÇÊï∞ÂΩ¢ÂºèËøõË°åÊâßË°å</span></span><br><span class=\"line\"><span class=\"keyword\">CMD</span><span class=\"bash\"> <span class=\"built_in\">command</span> param1 param2</span></span><br></pre></td></tr></table></figure>\n<p>ÊåáÂÆöÂêØÂä®ÂÆπÂô®Êó∂ÊâßË°åÂëΩ‰ª§ÔºåÊØè‰∏™ Dockerfile Âè™ËÉΩÊúâ‰∏Ä‰∏™ <code>CMD</code> Êåá‰ª§„ÄÇÂ¶ÇÊûúÊåáÂÆö‰∫ÜÂ§öÊù°ÂëΩ‰ª§ÔºåÂàôÂè™ÊúâÊúÄÂêé‰∏ÄÊù°‰ºöË¢´ÊâßË°å„ÄÇÂ¶ÇÊûúÁî®Êà∑ÂêØÂä®ÂÆπÂô®Êó∂ÊåáÂÆö‰∫ÜËøêË°åÁöÑÂëΩ‰ª§ÔºåÂàô‰ºöË¶ÜÁõñÊéâ <code>CMD</code> ÊåáÂÆöÁöÑÂëΩ‰ª§„ÄÇ</p>\n<p>Âú®Êàë‰ª¨ÁöÑÈ°πÁõÆ‰∏≠ÔºåÈô§‰∫ÜÂâçÈù¢Ë∞àËøáÁöÑÂâçÁ´ØÈ°πÁõÆÈúÄË¶ÅÂ∞Ü API ÂüüÂêçÁ≠âÂú® Docker ËøêË°åÂàùÊúüÂä®ÊÄÅÊ§çÂÖ•Â§ñÔºåÊúçÂä°Á´ØÈ°πÁõÆ‰πüÈúÄË¶Å‰º†ÂÖ•Êï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØ„ÄÇÁªèËøáÂÆûÈ™åÂèëÁé∞Ôºå<code>exec</code> ÂΩ¢ÂºèÁöÑ <code>CMD</code> ÊòØÈÄöËøá Docker Êù•ËøêË°åÂëΩ‰ª§ÁöÑÔºåÂπ∂‰∏çÊîØÊåÅÂèÇÊï∞ÊõøÊç¢„ÄÇËÄå <code>shell</code> ÂΩ¢ÂºèÁöÑ <code>CMD</code> ÂàôÊòØÈÄöËøá Docker Êù•ËøêË°å <code>sh</code>Ôºå<code>sh</code> ÂÜçËøêË°åÊàë‰ª¨ÂÜôÁöÑÂëΩ‰ª§ÔºåËÄå <code>sh</code> ÊòØÊîØÊåÅÂèÇÊï∞ÊõøÊç¢ÁöÑ„ÄÇ</p>\n<p>ÊâÄ‰ª•Â¶ÇÊûúÊÉ≥Â∞Ü Dockerfile ‰∏≠ÁöÑÁéØÂ¢ÉÂèòÈáè <code>ENV</code> ÊàñÂèÇÊï∞ <code>ARG</code> Âú® <code>CMD</code> Êåá‰ª§‰∏≠‰ΩøÁî®ÔºåÂ∞±ÈúÄË¶ÅÈááÁî® <code>shell</code> ÁöÑÂΩ¢Âºè‰π¶ÂÜôÂêØÂä®ÂëΩ‰ª§„ÄÇ</p>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># docker run ÂêéÊ∑ªÂä†ÁöÑÂèÇÊï∞‰º†ÂÖ•</span></span><br><span class=\"line\"><span class=\"keyword\">ARG</span> <span class=\"keyword\">env</span>=production</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ‰ªéÊâßË°å shell ÂëΩ‰ª§ÁöÑÊâßË°åÁéØÂ¢É‰∏≠ËØªÂèñ ENV ÂèòÈáè‰Ωú‰∏∫ dockerfile ‰∏≠ÁöÑ env ÂèòÈáèÂÄº</span></span><br><span class=\"line\"><span class=\"keyword\">ENV</span> <span class=\"keyword\">env</span>=$&#123;<span class=\"keyword\">ENV</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ÂêØÂä®ÂëΩ‰ª§ÊòØÊâßË°åËÑöÊú¨ /scripts/setup.sh</span></span><br><span class=\"line\"><span class=\"comment\"># ËØ•ËÑöÊú¨ÈúÄË¶Å‰º†ÂÖ•ÁéØÂ¢ÉÂèòÈáè envÔºå‰πüÂ∞±ÊòØ dockerfile ‰∏≠ÂÆö‰πâÁöÑÂèòÈáè</span></span><br><span class=\"line\"><span class=\"keyword\">CMD</span><span class=\"bash\"> /scripts/setup.sh <span class=\"variable\">$&#123;env&#125;</span></span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Áà¨Ëô´È°πÁõÆ\"><a href=\"#Áà¨Ëô´È°πÁõÆ\" class=\"headerlink\" title=\"Áà¨Ëô´È°πÁõÆ\"></a>Áà¨Ëô´È°πÁõÆ</h3><p>Êé•ÁùÄÊàë‰ª¨Ë∞àË∞àÈ°µÈù¢Áà¨Ëô´È°πÁõÆÁöÑÈïúÂÉèÊûÑÂª∫„ÄÇ</p>\n<p>Áî±‰∫éÈæôÁå´ X ‰∏ªË¶ÅÁî®‰∫éÁßªÂä®Á´ØËê•ÈîÄÊ¥ªÂä®ÔºåÈ°µÈù¢ÁöÑÂä†ËΩΩ‰ΩìÈ™åÂØπÁî®Êà∑ËΩ¨ÂåñÁéáËµ∑Âà∞Ëá≥ÂÖ≥ÈáçË¶ÅÁöÑ‰ΩúÁî®ÔºåÂõ†Ê≠§ÂèëÂ∏ÉÈ°µÈù¢ÈÉΩÁªèÁî±Êó†Â§¥ÊµèËßàÂô®Áà¨ÂèñÂèëÂ∏ÉÈ°µÈù¢ÁöÑÈ¶ñÂ±èÊ∏≤ÊüìÁöÑ HTML ÊñáÊ°£‰ª•Áº©ÂáèÈ°µÈù¢ÁöÑÁôΩÂ±èÊó∂Èó¥„ÄÇ</p>\n<p>Âú® Linux Á≥ªÁªü‰∏≠‰ΩøÁî® PhantomJS ÈúÄË¶Å‰ªéÊ∫ê‰ª£Á†Å‰ªìÂ∫ì‰∏≠ÊãâÂèñÊï¥ÂåÖÔºå‰∏ãËΩΩÈÄüÂ∫¶Âõ†‰ºóÊâÄÂë®Áü•ÁöÑÂéüÂõ†ÈùûÂ∏∏ÊÖ¢ÔºåÊâÄ‰ª•ËøôÈáåÊîπÁî®ÈòøÈáåÂõΩÂÜÖÁöÑÈïúÂÉè‰Ωú‰∏∫‰∏ãËΩΩÂú∞ÂùÄÔºåÂêéÁª≠ÁªèËøá‰∏ÄÁ≥ªÂàóËß£ÂéãÁº©„ÄÅÁßªÂä®Êñá‰ª∂„ÄÅÂª∫Á´ãËΩØÈìæÊé•Á≠âÔºåÂú®ÂÆπÂô®ÂÜÖËÉΩÂ§üÁõ¥Êé•ÈÄöËøáÂëΩ‰ª§Ë°åÊâßË°å PhantomJS ÁöÑÁõ∏ÂÖ≥ÂëΩ‰ª§„ÄÇ</p>\n<p>ÂâçÈù¢ÊèêÂèäÊØè‰∏™Êåá‰ª§ÈÉΩÊòØÊñ∞ÁöÑÊûÑÂª∫Â±ÇÔºåÊâÄ‰ª•ËøôÈáå‰πüÊòØÈÄöËøáÁÆ°ÈÅìËøûÊé•ÁöÑÊñπÂºèÂÆûÁé∞‰∏ÄËøû‰∏≤ÁöÑÊìç‰ΩúÔºåËøôÁßçÊñπÂºèÊòØÂæàÂ•ΩÁöÑÂéãÁº©ÈïúÂÉè‰ΩìÁßØÁöÑÊñπÊ≥ï„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/spider-dockerfile.png\" alt=\"Áà¨Ëô´È°πÁõÆ Dockerfile\"></p>\n<h3 id=\"Êï∞ÊçÆÂ∫ìÈ°πÁõÆ\"><a href=\"#Êï∞ÊçÆÂ∫ìÈ°πÁõÆ\" class=\"headerlink\" title=\"Êï∞ÊçÆÂ∫ìÈ°πÁõÆ\"></a>Êï∞ÊçÆÂ∫ìÈ°πÁõÆ</h3><p>‰∏ãÈù¢ÈúÄË¶ÅÂØπ MongoDB Êï∞ÊçÆÂ∫ìÂÆûÁé∞ÂÆπÂô®ÂåñÁÆ°ÁêÜ„ÄÇÂÖàÁªôÂ§ßÂÆ∂ÁúãÁúã MongoDB Êï∞ÊçÆÂ∫ìÁöÑ Dockerfile Êñá‰ª∂Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/mongodb-dockerfile.png\" alt></p>\n<p>Áî±‰∫éÁã¨Á´ãÈÉ®ÁΩ≤ÁâàÊú¨ÁöÑÈæôÁå´ X Âú®ÂàùÂßãÂåñÊó∂ÈúÄË¶ÅÂØºÂÖ•ÈªòËÆ§ÁöÑÊï∞ÊçÆÔºå‰æãÂ¶ÇÁªÑ‰ª∂Êï∞ÊçÆ„ÄÅÁªÑ‰ª∂Á±ªÂûãÊï∞ÊçÆ„ÄÅÊ†áÁ≠æÊï∞ÊçÆ„ÄÅÈ°µÈù¢Á±ªÂûãÊï∞ÊçÆÁ≠â„ÄÇÊàë‰ª¨‰ªéÂ∑≤ÊúâÁöÑÈ°πÁõÆ‰∏≠ÂØºÂá∫Êï∞ÊçÆÂπ∂ËøõË°åÈÄÇÂΩì‰øÆÊ≠£ÂêéÔºåÂ∞ÜÊï∞ÊçÆÊñá‰ª∂‰øùÂ≠òÂà∞È°πÁõÆÊåáÂÆöÈªòËÆ§Êï∞ÊçÆÁöÑÁõÆÂΩï‰∏ãÔºåÂú® Dockerfile ‰∏≠ÊåáÂÆö <code>RUN</code> ÈÄöËøá‰∏ãÈù¢ÁöÑ shell ËÑöÊú¨ÂØπÊï∞ÊçÆÂ∫ìËøõË°åÂàùÂßãÂåñÔºåÂπ∂ÂêëÊï∞ÊçÆÂ∫ì‰∏≠ÂØºÂÖ•Êï∞ÊçÆ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-entrypoint-initdb.png\" alt=\"MongoDB ÂàùÂßãÂåñËÑöÊú¨\"></p>\n<p>‰∏∫‰∫ÜÊèêÈ´òÊï∞ÊçÆÂ∫ìÁöÑÊâ©Â±ïÊÄßÔºåÊï∞ÊçÆÂ∫ìÁöÑÁî®Êà∑Âêç„ÄÅÂØÜÁ†Å„ÄÅÂêçÁß∞ÂèØ‰ª•ÈÄöËøáÁéØÂ¢ÉÂèòÈáèÁöÑÊñπÂºèËøõË°åËÆæÁΩÆÔºåÊñπ‰æø‰∏çÂêåÁöÑÂõ¢ÈòüÊ†πÊçÆËá™Ë∫´ÈúÄÊ±Ç‰øÆÊîπ„ÄÇ</p>\n<p>Êàë‰ª¨Â∞ÜÂõõ‰∏™È°πÁõÆÂàÜÂà´ÈÄöËøá <code>docker build</code> ÂëΩ‰ª§ÊûÑÂª∫Áã¨Á´ãÁöÑÈïúÂÉèÂêéÔºåÈÄöËøáÂëΩ‰ª§ <code>docker images</code> ËÉΩÂ§üÊü•ÁúãÂà∞ÊâÄÊúâÂ∑≤ÊûÑÂª∫ÁöÑÈïúÂÉèÂàóË°®ÔºåÈÄöËøá <code>docker history &lt;image-id&gt;</code> ÂëΩ‰ª§ËÉΩÂ§üÊü•ÁúãÈïúÂÉèÊûÑÂª∫ËøáÁ®ã‰∏≠ÁöÑÁªÜËäÇÔºöÂåÖÊã¨ÊØèÂ±ÇÊåá‰ª§ÊâßË°åÁöÑÊåá‰ª§„ÄÅÊûÑÂª∫ÂêéÁöÑ‰∫ßÁâ©Âç†ÈïúÂÉèÁöÑ‰ΩìÁßØÂ§ßÂ∞èÁ≠âÔºåÈÄöËøáÂàÜÊûêÊûÑÂª∫ÂéÜÂè≤ËÉΩÂ§üËÆ©Êàë‰ª¨ÊéåÊè°‰æùÊçÆÂØπ Dockerfile ËøõË°å‰ºòÂåñ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-history.jpg\" alt=\"ÂÆπÂô®ÊûÑÂª∫ÂéÜÂè≤\"></p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåÊûÑÂª∫Â•ΩÁöÑÈïúÂÉèÈúÄË¶ÅÊåÅ‰πÖÂåñ‰øùÂ≠òÁöÑËØùÔºåÈúÄË¶Å <code>docker tag</code> ÊâìÊ†áÁ≠æÂπ∂ <code>docker push</code> Âà∞ËøúÁ®ã‰ªìÂ∫ì‰∏≠ËøõË°å‰øùÂ≠ò„ÄÇ</p>\n<h2 id=\"ÂÆπÂô®‰∫íËÅî\"><a href=\"#ÂÆπÂô®‰∫íËÅî\" class=\"headerlink\" title=\"ÂÆπÂô®‰∫íËÅî\"></a>ÂÆπÂô®‰∫íËÅî</h2><p>Êàë‰ª¨Áü•ÈÅìÊúçÂä°Á´ØÈ°πÁõÆËøêË°åÊó∂ÊòØÈúÄË¶Å‰∏éÊï∞ÊçÆÂ∫ì‰øùÊåÅËøûÊé•ÁöÑÔºåÈÇ£‰πà Docker ÊòØÂê¶Êèê‰æõÊüêÁßçÊú∫Âà∂ËÆ©‰∏çÂêåÂÆπÂô®‰πãÈó¥ËøõË°åÈÄö‰ø°Âë¢Ôºü</p>\n<p>ÂΩì Docker ÂêØÂä®Êó∂ÔºåÂÆûÈôÖ‰∏ä‰ºöËá™Âä®Âú®ÂÆø‰∏ªÊú∫‰∏äÂàõÂª∫‰∏Ä‰∏™ <code>docker0</code> ËôöÊãüÁΩëÊ°•ÔºåÁõ∏ÂΩì‰∫é Linux ‰∏äÁöÑ‰∏Ä‰∏™ bridgeÔºåÂèØ‰ª•ÁêÜËß£‰∏∫‰∏Ä‰∏™ËΩØ‰ª∂‰∫§Êç¢Êú∫„ÄÇÂÆÉ‰ºöÂú®ÊåÇËΩΩÂà∞ÂÆÉÁöÑÁΩëÂè£‰πãÈó¥ËøõË°åËΩ¨Âèë„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-network.png\" alt=\"ÂÆπÂô®‰∫íËÅî\"></p>\n<p>ÂõûÂà∞Êàë‰ª¨ÁöÑÈúÄÊ±Ç‰∏äÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÊúçÂä°Á´ØÈ°πÁõÆ„ÄÅÊï∞ÊçÆÂ∫ìÈ°πÁõÆÂíåÁà¨Ëô´È°πÁõÆÂåÖË£πÂú®‰∏Ä‰∏™ÁΩëÁªúÂΩì‰∏≠Ôºå‰πüÂ∞±ÊòØÂª∫Á´ãËøô‰∏â‰∏™È°πÁõÆÂØπÂ∫îÂÆπÂô®ÁöÑ‚ÄúÂ±ÄÂüüÁΩë‚Äù„ÄÇÂ∞ÜÂÆπÂô®Âä†ÂÖ•ÊåáÂÆöÁöÑÂ±ÄÂüüÁΩëÂÖ∂ÂÆûÂæàÁÆÄÂçïÔºåtalk is cheapÔºåshow you the codeÔºö</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ÂàõÂª∫ËôöÊãüÂ±ÄÂüüÁΩë `totorox-net` ÊòØËØ•Â±ÄÂüüÁΩëÁöÑÂêçÁß∞</span></span><br><span class=\"line\">docker network create -d bridge totorox-net</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># ÂêØÂä®ÂÆπÂô®Êó∂Â∏¶‰∏ä `--network &lt;‰Ω†ÂàõÂª∫ÁöÑÂ±ÄÂüüÁΩëÂêçÁß∞&gt;` Âç≥ÂèØÂä†ÂÖ•Âà∞ÊåáÂÆöÁöÑÂ±ÄÂüüÁΩëÂÜÖ</span></span><br><span class=\"line\">docker run -d --name totorox-server -p 3012:3012 --network totorox-net ...</span><br></pre></td></tr></table></figure>\n<p>‰ª•Ê≠§Á±ªÊé®Âú®ÂØπÂ∫îÁöÑÂÆπÂô®ÂêØÂä®Êó∂‰πüÂä†ÂÖ•Â±ÄÂüüÁΩëÂÜÖÔºåÈÇ£‰πàÂ±ÄÂüüÁΩëÂÜÖÁöÑÂÆπÂô®‰πãÈó¥Â∞±ËÉΩÂ§üÈÄöËøáÂä†ÂÖ•Â±ÄÂüüÁΩëÊó∂ÈöèÊú∫ÂàÜÈÖçÁöÑÂüüÂêçËøõË°åËÆøÈóÆ„ÄÇ</p>\n<!-- ![docker network ls Êü•ËØ¢ docker]() -->\n<p>ÈÇ£‰πàÈóÆÈ¢òÊù•‰∫ÜÔºå‰ªéÊúçÂä°Á´ØÂÆπÂô®ÁöÑËßíÂ∫¶Âá∫ÂèëÔºåÊÄé‰πàÁü•ÈÅìÊï∞ÊçÆÂ∫ìÂÆπÂô®ÁöÑÂüüÂêçÊòØ <code>xxx.xxx.xxx.xxx</code> Âë¢ÔºåÊÄª‰∏çËÉΩÊØèÊ¨°ÂêØÂä®Âêé <code>docker network ls</code> Êü•ÁúãÂÆπÂô®ÂàÜÈÖçÂà∞ÁöÑÂ±ÄÂüüÁΩëÂüüÂêçÔºåÁÑ∂ÂêéÂÜçÂà∞ÂØπÂ∫îÁöÑÂÆπÂô®ÂÜÖÈÉ®ËøõË°å‰øÆÊîπÔºåËøôÊòæÁÑ∂‰∏çÂ§™ÁßëÂ≠¶„ÄÇ</p>\n<p>docker ‰Ωú‰∏∫ÂπøÊ≥õ‰ΩøÁî®ÁöÑÊäÄÊúØÔºåÂÖ∂ÂºÄÊ∫êÂõ¢ÈòüÊòæÁÑ∂‰∏ç‰ºöÁäØÂ¶ÇÊ≠§‰ΩéÁ∫ßÁöÑËÆæËÆ°ÈîôËØØ„ÄÇÂÆûÈôÖ‰∏äÔºåÈô§‰∫ÜËøêË°åÂÆπÂô®Êó∂Â∞ÜÂÆπÂô®Âä†ÂÖ•Â±ÄÂüüÁΩëÂ§ñÔºå‰∏∫ÂÆπÂô®ÂëΩÂêç‰πüÊòØÂøÖ‰∏çÂèØÂ∞ëÁöÑÊ≠•È™§„ÄÇÂÆπÂô®ÂêçÁß∞Á±ªÊØîÊù•ÁêÜËß£ÔºåÁõ∏ÂΩì‰∫éÊàë‰ª¨ÈúÄË¶ÅÁî≥ËØ∑Ë¥≠‰π∞ÂüüÂêç‰ª•Êõø‰ª£ IP Âú∞ÂùÄ‰∏ÄÊ†∑Ôºå‰∏ÄËà¨Áî®Êà∑Âè™ÈúÄË¶ÅËÆ∞‰ΩèËæ®ËØÜÂ∫¶È´òÁöÑÁΩëÁ´ôÂú∞ÂùÄÔºåËÆøÈóÆÊó∂ÈÄöËøá DNS Ëß£ÊûêÂà∞ IP Âú∞ÂùÄÂÜçÂØπÊúçÂä°Âô®ËøõË°åËÆøÈóÆÔºåËøôÈáå docker ÂÆπÂô®‰∫íËÅîÁöÑÂéüÁêÜÊòØÈ´òÂ∫¶Á±ª‰ººÁöÑÔºåÂ±ÄÂüüÁΩëÂÜÖÁõ¥Êé•ËÆøÈóÆÂÆπÂô®ÂêçÁß∞‰πüËÉΩËß£ÊûêÂà∞ÂØπÂ∫îÁöÑÂÆπÂô®ÂΩì‰∏≠Âπ∂ËøõË°åËÆøÈóÆ„ÄÇ</p>\n<p>Â§öËØ¥Êó†ÁõäÔºåÊàë‰ª¨ÁúãÁúãÂ¶Ç‰ΩïÂú®ÊúçÂä°Á´ØÈ°πÁõÆ‰∏≠Áî® Mongoose ËøûÊé•Êï∞ÊçÆÂ∫ìÂÆπÂô®ÁöÑ MongoDBÔºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// username ‰∏∫Êï∞ÊçÆÂ∫ìË¥¶Êà∑ÂêçÁß∞</span></span><br><span class=\"line\"><span class=\"comment\">// password ‰∏∫Êï∞ÊçÆÂ∫ìË¥¶Êà∑ÂØÜÁ†Å</span></span><br><span class=\"line\"><span class=\"comment\">// containerName ‰∏∫Êï∞ÊçÆÂ∫ìÈ°πÁõÆÂÆπÂô®ÁöÑÂêçÁß∞</span></span><br><span class=\"line\"><span class=\"comment\">// databaseName ‰∏∫Êï∞ÊçÆÂ∫ìÂêçÁß∞</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> uri = <span class=\"string\">`mongodb://<span class=\"subst\">$&#123;username&#125;</span>:<span class=\"subst\">$&#123;password&#125;</span>@<span class=\"subst\">$&#123;containerName&#125;</span>/<span class=\"subst\">$&#123;databaseName&#125;</span>`</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">mongoose.connect(uri, &#123;</span><br><span class=\"line\">  useNewUrlParser: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  useUnifiedTopology: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  autoIndex: <span class=\"literal\">false</span>,</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>ËøôÈáåË∏©‰∫Ü‰∏çÂ∞ëÂùëÔºåMongoose ËøûÊé• MongoDB ÁöÑÂüüÂêç‰ΩøÁî®ÂÆπÂô®ÂêçÁß∞‰Ωú‰∏∫Ê†áËØÜÔºåËÄåÈùû‰ΩøÁî®ÈöèÊú∫ÂàÜÈÖçÁöÑÂõ∫ÂÆö IP Âú∞ÂùÄÔºåÊàñÂÆπÂô®ÁΩëÁªúÁöÑÂêçÁß∞„ÄÇ</p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåÂæàÂ§ö‰∏≠ÊñáÊñáÁ´†‰∏≠ÈÉΩÊ≤°ÊúâÊèêÂà∞‰∏Ä‰∏™ÈÅá‰∏äÊú∫ÁéáÊØîËæÉÂ§ßÁöÑÂùëÔºåÂ∞±ÊòØÊúçÂä°Á´ØÊòØÈúÄË¶ÅÁ≠âÂæÖ MongoDB Êï∞ÊçÆÂ∫ìÂêØÂä®Âπ∂Â∞±Áª™ÂêéÔºåÊâçËÉΩËøûÊé•ÊàêÂäüÁöÑ„ÄÇ</p>\n<p>Âú®‰ΩøÁî® <code>docker run</code> ÊñπÂºèÂêØÂä®ÂÆπÂô®Êó∂Ë¶ÅÂÖàÂêØÂä® MongoDB ÁöÑÂÆπÂô®ÔºåÂÜçÂêØÂä®ÊúçÂä°Á´ØÈ°πÁõÆÁöÑÂÆπÂô®Ôºå‰∏§‰∏™ÂêØÂä®ÂëΩ‰ª§ÊâßË°åÈúÄË¶ÅÊúâÊÆµÊó∂Èó¥Â∑ÆÔºå‰∏çËÉΩÊâßË°åÂâç‰∏Ä‰∏™ÔºåÈ©¨‰∏çÂÅúËπÑÂú∞Â∞±ÊâßË°å‰∏ã‰∏Ä‰∏™„ÄÇËøôÊòØÂõ†‰∏∫ <code>docker run</code> Âè™ÊòØ‰Ωú‰∏∫ÂêØÂä®ÂÆπÂô®ÁöÑËµ∑ÁÇπÔºåÂÆπÂô®ÂÜÖÈÉ®ÂÆûÈôÖÂØπÂ§ñÊúçÂä°ÁöÑÊï∞ÊçÆÂ∫ìÊ≠£Âú®ÊâßË°åÂêØÂä®‰∏≠ÔºåÂÆπÂô®Â±ÄÂüüÁΩëÂÜÖÂπ∂‰∏çËÉΩÁ¨¨‰∏ÄÊó∂Èó¥ÂØπÂÖ∂ËøõË°åËÆøÈóÆÔºåËÄåÊòØÈúÄË¶ÅÁ≠âÂæÖ‰∏ÄÊÆµÊó∂ÂÄôÂêéÊö¥Èú≤ÁöÑÁ´ØÂè£ÊâçÂèØÊé•ÂèóÂ§ñÈÉ®ËØ∑Ê±Ç„ÄÇÂú®ÂÆπÂô®Â§ñÊù•ÁúãÔºå<code>docker run</code> ÂëΩ‰ª§ÊâßË°åÂêéÂÆπÂô®ÊòØÂêØÂä®‰∫ÜÔºå‰ΩÜÊòØÂÜÖÈÉ®ÂÆûÈôÖÊèê‰æõÊúçÂä°ÁöÑÊï∞ÊçÆÂ∫ìËøòÊ≤°ÂáÜÂ§áÂ∞±Áª™ÔºåËøôÂ∞±ÊúâÂèØËÉΩÂØºËá¥ÊúçÂä°Á´ØÈ°πÁõÆËøûÊé•Êï∞ÊçÆÂ∫ìÂÆπÂô®Âá∫Áé∞Ë∂ÖÊó∂ÁöÑÈóÆÈ¢òÂèëÁîü„ÄÇ</p>\n<p>Âõ†Ê≠§ÔºåÊàë‰ª¨ÈúÄË¶ÅÂØπ mongoose ËÆæÁ´ãÈáçËøûÊú∫Âà∂ÔºåÂΩìËøûÊé•Ë∂ÖÊó∂Á≠âÊÉÖÂÜµÂá∫Áé∞Êó∂Ôºå‰πüËÉΩËá™Âä®ÂØπÊï∞ÊçÆÂ∫ìËøõË°åÈáçËøûÊìç‰Ωú„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> connect = <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</span><br><span class=\"line\">  mongoose.connect(uri, &#123;</span><br><span class=\"line\">    useNewUrlParser: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    useUnifiedTopology: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    autoIndex: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">db.on(<span class=\"string\">'error'</span>, error =&gt; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.error(<span class=\"string\">'Error in MongoDB connection:'</span> + error);</span><br><span class=\"line\">  mongoose.disconnect();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">db.on(<span class=\"string\">'disconnected'</span>, () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'MongoDB disconnected!'</span>);</span><br><span class=\"line\">  connect();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">db.on(<span class=\"string\">'close'</span>, () =&gt; &#123;</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'Lost MongoDB connection...'</span>);</span><br><span class=\"line\">  connect();</span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'Reconnect to MongoDB, wait...'</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>Èô§‰∫ÜÊúçÂä°Á´ØÂÜÖÈÉ®ËøõË°åÊï∞ÊçÆÂ∫ìÈáçËøûÁöÑ‰øùÈöúÂ§ñÔºåÂêéÈù¢‰ºöÊèêÂà∞ÂÆπÂô®ÁºñÊéí‰πü‰ºöÂá∫Áé∞ËøôÊ†∑ÁöÑÊÉÖÂÜµÔºåserver È°πÁõÆ‰æùËµñ database È°πÁõÆÁöÑÂêØÂä®Ôºå<code>docker-compose.yml</code> ‰∏≠Êúâ‰∏™ÈÖçÁΩÆÈ°πÊòØ <code>depends_on</code>ÔºåË°®Á§∫Á≠âÂæÖÊåáÂÆöÁöÑÂÆπÂô®ÂêØÂä®ÂêéÂÜçËøõË°åÂΩìÂâçÂÆπÂô®ÁöÑÂêØÂä®„ÄÇÂú®ÂÆπÂô®ÁöÑËßíÂ∫¶Êù•ÁúãÔºåÂÆÉÂè™Áü•ÈÅìÂÆπÂô®ÁöÑÊòØÂê¶Â∑≤ÁªèÂêØÂä®Ôºå‰πüÂèØ‰ª•ÁêÜËß£‰∏∫ÊòØÂê¶Â∑≤ÁªèÊâßË°å‰∫Ü <code>docker run</code> ÁöÑÂëΩ‰ª§ÔºåÂÆπÂô®ÂÜÖÈÉ®ÁöÑÈ°πÁõÆÊòØÂê¶ÂêØÂä®ÔºåÂÆπÂô®ÁöÑÁÆ°‰∏çÁùÄÁöÑÔºåÂÆÉ‰πü‰∏çÁü•ÈÅìÔºåÊâÄ‰ª•Â¶ÇÊûúÂÜÖÈÉ®ÊúçÂä°ÂêØÂä®Êó∂Èó¥‰πÖ‰∫éÂÆπÂô®‰πãÈó¥ÁºñÊéíÂêØÂä®ÁöÑÊó∂Èó¥ÔºåÂêåÊó∂‰∏§ËÄÖÂº∫‰æùËµñÊÄßË¥®ÁöÑÔºåÈÇ£‰πàÂ∞±‰ºöÂØºËá¥ÊüêÊñπÂá∫Áé∞ÈîôËØØÔºåËøôÊ†∑ÁöÑÊÉÖÂÜµÂ§ßÈÉ®ÂàÜÂá∫Áé∞Âú®ÂØπÊï∞ÊçÆÂ∫ìÁöÑËøûÊé•‰∏ä„ÄÇ</p>\n<p>ÂèØËÉΩÁî±‰∫éÊé•Êî∂Âà∞ÁöÑÂèçÈ¶àÂ§™Â§öÔºåÂÆòÊñπÊñáÊ°£‰∏≠ <a href=\"https://docs.docker.com/compose/startup-order/\" target=\"_blank\" rel=\"noopener\">Control startup and shutdown order in Compose</a> ‰πüÊòéÁ°ÆË°®Á§∫Ëøô‰∏™ÈóÆÈ¢òÔºåÂÆÉÊèê‰æõ‰∫ÜÂá†‰∏™ËΩÆËÆ≠ÂÆπÂô®ÊúçÂä°ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂåÖÊã¨ <a href=\"https://github.com/vishnubob/wait-for-it\" target=\"_blank\" rel=\"noopener\">wait-for-it.sh</a>„ÄÅ<a href=\"https://github.com/jwilder/dockerize\" target=\"_blank\" rel=\"noopener\">dockerize</a> Âíå <a href=\"https://github.com/Eficode/wait-for\" target=\"_blank\" rel=\"noopener\">wait-for</a>„ÄÇ</p>\n<h2 id=\"ÊúçÂä°ÈÉ®ÁΩ≤\"><a href=\"#ÊúçÂä°ÈÉ®ÁΩ≤\" class=\"headerlink\" title=\"ÊúçÂä°ÈÉ®ÁΩ≤\"></a>ÊúçÂä°ÈÉ®ÁΩ≤</h2><p>È¶ñÂÖàÊàë‰ª¨ÂÖàÈÉ®ÁΩ≤Â•ΩÂâçÁ´ØÈ°πÁõÆÔºåÂâçÁ´ØÈ°πÁõÆÂÆπÂô®ÂÜÖÈÉ®ÊâßË°å Nginx ÂëΩ‰ª§ÂêØÂä®‰ª£ÁêÜÊúçÂä°Âô®‰ªéËÄåËΩ¨ÂèëËØ∑Ê±ÇÔºåÂ¶ÇÊûúÊåâÁÖßÂâçÈù¢ÊâÄÂàóÁöÑ Nginx ÈÖçÁΩÆÔºåÁêÜËÆ∫‰∏äÂ∫îËØ•ËÉΩÈ°∫Âà©ÂêØÂä®ÂÆπÂô®„ÄÇ</p>\n<p>‰∏çËøáËøôÈáå‰πüÊèê‰∏Ä‰∏ãÂÆûË∑µ‰∏≠ÈÅáÂà∞ÁöÑÈóÆÈ¢òÔºö</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ÂêØÂä®ÂÆπÂô®</span></span><br><span class=\"line\">$ docker run -d --name totorox-admin -p 8200:80 hub.ppmoney.io/telescope/totorox-admin</span><br><span class=\"line\">Starting nginx ... <span class=\"keyword\">done</span></span><br><span class=\"line\">Attating to nginx</span><br></pre></td></tr></table></figure>\n<p>Â∞±ÊòØÊâßË°åÂÆåÊØïÂêéÔºåÁïåÈù¢‰ºö‰∏ÄÁõ¥ÂÅúÁïôÂú® <code>Attating to nginx</code>ÔºåÊ≤°ÊúâÊä•Èîô‰πüÊ≤°ÊúâÊèêÁ§∫ËøêË°åÊàêÂäü„ÄÇ</p>\n<p>Ëøô‰∏™ÈóÆÈ¢òÔºåÊòØÁî±‰∫éÂÆπÂô®ÂÜÖÈÉ® <code>/etc/nginx/conf.d/default.conf</code> Ë∑ØÂæÑ‰∏ãÁöÑ <code>default.conf</code> Êñá‰ª∂ÁöÑÁº∫Â§±ÊâÄÂØºËá¥ÔºåÊç¢Âè•ËØùËØ¥Â∞±ÊòØ Nginx ÂêØÂä®ÊâÄÈúÄË¶ÅÊâßË°åÁöÑÈªòËÆ§ÈÖçÁΩÆ‰∏¢Â§±‰∫Ü„ÄÇÂú®ÂÆπÂô®ÁöÑÂ±ÇÈù¢ÂàÜÊûêÔºåÊúâÂèØËÉΩÊòØÂõ†‰∏∫ÂÆπÂô®ÊåÇËΩΩ‰∫Ü <code>volumes</code>ÔºåËÄåÂÆø‰∏ªÊú∫ÁöÑ <code>conf.d</code> ÁõÆÂΩï‰∏ã‰∏∫Á©∫Ë¶ÜÁõñ‰∫ÜÂÆπÂô®ÂÜÖÈÉ®ÂØπÂ∫îÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂ÔºåÂÖ∑‰ΩìÂéüÂõ†ÂèØ‰ª• <code>docker exec -it totorox-admin .</code> ËøõÂÖ•ÂÆπÂô®ÂÜÖÈÉ®Ê£ÄÊü•„ÄÇ</p>\n<p>‰∏ãÈù¢ÁΩóÂàó‰∫ÜÊ†πÊçÆÊûÑÂª∫Â•ΩÁöÑÈïúÂÉèÂú®ÊúçÂä°Âô®‰∏äÂêØÂä®ËøêË°åÂÆπÂô®Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/docker-run.png\" alt=\"ËøêË°åÂÆπÂô®ÂëΩ‰ª§\"></p>\n<p>ÂÆπÂô®ÂêØÂä®ÂêéÔºåÂèØ‰ª•ËæìÂÖ• <code>docker ps -a</code> Êü•ÁúãÂÆø‰∏ªÊú∫‰∏äÊâÄÊúâÁöÑÂÆπÂô®ÂàóË°®„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-container-list.jpg\" alt=\"Êü•ÁúãÂÆø‰∏ªÊú∫ÂÆπÂô®ÂàóË°®\"></p>\n<p>‰ªé‰∏äÂõæÂèØ‰ª•Ë°®Ê†º‰∏≠ÁöÑ STATUS Âíå PORTS ÂèØ‰ª•ÁúãÂá∫Êù•ÔºåÊúâ‰∏â‰∏™ÂÆπÂô®Â∑≤ÁªèÂêØÂä®Ôºå‰ΩÜÊòØ MongoDB ÁöÑÂÆπÂô®ÂàôÂêØÂä®Â§±Ë¥•‰∫Ü„ÄÇ</p>\n<p>Êü•ÁúãÊó•Âøó <code>docker logs &lt;container-name&gt;</code> Êü•ÁúãÂÆπÂô®ÁöÑËøêË°åÊó•ÂøóÔºåÊâæÂà∞Âá∫ÈîôÁöÑÂéüÂõ†ÔºàËøôÈáåÂè™ÊòØ‰∏∫‰∫ÜÊºîÁ§∫ËÄåÂá∫ÈîôÔºå‰∏äËø∞Áõ∏ÂÖ≥‰ª£Á†ÅÂùáÈ™åËØÅÊúâÊïàÔºâ„ÄÇ</p>\n<p>ËøôÈáåÂèØËÉΩ‰ºöÊúâ‰∫õÁñëÈóÆÔºåÊòØÂê¶Â∫îËØ•‰ΩøÁî® PM2 Á≠âÂÆàÊä§ËøõÁ®ãÂ∑•ÂÖ∑ÂØπËøõÁ®ãËøõË°åÂÆàÊä§Âë¢Ôºü</p>\n<p>ÂÆûÈôÖ‰∏äÂÆπÂô®‰∏≠ÁöÑÂ∫îÁî®ÈÉΩÂ∫îËØ•ÂâçÂè∞ÊâßË°åËøêË°åÔºåËÄåÈùûÂêéÂè∞ÊâßË°åÔºåÂÆπÂô®ÂÜÖÊ≤°ÊúâÂêéÂè∞ÊúçÂä°ÁöÑÊ¶ÇÂøµ„ÄÇÂØπ‰∫éÂÆπÂô®ËÄåË®ÄÔºåÂÖ∂ÂêØÂä®Á®ãÂ∫èÂ∞±ÊòØÂÆπÂô®Â∫îÁî®ËøõÁ®ãÔºåÂÆπÂô®Â∞±ÊòØ‰∏∫‰∫Ü‰∏ªËøõÁ®ãËÄåÂ≠òÂú®ÁöÑÔºå‰∏ªËøõÁ®ãÈÄÄÂá∫ÔºåÂÆπÂô®Â∞±Â§±Âéª‰∫ÜÂ≠òÂú®ÁöÑÊÑè‰πâ„ÄÇ ÊØîÂ¶Ç <code>CMD service nginx start</code> ÂÆÉÁ≠âÂêå‰∫é <code>CMD [ &quot;bash&quot;, &quot;-c&quot;, &quot;service nginx start&quot;]</code> ‰∏ªËøõÁ®ãÂÆûÈôÖ‰∏äÊòØ <code>bash</code>Ôºå<code>bash</code> ‰πüÂ∞±ÁªìÊùü‰∫ÜÔºå<code>bash</code> ‰Ωú‰∏∫‰∏ªËøõÁ®ãÈÄÄÂá∫‰∫Ü„ÄÇÂõ†Ê≠§Âú®Êàë‰ª¨ÁöÑÈïúÂÉèÊûÑÂª∫ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÂùáÁõ¥Êé•ÂºÄÂêØÊúçÂä°ËÄåÈùûÈÄöËøá PM2 Êàñ Forever Á≠âÂ∑•ÂÖ∑ÂºÄÂêØ„ÄÇ</p>\n<p>ÂÆπÂô®ÁöÑÂêØÂä®Áõ∏ÂØπÊØîËæÉÁÆÄÂçïÔºåÊ†πÊçÆÈúÄË¶Å‰ΩøÁî®ÈÖçÁΩÆÈ°πÂç≥ÂèØÂø´ÈÄüÂêØÂä®/ÂÅúÊ≠¢ÂÆπÂô®„ÄÇ‰ΩÜÊòØÔºåÊØèÊ¨°ÈÉ®ÁΩ≤ÈÉΩÈúÄË¶ÅËæìÂÖ•‰∏ÄÂ§ß‰∏≤ÁöÑÂëΩ‰ª§ÔºåÂì™Â§©ÂøòËÆ∞‰∫ÜÂì™‰∏™ÂèÇÊï∞Âøò‰∫Ü‰º†ÊÄé‰πàÂäûÔºåÂëΩ‰ª§ÁöÑÊâßË°åÈ°∫Â∫èË∞ÉÊç¢‰∫ÜÊÄé‰πàÔºåËøô‰∏™Êó∂ÂÄôÂ∞±ÈúÄË¶Å‰∏ÄÁßçÂÆπÂô®ÁºñÊéíÁöÑÊñπÂºèÔºåËÆ©ÊØèÊ¨°ÂÆπÂô®Êõ¥Êñ∞ÈÉ®ÁΩ≤ÈÉΩËÉΩÈÄöËøáÊõ¥ÁÆÄ‰æøÁöÑÂëΩ‰ª§ÂÆûÁé∞„ÄÇ</p>\n<h2 id=\"ÂÆπÂô®ÁºñÊéí\"><a href=\"#ÂÆπÂô®ÁºñÊéí\" class=\"headerlink\" title=\"ÂÆπÂô®ÁºñÊéí\"></a>ÂÆπÂô®ÁºñÊéí</h2><p>docker-compose Ë¥üË¥£ÂÆûÁé∞ÂØπ Docker ÂÆπÂô®ÈõÜÁæ§ÁöÑÂø´ÈÄüÁºñÊéí„ÄÇ‰ΩøÁî®ËÄÖÈÄöËøá <code>docker-compose.yml</code> Ê®°ÁâàÊñá‰ª∂ÂÆö‰πâ‰∏ÄÁªÑÂÖ≥ËÅîÁöÑÂ∫îÁî®ÂÆπÂô®‰∏∫‰∏Ä‰∏™È°πÁõÆ„ÄÇÂÆÉÈªòËÆ§ÁÆ°ÁêÜÂØπË±°ÊòØÈ°πÁõÆÔºåÈÄöËøáÂ≠êÂëΩ‰ª§ÂØπÈ°πÁõÆ‰∏≠ÁöÑ‰∏ÄÁªÑÂÆπÂô®ËøõË°å‰æøÊç∑Âú∞ÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåÂ∞±ÊòØÊääÂàöÊâç‰∏ÄËøû‰∏≤ÁöÑÂëΩ‰ª§Âà©Áî®ÈùôÊÄÅÁöÑÈÖçÁΩÆÊñá‰ª∂ËÆ∞ÂΩï‰∏ãÊù•ÔºåÂêØÂä®ÂÆπÂô®Âè™ÈúÄÈÄöËøá <code>docker compose up -d</code> ÂëΩ‰ª§ËøêË°åÂç≥ÂèØ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/docker-compose.png\" alt=\"ÂÆπÂô®ÁºñÊéí\"></p>\n<p>È¶ñÂÖàÔºåÊàë‰ª¨ÈúÄË¶ÅÊ≥®ÊÑè <code>docker-compose</code> ÁöÑÁâàÊú¨ÈóÆÈ¢òÔºåÊúâÁöÑÈÖçÁΩÆÈ°πÊòØ version2.0 Ê≤°ÊúâÔºåËÄå version3.0 Êñ∞Â¢ûÁöÑÔºåËØ¶ÊÉÖÁõ¥Êé•ÁúãÂÆòÊñπÊñáÊ°£ <a href=\"https://docs.docker.com/compose/compose-file/compose-versioning/\" target=\"_blank\" rel=\"noopener\">Compose file versions and upgrading</a> Âç≥ÂèØ„ÄÇ</p>\n<p><code>docker-compose.yml</code> ÂÆö‰πâ‰∫ÜÂêØÂä®ÂÆπÂô®ÂêçÁß∞„ÄÅÈïúÂÉèÂú∞ÂùÄ„ÄÅÂØπÂ§ñÊö¥Èú≤ÁöÑÁ´ØÂè£„ÄÅÁéØÂ¢ÉÂèòÈáè„ÄÅÊï∞ÊçÆÂç∑‰ª•ÂèäÂÆπÂô®ÂêØÂä®ÁöÑÂÖàÂêéÈ°∫Â∫èÁ≠â„ÄÇ</p>\n<p><code>docker-compose</code> ÂêØÂä®Êó∂‰ºöÂÖàËé∑ÂèñÊú¨Âú∞ÈïúÂÉèÔºåÂ¶ÇÊûúÊú¨Âú∞Â∑≤ÁªèÊúâÂØπÂ∫îÁöÑÈïúÂÉèÂàô‰ºöÁõ¥Êé•‰ΩøÁî®ÔºåÂ¶ÇÊûúÊú¨Âú∞Ê≤°ÊúâÊâæÂà∞ÔºåÂàô‰ºö‰ªéËøúÁ®ã‰ªìÂ∫ìÊãâÂèñÂà∞Êú¨Âú∞ÂêéÂÜçÂêØÂä®„ÄÇ</p>\n<p><code>restart: always</code> ÈÖçÁΩÆÈ°πÂèØ‰ª•ËÆ©ÂÆπÂô®Âú®ÂÜÖÈÉ®ÊúçÂä°ÊåÇÊéâÁöÑÊó∂ÂÄôÔºåËá™Âä®ÈáçÊñ∞ÂêØÂä®ÂÜÖÈÉ®ÊúçÂä°„ÄÇ</p>\n<p>‰ªìÂ∫ìÂÖ¨ÂºÄÁöÑ‰ª£Á†ÅÂ∫îËØ•ÈúÄË¶ÅÂØπÊñá‰ª∂ËøõË°åËÑ±ÊïèÔºå‰πüÂ∞±ÊòØÂ∞ÜÈÖçÁΩÆÊñá‰ª∂ÔºàÂåÖÊã¨ÁôªÂΩïÊï∞ÊçÆÂ∫ìÁöÑÁî®Êà∑ÂêçÂØÜÁ†ÅÁ≠âÔºâÊéíÈô§ÂÖ¨ÂºÄÁöÑÊñá‰ª∂ÂàóË°®‰∏≠„ÄÇ</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ docker run -e VARIABLE1 --env VARIABLE2=foo --env-file ./env.list ubuntu bash</span><br></pre></td></tr></table></figure>\n<hr>\n<p><strong>ÂèÇËÄÉËµÑÊñôÔºö</strong></p>\n<ul>\n<li><a href=\"https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file\" target=\"_blank\" rel=\"noopener\">Passing variables to Docker</a></li>\n<li><a href=\"https://vsupalov.com/docker-build-pass-environment-variables/\" target=\"_blank\" rel=\"noopener\">Pass Docker Environment Variables During The Image Build</a></li>\n<li><a href=\"https://blog.bitsrc.io/how-to-pass-environment-info-during-docker-builds-1f7c5566dd0e\" target=\"_blank\" rel=\"noopener\">How To Pass Environment Info During Docker Builds</a></li>\n<li><a href=\"https://stackoverflow.com/questions/42992397/how-to-setup-node-environment-variable-in-dockerfile-for-running-node-js-applica\" target=\"_blank\" rel=\"noopener\">How to setup Node environment variable in Dockerfile for running node.js application?</a></li>\n<li><a href=\"https://hn.werick.codes/how-to-create-a-node-app-within-a-docker-container-with-mongo-cjwjd3l4t00067rs18w7035oc\" target=\"_blank\" rel=\"noopener\">How to create a Node App within a Docker container with Mongo</a></li>\n<li><a href=\"http://quabr.com/57123227/cannot-connect-from-node-to-mongo-replicaset-in-docker\" target=\"_blank\" rel=\"noopener\">Cannot connect from node to mongo replicaset in docker</a></li>\n<li><a href=\"https://blog.csdn.net/weixin_30466953/article/details/97366689\" target=\"_blank\" rel=\"noopener\">Docker Node È°πÁõÆËøûÊé• MongoDB</a></li>\n<li><a href=\"https://blog.csdn.net/wxb880114/article/details/88869215\" target=\"_blank\" rel=\"noopener\">ÂçáÁ∫ß Docker ÂêéÈáçÂêØÂÆπÂô®Âá∫Áé∞ÈîôËØØ Unknown runtime specified docker-runc</a></li>\n<li><a href=\"https://segmentfault.com/q/1010000010768993\" target=\"_blank\" rel=\"noopener\">Mongoose ËøúÁ®ãËøûÊé• MongoDBÔºåÂΩìÂÆ¢Êà∑Á´ØÊñ≠ÂºÄÁΩëÁªúÈáçËøûÊó∂Êä•Èîô topology was destoryedÔºü</a></li>\n<li><a href=\"https://juejin.im/post/5ddb3f85e51d45231576af3c\" target=\"_blank\" rel=\"noopener\">ËøôÂèØËÉΩÊòØÁΩëÁªú‰∏äÂîØ‰∏Ä‰∏ÄÁØáÁªôÂâçÁ´ØÂÜôÁöÑ Docker+Node+Nginx+MongoDB ÁöÑÊú¨Âú∞ÂºÄÂèë+ÈÉ®ÁΩ≤ÂÆûÊàò</a></li>\n</ul>"},{"title":"ÂâçÁ´ØÂºÄÂèëÁôªÂΩïÈâ¥ÊùÉÊñπÊ°àÂÆåÂÖ®Ê¢≥ÁêÜ","date":"2020-06-25T00:00:00.000Z","_content":"\nÁôªÂΩïÈâ¥ÊùÉÊòØ‰∫íËÅîÁΩë‰ø°ÊÅØ‰∫§‰∫í‰∏≠Ê∞∏ÊÅíÁöÑËØùÈ¢òÔºåÊØïÁ´üÂú®Â∑•‰Ωú‰∏≠Âá†‰πéÊØèÂ§©ÈÉΩ‰ºöÊé•Ëß¶Âà∞ÔºåÈÄÇÈÄ¢ÊúÄËøëÈúÄË¶ÅÂØπÁé∞ÊúâÁöÑÁ≥ªÁªüÂπ≥Âè∞ËøõË°å SSO ÁöÑÊµÅÁ®ãÊîπÈÄ†ÔºåÊâÄ‰ª•Ë∂ÅËøô‰∏™Êú∫‰ºöÂ•ΩÂ•ΩÊÄªÁªìÂâçÁ´ØÂ∑•Á®ãÂ∏àÊé•Ëß¶Âà∞ÁöÑÁôªÂΩïÊñπÂºè„ÄÇ\n\nÈâ¥ÊùÉ‰πüÂè´Ë∫´‰ªΩÈ™åËØÅÔºàAuthenticationÔºâÔºåÊòØÊåáÈ™åËØÅÁî®Êà∑ÊòØÂê¶Êã•ÊúâËÆøÈóÆÁ≥ªÁªüÁöÑÊùÉÂà©„ÄÇÂú®Êó•Â∏∏ÁöÑÁîüÊ¥ª‰∏≠ÔºåË∫´‰ªΩÈ™åËØÅÈöèÂ§ÑÂèØËßÅÔºåÊØîÂ¶ÇÔºöËøõÂÖ•È´òÈìÅÁ´ôÂÄôËΩ¶ÂÆ§„ÄÅÊú∫Âú∫ÂÄôÊú∫Ê•ºÈúÄË¶ÅÊ£ÄÊü•Á•®ÊçÆÂíåË∫´‰ªΩËØÅ‰ª∂ÔºõÊ∏∏Áé©‰∏ªÈ¢ò‰πêÂõ≠„ÄÅÂêçËÉúÈ£éÊôØÂå∫ÈúÄË¶ÅË¥≠‰π∞Èó®Á•®ÔºåÂπ∂Áî±ÂÖ•Âè£Â§Ñ‰∫∫ÂëòÈâ¥ÂÆöÊúâÊïàÂêéÊñπÂèØÊã•ÊúâËøõÂÖ•Âõ≠Âå∫Ê∏∏Áé©ÁöÑÊùÉÂà©„ÄÇ\n\nËÄåÂú®ËÆ°ÁÆóÊú∫È¢ÜÂüü‰∏≠ÔºåË∫´‰ªΩÈ™åËØÅÁöÑÊñπÊ≥ïÊúâÂæàÂ§öÁßçÔºöÂü∫‰∫éÂÖ±‰∫´ÂØÜÈí•ÁöÑË∫´‰ªΩÈ™åËØÅ„ÄÅÂü∫‰∫éÁîüÁâ©Â≠¶ÁâπÂæÅÁöÑË∫´‰ªΩÈ™åËØÅÂíåÂü∫‰∫éÂÖ¨ÂºÄÂØÜÈí•Âä†ÂØÜÁÆóÊ≥ïÁöÑË∫´‰ªΩÈ™åËØÅ„ÄÇ‰∏çÂêåÁöÑË∫´‰ªΩÈ™åËØÅÊñπÊ≥ïÔºåÂÆâÂÖ®ÊÄß‰πüÂêÑËá™‰∏çÂêå„ÄÇ\n\n‰∏ãÈù¢ÊàëÂ∞Ü‰ªéÂâçÁ´ØÂºÄÂèëÂ∑•Á®ãÂ∏àÁöÑËßíÂ∫¶Âá∫ÂèëÔºåÊ¢≥ÁêÜ Web Â∫îÁî®ÂâçÂêéÁ´ØÊï∞ÊçÆ‰∫§‰∫í‰∏≠ÁöÑÂêÑÁßçÈâ¥ÊùÉÊñπÊ°à„ÄÇ\n\n<!-- more -->\n\n‰ª•‰∏ã‰∏∫Êú¨ÊñáÂ§ßÁ∫≤Ôºö\n\n- HTTP Âü∫Êú¨ËÆ§ËØÅ\n- Session-Cookie ËÆ§ËØÅ\n  - koa-session\n- Token ËÆ§ËØÅ\n  - JWT ËÆ§ËØÅ\n  - koa-jwt\n- OAuth2 ÂºÄÊîæÊéàÊùÉ\n- SSO ÂçïÁÇπÁôªÂΩï\n- LDAP ËÆ§ËØÅÁôªÂΩï\n- Êâ´Á†ÅÁôªÂΩï\n- ËÅîÂêàÁôªÂΩï\n- ‰ø°‰ªªÁôªÂΩï\n- ÊòìÊ∑∑Ê∑ÜÊ¶ÇÂøµÂàÜÊûê\n\n## HTTP Âü∫Êú¨ËÆ§ËØÅ\n\nÂú® HTTP ‰∏≠ÔºåÂü∫Êú¨ËÆ§ËØÅÊñπÊ°àÔºàBasic Access AuthenticationÔºâÊòØÂÖÅËÆ∏ HTTP Áî®Êà∑‰ª£ÁêÜÔºàÈÄöÂ∏∏ÊåáÁöÑÂ∞±ÊòØÁΩëÈ°µÊµèËßàÂô®ÔºâÂú®ËØ∑Ê±ÇÊó∂ÔºåÈÄöËøáÁî®Êà∑Êèê‰æõÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÁöÑÊñπÂºèÔºåÂÆûÁé∞ÂØπÁî®Êà∑Ë∫´‰ªΩÁöÑÈ™åËØÅ„ÄÇ\n\nÂü∫Êú¨ËÆ§ËØÅ‰∏≠ÔºåÊúÄÂÖ≥ÈîÆÁöÑÊòØÂõõ‰∏™Ë¶ÅÁ¥†Ôºö\n\n1. `uid`ÔºöÁî®Êà∑ÁöÑ IDÔºå‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑÁî®Êà∑Âêç\n2. `password`ÔºöÂØÜÁ†Å\n3. `realm`ÔºöÈ¢ÜÂüüÔºåÂÖ∂ÂÆûÂ∞±ÊòØÊåáÂΩìÂâçËÆ§ËØÅÁöÑ‰øùÊä§ËåÉÂõ¥\n\nÂú®ËøõË°åÂü∫Êú¨ËÆ§ËØÅÁöÑËøáÁ®ã‰∏≠ÔºåHTTP ÁöÑËØ∑Ê±ÇÂ§¥Â≠óÊÆµ‰ºöÂåÖÂê´ Authorization Â≠óÊÆµÔºå`Authorization: Basic <Áî®Êà∑Âá≠ËØÅ>`ÔºåËØ•Áî®Êà∑Âá≠ËØÅÊòØ `Áî®Êà∑Âêç` Âíå `ÂØÜÁ†Å` ÁöÑÁªÑÂêàËÄåÊàêÁöÑ **Base64 ÁºñÁ†Å**„ÄÇ\n\n```\nGET /securefiles/ HTTP/1.1\nHost: www.example.com\nAuthorization: Basic aHR0cHdhdGNoOmY=\n```\n\n![HTTP Âü∫Êú¨ËÆ§ËØÅÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-http-basic-access-authentication.jpg)\n\n1. Áî®Êà∑Âú®ÊµèËßàÂô®‰∏≠ËÆøÈóÆ‰∫ÜÂèóÈôêÂà∂ÁöÑÁΩëÈ°µËµÑÊ∫êÔºå‰ΩÜÊòØÊ≤°ÊúâÊèê‰æõÁî®Êà∑ÁöÑË∫´‰ªΩ‰ø°ÊÅØ\n2. ÊúçÂä°Á´ØÊé•Êî∂Âà∞ËØ∑Ê±ÇÂêéËøîÂõû 401 Â∫îÁ≠îÁ†ÅÔºàUnauthorizedÔºåÊú™Ë¢´ÊéàÊùÉÁöÑÔºâË¶ÅÊ±ÇËøõË°åË∫´‰ªΩÈ™åËØÅÔºåÂπ∂ÈôÑÂ∏¶Êèê‰æõ‰∫Ü‰∏Ä‰∏™ËÆ§ËØÅÂüüÔºàAccess AuthenticationÔºâ`WWW-Authenticate` ËØ¥ÊòéÂ¶Ç‰ΩïËøõË°åÈ™åËØÅÁöÑÊñπÊ≥ïÔºå‰æãÂ¶Ç `WWW-Authenticate: Basic realm=\"Secure Area\"`Ôºå`Basic` Â∞±ÊòØÈ™åËØÅÁöÑÊ®°ÂºèÔºåËÄå `realm=\"Secure Area\"` Âàô‰∏∫‰øùÊä§ÂüüÔºàÂëäÁü•ËÆ§ËØÅÁöÑËåÉÂõ¥ÔºâÔºåÁî®‰∫é‰∏éÂÖ∂‰ªñËØ∑Ê±Ç URI ‰ΩúÂå∫Âà´\n3. ÊµèËßàÂô®Êî∂Âà∞Â∫îÁ≠îÂêéÔºå‰ºöÊòæÁ§∫ËØ•ËÆ§ËØÅÂüüÁªôÁî®Êà∑Âπ∂ÊèêÁ§∫ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÊ≠§Êó∂Áî®Êà∑ÂèØ‰ª•ÈÄâÊã©ÂΩïÂÖ•‰ø°ÊÅØÂêéÁ°ÆÂÆöÊàñÂèñÊ∂àÊìç‰Ωú\n4. Áî®Êà∑ËæìÂÖ•‰∫ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂêéÔºåÊµèËßàÂô®‰ºöÂú®ÂéüËØ∑Ê±ÇÂ§¥Êñ∞Â¢ûËÆ§ËØÅÊ∂àÊÅØÂ≠óÊÆµ `Authorization` Âπ∂ÈáçÊñ∞ÂèëÈÄÅËØ∑Ê±ÇÔºåËøáÁ®ãÂ¶Ç‰∏ãÔºö\n\n- Â∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊãºÊé•‰∏∫ `Áî®Êà∑Âêç:ÂØÜÁ†Å` Ê†ºÂºèÁöÑÂ≠óÁ¨¶‰∏≤\n- Â¶ÇÊûúÊúçÂä°Âô® `WWW-Authenticate` Â≠óÊÆµÊúâÊåáÂÆöÁºñÁ†ÅÔºåÂàôÂ∞ÜÂ≠óÁ¨¶‰∏≤ÁºñËØëÊàêÂØπÂ∫îÁöÑÁºñÁ†Å\n- Â∞ÜÂ≠óÁ¨¶‰∏≤ÁºñÁ†Å‰∏∫ Base64\n- ÊãºÊé• `Basic`ÔºåËÆæÁΩÆ‰∏∫ `Authorization` Â≠óÊÆµÔºåÂÅáËÆæÁî®Êà∑Âêç‰∏∫ `admin`ÔºåÂØÜÁ†Å‰∏∫ `password`ÔºåÂàôÊãºÊé•Âêé‰∏∫ `admin:password`Ôºå‰ΩøÁî® Base64 ÁºñÁ†ÅÂêé‰∏∫ `YWRtaW46cGFzc3dvcmQ=`ÔºåÈÇ£‰πàÊúÄÁªàÂú® HTTP Â§¥ÈÉ®Èáå‰ºöÊòØËøôÊ†∑Ôºö`Authorization: Basic YWRtaW46cGFzc3dvcmQ=`\n\n```js\nBuffer.from('admin:password').toString('base64');\n// YWRtaW46cGFzc3dvcmQ=\n```\n\n5. ÊúçÂä°Á´ØÊé•Êî∂‰∫ÜËØ•ËÆ§ËØÅÂêéÂπ∂ËøîÂõû‰∫ÜÁî®Êà∑ËØ∑Ê±ÇÁöÑÁΩëÈ°µËµÑÊ∫ê„ÄÇÂ¶ÇÊûúÁî®Êà∑Âá≠ËØÅÈùûÊ≥ïÊàñÊó†ÊïàÔºåÊúçÂä°Âô®ÂèØËÉΩ‰ºöÂÜçÊ¨°ËøîÂõû 401 Â∫îÁ≠îÁ†ÅÔºåÂÆ¢Êà∑Á´ØÂ∞±ÈúÄË¶ÅÂÜçÊ¨°ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†Å\n\nÊúçÂä°Á´ØÈ™åËØÅÁöÑÊ≠•È™§Ôºö\n\n1. Ê†πÊçÆÁî®Êà∑ËØ∑Ê±ÇËµÑÊ∫êÁöÑÂú∞ÂùÄÔºåÁ°ÆÂÆöËµÑÊ∫êÂØπÂ∫îÁöÑ `realm`\n2. Ëß£Êûê Authorization ËØ∑Ê±ÇÈ¶ñÈÉ®ÔºåËé∑ÂæóÁî®Êà∑ÂêçÂíåÂØÜÁ†Å\n3. Âà§Êñ≠Áî®Êà∑ÊòØÂê¶ÊúâËÆøÈóÆËØ• `realm` ÁöÑÊùÉÈôê\n4. È™åËØÅÁî®Êà∑Âêç„ÄÅÂØÜÁ†ÅÊòØÂê¶ÂåπÈÖç\n\n> ÂΩìÁÑ∂Ôºå‰πüÊúâÂèØËÉΩÂú®È¶ñÊ¨°ËØ∑Ê±Ç‰∏≠ÔºåÂú®ËØ∑Ê±ÇÂ§¥ÈôÑÂ∏¶‰∫ÜËÆ§ËØÅÊ∂àÊÅØÂ§¥ÔºåÈÇ£‰πàÂ∞±‰∏çÈúÄË¶ÅÂÜç‰ΩúË∫´‰ªΩ‰ø°ÊÅØÁöÑÂΩïÂÖ•Ê≠•È™§\n\n‰ºòÁÇπÔºö\n\n- ÂîØ‰∏ÄÁöÑ‰ºòÁÇπÊòØÂÆûÁé∞ÁÆÄÂçïÔºåË¢´ÂπøÊ≥õÊîØÊåÅ\n\nÁº∫ÁÇπÔºö\n\n- Áî±‰∫éÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊòØ‰ª•ÊòéÊñáÁöÑÂΩ¢ÂºèÂú®ÁΩëÁªú‰∏≠ËøõË°å‰º†ËæìÔºåÂÆπÊòìË¢´ÂóÖÊé¢Âô®Êé¢ÊµãÂà∞ÔºåÊâÄ‰ª•Âü∫Êú¨È™åËØÅÊñπÊ°àÂπ∂‰∏çÂÆâÂÖ®\n- Èô§Ê≠§‰πãÂ§ñÔºåBase64 ÁºñÁ†ÅÂπ∂ÈùûÂä†ÂØÜÁÆóÊ≥ïÔºåÂÖ∂Êó†Ê≥ï‰øùËØÅÂÆâÂÖ®‰∏éÈöêÁßÅÔºåËøôÈáå‰ªÖÁî®‰∫éÂ∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†Å‰∏≠ÁöÑ‰∏çÂÖºÂÆπÁöÑÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫Âùá‰∏é HTTP ÂçèËÆÆÂÖºÂÆπÁöÑÂ≠óÁ¨¶ÈõÜ\n- Âç≥‰ΩøËÆ§ËØÅÂÜÖÂÆπÊó†Ê≥ïË¢´Ëß£Á†Å‰∏∫ÂéüÂßãÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å‰πüÊòØ‰∏çÂÆâÂÖ®ÁöÑÔºåÊÅ∂ÊÑèÁî®Êà∑ÂèØ‰ª•ÂÜçËé∑Âèñ‰∫ÜËÆ§ËØÅÂÜÖÂÆπÂêé‰ΩøÁî®ÂÖ∂‰∏çÊñ≠ÁöÑ‰∫´ÊúçÂä°Âô®ÂèëËµ∑ËØ∑Ê±ÇÔºåËøôÂ∞±ÊòØÊâÄË∞ìÁöÑÈáçÊîæÊîªÂáª\n- ËØ•ÊñπÊ°àÈô§‰∫ÜÂ≠òÂú®ÂÆâÂÖ®Áº∫Èô∑Â§ñÔºåBasic ËÆ§ËØÅËøòÂ≠òÂú®Êó†Ê≥ïÂêäÈîÄËÆ§ËØÅÁöÑÊÉÖÂÜµ\n\n> HTTP ÁöÑÂü∫Êú¨È™åËØÅÊñπÊ°àÂ∫î‰∏é HTTPS / TLS ÂçèËÆÆÊê≠ÈÖç‰ΩøÁî®„ÄÇÂä†ÂÖ•Ê≤°ÊúâËøô‰∫õÂÆâÂÖ®ÊñπÈù¢ÁöÑÂ¢ûÂº∫ÔºåÈÇ£‰πàÂü∫Êú¨È™åËØÅÊñπÊ°à‰∏çÂ∫îËØ•Ë¢´Áî®Êù•‰øùÊä§ÊïèÊÑüÊàñËÄÖÊûÅÂÖ∑‰ª∑ÂÄºÁöÑ‰ø°ÊÅØ„ÄÇ\n\nÂ∫îÁî®Âú∫ÊôØÔºöÂÜÖÈÉ®ÁΩëÁªúÔºåÊàñËÄÖÂØπÂÆâÂÖ®Ë¶ÅÊ±Ç‰∏çÊòØÂæàÈ´òÁöÑÁΩëÁªú\n\n## Session-Cookie ËÆ§ËØÅ\n\n`Session-Cookie` ËÆ§ËØÅÊòØÂà©Áî®ÊúçÂä°Á´ØÁöÑ SessionÔºà‰ºöËØùÔºâÂíåÊµèËßàÂô®ÔºàÂÆ¢Êà∑Á´ØÔºâÁöÑ Cookie Êù•ÂÆûÁé∞ÁöÑÂâçÂêéÁ´ØÈÄö‰ø°ËÆ§ËØÅÊ®°Âºè„ÄÇ\n\nÁî±‰∫é HTTP ËØ∑Ê±ÇÊó∂ÊòØÊó†Áä∂ÊÄÅÁöÑÔºåÊúçÂä°Á´ØÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊó†Ê≥ïÂæóÁü•ËØ∑Ê±ÇÂèëÈÄÅËÄÖÁöÑË∫´‰ªΩÔºåËøô‰∏™Êó∂ÂÄôÊàë‰ª¨Â¶ÇÊûúË¶ÅËÆ∞ÂΩïÁä∂ÊÄÅÔºåÂ∞±ÈúÄË¶ÅÂú®ÊúçÂä°Á´ØÂàõÂª∫ Session ‰ºöËØùÔºåÂ∞ÜÁõ∏ÂêåÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÈÉΩÁª¥Êä§Âú®ÂêÑËá™ÁöÑ‰ºöËØùËÆ∞ÂΩï‰∏≠ÔºåÊØèÂΩìËØ∑Ê±ÇÂà∞ËææÊúçÂä°Á´ØÊó∂ÔºåÂÖàÊ†°È™åËØ∑Ê±Ç‰∏≠ÁöÑÁî®Êà∑Ê†áËØÜÊòØÂê¶Â≠òÂú®‰∫é Session ‰∏≠ÔºåÂ¶ÇÊûúÊúâÂàôË°®Á§∫Â∑≤ÁªèËÆ§ËØÅÊàêÂäüÔºåÂê¶ÂàôË°®Á§∫ËÆ§ËØÅÂ§±Ë¥•„ÄÇ\n\nCookie ‰∏ªË¶ÅÁî®‰∫é‰ª•‰∏ã‰∏â‰∏™ÊñπÈù¢Ôºö\n\n- ‰ºöËØùÁä∂ÊÄÅÁÆ°ÁêÜÔºàÂ¶ÇÁî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ„ÄÅË¥≠Áâ©ËΩ¶„ÄÅÊ∏∏ÊàèÂàÜÊï∞ÊàñÂÖ∂‰ªñÈúÄË¶ÅËÆ∞ÂΩïÁöÑ‰ø°ÊÅØÔºâ\n- ‰∏™ÊÄßÂåñËÆæÁΩÆÔºàÂ¶ÇÁî®Êà∑Ëá™ÂÆö‰πâËÆæÁΩÆ„ÄÅ‰∏ªÈ¢òÁ≠âÔºâ\n- ÊµèËßàÂô®Ë°å‰∏∫ËøΩË∏™ÔºàÂ¶ÇË∑üË∏™ÂàÜÊûêÁî®Êà∑Ë°å‰∏∫Á≠âÔºâ\n\n‰∏ãÂõæ‰∏∫ Session-Cookie ËÆ§ËØÅÁöÑÂ∑•‰ΩúÊµÅÁ®ãÂõæÔºö\n\n![Session-Cookie ËÆ§ËØÅÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-session-cookie.jpg)\n\n1. ÊúçÂä°Á´ØÂú®Êé•Êî∂Âà∞Êù•Ëá™ÂÆ¢Êà∑Á´ØÁöÑÈ¶ñÊ¨°ËÆøÈóÆÊó∂Ôºå‰ºöËá™Âä®ÂàõÂª∫ SessionÔºàÂ∞Ü Session ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠Ôºå‰πüÂèØ‰ª•‰øùÂ≠òÂú® Redis ‰∏≠ÔºâÔºåÁÑ∂ÂêéÁªôËøô‰∏™ Session ÁîüÊàê‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÊ†áËØÜÂ≠óÁ¨¶‰∏≤‰ºöËØùË∫´‰ªΩÂá≠ËØÅ `session_id`ÔºàÈÄöÂ∏∏Áß∞‰∏∫ `sid`ÔºâÔºåÂπ∂Âú®ÂìçÂ∫îÂ§¥ `Set-Cookie` ‰∏≠ËÆæÁΩÆËøô‰∏™ÂîØ‰∏ÄÊ†áËØÜÁ¨¶\n2. Á≠æÂêçÔºåÂØπ `sid` ËøõË°åÂä†ÂØÜÂ§ÑÁêÜÔºåÊúçÂä°Á´Ø‰ºöÊ†πÊçÆËøô‰∏™ `secret` ÂØÜÈí•ËøõË°åËß£ÂØÜÔºàÈùûÂøÖÈúÄÊ≠•È™§Ôºâ\n3. ÊµèËßàÂô®Êî∂Âà∞ËØ∑Ê±ÇÂìçÂ∫îÂêé‰ºöËß£ÊûêÂìçÂ∫îÂ§¥ÔºåÂπ∂Ëá™Âä®Â∞Ü `sid` ‰øùÂ≠òÂú®Êú¨Âú∞ Cookie ‰∏≠ÔºåÊµèËßàÂô®Âú®‰∏ãÊ¨° HTTP ËØ∑Ê±ÇÊó∂ËØ∑Ê±ÇÂ§¥‰ºöËá™Âä®ÈôÑÂ∏¶‰∏äËØ•ÂüüÂêç‰∏ãÁöÑ Cookie ‰ø°ÊÅØ\n4. ÊúçÂä°Á´ØÂú®Êé•Êî∂ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊó∂‰ºöÂéªËß£ÊûêËØ∑Ê±ÇÂ§¥ Cookie ‰∏≠ÁöÑ `sid`ÔºåÁÑ∂ÂêéÊ†πÊçÆËøô‰∏™ `sid` ÂéªÊâæÊúçÂä°Á´Ø‰øùÂ≠òÁöÑËØ•ÂÆ¢Êà∑Á´ØÁöÑ `sid`ÔºåÁÑ∂ÂêéÂà§Êñ≠ËØ•ËØ∑Ê±ÇÊòØÂê¶ÂêàÊ≥ï\n5. ‰∏ÄÊó¶Áî®Êà∑ÁôªÂá∫ÔºåÊúçÂä°Á´ØÂíåÊµèËßàÂô®Â∞Ü‰ºöÂêåÊó∂ÈîÄÊØÅÂêÑËá™‰øùÂ≠òÁöÑ‰ºöËØù IDÔºåÊúçÂä°Á´Ø‰ºöÊ†πÊçÆÊï∞ÊçÆÂ∫ìÈ™åËØÅ‰ºöËØùË∫´‰ªΩÂá≠ËØÅÔºåÂ¶ÇÊûúÈ™åËØÅÈÄöËøáÔºåÂàôÁªßÁª≠Â§ÑÁêÜ\n\n> ‚ö†Ô∏è Ê≥®ÊÑèÔºåËøôÈáåÁõ∏ÂØπ‰∫é‰ΩøÁî®ÊúçÂä°Á´ØÔºåÂú®Âè¶‰∏ÄÁ´ØÊàë‰ΩøÁî®‰∫Ü `ÊµèËßàÂô®` ËÄåÈùûÂÆ¢Êà∑Á´ØÔºå‰∏ªË¶ÅÊòØÂõ†‰∏∫ Cookie ÊòØ‰ªÖÂú®ÊµèËßàÂô®‰∏≠Â≠òÂú®ÁöÑÊä•ÊñáÂ≠óÊÆµÔºåËØ∏Â¶ÇÁßªÂä®ÂéüÁîü APP ÊòØÊó†Ê≥ïËß£ÊûêÂ≠òÂÇ® Cookie ËØ∑Ê±Ç/ÂìçÂ∫îÂ§¥ÁöÑ„ÄÇ\n\n‰ºòÁÇπÔºö\n\n1. Cookie ÁÆÄÂçïÊòìÁî®ÔºåÂú®‰∏çÂèóÁî®Êà∑Âπ≤È¢ÑÊàñËøáÊúüÂ§ÑÁêÜÁöÑÊÉÖÂÜµ‰∏ãÔºåCookie ÈÄöÂ∏∏ÊòØÂÆ¢Êà∑Á´Ø‰∏äÊåÅÁª≠Êó∂Èó¥ÊúÄÈïøÁöÑÊï∞ÊçÆ‰øùÁïôÂΩ¢Âºè\n2. Session Êï∞ÊçÆÂ≠òÂÇ®Âú®ÊúçÂä°Á´ØÔºåÁõ∏ËæÉ‰∫é JWT Êñπ‰æøËøõË°åÁÆ°ÁêÜÔºå‰πüÂ∞±ÊòØÂΩìÁî®Êà∑ÁôªÂΩïÂíå‰∏ªÂä®Ê≥®ÈîÄÔºåÂè™ÈúÄË¶ÅÊ∑ªÂä†Âà†Èô§ÂØπÂ∫îÁöÑ Session Â∞±ÂèØ‰ª•‰∫ÜÔºåÊñπ‰æøÁÆ°ÁêÜ\n\nÁº∫ÁÇπÔºö\n\n1. ÈùûÂ∏∏‰∏çÂÆâÂÖ®ÔºåCookie Â∞ÜÊï∞ÊçÆÊö¥Èú≤Âú®ÊµèËßàÂô®‰∏≠ÔºåÂ¢ûÂä†‰∫ÜÊï∞ÊçÆË¢´ÁõóÁöÑÈ£éÈô©ÔºàÂÆπÊòìË¢´ CSRF Á≠âÊîªÂáªÔºâ\n2. Session Â≠òÂÇ®Âú®ÊúçÂä°Á´ØÔºåÂ¢ûÂ§ß‰∫ÜÊúçÂä°Á´ØÁöÑÂºÄÈîÄÔºåÁî®Êà∑ÈáèÂ§ßÁöÑÊó∂ÂÄô‰ºöÂ§ßÂ§ßÈôç‰ΩéÊúçÂä°Âô®ÊÄßËÉΩ\n3. Áî®Êà∑ËÆ§ËØÅÂêéÔºåÊúçÂä°Á´ØÂÅöËÆ§ËØÅËÆ∞ÂΩïÔºåÂ¶ÇÊûúËÆ§ËØÅÁöÑËÆ∞ÂΩïË¢´‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËøôÊÑèÂë≥ÁùÄÁî®Êà∑‰∏ãÊ¨°ËØ∑Ê±ÇËøòÂøÖÈ°ªË¶ÅËØ∑Ê±ÇÂú®ËøôÂè∞ÊúçÂä°Âô®‰∏äÔºåËøôÊ†∑ÊâçËÉΩÊãøÂà∞ÊéàÊùÉËµÑÊ∫êÔºåËøôÊ†∑Âú®ÂàÜÂ∏ÉÂºèÁöÑÂ∫îÁî®‰∏äÔºåÁõ∏Â∫îÁöÑÈôêÂà∂‰∫ÜË¥üËΩΩÂùáË°°ÁöÑËÉΩÂäõÔºå‰πüÊÑèÂë≥ÁùÄÈôêÂà∂‰∫ÜÂ∫îÁî®ÁöÑÊâ©Â±ïËÉΩÂäõ\n\n### koa-session\n\nÊ≤°Êúâ‰ª£Á†ÅË∞àÂÜçÂ§öÈÉΩÊòØÁ©∫‰∏≠Ê•ºÈòÅÔºå‰∏ãÈù¢Â∞ùËØïÂú® Koa ‰∏≠‰ΩøÁî® `koa-session2` ‰∏≠Èó¥‰ª∂ÂÆûÁé∞ Session-Cookie ËøôÁßçÈâ¥ÊùÉÊñπÂºè„ÄÇ\n\nÂú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠Ôºå‰∏éÂÆ¢Êà∑Á´ØÁöÑ‰ºöËØù‰ø°ÊÅØÂæÄÂæÄÈúÄË¶ÅÂú®ÊúçÂä°Â§ñÂÜçËÆæÁ´ãÈ¢ùÂ§ñÁöÑÂ§ñÈÉ®Â≠òÂÇ®Êú∫Âà∂ÔºåÂ§ñÈÉ®Â≠òÂÇ®ÂèØ‰ª•ÊòØ‰ªª‰ΩïÁöÑÂ≠òÂÇ®Êú∫Âà∂Ôºå‰æãÂ¶ÇÂÜÖÂ≠òÊï∞ÊçÆÁªìÊûÑÔºå‰πüÂèØ‰ª•ÊòØÊú¨Âú∞ÁöÑÊñá‰ª∂Á≥ªÁªüÔºåÊàñÊòØ‰ΩøÁî®ËØ∏Â¶Ç Redis Á≠â NoSQL Êï∞ÊçÆÂ∫ì„ÄÇ\n\n`koa-session2` Ëá™Ë∫´ÂÆûÁé∞ÁöÑÂ≠òÂÇ®ÊñπÂºè‰∏∫‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåËÄå‰∏ãÈù¢Êàë‰ª¨Â∞±‰ªãÁªç‰∏ÄÁßçÊãìÂ±ï `koa-session2` ÁªìÂêà Redis ÂÆûÁé∞ Session-Cookie ËÆ§ËØÅÊñπÂºèÁöÑÊñπÊ°àÔºö\n\n```js\nconst Redis = require('ioredis');\nconst { Store } = require('koa-session2');\n\nclass RedisStore extends Store {\n  constructor() {\n    super();\n    // ÂàùÂßãÂåñ Redis\n    this.redis = new Redis();\n  }\n\n  // Ê†πÊçÆ sid Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ\n  async get(sid, ctx) {\n    let data = await this.redis.get(`SESSION: ${sid}`);\n    return JSON.parse(data);\n  }\n\n  // Êõ¥Êñ∞ sid ÁöÑÁî®Êà∑‰ø°ÊÅØ\n  async set(session, { sid = this.getID(24), maxAge = 1000000 } = {}, ctx) {\n    try {\n      await this.redis.set(`SESSION: ${sid}`, JSON.stringfy(session));\n    } catch (e) {}\n\n    return sid;\n  }\n\n  // ÈîÄÊØÅ‰ºöËØù‰ø°ÊÅØ\n  async destroy(sid, ctx) {\n    return await this.redis.del(`SESSION: ${sid}`);\n  }\n}\n\nmodule.exports = RedisStore;\n```\n\n```js\n// app.js\nconst Koa = require('koa');\nconst session = require('koa-session2');\nconst Store = require('./Store.js');\n\nconst app = new Koa();\n\napp.use(\n  session({\n    // Áßç‰∏ã Cookie ÁöÑÈîÆÂêç\n    key: 'SESSIONID',\n    // Á¶ÅÊ≠¢ÊµèËßàÂô®‰∏≠ JS ËÑöÊú¨‰øÆÊîπ Cookie\n    httpOnly: true,\n    // Cookie Âä†ÂØÜÁ≠æÂêçÊú∫Âà∂\n    signed: true,\n    store: new Store(),\n  })\n);\n\napp.use(ctx => {\n  // Ignore favicon.ico\n  if (ctx.path === '/favicon.ico') return;\n\n  let user = this.session.user;\n\n  ctx.session.view = 'index';\n});\n\napp.use(ctx => {\n  // Â¶ÇÊûúËÆæÁΩÆ‰∫Ü‰ºöËØùÊúâÊïàÊúüÂà∑Êñ∞‰ºöËØùÊúâÊïàÊúü\n  ctx.session.refresh();\n});\n```\n\nÂú® `koa-session` ‰∏≠‰ºöËØùÊ†áËØÜÁöÑÂÆûÁé∞‰ªÖÊòØÊ†πÊçÆÊó∂Èó¥Êà≥ÁîüÊàêÁöÑÈöèÊú∫Â≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúÊãÖÂøÉ Cookie ‰º†Ëæì‰∏≠Ë¢´ÊÅ∂ÊÑèÁØ°ÊîπÊàñÊö¥Èú≤‰ø°ÊÅØÔºåÂèØ‰ª•ÈÄöËøáÂä†ÂÖ•Êõ¥Â§öÊ†áËØÜÂÖÉÁ¥†Ôºå‰æãÂ¶Ç IP Âú∞ÂùÄ„ÄÅËÆæÂ§á ID Á≠â„ÄÇ\n\nKoa ÁöÑ Cookie ÂÆûÁé∞ÈªòËÆ§Â∏¶‰∫ÜÂÆâÂÖ®Êú∫Âà∂ÔºåÂ∞±ÊòØ `signed` ÈÄâÈ°π‰∏∫ `true` Êó∂Ôºå‰ºöËá™Âä®Áªô Cookie Ê∑ªÂä†‰∏Ä‰∏™ SHA256 ÁöÑÁ≠æÂêçÔºåÁ±ª‰ºº `koa:sess=pjadZtLAVtiO6-Haw1vnZZWrRm8`Ôºå‰ªéËÄåÈò≤Ê≠¢ Cookie Ë¢´ÁØ°Êîπ„ÄÇ\n\nËá≥‰∫éÊãÖÂøÉÁöÑ Session ‰ø°ÊÅØÊ≥ÑÊºèÈóÆÈ¢òÔºå`koa-session` ÂÖÅËÆ∏Áî®Êà∑Ëá™ÂÆö‰πâÁºñËß£Á†ÅÊñπÊ≥ïÔºå‰æãÂ¶ÇÔºö\n\n```js\nconst encode = json => CrytoJS.AES.encrypt(json, 'Secret Passphrase');\n\nconst decode = encrypted => CryptoJS.AES.decrypt(encrypted, 'Secret Passphrase');\n```\n\n`koa-session` ‰∏∫ Koa ÂÆòÊñπÂÆûÁé∞ÁöÑ‰∏≠Èó¥‰ª∂ÔºåÂäüËÉΩÂº∫Â§ßÔºåËÄÉËôëÁöÑÊÉÖÂÜµÊØîËæÉÂ§öÔºåÊâÄ‰ª•ÂÆûÁé∞Áõ∏ÂØπÂ§çÊùÇ„ÄÇ\n\nËÄå `koa-session2` ÊòØÁ§æÂå∫ÂÆûÁé∞ÁöÑ‰∏≠Èó¥‰ª∂ÔºåÁÆÄÊ¥ÅÊòìÁî®„ÄÇÂ¶ÇÊûúÂØπÂÆûÁé∞ÊúâÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶ÂèØ‰ª•Âú® Github ÊâæÂà∞Ê∫êÁ†ÅÈòÖËØª„ÄÇ\n\n- [koa-session](https://github.com/koajs/session)\n- [koa-session2](https://github.com/Secbone/koa-session2)\n- [koa-session Â≠¶‰π†Á¨îËÆ∞](https://segmentfault.com/a/1190000013039187)\n- [koa-session ÁöÑÂÜÖÈÉ®ÂÆûÁé∞](https://www.jianshu.com/p/c1eff1b50d23)\n- [‰ªé koa-session Ê∫êÁ†ÅËß£ËØª session ÂéüÁêÜ](https://juejin.im/post/5c148fd551882530544f341f)\n- [‰ªé koa-session ‰∏≠Èó¥‰ª∂Ê∫êÁ†ÅÂ≠¶‰π† cookie ‰∏é session](https://segmentfault.com/a/1190000012412299)\n\n## Token ËÆ§ËØÅ\n\nÈöèÁùÄ Restful API„ÄÅÂæÆÊúçÂä°ÁöÑÂÖ¥Ëµ∑ÔºåÂü∫‰∫é Token ÁöÑËÆ§ËØÅÁé∞Âú®Â∑≤ÁªèË∂äÊù•Ë∂äÊôÆÈÅç„ÄÇToken Âíå Session-Cookie ËÆ§ËØÅÊñπÂºè‰∏≠ÁöÑ Session ID ‰∏çÂêåÔºåÂπ∂ÈùûÂè™ÊòØ‰∏Ä‰∏™Ê†áËØÜÁ¨¶„ÄÇToken ‰∏ÄËà¨‰ºöÂåÖÂê´ `Áî®Êà∑ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ`ÔºåÈÄöËøáÈ™åËØÅ Token ‰∏ç‰ªÖÂèØ‰ª•ÂÆåÊàêË∫´‰ªΩÊ†°È™åÔºåËøòÂèØ‰ª•Ëé∑ÂèñÈ¢ÑËÆæÁöÑ‰ø°ÊÅØ„ÄÇÂÉè Twitter„ÄÅÂæÆ‰ø°„ÄÅQQ„ÄÅGithub Á≠âÂÖ¨Êúâ API ÈÉΩÊòØÂü∫‰∫éËøôÁßçÊñπÂºèËøõË°åËÆ§ËØÅÁöÑÔºå‰∏Ä‰∫õÂºÄÂèëÊ°ÜÊû∂Â¶Ç OpenStack„ÄÅKubernetes ÂÜÖÈÉ® API Ë∞ÉÁî®‰πüÊòØÂü∫‰∫é Token ÁöÑËÆ§ËØÅ„ÄÇ\n\n![Token ËÆ§ËØÅÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-token-authencation.jpg)\n\nÂü∫‰∫é Token ÁöÑË∫´‰ªΩÈ™åËØÅÊñπÊ≥ïÔºö\n\n1. Áî®Êà∑ËæìÂÖ•ÁôªÂΩï‰ø°ÊÅØÂπ∂ËØ∑Ê±ÇÁôªÂΩï\n2. ÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÔºåÈ™åËØÅÁî®Êà∑ËæìÂÖ•ÁöÑÁôªÂΩï‰ø°ÊÅØ\n3. È™åËØÅÊàêÂäüÂêéÔºåÊúçÂä°Á´Ø‰ºö `Á≠æÂèë`‰∏Ä‰∏™ TokenÔºàÈÄöÂ∏∏ÂåÖÂê´Áî®Êà∑Âü∫Á°Ä‰ø°ÊÅØ„ÄÅÊùÉÈôêËåÉÂõ¥ÂíåÊúâÊïàÊó∂Èó¥Á≠âÔºâÔºåÂπ∂ÊääËøô‰∏™ Token ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø\n4. ÂÆ¢Êà∑Á´ØÊî∂Âà∞ Token ÂêéÈúÄË¶ÅÊääÂÆÉÂ≠òÂÇ®Ëµ∑Êù•ÔºåÊØîÂ¶ÇÊîæÂú® localStorage Êàñ sessionStorage ÈáåÔºà‰∏ÄËà¨‰∏çÊîæ Cookie Âõ†‰∏∫ÂèØËÉΩ‰ºöÊúâË∑®ÂüüÈóÆÈ¢òÔºå‰ª•ÂèäÂÆâÂÖ®ÊÄßÈóÆÈ¢òÔºâ\n5. ÂêéÁª≠ÂÆ¢Êà∑Á´ØÊØèÊ¨°ÂêëÊúçÂä°Á´ØËØ∑Ê±ÇËµÑÊ∫êÁöÑÊó∂ÂÄôÔºåÂ∞Ü Token ÈôÑÂ∏¶‰∫é HTTP ËØ∑Ê±ÇÂ§¥ Authorization Â≠óÊÆµ‰∏≠ÂèëÈÄÅËØ∑Ê±Ç\n6. ÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂéªÊ†°È™åÂÆ¢Êà∑Á´ØËØ∑Ê±Ç‰∏≠ TokenÔºåÂ¶ÇÊûúÈ™åËØÅÊàêÂäüÔºåÂ∞±ÂêëÂÆ¢Êà∑Á´ØËøîÂõûËØ∑Ê±ÇÁöÑÊï∞ÊçÆÔºåÂê¶ÂàôÊãíÁªùËøîËøò\n\n‰ºòÁÇπÔºö\n\n- **ÊúçÂä°Á´ØÊó†Áä∂ÊÄÅ**ÔºöToken Êú∫Âà∂Âú®ÊúçÂä°Á´Ø‰∏çÈúÄË¶ÅÂ≠òÂÇ®‰ºöËØùÔºàSessionÔºâ‰ø°ÊÅØÔºåÂõ†‰∏∫ Token Ëá™Ë∫´ÂåÖÂê´‰∫ÜÂÖ∂ÊâÄÊ†áËØÜÁî®Êà∑ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåËøôÊúâÂà©‰∫éÂú®Â§ö‰∏™ÊúçÂä°Èó¥ÂÖ±‰∫´Áî®Êà∑Áä∂ÊÄÅ\n- **ÊÄßËÉΩÁõ∏ÂØπËæÉÂ•Ω**ÔºöÂõ†‰∏∫Âú®È™åËØÅ Token Êó∂‰∏çÁî®ÂÜçÂéªËÆøÈóÆÊï∞ÊçÆÂ∫ìÊàñËøúÁ®ãÊúçÂä°ËøõË°åÊùÉÈôêÊ†°È™åÔºåËá™ÁÑ∂ÂèØ‰ª•ÊèêÂçá‰∏çÂ∞ëÊÄßËÉΩ\n- ÊîØÊåÅÁßªÂä®ËÆæÂ§á\n- ÊîØÊåÅË∑®ÂüüË∑®Á®ãÂ∫èË∞ÉÁî®ÔºåÂõ†‰∏∫ Cookie ÊòØ‰∏çÂÖÅËÆ∏Ë∑®ÂüüËÆøÈóÆÁöÑÔºåËÄå Token Âàô‰∏çÂ≠òÂú®Ëøô‰∏™ÈóÆÈ¢ò\n- ÊúâÊïàÈÅøÂÖç CSRF ÊîªÂáªÔºàÂõ†‰∏∫‰∏çÈúÄË¶Å CookieÔºâÔºå‰ΩÜÊòØ‰ºöÂ≠òÂú® XSS ÊîªÂáª‰∏≠Ë¢´ÁõóÁöÑÈ£éÈô©Ôºå‰ΩÜÊòØÂèØÈÄâÊã© Token Â≠òÂÇ®Âú®Ê†áËÆ∞‰∏∫ `httpOnly` ÁöÑ Cookie ‰∏≠ÔºåËÉΩÂ§üÊúâÊïàÈÅøÂÖçÊµèËßàÂô®‰∏≠ÁöÑ JS ËÑöÊú¨ÂØπ Cookie ÁöÑ‰øÆÊîπ\n\nÁº∫ÁÇπÔºö\n\n- Âç†Â∏¶ÂÆΩÔºöÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊØî `sid` Êõ¥Â§ßÔºåÊ∂àËÄóÊõ¥Â§öÊµÅÈáèÔºåÊå§Âç†Êõ¥Â§öÂÆΩÂ∏¶\n- ÊÄßËÉΩÈóÆÈ¢òÔºöÁõ∏ÊØîËæÉ‰∫é Session-Cookie ËÆ§ËØÅÊù•ËØ¥ÔºåToken ÈúÄË¶ÅÊúçÂä°Á´ØËä±Ë¥πÊõ¥Â§öÊó∂Èó¥ÂíåÊÄßËÉΩÊù•ÂØπ Token ËøõË°åËß£ÂØÜÈ™åËØÅÔºåÂÖ∂ÂÆû Token Áõ∏ËæÉ‰∫é Session‚ÄîCookie Êù•ËØ¥Â∞±ÊòØ‰∏Ä‰∏™Êó∂Èó¥Êç¢Á©∫Èó¥ÁöÑÊñπÊ°à\n\n> Session-Cookie ËÆ§ËØÅÂíå Token ËÆ§ËØÅÁöÑÊØîËæÉ\n\nSession-Cookie ËÆ§ËØÅÂíå Token ËÆ§ËØÅÊúâÂæàÂ§öÁ±ª‰ººÁöÑÂú∞ÊñπÔºå‰ΩÜÊòØ Token ËÆ§ËØÅÊõ¥ÂÉèÊòØ Session-Cookie ËÆ§ËØÅÁöÑÂçáÁ∫ßÊîπËâØÁâà„ÄÇ\n\nSession-Cookie ËÆ§ËØÅ‰ªÖ‰ªÖÈù†ÁöÑÊòØ `sid` Ëøô‰∏™ÁîüÊàêÁöÑÂîØ‰∏ÄÊ†áËØÜÁ¨¶ÔºåÊúçÂä°Á´ØÈúÄË¶ÅÊ†πÊçÆÂÆ¢Êà∑Á´Ø‰º†Êù•ÁöÑ `sid` Êü•ËØ¢‰øùÂ≠òÂú®ÊúçÂä°Á´Ø Session Èáå‰øùÂ≠òÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂΩìÂ≠òÂÇ®ÁöÑ‰ø°ÊÅØÊï∞ÊçÆÈáèË∂ÖËøá‰∏ÄÂÆöÈáèÊó∂‰ºöÂΩ±ÂìçÊúçÂä°Á´ØÁöÑÂ§ÑÁêÜÊïàËÉΩ„ÄÇËÄå‰∏î Session-Cookie ËÆ§ËØÅÈúÄË¶ÅÈù†ÊµèËßàÂô®ÁöÑ Cookie Êú∫Âà∂ÂÆûÁé∞ÔºåÂ¶ÇÊûúÈÅáÂà∞ÂéüÁîü NativeAPP Êó∂ËøôÁßçÊú∫Âà∂Â∞±‰∏çËµ∑‰ΩúÁî®‰∫ÜÔºåÊàñÊòØÊµèËßàÂô®ÁöÑ Cookie Â≠òÂÇ®ÂäüËÉΩË¢´Á¶ÅÁî®Ôºå‰πüÊòØÊó†Ê≥ï‰ΩøÁî®ËØ•ËÆ§ËØÅÊú∫Âà∂ÂÆûÁé∞Èâ¥ÊùÉÁöÑ„ÄÇ\n\nËÄå Token ËÆ§ËØÅÊú∫Âà∂ÁâπÂà´ÁöÑÊòØÔºåÂÆûË¥®‰∏äÁôªÂΩïÁä∂ÊÄÅÊòØÁî®Êà∑ÁôªÂΩïÂêéÂ≠òÊîæÂú®ÂÆ¢Êà∑Á´ØÁöÑÔºåÊúçÂä°Á´Ø‰∏ç‰ºöÂÖÖÂΩì‰øùÂ≠ò `Áî®Êà∑‰ø°ÊÅØÂá≠ËØÅ` ÁöÑËßíËâ≤ÔºåÂΩìÊØèÊ¨°ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊó∂ÈôÑÂ∏¶ËØ•Âá≠ËØÅÔºåÂè™Ë¶ÅÊúçÂä°Á´ØÊ†πÊçÆÂÆö‰πâÁöÑËßÑÂàôÊ†°È™åÊòØÂê¶ÂåπÈÖçÂíåÂêàÊ≥ïÂç≥ÂèØÔºåÂÆ¢Êà∑Á´ØÂ≠òÂÇ®ÁöÑÊâãÊÆµ‰πü‰∏çÈôê‰∫é CookieÔºåÂèØ‰ª•‰ΩøÁî® Web Storage Á≠âÂÖ∂‰ªñÁºìÂ≠òÊñπÂºè„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåSession-Cookie Êú∫Âà∂ÈôêÂà∂‰∫ÜÂÆ¢Êà∑Á´ØÁöÑÁ±ªÂûãÔºåËÄå Token È™åËØÅÊú∫Âà∂‰∏∞ÂØå‰∫ÜÂÆ¢Êà∑Á´ØÁ±ªÂûã„ÄÇ\n\nÈô§Ê≠§‰πãÂ§ñÔºåToken È™åËØÅÊØîËæÉÁÅµÊ¥ªÔºåÈô§‰∫ÜÂ∏∏ËßÅÁöÑ JWT Â§ñÔºåÂèØ‰ª•Âü∫‰∫é Token ÊûÑÂª∫‰∏ìÈó®Áî®‰∫éÈâ¥ÊùÉÁöÑÂæÆÊúçÂä°ÔºåÁî®ÂÆÉÂêëÂ§ö‰∏™ÊúçÂä°ÁöÑËØ∑Ê±ÇËøõË°åÁªü‰∏ÄÈâ¥ÊùÉ„ÄÇ\n\n### JWT ËÆ§ËØÅ\n\nJWTÔºàJSON Web TokenÔºâÊòØ Auth0 ÊèêÂá∫ÁöÑÈÄöËøáÂØπ JSON ËøõË°åÂä†ÂØÜÁ≠æÂêçÊù•ÂÆûÁé∞ÊéàÊùÉÈ™åËØÅÁöÑÊñπÊ°àÔºåÂ∞±ÊòØÁôªÂΩïÊàêÂäüÂêéÂ∞ÜÁõ∏ÂÖ≥‰ø°ÊÅØÁªÑÊàê JSON ÂØπË±°ÔºåÁÑ∂ÂêéÂØπËøô‰∏™ÂØπË±°ËøõË°åÊüêÁßçÊñπÂºèÁöÑÂä†ÂØÜÔºåËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåÂÆ¢Êà∑Á´ØÂú®‰∏ãÊ¨°ËØ∑Ê±ÇÊó∂Â∏¶‰∏äËøô‰∏™ TokenÔºåÊúçÂä°Á´ØÂÜçÊî∂Âà∞ËØ∑Ê±ÇÊó∂Ê†°È™å token ÂêàÊ≥ïÊÄßÔºåÂÖ∂ÂÆû‰πüÂ∞±ÊòØÂú®Ê†°È™åËØ∑Ê±ÇÁöÑÂêàÊ≥ïÊÄß„ÄÇ\n\nJWT ÊòØ JSON Ê†ºÂºèÁöÑË¢´Âä†ÂØÜ‰∫ÜÁöÑÂ≠óÁ¨¶‰∏≤Ôºö\n\n```\nJSON Data + Signature = JWT\n```\n\nJWT ÂØπË±°ÈÄöÂ∏∏Áî±‰∏âÈÉ®ÂàÜÁªÑÊàêÔºö\n\n1. Â§¥ÈÉ®ÔºàHeadersÔºâÔºöÂåÖÊã¨Á±ªÂà´ÔºàtypÔºâ„ÄÅÂä†ÂØÜÁÆóÊ≥ïÔºàalgÔºâ\n\nÂ§¥ÈÉ®Áî®‰∫éÊèèËø∞ÂÖ≥‰∫éËØ• JWT ÁöÑÊúÄÂü∫Êú¨ÁöÑ‰ø°ÊÅØÔºå‰æãÂ¶ÇÂÖ∂Á±ªÂûã‰ª•ÂèäÁ≠æÂêçÊâÄÁî®ÁöÑÁÆóÊ≥ïÁ≠â„ÄÇ\n\n```json\n{\n  \"alg\": \"HS256\",\n  \"typ\": \"JWT\"\n}\n```\n\nËøôÈáåÊàë‰ª¨ËØ¥Êòé‰∫ÜËøôÊòØ‰∏Ä‰∏™ JWTÔºåÂπ∂‰∏îÊàë‰ª¨ÊâÄ‰ΩøÁî®ÁöÑÁ≠æÂêçÁÆóÊ≥ïÊòØ HS256 ÁÆóÊ≥ï„ÄÇ\n\n2. ClaimsÔºöÂåÖÊã¨ÈúÄË¶Å‰º†ÈÄíÁöÑÁî®Êà∑‰ø°ÊÅØ\n\nËΩΩËç∑ÂèØ‰ª•Áî®Êù•Â≠òÊîæ‰∏Ä‰∫õ‰∏çÊïèÊÑüÁöÑ‰ø°ÊÅØ\n\n```json\n{\n  \"iss\": \"Jehoshaphat Tse\",\n  \"iat\": 1441593502,\n  \"exp\": 1441594722,\n  \"aud\": \"www.example.com\",\n  \"sub\": \"mrsingsing@example.com\",\n  \"name\": \"John Doe\",\n  \"admin\": true\n}\n```\n\nËøôÈáåÈù¢ÁöÑÂâç‰∫î‰∏™Â≠óÊÆµÈÉΩÊòØÁî± JWT ÁöÑÊ†áÂáÜÊâÄÂÆö‰πâÁöÑ:\n\n- `iss`ÔºöËØ• JWT ÁöÑÁ≠æÂèëËÄÖ\n- `sub`ÔºöËØ• JWT ÊâÄÈù¢ÂêëÁöÑÁî®Êà∑\n- `aud`ÔºöÊé•Êî∂ËØ• JWT ÁöÑ‰∏ÄÊñπ\n- `exp`ÔºàexpiresÔºâÔºö‰ªÄ‰πàÊó∂ÂÄôËøáÊúüÔºåËøôÊòØ Unix Êó∂Èó¥Êà≥\n- `iat`Ôºàissued atÔºâÔºöÂú®‰ªÄ‰πàÊó∂ÂÄôÁ≠æÂèëÁöÑ„ÄÇÊääÂ§¥ÈÉ®ÂíåËΩΩËç∑ÂàÜÂà´ËøõË°å Base64 ÁºñÁ†ÅÂêéÂæóÂà∞‰∏§‰∏™Â≠óÁ¨¶‰∏≤ÔºåÁÑ∂ÂêéÂÜçÂ∞ÜËøô‰∏§‰∏™ÁºñÁ†ÅÂêéÁöÑÂ≠óÁ¨¶‰∏≤Áî®Ëã±ÊñáÂè•Âè∑ËøûÊé•Ëµ∑Êù•ÔºàÂ§¥ÈÉ®Âú®ÂâçÔºâÔºåÂΩ¢ÊàêÊñ∞ÁöÑÂ≠óÁ¨¶\n\n3. SignatureÔºö\n\nÊúÄÂêéÔºåÂ∞Ü‰∏äËø∞ÊãºÊé•ÂêéÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÁî® `alg` ÊåáÂÆöÁöÑÁÆóÊ≥ïÔºàHS256Ôºâ‰∏éÁßÅÊúâÂØÜÈí•ÔºàSecretÔºâËøõË°åÂä†ÂØÜ„ÄÇÂä†ÂØÜÂêéÁöÑÂÜÖÂÆπ‰πüÊòØÂ≠óÁ¨¶‰∏≤ÔºåÊúÄÂêéËøô‰∏™Â≠óÁ¨¶‰∏≤Â∞±ÊòØÁ≠æÂêçÔºåÊääËøô‰∏™Á≠æÂêçÊãºÊé•Âú®ÂàöÊâçÁöÑÂ≠óÁ¨¶‰∏≤ÂêéÈù¢Â∞±ËÉΩÂæóÂà∞ÂÆåÊï¥ÁöÑ JWT„ÄÇHeader ÈÉ®ÂàÜÂíå Claims ÈÉ®ÂàÜÂ¶ÇÊûúË¢´ÁØ°ÊîπÔºåÁî±‰∫éÁØ°ÊîπËÄÖ‰∏çÁü•ÈÅìÂØÜÈí•ÊòØ‰ªÄ‰πàÔºå‰πüÊó†Ê≥ïÁîüÊàêÊñ∞ÁöÑ Signature ÈÉ®ÂàÜÔºåÊúçÂä°Á´Ø‰πüÂ∞±Êó†Ê≥ïÈÄöËøáÔºåÂú® JWT ‰∏≠ÔºåÊ∂àÊÅØ‰ΩìÊòØÈÄèÊòéÁöÑÔºå‰ΩøÁî®Á≠æÂêçÂèØ‰ª•‰øùËØÅÊ∂àÊÅØ‰∏çË¢´ÁØ°Êîπ„ÄÇ\n\n```js\nHMACSHA256(base64UrlEncode(Headers) + '.' + base64UrlEncode(Claims), SECREATE_KEY);\n```\n\n‰ºòÁÇπÔºö\n\n1. ‰∏çÈúÄË¶ÅÂú®ÊúçÂä°Á´Ø‰øùÂ≠ò‰ºöËØù‰ø°ÊÅØÔºàRESTful API ÁöÑÂéüÂàô‰πã‰∏ÄÂ∞±ÊòØÊó†Áä∂ÊÄÅÔºâÔºåÊâÄ‰ª•Êòì‰∫éÂ∫îÁî®ÁöÑÊâ©Â±ïÔºåÂç≥‰ø°ÊÅØ‰∏ç‰øùÂ≠òÂú®ÊúçÂä°Á´ØÔºå‰∏ç‰ºöÂ≠òÂú® Session Êâ©Â±ï‰∏çÊñπ‰æøÁöÑÊÉÖÂÜµ\n2. JWT ‰∏≠ÁöÑËΩΩËç∑ÂèØ‰ª•Â≠òÂÇ®Â∏∏Áî®‰ø°ÊÅØÔºåÁî®‰∫é‰ø°ÊÅØ‰∫§Êç¢ÔºåÊúâÊïàÂú∞‰ΩøÁî® JWTÔºåÂèØ‰ª•Èôç‰ΩéÊúçÂä°Á´ØÊü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑÊ¨°Êï∞\n\nÁº∫ÁÇπÔºö\n\n1. **ËøáÊúüÊó∂Èó¥ÈóÆÈ¢ò**ÔºöÁî±‰∫éÊúçÂä°Á´Ø‰∏ç‰øùÂ≠ò Session Áä∂ÊÄÅÔºåÂõ†Ê≠§Êó†Ê≥ïÂú®‰ΩøÁî®ËøáÁ®ã‰∏≠Â∫üÊ≠¢Êüê‰∏™ TokenÔºåÊàñÊòØÊõ¥Êîπ Token ÁöÑÊùÉÈôê„ÄÇ‰πüÂ∞±ÊòØËØ¥Ôºå‰∏ÄÊó¶ JWT Á≠æÂèëÔºåÂú®Âà∞Êúü‰πãÂâçÂ∞±‰ºöÂßãÁªàÊúâÊïàÔºåÈô§ÈùûÊúçÂä°Á´ØÈÉ®ÁΩ≤È¢ùÂ§ñÁöÑÈÄªËæë„ÄÇÂõ†Ê≠§Â¶ÇÊûúÊòØÊµèËßàÂô®Á´ØÂ∫îÁî®ÁöÑËØùÔºå‰ΩøÁî® JWT ËÆ§ËØÅÊú∫Âà∂ËøòÈúÄË¶ÅËÆæËÆ°‰∏ÄÂ•ó JWT ÁöÑ‰∏ªÂä®Êõ¥Êñ∞Âà†Èô§ÁöÑÊú∫Âà∂ÔºåËøôÊ†∑Â∞±Â¢ûÂä†‰∫ÜÁ≥ªÁªüÁöÑÂ§çÊùÇÊÄß„ÄÇ\n2. **ÂÆâÂÖ®ÊÄß**ÔºöÁî±‰∫é JWT ÁöÑ Claims ÊòØ Base64 ÁºñÁ†ÅÁöÑÔºåÂπ∂Ê≤°ÊúâÂä†ÂØÜÔºåÂõ†Ê≠§ JWT ‰∏≠‰∏çËÉΩÂ≠òÂÇ®ÊïèÊÑüÊï∞ÊçÆ\n3. **ÊÄßËÉΩÈóÆÈ¢ò**ÔºöJWT Âç†Áî®Á©∫Èó¥ËøáÂ§ßÔºåCookie ÈôêÂà∂‰∏ÄËà¨ÊòØ 4kÔºåÂèØËÉΩ‰ºöÊó†Ê≥ïÂÆπÁ∫≥ÔºåÊâÄ‰ª• JWT ‰∏ÄËà¨Êîæ LocalStorage ÈáåÈù¢ÔºåÂπ∂‰∏îÁî®Êà∑Âú®Á≥ªÁªüÁöÑÊØèÊ¨° HTTP ËØ∑Ê±ÇÈÉΩ‰ºöÊää JWT Êê∫Â∏¶Âú® Header ÈáåÈù¢ÔºåHTTP ËØ∑Ê±ÇÁöÑ Header ÂèØËÉΩÊØî Body ËøòË¶ÅÂ§ß„ÄÇ\n\n### koa-jwt\n\n‰∏ãÈù¢‰ªãÁªç Koa ‰∏≠‰ΩøÁî® `koa-jwt` ËøõË°åÈ¢ÅÂèë„ÄÅÊ†°È™å Token ÁöÑ‰ΩøÁî®ÊñπÊ≥ï„ÄÇ\n\nÊúçÂä°Á´ØÁîüÊàê Token\n\n```js\nconst router = require('koa-router')();\nconst jwt = require('koa-jwt');\n// ËøôÈáå‰ΩøÁî®ÁöÑÊòØ MongoDB Êï∞ÊçÆÂ∫ì\nconst userModel = require('../model/userModel');\n\nconst secretOrPublicKey = 'TOKEN_EXAMPLE';\n\nrouter.post('/login', async ctx => {\n  const data = ctx.request.body;\n\n  // Ê†πÊçÆÁî®Êà∑Êèê‰æõÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊü•ËØ¢Êï∞ÊçÆÂ∫ì‰∏≠ÊòØÂê¶Â≠òÂú®ÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ\n  const userInfo = await userModel.findOne({ name: data.name, password: data.password });\n\n  let result = null;\n  if (userInfo !== null) {\n    // Ê†πÊçÆÁî®Êà∑‰ø°ÊÅØÁ≠æÂèë TokenÔºåËÆæÂÆöÊúâÊïàÊó∂Èó¥‰∏∫ 2h\n    const token = jwt.sign({ name: userInfo.name, _id: userInfo._id }, secretOrPublicKey, {\n      expiresIn: '2h',\n    });\n\n    result = {\n      code: 200,\n      token: token,\n      msg: 'ÁôªÂΩïÊàêÂäü',\n    };\n  } else {\n    result = {\n      code: 400,\n      token: null,\n      msg: 'ÁôªÂΩïÂ§±Ë¥•',\n    };\n  }\n\n  return (ctx.body = result);\n});\n```\n\nÂâçÁ´ØËé∑Âèñ TokenÔºö\n\n```js\n// ËØ∑Ê±ÇÁôªÂΩï\nfunction login(userName, password) {\n  return axios\n    .post('/login', {\n      name: userName,\n      password: password,\n    })\n    .then(res => {\n      if (res.code === 200) {\n        localStorage.setItem('access_token', res.data.token);\n      } else {\n        console.log('ÁôªÂΩïÂ§±Ë¥•');\n      }\n    })\n    .catch(e => console.error(e));\n}\n\n// ÂêéÁª≠Ëé∑Âèñ Token ÂêéÁª≠ÁöÑ API ËØ∑Ê±Ç\n// ÈÄöËøá Axios Êã¶Êà™Âô®Âä†‰∏ä Authorization ËØ∑Ê±ÇÂ§¥ÈÉ®Â≠óÊÆµ\naxios.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n\n  config.headers.common['Authorization'] = 'Bearer ' + token;\n\n  return config;\n});\n```\n\nÊúçÂä°Á´ØÊ†°È™åÂâçÁ´ØÂèëÈÄÅÊù•ÁöÑËØ∑Ê±ÇÔºö\n\n```js\nconst koa = require('koa');\nconst jwt = require('koa-jwt');\nconst app = new Koa();\nconst secretOrPublicKey = 'TOKEN_EXAMPLE';\n\napp\n  .use(\n    jwt({\n      secret: secretOrPublicKey,\n    })\n  )\n  .unless({\n    path: [/\\register/, /\\/login/],\n  });\n```\n\nÂú® `koa-jwt` ÁöÑÊ∫êÁ†ÅÂÆûÁé∞‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Áü•ÈÅì Token ÁöÑÈâ¥ÂÆöÊòØÂÖàÂà§Êñ≠ËØ∑Ê±ÇÂ§¥‰∏≠ÊòØÂê¶Â∏¶‰∫Ü AuthorizationÔºö\n\n- ÊúâÔºåÂàôÈÄöËøáÊ≠£ÂàôÂ∞Ü `token` ‰ªé Authorization ‰∏≠ÂàÜÁ¶ªÂá∫Êù•ÔºåToken ‰∏≠ÊòØÂ∏¶Êúâ Bearer Ëøô‰∏™ÂçïËØç\n- Ê≤°ÊúâÔºåÂàô‰ª£Ë°®‰∫ÜÂÆ¢Êà∑Á´ØÊ≤°Êúâ‰º† Token Âà∞ÊúçÂä°Âô®ÔºåËøôÊó∂ÂÄôÂ∞±ÊäõÂá∫ 401 ÈîôËØØÁä∂ÊÄÅ\n\nÊ∫êÁ†ÅÊñá‰ª∂‰∏≠ÁöÑ `verify.js` ‰∏≠ÔºåË∞ÉÁî®‰∫Ü `jsonwebtoken` Â∫ìÂéüÁîüÊèê‰æõÁöÑ `verify()` ÊñπÊ≥ïËøõË°åÈ™åËØÅËøîÂõûÁªìÊûú„ÄÇ\n\n[jsonwebtoken](https://github.com/auth0/node-jsonwebtoken) ÁöÑ `sign()` Áî®‰∫éÁîüÊàê `token`ÔºåËÄå `verify()` ÊñπÊ≥ïÂΩìÁÑ∂ÂàôÊòØÁî®Êù•Ëß£Êûê `token`„ÄÇÂ±û‰∫é JWT ÈÖçÂØπÁîü‰∫ßÁöÑ‰∏§‰∏™ÊñπÊ≥ïÔºåÊâÄ‰ª• `koa-jwt` Ëøô‰∏™‰∏≠Èó¥‰ª∂‰πüÊ≤°ÂÅö‰ªÄ‰πà‰∫ãÔºåÊó†ÈùûÂ∞±ÊòØÁî®Ê≠£ÂàôËß£ÊûêËØ∑Ê±ÇÂ§¥ÔºåË∞ÉÁî® `jsonwebtoken` ÁöÑ `verify()` È™åËØÅ `token`ÔºåÂú® `koa-jwt` Êñá‰ª∂Â§πÁöÑ `index.js` ‰∏≠Ôºå`koa-jwt` ËøòË∞ÉÁî® `koa-unless` ËøõË°åË∑ØÁî±ÊùÉÈôêÂàÜÂèë„ÄÇ\n\n- [Koa2 ÊúçÂä°Á´Ø‰ΩøÁî® JWT ËøõË°åÈâ¥ÊùÉÂèäË∑ØÁî±ÊùÉÈôêÂàÜÂèëÁöÑÊµÅÁ®ãÂàÜÊûê](http://www.uxys.com/html/JavaScript/20190722/52733.html)\n\n### Token ËÆ§ËØÅÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à\n\n#### Ê≥®ÈîÄÁôªÂΩï\n\nÊ≥®ÈîÄÁôªÂΩïÁ≠âÂú∫ÊôØ‰∏ã Token ‰ªçÊúâÊïàÁ±ª‰ººÁöÑÂú∫ÊôØÔºö\n\n- ÈÄÄÂá∫ÁôªÂΩï\n- ‰øÆÊîπÂØÜÁ†Å\n- ÊúçÂä°Á´Ø‰øÆÊîπ‰∫ÜÊüê‰∏™Áî®Êà∑ÂÖ∑ÊúâÁöÑÊùÉÈôêÊàñËßíËâ≤\n- Áî®Êà∑ÁöÑË¥¶Êà∑Ë¢´Âà†Èô§/ÊöÇÂÅú\n- Áî®Êà∑Áî±ÁÆ°ÁêÜÂëòÊ≥®ÈîÄ\n\nËøô‰∏™ÈóÆÈ¢ò‰ªÖÂ≠òÂú®‰∫é Token ËÆ§ËØÅ‰∏≠ÔºåÂõ†‰∏∫ Session-Cookie ËÆ§ËØÅÊ®°Âºè‰∏≠ÔºåËøô‰∫õÊÉÖÂÜµËÉΩÂ§üÈÄöËøáÂà†Èô§ÊúçÂä°Á´Ø Session ‰∏≠ÂØπÂ∫îÁöÑËÆ∞ÂΩïËß£ÂÜ≥ÔºåËÄå Token ËÆ§ËØÅ‰∏≠ÔºåÂ¶ÇÊûúÊúçÂä°Á´Ø‰∏çÂ¢ûÂä†ÂÖ∂‰ªñÈÄªËæëÁöÑËØùÔºåÂú®Â§±ÊïàÂâç Token ÈÉΩÊòØÊúâÊïàÁöÑ„ÄÇ\n\n‰∏ãÈù¢ÂàóÂá∫Âá†ÁßçÈíàÂØπËøô‰∫õÂú∫ÊôØÁöÑËß£ÂÜ≥ÊñπÊ°àÔºö\n\n- **Â∞Ü Token Â≠òÂÇ®Âú®ÂÜÖÂ≠òÊï∞ÊçÆÂ∫ì**ÔºöÂ∞Ü Token Â≠òÂÖ•Á±ª‰ºº‰∫é Redis ÁöÑÂÜÖÂ≠òÊï∞ÊçÆÂ∫ì‰∏≠„ÄÇÂ¶ÇÊûúÈúÄË¶ÅËÆ©Êüê‰∏™ Token Â§±ÊïàÂ∞±Áõ¥Êé•‰ªé Redis ‰∏≠Âà†Èô§Ëøô‰∏™ Token Âç≥ÂèØ„ÄÇ‰ΩÜÊòØËøôÊ†∑‰ºöÂØºËá¥ÊØèÊ¨°‰ΩøÁî® Token ÂèëÈÄÅËØ∑Ê±ÇÈÉΩË¶ÅÂÖà‰ªé DB ‰∏≠Êü•ËØ¢ Token ÊòØÂê¶Â≠òÂú®ÁöÑÊ≠•È™§ÔºåËÄå‰∏îËøùËÉå‰∫Ü JWT Êó†Áä∂ÊÄÅÂéüÂàô„ÄÇ\n- **ÈªëÂêçÂçïÊú∫Âà∂**ÔºöÂíå‰∏äËø∞ÊñπÊ°àÁ±ª‰ººÔºå‰ΩøÁî®ÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìÁª¥Êä§‰∏Ä‰ªΩÈªëÂêçÂçïÔºåÂ¶ÇÊûúÊÉ≥ËÆ©Êüê‰∏™ Token Â§±ÊïàÁöÑËØùÂ∞±Áõ¥Êé•Â∞ÜËøô‰∏™ Token ÊîæÂÖ•Âà∞ÈªëÂêçÂçïÂÜÖÂç≥ÂèØ„ÄÇÊØèÊ¨°‰ΩøÁî® Token ËøõË°åËØ∑Ê±ÇÊó∂ÈÉΩ‰ºöÂÖàÂà§Êñ≠ Token ÊòØÂê¶Â≠òÂú®‰∫éÈªëÂêçÂçï‰∏≠„ÄÇ\n- **‰øÆÊîπÂØÜÈí• Secret**Ôºö‰∏∫ÊØè‰∏™Áî®Êà∑ÂàõÂª∫‰∏ìÂ±ûÂØÜÈí•ÔºåÂ¶ÇÊûúÊÉ≥ËÆ©Êüê‰∏™ Token Â§±ÊïàÔºåÊàë‰ª¨Áõ¥Êé•‰øÆÊîπÂØπÂ∫îÁî®Êà∑ÁöÑÂØÜÈí•Âç≥ÂèØ„ÄÇ‰ΩÜÊòØÔºåËøôÊ†∑Áõ∏ËæÉ‰∫éÂâç‰∏§ÁßçÂºïÂÖ•ÂÜÖÂ≠òÊï∞ÊçÆÂ∏¶ÂÖ•ÁöÑÂç±ÂÆ≥Êõ¥Â§ßÔºö\n  - Â¶ÇÊûúÊúçÂä°ÊòØÂàÜÂ∏ÉÂºèÁöÑÔºåÊØèÊ¨°ÂèëÂá∫Êñ∞ÁöÑ Token Êó∂ÈÉΩÂøÖÈ°ªÂú®Â§öÂè∞ÂèäÂÖ∂ÂêåÊ≠•ÂØÜÈí•„ÄÇ‰∏∫Ê≠§Ôºå‰Ω†ÈúÄË¶ÅÂ∞ÜÊú∫ÂØÜÂ≠òÂú®Êï∞ÊçÆÂ∫ìÊàñÂÖ∂‰ªñÂ§ñÈÉ®ÊúçÂä°‰∏≠ÔºåËøôÊ†∑Âíå Session ËÆ§ËØÅÂ∞±Ê≤°ÊúâÂ§™Â§ßÂå∫Âà´‰∫Ü\n  - Â¶ÇÊûúÁî®Êà∑ÂêåÊó∂Âú®‰∏§‰∏™ÊµèËßàÂô®ÊâìÂºÄÁ≥ªÁªüÔºåÊàñËÄÖÂú®ÁßªÂä®ËÆæÂ§á‰∏äÊâìÂºÄÁ≥ªÁªüÔºåÂΩìÂÆÉ‰ªé‰∏Ä‰∏™Âú∞ÊñπÂ∞ÜË¥¶Âè∑ÈÄÄÂá∫Êó∂ÔºåÈÇ£‰πàÂÖ∂‰ªñÁªàÁ´ØÈÉΩÈúÄË¶ÅÈáçÊñ∞ÁôªÂΩïËÆ§ËØÅÔºåËøôÊòØ‰∏çÂèØÂèñÁöÑ\n- **‰øùÊåÅ‰ª§ÁâåÁöÑÊúâÊïàÊúüÈôêÁü≠Âπ∂ÁªèÂ∏∏ËΩÆÊç¢**\n  - ÂæàÁÆÄÂçïÁöÑÊñπÂºèÔºå‰ΩÜÊòØ‰ºöÂØºËá¥Áî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ‰∏ç‰ºöË¢´ÊåÅ‰πÖËÆ∞ÂΩïÔºåËÄå‰∏îÈúÄË¶ÅÁî®Êà∑ÁªèÂ∏∏ÁôªÂΩï\n\n#### Áª≠Á≠æÈóÆÈ¢ò\n\nToken ÁöÑÁª≠Á≠æÈóÆÈ¢òÔºö\n\nToken ÊúâÊïàÊúü‰∏ÄËà¨‰∏çÂª∫ËÆÆËÆæÁΩÆËøáÈïøÔºåËÄå Token ËøáÊúüÂêéÂ¶Ç‰ΩïËÆ§ËØÅÔºåÂ¶Ç‰Ωï `Âä®ÊÄÅÂà∑Êñ∞` Token Á≠âÈúÄË¶ÅÊúâÊïàÁöÑÊñπÊ°àËß£ÂÜ≥„ÄÇ\n\nÂú® Session-Cookie ËÆ§ËØÅ‰∏≠ÔºåÂÅáËÆæ Session ÊúâÊïàÊúü‰∏∫ 30 ÂàÜÈíüÔºåÂ¶ÇÊûú 30 ÂàÜÈíüÂÜÖÊúâËµÑÊ∫êËØ∑Ê±ÇËÆøÈóÆÔºåÈÇ£‰πàÂ∞±Êää Session ÁöÑÊúâÊïàÊúüËá™Âä®Âª∂Èïø 30 ÂàÜÈíü„ÄÇ\n\n- **Á±ª‰ºº‰∫é Session ‰∫∫‰∏≠ÁöÑÂÅöÊ≥ï**ÔºöÂΩìÂÆ¢Êà∑Á´ØËÆøÈóÆÊúçÂä°Á´ØÔºåÂèëÁé∞ Token Âç≥Â∞ÜËøáÊúüÊó∂ÔºåÊúçÂä°Á´ØÈáçÊñ∞È¢ÅÂèëÊñ∞ÁöÑ Token ÁªôÂÆ¢Êà∑Á´Ø\n- **ÊØèÊ¨°ËØ∑Ê±ÇÈÉΩËøîÂõûÊñ∞ Token**ÔºöÂÆûÁé∞ÊÄùË∑ØÁÆÄÂçïÊòé‰∫ÜÔºå‰ΩÜÊòØÂºÄÈîÄËæÉÂ§ß\n- **Token ÊúâÊïàÊúüËÆæÁΩÆÂà∞ÂçäÂ§ú**ÔºöÊäòË°∑ÊñπÊ°àÔºå‰øùËØÅÂ§ßÈÉ®ÂàÜÁî®Êà∑Ê≠£Â∏∏Â∑•‰ΩúÊó∂Èó¥ÂèØ‰ª•Ê≠£Â∏∏ÁôªÂΩïÔºåÈÄÇÁî®‰∫éÂÆâÂÖ®ÊÄßË¶ÅÊ±Ç‰∏çÈ´òÁöÑÁ≥ªÁªü\n- **Áî®Êà∑ÁôªÂΩïËøîÂõû‰∏§‰∏™ Token**ÔºöÁ¨¨‰∏Ä‰∏™ÊòØ `accessToken`ÔºåÂÆÉÁöÑËøáÊúüÊó∂Èó¥ËÆæÁΩÆÊØîÂ¶ÇÂçä‰∏™Â∞èÊó∂ÔºåÂè¶‰∏Ä‰∏™ÊòØ `refreshToken`ÔºåÂÆÉÁöÑËøáÊúüÊó∂Èó¥Êõ¥Èïø‰∏ÄÁÇπÔºå‰æãÂ¶Ç 1 Â§©„ÄÇÂÆ¢Êà∑Á´ØÁôªÂΩïÂêéÔºåÂ∞Ü `accessToken` Âíå `refreshToken` ‰øùÂ≠òÂú®Êú¨Âú∞ÔºåÊØèÊ¨°ËÆøÈóÆÂ∞Ü `accessToken` ‰º†ÁªôÊúçÂä°Á´Ø„ÄÇÊúçÂä°Á´ØÊ†°È™å `accessToken` ÁöÑÊúâÊïàÊÄßÔºåÂ¶ÇÊûúËøáÊúüÁöÑËØùÔºåÂ∞±Â∞Ü `refreshToken` ‰º†ÁªôÊúçÂä°Á´Ø„ÄÇÂ¶ÇÊûúÊúâÊïàÔºåÊúçÂä°Á´ØÂ∞±ÁîüÊàêÊñ∞ÁöÑ `accessToken` ÁªôÂÆ¢Êà∑Á´Ø„ÄÇÂê¶ÂàôÔºåÂÆ¢Êà∑Á´ØÂ∞±ÈáçÊñ∞ÁôªÂΩïÂç≥ÂèØ„ÄÇËØ•ÊñπÊ°à‰∏çË∂≥ÁöÑÊòØÔºö\n  - ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÈÖçÂêà\n  - Áî®Êà∑Ê≥®ÈîÄÁöÑÊó∂ÂÄôÈúÄË¶ÅÂêåÊó∂‰øùËØÅ‰∏§‰∏™ Token ÈÉΩÊó†Êïà\n  - ÈáçÊñ∞ËØ∑Ê±ÇËé∑Âèñ Token ÁöÑËøáÁ®ã‰∏≠‰ºöÊúâÁü≠ÊöÇ Token ‰∏çÂèØÁî®ÁöÑÊÉÖÂÜµÔºàÂèØ‰ª•ÈÄöËøáÂú®ÂÆ¢Êà∑Á´ØËÆæÁΩÆÂÆöÊó∂Âô®ÔºåÂΩì `accessToken` Âø´ËøáÊúüÁöÑÊó∂ÂÄôÔºåÊèêÂâçÂéªÈÄöËøá `refreshToken` Ëé∑ÂèñÊñ∞ÁöÑ `accessToken`Ôºâ\n\nJWT ÊúÄÈÄÇÂêàÁöÑÂú∫ÊôØÊòØ‰∏çÈúÄË¶ÅÊúçÂä°Á´Ø‰øùÂ≠òÁî®Êà∑Áä∂ÊÄÅÁöÑÂú∫ÊôØÔºåÂ¶ÇÊûúËÄÉËôëÂà∞ Token Ê≥®ÈîÄÂíåÁª≠Á≠æÁ≠âÂú∫ÊôØÁöÑËØùÔºåÁõÆÂâçÊù•ËØ¥Ê≤°ÊúâÁâπÂà´Â•ΩÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂ§ßÈÉ®ÂàÜËß£ÂÜ≥ÊñπÊ°àÈÉΩÁªô Token Âä†‰∏äÁä∂ÊÄÅÔºåËøôÂÆûÈôÖ‰∏äÂ∞±ÊúâÁÇπÁ±ª‰ºº Session-Cookie ËÆ§ËØÅ‰∫Ü„ÄÇ\n\n## ÂçïÁÇπÁôªÂΩï\n\n**ÂçïÁÇπÁôªÂΩï**ÔºàSingle Sign-onÔºâÂèàÁß∞ SSOÔºåÊòØÊåáÂú®Â§öÁ≥ªÁªüÂ∫îÁî®Áæ§‰∏≠ÁôªÂΩïÂçï‰∏™Á≥ªÁªüÔºå‰æøÂèØÂú®ÂÖ∂‰ªñÊâÄÊúâÁ≥ªÁªü‰∏≠ÂæóÂà∞ÊéàÊùÉËÄåÊó†ÈúÄÂÜçÊ¨°ÁôªÂΩï„ÄÇ\n\n‰º†ÁªüÁöÑ All-in-one ÂûãÂ∫îÁî®ÁöÑËÆ§ËØÅÁ≥ªÁªüÂíå‰∏öÂä°Á≥ªÁªüÈõÜÂêàÂú®‰∏ÄËµ∑ÁöÑÔºåÂΩìÁî®Êà∑ËÆ§ËØÅÈÄöËøáÊó∂ÔºåÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂ≠òÂÖ• Session ‰∏≠„ÄÇÂÖ∂‰ªñ‰∏öÂä°Âè™ÈúÄË¶Å‰ªé‰∏öÂä°‰∏≠ÈÄöËøáÂØπÂ∫î‰ºöËØùË∫´‰ªΩÂá≠ËØÅÂèñÂà∞Áî®Êà∑‰ø°ÊÅØËøõË°åÁõ∏ÂÖ≥‰∏öÂä°Â§ÑÁêÜÂç≥ÂèØ„ÄÇ\n\n‰º†ÁªüÁöÑ Session ÊòØÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂ≠òÂÖ•ÂÜÖÂ≠òÔºåÁª¥Êä§‰∏Ä‰∏™ÂìàÂ∏åË°®„ÄÇÊØèÊ¨°ËØ∑Ê±ÇÊê∫Â∏¶‰ºöËØùË∫´‰ªΩÂá≠ËØÅ SessionIDÔºàTomcat ‰∏≠ÊòØ `JSESSIONID`ÔºâÂà∞ÊúçÂä°Á´ØÔºåÊ†πÊçÆÊ≠§ SessionID Êü•ÊâæÂà∞ÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ„ÄÇ\n\nÂà©Áî® Redis Á≠âÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìËøõË°åÁî®Êà∑‰ø°ÊÅØÁöÑÂ≠òÂÇ®ÔºåËá™ÂÆö‰πâ Token ÁîüÊàêËßÑÂàôÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂÜôÂÖ• Redis ‰∏≠„ÄÇËøôÊ†∑Â∞ÜÁî®Êà∑‰ø°ÊÅØÁöÑÂ≠òÂÇ®Âíå‰∏öÂä°Á≥ªÁªüËøõË°åÊãÜÂàÜÔºå‰ΩøÁ≥ªÁªüÊõ¥Âä†ÂÅ•Â£ÆÔºåÊõ¥Êòì‰∫éÊâ©Â±ï„ÄÇÊñ∞Â¢ûÁ≥ªÁªüÂè™ÈúÄË¶Å‰ªé SSO ‰∏≠Ëé∑ÂèñÁõ∏ÂÖ≥ÁöÑËÆ§ËØÅÂç≥ÂèØËøõË°åÊ®™ÂêëÁöÑ‰∏öÂä°Êâ©Â±ï„ÄÇËÄå‰∏î Redis Êú¨Ë∫´ÁöÑÊÄßË¥®‰πüÊòì‰∫éËøõË°å `ÈõÜÁæ§Âåñ` ÁöÑÈÉ®ÁΩ≤„ÄÇ\n\n‰∏ãÈù¢ËØ¶Ëø∞ÂêÑÁßçÂú∫ÊôØ‰∏ã SSO ÁöÑÂÆûÁé∞ÊñπÊ°à„ÄÇ\n\n### ÂêåÂüü SSO\n\nÂΩìÂ≠òÂú®‰∏§‰∏™Áõ∏ÂêåÂüüÂêç‰∏ãÁöÑÁ≥ªÁªü A `a.abc.com` ÂíåÁ≥ªÁªü B `b.abc.com` Êó∂Ôºå‰ª•‰∏ã‰∏∫‰ªñ‰ª¨ÂÆûÁé∞ SSO ÁöÑÊ≠•È™§Ôºö\n\n1. Áî®Êà∑ËÆøÈóÆÊüê‰∏™Â≠êÁ≥ªÁªüÊó∂Ôºà‰æãÂ¶Ç `a.abc.com`ÔºâÔºåÂ¶ÇÊûúÊ≤°ÊúâÁôªÂΩïÔºåÂàôË∑≥ËΩ¨Ëá≥ SSO ËÆ§ËØÅ‰∏≠ÂøÉÊèê‰æõÁöÑÁôªÂΩïÈ°µÈù¢ËøõË°åÁôªÂΩï\n2. ÁôªÂΩïËÆ§ËØÅÂêéÔºåÊúçÂä°Á´ØÊääÁôªÂΩïÁî®Êà∑ÁöÑ‰ø°ÊÅØÂ≠òÂÇ®‰∫é Session ‰∏≠ÔºåÂπ∂‰∏∫Áî®Êà∑ÁîüÊàêÂØπÂ∫îÁöÑ‰ºöËØùË∫´‰ªΩÂá≠ËØÅÈôÑÂä†Âú®ÂìçÂ∫îÂ§¥ÁöÑ `Set-Cookie` Â≠óÊÆµ‰∏≠ÔºåÈöèÁùÄËØ∑Ê±ÇËøîÂõûÂÜôÂÖ•ÊµèËßàÂô®‰∏≠ÔºåÂπ∂ÂõûË∑≥Âà∞ËÆæÂÆöÁöÑÂ≠êÁ≥ªÁªüÈìæÊé•‰∏≠\n3. ‰∏ãÊ¨°ÂèëÈÄÅËØ∑Ê±ÇÊó∂ÔºåÂΩìÁî®Êà∑ËÆøÈóÆÂêåÂüüÂêçÁöÑÁ≥ªÁªü B Êó∂ÔºåÁî±‰∫é A Âíå B Âú®Áõ∏ÂêåÂüüÂêç‰∏ãÔºå‰πüÊòØ `abc.com`ÔºåÊµèËßàÂô®‰ºöËá™Âä®Â∏¶‰∏ä‰πãÂâçÁöÑ Cookie„ÄÇÊ≠§Êó∂ÊúçÂä°Á´ØÂ∞±ÂèØ‰ª•ÈÄöËøáËØ• Cookie Êù•È™åËØÅÁôªÂΩïÁä∂ÊÄÅ‰∫Ü„ÄÇ\n\nËøôÂÆûÈôÖ‰∏ä‰ΩøÁî®ÁöÑÂ∞±ÊòØ Session-Cookie ËÆ§ËØÅÁöÑÁôªÂΩïÊñπÂºè„ÄÇ\n\n### Ë∑®Âüü SSO\n\n‰∏äËø∞ÊâÄÊèêÂèäÁöÑÂêåÂüüÂêç SSO Âπ∂‰∏çÊîØÊåÅË∑®ÂüüÂêçÁöÑÁôªÂΩïËÆ§ËØÅÔºåËøôÊòæÁÑ∂‰∏çÁ¨¶ÂêàÂΩì‰ªä‰∫íËÅîÁΩëÂèëÂ±ïÊΩÆÊµÅÔºåÊØïÁ´üÂ§ßÂ§öÊï∞‰∏≠Â§ßÂûã‰ºÅ‰∏öÂÜÖÂ§ñÈÉ®ÁöÑÁ≥ªÁªüÈÉΩÊòØÈÉ®ÁΩ≤Âú®‰∏çÂêåÁöÑÂüüÂêç‰∏ãÔºå‰∏ãÈù¢Êàë‰ª¨‰ªãÁªçÂÆûÁé∞ÂçïÁÇπÁôªÂΩïÁöÑÊ†áÂáÜÊµÅÁ®ã„ÄÇ\n\n**CAS**ÔºàCentral Authentication ServiceÔºâ‰∏≠Â§ÆÊéàÊùÉÊúçÂä°ÔºåÊú¨Ë∫´ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÂçèËÆÆÔºåÂàÜ‰∏∫ 1.0 ÁâàÊú¨Âíå 2.0 ÁâàÊú¨„ÄÇ1.0 Áß∞‰∏∫Âü∫Á°ÄÊ®°ÂºèÔºå2.0 Áß∞‰∏∫‰ª£ÁêÜÊ®°ÂºèÔºåÈÄÇÁî®‰∫éÂ≠òÂú®Èùû Web Â∫îÁî®‰πãÈó¥ÁöÑÂçïÁÇπÁôªÂΩï„ÄÇ\n\nCAS ÁöÑÂÆûÁé∞ÈúÄË¶Å‰∏âÊñπËßíËâ≤Ôºö\n\n- ClientÔºöÁî®Êà∑\n- ServerÔºö‰∏≠Â§ÆÊéàÊùÉÊúçÂä°Ôºå‰πüÊòØ SSO ‰∏≠ÂøÉË¥üË¥£ÂçïÁÇπÁôªÂΩïÁöÑÊúçÂä°Âô®\n- ServiceÔºöÈúÄË¶Å‰ΩøÁî®ÂçïÁÇπÁôªÂΩïÈâ¥ÊùÉÁöÑÂêÑ‰∏™‰∏öÂä°ÊúçÂä°ÔºåÁõ∏ÂΩì‰∫é‰∏äÊñá‰∏≠ÁöÑÁ≥ªÁªü A / B\n\nCAS ÁöÑÂÆûÁé∞ÈúÄË¶ÅÊèê‰æõ‰ª•‰∏ãÂõõ‰∏™Êé•Âè£Ôºö\n\n- `/login`ÔºöÁôªÂΩïÊé•Âè£ÔºåÁî®‰∫éÁôªÂΩïÂà∞‰∏≠Â§ÆÊéàÊùÉÊúçÂä°\n- `/logout`ÔºöÁôªÂá∫Êé•Âè£ÔºåÁî®‰∫é‰ªé‰∏≠Â§ÆÊéàÊùÉÊúçÂä°‰∏≠ÁôªÂá∫\n- `/validate`ÔºöÁî®‰∫éÈ™åËØÅÁî®Êà∑ÊòØÂê¶ÁôªÂΩï‰∏≠Â§ÆÊéàÊùÉÊúçÂä°\n- `/serviceValidate`ÔºöÁî®‰∫éËÆ©ÂêÑ‰∏™ Service È™åËØÅÁî®Êà∑ÊòØÂê¶ÁôªÂΩï‰∏≠Â§ÆÊéàÊùÉÊúçÂä°\n\nCAS Á•®ÊçÆÔºö\n\n- **TGTÔºàTicket Grangting TicketÔºâ**ÔºöTGT ÊòØ CAS ‰∏∫Áî®Êà∑Á≠æÂèëÁöÑ `ÁôªÂΩïÁ•®ÊçÆ`ÔºåÊã•Êúâ‰∫Ü TGTÔºåÁî®Êà∑Â∞±ÂèØ‰ª•ËØÅÊòéËá™Â∑±Âú® CAS ÊàêÂäüÁôªÂΩïËøá„ÄÇTGT Â∞ÅË£Ö‰∫Ü Cookie ÂÄº‰ª•ÂèäÊ≠§ Cookie ÂÄºÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ„ÄÇÂΩì HTTP ËØ∑Ê±ÇÂà∞Êù•Êó∂ÔºåCAS ‰ª•Ê≠§ Cookie ÂÄºÔºàTGCÔºâ‰∏∫ `key` Êü•ËØ¢ÁºìÂ≠ò‰∏≠ÊòØÂê¶Êúâ TGTÔºåÂ¶ÇÊûúÊúâÔºåÂàôË°®Á§∫Áî®Êà∑Â∑≤ÁôªÂΩïËøá„ÄÇ\n- **TGCÔºàTicket Granting CookieÔºâ**ÔºöCAS Service ÁîüÊàê TGC ÊîæÂÖ•Ëá™Â∑±ÁöÑ Session ‰∏≠ÔºåËÄå TGC Â∞±ÊòØËøô‰∏™ Session ÁöÑÂîØ‰∏ÄÊ†áËØÜÔºàSessionIDÔºâÔºå‰ª• Cookie ÂΩ¢ÂºèÊîæÂà∞ÊµèËßàÂô®Á´ØÔºåÊòØ CAS Service Áî®Êù•ÊòéÁ°ÆÁî®Êà∑Ë∫´‰ªΩÁöÑÂá≠ËØÅ\n- **STÔºàService TicketÔºâ**ÔºöST ÊòØ CAS ‰∏∫Áî®Êà∑Á≠æÂèëÁöÑËÆøÈóÆÊüê‰∏™ Service ÁöÑÁ•®ÊçÆ„ÄÇÁî®Êà∑ËÆøÈóÆ Service Êó∂ÔºåService ÂèëÁé∞Áî®Êà∑Ê≤°Êúâ STÔºåÂàôË¶ÅÊ±ÇÁî®Êà∑Âéª CAS Ëé∑Âèñ ST„ÄÇÁî®Êà∑Âêë CAS ÂèëÂá∫ ST ÁöÑËØ∑Ê±ÇÔºåCAS ÂèëÁé∞Áî®Êà∑Êúâ TGTÔºåÂàôÁ≠æÂèë‰∏Ä‰∏™ STÔºåËøîÂõûÁªôÁî®Êà∑„ÄÇÁî®Êà∑ÊãøÁùÄ ST ÂéªËÆøÈóÆ ServiceÔºåService Êãø ST Âéª CAS È™åËØÅÔºåÈ™åËØÅÈÄöËøáÂêéÔºåÂÖÅËÆ∏Áî®Êà∑ËÆøÈóÆËµÑÊ∫ê„ÄÇ\n\nËøôÈáåÂèØËÉΩÊ¶ÇÂøµÂ§™Â§ö‰ºöÈùûÂ∏∏ÈöæÁêÜËß£ÔºåÁÆÄÂçïËØ¥Êòé‰∏ãÔºåÂÆ¢Êà∑Á´ØÈúÄË¶ÅÂêÑËá™Áª¥Êä§‰∏é‰∏çÂêåÁ≥ªÁªüÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂåÖÊã¨‰∏é‰∏≠Â§ÆÊéàÊùÉÊúçÂä°ÁöÑÁôªÂΩïÁä∂ÊÄÅ„ÄÇÊâÄ‰ª•ÔºåÂÆûÈôÖ‰∏ä TGC Âíå TGT ÊòØÁª¥Êä§ÂÆ¢Êà∑Á´Ø‰∏é‰∏≠Â§ÆÊéàÊùÉÊúçÂä°ÁôªÂΩïÁä∂ÊÄÅÁöÑ‰ºöËØùË∫´‰ªΩÂá≠ËØÅÁöÑ `key-value` ÈîÆÂêçÂÄºÔºåËÄå ST Á•®ÊçÆÂàôÊòØËµÑÊ∫êÊúçÂä°Âêë‰∏≠Â§ÆÊéàÊùÉÊúçÂä°Ëé∑ÂèñÁî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ„ÄÅ‰ø°ÊÅØÁöÑ‰∫§Êç¢Âá≠ËØÅÔºåÂè™‰∏çËøáËµÑÊ∫êÊúçÂä°ÈúÄË¶ÅÁªèÁî®Êà∑ÁöÑ‚ÄúÊâã‚Äù‰∏äÊâçËÉΩËé∑ÂèñÂà∞ËØ•Á•®ÊçÆ„ÄÇ\n\nËØ¶ÁªÜÊ≠•È™§Ôºö\n\n![CAS È™åËØÅÊµÅÁ®ãÊó∂Â∫èÂõæ](https://img.mrsingsing.com/authentication-cas-workflow.png)\n\n1. Áî®Êà∑ËÆøÈóÆÁ≥ªÁªü A ÁöÑÂèó‰øùÊä§ËµÑÊ∫êÔºàÂüüÂêçÊòØ `a.abc.com`ÔºâÔºåÁ≥ªÁªü A Ê£ÄÊµãÂá∫Áî®Êà∑Â§Ñ‰∫é `Êú™ÁôªÂΩï` Áä∂ÊÄÅÔºåÈáçÂÆöÂêëÔºàÂ∫îÁ≠îÁ†Å 302ÔºâËá≥ SSO ÊúçÂä°ËÆ§ËØÅ‰∏≠ÂøÉÁöÑÁôªÂΩïÊé•Âè£ÔºåÂêåÊó∂Âú∞ÂùÄÂèÇÊï∞Êê∫Â∏¶ÁôªÂΩïÊàêÂäüÂêéÂõûË∑≥Âà∞Á≥ªÁªü A ÁöÑÈ°µÈù¢ÈìæÊé•ÔºàË∑≥ËΩ¨ÁöÑÈìæÊé•ÂΩ¢Â¶Ç `sso.abc.com/login?service=https%3A%2F%2Fwww.a.abc.com`Ôºâ\n2. Áî±‰∫éËØ∑Ê±ÇÊ≤°ÊúâÊê∫Â∏¶ SSO ÊúçÂä°Âô®‰∏äÁôªÂΩïÁöÑÁ•®ÊçÆÂá≠ËØÅÔºàTGCÔºâÔºåÊâÄ‰ª• SSO ËÆ§ËØÅ‰∏≠ÂøÉÂà§ÂÆöÁî®Êà∑Â§Ñ‰∫é `Êú™ÁôªÂΩï` Áä∂ÊÄÅÔºåÈáçÂÆöÂêëÁî®Êà∑È°µÈù¢Ëá≥ SSO ÁöÑÁôªÂΩïÁïåÈù¢ÔºåÁî®Êà∑Âú® SSO ÁöÑÁôªÂΩïÈ°µÈù¢‰∏äËøõË°åÁôªÂΩïÊìç‰Ωú„ÄÇ\n3. SSO ËÆ§ËØÅ‰∏≠ÂøÉÊ†°È™åÁî®Êà∑Ë∫´‰ªΩÔºåÂàõÂª∫Áî®Êà∑‰∏é SSO ËÆ§ËØÅ‰∏≠ÂøÉ‰πãÈó¥ÁöÑ‰ºöËØùÔºåÁß∞‰∏∫ `ÂÖ®Â±Ä‰ºöËØù`ÔºåÂêåÊó∂ÂàõÂª∫ `ÊéàÊùÉ‰ª§Áâå`ÔºàSTÔºâÔºåSSO Â∏¶ÁùÄÊéàÊùÉ‰ª§ÁâåË∑≥ËΩ¨ÂõûÊúÄÂàùÁöÑÁ≥ªÁªü A ÁöÑËØ∑Ê±ÇÂú∞ÂùÄÔºö\n\n- ÈáçÂÆöÂêëÂú∞ÂùÄ‰∏∫‰πãÂâçÂÜôÂú® `query` ‰∏≠ÁöÑÁ≥ªÁªü A ÁöÑÈ°µÈù¢Âú∞ÂùÄ\n- ÈáçÂÆöÂêëÂú∞ÂùÄÁöÑ `query` ‰∏≠ÂåÖÂê´ SSO ÊúçÂä°Âô®Ê¥æÂèëÁöÑ ST\n- ÈáçÂÆöÂêëÁöÑ HTTP ÂìçÂ∫î‰∏≠ÂåÖÂê´ÂÜô Cookie ÁöÑ Header„ÄÇËøô‰∏™ Cookie ‰ª£Ë°®Áî®Êà∑Âú® SSO ‰∏≠ÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂÆÉÁöÑÂÄºÂ∞±ÊòØ TGC\n\n5. ÊµèËßàÂô®ÈáçÂÆöÂêëËá≥Á≥ªÁªü A ÊúçÂä°Âú∞ÂùÄÔºåÊ≠§Êó∂ÈáçÂÆöÂêëÁöÑ URL ‰∏≠Êê∫Â∏¶ÁùÄ SSO ÊúçÂä°Âô®ÁîüÊàêÁöÑ ST\n6. Á≥ªÁªü A ÊãøÁùÄ ST Âêë SSO ÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÔºåSSO ÊúçÂä°Âô®È™åËØÅÁ•®ÊçÆÁöÑÊúâÊïàÊÄß„ÄÇÈ™åËØÅÊàêÂäüÂêéÔºåÁ≥ªÁªü A Áü•ÈÅìÁî®Êà∑Â∑≤ÁªèÂú® SSO ÁôªÂΩï‰∫ÜÔºå‰∫éÊòØÁ≥ªÁªü A ÊúçÂä°Âô®‰ΩøÁî®ËØ•‰ª§ÁâåÂàõÂª∫‰∏éÁî®Êà∑ÁöÑ‰ºöËØùÔºåÁß∞‰∏∫ `Â±ÄÈÉ®‰ºöËØù`ÔºåËøîÂõûÂèó‰øùÊä§ÁΩëÈ°µËµÑÊ∫ê\n7. ‰πãÂêéÁî®Êà∑ËÆøÈóÆÁ≥ªÁªü B Âèó‰øùÊä§ËµÑÊ∫êÔºàÂüüÂêç `b.abc.com`ÔºâÔºåÁ≥ªÁªü B Ê£ÄÊµãÂá∫Áî®Êà∑Â§Ñ‰∫é `Êú™ÁôªÂΩï` Áä∂ÊÄÅÔºåË∑≥ËΩ¨Ëá≥ SSO ÊúçÂä°ËÆ§ËØÅ‰∏≠ÂøÉÔºåÂêåÊó∂Âú∞ÂùÄÂèÇÊï∞Êê∫Â∏¶ÊéàÊùÉ‰ª§Áâå STÔºàÊØèÊ¨°ÁîüÊàêÁöÑ ST ÈÉΩÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºâÁôªÂΩïÊàêÂäüÂêéÂõûË∑≥ÁöÑÈìæÊé•\n8. SSO ËÆ§ËØÅ‰∏≠ÂøÉÂèëÁé∞Áî®Êà∑Â∑≤ÁôªÂΩïÔºåË∑≥ËΩ¨ÂõûÁ≥ªÁªü B ÁöÑÂú∞ÂùÄÔºåÂπ∂ÈôÑ‰∏ä‰ª§Áâå\n9. Á≥ªÁªü B ÊãøÂà∞‰ª§ÁâåÔºåÂéª SSO ËÆ§ËØÅ‰∏≠ÂøÉÊ†°È™å‰ª§ÁâåÊòØÂê¶ÊúâÊïàÔºåSSO ËÆ§ËØÅ‰∏≠ÂøÉÊ†°È™å‰ª§ÁâåÔºåËøîÂõûÊúâÊïàÔºåÊ≥®ÂÜåÁ≥ªÁªü B\n10. Á≥ªÁªü B ‰ΩøÁî®ËØ•‰ª§ÁâåÂàõÂª∫‰∏éÁî®Êà∑ÁöÑÂ±ÄÈÉ®‰ºöËØùÔºåËøîÂõûÂèó‰øùÊä§ËµÑÊ∫ê\n\nËá≥Ê≠§Êï¥‰∏™ÁôªÂΩïÊµÅÁ®ãÁªìÊùüÔºåËÄåÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÂü∫Êú¨‰∏äÈÉΩ‰ºöÊ†πÊçÆ CAS Â¢ûÂä†Êõ¥Â§öÁöÑÂà§Êñ≠ÈÄªËæëÔºåÊØîÂ¶ÇÔºåÂú®Êî∂Âà∞ CAS Server Á≠æÂèëÁöÑ ST ÂêéÔºåÂ¶ÇÊûú ST Ë¢´ Hacker Á™ÉÂèñÔºåÂπ∂‰∏î Client Êú¨Ë∫´Ê≤°Êù•ÂæóÂèäÂéªÈ™åËØÅ STÔºåË¢´ Hacker Êä¢ÂÖà‰∏ÄÊ≠•È™åËØÅ STÔºåÊÄé‰πàËß£ÂÜ≥„ÄÇÊ≠§Êó∂Â∞±ÂèØ‰ª•Âú®Áî≥ËØ∑ ST Êó∂Ê∑ªÂä†È¢ùÂ§ñÈ™åËØÅÂõ†Â≠êÔºàÂ¶Ç IP„ÄÅSessionID Á≠âÔºâ„ÄÇ\n\n### LDAP ËÆ§ËØÅÁôªÂΩï\n\nLDAP ÁöÑÂÖ®Áß∞ÊòØ Lightweight Directory Access ProtocolÔºåÂç≥**ËΩªÈáèÁõÆÂΩïËÆøÈóÆÂçèËÆÆ**ÔºåÊòØ‰∏Ä‰∏™ÂºÄÊîæ„ÄÅÂπøÊ≥õË¢´‰ΩøÁî®ÁöÑÂ∑•‰∏öÊ†áÂáÜÔºàIEFT„ÄÅRFCÔºâ„ÄÇ‰ºÅ‰∏öÁ∫ßËΩØ‰ª∂‰πüÈÄöÂ∏∏ÂÖ∑Â§á \\*_ÊîØÊåÅ LDAP_- ÁöÑÂäüËÉΩÔºåÊØîÂ¶Ç Jira„ÄÅConfluence„ÄÅOpenVPN Á≠âÔºå‰ºÅ‰∏ö‰πüÁªèÂ∏∏ÈááÁî® LDAP ÊúçÂä°Âô®Êù•‰Ωú‰∏∫‰ºÅ‰∏öÁöÑËÆ§ËØÅÊ∫êÂíåÊï∞ÊçÆÊ∫ê„ÄÇ‰ΩÜÊòØÂ§ßÂÆ∂ÊØîËæÉÂ∏∏ËßÅÁöÑËØØÂå∫ÊòØÔºåÂèØ‰ª•‰ΩøÁî® LDAP Êù•ÂÆûÁé∞ SSO„ÄÇÊàë‰ª¨ÂèØ‰ª•ÂÖàÂàÜÊûê‰ª•‰∏ãÂÆÉÁöÑ‰∏ªË¶ÅÂäüËÉΩÁÇπÊàñÂú∫ÊôØ„ÄÇ\n\n- ‰Ωú‰∏∫Êï∞ÊçÆÊ∫êÂÆÉÂèØ‰ª•Áî®‰∫éÂ≠òÂÇ®\n  - ‰ºÅ‰∏öÁöÑÁªÑÁªáÊû∂ÊûÑÊ†ë\n  - ‰ºÅ‰∏öÂëòÂ∑•‰ø°ÊÅØ\n  - ËØÅ‰π¶‰ø°ÊÅØ\n  - ‰ºöËÆÆÂÆ§ÔºåÊâìÂç∞Êú∫Á≠âÁ≠âËµÑÊ∫ê\n- ‰Ωú‰∏∫ËÆ§ËØÅÊ∫êÔºåÂÆÉ‰πüÊúâÂ§öÁßçÁî®ÈÄî\n  - Â≠òÂÇ®Áî®Êà∑ÁöÑÂØÜÁ†Å\n  - ÂØπÂ§ñÊèê‰æõ LDAP ÂçèËÆÆÁöÑËÆ§ËØÅÊñπÂºèÔºàÈÄöËøá LDAP BIND ÂçèËÆÆÊù•Ê†°È™åÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºâ\n  - ÂØÜÁ†ÅÁ≠ñÁï•ÔºàÂØÜÁ†ÅÂ§çÊùÇÂ∫¶ÔºåÂéÜÂè≤ÂØÜÁ†ÅËÆ∞ÂΩïÔºåÁî®Êà∑ÈîÅÂÆöÁ≠âÁ≠âÔºâ\n\n## ‰ø°‰ªªÁôªÂΩï\n\n‰ø°‰ªªÁôªÂΩïÊòØÊåáÊâÄÊúâ‰∏çÈúÄË¶ÅÁî®Êà∑‰∏ªÂä®ÂèÇ‰∏éÁöÑÁôªÂΩïÔºå‰æãÂ¶ÇÂª∫Á´ãÂú®ÁßÅÊúâËÆæÂ§á‰∏éÁî®Êà∑‰πãÈó¥ÁöÑÁªëÂÆöÂÖ≥Á≥ªÔºåÂá≠ËØÅÂ∞±ÊòØÁßÅÊúâËÆæÂ§áÁöÑ‰ø°ÊÅØÔºåÊ≠§Êó∂‰∏çÈúÄË¶ÅÁî®Êà∑ÂÜçÊèê‰æõÈ¢ùÂ§ñÁöÑÂá≠ËØÅ„ÄÇ‰ø°‰ªªÁôªÂΩïÂèàÊåáÁî®Á¨¨‰∏âÊñπÊØîËæÉÊàêÁÜüÁöÑÁî®Êà∑Â∫ìÊù•Ê†°È™åÂá≠ËØÅÔºåÂπ∂ÁôªÂΩïÂΩìÂâçËÆøÈóÆÁöÑÁΩëÁ´ô„ÄÇ\n\n1. ÁôªÂΩïÊúçÂä° \\*_‰ø°‰ªª‰∏öÂä°Á≥ªÁªü_- ÁöÑÂá≠ËØÅÊ†°È™åÁªìÊûú\n2. ÁôªÂΩïÊúçÂä° \\*_‰ø°‰ªªÁ¨¨‰∏âÊñπÁôªÂΩïÁ≥ªÁªü_- ÁöÑÂá≠ËØÅÊ†°È™åÁªìÊûúÔºåÂâçÊèêÊòØÂøÖÈ°ªÂèàÊú¨Á´ôÁÇπÁöÑË¥¶Âè∑‰ΩìÁ≥ª‰∏ãÁöÑË¥¶Âè∑‰∏éÁ¨¨‰∏âÊñπË¥¶Âè∑ÁöÑ‰∏ÄÂØπ‰∏ÄÁªëÂÆöÂÖ≥Á≥ªÔºåÁé∞Âú®ÊµÅË°åÁöÑÊéàÊùÉÊñπÂºè‰πüÂ±û‰∫éËøô‰∏™Ê®°Âºè„ÄÇ\n\nÁõÆÂâçÊØîËæÉÂ∏∏ËßÅÁöÑÁ¨¨‰∏âÊñπ‰ø°‰ªªÁôªÂΩïÂ∏êÂè∑Â¶ÇÔºöQQ Âè∑Ê∑òÂÆùÂ∏êÂè∑„ÄÅÊîØ‰ªòÂÆùÂ∏êÂè∑„ÄÅÂæÆÂçöÂ∏êÂè∑Á≠â„ÄÇ\n\n‰ø°‰ªªÁôªÂΩïÁöÑÂ•ΩÂ§ÑÊòØÂèØ‰ª•Âà©Áî®Á¨¨‰∏âÊñπÂ∫ûÂ§ßÁöÑÁî®Êà∑Áæ§Êù•Êé®Âπø„ÄÅËê•ÈîÄÁΩëÁ´ôÔºåÂêåÊó∂ÂáèÂ∞ëÁî®Êà∑ÁöÑÊ≥®ÂÜå„ÄÅÁôªÂΩïÊó∂Èó¥„ÄÇ\n\nÊèêÂà∞‰ø°‰ªªÁôªÂΩïÔºåÊàë‰ª¨Â∞±‰∏çÂæó‰∏çÊèêÂà∞ OAuthÔºåÊ≠£ÊòØÊúâ‰∫Ü OAuthÔºåÊàë‰ª¨ÁöÑ‰ø°‰ªªÁôªÂΩïÊâçÂæó‰ª•ÂÆûÁé∞„ÄÇ‰∏ãÈù¢Êàë‰ª¨Â∞±Êù•Áúã‰∏ãÂÖ≥‰∫é OAuth ÁöÑ‰∏Ä‰∫õ‰ªãÁªç„ÄÇ\n\n## OAuth2 ÂºÄÂèëÊéàÊùÉ\n\nOAuthÔºàÂºÄÊîæÊéàÊùÉÔºâÊòØ‰∏Ä‰∏™ÂºÄÂèëÊ†áÂáÜÔºåÂÖÅËÆ∏Áî®Êà∑ÊéàÊùÉ `Á¨¨‰∏âÊñπÁΩëÁ´ô` ËÆøÈóÆ‰ªñ‰ª¨Â≠òÂÇ®Âú®Âè¶Â§ñÁöÑÊúçÂä°Êèê‰æõÂïÜ‰∏≠ÁöÑ‰ø°ÊÅØÔºåËÄå‰∏çÈúÄË¶ÅÊé•Ëß¶Âà∞Áî®Êà∑ÂêçÂíåÂØÜÁ†Å„ÄÇ‰∏∫‰∫Ü‰øùÊä§Êï∞ÊçÆÁöÑÂÆâÂÖ®ÂíåÈöêÁßÅÔºåÁ¨¨‰∏âÊñπÁΩëÁ´ôËÆøÈóÆÁî®Êà∑Êï∞ÊçÆÂâçÈÉΩÈúÄË¶Å `ÊòæÂºèÂú∞ÂêëÁî®Êà∑ÂæÅÊ±ÇÊéàÊùÉ`„ÄÇÊàë‰ª¨Â∏∏ËßÅÁöÑ OAuth ËÆ§ËØÅÊúçÂä°ÁöÑÂéÇÂïÜÊúâÂæÆ‰ø°„ÄÅQQ„ÄÅÊîØ‰ªòÂÆùÁ≠â„ÄÇ\n\nOAuth ÂçèËÆÆÂèàÊúâ 1.0 Âíå 2.0 ‰∏§‰∏™ÁâàÊú¨Ôºå2.0 ÁâàÊï¥‰∏™ÊéàÊùÉÈ™åËØÅÊµÅÁ®ãÊõ¥ÁÆÄÂçïÊõ¥ÂÆâÂÖ®Ôºå‰πüÊòØÁõÆÂâçÊúÄ‰∏ªË¶ÅÁöÑÁî®Êà∑Ë∫´‰ªΩÈ™åËØÅÂíåÊéàÊùÉÊñπÂºè„ÄÇ\n\nÂ∫îÁî®Âú∫ÊôØÊúâÔºöÁ¨¨‰∏âÊñπÂ∫îÁî®ÁöÑÊé•ÂÖ•„ÄÅÂæÆÊúçÂä°Èâ¥ÊùÉ‰∫í‰ø°„ÄÅÊé•ÂÖ•Á¨¨‰∏âÊñπÂπ≥Âè∞„ÄÅÁ¨¨‰∏ÄÊñπÂØÜÁ†ÅÁôªÂΩïÁ≠â„ÄÇ\n\nÊéàÊùÉÊ®°ÂºèÔºö\n\n- ÊéàÊùÉÁ†ÅÊ®°ÂºèÔºàAuthorization Code GrantÔºâ\n- ÈöêÂºèÊéàÊùÉÊ®°ÂºèÔºàImplicit GrantÔºâ\n- ÂØÜÁ†ÅÊ®°ÂºèÔºàResource Owner Password Credentials GrantÔºâ\n- ÂÆ¢Êà∑Á´ØÊ®°ÂºèÔºàClient Credentials GrantÔºâ\n\nÊó†ËÆ∫Âì™ÁßçÊéàÊùÉÊ®°ÂºèÔºåÈÉΩÂøÖÈ°ªÊã•ÊúâÂõõÁßçÂøÖË¶ÅÁöÑËßíËâ≤ÂèÇ‰∏éÔºö`ÂÆ¢Êà∑Á´Ø`„ÄÅ`ÊéàÊùÉÊúçÂä°Âô®`„ÄÅ`ËµÑÊ∫êÊúçÂä°Âô®`ÔºåÊúâÁöÑËøòÊúâ `Áî®Êà∑ÔºàËµÑÊ∫êÊã•ÊúâËÄÖÔºâ`„ÄÇÊàë‰ª¨‰ª•ÂæÆ‰ø°ÂºÄÂèëÂπ≥Âè∞ÁöÑÊéàÊùÉÁôªÂΩï‰∏∫‰æãËß£ÈáäËøôÂõõÁßçËßíËâ≤Ôºö\n\n- ËµÑÊ∫êÊã•ÊúâËÄÖÔºàResource OwnerÔºâÔºöËøôÈáåÊåáÂæÆ‰ø°Áî®Êà∑\n- Á¨¨‰∏âÊñπÂ∫îÁî®ÔºàThird-party ApplicationÔºâÔºöÊåáÂÜÖÂµåÂú®ÂæÆ‰ø°Â∫îÁî®ÂÜÖÁöÑÁ¨¨‰∏âÊñπÂ∫îÁî®ÔºåÂΩ¢Âºè‰∏çÈôê‰∫é Web App„ÄÅÂÖ¨‰ºóÂè∑ Web ÁΩëÈ°µ„ÄÅÂ∞èÁ®ãÂ∫èÁ≠âÁ≠â\n- ÊéàÊùÉÊúçÂä°Âô®ÔºàAuthorization ServerÔºâÔºöËøôÈáåÊåáÂæÆ‰ø°ÂºÄÂèëÂπ≥Âè∞ÁöÑÊéàÊùÉÊúçÂä°\n- ËµÑÊ∫êÊúçÂä°Âô®ÔºàResource ServerÔºâÔºöÁî®‰∫éÂ≠òÂÇ®„ÄÅËé∑ÂèñÁî®Êà∑ËµÑÊ∫êÔºåËøôÈáåÊåáÁöÑÊòØÂæÆ‰ø°ÂºÄÊîæÂπ≥Âè∞ÁöÑÊúçÂä°Âô®\n\n### ÊéàÊùÉÁ†ÅÊ®°Âºè\n\nÊéàÊùÉÁ†ÅÊ®°ÂºèÊòØ OAuth 2.0 ÁõÆÂâçÊúÄÂÆâÂÖ®ÊúÄÂ§çÊùÇÁöÑÊéàÊùÉÊµÅÁ®ã„ÄÇ\n\n![ÊéàÊùÉÁ†ÅÊ®°Âºè](https://img.mrsingsing.com/authentication-authorization-code-grant.jpg)\n\nÊéàÊùÉÁ†ÅÊ®°ÂºèÁöÑÊéàÊùÉÊµÅÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜÔºö\n\n1. Client SideÔºöÁî®Êà∑+ÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´ØÁöÑ‰∫§‰∫í\n2. Server SideÔºöÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í\n3. Check Access Token'ÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í + ËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í\n\nÊï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÂÆ¢Êà∑Á´ØÊç¢ÂèñÊéàÊùÉÁ†ÅÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÊéàÊùÉÁ†ÅÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê\n\n> ÂâçÊèêÊù°‰ª∂Ôºö\n>\n> - Á¨¨‰∏âÊñπÂÆ¢Êà∑Á´ØÈúÄË¶ÅÊèêÂâç‰∏éËµÑÊ∫êÊã•ÊúâÊñπÔºàÂêåÊó∂‰πüÊòØÊéàÊùÉÊâÄÊúâÊñπÔºâÂçèÂïÜÂÆ¢Êà∑Á´Ø IDÔºàclient_idÔºâ‰ª•ÂèäÂÆ¢Êà∑Á´ØÂØÜÈí•Ôºàclient_secretÔºâ\n> - ‰∏äËø∞ÊµÅÁ®ãÊöÇÊú™Â∞Ü `scope`„ÄÅ`state` Á≠â‰æùËµñÂÖ∑‰ΩìÊ°ÜÊû∂ÁöÑÂÜÖÂÆπÂÜôËøõÊù•ÔºåËøôÈáåÂèØ‰ª•ÂèÇËÄÉ Spring Security OAuth2 ÁöÑÂÆûÁé∞\n\n**Client Server ÂÆ¢Êà∑Á´ØÊç¢ÂèñÊéàÊùÉÁ†Å**\n\nËøô‰∏™ÂÆ¢Êà∑Á´ØÂèØ‰ª•ÊòØÊµèËßàÂô®\n\n1. ÂÆ¢Êà∑Á´ØÂ∞Ü `client_id + client_secret + ÊéàÊùÉÊ®°ÂºèÊ†áËØÜÔºàgrant_typeÔºâ+ ÂõûË∞ÉÂú∞ÂùÄÔºàredirect_uriÔºâ` ÊãºÊé•Êàê URL ËÆøÈóÆÊéàÊùÉÊúçÂä°Âô®\n2. ÊéàÊùÉÊúçÂä°Á´ØËøîÂõûÁôªÂΩïÁïåÈù¢ÔºåË¶ÅÊ±Ç `Áî®Êà∑ÁôªÂΩï`ÔºàÊ≠§Êó∂Áî®Êà∑Êèê‰∫§ÁöÑË¥¶Âè∑ÂØÜÁ†ÅÁ≠âÁõ¥Êé•ÂèëÈÄÅÂà∞ÊéàÊùÉÊúçÂä°Á´ØÔºåËøõË°åÊ†°È™åÔºâ\n3. ÊéàÊùÉÊúçÂä°Á´ØËøîÂõûÊéàÊùÉÂÆ°ÊâπÁïåÈù¢Ôºå`Áî®Êà∑ÊéàÊùÉ` ÂÆåÊàê\n4. ÊéàÊùÉÊúçÂä°Á´Ø `ËøîÂõûÊéàÊùÉÁ†ÅÂà∞ÂõûË∞ÉÂú∞ÂùÄ`\n\n**Server Side ÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÊéàÊùÉÁ†ÅÊç¢Âèñ Token**\n\n1. ÂÆ¢Êà∑Á´ØÊé•Êî∂Âà∞ÊéàÊùÉÁ†ÅÔºåÂπ∂‰ΩøÁî® `ÊéàÊùÉÁ†Å + client_id + client_secret` ËÆøÈóÆÊéàÊùÉÊúçÂä°Á´ØÈ¢ÅÂèë Token ‰ª§Áâå\n2. ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™åÈÄöËøáÔºåÈ¢ÅÂèë Token ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø\n3. ÂÆ¢Êà∑Á´Ø‰øùÂ≠ò Token Âà∞Â≠òÂÇ®Âô®\n\n**Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê**\n\n1. ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥Â∏¶‰∏ä TokenÔºåËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø\n2. ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ\n3. ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê\n\nÁßªÂä®Â∫îÁî®ÂæÆ‰ø°ÁôªÂΩïÊòØÂü∫‰∫é OAuth2.0 ÂçèËÆÆÊ†áÂáÜÊûÑÂª∫ÁöÑÂæÆ‰ø° OAuth2.0 ÊéàÊùÉÁôªÂΩïÁ≥ªÁªüÔºåÂú®ÂæÆ‰ø°ÂºÄÊîæÂπ≥Âè∞Ê≥®ÂÜåÂºÄÂèëËÄÖË¥¶Âè∑ÔºåÂπ∂Êã•ÊúâÂ∑≤ÂÆ°Ê†∏ÈÄöËøáÁöÑÁßªÂä®Â∫îÁî®ÔºåÂπ∂Ëé∑ÂæóÁõ∏Â∫îÁöÑ AppID Âíå AppSecretÔºåÁî≥ËØ∑ÂæÆ‰ø°ÁôªÂΩï‰∏îÈÄöËøáÂÆ°Ê†∏ÂêéÔºåÂèØÂºÄÂßãÊé•ÂÖ•ÊµÅÁ®ã„ÄÇ\n\n```\n1. Á¨¨‰∏âÊñπÂèëËµ∑ÂæÆ‰ø°ÊéàÊùÉÁôªÂΩïËØ∑Ê±ÇÔºåÂæÆ‰ø°Áî®Êà∑ÂÖÅËÆ∏ÊéàÊùÉÁ¨¨‰∏âÊñπÂ∫îÁî®ÂêéÔºåÂæÆ‰ø°‰ºöÊãâËµ∑Â∫îÁî®ÊàñÈáçÂÆöÂêëÂà∞Á¨¨‰∏âÊñπÁΩëÁ´ôÔºåÂπ∂‰∏îÂ∏¶‰∏äÊéàÊùÉ‰∏¥Êó∂Á•®ÊçÆ code ÂèÇÊï∞\n2. ÈÄöËøá code ÂèÇÊï∞Âä†‰∏ä AppId Âíå AppSecret Á≠âÔºåÈÄöËøá API Êç¢Âèñ access_token\n3. ÈÄöËøá access_token ËøõË°åÊé•Âè£Ë∞ÉÁî®ÔºåËé∑ÂèñÁî®Êà∑Âü∫Êú¨Êï∞ÊçÆËµÑÊ∫êÊàñÂ∏ÆÂä©Áî®Êà∑ÂÆûÁé∞Âü∫Êú¨Êìç‰Ωú\n```\n\n![ÂæÆ‰ø° OAuth2.0 Ëé∑Âèñ access_token Êó∂Â∫èÂõæ](https://img.mrsingsing.com/authentication-wx-oauth2-access-token.png)\n\nËØ¶ÊÉÖÂèØ‰ª•ÂèÇÈòÖ [ÂæÆ‰ø°ÁôªÂΩïÂäüËÉΩ - ÁßªÂä®Â∫îÁî®ÂæÆ‰ø°ÁôªÂΩïÂºÄÂèëÊåáÂçó](https://developers.weixin.qq.com/doc/oplatform/Mobile_App/WeChat_Login/Development_Guide.html)ÔºåËøôÈáåÁöÑÂÆûÁé∞Â∞±ÊòØÊéàÊùÉÁ†ÅÊ®°Âºè„ÄÇ\n\n### ÈöêÂºèÊéàÊùÉÊ®°Âºè\n\n![ÈöêÂºèÊéàÊùÉÊ®°ÂºèÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-implicit-grant.jpg)\n\nÈöêÂºèÊéàÊùÉÊ®°ÂºèÂ§ßËá¥ÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö\n\n1. Client SideÔºöÁî®Êà∑+ÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´ØÁöÑ‰∫§‰∫í\n2. Check Access TokenÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í + ËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í\n\nÊï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÂÆ¢Êà∑Á´ØËÆ©Áî®Êà∑ÁôªÂΩïÊéàÊùÉÊúçÂä°Á´ØÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê\n\n**Client Side ÂÆ¢Êà∑Á´ØËÆ©Áî®Êà∑ÁôªÂΩïÊéàÊùÉÊúçÂä°Á´ØÊç¢ Token**\n\n1. ÂÆ¢Êà∑Á´ØÔºàÊµèËßàÂô®ÊàñÂçïÈ°µÂ∫îÁî®ÔºâÂ∞Ü `client_id + ÊéàÊùÉÊ®°ÂºèÊ†áËØÜÔºàgrant_typeÔºâ+ ÂõûË∞ÉÂú∞ÂùÄÔºàredirect_urlÔºâ` ÊãºÊàê URL ËÆøÈóÆÊéàÊùÉÊúçÂä°Á´Ø\n2. ÊéàÊùÉÊúçÂä°Á´ØË∑≥ËΩ¨Áî®Êà∑ÁôªÂΩïÁïåÈù¢ÔºåÁî®Êà∑ÁôªÂΩï\n3. Áî®Êà∑ÊéàÊùÉ\n4. ÊéàÊùÉÊúçÂä°Á´Ø `ËÆøÈóÆÂõûË∞ÉÂú∞ÂùÄ` ËøîÂõû Token ÁªôÂÆ¢Êà∑Á´Ø\n\n**Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê**\n\n1. ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥ÈôÑÂ∏¶ Token ËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø\n2. ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ\n3. ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê\n\n### ÂØÜÁ†ÅÊ®°Âºè\n\n![ÂØÜÁ†ÅÊ®°ÂºèÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-resource-owner-password-credentials-grant.jpg)\n\nÂØÜÁ†ÅÊ®°ÂºèÁöÑÊéàÊùÉÊµÅÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö\n\n1. Client SideÔºöÁî®Êà∑‰∏éÂÆ¢Êà∑Á´ØÁöÑ‰∫§‰∫íÔºåÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´ØÁöÑ‰∫§‰∫í\n2. Check Access Token'ÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í + ËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í\n\nÊï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÁî®Êà∑Âú®ÂÆ¢Êà∑Á´ØÊèê‰∫§Ë¥¶Âè∑ÂØÜÁ†ÅÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê\n\n**Client Server Áî®Êà∑Âú®ÂÆ¢Êà∑Á´ØÊèê‰∫§Ë¥¶Âè∑ÂØÜÁ†ÅÊç¢Âèñ Token**\n\n1. ÂÆ¢Êà∑Á´ØË¶ÅÊ±ÇÁî®Êà∑ÁôªÂΩï\n2. Áî®Êà∑ËæìÂÖ•ÂØÜÁ†ÅÔºåÂÆ¢Êà∑Á´ØÂ∞ÜË°®Âçï‰∏≠Ê∑ªÂä†ÂÆ¢Êà∑Á´ØÁöÑ `client_id + client_secret` ÂèëÈÄÅÁªôÊéàÊùÉÊúçÂä°Á´ØÈ¢ÅÂèë Token ‰ª§Áâå\n3. ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™åÁî®Êà∑Âêç„ÄÅÁî®Êà∑ÂØÜÁ†Å„ÄÅ`client_id` Âíå `client_secret`ÔºåÂùáÈÄöËøáÂêéËøîÂõû Token ÁªôÂÆ¢Êà∑Á´Ø\n4. ÂÆ¢Êà∑Á´Ø‰øùÂ≠ò Token\n\n**Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê**\n\n1. ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥Â∏¶‰∏ä TokenÔºåËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø\n2. ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ\n3. ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê\n\n### ÂÆ¢Êà∑Á´ØÊ®°Âºè\n\n![ÂÆ¢Êà∑Á´ØÊ®°ÂºèÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-client-credentials-grant.jpg)\n\nÂÆ¢Êà∑Á´ØÊ®°ÂºèÁöÑÊéàÊùÉÊµÅÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö\n\n1. Server SideÔºöÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í\n2. Check Access Token'ÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´ØÔºåËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í\n\nÊï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÂÆ¢Êà∑Á´Ø‰ΩøÁî®Ëá™Â∑±ÁöÑÊ†áËØÜÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê\n\n**Client Server ÂÆ¢Êà∑Á´Ø‰ΩøÁî®Ëá™Â∑±ÁöÑÊ†áËØÜÊç¢Âèñ Token**\n\n1. ÂÆ¢Êà∑Á´Ø‰ΩøÁî® `client_id + client_secret + ÊéàÊùÉÊ®°ÂºèÊ†áËØÜ` ÂèëÈÄÅÁªôÊéàÊùÉÊúçÂä°Á´ØÈ¢ÅÂèë Token ‰ª§Áâå\n2. ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™åÈÄöËøáÂêéËøîÂõû Token ÁªôÂÆ¢Êà∑Á´Ø\n3. ÂÆ¢Êà∑Á´Ø‰øùÂ≠ò Token\n\n**Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê**\n\n1. ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥Â∏¶‰∏ä TokenÔºåËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø\n2. ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ\n3. ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê\n\n### ÊéàÊùÉÊ®°ÂºèÈÄâÂûã\n\nËÄÉËôëÂà∞ÊéàÊùÉÂú∫ÊôØÁöÑÂ§öÊ†∑ÊÄßÔºåÂèØ‰ª•ÂèÇËÄÉ‰ª•‰∏ã‰∏§ÁßçÈÄâÂûãÊñπÂºèÔºö\n\n- ÊåâÊéàÊùÉÈúÄË¶ÅÁöÑÂ§öÁ´ØÊÉÖÂÜµ\n- ÊåâÂÆ¢Êà∑Á´ØÁ±ªÂûã‰∏éÊâÄÊúâËÄÖ\n\nÊåâÊéàÊùÉÈúÄË¶ÅÁöÑÂ§öÁ´ØÊÉÖÂÜµÔºö\n\n| Ê®°Âºè                              | ÈúÄË¶ÅÂâçÁ´Ø | ÈúÄË¶ÅÂêéÁ´Ø | ÈúÄË¶ÅÁî®Êà∑ÂìçÂ∫î | ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÂØÜÈí• |\n| :-------------------------------- | :------- | :------- | :----------- | :------------- |\n| ÊéàÊùÉÁ†ÅÊ®°Âºè Authorization Code     | ‚úì        | ‚úì        | ‚úì            | ‚úì              |\n| ÈöêÂºèÊéàÊùÉÊ®°Âºè Implicit Grant       | ‚úì        | ‚úó        | ‚úì            | ‚úó              |\n| ÂØÜÁ†ÅÊéàÊùÉÊ®°Âºè Password Grant       | ‚úì        | ‚úì        | ‚úì            | ‚úì              |\n| ÂÆ¢Êà∑Á´ØÊéàÊùÉÊ®°Âºè Client Credentials | ‚úó        | ‚úì        | ‚úó            | ‚úì              |\n\nÊåâÁÖßÂÆ¢Êà∑Á´ØÁ±ªÂûã‰∏éËÆøÈóÆ‰ª§ÁâåÊâÄÊúâËÄÖÂàÜÁ±ªÔºö\n\n![OAuth2.0 Ê®°ÂºèÈÄâÂûã](https://img.mrsingsing.com/authentication-oauth2-mode-selection.jpg)\n\n## ËÅîÂêàÁôªÂΩï\n\nËÅîÂêàÁôªÂΩïÊåáÂêåÊó∂ÂåÖÂê´Â§öÁßçÂá≠ËØÅÊ†°È™åÁöÑÁôªÂΩïÊúçÂä°ÔºåÂêåÊó∂Ôºå‰πüÂèØ‰ª•ÁêÜËß£‰∏∫‰ΩøÁî®Á¨¨‰∏âÊñπÂá≠ËØÅËøõË°åÊ†°È™åÁöÑÁôªÂΩïÊúçÂä°„ÄÇËøô‰∏™Ê¶ÇÂøµÊúâÁÇπÂÉè OAuth2.0 ÁöÑËÆ§ËØÅÊñπÂºè„ÄÇ\n\nÊúÄÁªèÂÖ∏ÁöÑËé´Ëøá‰∫é APP ÂÜÖÂµå H5 ÁöÑ‰ΩøÁî®Âú∫ÊôØÔºåÂΩìÁî®Êà∑‰ªé APP ËøõÂÖ•ÂÜÖÂµåÁöÑ H5 Êó∂ÔºåÊàë‰ª¨Â∏åÊúõ APP ÂÜÖÂ∑≤ÁôªÂΩïÁöÑÁî®Êà∑ËÉΩÂ§üËÆøÈóÆÂà∞ H5 ÂÜÖÂèóÈôêÁöÑËµÑÊ∫êÔºåËÄåÊú™ÁôªÂΩïÁöÑÁî®Êà∑ÂàôÈúÄË¶ÅÁôªÂΩïÂêéËÆøÈóÆ„ÄÇ\n\nËøôÈáåÊÄùË∑Ø‰∏ªË¶ÅÊúâ‰∏§ÁßçÔºå‰∏ÄÁßçÊòØÂéüÁîüË∑≥ËΩ¨ÂÜÖÂµå H5 È°µÈù¢Êó∂ÔºåÂ∞ÜÁôªÂΩïÊÄÅ Token ÈôÑÂä†Âú® URL ÂèÇÊï∞‰∏äÔºåÂè¶‰∏ÄÁßçÂàôÊòØÂÜÖÂµå H5 ‰∏ªÂä®ÈÄöËøá‰∏éÂéüÁîüÂÆ¢Êà∑Á´ØÂà∂ÂÆöÁöÑÂçèËÆÆËé∑ÂèñÂ∫îÁî®ÂÜÖÁöÑÁôªÂΩïÁä∂ÊÄÅ„ÄÇ\n\n## Êâ´Á†ÅÁôªÂΩï\n\n‰∫åÁª¥Á†Å‰πüÁß∞‰∏∫‰∫åÁª¥Êù°Á†ÅÔºåÊòØÊåáÂú®‰∏ÄÁª¥Êù°Á†ÅÁöÑÂü∫Á°Ä‰∏äÊâ©Â±ïÂá∫Âè¶‰∏ÄÁª¥ÂÖ∑ÊúâÂèØËØªÊÄßÁöÑÊù°Á†ÅÔºå‰ΩøÁî®ÈªëÁôΩÁü©ÂΩ¢ÂõæÊ°àË°®Á§∫‰∫åËøõÂà∂Êï∞ÊçÆÔºåË¢´ËÆæÂ§áÊâ´ÊèèÂêéÂèØËé∑ÂèñÂÖ∂‰∏≠ÊâÄÂåÖÂê´ÁöÑ‰ø°ÊÅØ„ÄÇ‰∏ÄÁª¥Êù°Á†ÅÁöÑÂÆΩÂ∫¶ËÆ∞ËΩΩÁùÄÊï∞ÊçÆÔºåËÄåÂÖ∂ÈïøÂ∫¶Ê≤°ÊúâËÆ∞ËΩΩÊï∞ÊçÆ„ÄÇ‰∫åÁª¥Á†ÅÁöÑÈïøÂ∫¶„ÄÅÂÆΩÂ∫¶ÂùáËÆ∞ËΩΩÁùÄÊï∞ÊçÆ„ÄÇ‰∫åÁª¥Á†ÅÊúâ‰∏ÄÁª¥Êù°Á†ÅÊ≤°ÊúâÁöÑ **ÂÆö‰ΩçÁÇπ\\*- Âíå **ÂÆπÈîôÊú∫Âà∂\\*\\*„ÄÇÂÆπÈîôÊú∫Âà∂Âú®Âç≥‰ΩøÊ≤°ÊúâËØÜÂà´Âà∞ÂÖ®ÈÉ®ÁöÑÊù°Á†Å„ÄÅÊàñÊòØËØ¥Êù°Á†ÅÊúâÊ±°ÊçüÊó∂Ôºå‰πüÂèØ‰ª•Ê≠£Á°ÆÂú∞ËøòÂéüÊù°Á†Å‰∏äÁöÑ‰ø°ÊÅØ„ÄÇ\n\nÊâ´Á†ÅÁôªÂΩïÈÄöÂ∏∏ËßÅ‰∫éÁßªÂä®Á´Ø APP ‰∏≠ÔºåÂü∫Êú¨Êìç‰ΩúÊµÅÁ®ãÊòØËÆ©Â∑≤ÁôªÂΩïÁî®Êà∑‰∏ªÂä®Êâ´Êèè‰∫åÁª¥Á†ÅÔºå‰ª•‰Ωø PC Á´ØÁöÑÂêåÊ¨æÂ∫îÁî®Âæó‰ª•Âø´ÈÄüÁôªÂΩïÁöÑÊñπÂºèÔºåÂ∏∏ËßÅÁöÑÂÖ∑Â§áÊâ´Á†ÅÁôªÂΩïÁöÑÂ∫îÁî®ÊúâÂæÆ‰ø°„ÄÅÈíâÈíâ„ÄÅÊîØ‰ªòÂÆùÁ≠â„ÄÇ\n\n![Êâ´Á†ÅÁôªÂΩïÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-scan-qrcode-login-workflow.jpg)\n\nÊâ´Á†ÅÁôªÂΩïÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™Èò∂ÊÆµÔºöÂæÖÊâ´Á†Å„ÄÅÂ∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§ÂíåÂ∑≤Á°ÆËÆ§„ÄÇ\n\n### ÂæÖÊâ´Á†ÅÈò∂ÊÆµ\n\n**ÂæÖÊâ´Á†ÅÈò∂ÊÆµ**Âç≥‰∏äËø∞ÊµÅÁ®ãÂõæ‰∏≠ 1~5 ÁöÑÈò∂ÊÆµÔºå‰∫¶Âç≥ÁîüÊàê‰∫åÁª¥Á†ÅÈò∂ÊÆµÔºåËøô‰∏™Èò∂ÊÆµ‰∏éÁßªÂä®Á´ØÊ≤°ÊúâÂÖ≥Á≥ªÔºå‰∏ªË¶ÅÊòØ PC Á´Ø‰∏éÊúçÂä°Á´ØËøõË°å‰∫§‰∫íÁöÑËøáÁ®ã„ÄÇ\n\nÈ¶ñÂÖà PC Á´ØÊê∫Â∏¶ËÆæÂ§á‰ø°ÊÅØÂêëÊúçÂä°Á´ØÂèëËµ∑‰∫ÜÁîüÊàê‰∫åÁª¥Á†ÅËØ∑Ê±ÇÔºåÊúçÂä°Á´ØÊé•Êî∂Âà∞ËØ∑Ê±ÇÂêéÁîüÊàê `UUID` ‰Ωú‰∏∫‰∫åÁª¥Á†Å IDÔºåÂπ∂Â∞Ü UUID ‰∏é `PC Á´ØÁöÑËÆæÂ§á‰ø°ÊÅØ` ÂÖ≥ËÅîËµ∑Êù•Â≠òÂÇ®Âú® Redis ÊúçÂä°Âô®‰∏≠ÔºåÁÑ∂ÂêéËøîÂõûÁªô PC Á´Ø„ÄÇ\n\nÂΩì PC Á´ØÊî∂Âà∞‰∫åÁª¥Á†Å ID ‰πãÂêéÔºåÂ∞Ü‰∫åÁª¥Á†Å ID ‰ª• `‰∫åÁª¥Á†ÅÁöÑÂΩ¢Âºè` Â±ïÁ§∫ÔºåÁ≠âÂæÖÁßªÂä®Á´ØÊâ´Á†Å„ÄÇÊ≠§Êó∂ PC Á´ØÂºÄÂßãËΩÆËØ¢Êü•ËØ¢‰∫åÁª¥Á†ÅÁä∂ÊÄÅÔºåÁõ¥Âà∞ÁôªÂΩïÊàêÂäü„ÄÇÂΩìÁÑ∂Èô§‰∫Ü‰ΩøÁî®ËΩÆËØ¢Êü•ËØ¢Ôºå‰πüËÉΩ‰ΩøÁî® WebSocket ÂÆûÁé∞Êü•ËØ¢/Êé®ÈÄÅ‰∫åÁª¥Á†ÅÁä∂ÊÄÅÁöÑÈúÄÊ±Ç„ÄÇÂ¶ÇÊûúÁßªÂä®Á´ØÊú™Êâ´ÊèèÔºåÈÇ£‰πà‰∏ÄÊÆµÊó∂Èó¥Âêé‰∫åÁª¥Á†Å‰ºöËá™Âä®Â§±Êïà„ÄÇ\n\n### Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ\n\n**Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ**‰∫¶Âç≥ÊµÅÁ®ãÂõæ‰∏≠ÁöÑ 6~10 ÁöÑÈò∂ÊÆµÔºåÂú® PC Á´ØÁôªÂΩïÂæÆ‰ø°Êó∂ÔºåÊâãÊú∫Êâ´Á†ÅÂêéÔºåPC Á´ØÁöÑ‰∫åÁª¥Á†Å‰ºöÊòæÁ§∫‰∏∫Â∑≤Êâ´Á†ÅÔºåÂπ∂ÊèêÁ§∫ÈúÄË¶ÅÂú®ÊâãÊú∫‰∏äÁ°ÆËÆ§ÔºåËøô‰∏™Èò∂ÊÆµÊòØÁßªÂä®Á´Ø‰∏éÊúçÂä°Á´Ø‰∫§‰∫íÁöÑËøáÁ®ã„ÄÇ\n\nÁßªÂä®Á´ØÊâ´Êèè‰∫åÁª¥Á†ÅÂêéÔºå‰ºöËá™Âä®Ëé∑ÂèñÂà∞‰∫åÁª¥Á†Å IDÔºåÂπ∂Â∞ÜÁßªÂä®Á´ØÁôªÂΩïÁöÑ‰ø°ÊÅØÂá≠ËØÅÔºàTokenÔºâÂíå‰∫åÁª¥Á†Å ID ‰Ωú‰∏∫ÂèÇÊï∞ÂèëÈÄÅÁªôÊúçÂä°Á´ØÔºåÊ≠§Êó∂ÊâãÊú∫ÂøÖÈ°ªÊòØÂ∑≤ÁôªÂΩïÔºà‰ΩøÁî®Êâ´ÊèèÁôªÂΩïÁöÑÂâçÊèêÊòØÁßªÂä®Á´ØÁöÑÂ∫îÁî®‰∏∫Â∑≤ÁôªÂΩïÁä∂ÊÄÅÔºåËøôÊ†∑ÊâçÂèØ‰ª•ÂÖ±‰∫´ÁôªÂΩïÊÄÅÔºâ„ÄÇ\n\nÊúçÂä°Á´ØÊé•ÂèóËØ∑Ê±ÇÂêéÔºå‰ºöÂ∞Ü `Token ‰∏é‰∫åÁª¥Á†Å ID` ÂÖ≥ËÅîÔºå‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂÖ≥ËÅîÂë¢ÔºüÂõ†‰∏∫ÔºåÂΩìÊàë‰ª¨Âú®‰ΩøÁî®ÂæÆ‰ø°Êó∂ÔºåÁßªÂä®Á´ØÈÄÄÂá∫Êó∂ÔºåPC Á´Ø‰πüÂ∫îËØ•Èöè‰πãÈÄÄÂá∫ÁôªÂΩïÔºåËøô‰∏™ÂÖ≥ËÅîÂ∞±Ëµ∑Âà∞Ëøô‰∏™‰ΩúÁî®„ÄÇÁÑ∂Âêé‰ºöÁîüÊàê‰∏Ä‰∏™‰∏ÄÊ¨°ÊÄß TokenÔºåËøô‰∏™ Token ‰ºöËøîÂõûÁªôÁßªÂä®Á´ØÔºå‰∏ÄÊ¨°ÊÄß Token Áî®‰ΩúÁ°ÆËÆ§Êó∂ÁöÑÂá≠ËØÅ„ÄÇ\n\nPC Á´ØËΩÆËØ¢Âà∞‰∫åÁª¥Á†ÅÁöÑÁä∂ÊÄÅÂ∑≤ÁªèÂèëÁîüÂèòÂåñÔºå‰ºöÂ∞Ü PC Á´ØÁöÑ‰∫åÁª¥Á†ÅÊõ¥Êñ∞‰∏∫Â∑≤Êâ´ÊèèÔºåËØ∑Á°ÆËÆ§„ÄÇ\n\n### Â∑≤Á°ÆËÆ§Èò∂ÊÆµ\n\n**Â∑≤Á°ÆËÆ§Èò∂ÊÆµ**‰∏∫ÊµÅÁ®ãÂõæ‰∏≠ÁöÑÊ≠•È™§ 11~15ÔºåËøôÊòØÊâ´Á†ÅÁôªÂΩïÁöÑÊúÄÂêéÈò∂ÊÆµÔºåÁî®Êà∑Á°ÆËÆ§ÁôªÂΩïÔºåÁßªÂä®Á´ØÊê∫Â∏¶‰∏ä‰∏ÄÊ≠•‰∏≠Ëé∑ÂèñÁöÑ `‰∏¥Êó∂ Token` ÂèëÈÄÅÁªôÊúçÂä°Á´ØÊ†°È™å„ÄÇÊúçÂä°Á´ØÊ†°È™åÂÆåÊàêÂêéÔºå‰ºöÊõ¥Êñ∞‰∫åÁª¥Á†ÅÁä∂ÊÄÅÔºåÂπ∂‰∏îÁªô PC Á´ØÁîüÊàê‰∏Ä‰∏™ `Ê≠£ÂºèÁöÑ Token`ÔºåÂêéÁª≠ PC Á´ØÂ∞±ÊòØÊåÅÊúâËøô‰∏™ Token ËÆøÈóÆÊúçÂä°Á´Ø„ÄÇ\n\nPC Á´ØÁöÑÂÆöÊó∂Âô®ÔºåËΩÆËØ¢Âà∞‰∫åÁª¥Á†ÅÁä∂ÊÄÅ‰∏∫Â∑≤ÁôªÂΩïÁä∂ÊÄÅÔºåÂπ∂‰∏î‰ºöËé∑ÂèñÂà∞‰∫ÜÁîüÊàêÁöÑ TokenÔºåÂÆåÊàêÁôªÂΩïÔºåÂêéÁª≠ËÆøÈóÆÈÉΩÂü∫‰∫é Token ÂÆåÊàê„ÄÇ\n\nÂú®ÊúçÂä°Á´Ø‰ºöË∑üÁßªÂä®Á´Ø‰∏ÄÊ†∑ÔºåÁª¥Êä§ÁùÄ Token Ë∑ü‰∫åÁª¥Á†Å„ÄÅPC ËÆæÂ§á‰ø°ÊÅØ„ÄÅË¥¶Âè∑Á≠â‰ø°ÊÅØ„ÄÇ\n\n## ‰∏ÄÈîÆÁôªÂΩï\n\nÊúÄ‰º†ÁªüÁöÑÁôªÂΩïÊñπÂºèËé´Ëøá‰∫éÊèê‰æõË¥¶Âè∑ÂØÜÁ†ÅÊ†°È™åÔºå‰ΩÜËøôÊØ´Êó†ÁñëÈóÆÈúÄË¶ÅÊ∂àËÄóÁî®Êà∑ÁöÑËÆ∞ÂøÜÊàêÊú¨„ÄÇÈöèÁùÄÊó†Á∫ø‰∫íËÅîÁöÑÂèëÂ±ï‰ª•ÂèäÊâãÊú∫Âç°ÂÆûÂêçÂà∂ÁöÑÊé®ÂπøÔºåÊâãÊú∫Âè∑‰ø®ÁÑ∂Â∑≤Êàê‰∏∫ÁâπÂà´ÁöÑË∫´‰ªΩËØÅÊòéÔºå‰∏éË¥¶Âè∑ÂØÜÁ†ÅÁõ∏ÊØîÔºåÊâãÊú∫Âè∑ÂèØ‰ª•Êõ¥Â•ΩÂú∞È™åËØÅÁî®Êà∑ÁöÑË∫´‰ªΩÔºåÈò≤Ê≠¢ÊÅ∂ÊÑèÊ≥®ÂÜå„ÄÇ\n\n‰ΩÜÊòØÊâãÊú∫Âè∑Ê≥®ÂÜåËøòÊòØÈúÄË¶Å‰∏ÄÁ≥ªÂàóÁπÅÁêêÁöÑÊìç‰ΩúÔºöËæìÂÖ•ÊâãÊú∫Âè∑„ÄÅÁ≠âÂæÖÁü≠‰ø°È™åËØÅÁ†Å„ÄÅËæìÂÖ•È™åËØÅÁ†Å„ÄÅÁÇπÂáªÁôªÂΩï„ÄÇÊï¥‰∏™ÊµÅÁ®ãÂ∞ëËØ¥‰∫åÂçÅÁßíÔºåËÄå‰∏îÂ¶ÇÊûúÊî∂‰∏çÂà∞Áü≠‰ø°Ôºå‰πüÂ∞±ÁôªÂΩïË°•‰∫ÜÔºåËøôÁ±ªÈóÆÈ¢òÊúâÂèØËÉΩÂØºËá¥ÊΩúÂú®ÁöÑÁî®Êà∑ÊµÅÂ§±„ÄÇ\n\nÁü≠‰ø°È™åËØÅÁ†ÅÁöÑ‰ΩúÁî®Â∞±ÊòØËØÅÊòéÂΩìÂâçÊìç‰ΩúÈ°µÈù¢ÁöÑÁî®Êà∑‰∏éËæìÂÖ•ÊâãÊú∫Âè∑ÁöÑÁî®Êà∑‰∏∫Áõ∏ÂêåÁöÑ‰∫∫ÔºåÈÇ£‰πàÂÆûÈôÖ‰∏äÂè™Ë¶ÅÊàë‰ª¨ËÉΩÂ§üËé∑ÂèñÂà∞ÂΩìÂâçÊâãÊú∫ÁöÑÊâãÊú∫Âè∑Âπ∂‰∏éËæìÂÖ•ÁöÑÊâãÊú∫Âè∑ÂØπÊØîÂåπÈÖçÂêé‰æøËÉΩËææÂà∞Ê†°È™åÁöÑÂäüËÉΩ„ÄÇ‰ΩÜÊòØÔºåÊó†ËÆ∫ÊòØÂéüÁîü APP ËøòÊòØ H5 ÁΩëÈ°µÈÉΩÊòØ‰∏çÂÖ∑Â§áÁõ¥Êé•Ëé∑ÂèñÁî®Êà∑ÊâãÊú∫Âè∑ÁöÑÂäüËÉΩÁöÑÔºåËÄåËøôÁßçÈúÄÊ±ÇËøêËê•ÂïÜËÉΩÂ§üÈÄöËøáÊâãÊú∫ SIM Âç°ÁöÑÊµÅÈáèÊï∞ÊçÆÊü•ËØ¢„ÄÇÈöèÁùÄËøêËê•ÂïÜÂºÄÊîæ‰∫ÜÁõ∏ÂÖ≥ÁöÑÊúçÂä°ÔºåÊàë‰ª¨ËÉΩÂ§üÊé•ÂÖ•ËøêËê•ÂïÜÊèê‰æõÁöÑ SDK Âπ∂‰ªòË¥π‰ΩøÁî®Áõ∏ÂÖ≥ÁöÑÊúçÂä°„ÄÇ\n\n‰∏ãÂõæ‰∏∫‰∏ÄÈîÆÁôªÂΩïÁöÑÊµÅÁ®ãÂõæÔºö\n\n![‰∏ÄÈîÆÁôªÂΩïÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-one-click-login-workflow.png)\n\n‰∏ªË¶ÅÊ≠•È™§Ôºö\n\n1. SDK ÂàùÂßãÂåñÔºöË∞ÉÁî® SDK ÊñπÊ≥ïÔºå‰º†ÂÖ•Âπ≥Âè∞ÈÖçÁΩÆÁöÑ AppKey Âíå AppSecret\n2. Âî§Ëµ∑ÊéàÊùÉÈ°µÔºöË∞ÉÁî® SDK Âî§Ëµ∑ÊéàÊùÉÊé•Âè£ÔºåSDK ‰ºöÂÖàÂêëËøêËê•ÂïÜÂèëËµ∑Ëé∑ÂèñÊâãÊú∫Âè∑Êé©Á†ÅÁöÑËØ∑Ê±ÇÔºåËØ∑Ê±ÇÊàêÂäüÂêéË∑≥Âà∞ÊéàÊùÉÈ°µ„ÄÇÊéàÊùÉÈ°µ‰ºöÊòæÁ§∫ÊâãÊú∫Âè∑Êé©Á†Å‰ª•ÂèäËøêËê•ÂïÜÂçèËÆÆÁªôÁî®Êà∑Á°ÆËÆ§„ÄÇ\n3. ÂêåÊÑèÊéàÊùÉÂπ∂ÁôªÂΩïÔºöÁî®Êà∑ÂêåÊÑèÁõ∏ÂÖ≥ÂçèËÆÆÔºåÁÇπÂáªÊéàÊùÉÈ°µÈù¢ÁöÑÁôªÂΩïÊåâÈíÆÔºåSDK ‰ºöËØ∑Ê±ÇÊú¨Ê¨°ÂèñÂè∑ÁöÑ TokenÔºåËØ∑Ê±ÇÊàêÂäüÂêéÂ∞Ü Token ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø\n4. ÂèñÂè∑ÔºöÂ∞ÜËé∑ÂèñÂà∞ÁöÑ Token ÂèëÈÄÅÂà∞Ëá™Â∑±ÁöÑÊúçÂä°Âô®ÔºåÁî±ÊúçÂä°Á´ØÊê∫Â∏¶ Token Ë∞ÉÁî®ËøêËê•ÂïÜ‰∏ÄÈîÆÁôªÂΩïÁöÑÊé•Âè£ÔºåË∞ÉÁî®ÈôàÂ∑•Â∞±ËøîÂõûÊâãÊú∫Âè∑Á†Å„ÄÇÊúçÂä°Á´ØÁî®ÊâãÊú∫Âè∑ËøõË°åÁôªÂΩïÊàñÊ≥®ÂÜåÊìç‰ΩúÔºåËøîÂõûÊìç‰ΩúÁªìÊûúÁªôÂÆ¢Êà∑Á´ØÔºåÂÆåÊàê‰∏ÄÈîÆÁôªÂΩï„ÄÇ\n\nÁî±‰∫éÂõΩÂÜÖ‰∏âÂ§ßËøêËê•ÂïÜÂêÑËá™ÊúâÁã¨Á´ãÁöÑ SDKÔºåÊâÄ‰ª•‰ºöÂØºËá¥ÂÖºÂÆπÊñπÈù¢ÁöÑÂ∑•‰Ωú‰ºöÁâπÂà´ÁπÅÁêê„ÄÇÂ¶ÇÊûúË¶ÅÈááÁî®‰∏ÄÈîÆÁôªÂΩïÁöÑÊñπÊ°àÔºå‰∏çÂ¶®ÈááÁî®Á¨¨‰∏âÊñπÊèê‰æõ‰∫ÜÂè∑Á†ÅËÆ§ËØÅÊúçÂä°Ôºå‰∏ãÂàóÂá†ÂÆ∂‰æõÂ∫îÂïÜÈÉΩÊã•ÊúâÊâãÊú∫Âè∑Á†ÅËÆ§ËØÅËÉΩÂäõÔºö\n\n- [ÈòøÈáå - Âè∑Á†ÅËÆ§ËØÅÊúçÂä°](https://help.aliyun.com/product/75010.html)\n- [ÂàõËìù - Èó™È™å](http://shanyan.253.com/)\n- [ÊûÅÂÖâ - ÊûÅÂÖâËÆ§ËØÅ](https://www.jiguang.cn/identify)\n- [mob - ÁßíÈ™å](https://www.mob.com/mobService/secverify)\n\nÂú®ËÆ§ËØÅËøáÁ®ã‰∏≠ÔºåÈúÄË¶ÅÁî®Êà∑ÊâìÂºÄËúÇÁ™ùÁΩëÁªúÔºåÂ¶ÇÊûúÊâãÊú∫ËÆæÂ§áÊ≤°ÊúâÊèíÂÖ• SIM Âç°„ÄÅÊàñËÄÖÂÖ≥Èó≠ËúÇÁ™ùÁΩëÁªúÁöÑÊÉÖÂÜµ‰∏ãÔºåÊòØÊó†Ê≥ïÂÆåÊàêËÆ§ËØÅÁöÑ„ÄÇÊâÄ‰ª•Â∞±ÁÆóÊé•ÂÖ•‰∏ÄÈîÆÁôªÂΩïÔºåËøòÊòØË¶ÅÂÖºÂÆπ‰º†ÁªüÁöÑÁôªÂΩïÊñπÂºèÔºåÂÖÅËÆ∏Áî®Êà∑Âú®Â§±Ë¥•ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ªçËÉΩÊ≠£Â∏∏ÂÆåÊàêÁôªÂΩïÊµÅÁ®ã„ÄÇ\n\n## ÊÄªÁªì\n\nÈâ¥ÊùÉÊéàÊùÉÊòØËÆ°ÁÆóÊú∫È¢ÜÂüüÊó†Ê≥ïË∫≤ÈÅøÁöÑÊäÄÊúØËÆÆÈ¢òÔºåËÆ§ËØÅ„ÄÅÊéàÊùÉ„ÄÅÈâ¥ÊùÉÂíåÊùÉÈôêÊéßÂà∂ÊòØÂõ¥ÁªïËøô‰∏™ËÆÆÈ¢òÁöÑÂá†‰∏™ÂÖ≥ÈîÆÊ¶ÇÂøµÔºöËÆ§ËØÅÔºàIdentificationÔºâÊòØÊåáÊ†πÊçÆÂ£∞ÊòéËÄÖÊèê‰æõÁöÑËµÑÊñôÔºåÁ°ÆËÆ§Â£∞ÊòéËÄÖË∫´‰ªΩÔºõÊéàÊùÉÔºàAuthorizationÔºâÂàôÊòØËµÑÊ∫êÊâÄÊúâËÄÖÂßîÊ¥æÊâßË°åËÄÖÔºåËµã‰∫àÊâßË°åËÄÖÊåáÂÆöËåÉÂõ¥ÁöÑËµÑÊ∫êÊìç‰ΩúÊùÉÈôêÔºå‰ª•‰æøÊâßË°åËÄÖ‰ª£ÁêÜÊâßË°åÂØπËµÑÊ∫êÁöÑÁõ∏ÂÖ≥Êìç‰ΩúÔºõÈâ¥ÊùÉÔºàAuthenticationÔºâÊåáÁöÑÂØπÂ£∞ÊòéËÄÖÊâÄÂ£∞ÊòéÁöÑÁúüÂÆûÊÄßËøõË°åÊ†°È™å„ÄÇ‰ªéÊéàÊùÉËßíÂ∫¶Âá∫ÂèëÔºå‰ºöÊõ¥Âä†ÂÆπÊòìÁêÜËß£Èâ¥ÊùÉ„ÄÇÊéàÊùÉÂíåÈâ¥ÊùÉÊòØ‰∏§‰∏™‰∏ä‰∏ãÊ∏∏Áõ∏ÂåπÈÖçÁöÑÂÖ≥Á≥ªÔºåÂÖàÊéàÊùÉÔºåÂêéÈâ¥ÊùÉ„ÄÇ\n\n- Authorization ÂÜ≥ÂÆö‰Ω†ÊòØÂê¶ÊúâÊùÉÈôêÂéªËé∑ÂèñËµÑÊ∫ê\n- Authentication Ê†°È™å‰Ω†ËØ¥‰Ω†ÊòØË∞Å\n\n```\nÊéàÊùÉ -> Èâ¥ÊùÉ -> ÊùÉÈôêÊéßÂà∂\n```\n\nËä±‰∫Ü‰∏ÄÂë®Êó∂Èó¥Â∞ÜÁôªÂΩïÈâ¥ÊùÉÊéàÊùÉÊñπÈù¢ÁöÑÁü•ËØÜÊÄªÁªì‰∫Ü‰∏ÄÁï™ÔºåÁ°ÆËÆ§ÂØπÂêÑÁßçÊñπÊ°àÁöÑÂÆûÊñΩÁªÜËäÇÔºå‰ª•ÂèäËÆæËÆ°ÂéüÁêÜ„ÄÅÊñπÊ°à‰ºòÂä£ÈÉΩÊúâ‰∫ÜÊõ¥Ê∑±‰∏ÄÂ±ÇÁöÑ‰∫ÜËß£ÔºåÂú®Â≠¶‰π†ÁöÑËøáÁ®ã‰∏≠‰∏çÂÖç‰ºöËÅîÊÉ≥Âà∞Êó†ËÆ∫ÊòØÁîüÊ¥ª‰∏≠ÂêÑÁßçÁ±ª‰ººÁöÑÂú∫ÊôØÔºå‰πü‰ºöÊÉ≥Âà∞ËÆ°ÁÆóÊú∫È¢ÜÂüü‰∏≠ËØ∏Â¶Ç Linux Á≥ªÁªü„ÄÅÊï∞ÊçÆÂ∫ìÁ≠âÊùÉÈôêÊéßÂà∂Áõ∏ÂÖ≥Êú∫Âà∂„ÄÇËøôÊòØ‰∏™ËûçÊ±áË¥ØÈÄöÁöÑÂ≠¶‰π†ËøáÁ®ãÔºåÂèëÁé∞ËøôÁßçÈíàÂØπÊüê‰∏™ËÆÆÈ¢òÁöÑ‰ΩìÁ≥ªÂºèÊï¥ÁêÜÔºåÂØπÂâçÁ´ØÊäÄÊúØ‰ΩìÁ≥ª‰∏≠ÂêÑ‰∏™Áã¨Á´ãÁöÑÁÇπËøûÈÄöËµ∑Âà∞‰∫Ü‰∏çÈîôÁöÑÊïàÊûú„ÄÇ\n\n---\n\n**ÂèÇËÄÉËµÑÊñôÔºö**\n\n- [üìñ WikipediaÔºöBasic Access Authentication](https://en.wikipedia.org/wiki/Basic_access_authentication)\n- [üìñ HTTP Ë∫´‰ªΩÈ™åËØÅ Authentication](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Authentication)\n- [üìñ RFC 7019 - JSON Web TokenÔºàJWTÔºâ](https://tools.ietf.org/html/rfc7519)\n- [üìñ CAS ÂÆòÊñπÊñáÊ°£](https://apereo.github.io/cas/4.2.x/index.html)\n- [üìù ‰∏ÄÊñáËØªÊáÇ HTTP Basic Ë∫´‰ªΩËÆ§ËØÅ](https://juejin.im/entry/5ac175baf265da239e4e3999)\n- [üìù ‰Ω†Âú®Áî® JWT ‰ª£Êõø SessionÔºü](https://zhuanlan.zhihu.com/p/43527568)\n- [üìù Áî®Êà∑ËÆ§ËØÅÔºöÂü∫‰∫é JWT Âíå Session ÁöÑÂå∫Âà´Âíå‰ºòÁº∫ÁÇπ](https://juejin.im/post/5cefad23e51d4510774a87f4#heading-4)\n- [üìù JWT Ë∫´‰ªΩËÆ§ËØÅ‰ºòÁº∫ÁÇπÂàÜÊûê‰ª•ÂèäÂ∏∏ËßÅÈóÆÈ¢òËß£ÂÜ≥ÊñπÊ°à](https://zhuanlan.zhihu.com/p/85873228)\n- [üìù ÂâçÁ´ØÈúÄË¶Å‰∫ÜËß£ÁöÑ SSO ‰∏é CAS Áü•ËØÜ](https://juejin.im/post/5a002b536fb9a045132a1727)\n- [üìù ‰∏çÂä°Ê≠£‰∏öÁöÑÂâçÁ´Ø‰πã SSOÔºàÂçïÁÇπÁôªÂΩïÔºâÂÆûË∑µ](https://juejin.im/post/5b51f39b5188251a9f24a264)\n- [üìù Èù¢ËØïÈ¢òÔºöÁªôÊàëËØ¥‰∏Ä‰∏ã‰Ω†È°πÁõÆ‰∏≠ÁöÑÂçïÁÇπÁôªÂΩïÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑ](https://zhuanlan.zhihu.com/p/102898335)\n- [üìù ÂçïÁÇπÁôªÂΩïÁ≥ªÁªü](https://zhuanlan.zhihu.com/p/60376970)\n- [üìù ÂçïÁÇπÁôªÂΩïÂéüÁêÜ‰∏éÁÆÄÂçïÂÆûÁé∞](https://www.cnblogs.com/ywlaker/p/6113927.html)\n- [üìù ÂçïÁÇπÁôªÂΩï LDAP ÂçèËÆÆ](https://zhuanlan.zhihu.com/p/92263756)\n- [üìù ‰ø°‰ªªÁôªÂΩï‰∏éËÅîÂêàÁôªÂΩïÊúâ‰ªÄ‰πàÂ∑ÆÂºÇÔºü](https://www.zhihu.com/question/21387523)\n- [üìù OAuth2.0 Ê∑±ÂÖ•‰∫ÜËß£Ôºö‰ª•ÂæÆ‰ø°ÂºÄÂèëÂπ≥Âè∞Áªü‰∏ÄÁôªÂΩï‰∏∫‰æã](https://juejin.im/entry/5a93506e6fb9a0634c268da8)\n- [üìù OAuth 2.0 Ê¶ÇÂøµÂèäÊéàÊùÉÊµÅÁ®ãÊ¢≥ÁêÜ](https://www.cnblogs.com/hellxz/p/oauth2_process.html)\n- [üìù ËÆ∫ H5 ÂµåÂÖ• APP ÁöÑËÅîÂêàÁôªÂΩïÁöÑËß£ÂÜ≥ÊñπÊ°à](https://juejin.im/post/5d15d3336fb9a07efb69994f)\n- [üìù ËÅä‰∏ÄËÅä‰∫åÁª¥Á†ÅÊâ´ÊèèÁôªÂΩïÂéüÁêÜ](https://juejin.im/post/5e83e716e51d4546c27bb559)\n- [üìù ÈòøÈáåÈù¢ËØïÂÆòÔºöÂàÜÂà´ËØ¥ËØ¥ÂæÆ‰ø°ÂíåÊ∑òÂÆùÊâ´Á†ÅÁôªÂΩïËÉåÂêéÁöÑÂÆûÁé∞ÂéüÁêÜ](https://mp.weixin.qq.com/s/gA0JQp4j2ym9qOyQkC3qkA)\n- [üìù Áî®Êà∑‰∏ÄÈîÆÁôªÂΩïÔºåÂ¶Ç‰ΩïÂÆûÁé∞](https://juejin.im/post/5d197adff265da1bb31c4fa9)\n- [üìù ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏ãÁöÑÈâ¥ÊùÉÔºåÊÄé‰πàÂÅöÊõ¥‰ºòÈõÖÔºü](https://learnku.com/articles/30704)\n- [üìù ËÆ§ËØÅ„ÄÅÊéàÊùÉ„ÄÅÈâ¥ÊùÉÂíåÊùÉÈôêÊéßÂà∂](http://www.hyhblog.cn/2018/04/25/user_login_auth_terms/)\n","source":"_posts/authentication.md","raw":"---\ntitle: ÂâçÁ´ØÂºÄÂèëÁôªÂΩïÈâ¥ÊùÉÊñπÊ°àÂÆåÂÖ®Ê¢≥ÁêÜ\ndate: '2020-06-25'\n---\n\nÁôªÂΩïÈâ¥ÊùÉÊòØ‰∫íËÅîÁΩë‰ø°ÊÅØ‰∫§‰∫í‰∏≠Ê∞∏ÊÅíÁöÑËØùÈ¢òÔºåÊØïÁ´üÂú®Â∑•‰Ωú‰∏≠Âá†‰πéÊØèÂ§©ÈÉΩ‰ºöÊé•Ëß¶Âà∞ÔºåÈÄÇÈÄ¢ÊúÄËøëÈúÄË¶ÅÂØπÁé∞ÊúâÁöÑÁ≥ªÁªüÂπ≥Âè∞ËøõË°å SSO ÁöÑÊµÅÁ®ãÊîπÈÄ†ÔºåÊâÄ‰ª•Ë∂ÅËøô‰∏™Êú∫‰ºöÂ•ΩÂ•ΩÊÄªÁªìÂâçÁ´ØÂ∑•Á®ãÂ∏àÊé•Ëß¶Âà∞ÁöÑÁôªÂΩïÊñπÂºè„ÄÇ\n\nÈâ¥ÊùÉ‰πüÂè´Ë∫´‰ªΩÈ™åËØÅÔºàAuthenticationÔºâÔºåÊòØÊåáÈ™åËØÅÁî®Êà∑ÊòØÂê¶Êã•ÊúâËÆøÈóÆÁ≥ªÁªüÁöÑÊùÉÂà©„ÄÇÂú®Êó•Â∏∏ÁöÑÁîüÊ¥ª‰∏≠ÔºåË∫´‰ªΩÈ™åËØÅÈöèÂ§ÑÂèØËßÅÔºåÊØîÂ¶ÇÔºöËøõÂÖ•È´òÈìÅÁ´ôÂÄôËΩ¶ÂÆ§„ÄÅÊú∫Âú∫ÂÄôÊú∫Ê•ºÈúÄË¶ÅÊ£ÄÊü•Á•®ÊçÆÂíåË∫´‰ªΩËØÅ‰ª∂ÔºõÊ∏∏Áé©‰∏ªÈ¢ò‰πêÂõ≠„ÄÅÂêçËÉúÈ£éÊôØÂå∫ÈúÄË¶ÅË¥≠‰π∞Èó®Á•®ÔºåÂπ∂Áî±ÂÖ•Âè£Â§Ñ‰∫∫ÂëòÈâ¥ÂÆöÊúâÊïàÂêéÊñπÂèØÊã•ÊúâËøõÂÖ•Âõ≠Âå∫Ê∏∏Áé©ÁöÑÊùÉÂà©„ÄÇ\n\nËÄåÂú®ËÆ°ÁÆóÊú∫È¢ÜÂüü‰∏≠ÔºåË∫´‰ªΩÈ™åËØÅÁöÑÊñπÊ≥ïÊúâÂæàÂ§öÁßçÔºöÂü∫‰∫éÂÖ±‰∫´ÂØÜÈí•ÁöÑË∫´‰ªΩÈ™åËØÅ„ÄÅÂü∫‰∫éÁîüÁâ©Â≠¶ÁâπÂæÅÁöÑË∫´‰ªΩÈ™åËØÅÂíåÂü∫‰∫éÂÖ¨ÂºÄÂØÜÈí•Âä†ÂØÜÁÆóÊ≥ïÁöÑË∫´‰ªΩÈ™åËØÅ„ÄÇ‰∏çÂêåÁöÑË∫´‰ªΩÈ™åËØÅÊñπÊ≥ïÔºåÂÆâÂÖ®ÊÄß‰πüÂêÑËá™‰∏çÂêå„ÄÇ\n\n‰∏ãÈù¢ÊàëÂ∞Ü‰ªéÂâçÁ´ØÂºÄÂèëÂ∑•Á®ãÂ∏àÁöÑËßíÂ∫¶Âá∫ÂèëÔºåÊ¢≥ÁêÜ Web Â∫îÁî®ÂâçÂêéÁ´ØÊï∞ÊçÆ‰∫§‰∫í‰∏≠ÁöÑÂêÑÁßçÈâ¥ÊùÉÊñπÊ°à„ÄÇ\n\n<!-- more -->\n\n‰ª•‰∏ã‰∏∫Êú¨ÊñáÂ§ßÁ∫≤Ôºö\n\n- HTTP Âü∫Êú¨ËÆ§ËØÅ\n- Session-Cookie ËÆ§ËØÅ\n  - koa-session\n- Token ËÆ§ËØÅ\n  - JWT ËÆ§ËØÅ\n  - koa-jwt\n- OAuth2 ÂºÄÊîæÊéàÊùÉ\n- SSO ÂçïÁÇπÁôªÂΩï\n- LDAP ËÆ§ËØÅÁôªÂΩï\n- Êâ´Á†ÅÁôªÂΩï\n- ËÅîÂêàÁôªÂΩï\n- ‰ø°‰ªªÁôªÂΩï\n- ÊòìÊ∑∑Ê∑ÜÊ¶ÇÂøµÂàÜÊûê\n\n## HTTP Âü∫Êú¨ËÆ§ËØÅ\n\nÂú® HTTP ‰∏≠ÔºåÂü∫Êú¨ËÆ§ËØÅÊñπÊ°àÔºàBasic Access AuthenticationÔºâÊòØÂÖÅËÆ∏ HTTP Áî®Êà∑‰ª£ÁêÜÔºàÈÄöÂ∏∏ÊåáÁöÑÂ∞±ÊòØÁΩëÈ°µÊµèËßàÂô®ÔºâÂú®ËØ∑Ê±ÇÊó∂ÔºåÈÄöËøáÁî®Êà∑Êèê‰æõÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÁöÑÊñπÂºèÔºåÂÆûÁé∞ÂØπÁî®Êà∑Ë∫´‰ªΩÁöÑÈ™åËØÅ„ÄÇ\n\nÂü∫Êú¨ËÆ§ËØÅ‰∏≠ÔºåÊúÄÂÖ≥ÈîÆÁöÑÊòØÂõõ‰∏™Ë¶ÅÁ¥†Ôºö\n\n1. `uid`ÔºöÁî®Êà∑ÁöÑ IDÔºå‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑÁî®Êà∑Âêç\n2. `password`ÔºöÂØÜÁ†Å\n3. `realm`ÔºöÈ¢ÜÂüüÔºåÂÖ∂ÂÆûÂ∞±ÊòØÊåáÂΩìÂâçËÆ§ËØÅÁöÑ‰øùÊä§ËåÉÂõ¥\n\nÂú®ËøõË°åÂü∫Êú¨ËÆ§ËØÅÁöÑËøáÁ®ã‰∏≠ÔºåHTTP ÁöÑËØ∑Ê±ÇÂ§¥Â≠óÊÆµ‰ºöÂåÖÂê´ Authorization Â≠óÊÆµÔºå`Authorization: Basic <Áî®Êà∑Âá≠ËØÅ>`ÔºåËØ•Áî®Êà∑Âá≠ËØÅÊòØ `Áî®Êà∑Âêç` Âíå `ÂØÜÁ†Å` ÁöÑÁªÑÂêàËÄåÊàêÁöÑ **Base64 ÁºñÁ†Å**„ÄÇ\n\n```\nGET /securefiles/ HTTP/1.1\nHost: www.example.com\nAuthorization: Basic aHR0cHdhdGNoOmY=\n```\n\n![HTTP Âü∫Êú¨ËÆ§ËØÅÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-http-basic-access-authentication.jpg)\n\n1. Áî®Êà∑Âú®ÊµèËßàÂô®‰∏≠ËÆøÈóÆ‰∫ÜÂèóÈôêÂà∂ÁöÑÁΩëÈ°µËµÑÊ∫êÔºå‰ΩÜÊòØÊ≤°ÊúâÊèê‰æõÁî®Êà∑ÁöÑË∫´‰ªΩ‰ø°ÊÅØ\n2. ÊúçÂä°Á´ØÊé•Êî∂Âà∞ËØ∑Ê±ÇÂêéËøîÂõû 401 Â∫îÁ≠îÁ†ÅÔºàUnauthorizedÔºåÊú™Ë¢´ÊéàÊùÉÁöÑÔºâË¶ÅÊ±ÇËøõË°åË∫´‰ªΩÈ™åËØÅÔºåÂπ∂ÈôÑÂ∏¶Êèê‰æõ‰∫Ü‰∏Ä‰∏™ËÆ§ËØÅÂüüÔºàAccess AuthenticationÔºâ`WWW-Authenticate` ËØ¥ÊòéÂ¶Ç‰ΩïËøõË°åÈ™åËØÅÁöÑÊñπÊ≥ïÔºå‰æãÂ¶Ç `WWW-Authenticate: Basic realm=\"Secure Area\"`Ôºå`Basic` Â∞±ÊòØÈ™åËØÅÁöÑÊ®°ÂºèÔºåËÄå `realm=\"Secure Area\"` Âàô‰∏∫‰øùÊä§ÂüüÔºàÂëäÁü•ËÆ§ËØÅÁöÑËåÉÂõ¥ÔºâÔºåÁî®‰∫é‰∏éÂÖ∂‰ªñËØ∑Ê±Ç URI ‰ΩúÂå∫Âà´\n3. ÊµèËßàÂô®Êî∂Âà∞Â∫îÁ≠îÂêéÔºå‰ºöÊòæÁ§∫ËØ•ËÆ§ËØÅÂüüÁªôÁî®Êà∑Âπ∂ÊèêÁ§∫ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÊ≠§Êó∂Áî®Êà∑ÂèØ‰ª•ÈÄâÊã©ÂΩïÂÖ•‰ø°ÊÅØÂêéÁ°ÆÂÆöÊàñÂèñÊ∂àÊìç‰Ωú\n4. Áî®Êà∑ËæìÂÖ•‰∫ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂêéÔºåÊµèËßàÂô®‰ºöÂú®ÂéüËØ∑Ê±ÇÂ§¥Êñ∞Â¢ûËÆ§ËØÅÊ∂àÊÅØÂ≠óÊÆµ `Authorization` Âπ∂ÈáçÊñ∞ÂèëÈÄÅËØ∑Ê±ÇÔºåËøáÁ®ãÂ¶Ç‰∏ãÔºö\n\n- Â∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊãºÊé•‰∏∫ `Áî®Êà∑Âêç:ÂØÜÁ†Å` Ê†ºÂºèÁöÑÂ≠óÁ¨¶‰∏≤\n- Â¶ÇÊûúÊúçÂä°Âô® `WWW-Authenticate` Â≠óÊÆµÊúâÊåáÂÆöÁºñÁ†ÅÔºåÂàôÂ∞ÜÂ≠óÁ¨¶‰∏≤ÁºñËØëÊàêÂØπÂ∫îÁöÑÁºñÁ†Å\n- Â∞ÜÂ≠óÁ¨¶‰∏≤ÁºñÁ†Å‰∏∫ Base64\n- ÊãºÊé• `Basic`ÔºåËÆæÁΩÆ‰∏∫ `Authorization` Â≠óÊÆµÔºåÂÅáËÆæÁî®Êà∑Âêç‰∏∫ `admin`ÔºåÂØÜÁ†Å‰∏∫ `password`ÔºåÂàôÊãºÊé•Âêé‰∏∫ `admin:password`Ôºå‰ΩøÁî® Base64 ÁºñÁ†ÅÂêé‰∏∫ `YWRtaW46cGFzc3dvcmQ=`ÔºåÈÇ£‰πàÊúÄÁªàÂú® HTTP Â§¥ÈÉ®Èáå‰ºöÊòØËøôÊ†∑Ôºö`Authorization: Basic YWRtaW46cGFzc3dvcmQ=`\n\n```js\nBuffer.from('admin:password').toString('base64');\n// YWRtaW46cGFzc3dvcmQ=\n```\n\n5. ÊúçÂä°Á´ØÊé•Êî∂‰∫ÜËØ•ËÆ§ËØÅÂêéÂπ∂ËøîÂõû‰∫ÜÁî®Êà∑ËØ∑Ê±ÇÁöÑÁΩëÈ°µËµÑÊ∫ê„ÄÇÂ¶ÇÊûúÁî®Êà∑Âá≠ËØÅÈùûÊ≥ïÊàñÊó†ÊïàÔºåÊúçÂä°Âô®ÂèØËÉΩ‰ºöÂÜçÊ¨°ËøîÂõû 401 Â∫îÁ≠îÁ†ÅÔºåÂÆ¢Êà∑Á´ØÂ∞±ÈúÄË¶ÅÂÜçÊ¨°ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†Å\n\nÊúçÂä°Á´ØÈ™åËØÅÁöÑÊ≠•È™§Ôºö\n\n1. Ê†πÊçÆÁî®Êà∑ËØ∑Ê±ÇËµÑÊ∫êÁöÑÂú∞ÂùÄÔºåÁ°ÆÂÆöËµÑÊ∫êÂØπÂ∫îÁöÑ `realm`\n2. Ëß£Êûê Authorization ËØ∑Ê±ÇÈ¶ñÈÉ®ÔºåËé∑ÂæóÁî®Êà∑ÂêçÂíåÂØÜÁ†Å\n3. Âà§Êñ≠Áî®Êà∑ÊòØÂê¶ÊúâËÆøÈóÆËØ• `realm` ÁöÑÊùÉÈôê\n4. È™åËØÅÁî®Êà∑Âêç„ÄÅÂØÜÁ†ÅÊòØÂê¶ÂåπÈÖç\n\n> ÂΩìÁÑ∂Ôºå‰πüÊúâÂèØËÉΩÂú®È¶ñÊ¨°ËØ∑Ê±Ç‰∏≠ÔºåÂú®ËØ∑Ê±ÇÂ§¥ÈôÑÂ∏¶‰∫ÜËÆ§ËØÅÊ∂àÊÅØÂ§¥ÔºåÈÇ£‰πàÂ∞±‰∏çÈúÄË¶ÅÂÜç‰ΩúË∫´‰ªΩ‰ø°ÊÅØÁöÑÂΩïÂÖ•Ê≠•È™§\n\n‰ºòÁÇπÔºö\n\n- ÂîØ‰∏ÄÁöÑ‰ºòÁÇπÊòØÂÆûÁé∞ÁÆÄÂçïÔºåË¢´ÂπøÊ≥õÊîØÊåÅ\n\nÁº∫ÁÇπÔºö\n\n- Áî±‰∫éÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊòØ‰ª•ÊòéÊñáÁöÑÂΩ¢ÂºèÂú®ÁΩëÁªú‰∏≠ËøõË°å‰º†ËæìÔºåÂÆπÊòìË¢´ÂóÖÊé¢Âô®Êé¢ÊµãÂà∞ÔºåÊâÄ‰ª•Âü∫Êú¨È™åËØÅÊñπÊ°àÂπ∂‰∏çÂÆâÂÖ®\n- Èô§Ê≠§‰πãÂ§ñÔºåBase64 ÁºñÁ†ÅÂπ∂ÈùûÂä†ÂØÜÁÆóÊ≥ïÔºåÂÖ∂Êó†Ê≥ï‰øùËØÅÂÆâÂÖ®‰∏éÈöêÁßÅÔºåËøôÈáå‰ªÖÁî®‰∫éÂ∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†Å‰∏≠ÁöÑ‰∏çÂÖºÂÆπÁöÑÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫Âùá‰∏é HTTP ÂçèËÆÆÂÖºÂÆπÁöÑÂ≠óÁ¨¶ÈõÜ\n- Âç≥‰ΩøËÆ§ËØÅÂÜÖÂÆπÊó†Ê≥ïË¢´Ëß£Á†Å‰∏∫ÂéüÂßãÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å‰πüÊòØ‰∏çÂÆâÂÖ®ÁöÑÔºåÊÅ∂ÊÑèÁî®Êà∑ÂèØ‰ª•ÂÜçËé∑Âèñ‰∫ÜËÆ§ËØÅÂÜÖÂÆπÂêé‰ΩøÁî®ÂÖ∂‰∏çÊñ≠ÁöÑ‰∫´ÊúçÂä°Âô®ÂèëËµ∑ËØ∑Ê±ÇÔºåËøôÂ∞±ÊòØÊâÄË∞ìÁöÑÈáçÊîæÊîªÂáª\n- ËØ•ÊñπÊ°àÈô§‰∫ÜÂ≠òÂú®ÂÆâÂÖ®Áº∫Èô∑Â§ñÔºåBasic ËÆ§ËØÅËøòÂ≠òÂú®Êó†Ê≥ïÂêäÈîÄËÆ§ËØÅÁöÑÊÉÖÂÜµ\n\n> HTTP ÁöÑÂü∫Êú¨È™åËØÅÊñπÊ°àÂ∫î‰∏é HTTPS / TLS ÂçèËÆÆÊê≠ÈÖç‰ΩøÁî®„ÄÇÂä†ÂÖ•Ê≤°ÊúâËøô‰∫õÂÆâÂÖ®ÊñπÈù¢ÁöÑÂ¢ûÂº∫ÔºåÈÇ£‰πàÂü∫Êú¨È™åËØÅÊñπÊ°à‰∏çÂ∫îËØ•Ë¢´Áî®Êù•‰øùÊä§ÊïèÊÑüÊàñËÄÖÊûÅÂÖ∑‰ª∑ÂÄºÁöÑ‰ø°ÊÅØ„ÄÇ\n\nÂ∫îÁî®Âú∫ÊôØÔºöÂÜÖÈÉ®ÁΩëÁªúÔºåÊàñËÄÖÂØπÂÆâÂÖ®Ë¶ÅÊ±Ç‰∏çÊòØÂæàÈ´òÁöÑÁΩëÁªú\n\n## Session-Cookie ËÆ§ËØÅ\n\n`Session-Cookie` ËÆ§ËØÅÊòØÂà©Áî®ÊúçÂä°Á´ØÁöÑ SessionÔºà‰ºöËØùÔºâÂíåÊµèËßàÂô®ÔºàÂÆ¢Êà∑Á´ØÔºâÁöÑ Cookie Êù•ÂÆûÁé∞ÁöÑÂâçÂêéÁ´ØÈÄö‰ø°ËÆ§ËØÅÊ®°Âºè„ÄÇ\n\nÁî±‰∫é HTTP ËØ∑Ê±ÇÊó∂ÊòØÊó†Áä∂ÊÄÅÁöÑÔºåÊúçÂä°Á´ØÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊó†Ê≥ïÂæóÁü•ËØ∑Ê±ÇÂèëÈÄÅËÄÖÁöÑË∫´‰ªΩÔºåËøô‰∏™Êó∂ÂÄôÊàë‰ª¨Â¶ÇÊûúË¶ÅËÆ∞ÂΩïÁä∂ÊÄÅÔºåÂ∞±ÈúÄË¶ÅÂú®ÊúçÂä°Á´ØÂàõÂª∫ Session ‰ºöËØùÔºåÂ∞ÜÁõ∏ÂêåÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÈÉΩÁª¥Êä§Âú®ÂêÑËá™ÁöÑ‰ºöËØùËÆ∞ÂΩï‰∏≠ÔºåÊØèÂΩìËØ∑Ê±ÇÂà∞ËææÊúçÂä°Á´ØÊó∂ÔºåÂÖàÊ†°È™åËØ∑Ê±Ç‰∏≠ÁöÑÁî®Êà∑Ê†áËØÜÊòØÂê¶Â≠òÂú®‰∫é Session ‰∏≠ÔºåÂ¶ÇÊûúÊúâÂàôË°®Á§∫Â∑≤ÁªèËÆ§ËØÅÊàêÂäüÔºåÂê¶ÂàôË°®Á§∫ËÆ§ËØÅÂ§±Ë¥•„ÄÇ\n\nCookie ‰∏ªË¶ÅÁî®‰∫é‰ª•‰∏ã‰∏â‰∏™ÊñπÈù¢Ôºö\n\n- ‰ºöËØùÁä∂ÊÄÅÁÆ°ÁêÜÔºàÂ¶ÇÁî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ„ÄÅË¥≠Áâ©ËΩ¶„ÄÅÊ∏∏ÊàèÂàÜÊï∞ÊàñÂÖ∂‰ªñÈúÄË¶ÅËÆ∞ÂΩïÁöÑ‰ø°ÊÅØÔºâ\n- ‰∏™ÊÄßÂåñËÆæÁΩÆÔºàÂ¶ÇÁî®Êà∑Ëá™ÂÆö‰πâËÆæÁΩÆ„ÄÅ‰∏ªÈ¢òÁ≠âÔºâ\n- ÊµèËßàÂô®Ë°å‰∏∫ËøΩË∏™ÔºàÂ¶ÇË∑üË∏™ÂàÜÊûêÁî®Êà∑Ë°å‰∏∫Á≠âÔºâ\n\n‰∏ãÂõæ‰∏∫ Session-Cookie ËÆ§ËØÅÁöÑÂ∑•‰ΩúÊµÅÁ®ãÂõæÔºö\n\n![Session-Cookie ËÆ§ËØÅÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-session-cookie.jpg)\n\n1. ÊúçÂä°Á´ØÂú®Êé•Êî∂Âà∞Êù•Ëá™ÂÆ¢Êà∑Á´ØÁöÑÈ¶ñÊ¨°ËÆøÈóÆÊó∂Ôºå‰ºöËá™Âä®ÂàõÂª∫ SessionÔºàÂ∞Ü Session ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠Ôºå‰πüÂèØ‰ª•‰øùÂ≠òÂú® Redis ‰∏≠ÔºâÔºåÁÑ∂ÂêéÁªôËøô‰∏™ Session ÁîüÊàê‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÊ†áËØÜÂ≠óÁ¨¶‰∏≤‰ºöËØùË∫´‰ªΩÂá≠ËØÅ `session_id`ÔºàÈÄöÂ∏∏Áß∞‰∏∫ `sid`ÔºâÔºåÂπ∂Âú®ÂìçÂ∫îÂ§¥ `Set-Cookie` ‰∏≠ËÆæÁΩÆËøô‰∏™ÂîØ‰∏ÄÊ†áËØÜÁ¨¶\n2. Á≠æÂêçÔºåÂØπ `sid` ËøõË°åÂä†ÂØÜÂ§ÑÁêÜÔºåÊúçÂä°Á´Ø‰ºöÊ†πÊçÆËøô‰∏™ `secret` ÂØÜÈí•ËøõË°åËß£ÂØÜÔºàÈùûÂøÖÈúÄÊ≠•È™§Ôºâ\n3. ÊµèËßàÂô®Êî∂Âà∞ËØ∑Ê±ÇÂìçÂ∫îÂêé‰ºöËß£ÊûêÂìçÂ∫îÂ§¥ÔºåÂπ∂Ëá™Âä®Â∞Ü `sid` ‰øùÂ≠òÂú®Êú¨Âú∞ Cookie ‰∏≠ÔºåÊµèËßàÂô®Âú®‰∏ãÊ¨° HTTP ËØ∑Ê±ÇÊó∂ËØ∑Ê±ÇÂ§¥‰ºöËá™Âä®ÈôÑÂ∏¶‰∏äËØ•ÂüüÂêç‰∏ãÁöÑ Cookie ‰ø°ÊÅØ\n4. ÊúçÂä°Á´ØÂú®Êé•Êî∂ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊó∂‰ºöÂéªËß£ÊûêËØ∑Ê±ÇÂ§¥ Cookie ‰∏≠ÁöÑ `sid`ÔºåÁÑ∂ÂêéÊ†πÊçÆËøô‰∏™ `sid` ÂéªÊâæÊúçÂä°Á´Ø‰øùÂ≠òÁöÑËØ•ÂÆ¢Êà∑Á´ØÁöÑ `sid`ÔºåÁÑ∂ÂêéÂà§Êñ≠ËØ•ËØ∑Ê±ÇÊòØÂê¶ÂêàÊ≥ï\n5. ‰∏ÄÊó¶Áî®Êà∑ÁôªÂá∫ÔºåÊúçÂä°Á´ØÂíåÊµèËßàÂô®Â∞Ü‰ºöÂêåÊó∂ÈîÄÊØÅÂêÑËá™‰øùÂ≠òÁöÑ‰ºöËØù IDÔºåÊúçÂä°Á´Ø‰ºöÊ†πÊçÆÊï∞ÊçÆÂ∫ìÈ™åËØÅ‰ºöËØùË∫´‰ªΩÂá≠ËØÅÔºåÂ¶ÇÊûúÈ™åËØÅÈÄöËøáÔºåÂàôÁªßÁª≠Â§ÑÁêÜ\n\n> ‚ö†Ô∏è Ê≥®ÊÑèÔºåËøôÈáåÁõ∏ÂØπ‰∫é‰ΩøÁî®ÊúçÂä°Á´ØÔºåÂú®Âè¶‰∏ÄÁ´ØÊàë‰ΩøÁî®‰∫Ü `ÊµèËßàÂô®` ËÄåÈùûÂÆ¢Êà∑Á´ØÔºå‰∏ªË¶ÅÊòØÂõ†‰∏∫ Cookie ÊòØ‰ªÖÂú®ÊµèËßàÂô®‰∏≠Â≠òÂú®ÁöÑÊä•ÊñáÂ≠óÊÆµÔºåËØ∏Â¶ÇÁßªÂä®ÂéüÁîü APP ÊòØÊó†Ê≥ïËß£ÊûêÂ≠òÂÇ® Cookie ËØ∑Ê±Ç/ÂìçÂ∫îÂ§¥ÁöÑ„ÄÇ\n\n‰ºòÁÇπÔºö\n\n1. Cookie ÁÆÄÂçïÊòìÁî®ÔºåÂú®‰∏çÂèóÁî®Êà∑Âπ≤È¢ÑÊàñËøáÊúüÂ§ÑÁêÜÁöÑÊÉÖÂÜµ‰∏ãÔºåCookie ÈÄöÂ∏∏ÊòØÂÆ¢Êà∑Á´Ø‰∏äÊåÅÁª≠Êó∂Èó¥ÊúÄÈïøÁöÑÊï∞ÊçÆ‰øùÁïôÂΩ¢Âºè\n2. Session Êï∞ÊçÆÂ≠òÂÇ®Âú®ÊúçÂä°Á´ØÔºåÁõ∏ËæÉ‰∫é JWT Êñπ‰æøËøõË°åÁÆ°ÁêÜÔºå‰πüÂ∞±ÊòØÂΩìÁî®Êà∑ÁôªÂΩïÂíå‰∏ªÂä®Ê≥®ÈîÄÔºåÂè™ÈúÄË¶ÅÊ∑ªÂä†Âà†Èô§ÂØπÂ∫îÁöÑ Session Â∞±ÂèØ‰ª•‰∫ÜÔºåÊñπ‰æøÁÆ°ÁêÜ\n\nÁº∫ÁÇπÔºö\n\n1. ÈùûÂ∏∏‰∏çÂÆâÂÖ®ÔºåCookie Â∞ÜÊï∞ÊçÆÊö¥Èú≤Âú®ÊµèËßàÂô®‰∏≠ÔºåÂ¢ûÂä†‰∫ÜÊï∞ÊçÆË¢´ÁõóÁöÑÈ£éÈô©ÔºàÂÆπÊòìË¢´ CSRF Á≠âÊîªÂáªÔºâ\n2. Session Â≠òÂÇ®Âú®ÊúçÂä°Á´ØÔºåÂ¢ûÂ§ß‰∫ÜÊúçÂä°Á´ØÁöÑÂºÄÈîÄÔºåÁî®Êà∑ÈáèÂ§ßÁöÑÊó∂ÂÄô‰ºöÂ§ßÂ§ßÈôç‰ΩéÊúçÂä°Âô®ÊÄßËÉΩ\n3. Áî®Êà∑ËÆ§ËØÅÂêéÔºåÊúçÂä°Á´ØÂÅöËÆ§ËØÅËÆ∞ÂΩïÔºåÂ¶ÇÊûúËÆ§ËØÅÁöÑËÆ∞ÂΩïË¢´‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËøôÊÑèÂë≥ÁùÄÁî®Êà∑‰∏ãÊ¨°ËØ∑Ê±ÇËøòÂøÖÈ°ªË¶ÅËØ∑Ê±ÇÂú®ËøôÂè∞ÊúçÂä°Âô®‰∏äÔºåËøôÊ†∑ÊâçËÉΩÊãøÂà∞ÊéàÊùÉËµÑÊ∫êÔºåËøôÊ†∑Âú®ÂàÜÂ∏ÉÂºèÁöÑÂ∫îÁî®‰∏äÔºåÁõ∏Â∫îÁöÑÈôêÂà∂‰∫ÜË¥üËΩΩÂùáË°°ÁöÑËÉΩÂäõÔºå‰πüÊÑèÂë≥ÁùÄÈôêÂà∂‰∫ÜÂ∫îÁî®ÁöÑÊâ©Â±ïËÉΩÂäõ\n\n### koa-session\n\nÊ≤°Êúâ‰ª£Á†ÅË∞àÂÜçÂ§öÈÉΩÊòØÁ©∫‰∏≠Ê•ºÈòÅÔºå‰∏ãÈù¢Â∞ùËØïÂú® Koa ‰∏≠‰ΩøÁî® `koa-session2` ‰∏≠Èó¥‰ª∂ÂÆûÁé∞ Session-Cookie ËøôÁßçÈâ¥ÊùÉÊñπÂºè„ÄÇ\n\nÂú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠Ôºå‰∏éÂÆ¢Êà∑Á´ØÁöÑ‰ºöËØù‰ø°ÊÅØÂæÄÂæÄÈúÄË¶ÅÂú®ÊúçÂä°Â§ñÂÜçËÆæÁ´ãÈ¢ùÂ§ñÁöÑÂ§ñÈÉ®Â≠òÂÇ®Êú∫Âà∂ÔºåÂ§ñÈÉ®Â≠òÂÇ®ÂèØ‰ª•ÊòØ‰ªª‰ΩïÁöÑÂ≠òÂÇ®Êú∫Âà∂Ôºå‰æãÂ¶ÇÂÜÖÂ≠òÊï∞ÊçÆÁªìÊûÑÔºå‰πüÂèØ‰ª•ÊòØÊú¨Âú∞ÁöÑÊñá‰ª∂Á≥ªÁªüÔºåÊàñÊòØ‰ΩøÁî®ËØ∏Â¶Ç Redis Á≠â NoSQL Êï∞ÊçÆÂ∫ì„ÄÇ\n\n`koa-session2` Ëá™Ë∫´ÂÆûÁé∞ÁöÑÂ≠òÂÇ®ÊñπÂºè‰∏∫‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåËÄå‰∏ãÈù¢Êàë‰ª¨Â∞±‰ªãÁªç‰∏ÄÁßçÊãìÂ±ï `koa-session2` ÁªìÂêà Redis ÂÆûÁé∞ Session-Cookie ËÆ§ËØÅÊñπÂºèÁöÑÊñπÊ°àÔºö\n\n```js\nconst Redis = require('ioredis');\nconst { Store } = require('koa-session2');\n\nclass RedisStore extends Store {\n  constructor() {\n    super();\n    // ÂàùÂßãÂåñ Redis\n    this.redis = new Redis();\n  }\n\n  // Ê†πÊçÆ sid Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ\n  async get(sid, ctx) {\n    let data = await this.redis.get(`SESSION: ${sid}`);\n    return JSON.parse(data);\n  }\n\n  // Êõ¥Êñ∞ sid ÁöÑÁî®Êà∑‰ø°ÊÅØ\n  async set(session, { sid = this.getID(24), maxAge = 1000000 } = {}, ctx) {\n    try {\n      await this.redis.set(`SESSION: ${sid}`, JSON.stringfy(session));\n    } catch (e) {}\n\n    return sid;\n  }\n\n  // ÈîÄÊØÅ‰ºöËØù‰ø°ÊÅØ\n  async destroy(sid, ctx) {\n    return await this.redis.del(`SESSION: ${sid}`);\n  }\n}\n\nmodule.exports = RedisStore;\n```\n\n```js\n// app.js\nconst Koa = require('koa');\nconst session = require('koa-session2');\nconst Store = require('./Store.js');\n\nconst app = new Koa();\n\napp.use(\n  session({\n    // Áßç‰∏ã Cookie ÁöÑÈîÆÂêç\n    key: 'SESSIONID',\n    // Á¶ÅÊ≠¢ÊµèËßàÂô®‰∏≠ JS ËÑöÊú¨‰øÆÊîπ Cookie\n    httpOnly: true,\n    // Cookie Âä†ÂØÜÁ≠æÂêçÊú∫Âà∂\n    signed: true,\n    store: new Store(),\n  })\n);\n\napp.use(ctx => {\n  // Ignore favicon.ico\n  if (ctx.path === '/favicon.ico') return;\n\n  let user = this.session.user;\n\n  ctx.session.view = 'index';\n});\n\napp.use(ctx => {\n  // Â¶ÇÊûúËÆæÁΩÆ‰∫Ü‰ºöËØùÊúâÊïàÊúüÂà∑Êñ∞‰ºöËØùÊúâÊïàÊúü\n  ctx.session.refresh();\n});\n```\n\nÂú® `koa-session` ‰∏≠‰ºöËØùÊ†áËØÜÁöÑÂÆûÁé∞‰ªÖÊòØÊ†πÊçÆÊó∂Èó¥Êà≥ÁîüÊàêÁöÑÈöèÊú∫Â≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúÊãÖÂøÉ Cookie ‰º†Ëæì‰∏≠Ë¢´ÊÅ∂ÊÑèÁØ°ÊîπÊàñÊö¥Èú≤‰ø°ÊÅØÔºåÂèØ‰ª•ÈÄöËøáÂä†ÂÖ•Êõ¥Â§öÊ†áËØÜÂÖÉÁ¥†Ôºå‰æãÂ¶Ç IP Âú∞ÂùÄ„ÄÅËÆæÂ§á ID Á≠â„ÄÇ\n\nKoa ÁöÑ Cookie ÂÆûÁé∞ÈªòËÆ§Â∏¶‰∫ÜÂÆâÂÖ®Êú∫Âà∂ÔºåÂ∞±ÊòØ `signed` ÈÄâÈ°π‰∏∫ `true` Êó∂Ôºå‰ºöËá™Âä®Áªô Cookie Ê∑ªÂä†‰∏Ä‰∏™ SHA256 ÁöÑÁ≠æÂêçÔºåÁ±ª‰ºº `koa:sess=pjadZtLAVtiO6-Haw1vnZZWrRm8`Ôºå‰ªéËÄåÈò≤Ê≠¢ Cookie Ë¢´ÁØ°Êîπ„ÄÇ\n\nËá≥‰∫éÊãÖÂøÉÁöÑ Session ‰ø°ÊÅØÊ≥ÑÊºèÈóÆÈ¢òÔºå`koa-session` ÂÖÅËÆ∏Áî®Êà∑Ëá™ÂÆö‰πâÁºñËß£Á†ÅÊñπÊ≥ïÔºå‰æãÂ¶ÇÔºö\n\n```js\nconst encode = json => CrytoJS.AES.encrypt(json, 'Secret Passphrase');\n\nconst decode = encrypted => CryptoJS.AES.decrypt(encrypted, 'Secret Passphrase');\n```\n\n`koa-session` ‰∏∫ Koa ÂÆòÊñπÂÆûÁé∞ÁöÑ‰∏≠Èó¥‰ª∂ÔºåÂäüËÉΩÂº∫Â§ßÔºåËÄÉËôëÁöÑÊÉÖÂÜµÊØîËæÉÂ§öÔºåÊâÄ‰ª•ÂÆûÁé∞Áõ∏ÂØπÂ§çÊùÇ„ÄÇ\n\nËÄå `koa-session2` ÊòØÁ§æÂå∫ÂÆûÁé∞ÁöÑ‰∏≠Èó¥‰ª∂ÔºåÁÆÄÊ¥ÅÊòìÁî®„ÄÇÂ¶ÇÊûúÂØπÂÆûÁé∞ÊúâÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶ÂèØ‰ª•Âú® Github ÊâæÂà∞Ê∫êÁ†ÅÈòÖËØª„ÄÇ\n\n- [koa-session](https://github.com/koajs/session)\n- [koa-session2](https://github.com/Secbone/koa-session2)\n- [koa-session Â≠¶‰π†Á¨îËÆ∞](https://segmentfault.com/a/1190000013039187)\n- [koa-session ÁöÑÂÜÖÈÉ®ÂÆûÁé∞](https://www.jianshu.com/p/c1eff1b50d23)\n- [‰ªé koa-session Ê∫êÁ†ÅËß£ËØª session ÂéüÁêÜ](https://juejin.im/post/5c148fd551882530544f341f)\n- [‰ªé koa-session ‰∏≠Èó¥‰ª∂Ê∫êÁ†ÅÂ≠¶‰π† cookie ‰∏é session](https://segmentfault.com/a/1190000012412299)\n\n## Token ËÆ§ËØÅ\n\nÈöèÁùÄ Restful API„ÄÅÂæÆÊúçÂä°ÁöÑÂÖ¥Ëµ∑ÔºåÂü∫‰∫é Token ÁöÑËÆ§ËØÅÁé∞Âú®Â∑≤ÁªèË∂äÊù•Ë∂äÊôÆÈÅç„ÄÇToken Âíå Session-Cookie ËÆ§ËØÅÊñπÂºè‰∏≠ÁöÑ Session ID ‰∏çÂêåÔºåÂπ∂ÈùûÂè™ÊòØ‰∏Ä‰∏™Ê†áËØÜÁ¨¶„ÄÇToken ‰∏ÄËà¨‰ºöÂåÖÂê´ `Áî®Êà∑ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ`ÔºåÈÄöËøáÈ™åËØÅ Token ‰∏ç‰ªÖÂèØ‰ª•ÂÆåÊàêË∫´‰ªΩÊ†°È™åÔºåËøòÂèØ‰ª•Ëé∑ÂèñÈ¢ÑËÆæÁöÑ‰ø°ÊÅØ„ÄÇÂÉè Twitter„ÄÅÂæÆ‰ø°„ÄÅQQ„ÄÅGithub Á≠âÂÖ¨Êúâ API ÈÉΩÊòØÂü∫‰∫éËøôÁßçÊñπÂºèËøõË°åËÆ§ËØÅÁöÑÔºå‰∏Ä‰∫õÂºÄÂèëÊ°ÜÊû∂Â¶Ç OpenStack„ÄÅKubernetes ÂÜÖÈÉ® API Ë∞ÉÁî®‰πüÊòØÂü∫‰∫é Token ÁöÑËÆ§ËØÅ„ÄÇ\n\n![Token ËÆ§ËØÅÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-token-authencation.jpg)\n\nÂü∫‰∫é Token ÁöÑË∫´‰ªΩÈ™åËØÅÊñπÊ≥ïÔºö\n\n1. Áî®Êà∑ËæìÂÖ•ÁôªÂΩï‰ø°ÊÅØÂπ∂ËØ∑Ê±ÇÁôªÂΩï\n2. ÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÔºåÈ™åËØÅÁî®Êà∑ËæìÂÖ•ÁöÑÁôªÂΩï‰ø°ÊÅØ\n3. È™åËØÅÊàêÂäüÂêéÔºåÊúçÂä°Á´Ø‰ºö `Á≠æÂèë`‰∏Ä‰∏™ TokenÔºàÈÄöÂ∏∏ÂåÖÂê´Áî®Êà∑Âü∫Á°Ä‰ø°ÊÅØ„ÄÅÊùÉÈôêËåÉÂõ¥ÂíåÊúâÊïàÊó∂Èó¥Á≠âÔºâÔºåÂπ∂ÊääËøô‰∏™ Token ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø\n4. ÂÆ¢Êà∑Á´ØÊî∂Âà∞ Token ÂêéÈúÄË¶ÅÊääÂÆÉÂ≠òÂÇ®Ëµ∑Êù•ÔºåÊØîÂ¶ÇÊîæÂú® localStorage Êàñ sessionStorage ÈáåÔºà‰∏ÄËà¨‰∏çÊîæ Cookie Âõ†‰∏∫ÂèØËÉΩ‰ºöÊúâË∑®ÂüüÈóÆÈ¢òÔºå‰ª•ÂèäÂÆâÂÖ®ÊÄßÈóÆÈ¢òÔºâ\n5. ÂêéÁª≠ÂÆ¢Êà∑Á´ØÊØèÊ¨°ÂêëÊúçÂä°Á´ØËØ∑Ê±ÇËµÑÊ∫êÁöÑÊó∂ÂÄôÔºåÂ∞Ü Token ÈôÑÂ∏¶‰∫é HTTP ËØ∑Ê±ÇÂ§¥ Authorization Â≠óÊÆµ‰∏≠ÂèëÈÄÅËØ∑Ê±Ç\n6. ÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂéªÊ†°È™åÂÆ¢Êà∑Á´ØËØ∑Ê±Ç‰∏≠ TokenÔºåÂ¶ÇÊûúÈ™åËØÅÊàêÂäüÔºåÂ∞±ÂêëÂÆ¢Êà∑Á´ØËøîÂõûËØ∑Ê±ÇÁöÑÊï∞ÊçÆÔºåÂê¶ÂàôÊãíÁªùËøîËøò\n\n‰ºòÁÇπÔºö\n\n- **ÊúçÂä°Á´ØÊó†Áä∂ÊÄÅ**ÔºöToken Êú∫Âà∂Âú®ÊúçÂä°Á´Ø‰∏çÈúÄË¶ÅÂ≠òÂÇ®‰ºöËØùÔºàSessionÔºâ‰ø°ÊÅØÔºåÂõ†‰∏∫ Token Ëá™Ë∫´ÂåÖÂê´‰∫ÜÂÖ∂ÊâÄÊ†áËØÜÁî®Êà∑ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåËøôÊúâÂà©‰∫éÂú®Â§ö‰∏™ÊúçÂä°Èó¥ÂÖ±‰∫´Áî®Êà∑Áä∂ÊÄÅ\n- **ÊÄßËÉΩÁõ∏ÂØπËæÉÂ•Ω**ÔºöÂõ†‰∏∫Âú®È™åËØÅ Token Êó∂‰∏çÁî®ÂÜçÂéªËÆøÈóÆÊï∞ÊçÆÂ∫ìÊàñËøúÁ®ãÊúçÂä°ËøõË°åÊùÉÈôêÊ†°È™åÔºåËá™ÁÑ∂ÂèØ‰ª•ÊèêÂçá‰∏çÂ∞ëÊÄßËÉΩ\n- ÊîØÊåÅÁßªÂä®ËÆæÂ§á\n- ÊîØÊåÅË∑®ÂüüË∑®Á®ãÂ∫èË∞ÉÁî®ÔºåÂõ†‰∏∫ Cookie ÊòØ‰∏çÂÖÅËÆ∏Ë∑®ÂüüËÆøÈóÆÁöÑÔºåËÄå Token Âàô‰∏çÂ≠òÂú®Ëøô‰∏™ÈóÆÈ¢ò\n- ÊúâÊïàÈÅøÂÖç CSRF ÊîªÂáªÔºàÂõ†‰∏∫‰∏çÈúÄË¶Å CookieÔºâÔºå‰ΩÜÊòØ‰ºöÂ≠òÂú® XSS ÊîªÂáª‰∏≠Ë¢´ÁõóÁöÑÈ£éÈô©Ôºå‰ΩÜÊòØÂèØÈÄâÊã© Token Â≠òÂÇ®Âú®Ê†áËÆ∞‰∏∫ `httpOnly` ÁöÑ Cookie ‰∏≠ÔºåËÉΩÂ§üÊúâÊïàÈÅøÂÖçÊµèËßàÂô®‰∏≠ÁöÑ JS ËÑöÊú¨ÂØπ Cookie ÁöÑ‰øÆÊîπ\n\nÁº∫ÁÇπÔºö\n\n- Âç†Â∏¶ÂÆΩÔºöÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊØî `sid` Êõ¥Â§ßÔºåÊ∂àËÄóÊõ¥Â§öÊµÅÈáèÔºåÊå§Âç†Êõ¥Â§öÂÆΩÂ∏¶\n- ÊÄßËÉΩÈóÆÈ¢òÔºöÁõ∏ÊØîËæÉ‰∫é Session-Cookie ËÆ§ËØÅÊù•ËØ¥ÔºåToken ÈúÄË¶ÅÊúçÂä°Á´ØËä±Ë¥πÊõ¥Â§öÊó∂Èó¥ÂíåÊÄßËÉΩÊù•ÂØπ Token ËøõË°åËß£ÂØÜÈ™åËØÅÔºåÂÖ∂ÂÆû Token Áõ∏ËæÉ‰∫é Session‚ÄîCookie Êù•ËØ¥Â∞±ÊòØ‰∏Ä‰∏™Êó∂Èó¥Êç¢Á©∫Èó¥ÁöÑÊñπÊ°à\n\n> Session-Cookie ËÆ§ËØÅÂíå Token ËÆ§ËØÅÁöÑÊØîËæÉ\n\nSession-Cookie ËÆ§ËØÅÂíå Token ËÆ§ËØÅÊúâÂæàÂ§öÁ±ª‰ººÁöÑÂú∞ÊñπÔºå‰ΩÜÊòØ Token ËÆ§ËØÅÊõ¥ÂÉèÊòØ Session-Cookie ËÆ§ËØÅÁöÑÂçáÁ∫ßÊîπËâØÁâà„ÄÇ\n\nSession-Cookie ËÆ§ËØÅ‰ªÖ‰ªÖÈù†ÁöÑÊòØ `sid` Ëøô‰∏™ÁîüÊàêÁöÑÂîØ‰∏ÄÊ†áËØÜÁ¨¶ÔºåÊúçÂä°Á´ØÈúÄË¶ÅÊ†πÊçÆÂÆ¢Êà∑Á´Ø‰º†Êù•ÁöÑ `sid` Êü•ËØ¢‰øùÂ≠òÂú®ÊúçÂä°Á´Ø Session Èáå‰øùÂ≠òÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂΩìÂ≠òÂÇ®ÁöÑ‰ø°ÊÅØÊï∞ÊçÆÈáèË∂ÖËøá‰∏ÄÂÆöÈáèÊó∂‰ºöÂΩ±ÂìçÊúçÂä°Á´ØÁöÑÂ§ÑÁêÜÊïàËÉΩ„ÄÇËÄå‰∏î Session-Cookie ËÆ§ËØÅÈúÄË¶ÅÈù†ÊµèËßàÂô®ÁöÑ Cookie Êú∫Âà∂ÂÆûÁé∞ÔºåÂ¶ÇÊûúÈÅáÂà∞ÂéüÁîü NativeAPP Êó∂ËøôÁßçÊú∫Âà∂Â∞±‰∏çËµ∑‰ΩúÁî®‰∫ÜÔºåÊàñÊòØÊµèËßàÂô®ÁöÑ Cookie Â≠òÂÇ®ÂäüËÉΩË¢´Á¶ÅÁî®Ôºå‰πüÊòØÊó†Ê≥ï‰ΩøÁî®ËØ•ËÆ§ËØÅÊú∫Âà∂ÂÆûÁé∞Èâ¥ÊùÉÁöÑ„ÄÇ\n\nËÄå Token ËÆ§ËØÅÊú∫Âà∂ÁâπÂà´ÁöÑÊòØÔºåÂÆûË¥®‰∏äÁôªÂΩïÁä∂ÊÄÅÊòØÁî®Êà∑ÁôªÂΩïÂêéÂ≠òÊîæÂú®ÂÆ¢Êà∑Á´ØÁöÑÔºåÊúçÂä°Á´Ø‰∏ç‰ºöÂÖÖÂΩì‰øùÂ≠ò `Áî®Êà∑‰ø°ÊÅØÂá≠ËØÅ` ÁöÑËßíËâ≤ÔºåÂΩìÊØèÊ¨°ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊó∂ÈôÑÂ∏¶ËØ•Âá≠ËØÅÔºåÂè™Ë¶ÅÊúçÂä°Á´ØÊ†πÊçÆÂÆö‰πâÁöÑËßÑÂàôÊ†°È™åÊòØÂê¶ÂåπÈÖçÂíåÂêàÊ≥ïÂç≥ÂèØÔºåÂÆ¢Êà∑Á´ØÂ≠òÂÇ®ÁöÑÊâãÊÆµ‰πü‰∏çÈôê‰∫é CookieÔºåÂèØ‰ª•‰ΩøÁî® Web Storage Á≠âÂÖ∂‰ªñÁºìÂ≠òÊñπÂºè„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåSession-Cookie Êú∫Âà∂ÈôêÂà∂‰∫ÜÂÆ¢Êà∑Á´ØÁöÑÁ±ªÂûãÔºåËÄå Token È™åËØÅÊú∫Âà∂‰∏∞ÂØå‰∫ÜÂÆ¢Êà∑Á´ØÁ±ªÂûã„ÄÇ\n\nÈô§Ê≠§‰πãÂ§ñÔºåToken È™åËØÅÊØîËæÉÁÅµÊ¥ªÔºåÈô§‰∫ÜÂ∏∏ËßÅÁöÑ JWT Â§ñÔºåÂèØ‰ª•Âü∫‰∫é Token ÊûÑÂª∫‰∏ìÈó®Áî®‰∫éÈâ¥ÊùÉÁöÑÂæÆÊúçÂä°ÔºåÁî®ÂÆÉÂêëÂ§ö‰∏™ÊúçÂä°ÁöÑËØ∑Ê±ÇËøõË°åÁªü‰∏ÄÈâ¥ÊùÉ„ÄÇ\n\n### JWT ËÆ§ËØÅ\n\nJWTÔºàJSON Web TokenÔºâÊòØ Auth0 ÊèêÂá∫ÁöÑÈÄöËøáÂØπ JSON ËøõË°åÂä†ÂØÜÁ≠æÂêçÊù•ÂÆûÁé∞ÊéàÊùÉÈ™åËØÅÁöÑÊñπÊ°àÔºåÂ∞±ÊòØÁôªÂΩïÊàêÂäüÂêéÂ∞ÜÁõ∏ÂÖ≥‰ø°ÊÅØÁªÑÊàê JSON ÂØπË±°ÔºåÁÑ∂ÂêéÂØπËøô‰∏™ÂØπË±°ËøõË°åÊüêÁßçÊñπÂºèÁöÑÂä†ÂØÜÔºåËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåÂÆ¢Êà∑Á´ØÂú®‰∏ãÊ¨°ËØ∑Ê±ÇÊó∂Â∏¶‰∏äËøô‰∏™ TokenÔºåÊúçÂä°Á´ØÂÜçÊî∂Âà∞ËØ∑Ê±ÇÊó∂Ê†°È™å token ÂêàÊ≥ïÊÄßÔºåÂÖ∂ÂÆû‰πüÂ∞±ÊòØÂú®Ê†°È™åËØ∑Ê±ÇÁöÑÂêàÊ≥ïÊÄß„ÄÇ\n\nJWT ÊòØ JSON Ê†ºÂºèÁöÑË¢´Âä†ÂØÜ‰∫ÜÁöÑÂ≠óÁ¨¶‰∏≤Ôºö\n\n```\nJSON Data + Signature = JWT\n```\n\nJWT ÂØπË±°ÈÄöÂ∏∏Áî±‰∏âÈÉ®ÂàÜÁªÑÊàêÔºö\n\n1. Â§¥ÈÉ®ÔºàHeadersÔºâÔºöÂåÖÊã¨Á±ªÂà´ÔºàtypÔºâ„ÄÅÂä†ÂØÜÁÆóÊ≥ïÔºàalgÔºâ\n\nÂ§¥ÈÉ®Áî®‰∫éÊèèËø∞ÂÖ≥‰∫éËØ• JWT ÁöÑÊúÄÂü∫Êú¨ÁöÑ‰ø°ÊÅØÔºå‰æãÂ¶ÇÂÖ∂Á±ªÂûã‰ª•ÂèäÁ≠æÂêçÊâÄÁî®ÁöÑÁÆóÊ≥ïÁ≠â„ÄÇ\n\n```json\n{\n  \"alg\": \"HS256\",\n  \"typ\": \"JWT\"\n}\n```\n\nËøôÈáåÊàë‰ª¨ËØ¥Êòé‰∫ÜËøôÊòØ‰∏Ä‰∏™ JWTÔºåÂπ∂‰∏îÊàë‰ª¨ÊâÄ‰ΩøÁî®ÁöÑÁ≠æÂêçÁÆóÊ≥ïÊòØ HS256 ÁÆóÊ≥ï„ÄÇ\n\n2. ClaimsÔºöÂåÖÊã¨ÈúÄË¶Å‰º†ÈÄíÁöÑÁî®Êà∑‰ø°ÊÅØ\n\nËΩΩËç∑ÂèØ‰ª•Áî®Êù•Â≠òÊîæ‰∏Ä‰∫õ‰∏çÊïèÊÑüÁöÑ‰ø°ÊÅØ\n\n```json\n{\n  \"iss\": \"Jehoshaphat Tse\",\n  \"iat\": 1441593502,\n  \"exp\": 1441594722,\n  \"aud\": \"www.example.com\",\n  \"sub\": \"mrsingsing@example.com\",\n  \"name\": \"John Doe\",\n  \"admin\": true\n}\n```\n\nËøôÈáåÈù¢ÁöÑÂâç‰∫î‰∏™Â≠óÊÆµÈÉΩÊòØÁî± JWT ÁöÑÊ†áÂáÜÊâÄÂÆö‰πâÁöÑ:\n\n- `iss`ÔºöËØ• JWT ÁöÑÁ≠æÂèëËÄÖ\n- `sub`ÔºöËØ• JWT ÊâÄÈù¢ÂêëÁöÑÁî®Êà∑\n- `aud`ÔºöÊé•Êî∂ËØ• JWT ÁöÑ‰∏ÄÊñπ\n- `exp`ÔºàexpiresÔºâÔºö‰ªÄ‰πàÊó∂ÂÄôËøáÊúüÔºåËøôÊòØ Unix Êó∂Èó¥Êà≥\n- `iat`Ôºàissued atÔºâÔºöÂú®‰ªÄ‰πàÊó∂ÂÄôÁ≠æÂèëÁöÑ„ÄÇÊääÂ§¥ÈÉ®ÂíåËΩΩËç∑ÂàÜÂà´ËøõË°å Base64 ÁºñÁ†ÅÂêéÂæóÂà∞‰∏§‰∏™Â≠óÁ¨¶‰∏≤ÔºåÁÑ∂ÂêéÂÜçÂ∞ÜËøô‰∏§‰∏™ÁºñÁ†ÅÂêéÁöÑÂ≠óÁ¨¶‰∏≤Áî®Ëã±ÊñáÂè•Âè∑ËøûÊé•Ëµ∑Êù•ÔºàÂ§¥ÈÉ®Âú®ÂâçÔºâÔºåÂΩ¢ÊàêÊñ∞ÁöÑÂ≠óÁ¨¶\n\n3. SignatureÔºö\n\nÊúÄÂêéÔºåÂ∞Ü‰∏äËø∞ÊãºÊé•ÂêéÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÁî® `alg` ÊåáÂÆöÁöÑÁÆóÊ≥ïÔºàHS256Ôºâ‰∏éÁßÅÊúâÂØÜÈí•ÔºàSecretÔºâËøõË°åÂä†ÂØÜ„ÄÇÂä†ÂØÜÂêéÁöÑÂÜÖÂÆπ‰πüÊòØÂ≠óÁ¨¶‰∏≤ÔºåÊúÄÂêéËøô‰∏™Â≠óÁ¨¶‰∏≤Â∞±ÊòØÁ≠æÂêçÔºåÊääËøô‰∏™Á≠æÂêçÊãºÊé•Âú®ÂàöÊâçÁöÑÂ≠óÁ¨¶‰∏≤ÂêéÈù¢Â∞±ËÉΩÂæóÂà∞ÂÆåÊï¥ÁöÑ JWT„ÄÇHeader ÈÉ®ÂàÜÂíå Claims ÈÉ®ÂàÜÂ¶ÇÊûúË¢´ÁØ°ÊîπÔºåÁî±‰∫éÁØ°ÊîπËÄÖ‰∏çÁü•ÈÅìÂØÜÈí•ÊòØ‰ªÄ‰πàÔºå‰πüÊó†Ê≥ïÁîüÊàêÊñ∞ÁöÑ Signature ÈÉ®ÂàÜÔºåÊúçÂä°Á´Ø‰πüÂ∞±Êó†Ê≥ïÈÄöËøáÔºåÂú® JWT ‰∏≠ÔºåÊ∂àÊÅØ‰ΩìÊòØÈÄèÊòéÁöÑÔºå‰ΩøÁî®Á≠æÂêçÂèØ‰ª•‰øùËØÅÊ∂àÊÅØ‰∏çË¢´ÁØ°Êîπ„ÄÇ\n\n```js\nHMACSHA256(base64UrlEncode(Headers) + '.' + base64UrlEncode(Claims), SECREATE_KEY);\n```\n\n‰ºòÁÇπÔºö\n\n1. ‰∏çÈúÄË¶ÅÂú®ÊúçÂä°Á´Ø‰øùÂ≠ò‰ºöËØù‰ø°ÊÅØÔºàRESTful API ÁöÑÂéüÂàô‰πã‰∏ÄÂ∞±ÊòØÊó†Áä∂ÊÄÅÔºâÔºåÊâÄ‰ª•Êòì‰∫éÂ∫îÁî®ÁöÑÊâ©Â±ïÔºåÂç≥‰ø°ÊÅØ‰∏ç‰øùÂ≠òÂú®ÊúçÂä°Á´ØÔºå‰∏ç‰ºöÂ≠òÂú® Session Êâ©Â±ï‰∏çÊñπ‰æøÁöÑÊÉÖÂÜµ\n2. JWT ‰∏≠ÁöÑËΩΩËç∑ÂèØ‰ª•Â≠òÂÇ®Â∏∏Áî®‰ø°ÊÅØÔºåÁî®‰∫é‰ø°ÊÅØ‰∫§Êç¢ÔºåÊúâÊïàÂú∞‰ΩøÁî® JWTÔºåÂèØ‰ª•Èôç‰ΩéÊúçÂä°Á´ØÊü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑÊ¨°Êï∞\n\nÁº∫ÁÇπÔºö\n\n1. **ËøáÊúüÊó∂Èó¥ÈóÆÈ¢ò**ÔºöÁî±‰∫éÊúçÂä°Á´Ø‰∏ç‰øùÂ≠ò Session Áä∂ÊÄÅÔºåÂõ†Ê≠§Êó†Ê≥ïÂú®‰ΩøÁî®ËøáÁ®ã‰∏≠Â∫üÊ≠¢Êüê‰∏™ TokenÔºåÊàñÊòØÊõ¥Êîπ Token ÁöÑÊùÉÈôê„ÄÇ‰πüÂ∞±ÊòØËØ¥Ôºå‰∏ÄÊó¶ JWT Á≠æÂèëÔºåÂú®Âà∞Êúü‰πãÂâçÂ∞±‰ºöÂßãÁªàÊúâÊïàÔºåÈô§ÈùûÊúçÂä°Á´ØÈÉ®ÁΩ≤È¢ùÂ§ñÁöÑÈÄªËæë„ÄÇÂõ†Ê≠§Â¶ÇÊûúÊòØÊµèËßàÂô®Á´ØÂ∫îÁî®ÁöÑËØùÔºå‰ΩøÁî® JWT ËÆ§ËØÅÊú∫Âà∂ËøòÈúÄË¶ÅËÆæËÆ°‰∏ÄÂ•ó JWT ÁöÑ‰∏ªÂä®Êõ¥Êñ∞Âà†Èô§ÁöÑÊú∫Âà∂ÔºåËøôÊ†∑Â∞±Â¢ûÂä†‰∫ÜÁ≥ªÁªüÁöÑÂ§çÊùÇÊÄß„ÄÇ\n2. **ÂÆâÂÖ®ÊÄß**ÔºöÁî±‰∫é JWT ÁöÑ Claims ÊòØ Base64 ÁºñÁ†ÅÁöÑÔºåÂπ∂Ê≤°ÊúâÂä†ÂØÜÔºåÂõ†Ê≠§ JWT ‰∏≠‰∏çËÉΩÂ≠òÂÇ®ÊïèÊÑüÊï∞ÊçÆ\n3. **ÊÄßËÉΩÈóÆÈ¢ò**ÔºöJWT Âç†Áî®Á©∫Èó¥ËøáÂ§ßÔºåCookie ÈôêÂà∂‰∏ÄËà¨ÊòØ 4kÔºåÂèØËÉΩ‰ºöÊó†Ê≥ïÂÆπÁ∫≥ÔºåÊâÄ‰ª• JWT ‰∏ÄËà¨Êîæ LocalStorage ÈáåÈù¢ÔºåÂπ∂‰∏îÁî®Êà∑Âú®Á≥ªÁªüÁöÑÊØèÊ¨° HTTP ËØ∑Ê±ÇÈÉΩ‰ºöÊää JWT Êê∫Â∏¶Âú® Header ÈáåÈù¢ÔºåHTTP ËØ∑Ê±ÇÁöÑ Header ÂèØËÉΩÊØî Body ËøòË¶ÅÂ§ß„ÄÇ\n\n### koa-jwt\n\n‰∏ãÈù¢‰ªãÁªç Koa ‰∏≠‰ΩøÁî® `koa-jwt` ËøõË°åÈ¢ÅÂèë„ÄÅÊ†°È™å Token ÁöÑ‰ΩøÁî®ÊñπÊ≥ï„ÄÇ\n\nÊúçÂä°Á´ØÁîüÊàê Token\n\n```js\nconst router = require('koa-router')();\nconst jwt = require('koa-jwt');\n// ËøôÈáå‰ΩøÁî®ÁöÑÊòØ MongoDB Êï∞ÊçÆÂ∫ì\nconst userModel = require('../model/userModel');\n\nconst secretOrPublicKey = 'TOKEN_EXAMPLE';\n\nrouter.post('/login', async ctx => {\n  const data = ctx.request.body;\n\n  // Ê†πÊçÆÁî®Êà∑Êèê‰æõÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊü•ËØ¢Êï∞ÊçÆÂ∫ì‰∏≠ÊòØÂê¶Â≠òÂú®ÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ\n  const userInfo = await userModel.findOne({ name: data.name, password: data.password });\n\n  let result = null;\n  if (userInfo !== null) {\n    // Ê†πÊçÆÁî®Êà∑‰ø°ÊÅØÁ≠æÂèë TokenÔºåËÆæÂÆöÊúâÊïàÊó∂Èó¥‰∏∫ 2h\n    const token = jwt.sign({ name: userInfo.name, _id: userInfo._id }, secretOrPublicKey, {\n      expiresIn: '2h',\n    });\n\n    result = {\n      code: 200,\n      token: token,\n      msg: 'ÁôªÂΩïÊàêÂäü',\n    };\n  } else {\n    result = {\n      code: 400,\n      token: null,\n      msg: 'ÁôªÂΩïÂ§±Ë¥•',\n    };\n  }\n\n  return (ctx.body = result);\n});\n```\n\nÂâçÁ´ØËé∑Âèñ TokenÔºö\n\n```js\n// ËØ∑Ê±ÇÁôªÂΩï\nfunction login(userName, password) {\n  return axios\n    .post('/login', {\n      name: userName,\n      password: password,\n    })\n    .then(res => {\n      if (res.code === 200) {\n        localStorage.setItem('access_token', res.data.token);\n      } else {\n        console.log('ÁôªÂΩïÂ§±Ë¥•');\n      }\n    })\n    .catch(e => console.error(e));\n}\n\n// ÂêéÁª≠Ëé∑Âèñ Token ÂêéÁª≠ÁöÑ API ËØ∑Ê±Ç\n// ÈÄöËøá Axios Êã¶Êà™Âô®Âä†‰∏ä Authorization ËØ∑Ê±ÇÂ§¥ÈÉ®Â≠óÊÆµ\naxios.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n\n  config.headers.common['Authorization'] = 'Bearer ' + token;\n\n  return config;\n});\n```\n\nÊúçÂä°Á´ØÊ†°È™åÂâçÁ´ØÂèëÈÄÅÊù•ÁöÑËØ∑Ê±ÇÔºö\n\n```js\nconst koa = require('koa');\nconst jwt = require('koa-jwt');\nconst app = new Koa();\nconst secretOrPublicKey = 'TOKEN_EXAMPLE';\n\napp\n  .use(\n    jwt({\n      secret: secretOrPublicKey,\n    })\n  )\n  .unless({\n    path: [/\\register/, /\\/login/],\n  });\n```\n\nÂú® `koa-jwt` ÁöÑÊ∫êÁ†ÅÂÆûÁé∞‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Áü•ÈÅì Token ÁöÑÈâ¥ÂÆöÊòØÂÖàÂà§Êñ≠ËØ∑Ê±ÇÂ§¥‰∏≠ÊòØÂê¶Â∏¶‰∫Ü AuthorizationÔºö\n\n- ÊúâÔºåÂàôÈÄöËøáÊ≠£ÂàôÂ∞Ü `token` ‰ªé Authorization ‰∏≠ÂàÜÁ¶ªÂá∫Êù•ÔºåToken ‰∏≠ÊòØÂ∏¶Êúâ Bearer Ëøô‰∏™ÂçïËØç\n- Ê≤°ÊúâÔºåÂàô‰ª£Ë°®‰∫ÜÂÆ¢Êà∑Á´ØÊ≤°Êúâ‰º† Token Âà∞ÊúçÂä°Âô®ÔºåËøôÊó∂ÂÄôÂ∞±ÊäõÂá∫ 401 ÈîôËØØÁä∂ÊÄÅ\n\nÊ∫êÁ†ÅÊñá‰ª∂‰∏≠ÁöÑ `verify.js` ‰∏≠ÔºåË∞ÉÁî®‰∫Ü `jsonwebtoken` Â∫ìÂéüÁîüÊèê‰æõÁöÑ `verify()` ÊñπÊ≥ïËøõË°åÈ™åËØÅËøîÂõûÁªìÊûú„ÄÇ\n\n[jsonwebtoken](https://github.com/auth0/node-jsonwebtoken) ÁöÑ `sign()` Áî®‰∫éÁîüÊàê `token`ÔºåËÄå `verify()` ÊñπÊ≥ïÂΩìÁÑ∂ÂàôÊòØÁî®Êù•Ëß£Êûê `token`„ÄÇÂ±û‰∫é JWT ÈÖçÂØπÁîü‰∫ßÁöÑ‰∏§‰∏™ÊñπÊ≥ïÔºåÊâÄ‰ª• `koa-jwt` Ëøô‰∏™‰∏≠Èó¥‰ª∂‰πüÊ≤°ÂÅö‰ªÄ‰πà‰∫ãÔºåÊó†ÈùûÂ∞±ÊòØÁî®Ê≠£ÂàôËß£ÊûêËØ∑Ê±ÇÂ§¥ÔºåË∞ÉÁî® `jsonwebtoken` ÁöÑ `verify()` È™åËØÅ `token`ÔºåÂú® `koa-jwt` Êñá‰ª∂Â§πÁöÑ `index.js` ‰∏≠Ôºå`koa-jwt` ËøòË∞ÉÁî® `koa-unless` ËøõË°åË∑ØÁî±ÊùÉÈôêÂàÜÂèë„ÄÇ\n\n- [Koa2 ÊúçÂä°Á´Ø‰ΩøÁî® JWT ËøõË°åÈâ¥ÊùÉÂèäË∑ØÁî±ÊùÉÈôêÂàÜÂèëÁöÑÊµÅÁ®ãÂàÜÊûê](http://www.uxys.com/html/JavaScript/20190722/52733.html)\n\n### Token ËÆ§ËØÅÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à\n\n#### Ê≥®ÈîÄÁôªÂΩï\n\nÊ≥®ÈîÄÁôªÂΩïÁ≠âÂú∫ÊôØ‰∏ã Token ‰ªçÊúâÊïàÁ±ª‰ººÁöÑÂú∫ÊôØÔºö\n\n- ÈÄÄÂá∫ÁôªÂΩï\n- ‰øÆÊîπÂØÜÁ†Å\n- ÊúçÂä°Á´Ø‰øÆÊîπ‰∫ÜÊüê‰∏™Áî®Êà∑ÂÖ∑ÊúâÁöÑÊùÉÈôêÊàñËßíËâ≤\n- Áî®Êà∑ÁöÑË¥¶Êà∑Ë¢´Âà†Èô§/ÊöÇÂÅú\n- Áî®Êà∑Áî±ÁÆ°ÁêÜÂëòÊ≥®ÈîÄ\n\nËøô‰∏™ÈóÆÈ¢ò‰ªÖÂ≠òÂú®‰∫é Token ËÆ§ËØÅ‰∏≠ÔºåÂõ†‰∏∫ Session-Cookie ËÆ§ËØÅÊ®°Âºè‰∏≠ÔºåËøô‰∫õÊÉÖÂÜµËÉΩÂ§üÈÄöËøáÂà†Èô§ÊúçÂä°Á´Ø Session ‰∏≠ÂØπÂ∫îÁöÑËÆ∞ÂΩïËß£ÂÜ≥ÔºåËÄå Token ËÆ§ËØÅ‰∏≠ÔºåÂ¶ÇÊûúÊúçÂä°Á´Ø‰∏çÂ¢ûÂä†ÂÖ∂‰ªñÈÄªËæëÁöÑËØùÔºåÂú®Â§±ÊïàÂâç Token ÈÉΩÊòØÊúâÊïàÁöÑ„ÄÇ\n\n‰∏ãÈù¢ÂàóÂá∫Âá†ÁßçÈíàÂØπËøô‰∫õÂú∫ÊôØÁöÑËß£ÂÜ≥ÊñπÊ°àÔºö\n\n- **Â∞Ü Token Â≠òÂÇ®Âú®ÂÜÖÂ≠òÊï∞ÊçÆÂ∫ì**ÔºöÂ∞Ü Token Â≠òÂÖ•Á±ª‰ºº‰∫é Redis ÁöÑÂÜÖÂ≠òÊï∞ÊçÆÂ∫ì‰∏≠„ÄÇÂ¶ÇÊûúÈúÄË¶ÅËÆ©Êüê‰∏™ Token Â§±ÊïàÂ∞±Áõ¥Êé•‰ªé Redis ‰∏≠Âà†Èô§Ëøô‰∏™ Token Âç≥ÂèØ„ÄÇ‰ΩÜÊòØËøôÊ†∑‰ºöÂØºËá¥ÊØèÊ¨°‰ΩøÁî® Token ÂèëÈÄÅËØ∑Ê±ÇÈÉΩË¶ÅÂÖà‰ªé DB ‰∏≠Êü•ËØ¢ Token ÊòØÂê¶Â≠òÂú®ÁöÑÊ≠•È™§ÔºåËÄå‰∏îËøùËÉå‰∫Ü JWT Êó†Áä∂ÊÄÅÂéüÂàô„ÄÇ\n- **ÈªëÂêçÂçïÊú∫Âà∂**ÔºöÂíå‰∏äËø∞ÊñπÊ°àÁ±ª‰ººÔºå‰ΩøÁî®ÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìÁª¥Êä§‰∏Ä‰ªΩÈªëÂêçÂçïÔºåÂ¶ÇÊûúÊÉ≥ËÆ©Êüê‰∏™ Token Â§±ÊïàÁöÑËØùÂ∞±Áõ¥Êé•Â∞ÜËøô‰∏™ Token ÊîæÂÖ•Âà∞ÈªëÂêçÂçïÂÜÖÂç≥ÂèØ„ÄÇÊØèÊ¨°‰ΩøÁî® Token ËøõË°åËØ∑Ê±ÇÊó∂ÈÉΩ‰ºöÂÖàÂà§Êñ≠ Token ÊòØÂê¶Â≠òÂú®‰∫éÈªëÂêçÂçï‰∏≠„ÄÇ\n- **‰øÆÊîπÂØÜÈí• Secret**Ôºö‰∏∫ÊØè‰∏™Áî®Êà∑ÂàõÂª∫‰∏ìÂ±ûÂØÜÈí•ÔºåÂ¶ÇÊûúÊÉ≥ËÆ©Êüê‰∏™ Token Â§±ÊïàÔºåÊàë‰ª¨Áõ¥Êé•‰øÆÊîπÂØπÂ∫îÁî®Êà∑ÁöÑÂØÜÈí•Âç≥ÂèØ„ÄÇ‰ΩÜÊòØÔºåËøôÊ†∑Áõ∏ËæÉ‰∫éÂâç‰∏§ÁßçÂºïÂÖ•ÂÜÖÂ≠òÊï∞ÊçÆÂ∏¶ÂÖ•ÁöÑÂç±ÂÆ≥Êõ¥Â§ßÔºö\n  - Â¶ÇÊûúÊúçÂä°ÊòØÂàÜÂ∏ÉÂºèÁöÑÔºåÊØèÊ¨°ÂèëÂá∫Êñ∞ÁöÑ Token Êó∂ÈÉΩÂøÖÈ°ªÂú®Â§öÂè∞ÂèäÂÖ∂ÂêåÊ≠•ÂØÜÈí•„ÄÇ‰∏∫Ê≠§Ôºå‰Ω†ÈúÄË¶ÅÂ∞ÜÊú∫ÂØÜÂ≠òÂú®Êï∞ÊçÆÂ∫ìÊàñÂÖ∂‰ªñÂ§ñÈÉ®ÊúçÂä°‰∏≠ÔºåËøôÊ†∑Âíå Session ËÆ§ËØÅÂ∞±Ê≤°ÊúâÂ§™Â§ßÂå∫Âà´‰∫Ü\n  - Â¶ÇÊûúÁî®Êà∑ÂêåÊó∂Âú®‰∏§‰∏™ÊµèËßàÂô®ÊâìÂºÄÁ≥ªÁªüÔºåÊàñËÄÖÂú®ÁßªÂä®ËÆæÂ§á‰∏äÊâìÂºÄÁ≥ªÁªüÔºåÂΩìÂÆÉ‰ªé‰∏Ä‰∏™Âú∞ÊñπÂ∞ÜË¥¶Âè∑ÈÄÄÂá∫Êó∂ÔºåÈÇ£‰πàÂÖ∂‰ªñÁªàÁ´ØÈÉΩÈúÄË¶ÅÈáçÊñ∞ÁôªÂΩïËÆ§ËØÅÔºåËøôÊòØ‰∏çÂèØÂèñÁöÑ\n- **‰øùÊåÅ‰ª§ÁâåÁöÑÊúâÊïàÊúüÈôêÁü≠Âπ∂ÁªèÂ∏∏ËΩÆÊç¢**\n  - ÂæàÁÆÄÂçïÁöÑÊñπÂºèÔºå‰ΩÜÊòØ‰ºöÂØºËá¥Áî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ‰∏ç‰ºöË¢´ÊåÅ‰πÖËÆ∞ÂΩïÔºåËÄå‰∏îÈúÄË¶ÅÁî®Êà∑ÁªèÂ∏∏ÁôªÂΩï\n\n#### Áª≠Á≠æÈóÆÈ¢ò\n\nToken ÁöÑÁª≠Á≠æÈóÆÈ¢òÔºö\n\nToken ÊúâÊïàÊúü‰∏ÄËà¨‰∏çÂª∫ËÆÆËÆæÁΩÆËøáÈïøÔºåËÄå Token ËøáÊúüÂêéÂ¶Ç‰ΩïËÆ§ËØÅÔºåÂ¶Ç‰Ωï `Âä®ÊÄÅÂà∑Êñ∞` Token Á≠âÈúÄË¶ÅÊúâÊïàÁöÑÊñπÊ°àËß£ÂÜ≥„ÄÇ\n\nÂú® Session-Cookie ËÆ§ËØÅ‰∏≠ÔºåÂÅáËÆæ Session ÊúâÊïàÊúü‰∏∫ 30 ÂàÜÈíüÔºåÂ¶ÇÊûú 30 ÂàÜÈíüÂÜÖÊúâËµÑÊ∫êËØ∑Ê±ÇËÆøÈóÆÔºåÈÇ£‰πàÂ∞±Êää Session ÁöÑÊúâÊïàÊúüËá™Âä®Âª∂Èïø 30 ÂàÜÈíü„ÄÇ\n\n- **Á±ª‰ºº‰∫é Session ‰∫∫‰∏≠ÁöÑÂÅöÊ≥ï**ÔºöÂΩìÂÆ¢Êà∑Á´ØËÆøÈóÆÊúçÂä°Á´ØÔºåÂèëÁé∞ Token Âç≥Â∞ÜËøáÊúüÊó∂ÔºåÊúçÂä°Á´ØÈáçÊñ∞È¢ÅÂèëÊñ∞ÁöÑ Token ÁªôÂÆ¢Êà∑Á´Ø\n- **ÊØèÊ¨°ËØ∑Ê±ÇÈÉΩËøîÂõûÊñ∞ Token**ÔºöÂÆûÁé∞ÊÄùË∑ØÁÆÄÂçïÊòé‰∫ÜÔºå‰ΩÜÊòØÂºÄÈîÄËæÉÂ§ß\n- **Token ÊúâÊïàÊúüËÆæÁΩÆÂà∞ÂçäÂ§ú**ÔºöÊäòË°∑ÊñπÊ°àÔºå‰øùËØÅÂ§ßÈÉ®ÂàÜÁî®Êà∑Ê≠£Â∏∏Â∑•‰ΩúÊó∂Èó¥ÂèØ‰ª•Ê≠£Â∏∏ÁôªÂΩïÔºåÈÄÇÁî®‰∫éÂÆâÂÖ®ÊÄßË¶ÅÊ±Ç‰∏çÈ´òÁöÑÁ≥ªÁªü\n- **Áî®Êà∑ÁôªÂΩïËøîÂõû‰∏§‰∏™ Token**ÔºöÁ¨¨‰∏Ä‰∏™ÊòØ `accessToken`ÔºåÂÆÉÁöÑËøáÊúüÊó∂Èó¥ËÆæÁΩÆÊØîÂ¶ÇÂçä‰∏™Â∞èÊó∂ÔºåÂè¶‰∏Ä‰∏™ÊòØ `refreshToken`ÔºåÂÆÉÁöÑËøáÊúüÊó∂Èó¥Êõ¥Èïø‰∏ÄÁÇπÔºå‰æãÂ¶Ç 1 Â§©„ÄÇÂÆ¢Êà∑Á´ØÁôªÂΩïÂêéÔºåÂ∞Ü `accessToken` Âíå `refreshToken` ‰øùÂ≠òÂú®Êú¨Âú∞ÔºåÊØèÊ¨°ËÆøÈóÆÂ∞Ü `accessToken` ‰º†ÁªôÊúçÂä°Á´Ø„ÄÇÊúçÂä°Á´ØÊ†°È™å `accessToken` ÁöÑÊúâÊïàÊÄßÔºåÂ¶ÇÊûúËøáÊúüÁöÑËØùÔºåÂ∞±Â∞Ü `refreshToken` ‰º†ÁªôÊúçÂä°Á´Ø„ÄÇÂ¶ÇÊûúÊúâÊïàÔºåÊúçÂä°Á´ØÂ∞±ÁîüÊàêÊñ∞ÁöÑ `accessToken` ÁªôÂÆ¢Êà∑Á´Ø„ÄÇÂê¶ÂàôÔºåÂÆ¢Êà∑Á´ØÂ∞±ÈáçÊñ∞ÁôªÂΩïÂç≥ÂèØ„ÄÇËØ•ÊñπÊ°à‰∏çË∂≥ÁöÑÊòØÔºö\n  - ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÈÖçÂêà\n  - Áî®Êà∑Ê≥®ÈîÄÁöÑÊó∂ÂÄôÈúÄË¶ÅÂêåÊó∂‰øùËØÅ‰∏§‰∏™ Token ÈÉΩÊó†Êïà\n  - ÈáçÊñ∞ËØ∑Ê±ÇËé∑Âèñ Token ÁöÑËøáÁ®ã‰∏≠‰ºöÊúâÁü≠ÊöÇ Token ‰∏çÂèØÁî®ÁöÑÊÉÖÂÜµÔºàÂèØ‰ª•ÈÄöËøáÂú®ÂÆ¢Êà∑Á´ØËÆæÁΩÆÂÆöÊó∂Âô®ÔºåÂΩì `accessToken` Âø´ËøáÊúüÁöÑÊó∂ÂÄôÔºåÊèêÂâçÂéªÈÄöËøá `refreshToken` Ëé∑ÂèñÊñ∞ÁöÑ `accessToken`Ôºâ\n\nJWT ÊúÄÈÄÇÂêàÁöÑÂú∫ÊôØÊòØ‰∏çÈúÄË¶ÅÊúçÂä°Á´Ø‰øùÂ≠òÁî®Êà∑Áä∂ÊÄÅÁöÑÂú∫ÊôØÔºåÂ¶ÇÊûúËÄÉËôëÂà∞ Token Ê≥®ÈîÄÂíåÁª≠Á≠æÁ≠âÂú∫ÊôØÁöÑËØùÔºåÁõÆÂâçÊù•ËØ¥Ê≤°ÊúâÁâπÂà´Â•ΩÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂ§ßÈÉ®ÂàÜËß£ÂÜ≥ÊñπÊ°àÈÉΩÁªô Token Âä†‰∏äÁä∂ÊÄÅÔºåËøôÂÆûÈôÖ‰∏äÂ∞±ÊúâÁÇπÁ±ª‰ºº Session-Cookie ËÆ§ËØÅ‰∫Ü„ÄÇ\n\n## ÂçïÁÇπÁôªÂΩï\n\n**ÂçïÁÇπÁôªÂΩï**ÔºàSingle Sign-onÔºâÂèàÁß∞ SSOÔºåÊòØÊåáÂú®Â§öÁ≥ªÁªüÂ∫îÁî®Áæ§‰∏≠ÁôªÂΩïÂçï‰∏™Á≥ªÁªüÔºå‰æøÂèØÂú®ÂÖ∂‰ªñÊâÄÊúâÁ≥ªÁªü‰∏≠ÂæóÂà∞ÊéàÊùÉËÄåÊó†ÈúÄÂÜçÊ¨°ÁôªÂΩï„ÄÇ\n\n‰º†ÁªüÁöÑ All-in-one ÂûãÂ∫îÁî®ÁöÑËÆ§ËØÅÁ≥ªÁªüÂíå‰∏öÂä°Á≥ªÁªüÈõÜÂêàÂú®‰∏ÄËµ∑ÁöÑÔºåÂΩìÁî®Êà∑ËÆ§ËØÅÈÄöËøáÊó∂ÔºåÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂ≠òÂÖ• Session ‰∏≠„ÄÇÂÖ∂‰ªñ‰∏öÂä°Âè™ÈúÄË¶Å‰ªé‰∏öÂä°‰∏≠ÈÄöËøáÂØπÂ∫î‰ºöËØùË∫´‰ªΩÂá≠ËØÅÂèñÂà∞Áî®Êà∑‰ø°ÊÅØËøõË°åÁõ∏ÂÖ≥‰∏öÂä°Â§ÑÁêÜÂç≥ÂèØ„ÄÇ\n\n‰º†ÁªüÁöÑ Session ÊòØÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂ≠òÂÖ•ÂÜÖÂ≠òÔºåÁª¥Êä§‰∏Ä‰∏™ÂìàÂ∏åË°®„ÄÇÊØèÊ¨°ËØ∑Ê±ÇÊê∫Â∏¶‰ºöËØùË∫´‰ªΩÂá≠ËØÅ SessionIDÔºàTomcat ‰∏≠ÊòØ `JSESSIONID`ÔºâÂà∞ÊúçÂä°Á´ØÔºåÊ†πÊçÆÊ≠§ SessionID Êü•ÊâæÂà∞ÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ„ÄÇ\n\nÂà©Áî® Redis Á≠âÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìËøõË°åÁî®Êà∑‰ø°ÊÅØÁöÑÂ≠òÂÇ®ÔºåËá™ÂÆö‰πâ Token ÁîüÊàêËßÑÂàôÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂÜôÂÖ• Redis ‰∏≠„ÄÇËøôÊ†∑Â∞ÜÁî®Êà∑‰ø°ÊÅØÁöÑÂ≠òÂÇ®Âíå‰∏öÂä°Á≥ªÁªüËøõË°åÊãÜÂàÜÔºå‰ΩøÁ≥ªÁªüÊõ¥Âä†ÂÅ•Â£ÆÔºåÊõ¥Êòì‰∫éÊâ©Â±ï„ÄÇÊñ∞Â¢ûÁ≥ªÁªüÂè™ÈúÄË¶Å‰ªé SSO ‰∏≠Ëé∑ÂèñÁõ∏ÂÖ≥ÁöÑËÆ§ËØÅÂç≥ÂèØËøõË°åÊ®™ÂêëÁöÑ‰∏öÂä°Êâ©Â±ï„ÄÇËÄå‰∏î Redis Êú¨Ë∫´ÁöÑÊÄßË¥®‰πüÊòì‰∫éËøõË°å `ÈõÜÁæ§Âåñ` ÁöÑÈÉ®ÁΩ≤„ÄÇ\n\n‰∏ãÈù¢ËØ¶Ëø∞ÂêÑÁßçÂú∫ÊôØ‰∏ã SSO ÁöÑÂÆûÁé∞ÊñπÊ°à„ÄÇ\n\n### ÂêåÂüü SSO\n\nÂΩìÂ≠òÂú®‰∏§‰∏™Áõ∏ÂêåÂüüÂêç‰∏ãÁöÑÁ≥ªÁªü A `a.abc.com` ÂíåÁ≥ªÁªü B `b.abc.com` Êó∂Ôºå‰ª•‰∏ã‰∏∫‰ªñ‰ª¨ÂÆûÁé∞ SSO ÁöÑÊ≠•È™§Ôºö\n\n1. Áî®Êà∑ËÆøÈóÆÊüê‰∏™Â≠êÁ≥ªÁªüÊó∂Ôºà‰æãÂ¶Ç `a.abc.com`ÔºâÔºåÂ¶ÇÊûúÊ≤°ÊúâÁôªÂΩïÔºåÂàôË∑≥ËΩ¨Ëá≥ SSO ËÆ§ËØÅ‰∏≠ÂøÉÊèê‰æõÁöÑÁôªÂΩïÈ°µÈù¢ËøõË°åÁôªÂΩï\n2. ÁôªÂΩïËÆ§ËØÅÂêéÔºåÊúçÂä°Á´ØÊääÁôªÂΩïÁî®Êà∑ÁöÑ‰ø°ÊÅØÂ≠òÂÇ®‰∫é Session ‰∏≠ÔºåÂπ∂‰∏∫Áî®Êà∑ÁîüÊàêÂØπÂ∫îÁöÑ‰ºöËØùË∫´‰ªΩÂá≠ËØÅÈôÑÂä†Âú®ÂìçÂ∫îÂ§¥ÁöÑ `Set-Cookie` Â≠óÊÆµ‰∏≠ÔºåÈöèÁùÄËØ∑Ê±ÇËøîÂõûÂÜôÂÖ•ÊµèËßàÂô®‰∏≠ÔºåÂπ∂ÂõûË∑≥Âà∞ËÆæÂÆöÁöÑÂ≠êÁ≥ªÁªüÈìæÊé•‰∏≠\n3. ‰∏ãÊ¨°ÂèëÈÄÅËØ∑Ê±ÇÊó∂ÔºåÂΩìÁî®Êà∑ËÆøÈóÆÂêåÂüüÂêçÁöÑÁ≥ªÁªü B Êó∂ÔºåÁî±‰∫é A Âíå B Âú®Áõ∏ÂêåÂüüÂêç‰∏ãÔºå‰πüÊòØ `abc.com`ÔºåÊµèËßàÂô®‰ºöËá™Âä®Â∏¶‰∏ä‰πãÂâçÁöÑ Cookie„ÄÇÊ≠§Êó∂ÊúçÂä°Á´ØÂ∞±ÂèØ‰ª•ÈÄöËøáËØ• Cookie Êù•È™åËØÅÁôªÂΩïÁä∂ÊÄÅ‰∫Ü„ÄÇ\n\nËøôÂÆûÈôÖ‰∏ä‰ΩøÁî®ÁöÑÂ∞±ÊòØ Session-Cookie ËÆ§ËØÅÁöÑÁôªÂΩïÊñπÂºè„ÄÇ\n\n### Ë∑®Âüü SSO\n\n‰∏äËø∞ÊâÄÊèêÂèäÁöÑÂêåÂüüÂêç SSO Âπ∂‰∏çÊîØÊåÅË∑®ÂüüÂêçÁöÑÁôªÂΩïËÆ§ËØÅÔºåËøôÊòæÁÑ∂‰∏çÁ¨¶ÂêàÂΩì‰ªä‰∫íËÅîÁΩëÂèëÂ±ïÊΩÆÊµÅÔºåÊØïÁ´üÂ§ßÂ§öÊï∞‰∏≠Â§ßÂûã‰ºÅ‰∏öÂÜÖÂ§ñÈÉ®ÁöÑÁ≥ªÁªüÈÉΩÊòØÈÉ®ÁΩ≤Âú®‰∏çÂêåÁöÑÂüüÂêç‰∏ãÔºå‰∏ãÈù¢Êàë‰ª¨‰ªãÁªçÂÆûÁé∞ÂçïÁÇπÁôªÂΩïÁöÑÊ†áÂáÜÊµÅÁ®ã„ÄÇ\n\n**CAS**ÔºàCentral Authentication ServiceÔºâ‰∏≠Â§ÆÊéàÊùÉÊúçÂä°ÔºåÊú¨Ë∫´ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÂçèËÆÆÔºåÂàÜ‰∏∫ 1.0 ÁâàÊú¨Âíå 2.0 ÁâàÊú¨„ÄÇ1.0 Áß∞‰∏∫Âü∫Á°ÄÊ®°ÂºèÔºå2.0 Áß∞‰∏∫‰ª£ÁêÜÊ®°ÂºèÔºåÈÄÇÁî®‰∫éÂ≠òÂú®Èùû Web Â∫îÁî®‰πãÈó¥ÁöÑÂçïÁÇπÁôªÂΩï„ÄÇ\n\nCAS ÁöÑÂÆûÁé∞ÈúÄË¶Å‰∏âÊñπËßíËâ≤Ôºö\n\n- ClientÔºöÁî®Êà∑\n- ServerÔºö‰∏≠Â§ÆÊéàÊùÉÊúçÂä°Ôºå‰πüÊòØ SSO ‰∏≠ÂøÉË¥üË¥£ÂçïÁÇπÁôªÂΩïÁöÑÊúçÂä°Âô®\n- ServiceÔºöÈúÄË¶Å‰ΩøÁî®ÂçïÁÇπÁôªÂΩïÈâ¥ÊùÉÁöÑÂêÑ‰∏™‰∏öÂä°ÊúçÂä°ÔºåÁõ∏ÂΩì‰∫é‰∏äÊñá‰∏≠ÁöÑÁ≥ªÁªü A / B\n\nCAS ÁöÑÂÆûÁé∞ÈúÄË¶ÅÊèê‰æõ‰ª•‰∏ãÂõõ‰∏™Êé•Âè£Ôºö\n\n- `/login`ÔºöÁôªÂΩïÊé•Âè£ÔºåÁî®‰∫éÁôªÂΩïÂà∞‰∏≠Â§ÆÊéàÊùÉÊúçÂä°\n- `/logout`ÔºöÁôªÂá∫Êé•Âè£ÔºåÁî®‰∫é‰ªé‰∏≠Â§ÆÊéàÊùÉÊúçÂä°‰∏≠ÁôªÂá∫\n- `/validate`ÔºöÁî®‰∫éÈ™åËØÅÁî®Êà∑ÊòØÂê¶ÁôªÂΩï‰∏≠Â§ÆÊéàÊùÉÊúçÂä°\n- `/serviceValidate`ÔºöÁî®‰∫éËÆ©ÂêÑ‰∏™ Service È™åËØÅÁî®Êà∑ÊòØÂê¶ÁôªÂΩï‰∏≠Â§ÆÊéàÊùÉÊúçÂä°\n\nCAS Á•®ÊçÆÔºö\n\n- **TGTÔºàTicket Grangting TicketÔºâ**ÔºöTGT ÊòØ CAS ‰∏∫Áî®Êà∑Á≠æÂèëÁöÑ `ÁôªÂΩïÁ•®ÊçÆ`ÔºåÊã•Êúâ‰∫Ü TGTÔºåÁî®Êà∑Â∞±ÂèØ‰ª•ËØÅÊòéËá™Â∑±Âú® CAS ÊàêÂäüÁôªÂΩïËøá„ÄÇTGT Â∞ÅË£Ö‰∫Ü Cookie ÂÄº‰ª•ÂèäÊ≠§ Cookie ÂÄºÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ„ÄÇÂΩì HTTP ËØ∑Ê±ÇÂà∞Êù•Êó∂ÔºåCAS ‰ª•Ê≠§ Cookie ÂÄºÔºàTGCÔºâ‰∏∫ `key` Êü•ËØ¢ÁºìÂ≠ò‰∏≠ÊòØÂê¶Êúâ TGTÔºåÂ¶ÇÊûúÊúâÔºåÂàôË°®Á§∫Áî®Êà∑Â∑≤ÁôªÂΩïËøá„ÄÇ\n- **TGCÔºàTicket Granting CookieÔºâ**ÔºöCAS Service ÁîüÊàê TGC ÊîæÂÖ•Ëá™Â∑±ÁöÑ Session ‰∏≠ÔºåËÄå TGC Â∞±ÊòØËøô‰∏™ Session ÁöÑÂîØ‰∏ÄÊ†áËØÜÔºàSessionIDÔºâÔºå‰ª• Cookie ÂΩ¢ÂºèÊîæÂà∞ÊµèËßàÂô®Á´ØÔºåÊòØ CAS Service Áî®Êù•ÊòéÁ°ÆÁî®Êà∑Ë∫´‰ªΩÁöÑÂá≠ËØÅ\n- **STÔºàService TicketÔºâ**ÔºöST ÊòØ CAS ‰∏∫Áî®Êà∑Á≠æÂèëÁöÑËÆøÈóÆÊüê‰∏™ Service ÁöÑÁ•®ÊçÆ„ÄÇÁî®Êà∑ËÆøÈóÆ Service Êó∂ÔºåService ÂèëÁé∞Áî®Êà∑Ê≤°Êúâ STÔºåÂàôË¶ÅÊ±ÇÁî®Êà∑Âéª CAS Ëé∑Âèñ ST„ÄÇÁî®Êà∑Âêë CAS ÂèëÂá∫ ST ÁöÑËØ∑Ê±ÇÔºåCAS ÂèëÁé∞Áî®Êà∑Êúâ TGTÔºåÂàôÁ≠æÂèë‰∏Ä‰∏™ STÔºåËøîÂõûÁªôÁî®Êà∑„ÄÇÁî®Êà∑ÊãøÁùÄ ST ÂéªËÆøÈóÆ ServiceÔºåService Êãø ST Âéª CAS È™åËØÅÔºåÈ™åËØÅÈÄöËøáÂêéÔºåÂÖÅËÆ∏Áî®Êà∑ËÆøÈóÆËµÑÊ∫ê„ÄÇ\n\nËøôÈáåÂèØËÉΩÊ¶ÇÂøµÂ§™Â§ö‰ºöÈùûÂ∏∏ÈöæÁêÜËß£ÔºåÁÆÄÂçïËØ¥Êòé‰∏ãÔºåÂÆ¢Êà∑Á´ØÈúÄË¶ÅÂêÑËá™Áª¥Êä§‰∏é‰∏çÂêåÁ≥ªÁªüÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂåÖÊã¨‰∏é‰∏≠Â§ÆÊéàÊùÉÊúçÂä°ÁöÑÁôªÂΩïÁä∂ÊÄÅ„ÄÇÊâÄ‰ª•ÔºåÂÆûÈôÖ‰∏ä TGC Âíå TGT ÊòØÁª¥Êä§ÂÆ¢Êà∑Á´Ø‰∏é‰∏≠Â§ÆÊéàÊùÉÊúçÂä°ÁôªÂΩïÁä∂ÊÄÅÁöÑ‰ºöËØùË∫´‰ªΩÂá≠ËØÅÁöÑ `key-value` ÈîÆÂêçÂÄºÔºåËÄå ST Á•®ÊçÆÂàôÊòØËµÑÊ∫êÊúçÂä°Âêë‰∏≠Â§ÆÊéàÊùÉÊúçÂä°Ëé∑ÂèñÁî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ„ÄÅ‰ø°ÊÅØÁöÑ‰∫§Êç¢Âá≠ËØÅÔºåÂè™‰∏çËøáËµÑÊ∫êÊúçÂä°ÈúÄË¶ÅÁªèÁî®Êà∑ÁöÑ‚ÄúÊâã‚Äù‰∏äÊâçËÉΩËé∑ÂèñÂà∞ËØ•Á•®ÊçÆ„ÄÇ\n\nËØ¶ÁªÜÊ≠•È™§Ôºö\n\n![CAS È™åËØÅÊµÅÁ®ãÊó∂Â∫èÂõæ](https://img.mrsingsing.com/authentication-cas-workflow.png)\n\n1. Áî®Êà∑ËÆøÈóÆÁ≥ªÁªü A ÁöÑÂèó‰øùÊä§ËµÑÊ∫êÔºàÂüüÂêçÊòØ `a.abc.com`ÔºâÔºåÁ≥ªÁªü A Ê£ÄÊµãÂá∫Áî®Êà∑Â§Ñ‰∫é `Êú™ÁôªÂΩï` Áä∂ÊÄÅÔºåÈáçÂÆöÂêëÔºàÂ∫îÁ≠îÁ†Å 302ÔºâËá≥ SSO ÊúçÂä°ËÆ§ËØÅ‰∏≠ÂøÉÁöÑÁôªÂΩïÊé•Âè£ÔºåÂêåÊó∂Âú∞ÂùÄÂèÇÊï∞Êê∫Â∏¶ÁôªÂΩïÊàêÂäüÂêéÂõûË∑≥Âà∞Á≥ªÁªü A ÁöÑÈ°µÈù¢ÈìæÊé•ÔºàË∑≥ËΩ¨ÁöÑÈìæÊé•ÂΩ¢Â¶Ç `sso.abc.com/login?service=https%3A%2F%2Fwww.a.abc.com`Ôºâ\n2. Áî±‰∫éËØ∑Ê±ÇÊ≤°ÊúâÊê∫Â∏¶ SSO ÊúçÂä°Âô®‰∏äÁôªÂΩïÁöÑÁ•®ÊçÆÂá≠ËØÅÔºàTGCÔºâÔºåÊâÄ‰ª• SSO ËÆ§ËØÅ‰∏≠ÂøÉÂà§ÂÆöÁî®Êà∑Â§Ñ‰∫é `Êú™ÁôªÂΩï` Áä∂ÊÄÅÔºåÈáçÂÆöÂêëÁî®Êà∑È°µÈù¢Ëá≥ SSO ÁöÑÁôªÂΩïÁïåÈù¢ÔºåÁî®Êà∑Âú® SSO ÁöÑÁôªÂΩïÈ°µÈù¢‰∏äËøõË°åÁôªÂΩïÊìç‰Ωú„ÄÇ\n3. SSO ËÆ§ËØÅ‰∏≠ÂøÉÊ†°È™åÁî®Êà∑Ë∫´‰ªΩÔºåÂàõÂª∫Áî®Êà∑‰∏é SSO ËÆ§ËØÅ‰∏≠ÂøÉ‰πãÈó¥ÁöÑ‰ºöËØùÔºåÁß∞‰∏∫ `ÂÖ®Â±Ä‰ºöËØù`ÔºåÂêåÊó∂ÂàõÂª∫ `ÊéàÊùÉ‰ª§Áâå`ÔºàSTÔºâÔºåSSO Â∏¶ÁùÄÊéàÊùÉ‰ª§ÁâåË∑≥ËΩ¨ÂõûÊúÄÂàùÁöÑÁ≥ªÁªü A ÁöÑËØ∑Ê±ÇÂú∞ÂùÄÔºö\n\n- ÈáçÂÆöÂêëÂú∞ÂùÄ‰∏∫‰πãÂâçÂÜôÂú® `query` ‰∏≠ÁöÑÁ≥ªÁªü A ÁöÑÈ°µÈù¢Âú∞ÂùÄ\n- ÈáçÂÆöÂêëÂú∞ÂùÄÁöÑ `query` ‰∏≠ÂåÖÂê´ SSO ÊúçÂä°Âô®Ê¥æÂèëÁöÑ ST\n- ÈáçÂÆöÂêëÁöÑ HTTP ÂìçÂ∫î‰∏≠ÂåÖÂê´ÂÜô Cookie ÁöÑ Header„ÄÇËøô‰∏™ Cookie ‰ª£Ë°®Áî®Êà∑Âú® SSO ‰∏≠ÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂÆÉÁöÑÂÄºÂ∞±ÊòØ TGC\n\n5. ÊµèËßàÂô®ÈáçÂÆöÂêëËá≥Á≥ªÁªü A ÊúçÂä°Âú∞ÂùÄÔºåÊ≠§Êó∂ÈáçÂÆöÂêëÁöÑ URL ‰∏≠Êê∫Â∏¶ÁùÄ SSO ÊúçÂä°Âô®ÁîüÊàêÁöÑ ST\n6. Á≥ªÁªü A ÊãøÁùÄ ST Âêë SSO ÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÔºåSSO ÊúçÂä°Âô®È™åËØÅÁ•®ÊçÆÁöÑÊúâÊïàÊÄß„ÄÇÈ™åËØÅÊàêÂäüÂêéÔºåÁ≥ªÁªü A Áü•ÈÅìÁî®Êà∑Â∑≤ÁªèÂú® SSO ÁôªÂΩï‰∫ÜÔºå‰∫éÊòØÁ≥ªÁªü A ÊúçÂä°Âô®‰ΩøÁî®ËØ•‰ª§ÁâåÂàõÂª∫‰∏éÁî®Êà∑ÁöÑ‰ºöËØùÔºåÁß∞‰∏∫ `Â±ÄÈÉ®‰ºöËØù`ÔºåËøîÂõûÂèó‰øùÊä§ÁΩëÈ°µËµÑÊ∫ê\n7. ‰πãÂêéÁî®Êà∑ËÆøÈóÆÁ≥ªÁªü B Âèó‰øùÊä§ËµÑÊ∫êÔºàÂüüÂêç `b.abc.com`ÔºâÔºåÁ≥ªÁªü B Ê£ÄÊµãÂá∫Áî®Êà∑Â§Ñ‰∫é `Êú™ÁôªÂΩï` Áä∂ÊÄÅÔºåË∑≥ËΩ¨Ëá≥ SSO ÊúçÂä°ËÆ§ËØÅ‰∏≠ÂøÉÔºåÂêåÊó∂Âú∞ÂùÄÂèÇÊï∞Êê∫Â∏¶ÊéàÊùÉ‰ª§Áâå STÔºàÊØèÊ¨°ÁîüÊàêÁöÑ ST ÈÉΩÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºâÁôªÂΩïÊàêÂäüÂêéÂõûË∑≥ÁöÑÈìæÊé•\n8. SSO ËÆ§ËØÅ‰∏≠ÂøÉÂèëÁé∞Áî®Êà∑Â∑≤ÁôªÂΩïÔºåË∑≥ËΩ¨ÂõûÁ≥ªÁªü B ÁöÑÂú∞ÂùÄÔºåÂπ∂ÈôÑ‰∏ä‰ª§Áâå\n9. Á≥ªÁªü B ÊãøÂà∞‰ª§ÁâåÔºåÂéª SSO ËÆ§ËØÅ‰∏≠ÂøÉÊ†°È™å‰ª§ÁâåÊòØÂê¶ÊúâÊïàÔºåSSO ËÆ§ËØÅ‰∏≠ÂøÉÊ†°È™å‰ª§ÁâåÔºåËøîÂõûÊúâÊïàÔºåÊ≥®ÂÜåÁ≥ªÁªü B\n10. Á≥ªÁªü B ‰ΩøÁî®ËØ•‰ª§ÁâåÂàõÂª∫‰∏éÁî®Êà∑ÁöÑÂ±ÄÈÉ®‰ºöËØùÔºåËøîÂõûÂèó‰øùÊä§ËµÑÊ∫ê\n\nËá≥Ê≠§Êï¥‰∏™ÁôªÂΩïÊµÅÁ®ãÁªìÊùüÔºåËÄåÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÂü∫Êú¨‰∏äÈÉΩ‰ºöÊ†πÊçÆ CAS Â¢ûÂä†Êõ¥Â§öÁöÑÂà§Êñ≠ÈÄªËæëÔºåÊØîÂ¶ÇÔºåÂú®Êî∂Âà∞ CAS Server Á≠æÂèëÁöÑ ST ÂêéÔºåÂ¶ÇÊûú ST Ë¢´ Hacker Á™ÉÂèñÔºåÂπ∂‰∏î Client Êú¨Ë∫´Ê≤°Êù•ÂæóÂèäÂéªÈ™åËØÅ STÔºåË¢´ Hacker Êä¢ÂÖà‰∏ÄÊ≠•È™åËØÅ STÔºåÊÄé‰πàËß£ÂÜ≥„ÄÇÊ≠§Êó∂Â∞±ÂèØ‰ª•Âú®Áî≥ËØ∑ ST Êó∂Ê∑ªÂä†È¢ùÂ§ñÈ™åËØÅÂõ†Â≠êÔºàÂ¶Ç IP„ÄÅSessionID Á≠âÔºâ„ÄÇ\n\n### LDAP ËÆ§ËØÅÁôªÂΩï\n\nLDAP ÁöÑÂÖ®Áß∞ÊòØ Lightweight Directory Access ProtocolÔºåÂç≥**ËΩªÈáèÁõÆÂΩïËÆøÈóÆÂçèËÆÆ**ÔºåÊòØ‰∏Ä‰∏™ÂºÄÊîæ„ÄÅÂπøÊ≥õË¢´‰ΩøÁî®ÁöÑÂ∑•‰∏öÊ†áÂáÜÔºàIEFT„ÄÅRFCÔºâ„ÄÇ‰ºÅ‰∏öÁ∫ßËΩØ‰ª∂‰πüÈÄöÂ∏∏ÂÖ∑Â§á \\*_ÊîØÊåÅ LDAP_- ÁöÑÂäüËÉΩÔºåÊØîÂ¶Ç Jira„ÄÅConfluence„ÄÅOpenVPN Á≠âÔºå‰ºÅ‰∏ö‰πüÁªèÂ∏∏ÈááÁî® LDAP ÊúçÂä°Âô®Êù•‰Ωú‰∏∫‰ºÅ‰∏öÁöÑËÆ§ËØÅÊ∫êÂíåÊï∞ÊçÆÊ∫ê„ÄÇ‰ΩÜÊòØÂ§ßÂÆ∂ÊØîËæÉÂ∏∏ËßÅÁöÑËØØÂå∫ÊòØÔºåÂèØ‰ª•‰ΩøÁî® LDAP Êù•ÂÆûÁé∞ SSO„ÄÇÊàë‰ª¨ÂèØ‰ª•ÂÖàÂàÜÊûê‰ª•‰∏ãÂÆÉÁöÑ‰∏ªË¶ÅÂäüËÉΩÁÇπÊàñÂú∫ÊôØ„ÄÇ\n\n- ‰Ωú‰∏∫Êï∞ÊçÆÊ∫êÂÆÉÂèØ‰ª•Áî®‰∫éÂ≠òÂÇ®\n  - ‰ºÅ‰∏öÁöÑÁªÑÁªáÊû∂ÊûÑÊ†ë\n  - ‰ºÅ‰∏öÂëòÂ∑•‰ø°ÊÅØ\n  - ËØÅ‰π¶‰ø°ÊÅØ\n  - ‰ºöËÆÆÂÆ§ÔºåÊâìÂç∞Êú∫Á≠âÁ≠âËµÑÊ∫ê\n- ‰Ωú‰∏∫ËÆ§ËØÅÊ∫êÔºåÂÆÉ‰πüÊúâÂ§öÁßçÁî®ÈÄî\n  - Â≠òÂÇ®Áî®Êà∑ÁöÑÂØÜÁ†Å\n  - ÂØπÂ§ñÊèê‰æõ LDAP ÂçèËÆÆÁöÑËÆ§ËØÅÊñπÂºèÔºàÈÄöËøá LDAP BIND ÂçèËÆÆÊù•Ê†°È™åÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºâ\n  - ÂØÜÁ†ÅÁ≠ñÁï•ÔºàÂØÜÁ†ÅÂ§çÊùÇÂ∫¶ÔºåÂéÜÂè≤ÂØÜÁ†ÅËÆ∞ÂΩïÔºåÁî®Êà∑ÈîÅÂÆöÁ≠âÁ≠âÔºâ\n\n## ‰ø°‰ªªÁôªÂΩï\n\n‰ø°‰ªªÁôªÂΩïÊòØÊåáÊâÄÊúâ‰∏çÈúÄË¶ÅÁî®Êà∑‰∏ªÂä®ÂèÇ‰∏éÁöÑÁôªÂΩïÔºå‰æãÂ¶ÇÂª∫Á´ãÂú®ÁßÅÊúâËÆæÂ§á‰∏éÁî®Êà∑‰πãÈó¥ÁöÑÁªëÂÆöÂÖ≥Á≥ªÔºåÂá≠ËØÅÂ∞±ÊòØÁßÅÊúâËÆæÂ§áÁöÑ‰ø°ÊÅØÔºåÊ≠§Êó∂‰∏çÈúÄË¶ÅÁî®Êà∑ÂÜçÊèê‰æõÈ¢ùÂ§ñÁöÑÂá≠ËØÅ„ÄÇ‰ø°‰ªªÁôªÂΩïÂèàÊåáÁî®Á¨¨‰∏âÊñπÊØîËæÉÊàêÁÜüÁöÑÁî®Êà∑Â∫ìÊù•Ê†°È™åÂá≠ËØÅÔºåÂπ∂ÁôªÂΩïÂΩìÂâçËÆøÈóÆÁöÑÁΩëÁ´ô„ÄÇ\n\n1. ÁôªÂΩïÊúçÂä° \\*_‰ø°‰ªª‰∏öÂä°Á≥ªÁªü_- ÁöÑÂá≠ËØÅÊ†°È™åÁªìÊûú\n2. ÁôªÂΩïÊúçÂä° \\*_‰ø°‰ªªÁ¨¨‰∏âÊñπÁôªÂΩïÁ≥ªÁªü_- ÁöÑÂá≠ËØÅÊ†°È™åÁªìÊûúÔºåÂâçÊèêÊòØÂøÖÈ°ªÂèàÊú¨Á´ôÁÇπÁöÑË¥¶Âè∑‰ΩìÁ≥ª‰∏ãÁöÑË¥¶Âè∑‰∏éÁ¨¨‰∏âÊñπË¥¶Âè∑ÁöÑ‰∏ÄÂØπ‰∏ÄÁªëÂÆöÂÖ≥Á≥ªÔºåÁé∞Âú®ÊµÅË°åÁöÑÊéàÊùÉÊñπÂºè‰πüÂ±û‰∫éËøô‰∏™Ê®°Âºè„ÄÇ\n\nÁõÆÂâçÊØîËæÉÂ∏∏ËßÅÁöÑÁ¨¨‰∏âÊñπ‰ø°‰ªªÁôªÂΩïÂ∏êÂè∑Â¶ÇÔºöQQ Âè∑Ê∑òÂÆùÂ∏êÂè∑„ÄÅÊîØ‰ªòÂÆùÂ∏êÂè∑„ÄÅÂæÆÂçöÂ∏êÂè∑Á≠â„ÄÇ\n\n‰ø°‰ªªÁôªÂΩïÁöÑÂ•ΩÂ§ÑÊòØÂèØ‰ª•Âà©Áî®Á¨¨‰∏âÊñπÂ∫ûÂ§ßÁöÑÁî®Êà∑Áæ§Êù•Êé®Âπø„ÄÅËê•ÈîÄÁΩëÁ´ôÔºåÂêåÊó∂ÂáèÂ∞ëÁî®Êà∑ÁöÑÊ≥®ÂÜå„ÄÅÁôªÂΩïÊó∂Èó¥„ÄÇ\n\nÊèêÂà∞‰ø°‰ªªÁôªÂΩïÔºåÊàë‰ª¨Â∞±‰∏çÂæó‰∏çÊèêÂà∞ OAuthÔºåÊ≠£ÊòØÊúâ‰∫Ü OAuthÔºåÊàë‰ª¨ÁöÑ‰ø°‰ªªÁôªÂΩïÊâçÂæó‰ª•ÂÆûÁé∞„ÄÇ‰∏ãÈù¢Êàë‰ª¨Â∞±Êù•Áúã‰∏ãÂÖ≥‰∫é OAuth ÁöÑ‰∏Ä‰∫õ‰ªãÁªç„ÄÇ\n\n## OAuth2 ÂºÄÂèëÊéàÊùÉ\n\nOAuthÔºàÂºÄÊîæÊéàÊùÉÔºâÊòØ‰∏Ä‰∏™ÂºÄÂèëÊ†áÂáÜÔºåÂÖÅËÆ∏Áî®Êà∑ÊéàÊùÉ `Á¨¨‰∏âÊñπÁΩëÁ´ô` ËÆøÈóÆ‰ªñ‰ª¨Â≠òÂÇ®Âú®Âè¶Â§ñÁöÑÊúçÂä°Êèê‰æõÂïÜ‰∏≠ÁöÑ‰ø°ÊÅØÔºåËÄå‰∏çÈúÄË¶ÅÊé•Ëß¶Âà∞Áî®Êà∑ÂêçÂíåÂØÜÁ†Å„ÄÇ‰∏∫‰∫Ü‰øùÊä§Êï∞ÊçÆÁöÑÂÆâÂÖ®ÂíåÈöêÁßÅÔºåÁ¨¨‰∏âÊñπÁΩëÁ´ôËÆøÈóÆÁî®Êà∑Êï∞ÊçÆÂâçÈÉΩÈúÄË¶Å `ÊòæÂºèÂú∞ÂêëÁî®Êà∑ÂæÅÊ±ÇÊéàÊùÉ`„ÄÇÊàë‰ª¨Â∏∏ËßÅÁöÑ OAuth ËÆ§ËØÅÊúçÂä°ÁöÑÂéÇÂïÜÊúâÂæÆ‰ø°„ÄÅQQ„ÄÅÊîØ‰ªòÂÆùÁ≠â„ÄÇ\n\nOAuth ÂçèËÆÆÂèàÊúâ 1.0 Âíå 2.0 ‰∏§‰∏™ÁâàÊú¨Ôºå2.0 ÁâàÊï¥‰∏™ÊéàÊùÉÈ™åËØÅÊµÅÁ®ãÊõ¥ÁÆÄÂçïÊõ¥ÂÆâÂÖ®Ôºå‰πüÊòØÁõÆÂâçÊúÄ‰∏ªË¶ÅÁöÑÁî®Êà∑Ë∫´‰ªΩÈ™åËØÅÂíåÊéàÊùÉÊñπÂºè„ÄÇ\n\nÂ∫îÁî®Âú∫ÊôØÊúâÔºöÁ¨¨‰∏âÊñπÂ∫îÁî®ÁöÑÊé•ÂÖ•„ÄÅÂæÆÊúçÂä°Èâ¥ÊùÉ‰∫í‰ø°„ÄÅÊé•ÂÖ•Á¨¨‰∏âÊñπÂπ≥Âè∞„ÄÅÁ¨¨‰∏ÄÊñπÂØÜÁ†ÅÁôªÂΩïÁ≠â„ÄÇ\n\nÊéàÊùÉÊ®°ÂºèÔºö\n\n- ÊéàÊùÉÁ†ÅÊ®°ÂºèÔºàAuthorization Code GrantÔºâ\n- ÈöêÂºèÊéàÊùÉÊ®°ÂºèÔºàImplicit GrantÔºâ\n- ÂØÜÁ†ÅÊ®°ÂºèÔºàResource Owner Password Credentials GrantÔºâ\n- ÂÆ¢Êà∑Á´ØÊ®°ÂºèÔºàClient Credentials GrantÔºâ\n\nÊó†ËÆ∫Âì™ÁßçÊéàÊùÉÊ®°ÂºèÔºåÈÉΩÂøÖÈ°ªÊã•ÊúâÂõõÁßçÂøÖË¶ÅÁöÑËßíËâ≤ÂèÇ‰∏éÔºö`ÂÆ¢Êà∑Á´Ø`„ÄÅ`ÊéàÊùÉÊúçÂä°Âô®`„ÄÅ`ËµÑÊ∫êÊúçÂä°Âô®`ÔºåÊúâÁöÑËøòÊúâ `Áî®Êà∑ÔºàËµÑÊ∫êÊã•ÊúâËÄÖÔºâ`„ÄÇÊàë‰ª¨‰ª•ÂæÆ‰ø°ÂºÄÂèëÂπ≥Âè∞ÁöÑÊéàÊùÉÁôªÂΩï‰∏∫‰æãËß£ÈáäËøôÂõõÁßçËßíËâ≤Ôºö\n\n- ËµÑÊ∫êÊã•ÊúâËÄÖÔºàResource OwnerÔºâÔºöËøôÈáåÊåáÂæÆ‰ø°Áî®Êà∑\n- Á¨¨‰∏âÊñπÂ∫îÁî®ÔºàThird-party ApplicationÔºâÔºöÊåáÂÜÖÂµåÂú®ÂæÆ‰ø°Â∫îÁî®ÂÜÖÁöÑÁ¨¨‰∏âÊñπÂ∫îÁî®ÔºåÂΩ¢Âºè‰∏çÈôê‰∫é Web App„ÄÅÂÖ¨‰ºóÂè∑ Web ÁΩëÈ°µ„ÄÅÂ∞èÁ®ãÂ∫èÁ≠âÁ≠â\n- ÊéàÊùÉÊúçÂä°Âô®ÔºàAuthorization ServerÔºâÔºöËøôÈáåÊåáÂæÆ‰ø°ÂºÄÂèëÂπ≥Âè∞ÁöÑÊéàÊùÉÊúçÂä°\n- ËµÑÊ∫êÊúçÂä°Âô®ÔºàResource ServerÔºâÔºöÁî®‰∫éÂ≠òÂÇ®„ÄÅËé∑ÂèñÁî®Êà∑ËµÑÊ∫êÔºåËøôÈáåÊåáÁöÑÊòØÂæÆ‰ø°ÂºÄÊîæÂπ≥Âè∞ÁöÑÊúçÂä°Âô®\n\n### ÊéàÊùÉÁ†ÅÊ®°Âºè\n\nÊéàÊùÉÁ†ÅÊ®°ÂºèÊòØ OAuth 2.0 ÁõÆÂâçÊúÄÂÆâÂÖ®ÊúÄÂ§çÊùÇÁöÑÊéàÊùÉÊµÅÁ®ã„ÄÇ\n\n![ÊéàÊùÉÁ†ÅÊ®°Âºè](https://img.mrsingsing.com/authentication-authorization-code-grant.jpg)\n\nÊéàÊùÉÁ†ÅÊ®°ÂºèÁöÑÊéàÊùÉÊµÅÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜÔºö\n\n1. Client SideÔºöÁî®Êà∑+ÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´ØÁöÑ‰∫§‰∫í\n2. Server SideÔºöÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í\n3. Check Access Token'ÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í + ËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í\n\nÊï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÂÆ¢Êà∑Á´ØÊç¢ÂèñÊéàÊùÉÁ†ÅÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÊéàÊùÉÁ†ÅÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê\n\n> ÂâçÊèêÊù°‰ª∂Ôºö\n>\n> - Á¨¨‰∏âÊñπÂÆ¢Êà∑Á´ØÈúÄË¶ÅÊèêÂâç‰∏éËµÑÊ∫êÊã•ÊúâÊñπÔºàÂêåÊó∂‰πüÊòØÊéàÊùÉÊâÄÊúâÊñπÔºâÂçèÂïÜÂÆ¢Êà∑Á´Ø IDÔºàclient_idÔºâ‰ª•ÂèäÂÆ¢Êà∑Á´ØÂØÜÈí•Ôºàclient_secretÔºâ\n> - ‰∏äËø∞ÊµÅÁ®ãÊöÇÊú™Â∞Ü `scope`„ÄÅ`state` Á≠â‰æùËµñÂÖ∑‰ΩìÊ°ÜÊû∂ÁöÑÂÜÖÂÆπÂÜôËøõÊù•ÔºåËøôÈáåÂèØ‰ª•ÂèÇËÄÉ Spring Security OAuth2 ÁöÑÂÆûÁé∞\n\n**Client Server ÂÆ¢Êà∑Á´ØÊç¢ÂèñÊéàÊùÉÁ†Å**\n\nËøô‰∏™ÂÆ¢Êà∑Á´ØÂèØ‰ª•ÊòØÊµèËßàÂô®\n\n1. ÂÆ¢Êà∑Á´ØÂ∞Ü `client_id + client_secret + ÊéàÊùÉÊ®°ÂºèÊ†áËØÜÔºàgrant_typeÔºâ+ ÂõûË∞ÉÂú∞ÂùÄÔºàredirect_uriÔºâ` ÊãºÊé•Êàê URL ËÆøÈóÆÊéàÊùÉÊúçÂä°Âô®\n2. ÊéàÊùÉÊúçÂä°Á´ØËøîÂõûÁôªÂΩïÁïåÈù¢ÔºåË¶ÅÊ±Ç `Áî®Êà∑ÁôªÂΩï`ÔºàÊ≠§Êó∂Áî®Êà∑Êèê‰∫§ÁöÑË¥¶Âè∑ÂØÜÁ†ÅÁ≠âÁõ¥Êé•ÂèëÈÄÅÂà∞ÊéàÊùÉÊúçÂä°Á´ØÔºåËøõË°åÊ†°È™åÔºâ\n3. ÊéàÊùÉÊúçÂä°Á´ØËøîÂõûÊéàÊùÉÂÆ°ÊâπÁïåÈù¢Ôºå`Áî®Êà∑ÊéàÊùÉ` ÂÆåÊàê\n4. ÊéàÊùÉÊúçÂä°Á´Ø `ËøîÂõûÊéàÊùÉÁ†ÅÂà∞ÂõûË∞ÉÂú∞ÂùÄ`\n\n**Server Side ÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÊéàÊùÉÁ†ÅÊç¢Âèñ Token**\n\n1. ÂÆ¢Êà∑Á´ØÊé•Êî∂Âà∞ÊéàÊùÉÁ†ÅÔºåÂπ∂‰ΩøÁî® `ÊéàÊùÉÁ†Å + client_id + client_secret` ËÆøÈóÆÊéàÊùÉÊúçÂä°Á´ØÈ¢ÅÂèë Token ‰ª§Áâå\n2. ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™åÈÄöËøáÔºåÈ¢ÅÂèë Token ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø\n3. ÂÆ¢Êà∑Á´Ø‰øùÂ≠ò Token Âà∞Â≠òÂÇ®Âô®\n\n**Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê**\n\n1. ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥Â∏¶‰∏ä TokenÔºåËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø\n2. ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ\n3. ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê\n\nÁßªÂä®Â∫îÁî®ÂæÆ‰ø°ÁôªÂΩïÊòØÂü∫‰∫é OAuth2.0 ÂçèËÆÆÊ†áÂáÜÊûÑÂª∫ÁöÑÂæÆ‰ø° OAuth2.0 ÊéàÊùÉÁôªÂΩïÁ≥ªÁªüÔºåÂú®ÂæÆ‰ø°ÂºÄÊîæÂπ≥Âè∞Ê≥®ÂÜåÂºÄÂèëËÄÖË¥¶Âè∑ÔºåÂπ∂Êã•ÊúâÂ∑≤ÂÆ°Ê†∏ÈÄöËøáÁöÑÁßªÂä®Â∫îÁî®ÔºåÂπ∂Ëé∑ÂæóÁõ∏Â∫îÁöÑ AppID Âíå AppSecretÔºåÁî≥ËØ∑ÂæÆ‰ø°ÁôªÂΩï‰∏îÈÄöËøáÂÆ°Ê†∏ÂêéÔºåÂèØÂºÄÂßãÊé•ÂÖ•ÊµÅÁ®ã„ÄÇ\n\n```\n1. Á¨¨‰∏âÊñπÂèëËµ∑ÂæÆ‰ø°ÊéàÊùÉÁôªÂΩïËØ∑Ê±ÇÔºåÂæÆ‰ø°Áî®Êà∑ÂÖÅËÆ∏ÊéàÊùÉÁ¨¨‰∏âÊñπÂ∫îÁî®ÂêéÔºåÂæÆ‰ø°‰ºöÊãâËµ∑Â∫îÁî®ÊàñÈáçÂÆöÂêëÂà∞Á¨¨‰∏âÊñπÁΩëÁ´ôÔºåÂπ∂‰∏îÂ∏¶‰∏äÊéàÊùÉ‰∏¥Êó∂Á•®ÊçÆ code ÂèÇÊï∞\n2. ÈÄöËøá code ÂèÇÊï∞Âä†‰∏ä AppId Âíå AppSecret Á≠âÔºåÈÄöËøá API Êç¢Âèñ access_token\n3. ÈÄöËøá access_token ËøõË°åÊé•Âè£Ë∞ÉÁî®ÔºåËé∑ÂèñÁî®Êà∑Âü∫Êú¨Êï∞ÊçÆËµÑÊ∫êÊàñÂ∏ÆÂä©Áî®Êà∑ÂÆûÁé∞Âü∫Êú¨Êìç‰Ωú\n```\n\n![ÂæÆ‰ø° OAuth2.0 Ëé∑Âèñ access_token Êó∂Â∫èÂõæ](https://img.mrsingsing.com/authentication-wx-oauth2-access-token.png)\n\nËØ¶ÊÉÖÂèØ‰ª•ÂèÇÈòÖ [ÂæÆ‰ø°ÁôªÂΩïÂäüËÉΩ - ÁßªÂä®Â∫îÁî®ÂæÆ‰ø°ÁôªÂΩïÂºÄÂèëÊåáÂçó](https://developers.weixin.qq.com/doc/oplatform/Mobile_App/WeChat_Login/Development_Guide.html)ÔºåËøôÈáåÁöÑÂÆûÁé∞Â∞±ÊòØÊéàÊùÉÁ†ÅÊ®°Âºè„ÄÇ\n\n### ÈöêÂºèÊéàÊùÉÊ®°Âºè\n\n![ÈöêÂºèÊéàÊùÉÊ®°ÂºèÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-implicit-grant.jpg)\n\nÈöêÂºèÊéàÊùÉÊ®°ÂºèÂ§ßËá¥ÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö\n\n1. Client SideÔºöÁî®Êà∑+ÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´ØÁöÑ‰∫§‰∫í\n2. Check Access TokenÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í + ËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í\n\nÊï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÂÆ¢Êà∑Á´ØËÆ©Áî®Êà∑ÁôªÂΩïÊéàÊùÉÊúçÂä°Á´ØÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê\n\n**Client Side ÂÆ¢Êà∑Á´ØËÆ©Áî®Êà∑ÁôªÂΩïÊéàÊùÉÊúçÂä°Á´ØÊç¢ Token**\n\n1. ÂÆ¢Êà∑Á´ØÔºàÊµèËßàÂô®ÊàñÂçïÈ°µÂ∫îÁî®ÔºâÂ∞Ü `client_id + ÊéàÊùÉÊ®°ÂºèÊ†áËØÜÔºàgrant_typeÔºâ+ ÂõûË∞ÉÂú∞ÂùÄÔºàredirect_urlÔºâ` ÊãºÊàê URL ËÆøÈóÆÊéàÊùÉÊúçÂä°Á´Ø\n2. ÊéàÊùÉÊúçÂä°Á´ØË∑≥ËΩ¨Áî®Êà∑ÁôªÂΩïÁïåÈù¢ÔºåÁî®Êà∑ÁôªÂΩï\n3. Áî®Êà∑ÊéàÊùÉ\n4. ÊéàÊùÉÊúçÂä°Á´Ø `ËÆøÈóÆÂõûË∞ÉÂú∞ÂùÄ` ËøîÂõû Token ÁªôÂÆ¢Êà∑Á´Ø\n\n**Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê**\n\n1. ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥ÈôÑÂ∏¶ Token ËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø\n2. ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ\n3. ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê\n\n### ÂØÜÁ†ÅÊ®°Âºè\n\n![ÂØÜÁ†ÅÊ®°ÂºèÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-resource-owner-password-credentials-grant.jpg)\n\nÂØÜÁ†ÅÊ®°ÂºèÁöÑÊéàÊùÉÊµÅÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö\n\n1. Client SideÔºöÁî®Êà∑‰∏éÂÆ¢Êà∑Á´ØÁöÑ‰∫§‰∫íÔºåÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´ØÁöÑ‰∫§‰∫í\n2. Check Access Token'ÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í + ËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í\n\nÊï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÁî®Êà∑Âú®ÂÆ¢Êà∑Á´ØÊèê‰∫§Ë¥¶Âè∑ÂØÜÁ†ÅÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê\n\n**Client Server Áî®Êà∑Âú®ÂÆ¢Êà∑Á´ØÊèê‰∫§Ë¥¶Âè∑ÂØÜÁ†ÅÊç¢Âèñ Token**\n\n1. ÂÆ¢Êà∑Á´ØË¶ÅÊ±ÇÁî®Êà∑ÁôªÂΩï\n2. Áî®Êà∑ËæìÂÖ•ÂØÜÁ†ÅÔºåÂÆ¢Êà∑Á´ØÂ∞ÜË°®Âçï‰∏≠Ê∑ªÂä†ÂÆ¢Êà∑Á´ØÁöÑ `client_id + client_secret` ÂèëÈÄÅÁªôÊéàÊùÉÊúçÂä°Á´ØÈ¢ÅÂèë Token ‰ª§Áâå\n3. ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™åÁî®Êà∑Âêç„ÄÅÁî®Êà∑ÂØÜÁ†Å„ÄÅ`client_id` Âíå `client_secret`ÔºåÂùáÈÄöËøáÂêéËøîÂõû Token ÁªôÂÆ¢Êà∑Á´Ø\n4. ÂÆ¢Êà∑Á´Ø‰øùÂ≠ò Token\n\n**Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê**\n\n1. ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥Â∏¶‰∏ä TokenÔºåËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø\n2. ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ\n3. ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê\n\n### ÂÆ¢Êà∑Á´ØÊ®°Âºè\n\n![ÂÆ¢Êà∑Á´ØÊ®°ÂºèÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-client-credentials-grant.jpg)\n\nÂÆ¢Êà∑Á´ØÊ®°ÂºèÁöÑÊéàÊùÉÊµÅÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö\n\n1. Server SideÔºöÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í\n2. Check Access Token'ÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´ØÔºåËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í\n\nÊï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÂÆ¢Êà∑Á´Ø‰ΩøÁî®Ëá™Â∑±ÁöÑÊ†áËØÜÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê\n\n**Client Server ÂÆ¢Êà∑Á´Ø‰ΩøÁî®Ëá™Â∑±ÁöÑÊ†áËØÜÊç¢Âèñ Token**\n\n1. ÂÆ¢Êà∑Á´Ø‰ΩøÁî® `client_id + client_secret + ÊéàÊùÉÊ®°ÂºèÊ†áËØÜ` ÂèëÈÄÅÁªôÊéàÊùÉÊúçÂä°Á´ØÈ¢ÅÂèë Token ‰ª§Áâå\n2. ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™åÈÄöËøáÂêéËøîÂõû Token ÁªôÂÆ¢Êà∑Á´Ø\n3. ÂÆ¢Êà∑Á´Ø‰øùÂ≠ò Token\n\n**Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê**\n\n1. ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥Â∏¶‰∏ä TokenÔºåËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø\n2. ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ\n3. ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê\n\n### ÊéàÊùÉÊ®°ÂºèÈÄâÂûã\n\nËÄÉËôëÂà∞ÊéàÊùÉÂú∫ÊôØÁöÑÂ§öÊ†∑ÊÄßÔºåÂèØ‰ª•ÂèÇËÄÉ‰ª•‰∏ã‰∏§ÁßçÈÄâÂûãÊñπÂºèÔºö\n\n- ÊåâÊéàÊùÉÈúÄË¶ÅÁöÑÂ§öÁ´ØÊÉÖÂÜµ\n- ÊåâÂÆ¢Êà∑Á´ØÁ±ªÂûã‰∏éÊâÄÊúâËÄÖ\n\nÊåâÊéàÊùÉÈúÄË¶ÅÁöÑÂ§öÁ´ØÊÉÖÂÜµÔºö\n\n| Ê®°Âºè                              | ÈúÄË¶ÅÂâçÁ´Ø | ÈúÄË¶ÅÂêéÁ´Ø | ÈúÄË¶ÅÁî®Êà∑ÂìçÂ∫î | ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÂØÜÈí• |\n| :-------------------------------- | :------- | :------- | :----------- | :------------- |\n| ÊéàÊùÉÁ†ÅÊ®°Âºè Authorization Code     | ‚úì        | ‚úì        | ‚úì            | ‚úì              |\n| ÈöêÂºèÊéàÊùÉÊ®°Âºè Implicit Grant       | ‚úì        | ‚úó        | ‚úì            | ‚úó              |\n| ÂØÜÁ†ÅÊéàÊùÉÊ®°Âºè Password Grant       | ‚úì        | ‚úì        | ‚úì            | ‚úì              |\n| ÂÆ¢Êà∑Á´ØÊéàÊùÉÊ®°Âºè Client Credentials | ‚úó        | ‚úì        | ‚úó            | ‚úì              |\n\nÊåâÁÖßÂÆ¢Êà∑Á´ØÁ±ªÂûã‰∏éËÆøÈóÆ‰ª§ÁâåÊâÄÊúâËÄÖÂàÜÁ±ªÔºö\n\n![OAuth2.0 Ê®°ÂºèÈÄâÂûã](https://img.mrsingsing.com/authentication-oauth2-mode-selection.jpg)\n\n## ËÅîÂêàÁôªÂΩï\n\nËÅîÂêàÁôªÂΩïÊåáÂêåÊó∂ÂåÖÂê´Â§öÁßçÂá≠ËØÅÊ†°È™åÁöÑÁôªÂΩïÊúçÂä°ÔºåÂêåÊó∂Ôºå‰πüÂèØ‰ª•ÁêÜËß£‰∏∫‰ΩøÁî®Á¨¨‰∏âÊñπÂá≠ËØÅËøõË°åÊ†°È™åÁöÑÁôªÂΩïÊúçÂä°„ÄÇËøô‰∏™Ê¶ÇÂøµÊúâÁÇπÂÉè OAuth2.0 ÁöÑËÆ§ËØÅÊñπÂºè„ÄÇ\n\nÊúÄÁªèÂÖ∏ÁöÑËé´Ëøá‰∫é APP ÂÜÖÂµå H5 ÁöÑ‰ΩøÁî®Âú∫ÊôØÔºåÂΩìÁî®Êà∑‰ªé APP ËøõÂÖ•ÂÜÖÂµåÁöÑ H5 Êó∂ÔºåÊàë‰ª¨Â∏åÊúõ APP ÂÜÖÂ∑≤ÁôªÂΩïÁöÑÁî®Êà∑ËÉΩÂ§üËÆøÈóÆÂà∞ H5 ÂÜÖÂèóÈôêÁöÑËµÑÊ∫êÔºåËÄåÊú™ÁôªÂΩïÁöÑÁî®Êà∑ÂàôÈúÄË¶ÅÁôªÂΩïÂêéËÆøÈóÆ„ÄÇ\n\nËøôÈáåÊÄùË∑Ø‰∏ªË¶ÅÊúâ‰∏§ÁßçÔºå‰∏ÄÁßçÊòØÂéüÁîüË∑≥ËΩ¨ÂÜÖÂµå H5 È°µÈù¢Êó∂ÔºåÂ∞ÜÁôªÂΩïÊÄÅ Token ÈôÑÂä†Âú® URL ÂèÇÊï∞‰∏äÔºåÂè¶‰∏ÄÁßçÂàôÊòØÂÜÖÂµå H5 ‰∏ªÂä®ÈÄöËøá‰∏éÂéüÁîüÂÆ¢Êà∑Á´ØÂà∂ÂÆöÁöÑÂçèËÆÆËé∑ÂèñÂ∫îÁî®ÂÜÖÁöÑÁôªÂΩïÁä∂ÊÄÅ„ÄÇ\n\n## Êâ´Á†ÅÁôªÂΩï\n\n‰∫åÁª¥Á†Å‰πüÁß∞‰∏∫‰∫åÁª¥Êù°Á†ÅÔºåÊòØÊåáÂú®‰∏ÄÁª¥Êù°Á†ÅÁöÑÂü∫Á°Ä‰∏äÊâ©Â±ïÂá∫Âè¶‰∏ÄÁª¥ÂÖ∑ÊúâÂèØËØªÊÄßÁöÑÊù°Á†ÅÔºå‰ΩøÁî®ÈªëÁôΩÁü©ÂΩ¢ÂõæÊ°àË°®Á§∫‰∫åËøõÂà∂Êï∞ÊçÆÔºåË¢´ËÆæÂ§áÊâ´ÊèèÂêéÂèØËé∑ÂèñÂÖ∂‰∏≠ÊâÄÂåÖÂê´ÁöÑ‰ø°ÊÅØ„ÄÇ‰∏ÄÁª¥Êù°Á†ÅÁöÑÂÆΩÂ∫¶ËÆ∞ËΩΩÁùÄÊï∞ÊçÆÔºåËÄåÂÖ∂ÈïøÂ∫¶Ê≤°ÊúâËÆ∞ËΩΩÊï∞ÊçÆ„ÄÇ‰∫åÁª¥Á†ÅÁöÑÈïøÂ∫¶„ÄÅÂÆΩÂ∫¶ÂùáËÆ∞ËΩΩÁùÄÊï∞ÊçÆ„ÄÇ‰∫åÁª¥Á†ÅÊúâ‰∏ÄÁª¥Êù°Á†ÅÊ≤°ÊúâÁöÑ **ÂÆö‰ΩçÁÇπ\\*- Âíå **ÂÆπÈîôÊú∫Âà∂\\*\\*„ÄÇÂÆπÈîôÊú∫Âà∂Âú®Âç≥‰ΩøÊ≤°ÊúâËØÜÂà´Âà∞ÂÖ®ÈÉ®ÁöÑÊù°Á†Å„ÄÅÊàñÊòØËØ¥Êù°Á†ÅÊúâÊ±°ÊçüÊó∂Ôºå‰πüÂèØ‰ª•Ê≠£Á°ÆÂú∞ËøòÂéüÊù°Á†Å‰∏äÁöÑ‰ø°ÊÅØ„ÄÇ\n\nÊâ´Á†ÅÁôªÂΩïÈÄöÂ∏∏ËßÅ‰∫éÁßªÂä®Á´Ø APP ‰∏≠ÔºåÂü∫Êú¨Êìç‰ΩúÊµÅÁ®ãÊòØËÆ©Â∑≤ÁôªÂΩïÁî®Êà∑‰∏ªÂä®Êâ´Êèè‰∫åÁª¥Á†ÅÔºå‰ª•‰Ωø PC Á´ØÁöÑÂêåÊ¨æÂ∫îÁî®Âæó‰ª•Âø´ÈÄüÁôªÂΩïÁöÑÊñπÂºèÔºåÂ∏∏ËßÅÁöÑÂÖ∑Â§áÊâ´Á†ÅÁôªÂΩïÁöÑÂ∫îÁî®ÊúâÂæÆ‰ø°„ÄÅÈíâÈíâ„ÄÅÊîØ‰ªòÂÆùÁ≠â„ÄÇ\n\n![Êâ´Á†ÅÁôªÂΩïÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-scan-qrcode-login-workflow.jpg)\n\nÊâ´Á†ÅÁôªÂΩïÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™Èò∂ÊÆµÔºöÂæÖÊâ´Á†Å„ÄÅÂ∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§ÂíåÂ∑≤Á°ÆËÆ§„ÄÇ\n\n### ÂæÖÊâ´Á†ÅÈò∂ÊÆµ\n\n**ÂæÖÊâ´Á†ÅÈò∂ÊÆµ**Âç≥‰∏äËø∞ÊµÅÁ®ãÂõæ‰∏≠ 1~5 ÁöÑÈò∂ÊÆµÔºå‰∫¶Âç≥ÁîüÊàê‰∫åÁª¥Á†ÅÈò∂ÊÆµÔºåËøô‰∏™Èò∂ÊÆµ‰∏éÁßªÂä®Á´ØÊ≤°ÊúâÂÖ≥Á≥ªÔºå‰∏ªË¶ÅÊòØ PC Á´Ø‰∏éÊúçÂä°Á´ØËøõË°å‰∫§‰∫íÁöÑËøáÁ®ã„ÄÇ\n\nÈ¶ñÂÖà PC Á´ØÊê∫Â∏¶ËÆæÂ§á‰ø°ÊÅØÂêëÊúçÂä°Á´ØÂèëËµ∑‰∫ÜÁîüÊàê‰∫åÁª¥Á†ÅËØ∑Ê±ÇÔºåÊúçÂä°Á´ØÊé•Êî∂Âà∞ËØ∑Ê±ÇÂêéÁîüÊàê `UUID` ‰Ωú‰∏∫‰∫åÁª¥Á†Å IDÔºåÂπ∂Â∞Ü UUID ‰∏é `PC Á´ØÁöÑËÆæÂ§á‰ø°ÊÅØ` ÂÖ≥ËÅîËµ∑Êù•Â≠òÂÇ®Âú® Redis ÊúçÂä°Âô®‰∏≠ÔºåÁÑ∂ÂêéËøîÂõûÁªô PC Á´Ø„ÄÇ\n\nÂΩì PC Á´ØÊî∂Âà∞‰∫åÁª¥Á†Å ID ‰πãÂêéÔºåÂ∞Ü‰∫åÁª¥Á†Å ID ‰ª• `‰∫åÁª¥Á†ÅÁöÑÂΩ¢Âºè` Â±ïÁ§∫ÔºåÁ≠âÂæÖÁßªÂä®Á´ØÊâ´Á†Å„ÄÇÊ≠§Êó∂ PC Á´ØÂºÄÂßãËΩÆËØ¢Êü•ËØ¢‰∫åÁª¥Á†ÅÁä∂ÊÄÅÔºåÁõ¥Âà∞ÁôªÂΩïÊàêÂäü„ÄÇÂΩìÁÑ∂Èô§‰∫Ü‰ΩøÁî®ËΩÆËØ¢Êü•ËØ¢Ôºå‰πüËÉΩ‰ΩøÁî® WebSocket ÂÆûÁé∞Êü•ËØ¢/Êé®ÈÄÅ‰∫åÁª¥Á†ÅÁä∂ÊÄÅÁöÑÈúÄÊ±Ç„ÄÇÂ¶ÇÊûúÁßªÂä®Á´ØÊú™Êâ´ÊèèÔºåÈÇ£‰πà‰∏ÄÊÆµÊó∂Èó¥Âêé‰∫åÁª¥Á†Å‰ºöËá™Âä®Â§±Êïà„ÄÇ\n\n### Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ\n\n**Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ**‰∫¶Âç≥ÊµÅÁ®ãÂõæ‰∏≠ÁöÑ 6~10 ÁöÑÈò∂ÊÆµÔºåÂú® PC Á´ØÁôªÂΩïÂæÆ‰ø°Êó∂ÔºåÊâãÊú∫Êâ´Á†ÅÂêéÔºåPC Á´ØÁöÑ‰∫åÁª¥Á†Å‰ºöÊòæÁ§∫‰∏∫Â∑≤Êâ´Á†ÅÔºåÂπ∂ÊèêÁ§∫ÈúÄË¶ÅÂú®ÊâãÊú∫‰∏äÁ°ÆËÆ§ÔºåËøô‰∏™Èò∂ÊÆµÊòØÁßªÂä®Á´Ø‰∏éÊúçÂä°Á´Ø‰∫§‰∫íÁöÑËøáÁ®ã„ÄÇ\n\nÁßªÂä®Á´ØÊâ´Êèè‰∫åÁª¥Á†ÅÂêéÔºå‰ºöËá™Âä®Ëé∑ÂèñÂà∞‰∫åÁª¥Á†Å IDÔºåÂπ∂Â∞ÜÁßªÂä®Á´ØÁôªÂΩïÁöÑ‰ø°ÊÅØÂá≠ËØÅÔºàTokenÔºâÂíå‰∫åÁª¥Á†Å ID ‰Ωú‰∏∫ÂèÇÊï∞ÂèëÈÄÅÁªôÊúçÂä°Á´ØÔºåÊ≠§Êó∂ÊâãÊú∫ÂøÖÈ°ªÊòØÂ∑≤ÁôªÂΩïÔºà‰ΩøÁî®Êâ´ÊèèÁôªÂΩïÁöÑÂâçÊèêÊòØÁßªÂä®Á´ØÁöÑÂ∫îÁî®‰∏∫Â∑≤ÁôªÂΩïÁä∂ÊÄÅÔºåËøôÊ†∑ÊâçÂèØ‰ª•ÂÖ±‰∫´ÁôªÂΩïÊÄÅÔºâ„ÄÇ\n\nÊúçÂä°Á´ØÊé•ÂèóËØ∑Ê±ÇÂêéÔºå‰ºöÂ∞Ü `Token ‰∏é‰∫åÁª¥Á†Å ID` ÂÖ≥ËÅîÔºå‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂÖ≥ËÅîÂë¢ÔºüÂõ†‰∏∫ÔºåÂΩìÊàë‰ª¨Âú®‰ΩøÁî®ÂæÆ‰ø°Êó∂ÔºåÁßªÂä®Á´ØÈÄÄÂá∫Êó∂ÔºåPC Á´Ø‰πüÂ∫îËØ•Èöè‰πãÈÄÄÂá∫ÁôªÂΩïÔºåËøô‰∏™ÂÖ≥ËÅîÂ∞±Ëµ∑Âà∞Ëøô‰∏™‰ΩúÁî®„ÄÇÁÑ∂Âêé‰ºöÁîüÊàê‰∏Ä‰∏™‰∏ÄÊ¨°ÊÄß TokenÔºåËøô‰∏™ Token ‰ºöËøîÂõûÁªôÁßªÂä®Á´ØÔºå‰∏ÄÊ¨°ÊÄß Token Áî®‰ΩúÁ°ÆËÆ§Êó∂ÁöÑÂá≠ËØÅ„ÄÇ\n\nPC Á´ØËΩÆËØ¢Âà∞‰∫åÁª¥Á†ÅÁöÑÁä∂ÊÄÅÂ∑≤ÁªèÂèëÁîüÂèòÂåñÔºå‰ºöÂ∞Ü PC Á´ØÁöÑ‰∫åÁª¥Á†ÅÊõ¥Êñ∞‰∏∫Â∑≤Êâ´ÊèèÔºåËØ∑Á°ÆËÆ§„ÄÇ\n\n### Â∑≤Á°ÆËÆ§Èò∂ÊÆµ\n\n**Â∑≤Á°ÆËÆ§Èò∂ÊÆµ**‰∏∫ÊµÅÁ®ãÂõæ‰∏≠ÁöÑÊ≠•È™§ 11~15ÔºåËøôÊòØÊâ´Á†ÅÁôªÂΩïÁöÑÊúÄÂêéÈò∂ÊÆµÔºåÁî®Êà∑Á°ÆËÆ§ÁôªÂΩïÔºåÁßªÂä®Á´ØÊê∫Â∏¶‰∏ä‰∏ÄÊ≠•‰∏≠Ëé∑ÂèñÁöÑ `‰∏¥Êó∂ Token` ÂèëÈÄÅÁªôÊúçÂä°Á´ØÊ†°È™å„ÄÇÊúçÂä°Á´ØÊ†°È™åÂÆåÊàêÂêéÔºå‰ºöÊõ¥Êñ∞‰∫åÁª¥Á†ÅÁä∂ÊÄÅÔºåÂπ∂‰∏îÁªô PC Á´ØÁîüÊàê‰∏Ä‰∏™ `Ê≠£ÂºèÁöÑ Token`ÔºåÂêéÁª≠ PC Á´ØÂ∞±ÊòØÊåÅÊúâËøô‰∏™ Token ËÆøÈóÆÊúçÂä°Á´Ø„ÄÇ\n\nPC Á´ØÁöÑÂÆöÊó∂Âô®ÔºåËΩÆËØ¢Âà∞‰∫åÁª¥Á†ÅÁä∂ÊÄÅ‰∏∫Â∑≤ÁôªÂΩïÁä∂ÊÄÅÔºåÂπ∂‰∏î‰ºöËé∑ÂèñÂà∞‰∫ÜÁîüÊàêÁöÑ TokenÔºåÂÆåÊàêÁôªÂΩïÔºåÂêéÁª≠ËÆøÈóÆÈÉΩÂü∫‰∫é Token ÂÆåÊàê„ÄÇ\n\nÂú®ÊúçÂä°Á´Ø‰ºöË∑üÁßªÂä®Á´Ø‰∏ÄÊ†∑ÔºåÁª¥Êä§ÁùÄ Token Ë∑ü‰∫åÁª¥Á†Å„ÄÅPC ËÆæÂ§á‰ø°ÊÅØ„ÄÅË¥¶Âè∑Á≠â‰ø°ÊÅØ„ÄÇ\n\n## ‰∏ÄÈîÆÁôªÂΩï\n\nÊúÄ‰º†ÁªüÁöÑÁôªÂΩïÊñπÂºèËé´Ëøá‰∫éÊèê‰æõË¥¶Âè∑ÂØÜÁ†ÅÊ†°È™åÔºå‰ΩÜËøôÊØ´Êó†ÁñëÈóÆÈúÄË¶ÅÊ∂àËÄóÁî®Êà∑ÁöÑËÆ∞ÂøÜÊàêÊú¨„ÄÇÈöèÁùÄÊó†Á∫ø‰∫íËÅîÁöÑÂèëÂ±ï‰ª•ÂèäÊâãÊú∫Âç°ÂÆûÂêçÂà∂ÁöÑÊé®ÂπøÔºåÊâãÊú∫Âè∑‰ø®ÁÑ∂Â∑≤Êàê‰∏∫ÁâπÂà´ÁöÑË∫´‰ªΩËØÅÊòéÔºå‰∏éË¥¶Âè∑ÂØÜÁ†ÅÁõ∏ÊØîÔºåÊâãÊú∫Âè∑ÂèØ‰ª•Êõ¥Â•ΩÂú∞È™åËØÅÁî®Êà∑ÁöÑË∫´‰ªΩÔºåÈò≤Ê≠¢ÊÅ∂ÊÑèÊ≥®ÂÜå„ÄÇ\n\n‰ΩÜÊòØÊâãÊú∫Âè∑Ê≥®ÂÜåËøòÊòØÈúÄË¶Å‰∏ÄÁ≥ªÂàóÁπÅÁêêÁöÑÊìç‰ΩúÔºöËæìÂÖ•ÊâãÊú∫Âè∑„ÄÅÁ≠âÂæÖÁü≠‰ø°È™åËØÅÁ†Å„ÄÅËæìÂÖ•È™åËØÅÁ†Å„ÄÅÁÇπÂáªÁôªÂΩï„ÄÇÊï¥‰∏™ÊµÅÁ®ãÂ∞ëËØ¥‰∫åÂçÅÁßíÔºåËÄå‰∏îÂ¶ÇÊûúÊî∂‰∏çÂà∞Áü≠‰ø°Ôºå‰πüÂ∞±ÁôªÂΩïË°•‰∫ÜÔºåËøôÁ±ªÈóÆÈ¢òÊúâÂèØËÉΩÂØºËá¥ÊΩúÂú®ÁöÑÁî®Êà∑ÊµÅÂ§±„ÄÇ\n\nÁü≠‰ø°È™åËØÅÁ†ÅÁöÑ‰ΩúÁî®Â∞±ÊòØËØÅÊòéÂΩìÂâçÊìç‰ΩúÈ°µÈù¢ÁöÑÁî®Êà∑‰∏éËæìÂÖ•ÊâãÊú∫Âè∑ÁöÑÁî®Êà∑‰∏∫Áõ∏ÂêåÁöÑ‰∫∫ÔºåÈÇ£‰πàÂÆûÈôÖ‰∏äÂè™Ë¶ÅÊàë‰ª¨ËÉΩÂ§üËé∑ÂèñÂà∞ÂΩìÂâçÊâãÊú∫ÁöÑÊâãÊú∫Âè∑Âπ∂‰∏éËæìÂÖ•ÁöÑÊâãÊú∫Âè∑ÂØπÊØîÂåπÈÖçÂêé‰æøËÉΩËææÂà∞Ê†°È™åÁöÑÂäüËÉΩ„ÄÇ‰ΩÜÊòØÔºåÊó†ËÆ∫ÊòØÂéüÁîü APP ËøòÊòØ H5 ÁΩëÈ°µÈÉΩÊòØ‰∏çÂÖ∑Â§áÁõ¥Êé•Ëé∑ÂèñÁî®Êà∑ÊâãÊú∫Âè∑ÁöÑÂäüËÉΩÁöÑÔºåËÄåËøôÁßçÈúÄÊ±ÇËøêËê•ÂïÜËÉΩÂ§üÈÄöËøáÊâãÊú∫ SIM Âç°ÁöÑÊµÅÈáèÊï∞ÊçÆÊü•ËØ¢„ÄÇÈöèÁùÄËøêËê•ÂïÜÂºÄÊîæ‰∫ÜÁõ∏ÂÖ≥ÁöÑÊúçÂä°ÔºåÊàë‰ª¨ËÉΩÂ§üÊé•ÂÖ•ËøêËê•ÂïÜÊèê‰æõÁöÑ SDK Âπ∂‰ªòË¥π‰ΩøÁî®Áõ∏ÂÖ≥ÁöÑÊúçÂä°„ÄÇ\n\n‰∏ãÂõæ‰∏∫‰∏ÄÈîÆÁôªÂΩïÁöÑÊµÅÁ®ãÂõæÔºö\n\n![‰∏ÄÈîÆÁôªÂΩïÊµÅÁ®ãÂõæ](https://img.mrsingsing.com/authentication-one-click-login-workflow.png)\n\n‰∏ªË¶ÅÊ≠•È™§Ôºö\n\n1. SDK ÂàùÂßãÂåñÔºöË∞ÉÁî® SDK ÊñπÊ≥ïÔºå‰º†ÂÖ•Âπ≥Âè∞ÈÖçÁΩÆÁöÑ AppKey Âíå AppSecret\n2. Âî§Ëµ∑ÊéàÊùÉÈ°µÔºöË∞ÉÁî® SDK Âî§Ëµ∑ÊéàÊùÉÊé•Âè£ÔºåSDK ‰ºöÂÖàÂêëËøêËê•ÂïÜÂèëËµ∑Ëé∑ÂèñÊâãÊú∫Âè∑Êé©Á†ÅÁöÑËØ∑Ê±ÇÔºåËØ∑Ê±ÇÊàêÂäüÂêéË∑≥Âà∞ÊéàÊùÉÈ°µ„ÄÇÊéàÊùÉÈ°µ‰ºöÊòæÁ§∫ÊâãÊú∫Âè∑Êé©Á†Å‰ª•ÂèäËøêËê•ÂïÜÂçèËÆÆÁªôÁî®Êà∑Á°ÆËÆ§„ÄÇ\n3. ÂêåÊÑèÊéàÊùÉÂπ∂ÁôªÂΩïÔºöÁî®Êà∑ÂêåÊÑèÁõ∏ÂÖ≥ÂçèËÆÆÔºåÁÇπÂáªÊéàÊùÉÈ°µÈù¢ÁöÑÁôªÂΩïÊåâÈíÆÔºåSDK ‰ºöËØ∑Ê±ÇÊú¨Ê¨°ÂèñÂè∑ÁöÑ TokenÔºåËØ∑Ê±ÇÊàêÂäüÂêéÂ∞Ü Token ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø\n4. ÂèñÂè∑ÔºöÂ∞ÜËé∑ÂèñÂà∞ÁöÑ Token ÂèëÈÄÅÂà∞Ëá™Â∑±ÁöÑÊúçÂä°Âô®ÔºåÁî±ÊúçÂä°Á´ØÊê∫Â∏¶ Token Ë∞ÉÁî®ËøêËê•ÂïÜ‰∏ÄÈîÆÁôªÂΩïÁöÑÊé•Âè£ÔºåË∞ÉÁî®ÈôàÂ∑•Â∞±ËøîÂõûÊâãÊú∫Âè∑Á†Å„ÄÇÊúçÂä°Á´ØÁî®ÊâãÊú∫Âè∑ËøõË°åÁôªÂΩïÊàñÊ≥®ÂÜåÊìç‰ΩúÔºåËøîÂõûÊìç‰ΩúÁªìÊûúÁªôÂÆ¢Êà∑Á´ØÔºåÂÆåÊàê‰∏ÄÈîÆÁôªÂΩï„ÄÇ\n\nÁî±‰∫éÂõΩÂÜÖ‰∏âÂ§ßËøêËê•ÂïÜÂêÑËá™ÊúâÁã¨Á´ãÁöÑ SDKÔºåÊâÄ‰ª•‰ºöÂØºËá¥ÂÖºÂÆπÊñπÈù¢ÁöÑÂ∑•‰Ωú‰ºöÁâπÂà´ÁπÅÁêê„ÄÇÂ¶ÇÊûúË¶ÅÈááÁî®‰∏ÄÈîÆÁôªÂΩïÁöÑÊñπÊ°àÔºå‰∏çÂ¶®ÈááÁî®Á¨¨‰∏âÊñπÊèê‰æõ‰∫ÜÂè∑Á†ÅËÆ§ËØÅÊúçÂä°Ôºå‰∏ãÂàóÂá†ÂÆ∂‰æõÂ∫îÂïÜÈÉΩÊã•ÊúâÊâãÊú∫Âè∑Á†ÅËÆ§ËØÅËÉΩÂäõÔºö\n\n- [ÈòøÈáå - Âè∑Á†ÅËÆ§ËØÅÊúçÂä°](https://help.aliyun.com/product/75010.html)\n- [ÂàõËìù - Èó™È™å](http://shanyan.253.com/)\n- [ÊûÅÂÖâ - ÊûÅÂÖâËÆ§ËØÅ](https://www.jiguang.cn/identify)\n- [mob - ÁßíÈ™å](https://www.mob.com/mobService/secverify)\n\nÂú®ËÆ§ËØÅËøáÁ®ã‰∏≠ÔºåÈúÄË¶ÅÁî®Êà∑ÊâìÂºÄËúÇÁ™ùÁΩëÁªúÔºåÂ¶ÇÊûúÊâãÊú∫ËÆæÂ§áÊ≤°ÊúâÊèíÂÖ• SIM Âç°„ÄÅÊàñËÄÖÂÖ≥Èó≠ËúÇÁ™ùÁΩëÁªúÁöÑÊÉÖÂÜµ‰∏ãÔºåÊòØÊó†Ê≥ïÂÆåÊàêËÆ§ËØÅÁöÑ„ÄÇÊâÄ‰ª•Â∞±ÁÆóÊé•ÂÖ•‰∏ÄÈîÆÁôªÂΩïÔºåËøòÊòØË¶ÅÂÖºÂÆπ‰º†ÁªüÁöÑÁôªÂΩïÊñπÂºèÔºåÂÖÅËÆ∏Áî®Êà∑Âú®Â§±Ë¥•ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ªçËÉΩÊ≠£Â∏∏ÂÆåÊàêÁôªÂΩïÊµÅÁ®ã„ÄÇ\n\n## ÊÄªÁªì\n\nÈâ¥ÊùÉÊéàÊùÉÊòØËÆ°ÁÆóÊú∫È¢ÜÂüüÊó†Ê≥ïË∫≤ÈÅøÁöÑÊäÄÊúØËÆÆÈ¢òÔºåËÆ§ËØÅ„ÄÅÊéàÊùÉ„ÄÅÈâ¥ÊùÉÂíåÊùÉÈôêÊéßÂà∂ÊòØÂõ¥ÁªïËøô‰∏™ËÆÆÈ¢òÁöÑÂá†‰∏™ÂÖ≥ÈîÆÊ¶ÇÂøµÔºöËÆ§ËØÅÔºàIdentificationÔºâÊòØÊåáÊ†πÊçÆÂ£∞ÊòéËÄÖÊèê‰æõÁöÑËµÑÊñôÔºåÁ°ÆËÆ§Â£∞ÊòéËÄÖË∫´‰ªΩÔºõÊéàÊùÉÔºàAuthorizationÔºâÂàôÊòØËµÑÊ∫êÊâÄÊúâËÄÖÂßîÊ¥æÊâßË°åËÄÖÔºåËµã‰∫àÊâßË°åËÄÖÊåáÂÆöËåÉÂõ¥ÁöÑËµÑÊ∫êÊìç‰ΩúÊùÉÈôêÔºå‰ª•‰æøÊâßË°åËÄÖ‰ª£ÁêÜÊâßË°åÂØπËµÑÊ∫êÁöÑÁõ∏ÂÖ≥Êìç‰ΩúÔºõÈâ¥ÊùÉÔºàAuthenticationÔºâÊåáÁöÑÂØπÂ£∞ÊòéËÄÖÊâÄÂ£∞ÊòéÁöÑÁúüÂÆûÊÄßËøõË°åÊ†°È™å„ÄÇ‰ªéÊéàÊùÉËßíÂ∫¶Âá∫ÂèëÔºå‰ºöÊõ¥Âä†ÂÆπÊòìÁêÜËß£Èâ¥ÊùÉ„ÄÇÊéàÊùÉÂíåÈâ¥ÊùÉÊòØ‰∏§‰∏™‰∏ä‰∏ãÊ∏∏Áõ∏ÂåπÈÖçÁöÑÂÖ≥Á≥ªÔºåÂÖàÊéàÊùÉÔºåÂêéÈâ¥ÊùÉ„ÄÇ\n\n- Authorization ÂÜ≥ÂÆö‰Ω†ÊòØÂê¶ÊúâÊùÉÈôêÂéªËé∑ÂèñËµÑÊ∫ê\n- Authentication Ê†°È™å‰Ω†ËØ¥‰Ω†ÊòØË∞Å\n\n```\nÊéàÊùÉ -> Èâ¥ÊùÉ -> ÊùÉÈôêÊéßÂà∂\n```\n\nËä±‰∫Ü‰∏ÄÂë®Êó∂Èó¥Â∞ÜÁôªÂΩïÈâ¥ÊùÉÊéàÊùÉÊñπÈù¢ÁöÑÁü•ËØÜÊÄªÁªì‰∫Ü‰∏ÄÁï™ÔºåÁ°ÆËÆ§ÂØπÂêÑÁßçÊñπÊ°àÁöÑÂÆûÊñΩÁªÜËäÇÔºå‰ª•ÂèäËÆæËÆ°ÂéüÁêÜ„ÄÅÊñπÊ°à‰ºòÂä£ÈÉΩÊúâ‰∫ÜÊõ¥Ê∑±‰∏ÄÂ±ÇÁöÑ‰∫ÜËß£ÔºåÂú®Â≠¶‰π†ÁöÑËøáÁ®ã‰∏≠‰∏çÂÖç‰ºöËÅîÊÉ≥Âà∞Êó†ËÆ∫ÊòØÁîüÊ¥ª‰∏≠ÂêÑÁßçÁ±ª‰ººÁöÑÂú∫ÊôØÔºå‰πü‰ºöÊÉ≥Âà∞ËÆ°ÁÆóÊú∫È¢ÜÂüü‰∏≠ËØ∏Â¶Ç Linux Á≥ªÁªü„ÄÅÊï∞ÊçÆÂ∫ìÁ≠âÊùÉÈôêÊéßÂà∂Áõ∏ÂÖ≥Êú∫Âà∂„ÄÇËøôÊòØ‰∏™ËûçÊ±áË¥ØÈÄöÁöÑÂ≠¶‰π†ËøáÁ®ãÔºåÂèëÁé∞ËøôÁßçÈíàÂØπÊüê‰∏™ËÆÆÈ¢òÁöÑ‰ΩìÁ≥ªÂºèÊï¥ÁêÜÔºåÂØπÂâçÁ´ØÊäÄÊúØ‰ΩìÁ≥ª‰∏≠ÂêÑ‰∏™Áã¨Á´ãÁöÑÁÇπËøûÈÄöËµ∑Âà∞‰∫Ü‰∏çÈîôÁöÑÊïàÊûú„ÄÇ\n\n---\n\n**ÂèÇËÄÉËµÑÊñôÔºö**\n\n- [üìñ WikipediaÔºöBasic Access Authentication](https://en.wikipedia.org/wiki/Basic_access_authentication)\n- [üìñ HTTP Ë∫´‰ªΩÈ™åËØÅ Authentication](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Authentication)\n- [üìñ RFC 7019 - JSON Web TokenÔºàJWTÔºâ](https://tools.ietf.org/html/rfc7519)\n- [üìñ CAS ÂÆòÊñπÊñáÊ°£](https://apereo.github.io/cas/4.2.x/index.html)\n- [üìù ‰∏ÄÊñáËØªÊáÇ HTTP Basic Ë∫´‰ªΩËÆ§ËØÅ](https://juejin.im/entry/5ac175baf265da239e4e3999)\n- [üìù ‰Ω†Âú®Áî® JWT ‰ª£Êõø SessionÔºü](https://zhuanlan.zhihu.com/p/43527568)\n- [üìù Áî®Êà∑ËÆ§ËØÅÔºöÂü∫‰∫é JWT Âíå Session ÁöÑÂå∫Âà´Âíå‰ºòÁº∫ÁÇπ](https://juejin.im/post/5cefad23e51d4510774a87f4#heading-4)\n- [üìù JWT Ë∫´‰ªΩËÆ§ËØÅ‰ºòÁº∫ÁÇπÂàÜÊûê‰ª•ÂèäÂ∏∏ËßÅÈóÆÈ¢òËß£ÂÜ≥ÊñπÊ°à](https://zhuanlan.zhihu.com/p/85873228)\n- [üìù ÂâçÁ´ØÈúÄË¶Å‰∫ÜËß£ÁöÑ SSO ‰∏é CAS Áü•ËØÜ](https://juejin.im/post/5a002b536fb9a045132a1727)\n- [üìù ‰∏çÂä°Ê≠£‰∏öÁöÑÂâçÁ´Ø‰πã SSOÔºàÂçïÁÇπÁôªÂΩïÔºâÂÆûË∑µ](https://juejin.im/post/5b51f39b5188251a9f24a264)\n- [üìù Èù¢ËØïÈ¢òÔºöÁªôÊàëËØ¥‰∏Ä‰∏ã‰Ω†È°πÁõÆ‰∏≠ÁöÑÂçïÁÇπÁôªÂΩïÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑ](https://zhuanlan.zhihu.com/p/102898335)\n- [üìù ÂçïÁÇπÁôªÂΩïÁ≥ªÁªü](https://zhuanlan.zhihu.com/p/60376970)\n- [üìù ÂçïÁÇπÁôªÂΩïÂéüÁêÜ‰∏éÁÆÄÂçïÂÆûÁé∞](https://www.cnblogs.com/ywlaker/p/6113927.html)\n- [üìù ÂçïÁÇπÁôªÂΩï LDAP ÂçèËÆÆ](https://zhuanlan.zhihu.com/p/92263756)\n- [üìù ‰ø°‰ªªÁôªÂΩï‰∏éËÅîÂêàÁôªÂΩïÊúâ‰ªÄ‰πàÂ∑ÆÂºÇÔºü](https://www.zhihu.com/question/21387523)\n- [üìù OAuth2.0 Ê∑±ÂÖ•‰∫ÜËß£Ôºö‰ª•ÂæÆ‰ø°ÂºÄÂèëÂπ≥Âè∞Áªü‰∏ÄÁôªÂΩï‰∏∫‰æã](https://juejin.im/entry/5a93506e6fb9a0634c268da8)\n- [üìù OAuth 2.0 Ê¶ÇÂøµÂèäÊéàÊùÉÊµÅÁ®ãÊ¢≥ÁêÜ](https://www.cnblogs.com/hellxz/p/oauth2_process.html)\n- [üìù ËÆ∫ H5 ÂµåÂÖ• APP ÁöÑËÅîÂêàÁôªÂΩïÁöÑËß£ÂÜ≥ÊñπÊ°à](https://juejin.im/post/5d15d3336fb9a07efb69994f)\n- [üìù ËÅä‰∏ÄËÅä‰∫åÁª¥Á†ÅÊâ´ÊèèÁôªÂΩïÂéüÁêÜ](https://juejin.im/post/5e83e716e51d4546c27bb559)\n- [üìù ÈòøÈáåÈù¢ËØïÂÆòÔºöÂàÜÂà´ËØ¥ËØ¥ÂæÆ‰ø°ÂíåÊ∑òÂÆùÊâ´Á†ÅÁôªÂΩïËÉåÂêéÁöÑÂÆûÁé∞ÂéüÁêÜ](https://mp.weixin.qq.com/s/gA0JQp4j2ym9qOyQkC3qkA)\n- [üìù Áî®Êà∑‰∏ÄÈîÆÁôªÂΩïÔºåÂ¶Ç‰ΩïÂÆûÁé∞](https://juejin.im/post/5d197adff265da1bb31c4fa9)\n- [üìù ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏ãÁöÑÈâ¥ÊùÉÔºåÊÄé‰πàÂÅöÊõ¥‰ºòÈõÖÔºü](https://learnku.com/articles/30704)\n- [üìù ËÆ§ËØÅ„ÄÅÊéàÊùÉ„ÄÅÈâ¥ÊùÉÂíåÊùÉÈôêÊéßÂà∂](http://www.hyhblog.cn/2018/04/25/user_login_auth_terms/)\n","slug":"authentication","published":1,"updated":"2021-09-29T18:08:28.439Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cku867ncx000gbmjdte2bplh0","content":"<p>ÁôªÂΩïÈâ¥ÊùÉÊòØ‰∫íËÅîÁΩë‰ø°ÊÅØ‰∫§‰∫í‰∏≠Ê∞∏ÊÅíÁöÑËØùÈ¢òÔºåÊØïÁ´üÂú®Â∑•‰Ωú‰∏≠Âá†‰πéÊØèÂ§©ÈÉΩ‰ºöÊé•Ëß¶Âà∞ÔºåÈÄÇÈÄ¢ÊúÄËøëÈúÄË¶ÅÂØπÁé∞ÊúâÁöÑÁ≥ªÁªüÂπ≥Âè∞ËøõË°å SSO ÁöÑÊµÅÁ®ãÊîπÈÄ†ÔºåÊâÄ‰ª•Ë∂ÅËøô‰∏™Êú∫‰ºöÂ•ΩÂ•ΩÊÄªÁªìÂâçÁ´ØÂ∑•Á®ãÂ∏àÊé•Ëß¶Âà∞ÁöÑÁôªÂΩïÊñπÂºè„ÄÇ</p>\n<p>Èâ¥ÊùÉ‰πüÂè´Ë∫´‰ªΩÈ™åËØÅÔºàAuthenticationÔºâÔºåÊòØÊåáÈ™åËØÅÁî®Êà∑ÊòØÂê¶Êã•ÊúâËÆøÈóÆÁ≥ªÁªüÁöÑÊùÉÂà©„ÄÇÂú®Êó•Â∏∏ÁöÑÁîüÊ¥ª‰∏≠ÔºåË∫´‰ªΩÈ™åËØÅÈöèÂ§ÑÂèØËßÅÔºåÊØîÂ¶ÇÔºöËøõÂÖ•È´òÈìÅÁ´ôÂÄôËΩ¶ÂÆ§„ÄÅÊú∫Âú∫ÂÄôÊú∫Ê•ºÈúÄË¶ÅÊ£ÄÊü•Á•®ÊçÆÂíåË∫´‰ªΩËØÅ‰ª∂ÔºõÊ∏∏Áé©‰∏ªÈ¢ò‰πêÂõ≠„ÄÅÂêçËÉúÈ£éÊôØÂå∫ÈúÄË¶ÅË¥≠‰π∞Èó®Á•®ÔºåÂπ∂Áî±ÂÖ•Âè£Â§Ñ‰∫∫ÂëòÈâ¥ÂÆöÊúâÊïàÂêéÊñπÂèØÊã•ÊúâËøõÂÖ•Âõ≠Âå∫Ê∏∏Áé©ÁöÑÊùÉÂà©„ÄÇ</p>\n<p>ËÄåÂú®ËÆ°ÁÆóÊú∫È¢ÜÂüü‰∏≠ÔºåË∫´‰ªΩÈ™åËØÅÁöÑÊñπÊ≥ïÊúâÂæàÂ§öÁßçÔºöÂü∫‰∫éÂÖ±‰∫´ÂØÜÈí•ÁöÑË∫´‰ªΩÈ™åËØÅ„ÄÅÂü∫‰∫éÁîüÁâ©Â≠¶ÁâπÂæÅÁöÑË∫´‰ªΩÈ™åËØÅÂíåÂü∫‰∫éÂÖ¨ÂºÄÂØÜÈí•Âä†ÂØÜÁÆóÊ≥ïÁöÑË∫´‰ªΩÈ™åËØÅ„ÄÇ‰∏çÂêåÁöÑË∫´‰ªΩÈ™åËØÅÊñπÊ≥ïÔºåÂÆâÂÖ®ÊÄß‰πüÂêÑËá™‰∏çÂêå„ÄÇ</p>\n<p>‰∏ãÈù¢ÊàëÂ∞Ü‰ªéÂâçÁ´ØÂºÄÂèëÂ∑•Á®ãÂ∏àÁöÑËßíÂ∫¶Âá∫ÂèëÔºåÊ¢≥ÁêÜ Web Â∫îÁî®ÂâçÂêéÁ´ØÊï∞ÊçÆ‰∫§‰∫í‰∏≠ÁöÑÂêÑÁßçÈâ¥ÊùÉÊñπÊ°à„ÄÇ</p>\n<a id=\"more\"></a>\n<p>‰ª•‰∏ã‰∏∫Êú¨ÊñáÂ§ßÁ∫≤Ôºö</p>\n<ul>\n<li>HTTP Âü∫Êú¨ËÆ§ËØÅ</li>\n<li>Session-Cookie ËÆ§ËØÅ<ul>\n<li>koa-session</li>\n</ul>\n</li>\n<li>Token ËÆ§ËØÅ<ul>\n<li>JWT ËÆ§ËØÅ</li>\n<li>koa-jwt</li>\n</ul>\n</li>\n<li>OAuth2 ÂºÄÊîæÊéàÊùÉ</li>\n<li>SSO ÂçïÁÇπÁôªÂΩï</li>\n<li>LDAP ËÆ§ËØÅÁôªÂΩï</li>\n<li>Êâ´Á†ÅÁôªÂΩï</li>\n<li>ËÅîÂêàÁôªÂΩï</li>\n<li>‰ø°‰ªªÁôªÂΩï</li>\n<li>ÊòìÊ∑∑Ê∑ÜÊ¶ÇÂøµÂàÜÊûê</li>\n</ul>\n<h2 id=\"HTTP-Âü∫Êú¨ËÆ§ËØÅ\"><a href=\"#HTTP-Âü∫Êú¨ËÆ§ËØÅ\" class=\"headerlink\" title=\"HTTP Âü∫Êú¨ËÆ§ËØÅ\"></a>HTTP Âü∫Êú¨ËÆ§ËØÅ</h2><p>Âú® HTTP ‰∏≠ÔºåÂü∫Êú¨ËÆ§ËØÅÊñπÊ°àÔºàBasic Access AuthenticationÔºâÊòØÂÖÅËÆ∏ HTTP Áî®Êà∑‰ª£ÁêÜÔºàÈÄöÂ∏∏ÊåáÁöÑÂ∞±ÊòØÁΩëÈ°µÊµèËßàÂô®ÔºâÂú®ËØ∑Ê±ÇÊó∂ÔºåÈÄöËøáÁî®Êà∑Êèê‰æõÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÁöÑÊñπÂºèÔºåÂÆûÁé∞ÂØπÁî®Êà∑Ë∫´‰ªΩÁöÑÈ™åËØÅ„ÄÇ</p>\n<p>Âü∫Êú¨ËÆ§ËØÅ‰∏≠ÔºåÊúÄÂÖ≥ÈîÆÁöÑÊòØÂõõ‰∏™Ë¶ÅÁ¥†Ôºö</p>\n<ol>\n<li><code>uid</code>ÔºöÁî®Êà∑ÁöÑ IDÔºå‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑÁî®Êà∑Âêç</li>\n<li><code>password</code>ÔºöÂØÜÁ†Å</li>\n<li><code>realm</code>ÔºöÈ¢ÜÂüüÔºåÂÖ∂ÂÆûÂ∞±ÊòØÊåáÂΩìÂâçËÆ§ËØÅÁöÑ‰øùÊä§ËåÉÂõ¥</li>\n</ol>\n<p>Âú®ËøõË°åÂü∫Êú¨ËÆ§ËØÅÁöÑËøáÁ®ã‰∏≠ÔºåHTTP ÁöÑËØ∑Ê±ÇÂ§¥Â≠óÊÆµ‰ºöÂåÖÂê´ Authorization Â≠óÊÆµÔºå<code>Authorization: Basic &lt;Áî®Êà∑Âá≠ËØÅ&gt;</code>ÔºåËØ•Áî®Êà∑Âá≠ËØÅÊòØ <code>Áî®Êà∑Âêç</code> Âíå <code>ÂØÜÁ†Å</code> ÁöÑÁªÑÂêàËÄåÊàêÁöÑ <strong>Base64 ÁºñÁ†Å</strong>„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /securefiles/ HTTP/1.1</span><br><span class=\"line\">Host: www.example.com</span><br><span class=\"line\">Authorization: Basic aHR0cHdhdGNoOmY=</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://img.mrsingsing.com/authentication-http-basic-access-authentication.jpg\" alt=\"HTTP Âü∫Êú¨ËÆ§ËØÅÊµÅÁ®ãÂõæ\"></p>\n<ol>\n<li>Áî®Êà∑Âú®ÊµèËßàÂô®‰∏≠ËÆøÈóÆ‰∫ÜÂèóÈôêÂà∂ÁöÑÁΩëÈ°µËµÑÊ∫êÔºå‰ΩÜÊòØÊ≤°ÊúâÊèê‰æõÁî®Êà∑ÁöÑË∫´‰ªΩ‰ø°ÊÅØ</li>\n<li>ÊúçÂä°Á´ØÊé•Êî∂Âà∞ËØ∑Ê±ÇÂêéËøîÂõû 401 Â∫îÁ≠îÁ†ÅÔºàUnauthorizedÔºåÊú™Ë¢´ÊéàÊùÉÁöÑÔºâË¶ÅÊ±ÇËøõË°åË∫´‰ªΩÈ™åËØÅÔºåÂπ∂ÈôÑÂ∏¶Êèê‰æõ‰∫Ü‰∏Ä‰∏™ËÆ§ËØÅÂüüÔºàAccess AuthenticationÔºâ<code>WWW-Authenticate</code> ËØ¥ÊòéÂ¶Ç‰ΩïËøõË°åÈ™åËØÅÁöÑÊñπÊ≥ïÔºå‰æãÂ¶Ç <code>WWW-Authenticate: Basic realm=&quot;Secure Area&quot;</code>Ôºå<code>Basic</code> Â∞±ÊòØÈ™åËØÅÁöÑÊ®°ÂºèÔºåËÄå <code>realm=&quot;Secure Area&quot;</code> Âàô‰∏∫‰øùÊä§ÂüüÔºàÂëäÁü•ËÆ§ËØÅÁöÑËåÉÂõ¥ÔºâÔºåÁî®‰∫é‰∏éÂÖ∂‰ªñËØ∑Ê±Ç URI ‰ΩúÂå∫Âà´</li>\n<li>ÊµèËßàÂô®Êî∂Âà∞Â∫îÁ≠îÂêéÔºå‰ºöÊòæÁ§∫ËØ•ËÆ§ËØÅÂüüÁªôÁî®Êà∑Âπ∂ÊèêÁ§∫ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÊ≠§Êó∂Áî®Êà∑ÂèØ‰ª•ÈÄâÊã©ÂΩïÂÖ•‰ø°ÊÅØÂêéÁ°ÆÂÆöÊàñÂèñÊ∂àÊìç‰Ωú</li>\n<li>Áî®Êà∑ËæìÂÖ•‰∫ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂêéÔºåÊµèËßàÂô®‰ºöÂú®ÂéüËØ∑Ê±ÇÂ§¥Êñ∞Â¢ûËÆ§ËØÅÊ∂àÊÅØÂ≠óÊÆµ <code>Authorization</code> Âπ∂ÈáçÊñ∞ÂèëÈÄÅËØ∑Ê±ÇÔºåËøáÁ®ãÂ¶Ç‰∏ãÔºö</li>\n</ol>\n<ul>\n<li>Â∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊãºÊé•‰∏∫ <code>Áî®Êà∑Âêç:ÂØÜÁ†Å</code> Ê†ºÂºèÁöÑÂ≠óÁ¨¶‰∏≤</li>\n<li>Â¶ÇÊûúÊúçÂä°Âô® <code>WWW-Authenticate</code> Â≠óÊÆµÊúâÊåáÂÆöÁºñÁ†ÅÔºåÂàôÂ∞ÜÂ≠óÁ¨¶‰∏≤ÁºñËØëÊàêÂØπÂ∫îÁöÑÁºñÁ†Å</li>\n<li>Â∞ÜÂ≠óÁ¨¶‰∏≤ÁºñÁ†Å‰∏∫ Base64</li>\n<li>ÊãºÊé• <code>Basic</code>ÔºåËÆæÁΩÆ‰∏∫ <code>Authorization</code> Â≠óÊÆµÔºåÂÅáËÆæÁî®Êà∑Âêç‰∏∫ <code>admin</code>ÔºåÂØÜÁ†Å‰∏∫ <code>password</code>ÔºåÂàôÊãºÊé•Âêé‰∏∫ <code>admin:password</code>Ôºå‰ΩøÁî® Base64 ÁºñÁ†ÅÂêé‰∏∫ <code>YWRtaW46cGFzc3dvcmQ=</code>ÔºåÈÇ£‰πàÊúÄÁªàÂú® HTTP Â§¥ÈÉ®Èáå‰ºöÊòØËøôÊ†∑Ôºö<code>Authorization: Basic YWRtaW46cGFzc3dvcmQ=</code></li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Buffer.from(<span class=\"string\">'admin:password'</span>).toString(<span class=\"string\">'base64'</span>);</span><br><span class=\"line\"><span class=\"comment\">// YWRtaW46cGFzc3dvcmQ=</span></span><br></pre></td></tr></table></figure>\n<ol start=\"5\">\n<li>ÊúçÂä°Á´ØÊé•Êî∂‰∫ÜËØ•ËÆ§ËØÅÂêéÂπ∂ËøîÂõû‰∫ÜÁî®Êà∑ËØ∑Ê±ÇÁöÑÁΩëÈ°µËµÑÊ∫ê„ÄÇÂ¶ÇÊûúÁî®Êà∑Âá≠ËØÅÈùûÊ≥ïÊàñÊó†ÊïàÔºåÊúçÂä°Âô®ÂèØËÉΩ‰ºöÂÜçÊ¨°ËøîÂõû 401 Â∫îÁ≠îÁ†ÅÔºåÂÆ¢Êà∑Á´ØÂ∞±ÈúÄË¶ÅÂÜçÊ¨°ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†Å</li>\n</ol>\n<p>ÊúçÂä°Á´ØÈ™åËØÅÁöÑÊ≠•È™§Ôºö</p>\n<ol>\n<li>Ê†πÊçÆÁî®Êà∑ËØ∑Ê±ÇËµÑÊ∫êÁöÑÂú∞ÂùÄÔºåÁ°ÆÂÆöËµÑÊ∫êÂØπÂ∫îÁöÑ <code>realm</code></li>\n<li>Ëß£Êûê Authorization ËØ∑Ê±ÇÈ¶ñÈÉ®ÔºåËé∑ÂæóÁî®Êà∑ÂêçÂíåÂØÜÁ†Å</li>\n<li>Âà§Êñ≠Áî®Êà∑ÊòØÂê¶ÊúâËÆøÈóÆËØ• <code>realm</code> ÁöÑÊùÉÈôê</li>\n<li>È™åËØÅÁî®Êà∑Âêç„ÄÅÂØÜÁ†ÅÊòØÂê¶ÂåπÈÖç</li>\n</ol>\n<blockquote>\n<p>ÂΩìÁÑ∂Ôºå‰πüÊúâÂèØËÉΩÂú®È¶ñÊ¨°ËØ∑Ê±Ç‰∏≠ÔºåÂú®ËØ∑Ê±ÇÂ§¥ÈôÑÂ∏¶‰∫ÜËÆ§ËØÅÊ∂àÊÅØÂ§¥ÔºåÈÇ£‰πàÂ∞±‰∏çÈúÄË¶ÅÂÜç‰ΩúË∫´‰ªΩ‰ø°ÊÅØÁöÑÂΩïÂÖ•Ê≠•È™§</p>\n</blockquote>\n<p>‰ºòÁÇπÔºö</p>\n<ul>\n<li>ÂîØ‰∏ÄÁöÑ‰ºòÁÇπÊòØÂÆûÁé∞ÁÆÄÂçïÔºåË¢´ÂπøÊ≥õÊîØÊåÅ</li>\n</ul>\n<p>Áº∫ÁÇπÔºö</p>\n<ul>\n<li>Áî±‰∫éÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊòØ‰ª•ÊòéÊñáÁöÑÂΩ¢ÂºèÂú®ÁΩëÁªú‰∏≠ËøõË°å‰º†ËæìÔºåÂÆπÊòìË¢´ÂóÖÊé¢Âô®Êé¢ÊµãÂà∞ÔºåÊâÄ‰ª•Âü∫Êú¨È™åËØÅÊñπÊ°àÂπ∂‰∏çÂÆâÂÖ®</li>\n<li>Èô§Ê≠§‰πãÂ§ñÔºåBase64 ÁºñÁ†ÅÂπ∂ÈùûÂä†ÂØÜÁÆóÊ≥ïÔºåÂÖ∂Êó†Ê≥ï‰øùËØÅÂÆâÂÖ®‰∏éÈöêÁßÅÔºåËøôÈáå‰ªÖÁî®‰∫éÂ∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†Å‰∏≠ÁöÑ‰∏çÂÖºÂÆπÁöÑÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫Âùá‰∏é HTTP ÂçèËÆÆÂÖºÂÆπÁöÑÂ≠óÁ¨¶ÈõÜ</li>\n<li>Âç≥‰ΩøËÆ§ËØÅÂÜÖÂÆπÊó†Ê≥ïË¢´Ëß£Á†Å‰∏∫ÂéüÂßãÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å‰πüÊòØ‰∏çÂÆâÂÖ®ÁöÑÔºåÊÅ∂ÊÑèÁî®Êà∑ÂèØ‰ª•ÂÜçËé∑Âèñ‰∫ÜËÆ§ËØÅÂÜÖÂÆπÂêé‰ΩøÁî®ÂÖ∂‰∏çÊñ≠ÁöÑ‰∫´ÊúçÂä°Âô®ÂèëËµ∑ËØ∑Ê±ÇÔºåËøôÂ∞±ÊòØÊâÄË∞ìÁöÑÈáçÊîæÊîªÂáª</li>\n<li>ËØ•ÊñπÊ°àÈô§‰∫ÜÂ≠òÂú®ÂÆâÂÖ®Áº∫Èô∑Â§ñÔºåBasic ËÆ§ËØÅËøòÂ≠òÂú®Êó†Ê≥ïÂêäÈîÄËÆ§ËØÅÁöÑÊÉÖÂÜµ</li>\n</ul>\n<blockquote>\n<p>HTTP ÁöÑÂü∫Êú¨È™åËØÅÊñπÊ°àÂ∫î‰∏é HTTPS / TLS ÂçèËÆÆÊê≠ÈÖç‰ΩøÁî®„ÄÇÂä†ÂÖ•Ê≤°ÊúâËøô‰∫õÂÆâÂÖ®ÊñπÈù¢ÁöÑÂ¢ûÂº∫ÔºåÈÇ£‰πàÂü∫Êú¨È™åËØÅÊñπÊ°à‰∏çÂ∫îËØ•Ë¢´Áî®Êù•‰øùÊä§ÊïèÊÑüÊàñËÄÖÊûÅÂÖ∑‰ª∑ÂÄºÁöÑ‰ø°ÊÅØ„ÄÇ</p>\n</blockquote>\n<p>Â∫îÁî®Âú∫ÊôØÔºöÂÜÖÈÉ®ÁΩëÁªúÔºåÊàñËÄÖÂØπÂÆâÂÖ®Ë¶ÅÊ±Ç‰∏çÊòØÂæàÈ´òÁöÑÁΩëÁªú</p>\n<h2 id=\"Session-Cookie-ËÆ§ËØÅ\"><a href=\"#Session-Cookie-ËÆ§ËØÅ\" class=\"headerlink\" title=\"Session-Cookie ËÆ§ËØÅ\"></a>Session-Cookie ËÆ§ËØÅ</h2><p><code>Session-Cookie</code> ËÆ§ËØÅÊòØÂà©Áî®ÊúçÂä°Á´ØÁöÑ SessionÔºà‰ºöËØùÔºâÂíåÊµèËßàÂô®ÔºàÂÆ¢Êà∑Á´ØÔºâÁöÑ Cookie Êù•ÂÆûÁé∞ÁöÑÂâçÂêéÁ´ØÈÄö‰ø°ËÆ§ËØÅÊ®°Âºè„ÄÇ</p>\n<p>Áî±‰∫é HTTP ËØ∑Ê±ÇÊó∂ÊòØÊó†Áä∂ÊÄÅÁöÑÔºåÊúçÂä°Á´ØÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊó†Ê≥ïÂæóÁü•ËØ∑Ê±ÇÂèëÈÄÅËÄÖÁöÑË∫´‰ªΩÔºåËøô‰∏™Êó∂ÂÄôÊàë‰ª¨Â¶ÇÊûúË¶ÅËÆ∞ÂΩïÁä∂ÊÄÅÔºåÂ∞±ÈúÄË¶ÅÂú®ÊúçÂä°Á´ØÂàõÂª∫ Session ‰ºöËØùÔºåÂ∞ÜÁõ∏ÂêåÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÈÉΩÁª¥Êä§Âú®ÂêÑËá™ÁöÑ‰ºöËØùËÆ∞ÂΩï‰∏≠ÔºåÊØèÂΩìËØ∑Ê±ÇÂà∞ËææÊúçÂä°Á´ØÊó∂ÔºåÂÖàÊ†°È™åËØ∑Ê±Ç‰∏≠ÁöÑÁî®Êà∑Ê†áËØÜÊòØÂê¶Â≠òÂú®‰∫é Session ‰∏≠ÔºåÂ¶ÇÊûúÊúâÂàôË°®Á§∫Â∑≤ÁªèËÆ§ËØÅÊàêÂäüÔºåÂê¶ÂàôË°®Á§∫ËÆ§ËØÅÂ§±Ë¥•„ÄÇ</p>\n<p>Cookie ‰∏ªË¶ÅÁî®‰∫é‰ª•‰∏ã‰∏â‰∏™ÊñπÈù¢Ôºö</p>\n<ul>\n<li>‰ºöËØùÁä∂ÊÄÅÁÆ°ÁêÜÔºàÂ¶ÇÁî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ„ÄÅË¥≠Áâ©ËΩ¶„ÄÅÊ∏∏ÊàèÂàÜÊï∞ÊàñÂÖ∂‰ªñÈúÄË¶ÅËÆ∞ÂΩïÁöÑ‰ø°ÊÅØÔºâ</li>\n<li>‰∏™ÊÄßÂåñËÆæÁΩÆÔºàÂ¶ÇÁî®Êà∑Ëá™ÂÆö‰πâËÆæÁΩÆ„ÄÅ‰∏ªÈ¢òÁ≠âÔºâ</li>\n<li>ÊµèËßàÂô®Ë°å‰∏∫ËøΩË∏™ÔºàÂ¶ÇË∑üË∏™ÂàÜÊûêÁî®Êà∑Ë°å‰∏∫Á≠âÔºâ</li>\n</ul>\n<p>‰∏ãÂõæ‰∏∫ Session-Cookie ËÆ§ËØÅÁöÑÂ∑•‰ΩúÊµÅÁ®ãÂõæÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-session-cookie.jpg\" alt=\"Session-Cookie ËÆ§ËØÅÊµÅÁ®ãÂõæ\"></p>\n<ol>\n<li>ÊúçÂä°Á´ØÂú®Êé•Êî∂Âà∞Êù•Ëá™ÂÆ¢Êà∑Á´ØÁöÑÈ¶ñÊ¨°ËÆøÈóÆÊó∂Ôºå‰ºöËá™Âä®ÂàõÂª∫ SessionÔºàÂ∞Ü Session ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠Ôºå‰πüÂèØ‰ª•‰øùÂ≠òÂú® Redis ‰∏≠ÔºâÔºåÁÑ∂ÂêéÁªôËøô‰∏™ Session ÁîüÊàê‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÊ†áËØÜÂ≠óÁ¨¶‰∏≤‰ºöËØùË∫´‰ªΩÂá≠ËØÅ <code>session_id</code>ÔºàÈÄöÂ∏∏Áß∞‰∏∫ <code>sid</code>ÔºâÔºåÂπ∂Âú®ÂìçÂ∫îÂ§¥ <code>Set-Cookie</code> ‰∏≠ËÆæÁΩÆËøô‰∏™ÂîØ‰∏ÄÊ†áËØÜÁ¨¶</li>\n<li>Á≠æÂêçÔºåÂØπ <code>sid</code> ËøõË°åÂä†ÂØÜÂ§ÑÁêÜÔºåÊúçÂä°Á´Ø‰ºöÊ†πÊçÆËøô‰∏™ <code>secret</code> ÂØÜÈí•ËøõË°åËß£ÂØÜÔºàÈùûÂøÖÈúÄÊ≠•È™§Ôºâ</li>\n<li>ÊµèËßàÂô®Êî∂Âà∞ËØ∑Ê±ÇÂìçÂ∫îÂêé‰ºöËß£ÊûêÂìçÂ∫îÂ§¥ÔºåÂπ∂Ëá™Âä®Â∞Ü <code>sid</code> ‰øùÂ≠òÂú®Êú¨Âú∞ Cookie ‰∏≠ÔºåÊµèËßàÂô®Âú®‰∏ãÊ¨° HTTP ËØ∑Ê±ÇÊó∂ËØ∑Ê±ÇÂ§¥‰ºöËá™Âä®ÈôÑÂ∏¶‰∏äËØ•ÂüüÂêç‰∏ãÁöÑ Cookie ‰ø°ÊÅØ</li>\n<li>ÊúçÂä°Á´ØÂú®Êé•Êî∂ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊó∂‰ºöÂéªËß£ÊûêËØ∑Ê±ÇÂ§¥ Cookie ‰∏≠ÁöÑ <code>sid</code>ÔºåÁÑ∂ÂêéÊ†πÊçÆËøô‰∏™ <code>sid</code> ÂéªÊâæÊúçÂä°Á´Ø‰øùÂ≠òÁöÑËØ•ÂÆ¢Êà∑Á´ØÁöÑ <code>sid</code>ÔºåÁÑ∂ÂêéÂà§Êñ≠ËØ•ËØ∑Ê±ÇÊòØÂê¶ÂêàÊ≥ï</li>\n<li>‰∏ÄÊó¶Áî®Êà∑ÁôªÂá∫ÔºåÊúçÂä°Á´ØÂíåÊµèËßàÂô®Â∞Ü‰ºöÂêåÊó∂ÈîÄÊØÅÂêÑËá™‰øùÂ≠òÁöÑ‰ºöËØù IDÔºåÊúçÂä°Á´Ø‰ºöÊ†πÊçÆÊï∞ÊçÆÂ∫ìÈ™åËØÅ‰ºöËØùË∫´‰ªΩÂá≠ËØÅÔºåÂ¶ÇÊûúÈ™åËØÅÈÄöËøáÔºåÂàôÁªßÁª≠Â§ÑÁêÜ</li>\n</ol>\n<blockquote>\n<p>‚ö†Ô∏è Ê≥®ÊÑèÔºåËøôÈáåÁõ∏ÂØπ‰∫é‰ΩøÁî®ÊúçÂä°Á´ØÔºåÂú®Âè¶‰∏ÄÁ´ØÊàë‰ΩøÁî®‰∫Ü <code>ÊµèËßàÂô®</code> ËÄåÈùûÂÆ¢Êà∑Á´ØÔºå‰∏ªË¶ÅÊòØÂõ†‰∏∫ Cookie ÊòØ‰ªÖÂú®ÊµèËßàÂô®‰∏≠Â≠òÂú®ÁöÑÊä•ÊñáÂ≠óÊÆµÔºåËØ∏Â¶ÇÁßªÂä®ÂéüÁîü APP ÊòØÊó†Ê≥ïËß£ÊûêÂ≠òÂÇ® Cookie ËØ∑Ê±Ç/ÂìçÂ∫îÂ§¥ÁöÑ„ÄÇ</p>\n</blockquote>\n<p>‰ºòÁÇπÔºö</p>\n<ol>\n<li>Cookie ÁÆÄÂçïÊòìÁî®ÔºåÂú®‰∏çÂèóÁî®Êà∑Âπ≤È¢ÑÊàñËøáÊúüÂ§ÑÁêÜÁöÑÊÉÖÂÜµ‰∏ãÔºåCookie ÈÄöÂ∏∏ÊòØÂÆ¢Êà∑Á´Ø‰∏äÊåÅÁª≠Êó∂Èó¥ÊúÄÈïøÁöÑÊï∞ÊçÆ‰øùÁïôÂΩ¢Âºè</li>\n<li>Session Êï∞ÊçÆÂ≠òÂÇ®Âú®ÊúçÂä°Á´ØÔºåÁõ∏ËæÉ‰∫é JWT Êñπ‰æøËøõË°åÁÆ°ÁêÜÔºå‰πüÂ∞±ÊòØÂΩìÁî®Êà∑ÁôªÂΩïÂíå‰∏ªÂä®Ê≥®ÈîÄÔºåÂè™ÈúÄË¶ÅÊ∑ªÂä†Âà†Èô§ÂØπÂ∫îÁöÑ Session Â∞±ÂèØ‰ª•‰∫ÜÔºåÊñπ‰æøÁÆ°ÁêÜ</li>\n</ol>\n<p>Áº∫ÁÇπÔºö</p>\n<ol>\n<li>ÈùûÂ∏∏‰∏çÂÆâÂÖ®ÔºåCookie Â∞ÜÊï∞ÊçÆÊö¥Èú≤Âú®ÊµèËßàÂô®‰∏≠ÔºåÂ¢ûÂä†‰∫ÜÊï∞ÊçÆË¢´ÁõóÁöÑÈ£éÈô©ÔºàÂÆπÊòìË¢´ CSRF Á≠âÊîªÂáªÔºâ</li>\n<li>Session Â≠òÂÇ®Âú®ÊúçÂä°Á´ØÔºåÂ¢ûÂ§ß‰∫ÜÊúçÂä°Á´ØÁöÑÂºÄÈîÄÔºåÁî®Êà∑ÈáèÂ§ßÁöÑÊó∂ÂÄô‰ºöÂ§ßÂ§ßÈôç‰ΩéÊúçÂä°Âô®ÊÄßËÉΩ</li>\n<li>Áî®Êà∑ËÆ§ËØÅÂêéÔºåÊúçÂä°Á´ØÂÅöËÆ§ËØÅËÆ∞ÂΩïÔºåÂ¶ÇÊûúËÆ§ËØÅÁöÑËÆ∞ÂΩïË¢´‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËøôÊÑèÂë≥ÁùÄÁî®Êà∑‰∏ãÊ¨°ËØ∑Ê±ÇËøòÂøÖÈ°ªË¶ÅËØ∑Ê±ÇÂú®ËøôÂè∞ÊúçÂä°Âô®‰∏äÔºåËøôÊ†∑ÊâçËÉΩÊãøÂà∞ÊéàÊùÉËµÑÊ∫êÔºåËøôÊ†∑Âú®ÂàÜÂ∏ÉÂºèÁöÑÂ∫îÁî®‰∏äÔºåÁõ∏Â∫îÁöÑÈôêÂà∂‰∫ÜË¥üËΩΩÂùáË°°ÁöÑËÉΩÂäõÔºå‰πüÊÑèÂë≥ÁùÄÈôêÂà∂‰∫ÜÂ∫îÁî®ÁöÑÊâ©Â±ïËÉΩÂäõ</li>\n</ol>\n<h3 id=\"koa-session\"><a href=\"#koa-session\" class=\"headerlink\" title=\"koa-session\"></a>koa-session</h3><p>Ê≤°Êúâ‰ª£Á†ÅË∞àÂÜçÂ§öÈÉΩÊòØÁ©∫‰∏≠Ê•ºÈòÅÔºå‰∏ãÈù¢Â∞ùËØïÂú® Koa ‰∏≠‰ΩøÁî® <code>koa-session2</code> ‰∏≠Èó¥‰ª∂ÂÆûÁé∞ Session-Cookie ËøôÁßçÈâ¥ÊùÉÊñπÂºè„ÄÇ</p>\n<p>Âú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠Ôºå‰∏éÂÆ¢Êà∑Á´ØÁöÑ‰ºöËØù‰ø°ÊÅØÂæÄÂæÄÈúÄË¶ÅÂú®ÊúçÂä°Â§ñÂÜçËÆæÁ´ãÈ¢ùÂ§ñÁöÑÂ§ñÈÉ®Â≠òÂÇ®Êú∫Âà∂ÔºåÂ§ñÈÉ®Â≠òÂÇ®ÂèØ‰ª•ÊòØ‰ªª‰ΩïÁöÑÂ≠òÂÇ®Êú∫Âà∂Ôºå‰æãÂ¶ÇÂÜÖÂ≠òÊï∞ÊçÆÁªìÊûÑÔºå‰πüÂèØ‰ª•ÊòØÊú¨Âú∞ÁöÑÊñá‰ª∂Á≥ªÁªüÔºåÊàñÊòØ‰ΩøÁî®ËØ∏Â¶Ç Redis Á≠â NoSQL Êï∞ÊçÆÂ∫ì„ÄÇ</p>\n<p><code>koa-session2</code> Ëá™Ë∫´ÂÆûÁé∞ÁöÑÂ≠òÂÇ®ÊñπÂºè‰∏∫‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåËÄå‰∏ãÈù¢Êàë‰ª¨Â∞±‰ªãÁªç‰∏ÄÁßçÊãìÂ±ï <code>koa-session2</code> ÁªìÂêà Redis ÂÆûÁé∞ Session-Cookie ËÆ§ËØÅÊñπÂºèÁöÑÊñπÊ°àÔºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> Redis = <span class=\"built_in\">require</span>(<span class=\"string\">'ioredis'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; Store &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-session2'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedisStore</span> <span class=\"keyword\">extends</span> <span class=\"title\">Store</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>();</span><br><span class=\"line\">    <span class=\"comment\">// ÂàùÂßãÂåñ Redis</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.redis = <span class=\"keyword\">new</span> Redis();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Ê†πÊçÆ sid Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ</span></span><br><span class=\"line\">  <span class=\"keyword\">async</span> <span class=\"keyword\">get</span>(sid, ctx) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> data = <span class=\"keyword\">await</span> <span class=\"keyword\">this</span>.redis.get(<span class=\"string\">`SESSION: <span class=\"subst\">$&#123;sid&#125;</span>`</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">JSON</span>.parse(data);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Êõ¥Êñ∞ sid ÁöÑÁî®Êà∑‰ø°ÊÅØ</span></span><br><span class=\"line\">  <span class=\"keyword\">async</span> <span class=\"keyword\">set</span>(session, &#123; sid = <span class=\"keyword\">this</span>.getID(<span class=\"number\">24</span>), maxAge = <span class=\"number\">1000000</span> &#125; = &#123;&#125;, ctx) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">await</span> <span class=\"keyword\">this</span>.redis.set(<span class=\"string\">`SESSION: <span class=\"subst\">$&#123;sid&#125;</span>`</span>, <span class=\"built_in\">JSON</span>.stringfy(session));</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sid;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ÈîÄÊØÅ‰ºöËØù‰ø°ÊÅØ</span></span><br><span class=\"line\">  <span class=\"keyword\">async</span> destroy(sid, ctx) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">await</span> <span class=\"keyword\">this</span>.redis.del(<span class=\"string\">`SESSION: <span class=\"subst\">$&#123;sid&#125;</span>`</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = RedisStore;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// app.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> Koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> session = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-session2'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> Store = <span class=\"built_in\">require</span>(<span class=\"string\">'./Store.js'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Koa();</span><br><span class=\"line\"></span><br><span class=\"line\">app.use(</span><br><span class=\"line\">  session(&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Áßç‰∏ã Cookie ÁöÑÈîÆÂêç</span></span><br><span class=\"line\">    key: <span class=\"string\">'SESSIONID'</span>,</span><br><span class=\"line\">    <span class=\"comment\">// Á¶ÅÊ≠¢ÊµèËßàÂô®‰∏≠ JS ËÑöÊú¨‰øÆÊîπ Cookie</span></span><br><span class=\"line\">    httpOnly: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// Cookie Âä†ÂØÜÁ≠æÂêçÊú∫Âà∂</span></span><br><span class=\"line\">    signed: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    store: <span class=\"keyword\">new</span> Store(),</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">app.use(<span class=\"function\"><span class=\"params\">ctx</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Ignore favicon.ico</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (ctx.path === <span class=\"string\">'/favicon.ico'</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> user = <span class=\"keyword\">this</span>.session.user;</span><br><span class=\"line\"></span><br><span class=\"line\">  ctx.session.view = <span class=\"string\">'index'</span>;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">app.use(<span class=\"function\"><span class=\"params\">ctx</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Â¶ÇÊûúËÆæÁΩÆ‰∫Ü‰ºöËØùÊúâÊïàÊúüÂà∑Êñ∞‰ºöËØùÊúâÊïàÊúü</span></span><br><span class=\"line\">  ctx.session.refresh();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>Âú® <code>koa-session</code> ‰∏≠‰ºöËØùÊ†áËØÜÁöÑÂÆûÁé∞‰ªÖÊòØÊ†πÊçÆÊó∂Èó¥Êà≥ÁîüÊàêÁöÑÈöèÊú∫Â≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúÊãÖÂøÉ Cookie ‰º†Ëæì‰∏≠Ë¢´ÊÅ∂ÊÑèÁØ°ÊîπÊàñÊö¥Èú≤‰ø°ÊÅØÔºåÂèØ‰ª•ÈÄöËøáÂä†ÂÖ•Êõ¥Â§öÊ†áËØÜÂÖÉÁ¥†Ôºå‰æãÂ¶Ç IP Âú∞ÂùÄ„ÄÅËÆæÂ§á ID Á≠â„ÄÇ</p>\n<p>Koa ÁöÑ Cookie ÂÆûÁé∞ÈªòËÆ§Â∏¶‰∫ÜÂÆâÂÖ®Êú∫Âà∂ÔºåÂ∞±ÊòØ <code>signed</code> ÈÄâÈ°π‰∏∫ <code>true</code> Êó∂Ôºå‰ºöËá™Âä®Áªô Cookie Ê∑ªÂä†‰∏Ä‰∏™ SHA256 ÁöÑÁ≠æÂêçÔºåÁ±ª‰ºº <code>koa:sess=pjadZtLAVtiO6-Haw1vnZZWrRm8</code>Ôºå‰ªéËÄåÈò≤Ê≠¢ Cookie Ë¢´ÁØ°Êîπ„ÄÇ</p>\n<p>Ëá≥‰∫éÊãÖÂøÉÁöÑ Session ‰ø°ÊÅØÊ≥ÑÊºèÈóÆÈ¢òÔºå<code>koa-session</code> ÂÖÅËÆ∏Áî®Êà∑Ëá™ÂÆö‰πâÁºñËß£Á†ÅÊñπÊ≥ïÔºå‰æãÂ¶ÇÔºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> encode = <span class=\"function\"><span class=\"params\">json</span> =&gt;</span> CrytoJS.AES.encrypt(json, <span class=\"string\">'Secret Passphrase'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> decode = <span class=\"function\"><span class=\"params\">encrypted</span> =&gt;</span> CryptoJS.AES.decrypt(encrypted, <span class=\"string\">'Secret Passphrase'</span>);</span><br></pre></td></tr></table></figure>\n<p><code>koa-session</code> ‰∏∫ Koa ÂÆòÊñπÂÆûÁé∞ÁöÑ‰∏≠Èó¥‰ª∂ÔºåÂäüËÉΩÂº∫Â§ßÔºåËÄÉËôëÁöÑÊÉÖÂÜµÊØîËæÉÂ§öÔºåÊâÄ‰ª•ÂÆûÁé∞Áõ∏ÂØπÂ§çÊùÇ„ÄÇ</p>\n<p>ËÄå <code>koa-session2</code> ÊòØÁ§æÂå∫ÂÆûÁé∞ÁöÑ‰∏≠Èó¥‰ª∂ÔºåÁÆÄÊ¥ÅÊòìÁî®„ÄÇÂ¶ÇÊûúÂØπÂÆûÁé∞ÊúâÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶ÂèØ‰ª•Âú® Github ÊâæÂà∞Ê∫êÁ†ÅÈòÖËØª„ÄÇ</p>\n<ul>\n<li><a href=\"https://github.com/koajs/session\" target=\"_blank\" rel=\"noopener\">koa-session</a></li>\n<li><a href=\"https://github.com/Secbone/koa-session2\" target=\"_blank\" rel=\"noopener\">koa-session2</a></li>\n<li><a href=\"https://segmentfault.com/a/1190000013039187\" target=\"_blank\" rel=\"noopener\">koa-session Â≠¶‰π†Á¨îËÆ∞</a></li>\n<li><a href=\"https://www.jianshu.com/p/c1eff1b50d23\" target=\"_blank\" rel=\"noopener\">koa-session ÁöÑÂÜÖÈÉ®ÂÆûÁé∞</a></li>\n<li><a href=\"https://juejin.im/post/5c148fd551882530544f341f\" target=\"_blank\" rel=\"noopener\">‰ªé koa-session Ê∫êÁ†ÅËß£ËØª session ÂéüÁêÜ</a></li>\n<li><a href=\"https://segmentfault.com/a/1190000012412299\" target=\"_blank\" rel=\"noopener\">‰ªé koa-session ‰∏≠Èó¥‰ª∂Ê∫êÁ†ÅÂ≠¶‰π† cookie ‰∏é session</a></li>\n</ul>\n<h2 id=\"Token-ËÆ§ËØÅ\"><a href=\"#Token-ËÆ§ËØÅ\" class=\"headerlink\" title=\"Token ËÆ§ËØÅ\"></a>Token ËÆ§ËØÅ</h2><p>ÈöèÁùÄ Restful API„ÄÅÂæÆÊúçÂä°ÁöÑÂÖ¥Ëµ∑ÔºåÂü∫‰∫é Token ÁöÑËÆ§ËØÅÁé∞Âú®Â∑≤ÁªèË∂äÊù•Ë∂äÊôÆÈÅç„ÄÇToken Âíå Session-Cookie ËÆ§ËØÅÊñπÂºè‰∏≠ÁöÑ Session ID ‰∏çÂêåÔºåÂπ∂ÈùûÂè™ÊòØ‰∏Ä‰∏™Ê†áËØÜÁ¨¶„ÄÇToken ‰∏ÄËà¨‰ºöÂåÖÂê´ <code>Áî®Êà∑ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ</code>ÔºåÈÄöËøáÈ™åËØÅ Token ‰∏ç‰ªÖÂèØ‰ª•ÂÆåÊàêË∫´‰ªΩÊ†°È™åÔºåËøòÂèØ‰ª•Ëé∑ÂèñÈ¢ÑËÆæÁöÑ‰ø°ÊÅØ„ÄÇÂÉè Twitter„ÄÅÂæÆ‰ø°„ÄÅQQ„ÄÅGithub Á≠âÂÖ¨Êúâ API ÈÉΩÊòØÂü∫‰∫éËøôÁßçÊñπÂºèËøõË°åËÆ§ËØÅÁöÑÔºå‰∏Ä‰∫õÂºÄÂèëÊ°ÜÊû∂Â¶Ç OpenStack„ÄÅKubernetes ÂÜÖÈÉ® API Ë∞ÉÁî®‰πüÊòØÂü∫‰∫é Token ÁöÑËÆ§ËØÅ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-token-authencation.jpg\" alt=\"Token ËÆ§ËØÅÊµÅÁ®ãÂõæ\"></p>\n<p>Âü∫‰∫é Token ÁöÑË∫´‰ªΩÈ™åËØÅÊñπÊ≥ïÔºö</p>\n<ol>\n<li>Áî®Êà∑ËæìÂÖ•ÁôªÂΩï‰ø°ÊÅØÂπ∂ËØ∑Ê±ÇÁôªÂΩï</li>\n<li>ÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÔºåÈ™åËØÅÁî®Êà∑ËæìÂÖ•ÁöÑÁôªÂΩï‰ø°ÊÅØ</li>\n<li>È™åËØÅÊàêÂäüÂêéÔºåÊúçÂä°Á´Ø‰ºö <code>Á≠æÂèë</code>‰∏Ä‰∏™ TokenÔºàÈÄöÂ∏∏ÂåÖÂê´Áî®Êà∑Âü∫Á°Ä‰ø°ÊÅØ„ÄÅÊùÉÈôêËåÉÂõ¥ÂíåÊúâÊïàÊó∂Èó¥Á≠âÔºâÔºåÂπ∂ÊääËøô‰∏™ Token ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø</li>\n<li>ÂÆ¢Êà∑Á´ØÊî∂Âà∞ Token ÂêéÈúÄË¶ÅÊääÂÆÉÂ≠òÂÇ®Ëµ∑Êù•ÔºåÊØîÂ¶ÇÊîæÂú® localStorage Êàñ sessionStorage ÈáåÔºà‰∏ÄËà¨‰∏çÊîæ Cookie Âõ†‰∏∫ÂèØËÉΩ‰ºöÊúâË∑®ÂüüÈóÆÈ¢òÔºå‰ª•ÂèäÂÆâÂÖ®ÊÄßÈóÆÈ¢òÔºâ</li>\n<li>ÂêéÁª≠ÂÆ¢Êà∑Á´ØÊØèÊ¨°ÂêëÊúçÂä°Á´ØËØ∑Ê±ÇËµÑÊ∫êÁöÑÊó∂ÂÄôÔºåÂ∞Ü Token ÈôÑÂ∏¶‰∫é HTTP ËØ∑Ê±ÇÂ§¥ Authorization Â≠óÊÆµ‰∏≠ÂèëÈÄÅËØ∑Ê±Ç</li>\n<li>ÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂéªÊ†°È™åÂÆ¢Êà∑Á´ØËØ∑Ê±Ç‰∏≠ TokenÔºåÂ¶ÇÊûúÈ™åËØÅÊàêÂäüÔºåÂ∞±ÂêëÂÆ¢Êà∑Á´ØËøîÂõûËØ∑Ê±ÇÁöÑÊï∞ÊçÆÔºåÂê¶ÂàôÊãíÁªùËøîËøò</li>\n</ol>\n<p>‰ºòÁÇπÔºö</p>\n<ul>\n<li><strong>ÊúçÂä°Á´ØÊó†Áä∂ÊÄÅ</strong>ÔºöToken Êú∫Âà∂Âú®ÊúçÂä°Á´Ø‰∏çÈúÄË¶ÅÂ≠òÂÇ®‰ºöËØùÔºàSessionÔºâ‰ø°ÊÅØÔºåÂõ†‰∏∫ Token Ëá™Ë∫´ÂåÖÂê´‰∫ÜÂÖ∂ÊâÄÊ†áËØÜÁî®Êà∑ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåËøôÊúâÂà©‰∫éÂú®Â§ö‰∏™ÊúçÂä°Èó¥ÂÖ±‰∫´Áî®Êà∑Áä∂ÊÄÅ</li>\n<li><strong>ÊÄßËÉΩÁõ∏ÂØπËæÉÂ•Ω</strong>ÔºöÂõ†‰∏∫Âú®È™åËØÅ Token Êó∂‰∏çÁî®ÂÜçÂéªËÆøÈóÆÊï∞ÊçÆÂ∫ìÊàñËøúÁ®ãÊúçÂä°ËøõË°åÊùÉÈôêÊ†°È™åÔºåËá™ÁÑ∂ÂèØ‰ª•ÊèêÂçá‰∏çÂ∞ëÊÄßËÉΩ</li>\n<li>ÊîØÊåÅÁßªÂä®ËÆæÂ§á</li>\n<li>ÊîØÊåÅË∑®ÂüüË∑®Á®ãÂ∫èË∞ÉÁî®ÔºåÂõ†‰∏∫ Cookie ÊòØ‰∏çÂÖÅËÆ∏Ë∑®ÂüüËÆøÈóÆÁöÑÔºåËÄå Token Âàô‰∏çÂ≠òÂú®Ëøô‰∏™ÈóÆÈ¢ò</li>\n<li>ÊúâÊïàÈÅøÂÖç CSRF ÊîªÂáªÔºàÂõ†‰∏∫‰∏çÈúÄË¶Å CookieÔºâÔºå‰ΩÜÊòØ‰ºöÂ≠òÂú® XSS ÊîªÂáª‰∏≠Ë¢´ÁõóÁöÑÈ£éÈô©Ôºå‰ΩÜÊòØÂèØÈÄâÊã© Token Â≠òÂÇ®Âú®Ê†áËÆ∞‰∏∫ <code>httpOnly</code> ÁöÑ Cookie ‰∏≠ÔºåËÉΩÂ§üÊúâÊïàÈÅøÂÖçÊµèËßàÂô®‰∏≠ÁöÑ JS ËÑöÊú¨ÂØπ Cookie ÁöÑ‰øÆÊîπ</li>\n</ul>\n<p>Áº∫ÁÇπÔºö</p>\n<ul>\n<li>Âç†Â∏¶ÂÆΩÔºöÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊØî <code>sid</code> Êõ¥Â§ßÔºåÊ∂àËÄóÊõ¥Â§öÊµÅÈáèÔºåÊå§Âç†Êõ¥Â§öÂÆΩÂ∏¶</li>\n<li>ÊÄßËÉΩÈóÆÈ¢òÔºöÁõ∏ÊØîËæÉ‰∫é Session-Cookie ËÆ§ËØÅÊù•ËØ¥ÔºåToken ÈúÄË¶ÅÊúçÂä°Á´ØËä±Ë¥πÊõ¥Â§öÊó∂Èó¥ÂíåÊÄßËÉΩÊù•ÂØπ Token ËøõË°åËß£ÂØÜÈ™åËØÅÔºåÂÖ∂ÂÆû Token Áõ∏ËæÉ‰∫é Session‚ÄîCookie Êù•ËØ¥Â∞±ÊòØ‰∏Ä‰∏™Êó∂Èó¥Êç¢Á©∫Èó¥ÁöÑÊñπÊ°à</li>\n</ul>\n<blockquote>\n<p>Session-Cookie ËÆ§ËØÅÂíå Token ËÆ§ËØÅÁöÑÊØîËæÉ</p>\n</blockquote>\n<p>Session-Cookie ËÆ§ËØÅÂíå Token ËÆ§ËØÅÊúâÂæàÂ§öÁ±ª‰ººÁöÑÂú∞ÊñπÔºå‰ΩÜÊòØ Token ËÆ§ËØÅÊõ¥ÂÉèÊòØ Session-Cookie ËÆ§ËØÅÁöÑÂçáÁ∫ßÊîπËâØÁâà„ÄÇ</p>\n<p>Session-Cookie ËÆ§ËØÅ‰ªÖ‰ªÖÈù†ÁöÑÊòØ <code>sid</code> Ëøô‰∏™ÁîüÊàêÁöÑÂîØ‰∏ÄÊ†áËØÜÁ¨¶ÔºåÊúçÂä°Á´ØÈúÄË¶ÅÊ†πÊçÆÂÆ¢Êà∑Á´Ø‰º†Êù•ÁöÑ <code>sid</code> Êü•ËØ¢‰øùÂ≠òÂú®ÊúçÂä°Á´Ø Session Èáå‰øùÂ≠òÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂΩìÂ≠òÂÇ®ÁöÑ‰ø°ÊÅØÊï∞ÊçÆÈáèË∂ÖËøá‰∏ÄÂÆöÈáèÊó∂‰ºöÂΩ±ÂìçÊúçÂä°Á´ØÁöÑÂ§ÑÁêÜÊïàËÉΩ„ÄÇËÄå‰∏î Session-Cookie ËÆ§ËØÅÈúÄË¶ÅÈù†ÊµèËßàÂô®ÁöÑ Cookie Êú∫Âà∂ÂÆûÁé∞ÔºåÂ¶ÇÊûúÈÅáÂà∞ÂéüÁîü NativeAPP Êó∂ËøôÁßçÊú∫Âà∂Â∞±‰∏çËµ∑‰ΩúÁî®‰∫ÜÔºåÊàñÊòØÊµèËßàÂô®ÁöÑ Cookie Â≠òÂÇ®ÂäüËÉΩË¢´Á¶ÅÁî®Ôºå‰πüÊòØÊó†Ê≥ï‰ΩøÁî®ËØ•ËÆ§ËØÅÊú∫Âà∂ÂÆûÁé∞Èâ¥ÊùÉÁöÑ„ÄÇ</p>\n<p>ËÄå Token ËÆ§ËØÅÊú∫Âà∂ÁâπÂà´ÁöÑÊòØÔºåÂÆûË¥®‰∏äÁôªÂΩïÁä∂ÊÄÅÊòØÁî®Êà∑ÁôªÂΩïÂêéÂ≠òÊîæÂú®ÂÆ¢Êà∑Á´ØÁöÑÔºåÊúçÂä°Á´Ø‰∏ç‰ºöÂÖÖÂΩì‰øùÂ≠ò <code>Áî®Êà∑‰ø°ÊÅØÂá≠ËØÅ</code> ÁöÑËßíËâ≤ÔºåÂΩìÊØèÊ¨°ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊó∂ÈôÑÂ∏¶ËØ•Âá≠ËØÅÔºåÂè™Ë¶ÅÊúçÂä°Á´ØÊ†πÊçÆÂÆö‰πâÁöÑËßÑÂàôÊ†°È™åÊòØÂê¶ÂåπÈÖçÂíåÂêàÊ≥ïÂç≥ÂèØÔºåÂÆ¢Êà∑Á´ØÂ≠òÂÇ®ÁöÑÊâãÊÆµ‰πü‰∏çÈôê‰∫é CookieÔºåÂèØ‰ª•‰ΩøÁî® Web Storage Á≠âÂÖ∂‰ªñÁºìÂ≠òÊñπÂºè„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåSession-Cookie Êú∫Âà∂ÈôêÂà∂‰∫ÜÂÆ¢Êà∑Á´ØÁöÑÁ±ªÂûãÔºåËÄå Token È™åËØÅÊú∫Âà∂‰∏∞ÂØå‰∫ÜÂÆ¢Êà∑Á´ØÁ±ªÂûã„ÄÇ</p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåToken È™åËØÅÊØîËæÉÁÅµÊ¥ªÔºåÈô§‰∫ÜÂ∏∏ËßÅÁöÑ JWT Â§ñÔºåÂèØ‰ª•Âü∫‰∫é Token ÊûÑÂª∫‰∏ìÈó®Áî®‰∫éÈâ¥ÊùÉÁöÑÂæÆÊúçÂä°ÔºåÁî®ÂÆÉÂêëÂ§ö‰∏™ÊúçÂä°ÁöÑËØ∑Ê±ÇËøõË°åÁªü‰∏ÄÈâ¥ÊùÉ„ÄÇ</p>\n<h3 id=\"JWT-ËÆ§ËØÅ\"><a href=\"#JWT-ËÆ§ËØÅ\" class=\"headerlink\" title=\"JWT ËÆ§ËØÅ\"></a>JWT ËÆ§ËØÅ</h3><p>JWTÔºàJSON Web TokenÔºâÊòØ Auth0 ÊèêÂá∫ÁöÑÈÄöËøáÂØπ JSON ËøõË°åÂä†ÂØÜÁ≠æÂêçÊù•ÂÆûÁé∞ÊéàÊùÉÈ™åËØÅÁöÑÊñπÊ°àÔºåÂ∞±ÊòØÁôªÂΩïÊàêÂäüÂêéÂ∞ÜÁõ∏ÂÖ≥‰ø°ÊÅØÁªÑÊàê JSON ÂØπË±°ÔºåÁÑ∂ÂêéÂØπËøô‰∏™ÂØπË±°ËøõË°åÊüêÁßçÊñπÂºèÁöÑÂä†ÂØÜÔºåËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåÂÆ¢Êà∑Á´ØÂú®‰∏ãÊ¨°ËØ∑Ê±ÇÊó∂Â∏¶‰∏äËøô‰∏™ TokenÔºåÊúçÂä°Á´ØÂÜçÊî∂Âà∞ËØ∑Ê±ÇÊó∂Ê†°È™å token ÂêàÊ≥ïÊÄßÔºåÂÖ∂ÂÆû‰πüÂ∞±ÊòØÂú®Ê†°È™åËØ∑Ê±ÇÁöÑÂêàÊ≥ïÊÄß„ÄÇ</p>\n<p>JWT ÊòØ JSON Ê†ºÂºèÁöÑË¢´Âä†ÂØÜ‰∫ÜÁöÑÂ≠óÁ¨¶‰∏≤Ôºö</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">JSON Data + Signature = JWT</span><br></pre></td></tr></table></figure>\n<p>JWT ÂØπË±°ÈÄöÂ∏∏Áî±‰∏âÈÉ®ÂàÜÁªÑÊàêÔºö</p>\n<ol>\n<li>Â§¥ÈÉ®ÔºàHeadersÔºâÔºöÂåÖÊã¨Á±ªÂà´ÔºàtypÔºâ„ÄÅÂä†ÂØÜÁÆóÊ≥ïÔºàalgÔºâ</li>\n</ol>\n<p>Â§¥ÈÉ®Áî®‰∫éÊèèËø∞ÂÖ≥‰∫éËØ• JWT ÁöÑÊúÄÂü∫Êú¨ÁöÑ‰ø°ÊÅØÔºå‰æãÂ¶ÇÂÖ∂Á±ªÂûã‰ª•ÂèäÁ≠æÂêçÊâÄÁî®ÁöÑÁÆóÊ≥ïÁ≠â„ÄÇ</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"alg\"</span>: <span class=\"string\">\"HS256\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"typ\"</span>: <span class=\"string\">\"JWT\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ËøôÈáåÊàë‰ª¨ËØ¥Êòé‰∫ÜËøôÊòØ‰∏Ä‰∏™ JWTÔºåÂπ∂‰∏îÊàë‰ª¨ÊâÄ‰ΩøÁî®ÁöÑÁ≠æÂêçÁÆóÊ≥ïÊòØ HS256 ÁÆóÊ≥ï„ÄÇ</p>\n<ol start=\"2\">\n<li>ClaimsÔºöÂåÖÊã¨ÈúÄË¶Å‰º†ÈÄíÁöÑÁî®Êà∑‰ø°ÊÅØ</li>\n</ol>\n<p>ËΩΩËç∑ÂèØ‰ª•Áî®Êù•Â≠òÊîæ‰∏Ä‰∫õ‰∏çÊïèÊÑüÁöÑ‰ø°ÊÅØ</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"iss\"</span>: <span class=\"string\">\"Jehoshaphat Tse\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"iat\"</span>: <span class=\"number\">1441593502</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"exp\"</span>: <span class=\"number\">1441594722</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"aud\"</span>: <span class=\"string\">\"www.example.com\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"sub\"</span>: <span class=\"string\">\"mrsingsing@example.com\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"John Doe\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"admin\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ËøôÈáåÈù¢ÁöÑÂâç‰∫î‰∏™Â≠óÊÆµÈÉΩÊòØÁî± JWT ÁöÑÊ†áÂáÜÊâÄÂÆö‰πâÁöÑ:</p>\n<ul>\n<li><code>iss</code>ÔºöËØ• JWT ÁöÑÁ≠æÂèëËÄÖ</li>\n<li><code>sub</code>ÔºöËØ• JWT ÊâÄÈù¢ÂêëÁöÑÁî®Êà∑</li>\n<li><code>aud</code>ÔºöÊé•Êî∂ËØ• JWT ÁöÑ‰∏ÄÊñπ</li>\n<li><code>exp</code>ÔºàexpiresÔºâÔºö‰ªÄ‰πàÊó∂ÂÄôËøáÊúüÔºåËøôÊòØ Unix Êó∂Èó¥Êà≥</li>\n<li><code>iat</code>Ôºàissued atÔºâÔºöÂú®‰ªÄ‰πàÊó∂ÂÄôÁ≠æÂèëÁöÑ„ÄÇÊääÂ§¥ÈÉ®ÂíåËΩΩËç∑ÂàÜÂà´ËøõË°å Base64 ÁºñÁ†ÅÂêéÂæóÂà∞‰∏§‰∏™Â≠óÁ¨¶‰∏≤ÔºåÁÑ∂ÂêéÂÜçÂ∞ÜËøô‰∏§‰∏™ÁºñÁ†ÅÂêéÁöÑÂ≠óÁ¨¶‰∏≤Áî®Ëã±ÊñáÂè•Âè∑ËøûÊé•Ëµ∑Êù•ÔºàÂ§¥ÈÉ®Âú®ÂâçÔºâÔºåÂΩ¢ÊàêÊñ∞ÁöÑÂ≠óÁ¨¶</li>\n</ul>\n<ol start=\"3\">\n<li>SignatureÔºö</li>\n</ol>\n<p>ÊúÄÂêéÔºåÂ∞Ü‰∏äËø∞ÊãºÊé•ÂêéÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÁî® <code>alg</code> ÊåáÂÆöÁöÑÁÆóÊ≥ïÔºàHS256Ôºâ‰∏éÁßÅÊúâÂØÜÈí•ÔºàSecretÔºâËøõË°åÂä†ÂØÜ„ÄÇÂä†ÂØÜÂêéÁöÑÂÜÖÂÆπ‰πüÊòØÂ≠óÁ¨¶‰∏≤ÔºåÊúÄÂêéËøô‰∏™Â≠óÁ¨¶‰∏≤Â∞±ÊòØÁ≠æÂêçÔºåÊääËøô‰∏™Á≠æÂêçÊãºÊé•Âú®ÂàöÊâçÁöÑÂ≠óÁ¨¶‰∏≤ÂêéÈù¢Â∞±ËÉΩÂæóÂà∞ÂÆåÊï¥ÁöÑ JWT„ÄÇHeader ÈÉ®ÂàÜÂíå Claims ÈÉ®ÂàÜÂ¶ÇÊûúË¢´ÁØ°ÊîπÔºåÁî±‰∫éÁØ°ÊîπËÄÖ‰∏çÁü•ÈÅìÂØÜÈí•ÊòØ‰ªÄ‰πàÔºå‰πüÊó†Ê≥ïÁîüÊàêÊñ∞ÁöÑ Signature ÈÉ®ÂàÜÔºåÊúçÂä°Á´Ø‰πüÂ∞±Êó†Ê≥ïÈÄöËøáÔºåÂú® JWT ‰∏≠ÔºåÊ∂àÊÅØ‰ΩìÊòØÈÄèÊòéÁöÑÔºå‰ΩøÁî®Á≠æÂêçÂèØ‰ª•‰øùËØÅÊ∂àÊÅØ‰∏çË¢´ÁØ°Êîπ„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HMACSHA256(base64UrlEncode(Headers) + <span class=\"string\">'.'</span> + base64UrlEncode(Claims), SECREATE_KEY);</span><br></pre></td></tr></table></figure>\n<p>‰ºòÁÇπÔºö</p>\n<ol>\n<li>‰∏çÈúÄË¶ÅÂú®ÊúçÂä°Á´Ø‰øùÂ≠ò‰ºöËØù‰ø°ÊÅØÔºàRESTful API ÁöÑÂéüÂàô‰πã‰∏ÄÂ∞±ÊòØÊó†Áä∂ÊÄÅÔºâÔºåÊâÄ‰ª•Êòì‰∫éÂ∫îÁî®ÁöÑÊâ©Â±ïÔºåÂç≥‰ø°ÊÅØ‰∏ç‰øùÂ≠òÂú®ÊúçÂä°Á´ØÔºå‰∏ç‰ºöÂ≠òÂú® Session Êâ©Â±ï‰∏çÊñπ‰æøÁöÑÊÉÖÂÜµ</li>\n<li>JWT ‰∏≠ÁöÑËΩΩËç∑ÂèØ‰ª•Â≠òÂÇ®Â∏∏Áî®‰ø°ÊÅØÔºåÁî®‰∫é‰ø°ÊÅØ‰∫§Êç¢ÔºåÊúâÊïàÂú∞‰ΩøÁî® JWTÔºåÂèØ‰ª•Èôç‰ΩéÊúçÂä°Á´ØÊü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑÊ¨°Êï∞</li>\n</ol>\n<p>Áº∫ÁÇπÔºö</p>\n<ol>\n<li><strong>ËøáÊúüÊó∂Èó¥ÈóÆÈ¢ò</strong>ÔºöÁî±‰∫éÊúçÂä°Á´Ø‰∏ç‰øùÂ≠ò Session Áä∂ÊÄÅÔºåÂõ†Ê≠§Êó†Ê≥ïÂú®‰ΩøÁî®ËøáÁ®ã‰∏≠Â∫üÊ≠¢Êüê‰∏™ TokenÔºåÊàñÊòØÊõ¥Êîπ Token ÁöÑÊùÉÈôê„ÄÇ‰πüÂ∞±ÊòØËØ¥Ôºå‰∏ÄÊó¶ JWT Á≠æÂèëÔºåÂú®Âà∞Êúü‰πãÂâçÂ∞±‰ºöÂßãÁªàÊúâÊïàÔºåÈô§ÈùûÊúçÂä°Á´ØÈÉ®ÁΩ≤È¢ùÂ§ñÁöÑÈÄªËæë„ÄÇÂõ†Ê≠§Â¶ÇÊûúÊòØÊµèËßàÂô®Á´ØÂ∫îÁî®ÁöÑËØùÔºå‰ΩøÁî® JWT ËÆ§ËØÅÊú∫Âà∂ËøòÈúÄË¶ÅËÆæËÆ°‰∏ÄÂ•ó JWT ÁöÑ‰∏ªÂä®Êõ¥Êñ∞Âà†Èô§ÁöÑÊú∫Âà∂ÔºåËøôÊ†∑Â∞±Â¢ûÂä†‰∫ÜÁ≥ªÁªüÁöÑÂ§çÊùÇÊÄß„ÄÇ</li>\n<li><strong>ÂÆâÂÖ®ÊÄß</strong>ÔºöÁî±‰∫é JWT ÁöÑ Claims ÊòØ Base64 ÁºñÁ†ÅÁöÑÔºåÂπ∂Ê≤°ÊúâÂä†ÂØÜÔºåÂõ†Ê≠§ JWT ‰∏≠‰∏çËÉΩÂ≠òÂÇ®ÊïèÊÑüÊï∞ÊçÆ</li>\n<li><strong>ÊÄßËÉΩÈóÆÈ¢ò</strong>ÔºöJWT Âç†Áî®Á©∫Èó¥ËøáÂ§ßÔºåCookie ÈôêÂà∂‰∏ÄËà¨ÊòØ 4kÔºåÂèØËÉΩ‰ºöÊó†Ê≥ïÂÆπÁ∫≥ÔºåÊâÄ‰ª• JWT ‰∏ÄËà¨Êîæ LocalStorage ÈáåÈù¢ÔºåÂπ∂‰∏îÁî®Êà∑Âú®Á≥ªÁªüÁöÑÊØèÊ¨° HTTP ËØ∑Ê±ÇÈÉΩ‰ºöÊää JWT Êê∫Â∏¶Âú® Header ÈáåÈù¢ÔºåHTTP ËØ∑Ê±ÇÁöÑ Header ÂèØËÉΩÊØî Body ËøòË¶ÅÂ§ß„ÄÇ</li>\n</ol>\n<h3 id=\"koa-jwt\"><a href=\"#koa-jwt\" class=\"headerlink\" title=\"koa-jwt\"></a>koa-jwt</h3><p>‰∏ãÈù¢‰ªãÁªç Koa ‰∏≠‰ΩøÁî® <code>koa-jwt</code> ËøõË°åÈ¢ÅÂèë„ÄÅÊ†°È™å Token ÁöÑ‰ΩøÁî®ÊñπÊ≥ï„ÄÇ</p>\n<p>ÊúçÂä°Á´ØÁîüÊàê Token</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> router = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-router'</span>)();</span><br><span class=\"line\"><span class=\"keyword\">const</span> jwt = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-jwt'</span>);</span><br><span class=\"line\"><span class=\"comment\">// ËøôÈáå‰ΩøÁî®ÁöÑÊòØ MongoDB Êï∞ÊçÆÂ∫ì</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> userModel = <span class=\"built_in\">require</span>(<span class=\"string\">'../model/userModel'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> secretOrPublicKey = <span class=\"string\">'TOKEN_EXAMPLE'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">router.post(<span class=\"string\">'/login'</span>, <span class=\"keyword\">async</span> ctx =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> data = ctx.request.body;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Ê†πÊçÆÁî®Êà∑Êèê‰æõÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊü•ËØ¢Êï∞ÊçÆÂ∫ì‰∏≠ÊòØÂê¶Â≠òÂú®ÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> userInfo = <span class=\"keyword\">await</span> userModel.findOne(&#123; <span class=\"attr\">name</span>: data.name, <span class=\"attr\">password</span>: data.password &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> result = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (userInfo !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Ê†πÊçÆÁî®Êà∑‰ø°ÊÅØÁ≠æÂèë TokenÔºåËÆæÂÆöÊúâÊïàÊó∂Èó¥‰∏∫ 2h</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> token = jwt.sign(&#123; <span class=\"attr\">name</span>: userInfo.name, <span class=\"attr\">_id</span>: userInfo._id &#125;, secretOrPublicKey, &#123;</span><br><span class=\"line\">      expiresIn: <span class=\"string\">'2h'</span>,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    result = &#123;</span><br><span class=\"line\">      code: <span class=\"number\">200</span>,</span><br><span class=\"line\">      token: token,</span><br><span class=\"line\">      msg: <span class=\"string\">'ÁôªÂΩïÊàêÂäü'</span>,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    result = &#123;</span><br><span class=\"line\">      code: <span class=\"number\">400</span>,</span><br><span class=\"line\">      token: <span class=\"literal\">null</span>,</span><br><span class=\"line\">      msg: <span class=\"string\">'ÁôªÂΩïÂ§±Ë¥•'</span>,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> (ctx.body = result);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>ÂâçÁ´ØËé∑Âèñ TokenÔºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ËØ∑Ê±ÇÁôªÂΩï</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">login</span>(<span class=\"params\">userName, password</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> axios</span><br><span class=\"line\">    .post(<span class=\"string\">'/login'</span>, &#123;</span><br><span class=\"line\">      name: userName,</span><br><span class=\"line\">      password: password,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (res.code === <span class=\"number\">200</span>) &#123;</span><br><span class=\"line\">        localStorage.setItem(<span class=\"string\">'access_token'</span>, res.data.token);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'ÁôªÂΩïÂ§±Ë¥•'</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"built_in\">console</span>.error(e));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ÂêéÁª≠Ëé∑Âèñ Token ÂêéÁª≠ÁöÑ API ËØ∑Ê±Ç</span></span><br><span class=\"line\"><span class=\"comment\">// ÈÄöËøá Axios Êã¶Êà™Âô®Âä†‰∏ä Authorization ËØ∑Ê±ÇÂ§¥ÈÉ®Â≠óÊÆµ</span></span><br><span class=\"line\">axios.interceptors.request.use(<span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> token = localStorage.getItem(<span class=\"string\">'token'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  config.headers.common[<span class=\"string\">'Authorization'</span>] = <span class=\"string\">'Bearer '</span> + token;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> config;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>ÊúçÂä°Á´ØÊ†°È™åÂâçÁ´ØÂèëÈÄÅÊù•ÁöÑËØ∑Ê±ÇÔºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> jwt = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-jwt'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Koa();</span><br><span class=\"line\"><span class=\"keyword\">const</span> secretOrPublicKey = <span class=\"string\">'TOKEN_EXAMPLE'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">app</span><br><span class=\"line\">  .use(</span><br><span class=\"line\">    jwt(&#123;</span><br><span class=\"line\">      secret: secretOrPublicKey,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  )</span><br><span class=\"line\">  .unless(&#123;</span><br><span class=\"line\">    path: [<span class=\"regexp\">/\\register/</span>, /\\/login/],</span><br><span class=\"line\">  &#125;);</span><br></pre></td></tr></table></figure>\n<p>Âú® <code>koa-jwt</code> ÁöÑÊ∫êÁ†ÅÂÆûÁé∞‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Áü•ÈÅì Token ÁöÑÈâ¥ÂÆöÊòØÂÖàÂà§Êñ≠ËØ∑Ê±ÇÂ§¥‰∏≠ÊòØÂê¶Â∏¶‰∫Ü AuthorizationÔºö</p>\n<ul>\n<li>ÊúâÔºåÂàôÈÄöËøáÊ≠£ÂàôÂ∞Ü <code>token</code> ‰ªé Authorization ‰∏≠ÂàÜÁ¶ªÂá∫Êù•ÔºåToken ‰∏≠ÊòØÂ∏¶Êúâ Bearer Ëøô‰∏™ÂçïËØç</li>\n<li>Ê≤°ÊúâÔºåÂàô‰ª£Ë°®‰∫ÜÂÆ¢Êà∑Á´ØÊ≤°Êúâ‰º† Token Âà∞ÊúçÂä°Âô®ÔºåËøôÊó∂ÂÄôÂ∞±ÊäõÂá∫ 401 ÈîôËØØÁä∂ÊÄÅ</li>\n</ul>\n<p>Ê∫êÁ†ÅÊñá‰ª∂‰∏≠ÁöÑ <code>verify.js</code> ‰∏≠ÔºåË∞ÉÁî®‰∫Ü <code>jsonwebtoken</code> Â∫ìÂéüÁîüÊèê‰æõÁöÑ <code>verify()</code> ÊñπÊ≥ïËøõË°åÈ™åËØÅËøîÂõûÁªìÊûú„ÄÇ</p>\n<p><a href=\"https://github.com/auth0/node-jsonwebtoken\" target=\"_blank\" rel=\"noopener\">jsonwebtoken</a> ÁöÑ <code>sign()</code> Áî®‰∫éÁîüÊàê <code>token</code>ÔºåËÄå <code>verify()</code> ÊñπÊ≥ïÂΩìÁÑ∂ÂàôÊòØÁî®Êù•Ëß£Êûê <code>token</code>„ÄÇÂ±û‰∫é JWT ÈÖçÂØπÁîü‰∫ßÁöÑ‰∏§‰∏™ÊñπÊ≥ïÔºåÊâÄ‰ª• <code>koa-jwt</code> Ëøô‰∏™‰∏≠Èó¥‰ª∂‰πüÊ≤°ÂÅö‰ªÄ‰πà‰∫ãÔºåÊó†ÈùûÂ∞±ÊòØÁî®Ê≠£ÂàôËß£ÊûêËØ∑Ê±ÇÂ§¥ÔºåË∞ÉÁî® <code>jsonwebtoken</code> ÁöÑ <code>verify()</code> È™åËØÅ <code>token</code>ÔºåÂú® <code>koa-jwt</code> Êñá‰ª∂Â§πÁöÑ <code>index.js</code> ‰∏≠Ôºå<code>koa-jwt</code> ËøòË∞ÉÁî® <code>koa-unless</code> ËøõË°åË∑ØÁî±ÊùÉÈôêÂàÜÂèë„ÄÇ</p>\n<ul>\n<li><a href=\"http://www.uxys.com/html/JavaScript/20190722/52733.html\" target=\"_blank\" rel=\"noopener\">Koa2 ÊúçÂä°Á´Ø‰ΩøÁî® JWT ËøõË°åÈâ¥ÊùÉÂèäË∑ØÁî±ÊùÉÈôêÂàÜÂèëÁöÑÊµÅÁ®ãÂàÜÊûê</a></li>\n</ul>\n<h3 id=\"Token-ËÆ§ËØÅÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à\"><a href=\"#Token-ËÆ§ËØÅÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à\" class=\"headerlink\" title=\"Token ËÆ§ËØÅÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à\"></a>Token ËÆ§ËØÅÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à</h3><h4 id=\"Ê≥®ÈîÄÁôªÂΩï\"><a href=\"#Ê≥®ÈîÄÁôªÂΩï\" class=\"headerlink\" title=\"Ê≥®ÈîÄÁôªÂΩï\"></a>Ê≥®ÈîÄÁôªÂΩï</h4><p>Ê≥®ÈîÄÁôªÂΩïÁ≠âÂú∫ÊôØ‰∏ã Token ‰ªçÊúâÊïàÁ±ª‰ººÁöÑÂú∫ÊôØÔºö</p>\n<ul>\n<li>ÈÄÄÂá∫ÁôªÂΩï</li>\n<li>‰øÆÊîπÂØÜÁ†Å</li>\n<li>ÊúçÂä°Á´Ø‰øÆÊîπ‰∫ÜÊüê‰∏™Áî®Êà∑ÂÖ∑ÊúâÁöÑÊùÉÈôêÊàñËßíËâ≤</li>\n<li>Áî®Êà∑ÁöÑË¥¶Êà∑Ë¢´Âà†Èô§/ÊöÇÂÅú</li>\n<li>Áî®Êà∑Áî±ÁÆ°ÁêÜÂëòÊ≥®ÈîÄ</li>\n</ul>\n<p>Ëøô‰∏™ÈóÆÈ¢ò‰ªÖÂ≠òÂú®‰∫é Token ËÆ§ËØÅ‰∏≠ÔºåÂõ†‰∏∫ Session-Cookie ËÆ§ËØÅÊ®°Âºè‰∏≠ÔºåËøô‰∫õÊÉÖÂÜµËÉΩÂ§üÈÄöËøáÂà†Èô§ÊúçÂä°Á´Ø Session ‰∏≠ÂØπÂ∫îÁöÑËÆ∞ÂΩïËß£ÂÜ≥ÔºåËÄå Token ËÆ§ËØÅ‰∏≠ÔºåÂ¶ÇÊûúÊúçÂä°Á´Ø‰∏çÂ¢ûÂä†ÂÖ∂‰ªñÈÄªËæëÁöÑËØùÔºåÂú®Â§±ÊïàÂâç Token ÈÉΩÊòØÊúâÊïàÁöÑ„ÄÇ</p>\n<p>‰∏ãÈù¢ÂàóÂá∫Âá†ÁßçÈíàÂØπËøô‰∫õÂú∫ÊôØÁöÑËß£ÂÜ≥ÊñπÊ°àÔºö</p>\n<ul>\n<li><strong>Â∞Ü Token Â≠òÂÇ®Âú®ÂÜÖÂ≠òÊï∞ÊçÆÂ∫ì</strong>ÔºöÂ∞Ü Token Â≠òÂÖ•Á±ª‰ºº‰∫é Redis ÁöÑÂÜÖÂ≠òÊï∞ÊçÆÂ∫ì‰∏≠„ÄÇÂ¶ÇÊûúÈúÄË¶ÅËÆ©Êüê‰∏™ Token Â§±ÊïàÂ∞±Áõ¥Êé•‰ªé Redis ‰∏≠Âà†Èô§Ëøô‰∏™ Token Âç≥ÂèØ„ÄÇ‰ΩÜÊòØËøôÊ†∑‰ºöÂØºËá¥ÊØèÊ¨°‰ΩøÁî® Token ÂèëÈÄÅËØ∑Ê±ÇÈÉΩË¶ÅÂÖà‰ªé DB ‰∏≠Êü•ËØ¢ Token ÊòØÂê¶Â≠òÂú®ÁöÑÊ≠•È™§ÔºåËÄå‰∏îËøùËÉå‰∫Ü JWT Êó†Áä∂ÊÄÅÂéüÂàô„ÄÇ</li>\n<li><strong>ÈªëÂêçÂçïÊú∫Âà∂</strong>ÔºöÂíå‰∏äËø∞ÊñπÊ°àÁ±ª‰ººÔºå‰ΩøÁî®ÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìÁª¥Êä§‰∏Ä‰ªΩÈªëÂêçÂçïÔºåÂ¶ÇÊûúÊÉ≥ËÆ©Êüê‰∏™ Token Â§±ÊïàÁöÑËØùÂ∞±Áõ¥Êé•Â∞ÜËøô‰∏™ Token ÊîæÂÖ•Âà∞ÈªëÂêçÂçïÂÜÖÂç≥ÂèØ„ÄÇÊØèÊ¨°‰ΩøÁî® Token ËøõË°åËØ∑Ê±ÇÊó∂ÈÉΩ‰ºöÂÖàÂà§Êñ≠ Token ÊòØÂê¶Â≠òÂú®‰∫éÈªëÂêçÂçï‰∏≠„ÄÇ</li>\n<li><strong>‰øÆÊîπÂØÜÈí• Secret</strong>Ôºö‰∏∫ÊØè‰∏™Áî®Êà∑ÂàõÂª∫‰∏ìÂ±ûÂØÜÈí•ÔºåÂ¶ÇÊûúÊÉ≥ËÆ©Êüê‰∏™ Token Â§±ÊïàÔºåÊàë‰ª¨Áõ¥Êé•‰øÆÊîπÂØπÂ∫îÁî®Êà∑ÁöÑÂØÜÈí•Âç≥ÂèØ„ÄÇ‰ΩÜÊòØÔºåËøôÊ†∑Áõ∏ËæÉ‰∫éÂâç‰∏§ÁßçÂºïÂÖ•ÂÜÖÂ≠òÊï∞ÊçÆÂ∏¶ÂÖ•ÁöÑÂç±ÂÆ≥Êõ¥Â§ßÔºö<ul>\n<li>Â¶ÇÊûúÊúçÂä°ÊòØÂàÜÂ∏ÉÂºèÁöÑÔºåÊØèÊ¨°ÂèëÂá∫Êñ∞ÁöÑ Token Êó∂ÈÉΩÂøÖÈ°ªÂú®Â§öÂè∞ÂèäÂÖ∂ÂêåÊ≠•ÂØÜÈí•„ÄÇ‰∏∫Ê≠§Ôºå‰Ω†ÈúÄË¶ÅÂ∞ÜÊú∫ÂØÜÂ≠òÂú®Êï∞ÊçÆÂ∫ìÊàñÂÖ∂‰ªñÂ§ñÈÉ®ÊúçÂä°‰∏≠ÔºåËøôÊ†∑Âíå Session ËÆ§ËØÅÂ∞±Ê≤°ÊúâÂ§™Â§ßÂå∫Âà´‰∫Ü</li>\n<li>Â¶ÇÊûúÁî®Êà∑ÂêåÊó∂Âú®‰∏§‰∏™ÊµèËßàÂô®ÊâìÂºÄÁ≥ªÁªüÔºåÊàñËÄÖÂú®ÁßªÂä®ËÆæÂ§á‰∏äÊâìÂºÄÁ≥ªÁªüÔºåÂΩìÂÆÉ‰ªé‰∏Ä‰∏™Âú∞ÊñπÂ∞ÜË¥¶Âè∑ÈÄÄÂá∫Êó∂ÔºåÈÇ£‰πàÂÖ∂‰ªñÁªàÁ´ØÈÉΩÈúÄË¶ÅÈáçÊñ∞ÁôªÂΩïËÆ§ËØÅÔºåËøôÊòØ‰∏çÂèØÂèñÁöÑ</li>\n</ul>\n</li>\n<li><strong>‰øùÊåÅ‰ª§ÁâåÁöÑÊúâÊïàÊúüÈôêÁü≠Âπ∂ÁªèÂ∏∏ËΩÆÊç¢</strong><ul>\n<li>ÂæàÁÆÄÂçïÁöÑÊñπÂºèÔºå‰ΩÜÊòØ‰ºöÂØºËá¥Áî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ‰∏ç‰ºöË¢´ÊåÅ‰πÖËÆ∞ÂΩïÔºåËÄå‰∏îÈúÄË¶ÅÁî®Êà∑ÁªèÂ∏∏ÁôªÂΩï</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Áª≠Á≠æÈóÆÈ¢ò\"><a href=\"#Áª≠Á≠æÈóÆÈ¢ò\" class=\"headerlink\" title=\"Áª≠Á≠æÈóÆÈ¢ò\"></a>Áª≠Á≠æÈóÆÈ¢ò</h4><p>Token ÁöÑÁª≠Á≠æÈóÆÈ¢òÔºö</p>\n<p>Token ÊúâÊïàÊúü‰∏ÄËà¨‰∏çÂª∫ËÆÆËÆæÁΩÆËøáÈïøÔºåËÄå Token ËøáÊúüÂêéÂ¶Ç‰ΩïËÆ§ËØÅÔºåÂ¶Ç‰Ωï <code>Âä®ÊÄÅÂà∑Êñ∞</code> Token Á≠âÈúÄË¶ÅÊúâÊïàÁöÑÊñπÊ°àËß£ÂÜ≥„ÄÇ</p>\n<p>Âú® Session-Cookie ËÆ§ËØÅ‰∏≠ÔºåÂÅáËÆæ Session ÊúâÊïàÊúü‰∏∫ 30 ÂàÜÈíüÔºåÂ¶ÇÊûú 30 ÂàÜÈíüÂÜÖÊúâËµÑÊ∫êËØ∑Ê±ÇËÆøÈóÆÔºåÈÇ£‰πàÂ∞±Êää Session ÁöÑÊúâÊïàÊúüËá™Âä®Âª∂Èïø 30 ÂàÜÈíü„ÄÇ</p>\n<ul>\n<li><strong>Á±ª‰ºº‰∫é Session ‰∫∫‰∏≠ÁöÑÂÅöÊ≥ï</strong>ÔºöÂΩìÂÆ¢Êà∑Á´ØËÆøÈóÆÊúçÂä°Á´ØÔºåÂèëÁé∞ Token Âç≥Â∞ÜËøáÊúüÊó∂ÔºåÊúçÂä°Á´ØÈáçÊñ∞È¢ÅÂèëÊñ∞ÁöÑ Token ÁªôÂÆ¢Êà∑Á´Ø</li>\n<li><strong>ÊØèÊ¨°ËØ∑Ê±ÇÈÉΩËøîÂõûÊñ∞ Token</strong>ÔºöÂÆûÁé∞ÊÄùË∑ØÁÆÄÂçïÊòé‰∫ÜÔºå‰ΩÜÊòØÂºÄÈîÄËæÉÂ§ß</li>\n<li><strong>Token ÊúâÊïàÊúüËÆæÁΩÆÂà∞ÂçäÂ§ú</strong>ÔºöÊäòË°∑ÊñπÊ°àÔºå‰øùËØÅÂ§ßÈÉ®ÂàÜÁî®Êà∑Ê≠£Â∏∏Â∑•‰ΩúÊó∂Èó¥ÂèØ‰ª•Ê≠£Â∏∏ÁôªÂΩïÔºåÈÄÇÁî®‰∫éÂÆâÂÖ®ÊÄßË¶ÅÊ±Ç‰∏çÈ´òÁöÑÁ≥ªÁªü</li>\n<li><strong>Áî®Êà∑ÁôªÂΩïËøîÂõû‰∏§‰∏™ Token</strong>ÔºöÁ¨¨‰∏Ä‰∏™ÊòØ <code>accessToken</code>ÔºåÂÆÉÁöÑËøáÊúüÊó∂Èó¥ËÆæÁΩÆÊØîÂ¶ÇÂçä‰∏™Â∞èÊó∂ÔºåÂè¶‰∏Ä‰∏™ÊòØ <code>refreshToken</code>ÔºåÂÆÉÁöÑËøáÊúüÊó∂Èó¥Êõ¥Èïø‰∏ÄÁÇπÔºå‰æãÂ¶Ç 1 Â§©„ÄÇÂÆ¢Êà∑Á´ØÁôªÂΩïÂêéÔºåÂ∞Ü <code>accessToken</code> Âíå <code>refreshToken</code> ‰øùÂ≠òÂú®Êú¨Âú∞ÔºåÊØèÊ¨°ËÆøÈóÆÂ∞Ü <code>accessToken</code> ‰º†ÁªôÊúçÂä°Á´Ø„ÄÇÊúçÂä°Á´ØÊ†°È™å <code>accessToken</code> ÁöÑÊúâÊïàÊÄßÔºåÂ¶ÇÊûúËøáÊúüÁöÑËØùÔºåÂ∞±Â∞Ü <code>refreshToken</code> ‰º†ÁªôÊúçÂä°Á´Ø„ÄÇÂ¶ÇÊûúÊúâÊïàÔºåÊúçÂä°Á´ØÂ∞±ÁîüÊàêÊñ∞ÁöÑ <code>accessToken</code> ÁªôÂÆ¢Êà∑Á´Ø„ÄÇÂê¶ÂàôÔºåÂÆ¢Êà∑Á´ØÂ∞±ÈáçÊñ∞ÁôªÂΩïÂç≥ÂèØ„ÄÇËØ•ÊñπÊ°à‰∏çË∂≥ÁöÑÊòØÔºö<ul>\n<li>ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÈÖçÂêà</li>\n<li>Áî®Êà∑Ê≥®ÈîÄÁöÑÊó∂ÂÄôÈúÄË¶ÅÂêåÊó∂‰øùËØÅ‰∏§‰∏™ Token ÈÉΩÊó†Êïà</li>\n<li>ÈáçÊñ∞ËØ∑Ê±ÇËé∑Âèñ Token ÁöÑËøáÁ®ã‰∏≠‰ºöÊúâÁü≠ÊöÇ Token ‰∏çÂèØÁî®ÁöÑÊÉÖÂÜµÔºàÂèØ‰ª•ÈÄöËøáÂú®ÂÆ¢Êà∑Á´ØËÆæÁΩÆÂÆöÊó∂Âô®ÔºåÂΩì <code>accessToken</code> Âø´ËøáÊúüÁöÑÊó∂ÂÄôÔºåÊèêÂâçÂéªÈÄöËøá <code>refreshToken</code> Ëé∑ÂèñÊñ∞ÁöÑ <code>accessToken</code>Ôºâ</li>\n</ul>\n</li>\n</ul>\n<p>JWT ÊúÄÈÄÇÂêàÁöÑÂú∫ÊôØÊòØ‰∏çÈúÄË¶ÅÊúçÂä°Á´Ø‰øùÂ≠òÁî®Êà∑Áä∂ÊÄÅÁöÑÂú∫ÊôØÔºåÂ¶ÇÊûúËÄÉËôëÂà∞ Token Ê≥®ÈîÄÂíåÁª≠Á≠æÁ≠âÂú∫ÊôØÁöÑËØùÔºåÁõÆÂâçÊù•ËØ¥Ê≤°ÊúâÁâπÂà´Â•ΩÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂ§ßÈÉ®ÂàÜËß£ÂÜ≥ÊñπÊ°àÈÉΩÁªô Token Âä†‰∏äÁä∂ÊÄÅÔºåËøôÂÆûÈôÖ‰∏äÂ∞±ÊúâÁÇπÁ±ª‰ºº Session-Cookie ËÆ§ËØÅ‰∫Ü„ÄÇ</p>\n<h2 id=\"ÂçïÁÇπÁôªÂΩï\"><a href=\"#ÂçïÁÇπÁôªÂΩï\" class=\"headerlink\" title=\"ÂçïÁÇπÁôªÂΩï\"></a>ÂçïÁÇπÁôªÂΩï</h2><p><strong>ÂçïÁÇπÁôªÂΩï</strong>ÔºàSingle Sign-onÔºâÂèàÁß∞ SSOÔºåÊòØÊåáÂú®Â§öÁ≥ªÁªüÂ∫îÁî®Áæ§‰∏≠ÁôªÂΩïÂçï‰∏™Á≥ªÁªüÔºå‰æøÂèØÂú®ÂÖ∂‰ªñÊâÄÊúâÁ≥ªÁªü‰∏≠ÂæóÂà∞ÊéàÊùÉËÄåÊó†ÈúÄÂÜçÊ¨°ÁôªÂΩï„ÄÇ</p>\n<p>‰º†ÁªüÁöÑ All-in-one ÂûãÂ∫îÁî®ÁöÑËÆ§ËØÅÁ≥ªÁªüÂíå‰∏öÂä°Á≥ªÁªüÈõÜÂêàÂú®‰∏ÄËµ∑ÁöÑÔºåÂΩìÁî®Êà∑ËÆ§ËØÅÈÄöËøáÊó∂ÔºåÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂ≠òÂÖ• Session ‰∏≠„ÄÇÂÖ∂‰ªñ‰∏öÂä°Âè™ÈúÄË¶Å‰ªé‰∏öÂä°‰∏≠ÈÄöËøáÂØπÂ∫î‰ºöËØùË∫´‰ªΩÂá≠ËØÅÂèñÂà∞Áî®Êà∑‰ø°ÊÅØËøõË°åÁõ∏ÂÖ≥‰∏öÂä°Â§ÑÁêÜÂç≥ÂèØ„ÄÇ</p>\n<p>‰º†ÁªüÁöÑ Session ÊòØÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂ≠òÂÖ•ÂÜÖÂ≠òÔºåÁª¥Êä§‰∏Ä‰∏™ÂìàÂ∏åË°®„ÄÇÊØèÊ¨°ËØ∑Ê±ÇÊê∫Â∏¶‰ºöËØùË∫´‰ªΩÂá≠ËØÅ SessionIDÔºàTomcat ‰∏≠ÊòØ <code>JSESSIONID</code>ÔºâÂà∞ÊúçÂä°Á´ØÔºåÊ†πÊçÆÊ≠§ SessionID Êü•ÊâæÂà∞ÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ„ÄÇ</p>\n<p>Âà©Áî® Redis Á≠âÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìËøõË°åÁî®Êà∑‰ø°ÊÅØÁöÑÂ≠òÂÇ®ÔºåËá™ÂÆö‰πâ Token ÁîüÊàêËßÑÂàôÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂÜôÂÖ• Redis ‰∏≠„ÄÇËøôÊ†∑Â∞ÜÁî®Êà∑‰ø°ÊÅØÁöÑÂ≠òÂÇ®Âíå‰∏öÂä°Á≥ªÁªüËøõË°åÊãÜÂàÜÔºå‰ΩøÁ≥ªÁªüÊõ¥Âä†ÂÅ•Â£ÆÔºåÊõ¥Êòì‰∫éÊâ©Â±ï„ÄÇÊñ∞Â¢ûÁ≥ªÁªüÂè™ÈúÄË¶Å‰ªé SSO ‰∏≠Ëé∑ÂèñÁõ∏ÂÖ≥ÁöÑËÆ§ËØÅÂç≥ÂèØËøõË°åÊ®™ÂêëÁöÑ‰∏öÂä°Êâ©Â±ï„ÄÇËÄå‰∏î Redis Êú¨Ë∫´ÁöÑÊÄßË¥®‰πüÊòì‰∫éËøõË°å <code>ÈõÜÁæ§Âåñ</code> ÁöÑÈÉ®ÁΩ≤„ÄÇ</p>\n<p>‰∏ãÈù¢ËØ¶Ëø∞ÂêÑÁßçÂú∫ÊôØ‰∏ã SSO ÁöÑÂÆûÁé∞ÊñπÊ°à„ÄÇ</p>\n<h3 id=\"ÂêåÂüü-SSO\"><a href=\"#ÂêåÂüü-SSO\" class=\"headerlink\" title=\"ÂêåÂüü SSO\"></a>ÂêåÂüü SSO</h3><p>ÂΩìÂ≠òÂú®‰∏§‰∏™Áõ∏ÂêåÂüüÂêç‰∏ãÁöÑÁ≥ªÁªü A <code>a.abc.com</code> ÂíåÁ≥ªÁªü B <code>b.abc.com</code> Êó∂Ôºå‰ª•‰∏ã‰∏∫‰ªñ‰ª¨ÂÆûÁé∞ SSO ÁöÑÊ≠•È™§Ôºö</p>\n<ol>\n<li>Áî®Êà∑ËÆøÈóÆÊüê‰∏™Â≠êÁ≥ªÁªüÊó∂Ôºà‰æãÂ¶Ç <code>a.abc.com</code>ÔºâÔºåÂ¶ÇÊûúÊ≤°ÊúâÁôªÂΩïÔºåÂàôË∑≥ËΩ¨Ëá≥ SSO ËÆ§ËØÅ‰∏≠ÂøÉÊèê‰æõÁöÑÁôªÂΩïÈ°µÈù¢ËøõË°åÁôªÂΩï</li>\n<li>ÁôªÂΩïËÆ§ËØÅÂêéÔºåÊúçÂä°Á´ØÊääÁôªÂΩïÁî®Êà∑ÁöÑ‰ø°ÊÅØÂ≠òÂÇ®‰∫é Session ‰∏≠ÔºåÂπ∂‰∏∫Áî®Êà∑ÁîüÊàêÂØπÂ∫îÁöÑ‰ºöËØùË∫´‰ªΩÂá≠ËØÅÈôÑÂä†Âú®ÂìçÂ∫îÂ§¥ÁöÑ <code>Set-Cookie</code> Â≠óÊÆµ‰∏≠ÔºåÈöèÁùÄËØ∑Ê±ÇËøîÂõûÂÜôÂÖ•ÊµèËßàÂô®‰∏≠ÔºåÂπ∂ÂõûË∑≥Âà∞ËÆæÂÆöÁöÑÂ≠êÁ≥ªÁªüÈìæÊé•‰∏≠</li>\n<li>‰∏ãÊ¨°ÂèëÈÄÅËØ∑Ê±ÇÊó∂ÔºåÂΩìÁî®Êà∑ËÆøÈóÆÂêåÂüüÂêçÁöÑÁ≥ªÁªü B Êó∂ÔºåÁî±‰∫é A Âíå B Âú®Áõ∏ÂêåÂüüÂêç‰∏ãÔºå‰πüÊòØ <code>abc.com</code>ÔºåÊµèËßàÂô®‰ºöËá™Âä®Â∏¶‰∏ä‰πãÂâçÁöÑ Cookie„ÄÇÊ≠§Êó∂ÊúçÂä°Á´ØÂ∞±ÂèØ‰ª•ÈÄöËøáËØ• Cookie Êù•È™åËØÅÁôªÂΩïÁä∂ÊÄÅ‰∫Ü„ÄÇ</li>\n</ol>\n<p>ËøôÂÆûÈôÖ‰∏ä‰ΩøÁî®ÁöÑÂ∞±ÊòØ Session-Cookie ËÆ§ËØÅÁöÑÁôªÂΩïÊñπÂºè„ÄÇ</p>\n<h3 id=\"Ë∑®Âüü-SSO\"><a href=\"#Ë∑®Âüü-SSO\" class=\"headerlink\" title=\"Ë∑®Âüü SSO\"></a>Ë∑®Âüü SSO</h3><p>‰∏äËø∞ÊâÄÊèêÂèäÁöÑÂêåÂüüÂêç SSO Âπ∂‰∏çÊîØÊåÅË∑®ÂüüÂêçÁöÑÁôªÂΩïËÆ§ËØÅÔºåËøôÊòæÁÑ∂‰∏çÁ¨¶ÂêàÂΩì‰ªä‰∫íËÅîÁΩëÂèëÂ±ïÊΩÆÊµÅÔºåÊØïÁ´üÂ§ßÂ§öÊï∞‰∏≠Â§ßÂûã‰ºÅ‰∏öÂÜÖÂ§ñÈÉ®ÁöÑÁ≥ªÁªüÈÉΩÊòØÈÉ®ÁΩ≤Âú®‰∏çÂêåÁöÑÂüüÂêç‰∏ãÔºå‰∏ãÈù¢Êàë‰ª¨‰ªãÁªçÂÆûÁé∞ÂçïÁÇπÁôªÂΩïÁöÑÊ†áÂáÜÊµÅÁ®ã„ÄÇ</p>\n<p><strong>CAS</strong>ÔºàCentral Authentication ServiceÔºâ‰∏≠Â§ÆÊéàÊùÉÊúçÂä°ÔºåÊú¨Ë∫´ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÂçèËÆÆÔºåÂàÜ‰∏∫ 1.0 ÁâàÊú¨Âíå 2.0 ÁâàÊú¨„ÄÇ1.0 Áß∞‰∏∫Âü∫Á°ÄÊ®°ÂºèÔºå2.0 Áß∞‰∏∫‰ª£ÁêÜÊ®°ÂºèÔºåÈÄÇÁî®‰∫éÂ≠òÂú®Èùû Web Â∫îÁî®‰πãÈó¥ÁöÑÂçïÁÇπÁôªÂΩï„ÄÇ</p>\n<p>CAS ÁöÑÂÆûÁé∞ÈúÄË¶Å‰∏âÊñπËßíËâ≤Ôºö</p>\n<ul>\n<li>ClientÔºöÁî®Êà∑</li>\n<li>ServerÔºö‰∏≠Â§ÆÊéàÊùÉÊúçÂä°Ôºå‰πüÊòØ SSO ‰∏≠ÂøÉË¥üË¥£ÂçïÁÇπÁôªÂΩïÁöÑÊúçÂä°Âô®</li>\n<li>ServiceÔºöÈúÄË¶Å‰ΩøÁî®ÂçïÁÇπÁôªÂΩïÈâ¥ÊùÉÁöÑÂêÑ‰∏™‰∏öÂä°ÊúçÂä°ÔºåÁõ∏ÂΩì‰∫é‰∏äÊñá‰∏≠ÁöÑÁ≥ªÁªü A / B</li>\n</ul>\n<p>CAS ÁöÑÂÆûÁé∞ÈúÄË¶ÅÊèê‰æõ‰ª•‰∏ãÂõõ‰∏™Êé•Âè£Ôºö</p>\n<ul>\n<li><code>/login</code>ÔºöÁôªÂΩïÊé•Âè£ÔºåÁî®‰∫éÁôªÂΩïÂà∞‰∏≠Â§ÆÊéàÊùÉÊúçÂä°</li>\n<li><code>/logout</code>ÔºöÁôªÂá∫Êé•Âè£ÔºåÁî®‰∫é‰ªé‰∏≠Â§ÆÊéàÊùÉÊúçÂä°‰∏≠ÁôªÂá∫</li>\n<li><code>/validate</code>ÔºöÁî®‰∫éÈ™åËØÅÁî®Êà∑ÊòØÂê¶ÁôªÂΩï‰∏≠Â§ÆÊéàÊùÉÊúçÂä°</li>\n<li><code>/serviceValidate</code>ÔºöÁî®‰∫éËÆ©ÂêÑ‰∏™ Service È™åËØÅÁî®Êà∑ÊòØÂê¶ÁôªÂΩï‰∏≠Â§ÆÊéàÊùÉÊúçÂä°</li>\n</ul>\n<p>CAS Á•®ÊçÆÔºö</p>\n<ul>\n<li><strong>TGTÔºàTicket Grangting TicketÔºâ</strong>ÔºöTGT ÊòØ CAS ‰∏∫Áî®Êà∑Á≠æÂèëÁöÑ <code>ÁôªÂΩïÁ•®ÊçÆ</code>ÔºåÊã•Êúâ‰∫Ü TGTÔºåÁî®Êà∑Â∞±ÂèØ‰ª•ËØÅÊòéËá™Â∑±Âú® CAS ÊàêÂäüÁôªÂΩïËøá„ÄÇTGT Â∞ÅË£Ö‰∫Ü Cookie ÂÄº‰ª•ÂèäÊ≠§ Cookie ÂÄºÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ„ÄÇÂΩì HTTP ËØ∑Ê±ÇÂà∞Êù•Êó∂ÔºåCAS ‰ª•Ê≠§ Cookie ÂÄºÔºàTGCÔºâ‰∏∫ <code>key</code> Êü•ËØ¢ÁºìÂ≠ò‰∏≠ÊòØÂê¶Êúâ TGTÔºåÂ¶ÇÊûúÊúâÔºåÂàôË°®Á§∫Áî®Êà∑Â∑≤ÁôªÂΩïËøá„ÄÇ</li>\n<li><strong>TGCÔºàTicket Granting CookieÔºâ</strong>ÔºöCAS Service ÁîüÊàê TGC ÊîæÂÖ•Ëá™Â∑±ÁöÑ Session ‰∏≠ÔºåËÄå TGC Â∞±ÊòØËøô‰∏™ Session ÁöÑÂîØ‰∏ÄÊ†áËØÜÔºàSessionIDÔºâÔºå‰ª• Cookie ÂΩ¢ÂºèÊîæÂà∞ÊµèËßàÂô®Á´ØÔºåÊòØ CAS Service Áî®Êù•ÊòéÁ°ÆÁî®Êà∑Ë∫´‰ªΩÁöÑÂá≠ËØÅ</li>\n<li><strong>STÔºàService TicketÔºâ</strong>ÔºöST ÊòØ CAS ‰∏∫Áî®Êà∑Á≠æÂèëÁöÑËÆøÈóÆÊüê‰∏™ Service ÁöÑÁ•®ÊçÆ„ÄÇÁî®Êà∑ËÆøÈóÆ Service Êó∂ÔºåService ÂèëÁé∞Áî®Êà∑Ê≤°Êúâ STÔºåÂàôË¶ÅÊ±ÇÁî®Êà∑Âéª CAS Ëé∑Âèñ ST„ÄÇÁî®Êà∑Âêë CAS ÂèëÂá∫ ST ÁöÑËØ∑Ê±ÇÔºåCAS ÂèëÁé∞Áî®Êà∑Êúâ TGTÔºåÂàôÁ≠æÂèë‰∏Ä‰∏™ STÔºåËøîÂõûÁªôÁî®Êà∑„ÄÇÁî®Êà∑ÊãøÁùÄ ST ÂéªËÆøÈóÆ ServiceÔºåService Êãø ST Âéª CAS È™åËØÅÔºåÈ™åËØÅÈÄöËøáÂêéÔºåÂÖÅËÆ∏Áî®Êà∑ËÆøÈóÆËµÑÊ∫ê„ÄÇ</li>\n</ul>\n<p>ËøôÈáåÂèØËÉΩÊ¶ÇÂøµÂ§™Â§ö‰ºöÈùûÂ∏∏ÈöæÁêÜËß£ÔºåÁÆÄÂçïËØ¥Êòé‰∏ãÔºåÂÆ¢Êà∑Á´ØÈúÄË¶ÅÂêÑËá™Áª¥Êä§‰∏é‰∏çÂêåÁ≥ªÁªüÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂåÖÊã¨‰∏é‰∏≠Â§ÆÊéàÊùÉÊúçÂä°ÁöÑÁôªÂΩïÁä∂ÊÄÅ„ÄÇÊâÄ‰ª•ÔºåÂÆûÈôÖ‰∏ä TGC Âíå TGT ÊòØÁª¥Êä§ÂÆ¢Êà∑Á´Ø‰∏é‰∏≠Â§ÆÊéàÊùÉÊúçÂä°ÁôªÂΩïÁä∂ÊÄÅÁöÑ‰ºöËØùË∫´‰ªΩÂá≠ËØÅÁöÑ <code>key-value</code> ÈîÆÂêçÂÄºÔºåËÄå ST Á•®ÊçÆÂàôÊòØËµÑÊ∫êÊúçÂä°Âêë‰∏≠Â§ÆÊéàÊùÉÊúçÂä°Ëé∑ÂèñÁî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ„ÄÅ‰ø°ÊÅØÁöÑ‰∫§Êç¢Âá≠ËØÅÔºåÂè™‰∏çËøáËµÑÊ∫êÊúçÂä°ÈúÄË¶ÅÁªèÁî®Êà∑ÁöÑ‚ÄúÊâã‚Äù‰∏äÊâçËÉΩËé∑ÂèñÂà∞ËØ•Á•®ÊçÆ„ÄÇ</p>\n<p>ËØ¶ÁªÜÊ≠•È™§Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-cas-workflow.png\" alt=\"CAS È™åËØÅÊµÅÁ®ãÊó∂Â∫èÂõæ\"></p>\n<ol>\n<li>Áî®Êà∑ËÆøÈóÆÁ≥ªÁªü A ÁöÑÂèó‰øùÊä§ËµÑÊ∫êÔºàÂüüÂêçÊòØ <code>a.abc.com</code>ÔºâÔºåÁ≥ªÁªü A Ê£ÄÊµãÂá∫Áî®Êà∑Â§Ñ‰∫é <code>Êú™ÁôªÂΩï</code> Áä∂ÊÄÅÔºåÈáçÂÆöÂêëÔºàÂ∫îÁ≠îÁ†Å 302ÔºâËá≥ SSO ÊúçÂä°ËÆ§ËØÅ‰∏≠ÂøÉÁöÑÁôªÂΩïÊé•Âè£ÔºåÂêåÊó∂Âú∞ÂùÄÂèÇÊï∞Êê∫Â∏¶ÁôªÂΩïÊàêÂäüÂêéÂõûË∑≥Âà∞Á≥ªÁªü A ÁöÑÈ°µÈù¢ÈìæÊé•ÔºàË∑≥ËΩ¨ÁöÑÈìæÊé•ÂΩ¢Â¶Ç <code>sso.abc.com/login?service=https%3A%2F%2Fwww.a.abc.com</code>Ôºâ</li>\n<li>Áî±‰∫éËØ∑Ê±ÇÊ≤°ÊúâÊê∫Â∏¶ SSO ÊúçÂä°Âô®‰∏äÁôªÂΩïÁöÑÁ•®ÊçÆÂá≠ËØÅÔºàTGCÔºâÔºåÊâÄ‰ª• SSO ËÆ§ËØÅ‰∏≠ÂøÉÂà§ÂÆöÁî®Êà∑Â§Ñ‰∫é <code>Êú™ÁôªÂΩï</code> Áä∂ÊÄÅÔºåÈáçÂÆöÂêëÁî®Êà∑È°µÈù¢Ëá≥ SSO ÁöÑÁôªÂΩïÁïåÈù¢ÔºåÁî®Êà∑Âú® SSO ÁöÑÁôªÂΩïÈ°µÈù¢‰∏äËøõË°åÁôªÂΩïÊìç‰Ωú„ÄÇ</li>\n<li>SSO ËÆ§ËØÅ‰∏≠ÂøÉÊ†°È™åÁî®Êà∑Ë∫´‰ªΩÔºåÂàõÂª∫Áî®Êà∑‰∏é SSO ËÆ§ËØÅ‰∏≠ÂøÉ‰πãÈó¥ÁöÑ‰ºöËØùÔºåÁß∞‰∏∫ <code>ÂÖ®Â±Ä‰ºöËØù</code>ÔºåÂêåÊó∂ÂàõÂª∫ <code>ÊéàÊùÉ‰ª§Áâå</code>ÔºàSTÔºâÔºåSSO Â∏¶ÁùÄÊéàÊùÉ‰ª§ÁâåË∑≥ËΩ¨ÂõûÊúÄÂàùÁöÑÁ≥ªÁªü A ÁöÑËØ∑Ê±ÇÂú∞ÂùÄÔºö</li>\n</ol>\n<ul>\n<li>ÈáçÂÆöÂêëÂú∞ÂùÄ‰∏∫‰πãÂâçÂÜôÂú® <code>query</code> ‰∏≠ÁöÑÁ≥ªÁªü A ÁöÑÈ°µÈù¢Âú∞ÂùÄ</li>\n<li>ÈáçÂÆöÂêëÂú∞ÂùÄÁöÑ <code>query</code> ‰∏≠ÂåÖÂê´ SSO ÊúçÂä°Âô®Ê¥æÂèëÁöÑ ST</li>\n<li>ÈáçÂÆöÂêëÁöÑ HTTP ÂìçÂ∫î‰∏≠ÂåÖÂê´ÂÜô Cookie ÁöÑ Header„ÄÇËøô‰∏™ Cookie ‰ª£Ë°®Áî®Êà∑Âú® SSO ‰∏≠ÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂÆÉÁöÑÂÄºÂ∞±ÊòØ TGC</li>\n</ul>\n<ol start=\"5\">\n<li>ÊµèËßàÂô®ÈáçÂÆöÂêëËá≥Á≥ªÁªü A ÊúçÂä°Âú∞ÂùÄÔºåÊ≠§Êó∂ÈáçÂÆöÂêëÁöÑ URL ‰∏≠Êê∫Â∏¶ÁùÄ SSO ÊúçÂä°Âô®ÁîüÊàêÁöÑ ST</li>\n<li>Á≥ªÁªü A ÊãøÁùÄ ST Âêë SSO ÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÔºåSSO ÊúçÂä°Âô®È™åËØÅÁ•®ÊçÆÁöÑÊúâÊïàÊÄß„ÄÇÈ™åËØÅÊàêÂäüÂêéÔºåÁ≥ªÁªü A Áü•ÈÅìÁî®Êà∑Â∑≤ÁªèÂú® SSO ÁôªÂΩï‰∫ÜÔºå‰∫éÊòØÁ≥ªÁªü A ÊúçÂä°Âô®‰ΩøÁî®ËØ•‰ª§ÁâåÂàõÂª∫‰∏éÁî®Êà∑ÁöÑ‰ºöËØùÔºåÁß∞‰∏∫ <code>Â±ÄÈÉ®‰ºöËØù</code>ÔºåËøîÂõûÂèó‰øùÊä§ÁΩëÈ°µËµÑÊ∫ê</li>\n<li>‰πãÂêéÁî®Êà∑ËÆøÈóÆÁ≥ªÁªü B Âèó‰øùÊä§ËµÑÊ∫êÔºàÂüüÂêç <code>b.abc.com</code>ÔºâÔºåÁ≥ªÁªü B Ê£ÄÊµãÂá∫Áî®Êà∑Â§Ñ‰∫é <code>Êú™ÁôªÂΩï</code> Áä∂ÊÄÅÔºåË∑≥ËΩ¨Ëá≥ SSO ÊúçÂä°ËÆ§ËØÅ‰∏≠ÂøÉÔºåÂêåÊó∂Âú∞ÂùÄÂèÇÊï∞Êê∫Â∏¶ÊéàÊùÉ‰ª§Áâå STÔºàÊØèÊ¨°ÁîüÊàêÁöÑ ST ÈÉΩÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºâÁôªÂΩïÊàêÂäüÂêéÂõûË∑≥ÁöÑÈìæÊé•</li>\n<li>SSO ËÆ§ËØÅ‰∏≠ÂøÉÂèëÁé∞Áî®Êà∑Â∑≤ÁôªÂΩïÔºåË∑≥ËΩ¨ÂõûÁ≥ªÁªü B ÁöÑÂú∞ÂùÄÔºåÂπ∂ÈôÑ‰∏ä‰ª§Áâå</li>\n<li>Á≥ªÁªü B ÊãøÂà∞‰ª§ÁâåÔºåÂéª SSO ËÆ§ËØÅ‰∏≠ÂøÉÊ†°È™å‰ª§ÁâåÊòØÂê¶ÊúâÊïàÔºåSSO ËÆ§ËØÅ‰∏≠ÂøÉÊ†°È™å‰ª§ÁâåÔºåËøîÂõûÊúâÊïàÔºåÊ≥®ÂÜåÁ≥ªÁªü B</li>\n<li>Á≥ªÁªü B ‰ΩøÁî®ËØ•‰ª§ÁâåÂàõÂª∫‰∏éÁî®Êà∑ÁöÑÂ±ÄÈÉ®‰ºöËØùÔºåËøîÂõûÂèó‰øùÊä§ËµÑÊ∫ê</li>\n</ol>\n<p>Ëá≥Ê≠§Êï¥‰∏™ÁôªÂΩïÊµÅÁ®ãÁªìÊùüÔºåËÄåÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÂü∫Êú¨‰∏äÈÉΩ‰ºöÊ†πÊçÆ CAS Â¢ûÂä†Êõ¥Â§öÁöÑÂà§Êñ≠ÈÄªËæëÔºåÊØîÂ¶ÇÔºåÂú®Êî∂Âà∞ CAS Server Á≠æÂèëÁöÑ ST ÂêéÔºåÂ¶ÇÊûú ST Ë¢´ Hacker Á™ÉÂèñÔºåÂπ∂‰∏î Client Êú¨Ë∫´Ê≤°Êù•ÂæóÂèäÂéªÈ™åËØÅ STÔºåË¢´ Hacker Êä¢ÂÖà‰∏ÄÊ≠•È™åËØÅ STÔºåÊÄé‰πàËß£ÂÜ≥„ÄÇÊ≠§Êó∂Â∞±ÂèØ‰ª•Âú®Áî≥ËØ∑ ST Êó∂Ê∑ªÂä†È¢ùÂ§ñÈ™åËØÅÂõ†Â≠êÔºàÂ¶Ç IP„ÄÅSessionID Á≠âÔºâ„ÄÇ</p>\n<h3 id=\"LDAP-ËÆ§ËØÅÁôªÂΩï\"><a href=\"#LDAP-ËÆ§ËØÅÁôªÂΩï\" class=\"headerlink\" title=\"LDAP ËÆ§ËØÅÁôªÂΩï\"></a>LDAP ËÆ§ËØÅÁôªÂΩï</h3><p>LDAP ÁöÑÂÖ®Áß∞ÊòØ Lightweight Directory Access ProtocolÔºåÂç≥<strong>ËΩªÈáèÁõÆÂΩïËÆøÈóÆÂçèËÆÆ</strong>ÔºåÊòØ‰∏Ä‰∏™ÂºÄÊîæ„ÄÅÂπøÊ≥õË¢´‰ΩøÁî®ÁöÑÂ∑•‰∏öÊ†áÂáÜÔºàIEFT„ÄÅRFCÔºâ„ÄÇ‰ºÅ‰∏öÁ∫ßËΩØ‰ª∂‰πüÈÄöÂ∏∏ÂÖ∑Â§á *<em>ÊîØÊåÅ LDAP</em>- ÁöÑÂäüËÉΩÔºåÊØîÂ¶Ç Jira„ÄÅConfluence„ÄÅOpenVPN Á≠âÔºå‰ºÅ‰∏ö‰πüÁªèÂ∏∏ÈááÁî® LDAP ÊúçÂä°Âô®Êù•‰Ωú‰∏∫‰ºÅ‰∏öÁöÑËÆ§ËØÅÊ∫êÂíåÊï∞ÊçÆÊ∫ê„ÄÇ‰ΩÜÊòØÂ§ßÂÆ∂ÊØîËæÉÂ∏∏ËßÅÁöÑËØØÂå∫ÊòØÔºåÂèØ‰ª•‰ΩøÁî® LDAP Êù•ÂÆûÁé∞ SSO„ÄÇÊàë‰ª¨ÂèØ‰ª•ÂÖàÂàÜÊûê‰ª•‰∏ãÂÆÉÁöÑ‰∏ªË¶ÅÂäüËÉΩÁÇπÊàñÂú∫ÊôØ„ÄÇ</p>\n<ul>\n<li>‰Ωú‰∏∫Êï∞ÊçÆÊ∫êÂÆÉÂèØ‰ª•Áî®‰∫éÂ≠òÂÇ®<ul>\n<li>‰ºÅ‰∏öÁöÑÁªÑÁªáÊû∂ÊûÑÊ†ë</li>\n<li>‰ºÅ‰∏öÂëòÂ∑•‰ø°ÊÅØ</li>\n<li>ËØÅ‰π¶‰ø°ÊÅØ</li>\n<li>‰ºöËÆÆÂÆ§ÔºåÊâìÂç∞Êú∫Á≠âÁ≠âËµÑÊ∫ê</li>\n</ul>\n</li>\n<li>‰Ωú‰∏∫ËÆ§ËØÅÊ∫êÔºåÂÆÉ‰πüÊúâÂ§öÁßçÁî®ÈÄî<ul>\n<li>Â≠òÂÇ®Áî®Êà∑ÁöÑÂØÜÁ†Å</li>\n<li>ÂØπÂ§ñÊèê‰æõ LDAP ÂçèËÆÆÁöÑËÆ§ËØÅÊñπÂºèÔºàÈÄöËøá LDAP BIND ÂçèËÆÆÊù•Ê†°È™åÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºâ</li>\n<li>ÂØÜÁ†ÅÁ≠ñÁï•ÔºàÂØÜÁ†ÅÂ§çÊùÇÂ∫¶ÔºåÂéÜÂè≤ÂØÜÁ†ÅËÆ∞ÂΩïÔºåÁî®Êà∑ÈîÅÂÆöÁ≠âÁ≠âÔºâ</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"‰ø°‰ªªÁôªÂΩï\"><a href=\"#‰ø°‰ªªÁôªÂΩï\" class=\"headerlink\" title=\"‰ø°‰ªªÁôªÂΩï\"></a>‰ø°‰ªªÁôªÂΩï</h2><p>‰ø°‰ªªÁôªÂΩïÊòØÊåáÊâÄÊúâ‰∏çÈúÄË¶ÅÁî®Êà∑‰∏ªÂä®ÂèÇ‰∏éÁöÑÁôªÂΩïÔºå‰æãÂ¶ÇÂª∫Á´ãÂú®ÁßÅÊúâËÆæÂ§á‰∏éÁî®Êà∑‰πãÈó¥ÁöÑÁªëÂÆöÂÖ≥Á≥ªÔºåÂá≠ËØÅÂ∞±ÊòØÁßÅÊúâËÆæÂ§áÁöÑ‰ø°ÊÅØÔºåÊ≠§Êó∂‰∏çÈúÄË¶ÅÁî®Êà∑ÂÜçÊèê‰æõÈ¢ùÂ§ñÁöÑÂá≠ËØÅ„ÄÇ‰ø°‰ªªÁôªÂΩïÂèàÊåáÁî®Á¨¨‰∏âÊñπÊØîËæÉÊàêÁÜüÁöÑÁî®Êà∑Â∫ìÊù•Ê†°È™åÂá≠ËØÅÔºåÂπ∂ÁôªÂΩïÂΩìÂâçËÆøÈóÆÁöÑÁΩëÁ´ô„ÄÇ</p>\n<ol>\n<li>ÁôªÂΩïÊúçÂä° *<em>‰ø°‰ªª‰∏öÂä°Á≥ªÁªü</em>- ÁöÑÂá≠ËØÅÊ†°È™åÁªìÊûú</li>\n<li>ÁôªÂΩïÊúçÂä° *<em>‰ø°‰ªªÁ¨¨‰∏âÊñπÁôªÂΩïÁ≥ªÁªü</em>- ÁöÑÂá≠ËØÅÊ†°È™åÁªìÊûúÔºåÂâçÊèêÊòØÂøÖÈ°ªÂèàÊú¨Á´ôÁÇπÁöÑË¥¶Âè∑‰ΩìÁ≥ª‰∏ãÁöÑË¥¶Âè∑‰∏éÁ¨¨‰∏âÊñπË¥¶Âè∑ÁöÑ‰∏ÄÂØπ‰∏ÄÁªëÂÆöÂÖ≥Á≥ªÔºåÁé∞Âú®ÊµÅË°åÁöÑÊéàÊùÉÊñπÂºè‰πüÂ±û‰∫éËøô‰∏™Ê®°Âºè„ÄÇ</li>\n</ol>\n<p>ÁõÆÂâçÊØîËæÉÂ∏∏ËßÅÁöÑÁ¨¨‰∏âÊñπ‰ø°‰ªªÁôªÂΩïÂ∏êÂè∑Â¶ÇÔºöQQ Âè∑Ê∑òÂÆùÂ∏êÂè∑„ÄÅÊîØ‰ªòÂÆùÂ∏êÂè∑„ÄÅÂæÆÂçöÂ∏êÂè∑Á≠â„ÄÇ</p>\n<p>‰ø°‰ªªÁôªÂΩïÁöÑÂ•ΩÂ§ÑÊòØÂèØ‰ª•Âà©Áî®Á¨¨‰∏âÊñπÂ∫ûÂ§ßÁöÑÁî®Êà∑Áæ§Êù•Êé®Âπø„ÄÅËê•ÈîÄÁΩëÁ´ôÔºåÂêåÊó∂ÂáèÂ∞ëÁî®Êà∑ÁöÑÊ≥®ÂÜå„ÄÅÁôªÂΩïÊó∂Èó¥„ÄÇ</p>\n<p>ÊèêÂà∞‰ø°‰ªªÁôªÂΩïÔºåÊàë‰ª¨Â∞±‰∏çÂæó‰∏çÊèêÂà∞ OAuthÔºåÊ≠£ÊòØÊúâ‰∫Ü OAuthÔºåÊàë‰ª¨ÁöÑ‰ø°‰ªªÁôªÂΩïÊâçÂæó‰ª•ÂÆûÁé∞„ÄÇ‰∏ãÈù¢Êàë‰ª¨Â∞±Êù•Áúã‰∏ãÂÖ≥‰∫é OAuth ÁöÑ‰∏Ä‰∫õ‰ªãÁªç„ÄÇ</p>\n<h2 id=\"OAuth2-ÂºÄÂèëÊéàÊùÉ\"><a href=\"#OAuth2-ÂºÄÂèëÊéàÊùÉ\" class=\"headerlink\" title=\"OAuth2 ÂºÄÂèëÊéàÊùÉ\"></a>OAuth2 ÂºÄÂèëÊéàÊùÉ</h2><p>OAuthÔºàÂºÄÊîæÊéàÊùÉÔºâÊòØ‰∏Ä‰∏™ÂºÄÂèëÊ†áÂáÜÔºåÂÖÅËÆ∏Áî®Êà∑ÊéàÊùÉ <code>Á¨¨‰∏âÊñπÁΩëÁ´ô</code> ËÆøÈóÆ‰ªñ‰ª¨Â≠òÂÇ®Âú®Âè¶Â§ñÁöÑÊúçÂä°Êèê‰æõÂïÜ‰∏≠ÁöÑ‰ø°ÊÅØÔºåËÄå‰∏çÈúÄË¶ÅÊé•Ëß¶Âà∞Áî®Êà∑ÂêçÂíåÂØÜÁ†Å„ÄÇ‰∏∫‰∫Ü‰øùÊä§Êï∞ÊçÆÁöÑÂÆâÂÖ®ÂíåÈöêÁßÅÔºåÁ¨¨‰∏âÊñπÁΩëÁ´ôËÆøÈóÆÁî®Êà∑Êï∞ÊçÆÂâçÈÉΩÈúÄË¶Å <code>ÊòæÂºèÂú∞ÂêëÁî®Êà∑ÂæÅÊ±ÇÊéàÊùÉ</code>„ÄÇÊàë‰ª¨Â∏∏ËßÅÁöÑ OAuth ËÆ§ËØÅÊúçÂä°ÁöÑÂéÇÂïÜÊúâÂæÆ‰ø°„ÄÅQQ„ÄÅÊîØ‰ªòÂÆùÁ≠â„ÄÇ</p>\n<p>OAuth ÂçèËÆÆÂèàÊúâ 1.0 Âíå 2.0 ‰∏§‰∏™ÁâàÊú¨Ôºå2.0 ÁâàÊï¥‰∏™ÊéàÊùÉÈ™åËØÅÊµÅÁ®ãÊõ¥ÁÆÄÂçïÊõ¥ÂÆâÂÖ®Ôºå‰πüÊòØÁõÆÂâçÊúÄ‰∏ªË¶ÅÁöÑÁî®Êà∑Ë∫´‰ªΩÈ™åËØÅÂíåÊéàÊùÉÊñπÂºè„ÄÇ</p>\n<p>Â∫îÁî®Âú∫ÊôØÊúâÔºöÁ¨¨‰∏âÊñπÂ∫îÁî®ÁöÑÊé•ÂÖ•„ÄÅÂæÆÊúçÂä°Èâ¥ÊùÉ‰∫í‰ø°„ÄÅÊé•ÂÖ•Á¨¨‰∏âÊñπÂπ≥Âè∞„ÄÅÁ¨¨‰∏ÄÊñπÂØÜÁ†ÅÁôªÂΩïÁ≠â„ÄÇ</p>\n<p>ÊéàÊùÉÊ®°ÂºèÔºö</p>\n<ul>\n<li>ÊéàÊùÉÁ†ÅÊ®°ÂºèÔºàAuthorization Code GrantÔºâ</li>\n<li>ÈöêÂºèÊéàÊùÉÊ®°ÂºèÔºàImplicit GrantÔºâ</li>\n<li>ÂØÜÁ†ÅÊ®°ÂºèÔºàResource Owner Password Credentials GrantÔºâ</li>\n<li>ÂÆ¢Êà∑Á´ØÊ®°ÂºèÔºàClient Credentials GrantÔºâ</li>\n</ul>\n<p>Êó†ËÆ∫Âì™ÁßçÊéàÊùÉÊ®°ÂºèÔºåÈÉΩÂøÖÈ°ªÊã•ÊúâÂõõÁßçÂøÖË¶ÅÁöÑËßíËâ≤ÂèÇ‰∏éÔºö<code>ÂÆ¢Êà∑Á´Ø</code>„ÄÅ<code>ÊéàÊùÉÊúçÂä°Âô®</code>„ÄÅ<code>ËµÑÊ∫êÊúçÂä°Âô®</code>ÔºåÊúâÁöÑËøòÊúâ <code>Áî®Êà∑ÔºàËµÑÊ∫êÊã•ÊúâËÄÖÔºâ</code>„ÄÇÊàë‰ª¨‰ª•ÂæÆ‰ø°ÂºÄÂèëÂπ≥Âè∞ÁöÑÊéàÊùÉÁôªÂΩï‰∏∫‰æãËß£ÈáäËøôÂõõÁßçËßíËâ≤Ôºö</p>\n<ul>\n<li>ËµÑÊ∫êÊã•ÊúâËÄÖÔºàResource OwnerÔºâÔºöËøôÈáåÊåáÂæÆ‰ø°Áî®Êà∑</li>\n<li>Á¨¨‰∏âÊñπÂ∫îÁî®ÔºàThird-party ApplicationÔºâÔºöÊåáÂÜÖÂµåÂú®ÂæÆ‰ø°Â∫îÁî®ÂÜÖÁöÑÁ¨¨‰∏âÊñπÂ∫îÁî®ÔºåÂΩ¢Âºè‰∏çÈôê‰∫é Web App„ÄÅÂÖ¨‰ºóÂè∑ Web ÁΩëÈ°µ„ÄÅÂ∞èÁ®ãÂ∫èÁ≠âÁ≠â</li>\n<li>ÊéàÊùÉÊúçÂä°Âô®ÔºàAuthorization ServerÔºâÔºöËøôÈáåÊåáÂæÆ‰ø°ÂºÄÂèëÂπ≥Âè∞ÁöÑÊéàÊùÉÊúçÂä°</li>\n<li>ËµÑÊ∫êÊúçÂä°Âô®ÔºàResource ServerÔºâÔºöÁî®‰∫éÂ≠òÂÇ®„ÄÅËé∑ÂèñÁî®Êà∑ËµÑÊ∫êÔºåËøôÈáåÊåáÁöÑÊòØÂæÆ‰ø°ÂºÄÊîæÂπ≥Âè∞ÁöÑÊúçÂä°Âô®</li>\n</ul>\n<h3 id=\"ÊéàÊùÉÁ†ÅÊ®°Âºè\"><a href=\"#ÊéàÊùÉÁ†ÅÊ®°Âºè\" class=\"headerlink\" title=\"ÊéàÊùÉÁ†ÅÊ®°Âºè\"></a>ÊéàÊùÉÁ†ÅÊ®°Âºè</h3><p>ÊéàÊùÉÁ†ÅÊ®°ÂºèÊòØ OAuth 2.0 ÁõÆÂâçÊúÄÂÆâÂÖ®ÊúÄÂ§çÊùÇÁöÑÊéàÊùÉÊµÅÁ®ã„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-authorization-code-grant.jpg\" alt=\"ÊéàÊùÉÁ†ÅÊ®°Âºè\"></p>\n<p>ÊéàÊùÉÁ†ÅÊ®°ÂºèÁöÑÊéàÊùÉÊµÅÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜÔºö</p>\n<ol>\n<li>Client SideÔºöÁî®Êà∑+ÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´ØÁöÑ‰∫§‰∫í</li>\n<li>Server SideÔºöÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í</li>\n<li>Check Access Token‚ÄôÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í + ËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í</li>\n</ol>\n<p>Êï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÂÆ¢Êà∑Á´ØÊç¢ÂèñÊéàÊùÉÁ†ÅÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÊéàÊùÉÁ†ÅÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</p>\n<blockquote>\n<p>ÂâçÊèêÊù°‰ª∂Ôºö</p>\n<ul>\n<li>Á¨¨‰∏âÊñπÂÆ¢Êà∑Á´ØÈúÄË¶ÅÊèêÂâç‰∏éËµÑÊ∫êÊã•ÊúâÊñπÔºàÂêåÊó∂‰πüÊòØÊéàÊùÉÊâÄÊúâÊñπÔºâÂçèÂïÜÂÆ¢Êà∑Á´Ø IDÔºàclient_idÔºâ‰ª•ÂèäÂÆ¢Êà∑Á´ØÂØÜÈí•Ôºàclient_secretÔºâ</li>\n<li>‰∏äËø∞ÊµÅÁ®ãÊöÇÊú™Â∞Ü <code>scope</code>„ÄÅ<code>state</code> Á≠â‰æùËµñÂÖ∑‰ΩìÊ°ÜÊû∂ÁöÑÂÜÖÂÆπÂÜôËøõÊù•ÔºåËøôÈáåÂèØ‰ª•ÂèÇËÄÉ Spring Security OAuth2 ÁöÑÂÆûÁé∞</li>\n</ul>\n</blockquote>\n<p><strong>Client Server ÂÆ¢Êà∑Á´ØÊç¢ÂèñÊéàÊùÉÁ†Å</strong></p>\n<p>Ëøô‰∏™ÂÆ¢Êà∑Á´ØÂèØ‰ª•ÊòØÊµèËßàÂô®</p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÂ∞Ü <code>client_id + client_secret + ÊéàÊùÉÊ®°ÂºèÊ†áËØÜÔºàgrant_typeÔºâ+ ÂõûË∞ÉÂú∞ÂùÄÔºàredirect_uriÔºâ</code> ÊãºÊé•Êàê URL ËÆøÈóÆÊéàÊùÉÊúçÂä°Âô®</li>\n<li>ÊéàÊùÉÊúçÂä°Á´ØËøîÂõûÁôªÂΩïÁïåÈù¢ÔºåË¶ÅÊ±Ç <code>Áî®Êà∑ÁôªÂΩï</code>ÔºàÊ≠§Êó∂Áî®Êà∑Êèê‰∫§ÁöÑË¥¶Âè∑ÂØÜÁ†ÅÁ≠âÁõ¥Êé•ÂèëÈÄÅÂà∞ÊéàÊùÉÊúçÂä°Á´ØÔºåËøõË°åÊ†°È™åÔºâ</li>\n<li>ÊéàÊùÉÊúçÂä°Á´ØËøîÂõûÊéàÊùÉÂÆ°ÊâπÁïåÈù¢Ôºå<code>Áî®Êà∑ÊéàÊùÉ</code> ÂÆåÊàê</li>\n<li>ÊéàÊùÉÊúçÂä°Á´Ø <code>ËøîÂõûÊéàÊùÉÁ†ÅÂà∞ÂõûË∞ÉÂú∞ÂùÄ</code></li>\n</ol>\n<p><strong>Server Side ÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÊéàÊùÉÁ†ÅÊç¢Âèñ Token</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÊé•Êî∂Âà∞ÊéàÊùÉÁ†ÅÔºåÂπ∂‰ΩøÁî® <code>ÊéàÊùÉÁ†Å + client_id + client_secret</code> ËÆøÈóÆÊéàÊùÉÊúçÂä°Á´ØÈ¢ÅÂèë Token ‰ª§Áâå</li>\n<li>ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™åÈÄöËøáÔºåÈ¢ÅÂèë Token ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø</li>\n<li>ÂÆ¢Êà∑Á´Ø‰øùÂ≠ò Token Âà∞Â≠òÂÇ®Âô®</li>\n</ol>\n<p><strong>Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥Â∏¶‰∏ä TokenÔºåËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê</li>\n</ol>\n<p>ÁßªÂä®Â∫îÁî®ÂæÆ‰ø°ÁôªÂΩïÊòØÂü∫‰∫é OAuth2.0 ÂçèËÆÆÊ†áÂáÜÊûÑÂª∫ÁöÑÂæÆ‰ø° OAuth2.0 ÊéàÊùÉÁôªÂΩïÁ≥ªÁªüÔºåÂú®ÂæÆ‰ø°ÂºÄÊîæÂπ≥Âè∞Ê≥®ÂÜåÂºÄÂèëËÄÖË¥¶Âè∑ÔºåÂπ∂Êã•ÊúâÂ∑≤ÂÆ°Ê†∏ÈÄöËøáÁöÑÁßªÂä®Â∫îÁî®ÔºåÂπ∂Ëé∑ÂæóÁõ∏Â∫îÁöÑ AppID Âíå AppSecretÔºåÁî≥ËØ∑ÂæÆ‰ø°ÁôªÂΩï‰∏îÈÄöËøáÂÆ°Ê†∏ÂêéÔºåÂèØÂºÄÂßãÊé•ÂÖ•ÊµÅÁ®ã„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. Á¨¨‰∏âÊñπÂèëËµ∑ÂæÆ‰ø°ÊéàÊùÉÁôªÂΩïËØ∑Ê±ÇÔºåÂæÆ‰ø°Áî®Êà∑ÂÖÅËÆ∏ÊéàÊùÉÁ¨¨‰∏âÊñπÂ∫îÁî®ÂêéÔºåÂæÆ‰ø°‰ºöÊãâËµ∑Â∫îÁî®ÊàñÈáçÂÆöÂêëÂà∞Á¨¨‰∏âÊñπÁΩëÁ´ôÔºåÂπ∂‰∏îÂ∏¶‰∏äÊéàÊùÉ‰∏¥Êó∂Á•®ÊçÆ code ÂèÇÊï∞</span><br><span class=\"line\">2. ÈÄöËøá code ÂèÇÊï∞Âä†‰∏ä AppId Âíå AppSecret Á≠âÔºåÈÄöËøá API Êç¢Âèñ access_token</span><br><span class=\"line\">3. ÈÄöËøá access_token ËøõË°åÊé•Âè£Ë∞ÉÁî®ÔºåËé∑ÂèñÁî®Êà∑Âü∫Êú¨Êï∞ÊçÆËµÑÊ∫êÊàñÂ∏ÆÂä©Áî®Êà∑ÂÆûÁé∞Âü∫Êú¨Êìç‰Ωú</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://img.mrsingsing.com/authentication-wx-oauth2-access-token.png\" alt=\"ÂæÆ‰ø° OAuth2.0 Ëé∑Âèñ access_token Êó∂Â∫èÂõæ\"></p>\n<p>ËØ¶ÊÉÖÂèØ‰ª•ÂèÇÈòÖ <a href=\"https://developers.weixin.qq.com/doc/oplatform/Mobile_App/WeChat_Login/Development_Guide.html\" target=\"_blank\" rel=\"noopener\">ÂæÆ‰ø°ÁôªÂΩïÂäüËÉΩ - ÁßªÂä®Â∫îÁî®ÂæÆ‰ø°ÁôªÂΩïÂºÄÂèëÊåáÂçó</a>ÔºåËøôÈáåÁöÑÂÆûÁé∞Â∞±ÊòØÊéàÊùÉÁ†ÅÊ®°Âºè„ÄÇ</p>\n<h3 id=\"ÈöêÂºèÊéàÊùÉÊ®°Âºè\"><a href=\"#ÈöêÂºèÊéàÊùÉÊ®°Âºè\" class=\"headerlink\" title=\"ÈöêÂºèÊéàÊùÉÊ®°Âºè\"></a>ÈöêÂºèÊéàÊùÉÊ®°Âºè</h3><p><img src=\"https://img.mrsingsing.com/authentication-implicit-grant.jpg\" alt=\"ÈöêÂºèÊéàÊùÉÊ®°ÂºèÊµÅÁ®ãÂõæ\"></p>\n<p>ÈöêÂºèÊéàÊùÉÊ®°ÂºèÂ§ßËá¥ÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö</p>\n<ol>\n<li>Client SideÔºöÁî®Êà∑+ÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´ØÁöÑ‰∫§‰∫í</li>\n<li>Check Access TokenÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í + ËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í</li>\n</ol>\n<p>Êï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÂÆ¢Êà∑Á´ØËÆ©Áî®Êà∑ÁôªÂΩïÊéàÊùÉÊúçÂä°Á´ØÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</p>\n<p><strong>Client Side ÂÆ¢Êà∑Á´ØËÆ©Áî®Êà∑ÁôªÂΩïÊéàÊùÉÊúçÂä°Á´ØÊç¢ Token</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÔºàÊµèËßàÂô®ÊàñÂçïÈ°µÂ∫îÁî®ÔºâÂ∞Ü <code>client_id + ÊéàÊùÉÊ®°ÂºèÊ†áËØÜÔºàgrant_typeÔºâ+ ÂõûË∞ÉÂú∞ÂùÄÔºàredirect_urlÔºâ</code> ÊãºÊàê URL ËÆøÈóÆÊéàÊùÉÊúçÂä°Á´Ø</li>\n<li>ÊéàÊùÉÊúçÂä°Á´ØË∑≥ËΩ¨Áî®Êà∑ÁôªÂΩïÁïåÈù¢ÔºåÁî®Êà∑ÁôªÂΩï</li>\n<li>Áî®Êà∑ÊéàÊùÉ</li>\n<li>ÊéàÊùÉÊúçÂä°Á´Ø <code>ËÆøÈóÆÂõûË∞ÉÂú∞ÂùÄ</code> ËøîÂõû Token ÁªôÂÆ¢Êà∑Á´Ø</li>\n</ol>\n<p><strong>Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥ÈôÑÂ∏¶ Token ËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê</li>\n</ol>\n<h3 id=\"ÂØÜÁ†ÅÊ®°Âºè\"><a href=\"#ÂØÜÁ†ÅÊ®°Âºè\" class=\"headerlink\" title=\"ÂØÜÁ†ÅÊ®°Âºè\"></a>ÂØÜÁ†ÅÊ®°Âºè</h3><p><img src=\"https://img.mrsingsing.com/authentication-resource-owner-password-credentials-grant.jpg\" alt=\"ÂØÜÁ†ÅÊ®°ÂºèÊµÅÁ®ãÂõæ\"></p>\n<p>ÂØÜÁ†ÅÊ®°ÂºèÁöÑÊéàÊùÉÊµÅÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö</p>\n<ol>\n<li>Client SideÔºöÁî®Êà∑‰∏éÂÆ¢Êà∑Á´ØÁöÑ‰∫§‰∫íÔºåÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´ØÁöÑ‰∫§‰∫í</li>\n<li>Check Access Token‚ÄôÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í + ËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í</li>\n</ol>\n<p>Êï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÁî®Êà∑Âú®ÂÆ¢Êà∑Á´ØÊèê‰∫§Ë¥¶Âè∑ÂØÜÁ†ÅÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</p>\n<p><strong>Client Server Áî®Êà∑Âú®ÂÆ¢Êà∑Á´ØÊèê‰∫§Ë¥¶Âè∑ÂØÜÁ†ÅÊç¢Âèñ Token</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØË¶ÅÊ±ÇÁî®Êà∑ÁôªÂΩï</li>\n<li>Áî®Êà∑ËæìÂÖ•ÂØÜÁ†ÅÔºåÂÆ¢Êà∑Á´ØÂ∞ÜË°®Âçï‰∏≠Ê∑ªÂä†ÂÆ¢Êà∑Á´ØÁöÑ <code>client_id + client_secret</code> ÂèëÈÄÅÁªôÊéàÊùÉÊúçÂä°Á´ØÈ¢ÅÂèë Token ‰ª§Áâå</li>\n<li>ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™åÁî®Êà∑Âêç„ÄÅÁî®Êà∑ÂØÜÁ†Å„ÄÅ<code>client_id</code> Âíå <code>client_secret</code>ÔºåÂùáÈÄöËøáÂêéËøîÂõû Token ÁªôÂÆ¢Êà∑Á´Ø</li>\n<li>ÂÆ¢Êà∑Á´Ø‰øùÂ≠ò Token</li>\n</ol>\n<p><strong>Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥Â∏¶‰∏ä TokenÔºåËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê</li>\n</ol>\n<h3 id=\"ÂÆ¢Êà∑Á´ØÊ®°Âºè\"><a href=\"#ÂÆ¢Êà∑Á´ØÊ®°Âºè\" class=\"headerlink\" title=\"ÂÆ¢Êà∑Á´ØÊ®°Âºè\"></a>ÂÆ¢Êà∑Á´ØÊ®°Âºè</h3><p><img src=\"https://img.mrsingsing.com/authentication-client-credentials-grant.jpg\" alt=\"ÂÆ¢Êà∑Á´ØÊ®°ÂºèÊµÅÁ®ãÂõæ\"></p>\n<p>ÂÆ¢Êà∑Á´ØÊ®°ÂºèÁöÑÊéàÊùÉÊµÅÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö</p>\n<ol>\n<li>Server SideÔºöÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í</li>\n<li>Check Access Token‚ÄôÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´ØÔºåËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í</li>\n</ol>\n<p>Êï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÂÆ¢Êà∑Á´Ø‰ΩøÁî®Ëá™Â∑±ÁöÑÊ†áËØÜÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</p>\n<p><strong>Client Server ÂÆ¢Êà∑Á´Ø‰ΩøÁî®Ëá™Â∑±ÁöÑÊ†áËØÜÊç¢Âèñ Token</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´Ø‰ΩøÁî® <code>client_id + client_secret + ÊéàÊùÉÊ®°ÂºèÊ†áËØÜ</code> ÂèëÈÄÅÁªôÊéàÊùÉÊúçÂä°Á´ØÈ¢ÅÂèë Token ‰ª§Áâå</li>\n<li>ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™åÈÄöËøáÂêéËøîÂõû Token ÁªôÂÆ¢Êà∑Á´Ø</li>\n<li>ÂÆ¢Êà∑Á´Ø‰øùÂ≠ò Token</li>\n</ol>\n<p><strong>Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥Â∏¶‰∏ä TokenÔºåËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê</li>\n</ol>\n<h3 id=\"ÊéàÊùÉÊ®°ÂºèÈÄâÂûã\"><a href=\"#ÊéàÊùÉÊ®°ÂºèÈÄâÂûã\" class=\"headerlink\" title=\"ÊéàÊùÉÊ®°ÂºèÈÄâÂûã\"></a>ÊéàÊùÉÊ®°ÂºèÈÄâÂûã</h3><p>ËÄÉËôëÂà∞ÊéàÊùÉÂú∫ÊôØÁöÑÂ§öÊ†∑ÊÄßÔºåÂèØ‰ª•ÂèÇËÄÉ‰ª•‰∏ã‰∏§ÁßçÈÄâÂûãÊñπÂºèÔºö</p>\n<ul>\n<li>ÊåâÊéàÊùÉÈúÄË¶ÅÁöÑÂ§öÁ´ØÊÉÖÂÜµ</li>\n<li>ÊåâÂÆ¢Êà∑Á´ØÁ±ªÂûã‰∏éÊâÄÊúâËÄÖ</li>\n</ul>\n<p>ÊåâÊéàÊùÉÈúÄË¶ÅÁöÑÂ§öÁ´ØÊÉÖÂÜµÔºö</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Ê®°Âºè</th>\n<th style=\"text-align:left\">ÈúÄË¶ÅÂâçÁ´Ø</th>\n<th style=\"text-align:left\">ÈúÄË¶ÅÂêéÁ´Ø</th>\n<th style=\"text-align:left\">ÈúÄË¶ÅÁî®Êà∑ÂìçÂ∫î</th>\n<th style=\"text-align:left\">ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÂØÜÈí•</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">ÊéàÊùÉÁ†ÅÊ®°Âºè Authorization Code</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úì</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ÈöêÂºèÊéàÊùÉÊ®°Âºè Implicit Grant</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úó</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úó</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ÂØÜÁ†ÅÊéàÊùÉÊ®°Âºè Password Grant</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úì</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ÂÆ¢Êà∑Á´ØÊéàÊùÉÊ®°Âºè Client Credentials</td>\n<td style=\"text-align:left\">‚úó</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úó</td>\n<td style=\"text-align:left\">‚úì</td>\n</tr>\n</tbody>\n</table>\n<p>ÊåâÁÖßÂÆ¢Êà∑Á´ØÁ±ªÂûã‰∏éËÆøÈóÆ‰ª§ÁâåÊâÄÊúâËÄÖÂàÜÁ±ªÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-oauth2-mode-selection.jpg\" alt=\"OAuth2.0 Ê®°ÂºèÈÄâÂûã\"></p>\n<h2 id=\"ËÅîÂêàÁôªÂΩï\"><a href=\"#ËÅîÂêàÁôªÂΩï\" class=\"headerlink\" title=\"ËÅîÂêàÁôªÂΩï\"></a>ËÅîÂêàÁôªÂΩï</h2><p>ËÅîÂêàÁôªÂΩïÊåáÂêåÊó∂ÂåÖÂê´Â§öÁßçÂá≠ËØÅÊ†°È™åÁöÑÁôªÂΩïÊúçÂä°ÔºåÂêåÊó∂Ôºå‰πüÂèØ‰ª•ÁêÜËß£‰∏∫‰ΩøÁî®Á¨¨‰∏âÊñπÂá≠ËØÅËøõË°åÊ†°È™åÁöÑÁôªÂΩïÊúçÂä°„ÄÇËøô‰∏™Ê¶ÇÂøµÊúâÁÇπÂÉè OAuth2.0 ÁöÑËÆ§ËØÅÊñπÂºè„ÄÇ</p>\n<p>ÊúÄÁªèÂÖ∏ÁöÑËé´Ëøá‰∫é APP ÂÜÖÂµå H5 ÁöÑ‰ΩøÁî®Âú∫ÊôØÔºåÂΩìÁî®Êà∑‰ªé APP ËøõÂÖ•ÂÜÖÂµåÁöÑ H5 Êó∂ÔºåÊàë‰ª¨Â∏åÊúõ APP ÂÜÖÂ∑≤ÁôªÂΩïÁöÑÁî®Êà∑ËÉΩÂ§üËÆøÈóÆÂà∞ H5 ÂÜÖÂèóÈôêÁöÑËµÑÊ∫êÔºåËÄåÊú™ÁôªÂΩïÁöÑÁî®Êà∑ÂàôÈúÄË¶ÅÁôªÂΩïÂêéËÆøÈóÆ„ÄÇ</p>\n<p>ËøôÈáåÊÄùË∑Ø‰∏ªË¶ÅÊúâ‰∏§ÁßçÔºå‰∏ÄÁßçÊòØÂéüÁîüË∑≥ËΩ¨ÂÜÖÂµå H5 È°µÈù¢Êó∂ÔºåÂ∞ÜÁôªÂΩïÊÄÅ Token ÈôÑÂä†Âú® URL ÂèÇÊï∞‰∏äÔºåÂè¶‰∏ÄÁßçÂàôÊòØÂÜÖÂµå H5 ‰∏ªÂä®ÈÄöËøá‰∏éÂéüÁîüÂÆ¢Êà∑Á´ØÂà∂ÂÆöÁöÑÂçèËÆÆËé∑ÂèñÂ∫îÁî®ÂÜÖÁöÑÁôªÂΩïÁä∂ÊÄÅ„ÄÇ</p>\n<h2 id=\"Êâ´Á†ÅÁôªÂΩï\"><a href=\"#Êâ´Á†ÅÁôªÂΩï\" class=\"headerlink\" title=\"Êâ´Á†ÅÁôªÂΩï\"></a>Êâ´Á†ÅÁôªÂΩï</h2><p>‰∫åÁª¥Á†Å‰πüÁß∞‰∏∫‰∫åÁª¥Êù°Á†ÅÔºåÊòØÊåáÂú®‰∏ÄÁª¥Êù°Á†ÅÁöÑÂü∫Á°Ä‰∏äÊâ©Â±ïÂá∫Âè¶‰∏ÄÁª¥ÂÖ∑ÊúâÂèØËØªÊÄßÁöÑÊù°Á†ÅÔºå‰ΩøÁî®ÈªëÁôΩÁü©ÂΩ¢ÂõæÊ°àË°®Á§∫‰∫åËøõÂà∂Êï∞ÊçÆÔºåË¢´ËÆæÂ§áÊâ´ÊèèÂêéÂèØËé∑ÂèñÂÖ∂‰∏≠ÊâÄÂåÖÂê´ÁöÑ‰ø°ÊÅØ„ÄÇ‰∏ÄÁª¥Êù°Á†ÅÁöÑÂÆΩÂ∫¶ËÆ∞ËΩΩÁùÄÊï∞ÊçÆÔºåËÄåÂÖ∂ÈïøÂ∫¶Ê≤°ÊúâËÆ∞ËΩΩÊï∞ÊçÆ„ÄÇ‰∫åÁª¥Á†ÅÁöÑÈïøÂ∫¶„ÄÅÂÆΩÂ∫¶ÂùáËÆ∞ËΩΩÁùÄÊï∞ÊçÆ„ÄÇ‰∫åÁª¥Á†ÅÊúâ‰∏ÄÁª¥Êù°Á†ÅÊ≤°ÊúâÁöÑ <strong>ÂÆö‰ΩçÁÇπ*- Âíå </strong>ÂÆπÈîôÊú∫Âà∂**„ÄÇÂÆπÈîôÊú∫Âà∂Âú®Âç≥‰ΩøÊ≤°ÊúâËØÜÂà´Âà∞ÂÖ®ÈÉ®ÁöÑÊù°Á†Å„ÄÅÊàñÊòØËØ¥Êù°Á†ÅÊúâÊ±°ÊçüÊó∂Ôºå‰πüÂèØ‰ª•Ê≠£Á°ÆÂú∞ËøòÂéüÊù°Á†Å‰∏äÁöÑ‰ø°ÊÅØ„ÄÇ</p>\n<p>Êâ´Á†ÅÁôªÂΩïÈÄöÂ∏∏ËßÅ‰∫éÁßªÂä®Á´Ø APP ‰∏≠ÔºåÂü∫Êú¨Êìç‰ΩúÊµÅÁ®ãÊòØËÆ©Â∑≤ÁôªÂΩïÁî®Êà∑‰∏ªÂä®Êâ´Êèè‰∫åÁª¥Á†ÅÔºå‰ª•‰Ωø PC Á´ØÁöÑÂêåÊ¨æÂ∫îÁî®Âæó‰ª•Âø´ÈÄüÁôªÂΩïÁöÑÊñπÂºèÔºåÂ∏∏ËßÅÁöÑÂÖ∑Â§áÊâ´Á†ÅÁôªÂΩïÁöÑÂ∫îÁî®ÊúâÂæÆ‰ø°„ÄÅÈíâÈíâ„ÄÅÊîØ‰ªòÂÆùÁ≠â„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-scan-qrcode-login-workflow.jpg\" alt=\"Êâ´Á†ÅÁôªÂΩïÊµÅÁ®ãÂõæ\"></p>\n<p>Êâ´Á†ÅÁôªÂΩïÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™Èò∂ÊÆµÔºöÂæÖÊâ´Á†Å„ÄÅÂ∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§ÂíåÂ∑≤Á°ÆËÆ§„ÄÇ</p>\n<h3 id=\"ÂæÖÊâ´Á†ÅÈò∂ÊÆµ\"><a href=\"#ÂæÖÊâ´Á†ÅÈò∂ÊÆµ\" class=\"headerlink\" title=\"ÂæÖÊâ´Á†ÅÈò∂ÊÆµ\"></a>ÂæÖÊâ´Á†ÅÈò∂ÊÆµ</h3><p><strong>ÂæÖÊâ´Á†ÅÈò∂ÊÆµ</strong>Âç≥‰∏äËø∞ÊµÅÁ®ãÂõæ‰∏≠ 1~5 ÁöÑÈò∂ÊÆµÔºå‰∫¶Âç≥ÁîüÊàê‰∫åÁª¥Á†ÅÈò∂ÊÆµÔºåËøô‰∏™Èò∂ÊÆµ‰∏éÁßªÂä®Á´ØÊ≤°ÊúâÂÖ≥Á≥ªÔºå‰∏ªË¶ÅÊòØ PC Á´Ø‰∏éÊúçÂä°Á´ØËøõË°å‰∫§‰∫íÁöÑËøáÁ®ã„ÄÇ</p>\n<p>È¶ñÂÖà PC Á´ØÊê∫Â∏¶ËÆæÂ§á‰ø°ÊÅØÂêëÊúçÂä°Á´ØÂèëËµ∑‰∫ÜÁîüÊàê‰∫åÁª¥Á†ÅËØ∑Ê±ÇÔºåÊúçÂä°Á´ØÊé•Êî∂Âà∞ËØ∑Ê±ÇÂêéÁîüÊàê <code>UUID</code> ‰Ωú‰∏∫‰∫åÁª¥Á†Å IDÔºåÂπ∂Â∞Ü UUID ‰∏é <code>PC Á´ØÁöÑËÆæÂ§á‰ø°ÊÅØ</code> ÂÖ≥ËÅîËµ∑Êù•Â≠òÂÇ®Âú® Redis ÊúçÂä°Âô®‰∏≠ÔºåÁÑ∂ÂêéËøîÂõûÁªô PC Á´Ø„ÄÇ</p>\n<p>ÂΩì PC Á´ØÊî∂Âà∞‰∫åÁª¥Á†Å ID ‰πãÂêéÔºåÂ∞Ü‰∫åÁª¥Á†Å ID ‰ª• <code>‰∫åÁª¥Á†ÅÁöÑÂΩ¢Âºè</code> Â±ïÁ§∫ÔºåÁ≠âÂæÖÁßªÂä®Á´ØÊâ´Á†Å„ÄÇÊ≠§Êó∂ PC Á´ØÂºÄÂßãËΩÆËØ¢Êü•ËØ¢‰∫åÁª¥Á†ÅÁä∂ÊÄÅÔºåÁõ¥Âà∞ÁôªÂΩïÊàêÂäü„ÄÇÂΩìÁÑ∂Èô§‰∫Ü‰ΩøÁî®ËΩÆËØ¢Êü•ËØ¢Ôºå‰πüËÉΩ‰ΩøÁî® WebSocket ÂÆûÁé∞Êü•ËØ¢/Êé®ÈÄÅ‰∫åÁª¥Á†ÅÁä∂ÊÄÅÁöÑÈúÄÊ±Ç„ÄÇÂ¶ÇÊûúÁßªÂä®Á´ØÊú™Êâ´ÊèèÔºåÈÇ£‰πà‰∏ÄÊÆµÊó∂Èó¥Âêé‰∫åÁª¥Á†Å‰ºöËá™Âä®Â§±Êïà„ÄÇ</p>\n<h3 id=\"Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ\"><a href=\"#Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ\" class=\"headerlink\" title=\"Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ\"></a>Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ</h3><p><strong>Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ</strong>‰∫¶Âç≥ÊµÅÁ®ãÂõæ‰∏≠ÁöÑ 6~10 ÁöÑÈò∂ÊÆµÔºåÂú® PC Á´ØÁôªÂΩïÂæÆ‰ø°Êó∂ÔºåÊâãÊú∫Êâ´Á†ÅÂêéÔºåPC Á´ØÁöÑ‰∫åÁª¥Á†Å‰ºöÊòæÁ§∫‰∏∫Â∑≤Êâ´Á†ÅÔºåÂπ∂ÊèêÁ§∫ÈúÄË¶ÅÂú®ÊâãÊú∫‰∏äÁ°ÆËÆ§ÔºåËøô‰∏™Èò∂ÊÆµÊòØÁßªÂä®Á´Ø‰∏éÊúçÂä°Á´Ø‰∫§‰∫íÁöÑËøáÁ®ã„ÄÇ</p>\n<p>ÁßªÂä®Á´ØÊâ´Êèè‰∫åÁª¥Á†ÅÂêéÔºå‰ºöËá™Âä®Ëé∑ÂèñÂà∞‰∫åÁª¥Á†Å IDÔºåÂπ∂Â∞ÜÁßªÂä®Á´ØÁôªÂΩïÁöÑ‰ø°ÊÅØÂá≠ËØÅÔºàTokenÔºâÂíå‰∫åÁª¥Á†Å ID ‰Ωú‰∏∫ÂèÇÊï∞ÂèëÈÄÅÁªôÊúçÂä°Á´ØÔºåÊ≠§Êó∂ÊâãÊú∫ÂøÖÈ°ªÊòØÂ∑≤ÁôªÂΩïÔºà‰ΩøÁî®Êâ´ÊèèÁôªÂΩïÁöÑÂâçÊèêÊòØÁßªÂä®Á´ØÁöÑÂ∫îÁî®‰∏∫Â∑≤ÁôªÂΩïÁä∂ÊÄÅÔºåËøôÊ†∑ÊâçÂèØ‰ª•ÂÖ±‰∫´ÁôªÂΩïÊÄÅÔºâ„ÄÇ</p>\n<p>ÊúçÂä°Á´ØÊé•ÂèóËØ∑Ê±ÇÂêéÔºå‰ºöÂ∞Ü <code>Token ‰∏é‰∫åÁª¥Á†Å ID</code> ÂÖ≥ËÅîÔºå‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂÖ≥ËÅîÂë¢ÔºüÂõ†‰∏∫ÔºåÂΩìÊàë‰ª¨Âú®‰ΩøÁî®ÂæÆ‰ø°Êó∂ÔºåÁßªÂä®Á´ØÈÄÄÂá∫Êó∂ÔºåPC Á´Ø‰πüÂ∫îËØ•Èöè‰πãÈÄÄÂá∫ÁôªÂΩïÔºåËøô‰∏™ÂÖ≥ËÅîÂ∞±Ëµ∑Âà∞Ëøô‰∏™‰ΩúÁî®„ÄÇÁÑ∂Âêé‰ºöÁîüÊàê‰∏Ä‰∏™‰∏ÄÊ¨°ÊÄß TokenÔºåËøô‰∏™ Token ‰ºöËøîÂõûÁªôÁßªÂä®Á´ØÔºå‰∏ÄÊ¨°ÊÄß Token Áî®‰ΩúÁ°ÆËÆ§Êó∂ÁöÑÂá≠ËØÅ„ÄÇ</p>\n<p>PC Á´ØËΩÆËØ¢Âà∞‰∫åÁª¥Á†ÅÁöÑÁä∂ÊÄÅÂ∑≤ÁªèÂèëÁîüÂèòÂåñÔºå‰ºöÂ∞Ü PC Á´ØÁöÑ‰∫åÁª¥Á†ÅÊõ¥Êñ∞‰∏∫Â∑≤Êâ´ÊèèÔºåËØ∑Á°ÆËÆ§„ÄÇ</p>\n<h3 id=\"Â∑≤Á°ÆËÆ§Èò∂ÊÆµ\"><a href=\"#Â∑≤Á°ÆËÆ§Èò∂ÊÆµ\" class=\"headerlink\" title=\"Â∑≤Á°ÆËÆ§Èò∂ÊÆµ\"></a>Â∑≤Á°ÆËÆ§Èò∂ÊÆµ</h3><p><strong>Â∑≤Á°ÆËÆ§Èò∂ÊÆµ</strong>‰∏∫ÊµÅÁ®ãÂõæ‰∏≠ÁöÑÊ≠•È™§ 11~15ÔºåËøôÊòØÊâ´Á†ÅÁôªÂΩïÁöÑÊúÄÂêéÈò∂ÊÆµÔºåÁî®Êà∑Á°ÆËÆ§ÁôªÂΩïÔºåÁßªÂä®Á´ØÊê∫Â∏¶‰∏ä‰∏ÄÊ≠•‰∏≠Ëé∑ÂèñÁöÑ <code>‰∏¥Êó∂ Token</code> ÂèëÈÄÅÁªôÊúçÂä°Á´ØÊ†°È™å„ÄÇÊúçÂä°Á´ØÊ†°È™åÂÆåÊàêÂêéÔºå‰ºöÊõ¥Êñ∞‰∫åÁª¥Á†ÅÁä∂ÊÄÅÔºåÂπ∂‰∏îÁªô PC Á´ØÁîüÊàê‰∏Ä‰∏™ <code>Ê≠£ÂºèÁöÑ Token</code>ÔºåÂêéÁª≠ PC Á´ØÂ∞±ÊòØÊåÅÊúâËøô‰∏™ Token ËÆøÈóÆÊúçÂä°Á´Ø„ÄÇ</p>\n<p>PC Á´ØÁöÑÂÆöÊó∂Âô®ÔºåËΩÆËØ¢Âà∞‰∫åÁª¥Á†ÅÁä∂ÊÄÅ‰∏∫Â∑≤ÁôªÂΩïÁä∂ÊÄÅÔºåÂπ∂‰∏î‰ºöËé∑ÂèñÂà∞‰∫ÜÁîüÊàêÁöÑ TokenÔºåÂÆåÊàêÁôªÂΩïÔºåÂêéÁª≠ËÆøÈóÆÈÉΩÂü∫‰∫é Token ÂÆåÊàê„ÄÇ</p>\n<p>Âú®ÊúçÂä°Á´Ø‰ºöË∑üÁßªÂä®Á´Ø‰∏ÄÊ†∑ÔºåÁª¥Êä§ÁùÄ Token Ë∑ü‰∫åÁª¥Á†Å„ÄÅPC ËÆæÂ§á‰ø°ÊÅØ„ÄÅË¥¶Âè∑Á≠â‰ø°ÊÅØ„ÄÇ</p>\n<h2 id=\"‰∏ÄÈîÆÁôªÂΩï\"><a href=\"#‰∏ÄÈîÆÁôªÂΩï\" class=\"headerlink\" title=\"‰∏ÄÈîÆÁôªÂΩï\"></a>‰∏ÄÈîÆÁôªÂΩï</h2><p>ÊúÄ‰º†ÁªüÁöÑÁôªÂΩïÊñπÂºèËé´Ëøá‰∫éÊèê‰æõË¥¶Âè∑ÂØÜÁ†ÅÊ†°È™åÔºå‰ΩÜËøôÊØ´Êó†ÁñëÈóÆÈúÄË¶ÅÊ∂àËÄóÁî®Êà∑ÁöÑËÆ∞ÂøÜÊàêÊú¨„ÄÇÈöèÁùÄÊó†Á∫ø‰∫íËÅîÁöÑÂèëÂ±ï‰ª•ÂèäÊâãÊú∫Âç°ÂÆûÂêçÂà∂ÁöÑÊé®ÂπøÔºåÊâãÊú∫Âè∑‰ø®ÁÑ∂Â∑≤Êàê‰∏∫ÁâπÂà´ÁöÑË∫´‰ªΩËØÅÊòéÔºå‰∏éË¥¶Âè∑ÂØÜÁ†ÅÁõ∏ÊØîÔºåÊâãÊú∫Âè∑ÂèØ‰ª•Êõ¥Â•ΩÂú∞È™åËØÅÁî®Êà∑ÁöÑË∫´‰ªΩÔºåÈò≤Ê≠¢ÊÅ∂ÊÑèÊ≥®ÂÜå„ÄÇ</p>\n<p>‰ΩÜÊòØÊâãÊú∫Âè∑Ê≥®ÂÜåËøòÊòØÈúÄË¶Å‰∏ÄÁ≥ªÂàóÁπÅÁêêÁöÑÊìç‰ΩúÔºöËæìÂÖ•ÊâãÊú∫Âè∑„ÄÅÁ≠âÂæÖÁü≠‰ø°È™åËØÅÁ†Å„ÄÅËæìÂÖ•È™åËØÅÁ†Å„ÄÅÁÇπÂáªÁôªÂΩï„ÄÇÊï¥‰∏™ÊµÅÁ®ãÂ∞ëËØ¥‰∫åÂçÅÁßíÔºåËÄå‰∏îÂ¶ÇÊûúÊî∂‰∏çÂà∞Áü≠‰ø°Ôºå‰πüÂ∞±ÁôªÂΩïË°•‰∫ÜÔºåËøôÁ±ªÈóÆÈ¢òÊúâÂèØËÉΩÂØºËá¥ÊΩúÂú®ÁöÑÁî®Êà∑ÊµÅÂ§±„ÄÇ</p>\n<p>Áü≠‰ø°È™åËØÅÁ†ÅÁöÑ‰ΩúÁî®Â∞±ÊòØËØÅÊòéÂΩìÂâçÊìç‰ΩúÈ°µÈù¢ÁöÑÁî®Êà∑‰∏éËæìÂÖ•ÊâãÊú∫Âè∑ÁöÑÁî®Êà∑‰∏∫Áõ∏ÂêåÁöÑ‰∫∫ÔºåÈÇ£‰πàÂÆûÈôÖ‰∏äÂè™Ë¶ÅÊàë‰ª¨ËÉΩÂ§üËé∑ÂèñÂà∞ÂΩìÂâçÊâãÊú∫ÁöÑÊâãÊú∫Âè∑Âπ∂‰∏éËæìÂÖ•ÁöÑÊâãÊú∫Âè∑ÂØπÊØîÂåπÈÖçÂêé‰æøËÉΩËææÂà∞Ê†°È™åÁöÑÂäüËÉΩ„ÄÇ‰ΩÜÊòØÔºåÊó†ËÆ∫ÊòØÂéüÁîü APP ËøòÊòØ H5 ÁΩëÈ°µÈÉΩÊòØ‰∏çÂÖ∑Â§áÁõ¥Êé•Ëé∑ÂèñÁî®Êà∑ÊâãÊú∫Âè∑ÁöÑÂäüËÉΩÁöÑÔºåËÄåËøôÁßçÈúÄÊ±ÇËøêËê•ÂïÜËÉΩÂ§üÈÄöËøáÊâãÊú∫ SIM Âç°ÁöÑÊµÅÈáèÊï∞ÊçÆÊü•ËØ¢„ÄÇÈöèÁùÄËøêËê•ÂïÜÂºÄÊîæ‰∫ÜÁõ∏ÂÖ≥ÁöÑÊúçÂä°ÔºåÊàë‰ª¨ËÉΩÂ§üÊé•ÂÖ•ËøêËê•ÂïÜÊèê‰æõÁöÑ SDK Âπ∂‰ªòË¥π‰ΩøÁî®Áõ∏ÂÖ≥ÁöÑÊúçÂä°„ÄÇ</p>\n<p>‰∏ãÂõæ‰∏∫‰∏ÄÈîÆÁôªÂΩïÁöÑÊµÅÁ®ãÂõæÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-one-click-login-workflow.png\" alt=\"‰∏ÄÈîÆÁôªÂΩïÊµÅÁ®ãÂõæ\"></p>\n<p>‰∏ªË¶ÅÊ≠•È™§Ôºö</p>\n<ol>\n<li>SDK ÂàùÂßãÂåñÔºöË∞ÉÁî® SDK ÊñπÊ≥ïÔºå‰º†ÂÖ•Âπ≥Âè∞ÈÖçÁΩÆÁöÑ AppKey Âíå AppSecret</li>\n<li>Âî§Ëµ∑ÊéàÊùÉÈ°µÔºöË∞ÉÁî® SDK Âî§Ëµ∑ÊéàÊùÉÊé•Âè£ÔºåSDK ‰ºöÂÖàÂêëËøêËê•ÂïÜÂèëËµ∑Ëé∑ÂèñÊâãÊú∫Âè∑Êé©Á†ÅÁöÑËØ∑Ê±ÇÔºåËØ∑Ê±ÇÊàêÂäüÂêéË∑≥Âà∞ÊéàÊùÉÈ°µ„ÄÇÊéàÊùÉÈ°µ‰ºöÊòæÁ§∫ÊâãÊú∫Âè∑Êé©Á†Å‰ª•ÂèäËøêËê•ÂïÜÂçèËÆÆÁªôÁî®Êà∑Á°ÆËÆ§„ÄÇ</li>\n<li>ÂêåÊÑèÊéàÊùÉÂπ∂ÁôªÂΩïÔºöÁî®Êà∑ÂêåÊÑèÁõ∏ÂÖ≥ÂçèËÆÆÔºåÁÇπÂáªÊéàÊùÉÈ°µÈù¢ÁöÑÁôªÂΩïÊåâÈíÆÔºåSDK ‰ºöËØ∑Ê±ÇÊú¨Ê¨°ÂèñÂè∑ÁöÑ TokenÔºåËØ∑Ê±ÇÊàêÂäüÂêéÂ∞Ü Token ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø</li>\n<li>ÂèñÂè∑ÔºöÂ∞ÜËé∑ÂèñÂà∞ÁöÑ Token ÂèëÈÄÅÂà∞Ëá™Â∑±ÁöÑÊúçÂä°Âô®ÔºåÁî±ÊúçÂä°Á´ØÊê∫Â∏¶ Token Ë∞ÉÁî®ËøêËê•ÂïÜ‰∏ÄÈîÆÁôªÂΩïÁöÑÊé•Âè£ÔºåË∞ÉÁî®ÈôàÂ∑•Â∞±ËøîÂõûÊâãÊú∫Âè∑Á†Å„ÄÇÊúçÂä°Á´ØÁî®ÊâãÊú∫Âè∑ËøõË°åÁôªÂΩïÊàñÊ≥®ÂÜåÊìç‰ΩúÔºåËøîÂõûÊìç‰ΩúÁªìÊûúÁªôÂÆ¢Êà∑Á´ØÔºåÂÆåÊàê‰∏ÄÈîÆÁôªÂΩï„ÄÇ</li>\n</ol>\n<p>Áî±‰∫éÂõΩÂÜÖ‰∏âÂ§ßËøêËê•ÂïÜÂêÑËá™ÊúâÁã¨Á´ãÁöÑ SDKÔºåÊâÄ‰ª•‰ºöÂØºËá¥ÂÖºÂÆπÊñπÈù¢ÁöÑÂ∑•‰Ωú‰ºöÁâπÂà´ÁπÅÁêê„ÄÇÂ¶ÇÊûúË¶ÅÈááÁî®‰∏ÄÈîÆÁôªÂΩïÁöÑÊñπÊ°àÔºå‰∏çÂ¶®ÈááÁî®Á¨¨‰∏âÊñπÊèê‰æõ‰∫ÜÂè∑Á†ÅËÆ§ËØÅÊúçÂä°Ôºå‰∏ãÂàóÂá†ÂÆ∂‰æõÂ∫îÂïÜÈÉΩÊã•ÊúâÊâãÊú∫Âè∑Á†ÅËÆ§ËØÅËÉΩÂäõÔºö</p>\n<ul>\n<li><a href=\"https://help.aliyun.com/product/75010.html\" target=\"_blank\" rel=\"noopener\">ÈòøÈáå - Âè∑Á†ÅËÆ§ËØÅÊúçÂä°</a></li>\n<li><a href=\"http://shanyan.253.com/\" target=\"_blank\" rel=\"noopener\">ÂàõËìù - Èó™È™å</a></li>\n<li><a href=\"https://www.jiguang.cn/identify\" target=\"_blank\" rel=\"noopener\">ÊûÅÂÖâ - ÊûÅÂÖâËÆ§ËØÅ</a></li>\n<li><a href=\"https://www.mob.com/mobService/secverify\" target=\"_blank\" rel=\"noopener\">mob - ÁßíÈ™å</a></li>\n</ul>\n<p>Âú®ËÆ§ËØÅËøáÁ®ã‰∏≠ÔºåÈúÄË¶ÅÁî®Êà∑ÊâìÂºÄËúÇÁ™ùÁΩëÁªúÔºåÂ¶ÇÊûúÊâãÊú∫ËÆæÂ§áÊ≤°ÊúâÊèíÂÖ• SIM Âç°„ÄÅÊàñËÄÖÂÖ≥Èó≠ËúÇÁ™ùÁΩëÁªúÁöÑÊÉÖÂÜµ‰∏ãÔºåÊòØÊó†Ê≥ïÂÆåÊàêËÆ§ËØÅÁöÑ„ÄÇÊâÄ‰ª•Â∞±ÁÆóÊé•ÂÖ•‰∏ÄÈîÆÁôªÂΩïÔºåËøòÊòØË¶ÅÂÖºÂÆπ‰º†ÁªüÁöÑÁôªÂΩïÊñπÂºèÔºåÂÖÅËÆ∏Áî®Êà∑Âú®Â§±Ë¥•ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ªçËÉΩÊ≠£Â∏∏ÂÆåÊàêÁôªÂΩïÊµÅÁ®ã„ÄÇ</p>\n<h2 id=\"ÊÄªÁªì\"><a href=\"#ÊÄªÁªì\" class=\"headerlink\" title=\"ÊÄªÁªì\"></a>ÊÄªÁªì</h2><p>Èâ¥ÊùÉÊéàÊùÉÊòØËÆ°ÁÆóÊú∫È¢ÜÂüüÊó†Ê≥ïË∫≤ÈÅøÁöÑÊäÄÊúØËÆÆÈ¢òÔºåËÆ§ËØÅ„ÄÅÊéàÊùÉ„ÄÅÈâ¥ÊùÉÂíåÊùÉÈôêÊéßÂà∂ÊòØÂõ¥ÁªïËøô‰∏™ËÆÆÈ¢òÁöÑÂá†‰∏™ÂÖ≥ÈîÆÊ¶ÇÂøµÔºöËÆ§ËØÅÔºàIdentificationÔºâÊòØÊåáÊ†πÊçÆÂ£∞ÊòéËÄÖÊèê‰æõÁöÑËµÑÊñôÔºåÁ°ÆËÆ§Â£∞ÊòéËÄÖË∫´‰ªΩÔºõÊéàÊùÉÔºàAuthorizationÔºâÂàôÊòØËµÑÊ∫êÊâÄÊúâËÄÖÂßîÊ¥æÊâßË°åËÄÖÔºåËµã‰∫àÊâßË°åËÄÖÊåáÂÆöËåÉÂõ¥ÁöÑËµÑÊ∫êÊìç‰ΩúÊùÉÈôêÔºå‰ª•‰æøÊâßË°åËÄÖ‰ª£ÁêÜÊâßË°åÂØπËµÑÊ∫êÁöÑÁõ∏ÂÖ≥Êìç‰ΩúÔºõÈâ¥ÊùÉÔºàAuthenticationÔºâÊåáÁöÑÂØπÂ£∞ÊòéËÄÖÊâÄÂ£∞ÊòéÁöÑÁúüÂÆûÊÄßËøõË°åÊ†°È™å„ÄÇ‰ªéÊéàÊùÉËßíÂ∫¶Âá∫ÂèëÔºå‰ºöÊõ¥Âä†ÂÆπÊòìÁêÜËß£Èâ¥ÊùÉ„ÄÇÊéàÊùÉÂíåÈâ¥ÊùÉÊòØ‰∏§‰∏™‰∏ä‰∏ãÊ∏∏Áõ∏ÂåπÈÖçÁöÑÂÖ≥Á≥ªÔºåÂÖàÊéàÊùÉÔºåÂêéÈâ¥ÊùÉ„ÄÇ</p>\n<ul>\n<li>Authorization ÂÜ≥ÂÆö‰Ω†ÊòØÂê¶ÊúâÊùÉÈôêÂéªËé∑ÂèñËµÑÊ∫ê</li>\n<li>Authentication Ê†°È™å‰Ω†ËØ¥‰Ω†ÊòØË∞Å</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ÊéàÊùÉ -&gt; Èâ¥ÊùÉ -&gt; ÊùÉÈôêÊéßÂà∂</span><br></pre></td></tr></table></figure>\n<p>Ëä±‰∫Ü‰∏ÄÂë®Êó∂Èó¥Â∞ÜÁôªÂΩïÈâ¥ÊùÉÊéàÊùÉÊñπÈù¢ÁöÑÁü•ËØÜÊÄªÁªì‰∫Ü‰∏ÄÁï™ÔºåÁ°ÆËÆ§ÂØπÂêÑÁßçÊñπÊ°àÁöÑÂÆûÊñΩÁªÜËäÇÔºå‰ª•ÂèäËÆæËÆ°ÂéüÁêÜ„ÄÅÊñπÊ°à‰ºòÂä£ÈÉΩÊúâ‰∫ÜÊõ¥Ê∑±‰∏ÄÂ±ÇÁöÑ‰∫ÜËß£ÔºåÂú®Â≠¶‰π†ÁöÑËøáÁ®ã‰∏≠‰∏çÂÖç‰ºöËÅîÊÉ≥Âà∞Êó†ËÆ∫ÊòØÁîüÊ¥ª‰∏≠ÂêÑÁßçÁ±ª‰ººÁöÑÂú∫ÊôØÔºå‰πü‰ºöÊÉ≥Âà∞ËÆ°ÁÆóÊú∫È¢ÜÂüü‰∏≠ËØ∏Â¶Ç Linux Á≥ªÁªü„ÄÅÊï∞ÊçÆÂ∫ìÁ≠âÊùÉÈôêÊéßÂà∂Áõ∏ÂÖ≥Êú∫Âà∂„ÄÇËøôÊòØ‰∏™ËûçÊ±áË¥ØÈÄöÁöÑÂ≠¶‰π†ËøáÁ®ãÔºåÂèëÁé∞ËøôÁßçÈíàÂØπÊüê‰∏™ËÆÆÈ¢òÁöÑ‰ΩìÁ≥ªÂºèÊï¥ÁêÜÔºåÂØπÂâçÁ´ØÊäÄÊúØ‰ΩìÁ≥ª‰∏≠ÂêÑ‰∏™Áã¨Á´ãÁöÑÁÇπËøûÈÄöËµ∑Âà∞‰∫Ü‰∏çÈîôÁöÑÊïàÊûú„ÄÇ</p>\n<hr>\n<p><strong>ÂèÇËÄÉËµÑÊñôÔºö</strong></p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Basic_access_authentication\" target=\"_blank\" rel=\"noopener\">üìñ WikipediaÔºöBasic Access Authentication</a></li>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Authentication\" target=\"_blank\" rel=\"noopener\">üìñ HTTP Ë∫´‰ªΩÈ™åËØÅ Authentication</a></li>\n<li><a href=\"https://tools.ietf.org/html/rfc7519\" target=\"_blank\" rel=\"noopener\">üìñ RFC 7019 - JSON Web TokenÔºàJWTÔºâ</a></li>\n<li><a href=\"https://apereo.github.io/cas/4.2.x/index.html\" target=\"_blank\" rel=\"noopener\">üìñ CAS ÂÆòÊñπÊñáÊ°£</a></li>\n<li><a href=\"https://juejin.im/entry/5ac175baf265da239e4e3999\" target=\"_blank\" rel=\"noopener\">üìù ‰∏ÄÊñáËØªÊáÇ HTTP Basic Ë∫´‰ªΩËÆ§ËØÅ</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/43527568\" target=\"_blank\" rel=\"noopener\">üìù ‰Ω†Âú®Áî® JWT ‰ª£Êõø SessionÔºü</a></li>\n<li><a href=\"https://juejin.im/post/5cefad23e51d4510774a87f4#heading-4\" target=\"_blank\" rel=\"noopener\">üìù Áî®Êà∑ËÆ§ËØÅÔºöÂü∫‰∫é JWT Âíå Session ÁöÑÂå∫Âà´Âíå‰ºòÁº∫ÁÇπ</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/85873228\" target=\"_blank\" rel=\"noopener\">üìù JWT Ë∫´‰ªΩËÆ§ËØÅ‰ºòÁº∫ÁÇπÂàÜÊûê‰ª•ÂèäÂ∏∏ËßÅÈóÆÈ¢òËß£ÂÜ≥ÊñπÊ°à</a></li>\n<li><a href=\"https://juejin.im/post/5a002b536fb9a045132a1727\" target=\"_blank\" rel=\"noopener\">üìù ÂâçÁ´ØÈúÄË¶Å‰∫ÜËß£ÁöÑ SSO ‰∏é CAS Áü•ËØÜ</a></li>\n<li><a href=\"https://juejin.im/post/5b51f39b5188251a9f24a264\" target=\"_blank\" rel=\"noopener\">üìù ‰∏çÂä°Ê≠£‰∏öÁöÑÂâçÁ´Ø‰πã SSOÔºàÂçïÁÇπÁôªÂΩïÔºâÂÆûË∑µ</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/102898335\" target=\"_blank\" rel=\"noopener\">üìù Èù¢ËØïÈ¢òÔºöÁªôÊàëËØ¥‰∏Ä‰∏ã‰Ω†È°πÁõÆ‰∏≠ÁöÑÂçïÁÇπÁôªÂΩïÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑ</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/60376970\" target=\"_blank\" rel=\"noopener\">üìù ÂçïÁÇπÁôªÂΩïÁ≥ªÁªü</a></li>\n<li><a href=\"https://www.cnblogs.com/ywlaker/p/6113927.html\" target=\"_blank\" rel=\"noopener\">üìù ÂçïÁÇπÁôªÂΩïÂéüÁêÜ‰∏éÁÆÄÂçïÂÆûÁé∞</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/92263756\" target=\"_blank\" rel=\"noopener\">üìù ÂçïÁÇπÁôªÂΩï LDAP ÂçèËÆÆ</a></li>\n<li><a href=\"https://www.zhihu.com/question/21387523\" target=\"_blank\" rel=\"noopener\">üìù ‰ø°‰ªªÁôªÂΩï‰∏éËÅîÂêàÁôªÂΩïÊúâ‰ªÄ‰πàÂ∑ÆÂºÇÔºü</a></li>\n<li><a href=\"https://juejin.im/entry/5a93506e6fb9a0634c268da8\" target=\"_blank\" rel=\"noopener\">üìù OAuth2.0 Ê∑±ÂÖ•‰∫ÜËß£Ôºö‰ª•ÂæÆ‰ø°ÂºÄÂèëÂπ≥Âè∞Áªü‰∏ÄÁôªÂΩï‰∏∫‰æã</a></li>\n<li><a href=\"https://www.cnblogs.com/hellxz/p/oauth2_process.html\" target=\"_blank\" rel=\"noopener\">üìù OAuth 2.0 Ê¶ÇÂøµÂèäÊéàÊùÉÊµÅÁ®ãÊ¢≥ÁêÜ</a></li>\n<li><a href=\"https://juejin.im/post/5d15d3336fb9a07efb69994f\" target=\"_blank\" rel=\"noopener\">üìù ËÆ∫ H5 ÂµåÂÖ• APP ÁöÑËÅîÂêàÁôªÂΩïÁöÑËß£ÂÜ≥ÊñπÊ°à</a></li>\n<li><a href=\"https://juejin.im/post/5e83e716e51d4546c27bb559\" target=\"_blank\" rel=\"noopener\">üìù ËÅä‰∏ÄËÅä‰∫åÁª¥Á†ÅÊâ´ÊèèÁôªÂΩïÂéüÁêÜ</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/gA0JQp4j2ym9qOyQkC3qkA\" target=\"_blank\" rel=\"noopener\">üìù ÈòøÈáåÈù¢ËØïÂÆòÔºöÂàÜÂà´ËØ¥ËØ¥ÂæÆ‰ø°ÂíåÊ∑òÂÆùÊâ´Á†ÅÁôªÂΩïËÉåÂêéÁöÑÂÆûÁé∞ÂéüÁêÜ</a></li>\n<li><a href=\"https://juejin.im/post/5d197adff265da1bb31c4fa9\" target=\"_blank\" rel=\"noopener\">üìù Áî®Êà∑‰∏ÄÈîÆÁôªÂΩïÔºåÂ¶Ç‰ΩïÂÆûÁé∞</a></li>\n<li><a href=\"https://learnku.com/articles/30704\" target=\"_blank\" rel=\"noopener\">üìù ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏ãÁöÑÈâ¥ÊùÉÔºåÊÄé‰πàÂÅöÊõ¥‰ºòÈõÖÔºü</a></li>\n<li><a href=\"http://www.hyhblog.cn/2018/04/25/user_login_auth_terms/\" target=\"_blank\" rel=\"noopener\">üìù ËÆ§ËØÅ„ÄÅÊéàÊùÉ„ÄÅÈâ¥ÊùÉÂíåÊùÉÈôêÊéßÂà∂</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"<p>ÁôªÂΩïÈâ¥ÊùÉÊòØ‰∫íËÅîÁΩë‰ø°ÊÅØ‰∫§‰∫í‰∏≠Ê∞∏ÊÅíÁöÑËØùÈ¢òÔºåÊØïÁ´üÂú®Â∑•‰Ωú‰∏≠Âá†‰πéÊØèÂ§©ÈÉΩ‰ºöÊé•Ëß¶Âà∞ÔºåÈÄÇÈÄ¢ÊúÄËøëÈúÄË¶ÅÂØπÁé∞ÊúâÁöÑÁ≥ªÁªüÂπ≥Âè∞ËøõË°å SSO ÁöÑÊµÅÁ®ãÊîπÈÄ†ÔºåÊâÄ‰ª•Ë∂ÅËøô‰∏™Êú∫‰ºöÂ•ΩÂ•ΩÊÄªÁªìÂâçÁ´ØÂ∑•Á®ãÂ∏àÊé•Ëß¶Âà∞ÁöÑÁôªÂΩïÊñπÂºè„ÄÇ</p>\n<p>Èâ¥ÊùÉ‰πüÂè´Ë∫´‰ªΩÈ™åËØÅÔºàAuthenticationÔºâÔºåÊòØÊåáÈ™åËØÅÁî®Êà∑ÊòØÂê¶Êã•ÊúâËÆøÈóÆÁ≥ªÁªüÁöÑÊùÉÂà©„ÄÇÂú®Êó•Â∏∏ÁöÑÁîüÊ¥ª‰∏≠ÔºåË∫´‰ªΩÈ™åËØÅÈöèÂ§ÑÂèØËßÅÔºåÊØîÂ¶ÇÔºöËøõÂÖ•È´òÈìÅÁ´ôÂÄôËΩ¶ÂÆ§„ÄÅÊú∫Âú∫ÂÄôÊú∫Ê•ºÈúÄË¶ÅÊ£ÄÊü•Á•®ÊçÆÂíåË∫´‰ªΩËØÅ‰ª∂ÔºõÊ∏∏Áé©‰∏ªÈ¢ò‰πêÂõ≠„ÄÅÂêçËÉúÈ£éÊôØÂå∫ÈúÄË¶ÅË¥≠‰π∞Èó®Á•®ÔºåÂπ∂Áî±ÂÖ•Âè£Â§Ñ‰∫∫ÂëòÈâ¥ÂÆöÊúâÊïàÂêéÊñπÂèØÊã•ÊúâËøõÂÖ•Âõ≠Âå∫Ê∏∏Áé©ÁöÑÊùÉÂà©„ÄÇ</p>\n<p>ËÄåÂú®ËÆ°ÁÆóÊú∫È¢ÜÂüü‰∏≠ÔºåË∫´‰ªΩÈ™åËØÅÁöÑÊñπÊ≥ïÊúâÂæàÂ§öÁßçÔºöÂü∫‰∫éÂÖ±‰∫´ÂØÜÈí•ÁöÑË∫´‰ªΩÈ™åËØÅ„ÄÅÂü∫‰∫éÁîüÁâ©Â≠¶ÁâπÂæÅÁöÑË∫´‰ªΩÈ™åËØÅÂíåÂü∫‰∫éÂÖ¨ÂºÄÂØÜÈí•Âä†ÂØÜÁÆóÊ≥ïÁöÑË∫´‰ªΩÈ™åËØÅ„ÄÇ‰∏çÂêåÁöÑË∫´‰ªΩÈ™åËØÅÊñπÊ≥ïÔºåÂÆâÂÖ®ÊÄß‰πüÂêÑËá™‰∏çÂêå„ÄÇ</p>\n<p>‰∏ãÈù¢ÊàëÂ∞Ü‰ªéÂâçÁ´ØÂºÄÂèëÂ∑•Á®ãÂ∏àÁöÑËßíÂ∫¶Âá∫ÂèëÔºåÊ¢≥ÁêÜ Web Â∫îÁî®ÂâçÂêéÁ´ØÊï∞ÊçÆ‰∫§‰∫í‰∏≠ÁöÑÂêÑÁßçÈâ¥ÊùÉÊñπÊ°à„ÄÇ</p>","more":"<p>‰ª•‰∏ã‰∏∫Êú¨ÊñáÂ§ßÁ∫≤Ôºö</p>\n<ul>\n<li>HTTP Âü∫Êú¨ËÆ§ËØÅ</li>\n<li>Session-Cookie ËÆ§ËØÅ<ul>\n<li>koa-session</li>\n</ul>\n</li>\n<li>Token ËÆ§ËØÅ<ul>\n<li>JWT ËÆ§ËØÅ</li>\n<li>koa-jwt</li>\n</ul>\n</li>\n<li>OAuth2 ÂºÄÊîæÊéàÊùÉ</li>\n<li>SSO ÂçïÁÇπÁôªÂΩï</li>\n<li>LDAP ËÆ§ËØÅÁôªÂΩï</li>\n<li>Êâ´Á†ÅÁôªÂΩï</li>\n<li>ËÅîÂêàÁôªÂΩï</li>\n<li>‰ø°‰ªªÁôªÂΩï</li>\n<li>ÊòìÊ∑∑Ê∑ÜÊ¶ÇÂøµÂàÜÊûê</li>\n</ul>\n<h2 id=\"HTTP-Âü∫Êú¨ËÆ§ËØÅ\"><a href=\"#HTTP-Âü∫Êú¨ËÆ§ËØÅ\" class=\"headerlink\" title=\"HTTP Âü∫Êú¨ËÆ§ËØÅ\"></a>HTTP Âü∫Êú¨ËÆ§ËØÅ</h2><p>Âú® HTTP ‰∏≠ÔºåÂü∫Êú¨ËÆ§ËØÅÊñπÊ°àÔºàBasic Access AuthenticationÔºâÊòØÂÖÅËÆ∏ HTTP Áî®Êà∑‰ª£ÁêÜÔºàÈÄöÂ∏∏ÊåáÁöÑÂ∞±ÊòØÁΩëÈ°µÊµèËßàÂô®ÔºâÂú®ËØ∑Ê±ÇÊó∂ÔºåÈÄöËøáÁî®Êà∑Êèê‰æõÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÁöÑÊñπÂºèÔºåÂÆûÁé∞ÂØπÁî®Êà∑Ë∫´‰ªΩÁöÑÈ™åËØÅ„ÄÇ</p>\n<p>Âü∫Êú¨ËÆ§ËØÅ‰∏≠ÔºåÊúÄÂÖ≥ÈîÆÁöÑÊòØÂõõ‰∏™Ë¶ÅÁ¥†Ôºö</p>\n<ol>\n<li><code>uid</code>ÔºöÁî®Êà∑ÁöÑ IDÔºå‰πüÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑÁî®Êà∑Âêç</li>\n<li><code>password</code>ÔºöÂØÜÁ†Å</li>\n<li><code>realm</code>ÔºöÈ¢ÜÂüüÔºåÂÖ∂ÂÆûÂ∞±ÊòØÊåáÂΩìÂâçËÆ§ËØÅÁöÑ‰øùÊä§ËåÉÂõ¥</li>\n</ol>\n<p>Âú®ËøõË°åÂü∫Êú¨ËÆ§ËØÅÁöÑËøáÁ®ã‰∏≠ÔºåHTTP ÁöÑËØ∑Ê±ÇÂ§¥Â≠óÊÆµ‰ºöÂåÖÂê´ Authorization Â≠óÊÆµÔºå<code>Authorization: Basic &lt;Áî®Êà∑Âá≠ËØÅ&gt;</code>ÔºåËØ•Áî®Êà∑Âá≠ËØÅÊòØ <code>Áî®Êà∑Âêç</code> Âíå <code>ÂØÜÁ†Å</code> ÁöÑÁªÑÂêàËÄåÊàêÁöÑ <strong>Base64 ÁºñÁ†Å</strong>„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET /securefiles/ HTTP/1.1</span><br><span class=\"line\">Host: www.example.com</span><br><span class=\"line\">Authorization: Basic aHR0cHdhdGNoOmY=</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://img.mrsingsing.com/authentication-http-basic-access-authentication.jpg\" alt=\"HTTP Âü∫Êú¨ËÆ§ËØÅÊµÅÁ®ãÂõæ\"></p>\n<ol>\n<li>Áî®Êà∑Âú®ÊµèËßàÂô®‰∏≠ËÆøÈóÆ‰∫ÜÂèóÈôêÂà∂ÁöÑÁΩëÈ°µËµÑÊ∫êÔºå‰ΩÜÊòØÊ≤°ÊúâÊèê‰æõÁî®Êà∑ÁöÑË∫´‰ªΩ‰ø°ÊÅØ</li>\n<li>ÊúçÂä°Á´ØÊé•Êî∂Âà∞ËØ∑Ê±ÇÂêéËøîÂõû 401 Â∫îÁ≠îÁ†ÅÔºàUnauthorizedÔºåÊú™Ë¢´ÊéàÊùÉÁöÑÔºâË¶ÅÊ±ÇËøõË°åË∫´‰ªΩÈ™åËØÅÔºåÂπ∂ÈôÑÂ∏¶Êèê‰æõ‰∫Ü‰∏Ä‰∏™ËÆ§ËØÅÂüüÔºàAccess AuthenticationÔºâ<code>WWW-Authenticate</code> ËØ¥ÊòéÂ¶Ç‰ΩïËøõË°åÈ™åËØÅÁöÑÊñπÊ≥ïÔºå‰æãÂ¶Ç <code>WWW-Authenticate: Basic realm=&quot;Secure Area&quot;</code>Ôºå<code>Basic</code> Â∞±ÊòØÈ™åËØÅÁöÑÊ®°ÂºèÔºåËÄå <code>realm=&quot;Secure Area&quot;</code> Âàô‰∏∫‰øùÊä§ÂüüÔºàÂëäÁü•ËÆ§ËØÅÁöÑËåÉÂõ¥ÔºâÔºåÁî®‰∫é‰∏éÂÖ∂‰ªñËØ∑Ê±Ç URI ‰ΩúÂå∫Âà´</li>\n<li>ÊµèËßàÂô®Êî∂Âà∞Â∫îÁ≠îÂêéÔºå‰ºöÊòæÁ§∫ËØ•ËÆ§ËØÅÂüüÁªôÁî®Êà∑Âπ∂ÊèêÁ§∫ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºåÊ≠§Êó∂Áî®Êà∑ÂèØ‰ª•ÈÄâÊã©ÂΩïÂÖ•‰ø°ÊÅØÂêéÁ°ÆÂÆöÊàñÂèñÊ∂àÊìç‰Ωú</li>\n<li>Áî®Êà∑ËæìÂÖ•‰∫ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÂêéÔºåÊµèËßàÂô®‰ºöÂú®ÂéüËØ∑Ê±ÇÂ§¥Êñ∞Â¢ûËÆ§ËØÅÊ∂àÊÅØÂ≠óÊÆµ <code>Authorization</code> Âπ∂ÈáçÊñ∞ÂèëÈÄÅËØ∑Ê±ÇÔºåËøáÁ®ãÂ¶Ç‰∏ãÔºö</li>\n</ol>\n<ul>\n<li>Â∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊãºÊé•‰∏∫ <code>Áî®Êà∑Âêç:ÂØÜÁ†Å</code> Ê†ºÂºèÁöÑÂ≠óÁ¨¶‰∏≤</li>\n<li>Â¶ÇÊûúÊúçÂä°Âô® <code>WWW-Authenticate</code> Â≠óÊÆµÊúâÊåáÂÆöÁºñÁ†ÅÔºåÂàôÂ∞ÜÂ≠óÁ¨¶‰∏≤ÁºñËØëÊàêÂØπÂ∫îÁöÑÁºñÁ†Å</li>\n<li>Â∞ÜÂ≠óÁ¨¶‰∏≤ÁºñÁ†Å‰∏∫ Base64</li>\n<li>ÊãºÊé• <code>Basic</code>ÔºåËÆæÁΩÆ‰∏∫ <code>Authorization</code> Â≠óÊÆµÔºåÂÅáËÆæÁî®Êà∑Âêç‰∏∫ <code>admin</code>ÔºåÂØÜÁ†Å‰∏∫ <code>password</code>ÔºåÂàôÊãºÊé•Âêé‰∏∫ <code>admin:password</code>Ôºå‰ΩøÁî® Base64 ÁºñÁ†ÅÂêé‰∏∫ <code>YWRtaW46cGFzc3dvcmQ=</code>ÔºåÈÇ£‰πàÊúÄÁªàÂú® HTTP Â§¥ÈÉ®Èáå‰ºöÊòØËøôÊ†∑Ôºö<code>Authorization: Basic YWRtaW46cGFzc3dvcmQ=</code></li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Buffer.from(<span class=\"string\">'admin:password'</span>).toString(<span class=\"string\">'base64'</span>);</span><br><span class=\"line\"><span class=\"comment\">// YWRtaW46cGFzc3dvcmQ=</span></span><br></pre></td></tr></table></figure>\n<ol start=\"5\">\n<li>ÊúçÂä°Á´ØÊé•Êî∂‰∫ÜËØ•ËÆ§ËØÅÂêéÂπ∂ËøîÂõû‰∫ÜÁî®Êà∑ËØ∑Ê±ÇÁöÑÁΩëÈ°µËµÑÊ∫ê„ÄÇÂ¶ÇÊûúÁî®Êà∑Âá≠ËØÅÈùûÊ≥ïÊàñÊó†ÊïàÔºåÊúçÂä°Âô®ÂèØËÉΩ‰ºöÂÜçÊ¨°ËøîÂõû 401 Â∫îÁ≠îÁ†ÅÔºåÂÆ¢Êà∑Á´ØÂ∞±ÈúÄË¶ÅÂÜçÊ¨°ËæìÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†Å</li>\n</ol>\n<p>ÊúçÂä°Á´ØÈ™åËØÅÁöÑÊ≠•È™§Ôºö</p>\n<ol>\n<li>Ê†πÊçÆÁî®Êà∑ËØ∑Ê±ÇËµÑÊ∫êÁöÑÂú∞ÂùÄÔºåÁ°ÆÂÆöËµÑÊ∫êÂØπÂ∫îÁöÑ <code>realm</code></li>\n<li>Ëß£Êûê Authorization ËØ∑Ê±ÇÈ¶ñÈÉ®ÔºåËé∑ÂæóÁî®Êà∑ÂêçÂíåÂØÜÁ†Å</li>\n<li>Âà§Êñ≠Áî®Êà∑ÊòØÂê¶ÊúâËÆøÈóÆËØ• <code>realm</code> ÁöÑÊùÉÈôê</li>\n<li>È™åËØÅÁî®Êà∑Âêç„ÄÅÂØÜÁ†ÅÊòØÂê¶ÂåπÈÖç</li>\n</ol>\n<blockquote>\n<p>ÂΩìÁÑ∂Ôºå‰πüÊúâÂèØËÉΩÂú®È¶ñÊ¨°ËØ∑Ê±Ç‰∏≠ÔºåÂú®ËØ∑Ê±ÇÂ§¥ÈôÑÂ∏¶‰∫ÜËÆ§ËØÅÊ∂àÊÅØÂ§¥ÔºåÈÇ£‰πàÂ∞±‰∏çÈúÄË¶ÅÂÜç‰ΩúË∫´‰ªΩ‰ø°ÊÅØÁöÑÂΩïÂÖ•Ê≠•È™§</p>\n</blockquote>\n<p>‰ºòÁÇπÔºö</p>\n<ul>\n<li>ÂîØ‰∏ÄÁöÑ‰ºòÁÇπÊòØÂÆûÁé∞ÁÆÄÂçïÔºåË¢´ÂπøÊ≥õÊîØÊåÅ</li>\n</ul>\n<p>Áº∫ÁÇπÔºö</p>\n<ul>\n<li>Áî±‰∫éÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊòØ‰ª•ÊòéÊñáÁöÑÂΩ¢ÂºèÂú®ÁΩëÁªú‰∏≠ËøõË°å‰º†ËæìÔºåÂÆπÊòìË¢´ÂóÖÊé¢Âô®Êé¢ÊµãÂà∞ÔºåÊâÄ‰ª•Âü∫Êú¨È™åËØÅÊñπÊ°àÂπ∂‰∏çÂÆâÂÖ®</li>\n<li>Èô§Ê≠§‰πãÂ§ñÔºåBase64 ÁºñÁ†ÅÂπ∂ÈùûÂä†ÂØÜÁÆóÊ≥ïÔºåÂÖ∂Êó†Ê≥ï‰øùËØÅÂÆâÂÖ®‰∏éÈöêÁßÅÔºåËøôÈáå‰ªÖÁî®‰∫éÂ∞ÜÁî®Êà∑ÂêçÂíåÂØÜÁ†Å‰∏≠ÁöÑ‰∏çÂÖºÂÆπÁöÑÂ≠óÁ¨¶ËΩ¨Êç¢‰∏∫Âùá‰∏é HTTP ÂçèËÆÆÂÖºÂÆπÁöÑÂ≠óÁ¨¶ÈõÜ</li>\n<li>Âç≥‰ΩøËÆ§ËØÅÂÜÖÂÆπÊó†Ê≥ïË¢´Ëß£Á†Å‰∏∫ÂéüÂßãÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å‰πüÊòØ‰∏çÂÆâÂÖ®ÁöÑÔºåÊÅ∂ÊÑèÁî®Êà∑ÂèØ‰ª•ÂÜçËé∑Âèñ‰∫ÜËÆ§ËØÅÂÜÖÂÆπÂêé‰ΩøÁî®ÂÖ∂‰∏çÊñ≠ÁöÑ‰∫´ÊúçÂä°Âô®ÂèëËµ∑ËØ∑Ê±ÇÔºåËøôÂ∞±ÊòØÊâÄË∞ìÁöÑÈáçÊîæÊîªÂáª</li>\n<li>ËØ•ÊñπÊ°àÈô§‰∫ÜÂ≠òÂú®ÂÆâÂÖ®Áº∫Èô∑Â§ñÔºåBasic ËÆ§ËØÅËøòÂ≠òÂú®Êó†Ê≥ïÂêäÈîÄËÆ§ËØÅÁöÑÊÉÖÂÜµ</li>\n</ul>\n<blockquote>\n<p>HTTP ÁöÑÂü∫Êú¨È™åËØÅÊñπÊ°àÂ∫î‰∏é HTTPS / TLS ÂçèËÆÆÊê≠ÈÖç‰ΩøÁî®„ÄÇÂä†ÂÖ•Ê≤°ÊúâËøô‰∫õÂÆâÂÖ®ÊñπÈù¢ÁöÑÂ¢ûÂº∫ÔºåÈÇ£‰πàÂü∫Êú¨È™åËØÅÊñπÊ°à‰∏çÂ∫îËØ•Ë¢´Áî®Êù•‰øùÊä§ÊïèÊÑüÊàñËÄÖÊûÅÂÖ∑‰ª∑ÂÄºÁöÑ‰ø°ÊÅØ„ÄÇ</p>\n</blockquote>\n<p>Â∫îÁî®Âú∫ÊôØÔºöÂÜÖÈÉ®ÁΩëÁªúÔºåÊàñËÄÖÂØπÂÆâÂÖ®Ë¶ÅÊ±Ç‰∏çÊòØÂæàÈ´òÁöÑÁΩëÁªú</p>\n<h2 id=\"Session-Cookie-ËÆ§ËØÅ\"><a href=\"#Session-Cookie-ËÆ§ËØÅ\" class=\"headerlink\" title=\"Session-Cookie ËÆ§ËØÅ\"></a>Session-Cookie ËÆ§ËØÅ</h2><p><code>Session-Cookie</code> ËÆ§ËØÅÊòØÂà©Áî®ÊúçÂä°Á´ØÁöÑ SessionÔºà‰ºöËØùÔºâÂíåÊµèËßàÂô®ÔºàÂÆ¢Êà∑Á´ØÔºâÁöÑ Cookie Êù•ÂÆûÁé∞ÁöÑÂâçÂêéÁ´ØÈÄö‰ø°ËÆ§ËØÅÊ®°Âºè„ÄÇ</p>\n<p>Áî±‰∫é HTTP ËØ∑Ê±ÇÊó∂ÊòØÊó†Áä∂ÊÄÅÁöÑÔºåÊúçÂä°Á´ØÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊó†Ê≥ïÂæóÁü•ËØ∑Ê±ÇÂèëÈÄÅËÄÖÁöÑË∫´‰ªΩÔºåËøô‰∏™Êó∂ÂÄôÊàë‰ª¨Â¶ÇÊûúË¶ÅËÆ∞ÂΩïÁä∂ÊÄÅÔºåÂ∞±ÈúÄË¶ÅÂú®ÊúçÂä°Á´ØÂàõÂª∫ Session ‰ºöËØùÔºåÂ∞ÜÁõ∏ÂêåÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÈÉΩÁª¥Êä§Âú®ÂêÑËá™ÁöÑ‰ºöËØùËÆ∞ÂΩï‰∏≠ÔºåÊØèÂΩìËØ∑Ê±ÇÂà∞ËææÊúçÂä°Á´ØÊó∂ÔºåÂÖàÊ†°È™åËØ∑Ê±Ç‰∏≠ÁöÑÁî®Êà∑Ê†áËØÜÊòØÂê¶Â≠òÂú®‰∫é Session ‰∏≠ÔºåÂ¶ÇÊûúÊúâÂàôË°®Á§∫Â∑≤ÁªèËÆ§ËØÅÊàêÂäüÔºåÂê¶ÂàôË°®Á§∫ËÆ§ËØÅÂ§±Ë¥•„ÄÇ</p>\n<p>Cookie ‰∏ªË¶ÅÁî®‰∫é‰ª•‰∏ã‰∏â‰∏™ÊñπÈù¢Ôºö</p>\n<ul>\n<li>‰ºöËØùÁä∂ÊÄÅÁÆ°ÁêÜÔºàÂ¶ÇÁî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ„ÄÅË¥≠Áâ©ËΩ¶„ÄÅÊ∏∏ÊàèÂàÜÊï∞ÊàñÂÖ∂‰ªñÈúÄË¶ÅËÆ∞ÂΩïÁöÑ‰ø°ÊÅØÔºâ</li>\n<li>‰∏™ÊÄßÂåñËÆæÁΩÆÔºàÂ¶ÇÁî®Êà∑Ëá™ÂÆö‰πâËÆæÁΩÆ„ÄÅ‰∏ªÈ¢òÁ≠âÔºâ</li>\n<li>ÊµèËßàÂô®Ë°å‰∏∫ËøΩË∏™ÔºàÂ¶ÇË∑üË∏™ÂàÜÊûêÁî®Êà∑Ë°å‰∏∫Á≠âÔºâ</li>\n</ul>\n<p>‰∏ãÂõæ‰∏∫ Session-Cookie ËÆ§ËØÅÁöÑÂ∑•‰ΩúÊµÅÁ®ãÂõæÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-session-cookie.jpg\" alt=\"Session-Cookie ËÆ§ËØÅÊµÅÁ®ãÂõæ\"></p>\n<ol>\n<li>ÊúçÂä°Á´ØÂú®Êé•Êî∂Âà∞Êù•Ëá™ÂÆ¢Êà∑Á´ØÁöÑÈ¶ñÊ¨°ËÆøÈóÆÊó∂Ôºå‰ºöËá™Âä®ÂàõÂª∫ SessionÔºàÂ∞Ü Session ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠Ôºå‰πüÂèØ‰ª•‰øùÂ≠òÂú® Redis ‰∏≠ÔºâÔºåÁÑ∂ÂêéÁªôËøô‰∏™ Session ÁîüÊàê‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑÊ†áËØÜÂ≠óÁ¨¶‰∏≤‰ºöËØùË∫´‰ªΩÂá≠ËØÅ <code>session_id</code>ÔºàÈÄöÂ∏∏Áß∞‰∏∫ <code>sid</code>ÔºâÔºåÂπ∂Âú®ÂìçÂ∫îÂ§¥ <code>Set-Cookie</code> ‰∏≠ËÆæÁΩÆËøô‰∏™ÂîØ‰∏ÄÊ†áËØÜÁ¨¶</li>\n<li>Á≠æÂêçÔºåÂØπ <code>sid</code> ËøõË°åÂä†ÂØÜÂ§ÑÁêÜÔºåÊúçÂä°Á´Ø‰ºöÊ†πÊçÆËøô‰∏™ <code>secret</code> ÂØÜÈí•ËøõË°åËß£ÂØÜÔºàÈùûÂøÖÈúÄÊ≠•È™§Ôºâ</li>\n<li>ÊµèËßàÂô®Êî∂Âà∞ËØ∑Ê±ÇÂìçÂ∫îÂêé‰ºöËß£ÊûêÂìçÂ∫îÂ§¥ÔºåÂπ∂Ëá™Âä®Â∞Ü <code>sid</code> ‰øùÂ≠òÂú®Êú¨Âú∞ Cookie ‰∏≠ÔºåÊµèËßàÂô®Âú®‰∏ãÊ¨° HTTP ËØ∑Ê±ÇÊó∂ËØ∑Ê±ÇÂ§¥‰ºöËá™Âä®ÈôÑÂ∏¶‰∏äËØ•ÂüüÂêç‰∏ãÁöÑ Cookie ‰ø°ÊÅØ</li>\n<li>ÊúçÂä°Á´ØÂú®Êé•Êî∂ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊó∂‰ºöÂéªËß£ÊûêËØ∑Ê±ÇÂ§¥ Cookie ‰∏≠ÁöÑ <code>sid</code>ÔºåÁÑ∂ÂêéÊ†πÊçÆËøô‰∏™ <code>sid</code> ÂéªÊâæÊúçÂä°Á´Ø‰øùÂ≠òÁöÑËØ•ÂÆ¢Êà∑Á´ØÁöÑ <code>sid</code>ÔºåÁÑ∂ÂêéÂà§Êñ≠ËØ•ËØ∑Ê±ÇÊòØÂê¶ÂêàÊ≥ï</li>\n<li>‰∏ÄÊó¶Áî®Êà∑ÁôªÂá∫ÔºåÊúçÂä°Á´ØÂíåÊµèËßàÂô®Â∞Ü‰ºöÂêåÊó∂ÈîÄÊØÅÂêÑËá™‰øùÂ≠òÁöÑ‰ºöËØù IDÔºåÊúçÂä°Á´Ø‰ºöÊ†πÊçÆÊï∞ÊçÆÂ∫ìÈ™åËØÅ‰ºöËØùË∫´‰ªΩÂá≠ËØÅÔºåÂ¶ÇÊûúÈ™åËØÅÈÄöËøáÔºåÂàôÁªßÁª≠Â§ÑÁêÜ</li>\n</ol>\n<blockquote>\n<p>‚ö†Ô∏è Ê≥®ÊÑèÔºåËøôÈáåÁõ∏ÂØπ‰∫é‰ΩøÁî®ÊúçÂä°Á´ØÔºåÂú®Âè¶‰∏ÄÁ´ØÊàë‰ΩøÁî®‰∫Ü <code>ÊµèËßàÂô®</code> ËÄåÈùûÂÆ¢Êà∑Á´ØÔºå‰∏ªË¶ÅÊòØÂõ†‰∏∫ Cookie ÊòØ‰ªÖÂú®ÊµèËßàÂô®‰∏≠Â≠òÂú®ÁöÑÊä•ÊñáÂ≠óÊÆµÔºåËØ∏Â¶ÇÁßªÂä®ÂéüÁîü APP ÊòØÊó†Ê≥ïËß£ÊûêÂ≠òÂÇ® Cookie ËØ∑Ê±Ç/ÂìçÂ∫îÂ§¥ÁöÑ„ÄÇ</p>\n</blockquote>\n<p>‰ºòÁÇπÔºö</p>\n<ol>\n<li>Cookie ÁÆÄÂçïÊòìÁî®ÔºåÂú®‰∏çÂèóÁî®Êà∑Âπ≤È¢ÑÊàñËøáÊúüÂ§ÑÁêÜÁöÑÊÉÖÂÜµ‰∏ãÔºåCookie ÈÄöÂ∏∏ÊòØÂÆ¢Êà∑Á´Ø‰∏äÊåÅÁª≠Êó∂Èó¥ÊúÄÈïøÁöÑÊï∞ÊçÆ‰øùÁïôÂΩ¢Âºè</li>\n<li>Session Êï∞ÊçÆÂ≠òÂÇ®Âú®ÊúçÂä°Á´ØÔºåÁõ∏ËæÉ‰∫é JWT Êñπ‰æøËøõË°åÁÆ°ÁêÜÔºå‰πüÂ∞±ÊòØÂΩìÁî®Êà∑ÁôªÂΩïÂíå‰∏ªÂä®Ê≥®ÈîÄÔºåÂè™ÈúÄË¶ÅÊ∑ªÂä†Âà†Èô§ÂØπÂ∫îÁöÑ Session Â∞±ÂèØ‰ª•‰∫ÜÔºåÊñπ‰æøÁÆ°ÁêÜ</li>\n</ol>\n<p>Áº∫ÁÇπÔºö</p>\n<ol>\n<li>ÈùûÂ∏∏‰∏çÂÆâÂÖ®ÔºåCookie Â∞ÜÊï∞ÊçÆÊö¥Èú≤Âú®ÊµèËßàÂô®‰∏≠ÔºåÂ¢ûÂä†‰∫ÜÊï∞ÊçÆË¢´ÁõóÁöÑÈ£éÈô©ÔºàÂÆπÊòìË¢´ CSRF Á≠âÊîªÂáªÔºâ</li>\n<li>Session Â≠òÂÇ®Âú®ÊúçÂä°Á´ØÔºåÂ¢ûÂ§ß‰∫ÜÊúçÂä°Á´ØÁöÑÂºÄÈîÄÔºåÁî®Êà∑ÈáèÂ§ßÁöÑÊó∂ÂÄô‰ºöÂ§ßÂ§ßÈôç‰ΩéÊúçÂä°Âô®ÊÄßËÉΩ</li>\n<li>Áî®Êà∑ËÆ§ËØÅÂêéÔºåÊúçÂä°Á´ØÂÅöËÆ§ËØÅËÆ∞ÂΩïÔºåÂ¶ÇÊûúËÆ§ËØÅÁöÑËÆ∞ÂΩïË¢´‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËøôÊÑèÂë≥ÁùÄÁî®Êà∑‰∏ãÊ¨°ËØ∑Ê±ÇËøòÂøÖÈ°ªË¶ÅËØ∑Ê±ÇÂú®ËøôÂè∞ÊúçÂä°Âô®‰∏äÔºåËøôÊ†∑ÊâçËÉΩÊãøÂà∞ÊéàÊùÉËµÑÊ∫êÔºåËøôÊ†∑Âú®ÂàÜÂ∏ÉÂºèÁöÑÂ∫îÁî®‰∏äÔºåÁõ∏Â∫îÁöÑÈôêÂà∂‰∫ÜË¥üËΩΩÂùáË°°ÁöÑËÉΩÂäõÔºå‰πüÊÑèÂë≥ÁùÄÈôêÂà∂‰∫ÜÂ∫îÁî®ÁöÑÊâ©Â±ïËÉΩÂäõ</li>\n</ol>\n<h3 id=\"koa-session\"><a href=\"#koa-session\" class=\"headerlink\" title=\"koa-session\"></a>koa-session</h3><p>Ê≤°Êúâ‰ª£Á†ÅË∞àÂÜçÂ§öÈÉΩÊòØÁ©∫‰∏≠Ê•ºÈòÅÔºå‰∏ãÈù¢Â∞ùËØïÂú® Koa ‰∏≠‰ΩøÁî® <code>koa-session2</code> ‰∏≠Èó¥‰ª∂ÂÆûÁé∞ Session-Cookie ËøôÁßçÈâ¥ÊùÉÊñπÂºè„ÄÇ</p>\n<p>Âú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠Ôºå‰∏éÂÆ¢Êà∑Á´ØÁöÑ‰ºöËØù‰ø°ÊÅØÂæÄÂæÄÈúÄË¶ÅÂú®ÊúçÂä°Â§ñÂÜçËÆæÁ´ãÈ¢ùÂ§ñÁöÑÂ§ñÈÉ®Â≠òÂÇ®Êú∫Âà∂ÔºåÂ§ñÈÉ®Â≠òÂÇ®ÂèØ‰ª•ÊòØ‰ªª‰ΩïÁöÑÂ≠òÂÇ®Êú∫Âà∂Ôºå‰æãÂ¶ÇÂÜÖÂ≠òÊï∞ÊçÆÁªìÊûÑÔºå‰πüÂèØ‰ª•ÊòØÊú¨Âú∞ÁöÑÊñá‰ª∂Á≥ªÁªüÔºåÊàñÊòØ‰ΩøÁî®ËØ∏Â¶Ç Redis Á≠â NoSQL Êï∞ÊçÆÂ∫ì„ÄÇ</p>\n<p><code>koa-session2</code> Ëá™Ë∫´ÂÆûÁé∞ÁöÑÂ≠òÂÇ®ÊñπÂºè‰∏∫‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåËÄå‰∏ãÈù¢Êàë‰ª¨Â∞±‰ªãÁªç‰∏ÄÁßçÊãìÂ±ï <code>koa-session2</code> ÁªìÂêà Redis ÂÆûÁé∞ Session-Cookie ËÆ§ËØÅÊñπÂºèÁöÑÊñπÊ°àÔºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> Redis = <span class=\"built_in\">require</span>(<span class=\"string\">'ioredis'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; Store &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-session2'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RedisStore</span> <span class=\"keyword\">extends</span> <span class=\"title\">Store</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">constructor</span>() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>();</span><br><span class=\"line\">    <span class=\"comment\">// ÂàùÂßãÂåñ Redis</span></span><br><span class=\"line\">    <span class=\"keyword\">this</span>.redis = <span class=\"keyword\">new</span> Redis();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Ê†πÊçÆ sid Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ</span></span><br><span class=\"line\">  <span class=\"keyword\">async</span> <span class=\"keyword\">get</span>(sid, ctx) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> data = <span class=\"keyword\">await</span> <span class=\"keyword\">this</span>.redis.get(<span class=\"string\">`SESSION: <span class=\"subst\">$&#123;sid&#125;</span>`</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">JSON</span>.parse(data);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Êõ¥Êñ∞ sid ÁöÑÁî®Êà∑‰ø°ÊÅØ</span></span><br><span class=\"line\">  <span class=\"keyword\">async</span> <span class=\"keyword\">set</span>(session, &#123; sid = <span class=\"keyword\">this</span>.getID(<span class=\"number\">24</span>), maxAge = <span class=\"number\">1000000</span> &#125; = &#123;&#125;, ctx) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">await</span> <span class=\"keyword\">this</span>.redis.set(<span class=\"string\">`SESSION: <span class=\"subst\">$&#123;sid&#125;</span>`</span>, <span class=\"built_in\">JSON</span>.stringfy(session));</span><br><span class=\"line\">    &#125; <span class=\"keyword\">catch</span> (e) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> sid;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ÈîÄÊØÅ‰ºöËØù‰ø°ÊÅØ</span></span><br><span class=\"line\">  <span class=\"keyword\">async</span> destroy(sid, ctx) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">await</span> <span class=\"keyword\">this</span>.redis.del(<span class=\"string\">`SESSION: <span class=\"subst\">$&#123;sid&#125;</span>`</span>);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = RedisStore;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// app.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> Koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> session = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-session2'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> Store = <span class=\"built_in\">require</span>(<span class=\"string\">'./Store.js'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Koa();</span><br><span class=\"line\"></span><br><span class=\"line\">app.use(</span><br><span class=\"line\">  session(&#123;</span><br><span class=\"line\">    <span class=\"comment\">// Áßç‰∏ã Cookie ÁöÑÈîÆÂêç</span></span><br><span class=\"line\">    key: <span class=\"string\">'SESSIONID'</span>,</span><br><span class=\"line\">    <span class=\"comment\">// Á¶ÅÊ≠¢ÊµèËßàÂô®‰∏≠ JS ËÑöÊú¨‰øÆÊîπ Cookie</span></span><br><span class=\"line\">    httpOnly: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// Cookie Âä†ÂØÜÁ≠æÂêçÊú∫Âà∂</span></span><br><span class=\"line\">    signed: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    store: <span class=\"keyword\">new</span> Store(),</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\">app.use(<span class=\"function\"><span class=\"params\">ctx</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Ignore favicon.ico</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (ctx.path === <span class=\"string\">'/favicon.ico'</span>) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> user = <span class=\"keyword\">this</span>.session.user;</span><br><span class=\"line\"></span><br><span class=\"line\">  ctx.session.view = <span class=\"string\">'index'</span>;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">app.use(<span class=\"function\"><span class=\"params\">ctx</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// Â¶ÇÊûúËÆæÁΩÆ‰∫Ü‰ºöËØùÊúâÊïàÊúüÂà∑Êñ∞‰ºöËØùÊúâÊïàÊúü</span></span><br><span class=\"line\">  ctx.session.refresh();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>Âú® <code>koa-session</code> ‰∏≠‰ºöËØùÊ†áËØÜÁöÑÂÆûÁé∞‰ªÖÊòØÊ†πÊçÆÊó∂Èó¥Êà≥ÁîüÊàêÁöÑÈöèÊú∫Â≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúÊãÖÂøÉ Cookie ‰º†Ëæì‰∏≠Ë¢´ÊÅ∂ÊÑèÁØ°ÊîπÊàñÊö¥Èú≤‰ø°ÊÅØÔºåÂèØ‰ª•ÈÄöËøáÂä†ÂÖ•Êõ¥Â§öÊ†áËØÜÂÖÉÁ¥†Ôºå‰æãÂ¶Ç IP Âú∞ÂùÄ„ÄÅËÆæÂ§á ID Á≠â„ÄÇ</p>\n<p>Koa ÁöÑ Cookie ÂÆûÁé∞ÈªòËÆ§Â∏¶‰∫ÜÂÆâÂÖ®Êú∫Âà∂ÔºåÂ∞±ÊòØ <code>signed</code> ÈÄâÈ°π‰∏∫ <code>true</code> Êó∂Ôºå‰ºöËá™Âä®Áªô Cookie Ê∑ªÂä†‰∏Ä‰∏™ SHA256 ÁöÑÁ≠æÂêçÔºåÁ±ª‰ºº <code>koa:sess=pjadZtLAVtiO6-Haw1vnZZWrRm8</code>Ôºå‰ªéËÄåÈò≤Ê≠¢ Cookie Ë¢´ÁØ°Êîπ„ÄÇ</p>\n<p>Ëá≥‰∫éÊãÖÂøÉÁöÑ Session ‰ø°ÊÅØÊ≥ÑÊºèÈóÆÈ¢òÔºå<code>koa-session</code> ÂÖÅËÆ∏Áî®Êà∑Ëá™ÂÆö‰πâÁºñËß£Á†ÅÊñπÊ≥ïÔºå‰æãÂ¶ÇÔºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> encode = <span class=\"function\"><span class=\"params\">json</span> =&gt;</span> CrytoJS.AES.encrypt(json, <span class=\"string\">'Secret Passphrase'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> decode = <span class=\"function\"><span class=\"params\">encrypted</span> =&gt;</span> CryptoJS.AES.decrypt(encrypted, <span class=\"string\">'Secret Passphrase'</span>);</span><br></pre></td></tr></table></figure>\n<p><code>koa-session</code> ‰∏∫ Koa ÂÆòÊñπÂÆûÁé∞ÁöÑ‰∏≠Èó¥‰ª∂ÔºåÂäüËÉΩÂº∫Â§ßÔºåËÄÉËôëÁöÑÊÉÖÂÜµÊØîËæÉÂ§öÔºåÊâÄ‰ª•ÂÆûÁé∞Áõ∏ÂØπÂ§çÊùÇ„ÄÇ</p>\n<p>ËÄå <code>koa-session2</code> ÊòØÁ§æÂå∫ÂÆûÁé∞ÁöÑ‰∏≠Èó¥‰ª∂ÔºåÁÆÄÊ¥ÅÊòìÁî®„ÄÇÂ¶ÇÊûúÂØπÂÆûÁé∞ÊúâÂÖ¥Ë∂£ÁöÑÂêåÂ≠¶ÂèØ‰ª•Âú® Github ÊâæÂà∞Ê∫êÁ†ÅÈòÖËØª„ÄÇ</p>\n<ul>\n<li><a href=\"https://github.com/koajs/session\" target=\"_blank\" rel=\"noopener\">koa-session</a></li>\n<li><a href=\"https://github.com/Secbone/koa-session2\" target=\"_blank\" rel=\"noopener\">koa-session2</a></li>\n<li><a href=\"https://segmentfault.com/a/1190000013039187\" target=\"_blank\" rel=\"noopener\">koa-session Â≠¶‰π†Á¨îËÆ∞</a></li>\n<li><a href=\"https://www.jianshu.com/p/c1eff1b50d23\" target=\"_blank\" rel=\"noopener\">koa-session ÁöÑÂÜÖÈÉ®ÂÆûÁé∞</a></li>\n<li><a href=\"https://juejin.im/post/5c148fd551882530544f341f\" target=\"_blank\" rel=\"noopener\">‰ªé koa-session Ê∫êÁ†ÅËß£ËØª session ÂéüÁêÜ</a></li>\n<li><a href=\"https://segmentfault.com/a/1190000012412299\" target=\"_blank\" rel=\"noopener\">‰ªé koa-session ‰∏≠Èó¥‰ª∂Ê∫êÁ†ÅÂ≠¶‰π† cookie ‰∏é session</a></li>\n</ul>\n<h2 id=\"Token-ËÆ§ËØÅ\"><a href=\"#Token-ËÆ§ËØÅ\" class=\"headerlink\" title=\"Token ËÆ§ËØÅ\"></a>Token ËÆ§ËØÅ</h2><p>ÈöèÁùÄ Restful API„ÄÅÂæÆÊúçÂä°ÁöÑÂÖ¥Ëµ∑ÔºåÂü∫‰∫é Token ÁöÑËÆ§ËØÅÁé∞Âú®Â∑≤ÁªèË∂äÊù•Ë∂äÊôÆÈÅç„ÄÇToken Âíå Session-Cookie ËÆ§ËØÅÊñπÂºè‰∏≠ÁöÑ Session ID ‰∏çÂêåÔºåÂπ∂ÈùûÂè™ÊòØ‰∏Ä‰∏™Ê†áËØÜÁ¨¶„ÄÇToken ‰∏ÄËà¨‰ºöÂåÖÂê´ <code>Áî®Êà∑ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ</code>ÔºåÈÄöËøáÈ™åËØÅ Token ‰∏ç‰ªÖÂèØ‰ª•ÂÆåÊàêË∫´‰ªΩÊ†°È™åÔºåËøòÂèØ‰ª•Ëé∑ÂèñÈ¢ÑËÆæÁöÑ‰ø°ÊÅØ„ÄÇÂÉè Twitter„ÄÅÂæÆ‰ø°„ÄÅQQ„ÄÅGithub Á≠âÂÖ¨Êúâ API ÈÉΩÊòØÂü∫‰∫éËøôÁßçÊñπÂºèËøõË°åËÆ§ËØÅÁöÑÔºå‰∏Ä‰∫õÂºÄÂèëÊ°ÜÊû∂Â¶Ç OpenStack„ÄÅKubernetes ÂÜÖÈÉ® API Ë∞ÉÁî®‰πüÊòØÂü∫‰∫é Token ÁöÑËÆ§ËØÅ„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-token-authencation.jpg\" alt=\"Token ËÆ§ËØÅÊµÅÁ®ãÂõæ\"></p>\n<p>Âü∫‰∫é Token ÁöÑË∫´‰ªΩÈ™åËØÅÊñπÊ≥ïÔºö</p>\n<ol>\n<li>Áî®Êà∑ËæìÂÖ•ÁôªÂΩï‰ø°ÊÅØÂπ∂ËØ∑Ê±ÇÁôªÂΩï</li>\n<li>ÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÔºåÈ™åËØÅÁî®Êà∑ËæìÂÖ•ÁöÑÁôªÂΩï‰ø°ÊÅØ</li>\n<li>È™åËØÅÊàêÂäüÂêéÔºåÊúçÂä°Á´Ø‰ºö <code>Á≠æÂèë</code>‰∏Ä‰∏™ TokenÔºàÈÄöÂ∏∏ÂåÖÂê´Áî®Êà∑Âü∫Á°Ä‰ø°ÊÅØ„ÄÅÊùÉÈôêËåÉÂõ¥ÂíåÊúâÊïàÊó∂Èó¥Á≠âÔºâÔºåÂπ∂ÊääËøô‰∏™ Token ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø</li>\n<li>ÂÆ¢Êà∑Á´ØÊî∂Âà∞ Token ÂêéÈúÄË¶ÅÊääÂÆÉÂ≠òÂÇ®Ëµ∑Êù•ÔºåÊØîÂ¶ÇÊîæÂú® localStorage Êàñ sessionStorage ÈáåÔºà‰∏ÄËà¨‰∏çÊîæ Cookie Âõ†‰∏∫ÂèØËÉΩ‰ºöÊúâË∑®ÂüüÈóÆÈ¢òÔºå‰ª•ÂèäÂÆâÂÖ®ÊÄßÈóÆÈ¢òÔºâ</li>\n<li>ÂêéÁª≠ÂÆ¢Êà∑Á´ØÊØèÊ¨°ÂêëÊúçÂä°Á´ØËØ∑Ê±ÇËµÑÊ∫êÁöÑÊó∂ÂÄôÔºåÂ∞Ü Token ÈôÑÂ∏¶‰∫é HTTP ËØ∑Ê±ÇÂ§¥ Authorization Â≠óÊÆµ‰∏≠ÂèëÈÄÅËØ∑Ê±Ç</li>\n<li>ÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂéªÊ†°È™åÂÆ¢Êà∑Á´ØËØ∑Ê±Ç‰∏≠ TokenÔºåÂ¶ÇÊûúÈ™åËØÅÊàêÂäüÔºåÂ∞±ÂêëÂÆ¢Êà∑Á´ØËøîÂõûËØ∑Ê±ÇÁöÑÊï∞ÊçÆÔºåÂê¶ÂàôÊãíÁªùËøîËøò</li>\n</ol>\n<p>‰ºòÁÇπÔºö</p>\n<ul>\n<li><strong>ÊúçÂä°Á´ØÊó†Áä∂ÊÄÅ</strong>ÔºöToken Êú∫Âà∂Âú®ÊúçÂä°Á´Ø‰∏çÈúÄË¶ÅÂ≠òÂÇ®‰ºöËØùÔºàSessionÔºâ‰ø°ÊÅØÔºåÂõ†‰∏∫ Token Ëá™Ë∫´ÂåÖÂê´‰∫ÜÂÖ∂ÊâÄÊ†áËØÜÁî®Êà∑ÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºåËøôÊúâÂà©‰∫éÂú®Â§ö‰∏™ÊúçÂä°Èó¥ÂÖ±‰∫´Áî®Êà∑Áä∂ÊÄÅ</li>\n<li><strong>ÊÄßËÉΩÁõ∏ÂØπËæÉÂ•Ω</strong>ÔºöÂõ†‰∏∫Âú®È™åËØÅ Token Êó∂‰∏çÁî®ÂÜçÂéªËÆøÈóÆÊï∞ÊçÆÂ∫ìÊàñËøúÁ®ãÊúçÂä°ËøõË°åÊùÉÈôêÊ†°È™åÔºåËá™ÁÑ∂ÂèØ‰ª•ÊèêÂçá‰∏çÂ∞ëÊÄßËÉΩ</li>\n<li>ÊîØÊåÅÁßªÂä®ËÆæÂ§á</li>\n<li>ÊîØÊåÅË∑®ÂüüË∑®Á®ãÂ∫èË∞ÉÁî®ÔºåÂõ†‰∏∫ Cookie ÊòØ‰∏çÂÖÅËÆ∏Ë∑®ÂüüËÆøÈóÆÁöÑÔºåËÄå Token Âàô‰∏çÂ≠òÂú®Ëøô‰∏™ÈóÆÈ¢ò</li>\n<li>ÊúâÊïàÈÅøÂÖç CSRF ÊîªÂáªÔºàÂõ†‰∏∫‰∏çÈúÄË¶Å CookieÔºâÔºå‰ΩÜÊòØ‰ºöÂ≠òÂú® XSS ÊîªÂáª‰∏≠Ë¢´ÁõóÁöÑÈ£éÈô©Ôºå‰ΩÜÊòØÂèØÈÄâÊã© Token Â≠òÂÇ®Âú®Ê†áËÆ∞‰∏∫ <code>httpOnly</code> ÁöÑ Cookie ‰∏≠ÔºåËÉΩÂ§üÊúâÊïàÈÅøÂÖçÊµèËßàÂô®‰∏≠ÁöÑ JS ËÑöÊú¨ÂØπ Cookie ÁöÑ‰øÆÊîπ</li>\n</ul>\n<p>Áº∫ÁÇπÔºö</p>\n<ul>\n<li>Âç†Â∏¶ÂÆΩÔºöÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÊØî <code>sid</code> Êõ¥Â§ßÔºåÊ∂àËÄóÊõ¥Â§öÊµÅÈáèÔºåÊå§Âç†Êõ¥Â§öÂÆΩÂ∏¶</li>\n<li>ÊÄßËÉΩÈóÆÈ¢òÔºöÁõ∏ÊØîËæÉ‰∫é Session-Cookie ËÆ§ËØÅÊù•ËØ¥ÔºåToken ÈúÄË¶ÅÊúçÂä°Á´ØËä±Ë¥πÊõ¥Â§öÊó∂Èó¥ÂíåÊÄßËÉΩÊù•ÂØπ Token ËøõË°åËß£ÂØÜÈ™åËØÅÔºåÂÖ∂ÂÆû Token Áõ∏ËæÉ‰∫é Session‚ÄîCookie Êù•ËØ¥Â∞±ÊòØ‰∏Ä‰∏™Êó∂Èó¥Êç¢Á©∫Èó¥ÁöÑÊñπÊ°à</li>\n</ul>\n<blockquote>\n<p>Session-Cookie ËÆ§ËØÅÂíå Token ËÆ§ËØÅÁöÑÊØîËæÉ</p>\n</blockquote>\n<p>Session-Cookie ËÆ§ËØÅÂíå Token ËÆ§ËØÅÊúâÂæàÂ§öÁ±ª‰ººÁöÑÂú∞ÊñπÔºå‰ΩÜÊòØ Token ËÆ§ËØÅÊõ¥ÂÉèÊòØ Session-Cookie ËÆ§ËØÅÁöÑÂçáÁ∫ßÊîπËâØÁâà„ÄÇ</p>\n<p>Session-Cookie ËÆ§ËØÅ‰ªÖ‰ªÖÈù†ÁöÑÊòØ <code>sid</code> Ëøô‰∏™ÁîüÊàêÁöÑÂîØ‰∏ÄÊ†áËØÜÁ¨¶ÔºåÊúçÂä°Á´ØÈúÄË¶ÅÊ†πÊçÆÂÆ¢Êà∑Á´Ø‰º†Êù•ÁöÑ <code>sid</code> Êü•ËØ¢‰øùÂ≠òÂú®ÊúçÂä°Á´Ø Session Èáå‰øùÂ≠òÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂΩìÂ≠òÂÇ®ÁöÑ‰ø°ÊÅØÊï∞ÊçÆÈáèË∂ÖËøá‰∏ÄÂÆöÈáèÊó∂‰ºöÂΩ±ÂìçÊúçÂä°Á´ØÁöÑÂ§ÑÁêÜÊïàËÉΩ„ÄÇËÄå‰∏î Session-Cookie ËÆ§ËØÅÈúÄË¶ÅÈù†ÊµèËßàÂô®ÁöÑ Cookie Êú∫Âà∂ÂÆûÁé∞ÔºåÂ¶ÇÊûúÈÅáÂà∞ÂéüÁîü NativeAPP Êó∂ËøôÁßçÊú∫Âà∂Â∞±‰∏çËµ∑‰ΩúÁî®‰∫ÜÔºåÊàñÊòØÊµèËßàÂô®ÁöÑ Cookie Â≠òÂÇ®ÂäüËÉΩË¢´Á¶ÅÁî®Ôºå‰πüÊòØÊó†Ê≥ï‰ΩøÁî®ËØ•ËÆ§ËØÅÊú∫Âà∂ÂÆûÁé∞Èâ¥ÊùÉÁöÑ„ÄÇ</p>\n<p>ËÄå Token ËÆ§ËØÅÊú∫Âà∂ÁâπÂà´ÁöÑÊòØÔºåÂÆûË¥®‰∏äÁôªÂΩïÁä∂ÊÄÅÊòØÁî®Êà∑ÁôªÂΩïÂêéÂ≠òÊîæÂú®ÂÆ¢Êà∑Á´ØÁöÑÔºåÊúçÂä°Á´Ø‰∏ç‰ºöÂÖÖÂΩì‰øùÂ≠ò <code>Áî®Êà∑‰ø°ÊÅØÂá≠ËØÅ</code> ÁöÑËßíËâ≤ÔºåÂΩìÊØèÊ¨°ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÊó∂ÈôÑÂ∏¶ËØ•Âá≠ËØÅÔºåÂè™Ë¶ÅÊúçÂä°Á´ØÊ†πÊçÆÂÆö‰πâÁöÑËßÑÂàôÊ†°È™åÊòØÂê¶ÂåπÈÖçÂíåÂêàÊ≥ïÂç≥ÂèØÔºåÂÆ¢Êà∑Á´ØÂ≠òÂÇ®ÁöÑÊâãÊÆµ‰πü‰∏çÈôê‰∫é CookieÔºåÂèØ‰ª•‰ΩøÁî® Web Storage Á≠âÂÖ∂‰ªñÁºìÂ≠òÊñπÂºè„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåSession-Cookie Êú∫Âà∂ÈôêÂà∂‰∫ÜÂÆ¢Êà∑Á´ØÁöÑÁ±ªÂûãÔºåËÄå Token È™åËØÅÊú∫Âà∂‰∏∞ÂØå‰∫ÜÂÆ¢Êà∑Á´ØÁ±ªÂûã„ÄÇ</p>\n<p>Èô§Ê≠§‰πãÂ§ñÔºåToken È™åËØÅÊØîËæÉÁÅµÊ¥ªÔºåÈô§‰∫ÜÂ∏∏ËßÅÁöÑ JWT Â§ñÔºåÂèØ‰ª•Âü∫‰∫é Token ÊûÑÂª∫‰∏ìÈó®Áî®‰∫éÈâ¥ÊùÉÁöÑÂæÆÊúçÂä°ÔºåÁî®ÂÆÉÂêëÂ§ö‰∏™ÊúçÂä°ÁöÑËØ∑Ê±ÇËøõË°åÁªü‰∏ÄÈâ¥ÊùÉ„ÄÇ</p>\n<h3 id=\"JWT-ËÆ§ËØÅ\"><a href=\"#JWT-ËÆ§ËØÅ\" class=\"headerlink\" title=\"JWT ËÆ§ËØÅ\"></a>JWT ËÆ§ËØÅ</h3><p>JWTÔºàJSON Web TokenÔºâÊòØ Auth0 ÊèêÂá∫ÁöÑÈÄöËøáÂØπ JSON ËøõË°åÂä†ÂØÜÁ≠æÂêçÊù•ÂÆûÁé∞ÊéàÊùÉÈ™åËØÅÁöÑÊñπÊ°àÔºåÂ∞±ÊòØÁôªÂΩïÊàêÂäüÂêéÂ∞ÜÁõ∏ÂÖ≥‰ø°ÊÅØÁªÑÊàê JSON ÂØπË±°ÔºåÁÑ∂ÂêéÂØπËøô‰∏™ÂØπË±°ËøõË°åÊüêÁßçÊñπÂºèÁöÑÂä†ÂØÜÔºåËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåÂÆ¢Êà∑Á´ØÂú®‰∏ãÊ¨°ËØ∑Ê±ÇÊó∂Â∏¶‰∏äËøô‰∏™ TokenÔºåÊúçÂä°Á´ØÂÜçÊî∂Âà∞ËØ∑Ê±ÇÊó∂Ê†°È™å token ÂêàÊ≥ïÊÄßÔºåÂÖ∂ÂÆû‰πüÂ∞±ÊòØÂú®Ê†°È™åËØ∑Ê±ÇÁöÑÂêàÊ≥ïÊÄß„ÄÇ</p>\n<p>JWT ÊòØ JSON Ê†ºÂºèÁöÑË¢´Âä†ÂØÜ‰∫ÜÁöÑÂ≠óÁ¨¶‰∏≤Ôºö</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">JSON Data + Signature = JWT</span><br></pre></td></tr></table></figure>\n<p>JWT ÂØπË±°ÈÄöÂ∏∏Áî±‰∏âÈÉ®ÂàÜÁªÑÊàêÔºö</p>\n<ol>\n<li>Â§¥ÈÉ®ÔºàHeadersÔºâÔºöÂåÖÊã¨Á±ªÂà´ÔºàtypÔºâ„ÄÅÂä†ÂØÜÁÆóÊ≥ïÔºàalgÔºâ</li>\n</ol>\n<p>Â§¥ÈÉ®Áî®‰∫éÊèèËø∞ÂÖ≥‰∫éËØ• JWT ÁöÑÊúÄÂü∫Êú¨ÁöÑ‰ø°ÊÅØÔºå‰æãÂ¶ÇÂÖ∂Á±ªÂûã‰ª•ÂèäÁ≠æÂêçÊâÄÁî®ÁöÑÁÆóÊ≥ïÁ≠â„ÄÇ</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"alg\"</span>: <span class=\"string\">\"HS256\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"typ\"</span>: <span class=\"string\">\"JWT\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ËøôÈáåÊàë‰ª¨ËØ¥Êòé‰∫ÜËøôÊòØ‰∏Ä‰∏™ JWTÔºåÂπ∂‰∏îÊàë‰ª¨ÊâÄ‰ΩøÁî®ÁöÑÁ≠æÂêçÁÆóÊ≥ïÊòØ HS256 ÁÆóÊ≥ï„ÄÇ</p>\n<ol start=\"2\">\n<li>ClaimsÔºöÂåÖÊã¨ÈúÄË¶Å‰º†ÈÄíÁöÑÁî®Êà∑‰ø°ÊÅØ</li>\n</ol>\n<p>ËΩΩËç∑ÂèØ‰ª•Áî®Êù•Â≠òÊîæ‰∏Ä‰∫õ‰∏çÊïèÊÑüÁöÑ‰ø°ÊÅØ</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"iss\"</span>: <span class=\"string\">\"Jehoshaphat Tse\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"iat\"</span>: <span class=\"number\">1441593502</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"exp\"</span>: <span class=\"number\">1441594722</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"aud\"</span>: <span class=\"string\">\"www.example.com\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"sub\"</span>: <span class=\"string\">\"mrsingsing@example.com\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"name\"</span>: <span class=\"string\">\"John Doe\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"admin\"</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ËøôÈáåÈù¢ÁöÑÂâç‰∫î‰∏™Â≠óÊÆµÈÉΩÊòØÁî± JWT ÁöÑÊ†áÂáÜÊâÄÂÆö‰πâÁöÑ:</p>\n<ul>\n<li><code>iss</code>ÔºöËØ• JWT ÁöÑÁ≠æÂèëËÄÖ</li>\n<li><code>sub</code>ÔºöËØ• JWT ÊâÄÈù¢ÂêëÁöÑÁî®Êà∑</li>\n<li><code>aud</code>ÔºöÊé•Êî∂ËØ• JWT ÁöÑ‰∏ÄÊñπ</li>\n<li><code>exp</code>ÔºàexpiresÔºâÔºö‰ªÄ‰πàÊó∂ÂÄôËøáÊúüÔºåËøôÊòØ Unix Êó∂Èó¥Êà≥</li>\n<li><code>iat</code>Ôºàissued atÔºâÔºöÂú®‰ªÄ‰πàÊó∂ÂÄôÁ≠æÂèëÁöÑ„ÄÇÊääÂ§¥ÈÉ®ÂíåËΩΩËç∑ÂàÜÂà´ËøõË°å Base64 ÁºñÁ†ÅÂêéÂæóÂà∞‰∏§‰∏™Â≠óÁ¨¶‰∏≤ÔºåÁÑ∂ÂêéÂÜçÂ∞ÜËøô‰∏§‰∏™ÁºñÁ†ÅÂêéÁöÑÂ≠óÁ¨¶‰∏≤Áî®Ëã±ÊñáÂè•Âè∑ËøûÊé•Ëµ∑Êù•ÔºàÂ§¥ÈÉ®Âú®ÂâçÔºâÔºåÂΩ¢ÊàêÊñ∞ÁöÑÂ≠óÁ¨¶</li>\n</ul>\n<ol start=\"3\">\n<li>SignatureÔºö</li>\n</ol>\n<p>ÊúÄÂêéÔºåÂ∞Ü‰∏äËø∞ÊãºÊé•ÂêéÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÁî® <code>alg</code> ÊåáÂÆöÁöÑÁÆóÊ≥ïÔºàHS256Ôºâ‰∏éÁßÅÊúâÂØÜÈí•ÔºàSecretÔºâËøõË°åÂä†ÂØÜ„ÄÇÂä†ÂØÜÂêéÁöÑÂÜÖÂÆπ‰πüÊòØÂ≠óÁ¨¶‰∏≤ÔºåÊúÄÂêéËøô‰∏™Â≠óÁ¨¶‰∏≤Â∞±ÊòØÁ≠æÂêçÔºåÊääËøô‰∏™Á≠æÂêçÊãºÊé•Âú®ÂàöÊâçÁöÑÂ≠óÁ¨¶‰∏≤ÂêéÈù¢Â∞±ËÉΩÂæóÂà∞ÂÆåÊï¥ÁöÑ JWT„ÄÇHeader ÈÉ®ÂàÜÂíå Claims ÈÉ®ÂàÜÂ¶ÇÊûúË¢´ÁØ°ÊîπÔºåÁî±‰∫éÁØ°ÊîπËÄÖ‰∏çÁü•ÈÅìÂØÜÈí•ÊòØ‰ªÄ‰πàÔºå‰πüÊó†Ê≥ïÁîüÊàêÊñ∞ÁöÑ Signature ÈÉ®ÂàÜÔºåÊúçÂä°Á´Ø‰πüÂ∞±Êó†Ê≥ïÈÄöËøáÔºåÂú® JWT ‰∏≠ÔºåÊ∂àÊÅØ‰ΩìÊòØÈÄèÊòéÁöÑÔºå‰ΩøÁî®Á≠æÂêçÂèØ‰ª•‰øùËØÅÊ∂àÊÅØ‰∏çË¢´ÁØ°Êîπ„ÄÇ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">HMACSHA256(base64UrlEncode(Headers) + <span class=\"string\">'.'</span> + base64UrlEncode(Claims), SECREATE_KEY);</span><br></pre></td></tr></table></figure>\n<p>‰ºòÁÇπÔºö</p>\n<ol>\n<li>‰∏çÈúÄË¶ÅÂú®ÊúçÂä°Á´Ø‰øùÂ≠ò‰ºöËØù‰ø°ÊÅØÔºàRESTful API ÁöÑÂéüÂàô‰πã‰∏ÄÂ∞±ÊòØÊó†Áä∂ÊÄÅÔºâÔºåÊâÄ‰ª•Êòì‰∫éÂ∫îÁî®ÁöÑÊâ©Â±ïÔºåÂç≥‰ø°ÊÅØ‰∏ç‰øùÂ≠òÂú®ÊúçÂä°Á´ØÔºå‰∏ç‰ºöÂ≠òÂú® Session Êâ©Â±ï‰∏çÊñπ‰æøÁöÑÊÉÖÂÜµ</li>\n<li>JWT ‰∏≠ÁöÑËΩΩËç∑ÂèØ‰ª•Â≠òÂÇ®Â∏∏Áî®‰ø°ÊÅØÔºåÁî®‰∫é‰ø°ÊÅØ‰∫§Êç¢ÔºåÊúâÊïàÂú∞‰ΩøÁî® JWTÔºåÂèØ‰ª•Èôç‰ΩéÊúçÂä°Á´ØÊü•ËØ¢Êï∞ÊçÆÂ∫ìÁöÑÊ¨°Êï∞</li>\n</ol>\n<p>Áº∫ÁÇπÔºö</p>\n<ol>\n<li><strong>ËøáÊúüÊó∂Èó¥ÈóÆÈ¢ò</strong>ÔºöÁî±‰∫éÊúçÂä°Á´Ø‰∏ç‰øùÂ≠ò Session Áä∂ÊÄÅÔºåÂõ†Ê≠§Êó†Ê≥ïÂú®‰ΩøÁî®ËøáÁ®ã‰∏≠Â∫üÊ≠¢Êüê‰∏™ TokenÔºåÊàñÊòØÊõ¥Êîπ Token ÁöÑÊùÉÈôê„ÄÇ‰πüÂ∞±ÊòØËØ¥Ôºå‰∏ÄÊó¶ JWT Á≠æÂèëÔºåÂú®Âà∞Êúü‰πãÂâçÂ∞±‰ºöÂßãÁªàÊúâÊïàÔºåÈô§ÈùûÊúçÂä°Á´ØÈÉ®ÁΩ≤È¢ùÂ§ñÁöÑÈÄªËæë„ÄÇÂõ†Ê≠§Â¶ÇÊûúÊòØÊµèËßàÂô®Á´ØÂ∫îÁî®ÁöÑËØùÔºå‰ΩøÁî® JWT ËÆ§ËØÅÊú∫Âà∂ËøòÈúÄË¶ÅËÆæËÆ°‰∏ÄÂ•ó JWT ÁöÑ‰∏ªÂä®Êõ¥Êñ∞Âà†Èô§ÁöÑÊú∫Âà∂ÔºåËøôÊ†∑Â∞±Â¢ûÂä†‰∫ÜÁ≥ªÁªüÁöÑÂ§çÊùÇÊÄß„ÄÇ</li>\n<li><strong>ÂÆâÂÖ®ÊÄß</strong>ÔºöÁî±‰∫é JWT ÁöÑ Claims ÊòØ Base64 ÁºñÁ†ÅÁöÑÔºåÂπ∂Ê≤°ÊúâÂä†ÂØÜÔºåÂõ†Ê≠§ JWT ‰∏≠‰∏çËÉΩÂ≠òÂÇ®ÊïèÊÑüÊï∞ÊçÆ</li>\n<li><strong>ÊÄßËÉΩÈóÆÈ¢ò</strong>ÔºöJWT Âç†Áî®Á©∫Èó¥ËøáÂ§ßÔºåCookie ÈôêÂà∂‰∏ÄËà¨ÊòØ 4kÔºåÂèØËÉΩ‰ºöÊó†Ê≥ïÂÆπÁ∫≥ÔºåÊâÄ‰ª• JWT ‰∏ÄËà¨Êîæ LocalStorage ÈáåÈù¢ÔºåÂπ∂‰∏îÁî®Êà∑Âú®Á≥ªÁªüÁöÑÊØèÊ¨° HTTP ËØ∑Ê±ÇÈÉΩ‰ºöÊää JWT Êê∫Â∏¶Âú® Header ÈáåÈù¢ÔºåHTTP ËØ∑Ê±ÇÁöÑ Header ÂèØËÉΩÊØî Body ËøòË¶ÅÂ§ß„ÄÇ</li>\n</ol>\n<h3 id=\"koa-jwt\"><a href=\"#koa-jwt\" class=\"headerlink\" title=\"koa-jwt\"></a>koa-jwt</h3><p>‰∏ãÈù¢‰ªãÁªç Koa ‰∏≠‰ΩøÁî® <code>koa-jwt</code> ËøõË°åÈ¢ÅÂèë„ÄÅÊ†°È™å Token ÁöÑ‰ΩøÁî®ÊñπÊ≥ï„ÄÇ</p>\n<p>ÊúçÂä°Á´ØÁîüÊàê Token</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> router = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-router'</span>)();</span><br><span class=\"line\"><span class=\"keyword\">const</span> jwt = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-jwt'</span>);</span><br><span class=\"line\"><span class=\"comment\">// ËøôÈáå‰ΩøÁî®ÁöÑÊòØ MongoDB Êï∞ÊçÆÂ∫ì</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> userModel = <span class=\"built_in\">require</span>(<span class=\"string\">'../model/userModel'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> secretOrPublicKey = <span class=\"string\">'TOKEN_EXAMPLE'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">router.post(<span class=\"string\">'/login'</span>, <span class=\"keyword\">async</span> ctx =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> data = ctx.request.body;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Ê†πÊçÆÁî®Êà∑Êèê‰æõÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÊü•ËØ¢Êï∞ÊçÆÂ∫ì‰∏≠ÊòØÂê¶Â≠òÂú®ÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> userInfo = <span class=\"keyword\">await</span> userModel.findOne(&#123; <span class=\"attr\">name</span>: data.name, <span class=\"attr\">password</span>: data.password &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> result = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (userInfo !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Ê†πÊçÆÁî®Êà∑‰ø°ÊÅØÁ≠æÂèë TokenÔºåËÆæÂÆöÊúâÊïàÊó∂Èó¥‰∏∫ 2h</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> token = jwt.sign(&#123; <span class=\"attr\">name</span>: userInfo.name, <span class=\"attr\">_id</span>: userInfo._id &#125;, secretOrPublicKey, &#123;</span><br><span class=\"line\">      expiresIn: <span class=\"string\">'2h'</span>,</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    result = &#123;</span><br><span class=\"line\">      code: <span class=\"number\">200</span>,</span><br><span class=\"line\">      token: token,</span><br><span class=\"line\">      msg: <span class=\"string\">'ÁôªÂΩïÊàêÂäü'</span>,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    result = &#123;</span><br><span class=\"line\">      code: <span class=\"number\">400</span>,</span><br><span class=\"line\">      token: <span class=\"literal\">null</span>,</span><br><span class=\"line\">      msg: <span class=\"string\">'ÁôªÂΩïÂ§±Ë¥•'</span>,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> (ctx.body = result);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>ÂâçÁ´ØËé∑Âèñ TokenÔºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ËØ∑Ê±ÇÁôªÂΩï</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">login</span>(<span class=\"params\">userName, password</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> axios</span><br><span class=\"line\">    .post(<span class=\"string\">'/login'</span>, &#123;</span><br><span class=\"line\">      name: userName,</span><br><span class=\"line\">      password: password,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .then(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (res.code === <span class=\"number\">200</span>) &#123;</span><br><span class=\"line\">        localStorage.setItem(<span class=\"string\">'access_token'</span>, res.data.token);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'ÁôªÂΩïÂ§±Ë¥•'</span>);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .catch(<span class=\"function\"><span class=\"params\">e</span> =&gt;</span> <span class=\"built_in\">console</span>.error(e));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ÂêéÁª≠Ëé∑Âèñ Token ÂêéÁª≠ÁöÑ API ËØ∑Ê±Ç</span></span><br><span class=\"line\"><span class=\"comment\">// ÈÄöËøá Axios Êã¶Êà™Âô®Âä†‰∏ä Authorization ËØ∑Ê±ÇÂ§¥ÈÉ®Â≠óÊÆµ</span></span><br><span class=\"line\">axios.interceptors.request.use(<span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> token = localStorage.getItem(<span class=\"string\">'token'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  config.headers.common[<span class=\"string\">'Authorization'</span>] = <span class=\"string\">'Bearer '</span> + token;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">return</span> config;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n<p>ÊúçÂä°Á´ØÊ†°È™åÂâçÁ´ØÂèëÈÄÅÊù•ÁöÑËØ∑Ê±ÇÔºö</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> jwt = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-jwt'</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> Koa();</span><br><span class=\"line\"><span class=\"keyword\">const</span> secretOrPublicKey = <span class=\"string\">'TOKEN_EXAMPLE'</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">app</span><br><span class=\"line\">  .use(</span><br><span class=\"line\">    jwt(&#123;</span><br><span class=\"line\">      secret: secretOrPublicKey,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  )</span><br><span class=\"line\">  .unless(&#123;</span><br><span class=\"line\">    path: [<span class=\"regexp\">/\\register/</span>, /\\/login/],</span><br><span class=\"line\">  &#125;);</span><br></pre></td></tr></table></figure>\n<p>Âú® <code>koa-jwt</code> ÁöÑÊ∫êÁ†ÅÂÆûÁé∞‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Áü•ÈÅì Token ÁöÑÈâ¥ÂÆöÊòØÂÖàÂà§Êñ≠ËØ∑Ê±ÇÂ§¥‰∏≠ÊòØÂê¶Â∏¶‰∫Ü AuthorizationÔºö</p>\n<ul>\n<li>ÊúâÔºåÂàôÈÄöËøáÊ≠£ÂàôÂ∞Ü <code>token</code> ‰ªé Authorization ‰∏≠ÂàÜÁ¶ªÂá∫Êù•ÔºåToken ‰∏≠ÊòØÂ∏¶Êúâ Bearer Ëøô‰∏™ÂçïËØç</li>\n<li>Ê≤°ÊúâÔºåÂàô‰ª£Ë°®‰∫ÜÂÆ¢Êà∑Á´ØÊ≤°Êúâ‰º† Token Âà∞ÊúçÂä°Âô®ÔºåËøôÊó∂ÂÄôÂ∞±ÊäõÂá∫ 401 ÈîôËØØÁä∂ÊÄÅ</li>\n</ul>\n<p>Ê∫êÁ†ÅÊñá‰ª∂‰∏≠ÁöÑ <code>verify.js</code> ‰∏≠ÔºåË∞ÉÁî®‰∫Ü <code>jsonwebtoken</code> Â∫ìÂéüÁîüÊèê‰æõÁöÑ <code>verify()</code> ÊñπÊ≥ïËøõË°åÈ™åËØÅËøîÂõûÁªìÊûú„ÄÇ</p>\n<p><a href=\"https://github.com/auth0/node-jsonwebtoken\" target=\"_blank\" rel=\"noopener\">jsonwebtoken</a> ÁöÑ <code>sign()</code> Áî®‰∫éÁîüÊàê <code>token</code>ÔºåËÄå <code>verify()</code> ÊñπÊ≥ïÂΩìÁÑ∂ÂàôÊòØÁî®Êù•Ëß£Êûê <code>token</code>„ÄÇÂ±û‰∫é JWT ÈÖçÂØπÁîü‰∫ßÁöÑ‰∏§‰∏™ÊñπÊ≥ïÔºåÊâÄ‰ª• <code>koa-jwt</code> Ëøô‰∏™‰∏≠Èó¥‰ª∂‰πüÊ≤°ÂÅö‰ªÄ‰πà‰∫ãÔºåÊó†ÈùûÂ∞±ÊòØÁî®Ê≠£ÂàôËß£ÊûêËØ∑Ê±ÇÂ§¥ÔºåË∞ÉÁî® <code>jsonwebtoken</code> ÁöÑ <code>verify()</code> È™åËØÅ <code>token</code>ÔºåÂú® <code>koa-jwt</code> Êñá‰ª∂Â§πÁöÑ <code>index.js</code> ‰∏≠Ôºå<code>koa-jwt</code> ËøòË∞ÉÁî® <code>koa-unless</code> ËøõË°åË∑ØÁî±ÊùÉÈôêÂàÜÂèë„ÄÇ</p>\n<ul>\n<li><a href=\"http://www.uxys.com/html/JavaScript/20190722/52733.html\" target=\"_blank\" rel=\"noopener\">Koa2 ÊúçÂä°Á´Ø‰ΩøÁî® JWT ËøõË°åÈâ¥ÊùÉÂèäË∑ØÁî±ÊùÉÈôêÂàÜÂèëÁöÑÊµÅÁ®ãÂàÜÊûê</a></li>\n</ul>\n<h3 id=\"Token-ËÆ§ËØÅÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à\"><a href=\"#Token-ËÆ§ËØÅÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à\" class=\"headerlink\" title=\"Token ËÆ§ËØÅÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à\"></a>Token ËÆ§ËØÅÂ∏∏ËßÅÈóÆÈ¢òÂèäËß£ÂÜ≥ÊñπÊ°à</h3><h4 id=\"Ê≥®ÈîÄÁôªÂΩï\"><a href=\"#Ê≥®ÈîÄÁôªÂΩï\" class=\"headerlink\" title=\"Ê≥®ÈîÄÁôªÂΩï\"></a>Ê≥®ÈîÄÁôªÂΩï</h4><p>Ê≥®ÈîÄÁôªÂΩïÁ≠âÂú∫ÊôØ‰∏ã Token ‰ªçÊúâÊïàÁ±ª‰ººÁöÑÂú∫ÊôØÔºö</p>\n<ul>\n<li>ÈÄÄÂá∫ÁôªÂΩï</li>\n<li>‰øÆÊîπÂØÜÁ†Å</li>\n<li>ÊúçÂä°Á´Ø‰øÆÊîπ‰∫ÜÊüê‰∏™Áî®Êà∑ÂÖ∑ÊúâÁöÑÊùÉÈôêÊàñËßíËâ≤</li>\n<li>Áî®Êà∑ÁöÑË¥¶Êà∑Ë¢´Âà†Èô§/ÊöÇÂÅú</li>\n<li>Áî®Êà∑Áî±ÁÆ°ÁêÜÂëòÊ≥®ÈîÄ</li>\n</ul>\n<p>Ëøô‰∏™ÈóÆÈ¢ò‰ªÖÂ≠òÂú®‰∫é Token ËÆ§ËØÅ‰∏≠ÔºåÂõ†‰∏∫ Session-Cookie ËÆ§ËØÅÊ®°Âºè‰∏≠ÔºåËøô‰∫õÊÉÖÂÜµËÉΩÂ§üÈÄöËøáÂà†Èô§ÊúçÂä°Á´Ø Session ‰∏≠ÂØπÂ∫îÁöÑËÆ∞ÂΩïËß£ÂÜ≥ÔºåËÄå Token ËÆ§ËØÅ‰∏≠ÔºåÂ¶ÇÊûúÊúçÂä°Á´Ø‰∏çÂ¢ûÂä†ÂÖ∂‰ªñÈÄªËæëÁöÑËØùÔºåÂú®Â§±ÊïàÂâç Token ÈÉΩÊòØÊúâÊïàÁöÑ„ÄÇ</p>\n<p>‰∏ãÈù¢ÂàóÂá∫Âá†ÁßçÈíàÂØπËøô‰∫õÂú∫ÊôØÁöÑËß£ÂÜ≥ÊñπÊ°àÔºö</p>\n<ul>\n<li><strong>Â∞Ü Token Â≠òÂÇ®Âú®ÂÜÖÂ≠òÊï∞ÊçÆÂ∫ì</strong>ÔºöÂ∞Ü Token Â≠òÂÖ•Á±ª‰ºº‰∫é Redis ÁöÑÂÜÖÂ≠òÊï∞ÊçÆÂ∫ì‰∏≠„ÄÇÂ¶ÇÊûúÈúÄË¶ÅËÆ©Êüê‰∏™ Token Â§±ÊïàÂ∞±Áõ¥Êé•‰ªé Redis ‰∏≠Âà†Èô§Ëøô‰∏™ Token Âç≥ÂèØ„ÄÇ‰ΩÜÊòØËøôÊ†∑‰ºöÂØºËá¥ÊØèÊ¨°‰ΩøÁî® Token ÂèëÈÄÅËØ∑Ê±ÇÈÉΩË¶ÅÂÖà‰ªé DB ‰∏≠Êü•ËØ¢ Token ÊòØÂê¶Â≠òÂú®ÁöÑÊ≠•È™§ÔºåËÄå‰∏îËøùËÉå‰∫Ü JWT Êó†Áä∂ÊÄÅÂéüÂàô„ÄÇ</li>\n<li><strong>ÈªëÂêçÂçïÊú∫Âà∂</strong>ÔºöÂíå‰∏äËø∞ÊñπÊ°àÁ±ª‰ººÔºå‰ΩøÁî®ÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìÁª¥Êä§‰∏Ä‰ªΩÈªëÂêçÂçïÔºåÂ¶ÇÊûúÊÉ≥ËÆ©Êüê‰∏™ Token Â§±ÊïàÁöÑËØùÂ∞±Áõ¥Êé•Â∞ÜËøô‰∏™ Token ÊîæÂÖ•Âà∞ÈªëÂêçÂçïÂÜÖÂç≥ÂèØ„ÄÇÊØèÊ¨°‰ΩøÁî® Token ËøõË°åËØ∑Ê±ÇÊó∂ÈÉΩ‰ºöÂÖàÂà§Êñ≠ Token ÊòØÂê¶Â≠òÂú®‰∫éÈªëÂêçÂçï‰∏≠„ÄÇ</li>\n<li><strong>‰øÆÊîπÂØÜÈí• Secret</strong>Ôºö‰∏∫ÊØè‰∏™Áî®Êà∑ÂàõÂª∫‰∏ìÂ±ûÂØÜÈí•ÔºåÂ¶ÇÊûúÊÉ≥ËÆ©Êüê‰∏™ Token Â§±ÊïàÔºåÊàë‰ª¨Áõ¥Êé•‰øÆÊîπÂØπÂ∫îÁî®Êà∑ÁöÑÂØÜÈí•Âç≥ÂèØ„ÄÇ‰ΩÜÊòØÔºåËøôÊ†∑Áõ∏ËæÉ‰∫éÂâç‰∏§ÁßçÂºïÂÖ•ÂÜÖÂ≠òÊï∞ÊçÆÂ∏¶ÂÖ•ÁöÑÂç±ÂÆ≥Êõ¥Â§ßÔºö<ul>\n<li>Â¶ÇÊûúÊúçÂä°ÊòØÂàÜÂ∏ÉÂºèÁöÑÔºåÊØèÊ¨°ÂèëÂá∫Êñ∞ÁöÑ Token Êó∂ÈÉΩÂøÖÈ°ªÂú®Â§öÂè∞ÂèäÂÖ∂ÂêåÊ≠•ÂØÜÈí•„ÄÇ‰∏∫Ê≠§Ôºå‰Ω†ÈúÄË¶ÅÂ∞ÜÊú∫ÂØÜÂ≠òÂú®Êï∞ÊçÆÂ∫ìÊàñÂÖ∂‰ªñÂ§ñÈÉ®ÊúçÂä°‰∏≠ÔºåËøôÊ†∑Âíå Session ËÆ§ËØÅÂ∞±Ê≤°ÊúâÂ§™Â§ßÂå∫Âà´‰∫Ü</li>\n<li>Â¶ÇÊûúÁî®Êà∑ÂêåÊó∂Âú®‰∏§‰∏™ÊµèËßàÂô®ÊâìÂºÄÁ≥ªÁªüÔºåÊàñËÄÖÂú®ÁßªÂä®ËÆæÂ§á‰∏äÊâìÂºÄÁ≥ªÁªüÔºåÂΩìÂÆÉ‰ªé‰∏Ä‰∏™Âú∞ÊñπÂ∞ÜË¥¶Âè∑ÈÄÄÂá∫Êó∂ÔºåÈÇ£‰πàÂÖ∂‰ªñÁªàÁ´ØÈÉΩÈúÄË¶ÅÈáçÊñ∞ÁôªÂΩïËÆ§ËØÅÔºåËøôÊòØ‰∏çÂèØÂèñÁöÑ</li>\n</ul>\n</li>\n<li><strong>‰øùÊåÅ‰ª§ÁâåÁöÑÊúâÊïàÊúüÈôêÁü≠Âπ∂ÁªèÂ∏∏ËΩÆÊç¢</strong><ul>\n<li>ÂæàÁÆÄÂçïÁöÑÊñπÂºèÔºå‰ΩÜÊòØ‰ºöÂØºËá¥Áî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ‰∏ç‰ºöË¢´ÊåÅ‰πÖËÆ∞ÂΩïÔºåËÄå‰∏îÈúÄË¶ÅÁî®Êà∑ÁªèÂ∏∏ÁôªÂΩï</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Áª≠Á≠æÈóÆÈ¢ò\"><a href=\"#Áª≠Á≠æÈóÆÈ¢ò\" class=\"headerlink\" title=\"Áª≠Á≠æÈóÆÈ¢ò\"></a>Áª≠Á≠æÈóÆÈ¢ò</h4><p>Token ÁöÑÁª≠Á≠æÈóÆÈ¢òÔºö</p>\n<p>Token ÊúâÊïàÊúü‰∏ÄËà¨‰∏çÂª∫ËÆÆËÆæÁΩÆËøáÈïøÔºåËÄå Token ËøáÊúüÂêéÂ¶Ç‰ΩïËÆ§ËØÅÔºåÂ¶Ç‰Ωï <code>Âä®ÊÄÅÂà∑Êñ∞</code> Token Á≠âÈúÄË¶ÅÊúâÊïàÁöÑÊñπÊ°àËß£ÂÜ≥„ÄÇ</p>\n<p>Âú® Session-Cookie ËÆ§ËØÅ‰∏≠ÔºåÂÅáËÆæ Session ÊúâÊïàÊúü‰∏∫ 30 ÂàÜÈíüÔºåÂ¶ÇÊûú 30 ÂàÜÈíüÂÜÖÊúâËµÑÊ∫êËØ∑Ê±ÇËÆøÈóÆÔºåÈÇ£‰πàÂ∞±Êää Session ÁöÑÊúâÊïàÊúüËá™Âä®Âª∂Èïø 30 ÂàÜÈíü„ÄÇ</p>\n<ul>\n<li><strong>Á±ª‰ºº‰∫é Session ‰∫∫‰∏≠ÁöÑÂÅöÊ≥ï</strong>ÔºöÂΩìÂÆ¢Êà∑Á´ØËÆøÈóÆÊúçÂä°Á´ØÔºåÂèëÁé∞ Token Âç≥Â∞ÜËøáÊúüÊó∂ÔºåÊúçÂä°Á´ØÈáçÊñ∞È¢ÅÂèëÊñ∞ÁöÑ Token ÁªôÂÆ¢Êà∑Á´Ø</li>\n<li><strong>ÊØèÊ¨°ËØ∑Ê±ÇÈÉΩËøîÂõûÊñ∞ Token</strong>ÔºöÂÆûÁé∞ÊÄùË∑ØÁÆÄÂçïÊòé‰∫ÜÔºå‰ΩÜÊòØÂºÄÈîÄËæÉÂ§ß</li>\n<li><strong>Token ÊúâÊïàÊúüËÆæÁΩÆÂà∞ÂçäÂ§ú</strong>ÔºöÊäòË°∑ÊñπÊ°àÔºå‰øùËØÅÂ§ßÈÉ®ÂàÜÁî®Êà∑Ê≠£Â∏∏Â∑•‰ΩúÊó∂Èó¥ÂèØ‰ª•Ê≠£Â∏∏ÁôªÂΩïÔºåÈÄÇÁî®‰∫éÂÆâÂÖ®ÊÄßË¶ÅÊ±Ç‰∏çÈ´òÁöÑÁ≥ªÁªü</li>\n<li><strong>Áî®Êà∑ÁôªÂΩïËøîÂõû‰∏§‰∏™ Token</strong>ÔºöÁ¨¨‰∏Ä‰∏™ÊòØ <code>accessToken</code>ÔºåÂÆÉÁöÑËøáÊúüÊó∂Èó¥ËÆæÁΩÆÊØîÂ¶ÇÂçä‰∏™Â∞èÊó∂ÔºåÂè¶‰∏Ä‰∏™ÊòØ <code>refreshToken</code>ÔºåÂÆÉÁöÑËøáÊúüÊó∂Èó¥Êõ¥Èïø‰∏ÄÁÇπÔºå‰æãÂ¶Ç 1 Â§©„ÄÇÂÆ¢Êà∑Á´ØÁôªÂΩïÂêéÔºåÂ∞Ü <code>accessToken</code> Âíå <code>refreshToken</code> ‰øùÂ≠òÂú®Êú¨Âú∞ÔºåÊØèÊ¨°ËÆøÈóÆÂ∞Ü <code>accessToken</code> ‰º†ÁªôÊúçÂä°Á´Ø„ÄÇÊúçÂä°Á´ØÊ†°È™å <code>accessToken</code> ÁöÑÊúâÊïàÊÄßÔºåÂ¶ÇÊûúËøáÊúüÁöÑËØùÔºåÂ∞±Â∞Ü <code>refreshToken</code> ‰º†ÁªôÊúçÂä°Á´Ø„ÄÇÂ¶ÇÊûúÊúâÊïàÔºåÊúçÂä°Á´ØÂ∞±ÁîüÊàêÊñ∞ÁöÑ <code>accessToken</code> ÁªôÂÆ¢Êà∑Á´Ø„ÄÇÂê¶ÂàôÔºåÂÆ¢Êà∑Á´ØÂ∞±ÈáçÊñ∞ÁôªÂΩïÂç≥ÂèØ„ÄÇËØ•ÊñπÊ°à‰∏çË∂≥ÁöÑÊòØÔºö<ul>\n<li>ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÈÖçÂêà</li>\n<li>Áî®Êà∑Ê≥®ÈîÄÁöÑÊó∂ÂÄôÈúÄË¶ÅÂêåÊó∂‰øùËØÅ‰∏§‰∏™ Token ÈÉΩÊó†Êïà</li>\n<li>ÈáçÊñ∞ËØ∑Ê±ÇËé∑Âèñ Token ÁöÑËøáÁ®ã‰∏≠‰ºöÊúâÁü≠ÊöÇ Token ‰∏çÂèØÁî®ÁöÑÊÉÖÂÜµÔºàÂèØ‰ª•ÈÄöËøáÂú®ÂÆ¢Êà∑Á´ØËÆæÁΩÆÂÆöÊó∂Âô®ÔºåÂΩì <code>accessToken</code> Âø´ËøáÊúüÁöÑÊó∂ÂÄôÔºåÊèêÂâçÂéªÈÄöËøá <code>refreshToken</code> Ëé∑ÂèñÊñ∞ÁöÑ <code>accessToken</code>Ôºâ</li>\n</ul>\n</li>\n</ul>\n<p>JWT ÊúÄÈÄÇÂêàÁöÑÂú∫ÊôØÊòØ‰∏çÈúÄË¶ÅÊúçÂä°Á´Ø‰øùÂ≠òÁî®Êà∑Áä∂ÊÄÅÁöÑÂú∫ÊôØÔºåÂ¶ÇÊûúËÄÉËôëÂà∞ Token Ê≥®ÈîÄÂíåÁª≠Á≠æÁ≠âÂú∫ÊôØÁöÑËØùÔºåÁõÆÂâçÊù•ËØ¥Ê≤°ÊúâÁâπÂà´Â•ΩÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂ§ßÈÉ®ÂàÜËß£ÂÜ≥ÊñπÊ°àÈÉΩÁªô Token Âä†‰∏äÁä∂ÊÄÅÔºåËøôÂÆûÈôÖ‰∏äÂ∞±ÊúâÁÇπÁ±ª‰ºº Session-Cookie ËÆ§ËØÅ‰∫Ü„ÄÇ</p>\n<h2 id=\"ÂçïÁÇπÁôªÂΩï\"><a href=\"#ÂçïÁÇπÁôªÂΩï\" class=\"headerlink\" title=\"ÂçïÁÇπÁôªÂΩï\"></a>ÂçïÁÇπÁôªÂΩï</h2><p><strong>ÂçïÁÇπÁôªÂΩï</strong>ÔºàSingle Sign-onÔºâÂèàÁß∞ SSOÔºåÊòØÊåáÂú®Â§öÁ≥ªÁªüÂ∫îÁî®Áæ§‰∏≠ÁôªÂΩïÂçï‰∏™Á≥ªÁªüÔºå‰æøÂèØÂú®ÂÖ∂‰ªñÊâÄÊúâÁ≥ªÁªü‰∏≠ÂæóÂà∞ÊéàÊùÉËÄåÊó†ÈúÄÂÜçÊ¨°ÁôªÂΩï„ÄÇ</p>\n<p>‰º†ÁªüÁöÑ All-in-one ÂûãÂ∫îÁî®ÁöÑËÆ§ËØÅÁ≥ªÁªüÂíå‰∏öÂä°Á≥ªÁªüÈõÜÂêàÂú®‰∏ÄËµ∑ÁöÑÔºåÂΩìÁî®Êà∑ËÆ§ËØÅÈÄöËøáÊó∂ÔºåÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂ≠òÂÖ• Session ‰∏≠„ÄÇÂÖ∂‰ªñ‰∏öÂä°Âè™ÈúÄË¶Å‰ªé‰∏öÂä°‰∏≠ÈÄöËøáÂØπÂ∫î‰ºöËØùË∫´‰ªΩÂá≠ËØÅÂèñÂà∞Áî®Êà∑‰ø°ÊÅØËøõË°åÁõ∏ÂÖ≥‰∏öÂä°Â§ÑÁêÜÂç≥ÂèØ„ÄÇ</p>\n<p>‰º†ÁªüÁöÑ Session ÊòØÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂ≠òÂÖ•ÂÜÖÂ≠òÔºåÁª¥Êä§‰∏Ä‰∏™ÂìàÂ∏åË°®„ÄÇÊØèÊ¨°ËØ∑Ê±ÇÊê∫Â∏¶‰ºöËØùË∫´‰ªΩÂá≠ËØÅ SessionIDÔºàTomcat ‰∏≠ÊòØ <code>JSESSIONID</code>ÔºâÂà∞ÊúçÂä°Á´ØÔºåÊ†πÊçÆÊ≠§ SessionID Êü•ÊâæÂà∞ÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ„ÄÇ</p>\n<p>Âà©Áî® Redis Á≠âÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìËøõË°åÁî®Êà∑‰ø°ÊÅØÁöÑÂ≠òÂÇ®ÔºåËá™ÂÆö‰πâ Token ÁîüÊàêËßÑÂàôÂ∞ÜÁî®Êà∑‰ø°ÊÅØÂÜôÂÖ• Redis ‰∏≠„ÄÇËøôÊ†∑Â∞ÜÁî®Êà∑‰ø°ÊÅØÁöÑÂ≠òÂÇ®Âíå‰∏öÂä°Á≥ªÁªüËøõË°åÊãÜÂàÜÔºå‰ΩøÁ≥ªÁªüÊõ¥Âä†ÂÅ•Â£ÆÔºåÊõ¥Êòì‰∫éÊâ©Â±ï„ÄÇÊñ∞Â¢ûÁ≥ªÁªüÂè™ÈúÄË¶Å‰ªé SSO ‰∏≠Ëé∑ÂèñÁõ∏ÂÖ≥ÁöÑËÆ§ËØÅÂç≥ÂèØËøõË°åÊ®™ÂêëÁöÑ‰∏öÂä°Êâ©Â±ï„ÄÇËÄå‰∏î Redis Êú¨Ë∫´ÁöÑÊÄßË¥®‰πüÊòì‰∫éËøõË°å <code>ÈõÜÁæ§Âåñ</code> ÁöÑÈÉ®ÁΩ≤„ÄÇ</p>\n<p>‰∏ãÈù¢ËØ¶Ëø∞ÂêÑÁßçÂú∫ÊôØ‰∏ã SSO ÁöÑÂÆûÁé∞ÊñπÊ°à„ÄÇ</p>\n<h3 id=\"ÂêåÂüü-SSO\"><a href=\"#ÂêåÂüü-SSO\" class=\"headerlink\" title=\"ÂêåÂüü SSO\"></a>ÂêåÂüü SSO</h3><p>ÂΩìÂ≠òÂú®‰∏§‰∏™Áõ∏ÂêåÂüüÂêç‰∏ãÁöÑÁ≥ªÁªü A <code>a.abc.com</code> ÂíåÁ≥ªÁªü B <code>b.abc.com</code> Êó∂Ôºå‰ª•‰∏ã‰∏∫‰ªñ‰ª¨ÂÆûÁé∞ SSO ÁöÑÊ≠•È™§Ôºö</p>\n<ol>\n<li>Áî®Êà∑ËÆøÈóÆÊüê‰∏™Â≠êÁ≥ªÁªüÊó∂Ôºà‰æãÂ¶Ç <code>a.abc.com</code>ÔºâÔºåÂ¶ÇÊûúÊ≤°ÊúâÁôªÂΩïÔºåÂàôË∑≥ËΩ¨Ëá≥ SSO ËÆ§ËØÅ‰∏≠ÂøÉÊèê‰æõÁöÑÁôªÂΩïÈ°µÈù¢ËøõË°åÁôªÂΩï</li>\n<li>ÁôªÂΩïËÆ§ËØÅÂêéÔºåÊúçÂä°Á´ØÊääÁôªÂΩïÁî®Êà∑ÁöÑ‰ø°ÊÅØÂ≠òÂÇ®‰∫é Session ‰∏≠ÔºåÂπ∂‰∏∫Áî®Êà∑ÁîüÊàêÂØπÂ∫îÁöÑ‰ºöËØùË∫´‰ªΩÂá≠ËØÅÈôÑÂä†Âú®ÂìçÂ∫îÂ§¥ÁöÑ <code>Set-Cookie</code> Â≠óÊÆµ‰∏≠ÔºåÈöèÁùÄËØ∑Ê±ÇËøîÂõûÂÜôÂÖ•ÊµèËßàÂô®‰∏≠ÔºåÂπ∂ÂõûË∑≥Âà∞ËÆæÂÆöÁöÑÂ≠êÁ≥ªÁªüÈìæÊé•‰∏≠</li>\n<li>‰∏ãÊ¨°ÂèëÈÄÅËØ∑Ê±ÇÊó∂ÔºåÂΩìÁî®Êà∑ËÆøÈóÆÂêåÂüüÂêçÁöÑÁ≥ªÁªü B Êó∂ÔºåÁî±‰∫é A Âíå B Âú®Áõ∏ÂêåÂüüÂêç‰∏ãÔºå‰πüÊòØ <code>abc.com</code>ÔºåÊµèËßàÂô®‰ºöËá™Âä®Â∏¶‰∏ä‰πãÂâçÁöÑ Cookie„ÄÇÊ≠§Êó∂ÊúçÂä°Á´ØÂ∞±ÂèØ‰ª•ÈÄöËøáËØ• Cookie Êù•È™åËØÅÁôªÂΩïÁä∂ÊÄÅ‰∫Ü„ÄÇ</li>\n</ol>\n<p>ËøôÂÆûÈôÖ‰∏ä‰ΩøÁî®ÁöÑÂ∞±ÊòØ Session-Cookie ËÆ§ËØÅÁöÑÁôªÂΩïÊñπÂºè„ÄÇ</p>\n<h3 id=\"Ë∑®Âüü-SSO\"><a href=\"#Ë∑®Âüü-SSO\" class=\"headerlink\" title=\"Ë∑®Âüü SSO\"></a>Ë∑®Âüü SSO</h3><p>‰∏äËø∞ÊâÄÊèêÂèäÁöÑÂêåÂüüÂêç SSO Âπ∂‰∏çÊîØÊåÅË∑®ÂüüÂêçÁöÑÁôªÂΩïËÆ§ËØÅÔºåËøôÊòæÁÑ∂‰∏çÁ¨¶ÂêàÂΩì‰ªä‰∫íËÅîÁΩëÂèëÂ±ïÊΩÆÊµÅÔºåÊØïÁ´üÂ§ßÂ§öÊï∞‰∏≠Â§ßÂûã‰ºÅ‰∏öÂÜÖÂ§ñÈÉ®ÁöÑÁ≥ªÁªüÈÉΩÊòØÈÉ®ÁΩ≤Âú®‰∏çÂêåÁöÑÂüüÂêç‰∏ãÔºå‰∏ãÈù¢Êàë‰ª¨‰ªãÁªçÂÆûÁé∞ÂçïÁÇπÁôªÂΩïÁöÑÊ†áÂáÜÊµÅÁ®ã„ÄÇ</p>\n<p><strong>CAS</strong>ÔºàCentral Authentication ServiceÔºâ‰∏≠Â§ÆÊéàÊùÉÊúçÂä°ÔºåÊú¨Ë∫´ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÂçèËÆÆÔºåÂàÜ‰∏∫ 1.0 ÁâàÊú¨Âíå 2.0 ÁâàÊú¨„ÄÇ1.0 Áß∞‰∏∫Âü∫Á°ÄÊ®°ÂºèÔºå2.0 Áß∞‰∏∫‰ª£ÁêÜÊ®°ÂºèÔºåÈÄÇÁî®‰∫éÂ≠òÂú®Èùû Web Â∫îÁî®‰πãÈó¥ÁöÑÂçïÁÇπÁôªÂΩï„ÄÇ</p>\n<p>CAS ÁöÑÂÆûÁé∞ÈúÄË¶Å‰∏âÊñπËßíËâ≤Ôºö</p>\n<ul>\n<li>ClientÔºöÁî®Êà∑</li>\n<li>ServerÔºö‰∏≠Â§ÆÊéàÊùÉÊúçÂä°Ôºå‰πüÊòØ SSO ‰∏≠ÂøÉË¥üË¥£ÂçïÁÇπÁôªÂΩïÁöÑÊúçÂä°Âô®</li>\n<li>ServiceÔºöÈúÄË¶Å‰ΩøÁî®ÂçïÁÇπÁôªÂΩïÈâ¥ÊùÉÁöÑÂêÑ‰∏™‰∏öÂä°ÊúçÂä°ÔºåÁõ∏ÂΩì‰∫é‰∏äÊñá‰∏≠ÁöÑÁ≥ªÁªü A / B</li>\n</ul>\n<p>CAS ÁöÑÂÆûÁé∞ÈúÄË¶ÅÊèê‰æõ‰ª•‰∏ãÂõõ‰∏™Êé•Âè£Ôºö</p>\n<ul>\n<li><code>/login</code>ÔºöÁôªÂΩïÊé•Âè£ÔºåÁî®‰∫éÁôªÂΩïÂà∞‰∏≠Â§ÆÊéàÊùÉÊúçÂä°</li>\n<li><code>/logout</code>ÔºöÁôªÂá∫Êé•Âè£ÔºåÁî®‰∫é‰ªé‰∏≠Â§ÆÊéàÊùÉÊúçÂä°‰∏≠ÁôªÂá∫</li>\n<li><code>/validate</code>ÔºöÁî®‰∫éÈ™åËØÅÁî®Êà∑ÊòØÂê¶ÁôªÂΩï‰∏≠Â§ÆÊéàÊùÉÊúçÂä°</li>\n<li><code>/serviceValidate</code>ÔºöÁî®‰∫éËÆ©ÂêÑ‰∏™ Service È™åËØÅÁî®Êà∑ÊòØÂê¶ÁôªÂΩï‰∏≠Â§ÆÊéàÊùÉÊúçÂä°</li>\n</ul>\n<p>CAS Á•®ÊçÆÔºö</p>\n<ul>\n<li><strong>TGTÔºàTicket Grangting TicketÔºâ</strong>ÔºöTGT ÊòØ CAS ‰∏∫Áî®Êà∑Á≠æÂèëÁöÑ <code>ÁôªÂΩïÁ•®ÊçÆ</code>ÔºåÊã•Êúâ‰∫Ü TGTÔºåÁî®Êà∑Â∞±ÂèØ‰ª•ËØÅÊòéËá™Â∑±Âú® CAS ÊàêÂäüÁôªÂΩïËøá„ÄÇTGT Â∞ÅË£Ö‰∫Ü Cookie ÂÄº‰ª•ÂèäÊ≠§ Cookie ÂÄºÂØπÂ∫îÁöÑÁî®Êà∑‰ø°ÊÅØ„ÄÇÂΩì HTTP ËØ∑Ê±ÇÂà∞Êù•Êó∂ÔºåCAS ‰ª•Ê≠§ Cookie ÂÄºÔºàTGCÔºâ‰∏∫ <code>key</code> Êü•ËØ¢ÁºìÂ≠ò‰∏≠ÊòØÂê¶Êúâ TGTÔºåÂ¶ÇÊûúÊúâÔºåÂàôË°®Á§∫Áî®Êà∑Â∑≤ÁôªÂΩïËøá„ÄÇ</li>\n<li><strong>TGCÔºàTicket Granting CookieÔºâ</strong>ÔºöCAS Service ÁîüÊàê TGC ÊîæÂÖ•Ëá™Â∑±ÁöÑ Session ‰∏≠ÔºåËÄå TGC Â∞±ÊòØËøô‰∏™ Session ÁöÑÂîØ‰∏ÄÊ†áËØÜÔºàSessionIDÔºâÔºå‰ª• Cookie ÂΩ¢ÂºèÊîæÂà∞ÊµèËßàÂô®Á´ØÔºåÊòØ CAS Service Áî®Êù•ÊòéÁ°ÆÁî®Êà∑Ë∫´‰ªΩÁöÑÂá≠ËØÅ</li>\n<li><strong>STÔºàService TicketÔºâ</strong>ÔºöST ÊòØ CAS ‰∏∫Áî®Êà∑Á≠æÂèëÁöÑËÆøÈóÆÊüê‰∏™ Service ÁöÑÁ•®ÊçÆ„ÄÇÁî®Êà∑ËÆøÈóÆ Service Êó∂ÔºåService ÂèëÁé∞Áî®Êà∑Ê≤°Êúâ STÔºåÂàôË¶ÅÊ±ÇÁî®Êà∑Âéª CAS Ëé∑Âèñ ST„ÄÇÁî®Êà∑Âêë CAS ÂèëÂá∫ ST ÁöÑËØ∑Ê±ÇÔºåCAS ÂèëÁé∞Áî®Êà∑Êúâ TGTÔºåÂàôÁ≠æÂèë‰∏Ä‰∏™ STÔºåËøîÂõûÁªôÁî®Êà∑„ÄÇÁî®Êà∑ÊãøÁùÄ ST ÂéªËÆøÈóÆ ServiceÔºåService Êãø ST Âéª CAS È™åËØÅÔºåÈ™åËØÅÈÄöËøáÂêéÔºåÂÖÅËÆ∏Áî®Êà∑ËÆøÈóÆËµÑÊ∫ê„ÄÇ</li>\n</ul>\n<p>ËøôÈáåÂèØËÉΩÊ¶ÇÂøµÂ§™Â§ö‰ºöÈùûÂ∏∏ÈöæÁêÜËß£ÔºåÁÆÄÂçïËØ¥Êòé‰∏ãÔºåÂÆ¢Êà∑Á´ØÈúÄË¶ÅÂêÑËá™Áª¥Êä§‰∏é‰∏çÂêåÁ≥ªÁªüÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂåÖÊã¨‰∏é‰∏≠Â§ÆÊéàÊùÉÊúçÂä°ÁöÑÁôªÂΩïÁä∂ÊÄÅ„ÄÇÊâÄ‰ª•ÔºåÂÆûÈôÖ‰∏ä TGC Âíå TGT ÊòØÁª¥Êä§ÂÆ¢Êà∑Á´Ø‰∏é‰∏≠Â§ÆÊéàÊùÉÊúçÂä°ÁôªÂΩïÁä∂ÊÄÅÁöÑ‰ºöËØùË∫´‰ªΩÂá≠ËØÅÁöÑ <code>key-value</code> ÈîÆÂêçÂÄºÔºåËÄå ST Á•®ÊçÆÂàôÊòØËµÑÊ∫êÊúçÂä°Âêë‰∏≠Â§ÆÊéàÊùÉÊúçÂä°Ëé∑ÂèñÁî®Êà∑ÁôªÂΩïÁä∂ÊÄÅ„ÄÅ‰ø°ÊÅØÁöÑ‰∫§Êç¢Âá≠ËØÅÔºåÂè™‰∏çËøáËµÑÊ∫êÊúçÂä°ÈúÄË¶ÅÁªèÁî®Êà∑ÁöÑ‚ÄúÊâã‚Äù‰∏äÊâçËÉΩËé∑ÂèñÂà∞ËØ•Á•®ÊçÆ„ÄÇ</p>\n<p>ËØ¶ÁªÜÊ≠•È™§Ôºö</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-cas-workflow.png\" alt=\"CAS È™åËØÅÊµÅÁ®ãÊó∂Â∫èÂõæ\"></p>\n<ol>\n<li>Áî®Êà∑ËÆøÈóÆÁ≥ªÁªü A ÁöÑÂèó‰øùÊä§ËµÑÊ∫êÔºàÂüüÂêçÊòØ <code>a.abc.com</code>ÔºâÔºåÁ≥ªÁªü A Ê£ÄÊµãÂá∫Áî®Êà∑Â§Ñ‰∫é <code>Êú™ÁôªÂΩï</code> Áä∂ÊÄÅÔºåÈáçÂÆöÂêëÔºàÂ∫îÁ≠îÁ†Å 302ÔºâËá≥ SSO ÊúçÂä°ËÆ§ËØÅ‰∏≠ÂøÉÁöÑÁôªÂΩïÊé•Âè£ÔºåÂêåÊó∂Âú∞ÂùÄÂèÇÊï∞Êê∫Â∏¶ÁôªÂΩïÊàêÂäüÂêéÂõûË∑≥Âà∞Á≥ªÁªü A ÁöÑÈ°µÈù¢ÈìæÊé•ÔºàË∑≥ËΩ¨ÁöÑÈìæÊé•ÂΩ¢Â¶Ç <code>sso.abc.com/login?service=https%3A%2F%2Fwww.a.abc.com</code>Ôºâ</li>\n<li>Áî±‰∫éËØ∑Ê±ÇÊ≤°ÊúâÊê∫Â∏¶ SSO ÊúçÂä°Âô®‰∏äÁôªÂΩïÁöÑÁ•®ÊçÆÂá≠ËØÅÔºàTGCÔºâÔºåÊâÄ‰ª• SSO ËÆ§ËØÅ‰∏≠ÂøÉÂà§ÂÆöÁî®Êà∑Â§Ñ‰∫é <code>Êú™ÁôªÂΩï</code> Áä∂ÊÄÅÔºåÈáçÂÆöÂêëÁî®Êà∑È°µÈù¢Ëá≥ SSO ÁöÑÁôªÂΩïÁïåÈù¢ÔºåÁî®Êà∑Âú® SSO ÁöÑÁôªÂΩïÈ°µÈù¢‰∏äËøõË°åÁôªÂΩïÊìç‰Ωú„ÄÇ</li>\n<li>SSO ËÆ§ËØÅ‰∏≠ÂøÉÊ†°È™åÁî®Êà∑Ë∫´‰ªΩÔºåÂàõÂª∫Áî®Êà∑‰∏é SSO ËÆ§ËØÅ‰∏≠ÂøÉ‰πãÈó¥ÁöÑ‰ºöËØùÔºåÁß∞‰∏∫ <code>ÂÖ®Â±Ä‰ºöËØù</code>ÔºåÂêåÊó∂ÂàõÂª∫ <code>ÊéàÊùÉ‰ª§Áâå</code>ÔºàSTÔºâÔºåSSO Â∏¶ÁùÄÊéàÊùÉ‰ª§ÁâåË∑≥ËΩ¨ÂõûÊúÄÂàùÁöÑÁ≥ªÁªü A ÁöÑËØ∑Ê±ÇÂú∞ÂùÄÔºö</li>\n</ol>\n<ul>\n<li>ÈáçÂÆöÂêëÂú∞ÂùÄ‰∏∫‰πãÂâçÂÜôÂú® <code>query</code> ‰∏≠ÁöÑÁ≥ªÁªü A ÁöÑÈ°µÈù¢Âú∞ÂùÄ</li>\n<li>ÈáçÂÆöÂêëÂú∞ÂùÄÁöÑ <code>query</code> ‰∏≠ÂåÖÂê´ SSO ÊúçÂä°Âô®Ê¥æÂèëÁöÑ ST</li>\n<li>ÈáçÂÆöÂêëÁöÑ HTTP ÂìçÂ∫î‰∏≠ÂåÖÂê´ÂÜô Cookie ÁöÑ Header„ÄÇËøô‰∏™ Cookie ‰ª£Ë°®Áî®Êà∑Âú® SSO ‰∏≠ÁöÑÁôªÂΩïÁä∂ÊÄÅÔºåÂÆÉÁöÑÂÄºÂ∞±ÊòØ TGC</li>\n</ul>\n<ol start=\"5\">\n<li>ÊµèËßàÂô®ÈáçÂÆöÂêëËá≥Á≥ªÁªü A ÊúçÂä°Âú∞ÂùÄÔºåÊ≠§Êó∂ÈáçÂÆöÂêëÁöÑ URL ‰∏≠Êê∫Â∏¶ÁùÄ SSO ÊúçÂä°Âô®ÁîüÊàêÁöÑ ST</li>\n<li>Á≥ªÁªü A ÊãøÁùÄ ST Âêë SSO ÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÔºåSSO ÊúçÂä°Âô®È™åËØÅÁ•®ÊçÆÁöÑÊúâÊïàÊÄß„ÄÇÈ™åËØÅÊàêÂäüÂêéÔºåÁ≥ªÁªü A Áü•ÈÅìÁî®Êà∑Â∑≤ÁªèÂú® SSO ÁôªÂΩï‰∫ÜÔºå‰∫éÊòØÁ≥ªÁªü A ÊúçÂä°Âô®‰ΩøÁî®ËØ•‰ª§ÁâåÂàõÂª∫‰∏éÁî®Êà∑ÁöÑ‰ºöËØùÔºåÁß∞‰∏∫ <code>Â±ÄÈÉ®‰ºöËØù</code>ÔºåËøîÂõûÂèó‰øùÊä§ÁΩëÈ°µËµÑÊ∫ê</li>\n<li>‰πãÂêéÁî®Êà∑ËÆøÈóÆÁ≥ªÁªü B Âèó‰øùÊä§ËµÑÊ∫êÔºàÂüüÂêç <code>b.abc.com</code>ÔºâÔºåÁ≥ªÁªü B Ê£ÄÊµãÂá∫Áî®Êà∑Â§Ñ‰∫é <code>Êú™ÁôªÂΩï</code> Áä∂ÊÄÅÔºåË∑≥ËΩ¨Ëá≥ SSO ÊúçÂä°ËÆ§ËØÅ‰∏≠ÂøÉÔºåÂêåÊó∂Âú∞ÂùÄÂèÇÊï∞Êê∫Â∏¶ÊéàÊùÉ‰ª§Áâå STÔºàÊØèÊ¨°ÁîüÊàêÁöÑ ST ÈÉΩÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºâÁôªÂΩïÊàêÂäüÂêéÂõûË∑≥ÁöÑÈìæÊé•</li>\n<li>SSO ËÆ§ËØÅ‰∏≠ÂøÉÂèëÁé∞Áî®Êà∑Â∑≤ÁôªÂΩïÔºåË∑≥ËΩ¨ÂõûÁ≥ªÁªü B ÁöÑÂú∞ÂùÄÔºåÂπ∂ÈôÑ‰∏ä‰ª§Áâå</li>\n<li>Á≥ªÁªü B ÊãøÂà∞‰ª§ÁâåÔºåÂéª SSO ËÆ§ËØÅ‰∏≠ÂøÉÊ†°È™å‰ª§ÁâåÊòØÂê¶ÊúâÊïàÔºåSSO ËÆ§ËØÅ‰∏≠ÂøÉÊ†°È™å‰ª§ÁâåÔºåËøîÂõûÊúâÊïàÔºåÊ≥®ÂÜåÁ≥ªÁªü B</li>\n<li>Á≥ªÁªü B ‰ΩøÁî®ËØ•‰ª§ÁâåÂàõÂª∫‰∏éÁî®Êà∑ÁöÑÂ±ÄÈÉ®‰ºöËØùÔºåËøîÂõûÂèó‰øùÊä§ËµÑÊ∫ê</li>\n</ol>\n<p>Ëá≥Ê≠§Êï¥‰∏™ÁôªÂΩïÊµÅÁ®ãÁªìÊùüÔºåËÄåÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÂü∫Êú¨‰∏äÈÉΩ‰ºöÊ†πÊçÆ CAS Â¢ûÂä†Êõ¥Â§öÁöÑÂà§Êñ≠ÈÄªËæëÔºåÊØîÂ¶ÇÔºåÂú®Êî∂Âà∞ CAS Server Á≠æÂèëÁöÑ ST ÂêéÔºåÂ¶ÇÊûú ST Ë¢´ Hacker Á™ÉÂèñÔºåÂπ∂‰∏î Client Êú¨Ë∫´Ê≤°Êù•ÂæóÂèäÂéªÈ™åËØÅ STÔºåË¢´ Hacker Êä¢ÂÖà‰∏ÄÊ≠•È™åËØÅ STÔºåÊÄé‰πàËß£ÂÜ≥„ÄÇÊ≠§Êó∂Â∞±ÂèØ‰ª•Âú®Áî≥ËØ∑ ST Êó∂Ê∑ªÂä†È¢ùÂ§ñÈ™åËØÅÂõ†Â≠êÔºàÂ¶Ç IP„ÄÅSessionID Á≠âÔºâ„ÄÇ</p>\n<h3 id=\"LDAP-ËÆ§ËØÅÁôªÂΩï\"><a href=\"#LDAP-ËÆ§ËØÅÁôªÂΩï\" class=\"headerlink\" title=\"LDAP ËÆ§ËØÅÁôªÂΩï\"></a>LDAP ËÆ§ËØÅÁôªÂΩï</h3><p>LDAP ÁöÑÂÖ®Áß∞ÊòØ Lightweight Directory Access ProtocolÔºåÂç≥<strong>ËΩªÈáèÁõÆÂΩïËÆøÈóÆÂçèËÆÆ</strong>ÔºåÊòØ‰∏Ä‰∏™ÂºÄÊîæ„ÄÅÂπøÊ≥õË¢´‰ΩøÁî®ÁöÑÂ∑•‰∏öÊ†áÂáÜÔºàIEFT„ÄÅRFCÔºâ„ÄÇ‰ºÅ‰∏öÁ∫ßËΩØ‰ª∂‰πüÈÄöÂ∏∏ÂÖ∑Â§á *<em>ÊîØÊåÅ LDAP</em>- ÁöÑÂäüËÉΩÔºåÊØîÂ¶Ç Jira„ÄÅConfluence„ÄÅOpenVPN Á≠âÔºå‰ºÅ‰∏ö‰πüÁªèÂ∏∏ÈááÁî® LDAP ÊúçÂä°Âô®Êù•‰Ωú‰∏∫‰ºÅ‰∏öÁöÑËÆ§ËØÅÊ∫êÂíåÊï∞ÊçÆÊ∫ê„ÄÇ‰ΩÜÊòØÂ§ßÂÆ∂ÊØîËæÉÂ∏∏ËßÅÁöÑËØØÂå∫ÊòØÔºåÂèØ‰ª•‰ΩøÁî® LDAP Êù•ÂÆûÁé∞ SSO„ÄÇÊàë‰ª¨ÂèØ‰ª•ÂÖàÂàÜÊûê‰ª•‰∏ãÂÆÉÁöÑ‰∏ªË¶ÅÂäüËÉΩÁÇπÊàñÂú∫ÊôØ„ÄÇ</p>\n<ul>\n<li>‰Ωú‰∏∫Êï∞ÊçÆÊ∫êÂÆÉÂèØ‰ª•Áî®‰∫éÂ≠òÂÇ®<ul>\n<li>‰ºÅ‰∏öÁöÑÁªÑÁªáÊû∂ÊûÑÊ†ë</li>\n<li>‰ºÅ‰∏öÂëòÂ∑•‰ø°ÊÅØ</li>\n<li>ËØÅ‰π¶‰ø°ÊÅØ</li>\n<li>‰ºöËÆÆÂÆ§ÔºåÊâìÂç∞Êú∫Á≠âÁ≠âËµÑÊ∫ê</li>\n</ul>\n</li>\n<li>‰Ωú‰∏∫ËÆ§ËØÅÊ∫êÔºåÂÆÉ‰πüÊúâÂ§öÁßçÁî®ÈÄî<ul>\n<li>Â≠òÂÇ®Áî®Êà∑ÁöÑÂØÜÁ†Å</li>\n<li>ÂØπÂ§ñÊèê‰æõ LDAP ÂçèËÆÆÁöÑËÆ§ËØÅÊñπÂºèÔºàÈÄöËøá LDAP BIND ÂçèËÆÆÊù•Ê†°È™åÁî®Êà∑ÂêçÂíåÂØÜÁ†ÅÔºâ</li>\n<li>ÂØÜÁ†ÅÁ≠ñÁï•ÔºàÂØÜÁ†ÅÂ§çÊùÇÂ∫¶ÔºåÂéÜÂè≤ÂØÜÁ†ÅËÆ∞ÂΩïÔºåÁî®Êà∑ÈîÅÂÆöÁ≠âÁ≠âÔºâ</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"‰ø°‰ªªÁôªÂΩï\"><a href=\"#‰ø°‰ªªÁôªÂΩï\" class=\"headerlink\" title=\"‰ø°‰ªªÁôªÂΩï\"></a>‰ø°‰ªªÁôªÂΩï</h2><p>‰ø°‰ªªÁôªÂΩïÊòØÊåáÊâÄÊúâ‰∏çÈúÄË¶ÅÁî®Êà∑‰∏ªÂä®ÂèÇ‰∏éÁöÑÁôªÂΩïÔºå‰æãÂ¶ÇÂª∫Á´ãÂú®ÁßÅÊúâËÆæÂ§á‰∏éÁî®Êà∑‰πãÈó¥ÁöÑÁªëÂÆöÂÖ≥Á≥ªÔºåÂá≠ËØÅÂ∞±ÊòØÁßÅÊúâËÆæÂ§áÁöÑ‰ø°ÊÅØÔºåÊ≠§Êó∂‰∏çÈúÄË¶ÅÁî®Êà∑ÂÜçÊèê‰æõÈ¢ùÂ§ñÁöÑÂá≠ËØÅ„ÄÇ‰ø°‰ªªÁôªÂΩïÂèàÊåáÁî®Á¨¨‰∏âÊñπÊØîËæÉÊàêÁÜüÁöÑÁî®Êà∑Â∫ìÊù•Ê†°È™åÂá≠ËØÅÔºåÂπ∂ÁôªÂΩïÂΩìÂâçËÆøÈóÆÁöÑÁΩëÁ´ô„ÄÇ</p>\n<ol>\n<li>ÁôªÂΩïÊúçÂä° *<em>‰ø°‰ªª‰∏öÂä°Á≥ªÁªü</em>- ÁöÑÂá≠ËØÅÊ†°È™åÁªìÊûú</li>\n<li>ÁôªÂΩïÊúçÂä° *<em>‰ø°‰ªªÁ¨¨‰∏âÊñπÁôªÂΩïÁ≥ªÁªü</em>- ÁöÑÂá≠ËØÅÊ†°È™åÁªìÊûúÔºåÂâçÊèêÊòØÂøÖÈ°ªÂèàÊú¨Á´ôÁÇπÁöÑË¥¶Âè∑‰ΩìÁ≥ª‰∏ãÁöÑË¥¶Âè∑‰∏éÁ¨¨‰∏âÊñπË¥¶Âè∑ÁöÑ‰∏ÄÂØπ‰∏ÄÁªëÂÆöÂÖ≥Á≥ªÔºåÁé∞Âú®ÊµÅË°åÁöÑÊéàÊùÉÊñπÂºè‰πüÂ±û‰∫éËøô‰∏™Ê®°Âºè„ÄÇ</li>\n</ol>\n<p>ÁõÆÂâçÊØîËæÉÂ∏∏ËßÅÁöÑÁ¨¨‰∏âÊñπ‰ø°‰ªªÁôªÂΩïÂ∏êÂè∑Â¶ÇÔºöQQ Âè∑Ê∑òÂÆùÂ∏êÂè∑„ÄÅÊîØ‰ªòÂÆùÂ∏êÂè∑„ÄÅÂæÆÂçöÂ∏êÂè∑Á≠â„ÄÇ</p>\n<p>‰ø°‰ªªÁôªÂΩïÁöÑÂ•ΩÂ§ÑÊòØÂèØ‰ª•Âà©Áî®Á¨¨‰∏âÊñπÂ∫ûÂ§ßÁöÑÁî®Êà∑Áæ§Êù•Êé®Âπø„ÄÅËê•ÈîÄÁΩëÁ´ôÔºåÂêåÊó∂ÂáèÂ∞ëÁî®Êà∑ÁöÑÊ≥®ÂÜå„ÄÅÁôªÂΩïÊó∂Èó¥„ÄÇ</p>\n<p>ÊèêÂà∞‰ø°‰ªªÁôªÂΩïÔºåÊàë‰ª¨Â∞±‰∏çÂæó‰∏çÊèêÂà∞ OAuthÔºåÊ≠£ÊòØÊúâ‰∫Ü OAuthÔºåÊàë‰ª¨ÁöÑ‰ø°‰ªªÁôªÂΩïÊâçÂæó‰ª•ÂÆûÁé∞„ÄÇ‰∏ãÈù¢Êàë‰ª¨Â∞±Êù•Áúã‰∏ãÂÖ≥‰∫é OAuth ÁöÑ‰∏Ä‰∫õ‰ªãÁªç„ÄÇ</p>\n<h2 id=\"OAuth2-ÂºÄÂèëÊéàÊùÉ\"><a href=\"#OAuth2-ÂºÄÂèëÊéàÊùÉ\" class=\"headerlink\" title=\"OAuth2 ÂºÄÂèëÊéàÊùÉ\"></a>OAuth2 ÂºÄÂèëÊéàÊùÉ</h2><p>OAuthÔºàÂºÄÊîæÊéàÊùÉÔºâÊòØ‰∏Ä‰∏™ÂºÄÂèëÊ†áÂáÜÔºåÂÖÅËÆ∏Áî®Êà∑ÊéàÊùÉ <code>Á¨¨‰∏âÊñπÁΩëÁ´ô</code> ËÆøÈóÆ‰ªñ‰ª¨Â≠òÂÇ®Âú®Âè¶Â§ñÁöÑÊúçÂä°Êèê‰æõÂïÜ‰∏≠ÁöÑ‰ø°ÊÅØÔºåËÄå‰∏çÈúÄË¶ÅÊé•Ëß¶Âà∞Áî®Êà∑ÂêçÂíåÂØÜÁ†Å„ÄÇ‰∏∫‰∫Ü‰øùÊä§Êï∞ÊçÆÁöÑÂÆâÂÖ®ÂíåÈöêÁßÅÔºåÁ¨¨‰∏âÊñπÁΩëÁ´ôËÆøÈóÆÁî®Êà∑Êï∞ÊçÆÂâçÈÉΩÈúÄË¶Å <code>ÊòæÂºèÂú∞ÂêëÁî®Êà∑ÂæÅÊ±ÇÊéàÊùÉ</code>„ÄÇÊàë‰ª¨Â∏∏ËßÅÁöÑ OAuth ËÆ§ËØÅÊúçÂä°ÁöÑÂéÇÂïÜÊúâÂæÆ‰ø°„ÄÅQQ„ÄÅÊîØ‰ªòÂÆùÁ≠â„ÄÇ</p>\n<p>OAuth ÂçèËÆÆÂèàÊúâ 1.0 Âíå 2.0 ‰∏§‰∏™ÁâàÊú¨Ôºå2.0 ÁâàÊï¥‰∏™ÊéàÊùÉÈ™åËØÅÊµÅÁ®ãÊõ¥ÁÆÄÂçïÊõ¥ÂÆâÂÖ®Ôºå‰πüÊòØÁõÆÂâçÊúÄ‰∏ªË¶ÅÁöÑÁî®Êà∑Ë∫´‰ªΩÈ™åËØÅÂíåÊéàÊùÉÊñπÂºè„ÄÇ</p>\n<p>Â∫îÁî®Âú∫ÊôØÊúâÔºöÁ¨¨‰∏âÊñπÂ∫îÁî®ÁöÑÊé•ÂÖ•„ÄÅÂæÆÊúçÂä°Èâ¥ÊùÉ‰∫í‰ø°„ÄÅÊé•ÂÖ•Á¨¨‰∏âÊñπÂπ≥Âè∞„ÄÅÁ¨¨‰∏ÄÊñπÂØÜÁ†ÅÁôªÂΩïÁ≠â„ÄÇ</p>\n<p>ÊéàÊùÉÊ®°ÂºèÔºö</p>\n<ul>\n<li>ÊéàÊùÉÁ†ÅÊ®°ÂºèÔºàAuthorization Code GrantÔºâ</li>\n<li>ÈöêÂºèÊéàÊùÉÊ®°ÂºèÔºàImplicit GrantÔºâ</li>\n<li>ÂØÜÁ†ÅÊ®°ÂºèÔºàResource Owner Password Credentials GrantÔºâ</li>\n<li>ÂÆ¢Êà∑Á´ØÊ®°ÂºèÔºàClient Credentials GrantÔºâ</li>\n</ul>\n<p>Êó†ËÆ∫Âì™ÁßçÊéàÊùÉÊ®°ÂºèÔºåÈÉΩÂøÖÈ°ªÊã•ÊúâÂõõÁßçÂøÖË¶ÅÁöÑËßíËâ≤ÂèÇ‰∏éÔºö<code>ÂÆ¢Êà∑Á´Ø</code>„ÄÅ<code>ÊéàÊùÉÊúçÂä°Âô®</code>„ÄÅ<code>ËµÑÊ∫êÊúçÂä°Âô®</code>ÔºåÊúâÁöÑËøòÊúâ <code>Áî®Êà∑ÔºàËµÑÊ∫êÊã•ÊúâËÄÖÔºâ</code>„ÄÇÊàë‰ª¨‰ª•ÂæÆ‰ø°ÂºÄÂèëÂπ≥Âè∞ÁöÑÊéàÊùÉÁôªÂΩï‰∏∫‰æãËß£ÈáäËøôÂõõÁßçËßíËâ≤Ôºö</p>\n<ul>\n<li>ËµÑÊ∫êÊã•ÊúâËÄÖÔºàResource OwnerÔºâÔºöËøôÈáåÊåáÂæÆ‰ø°Áî®Êà∑</li>\n<li>Á¨¨‰∏âÊñπÂ∫îÁî®ÔºàThird-party ApplicationÔºâÔºöÊåáÂÜÖÂµåÂú®ÂæÆ‰ø°Â∫îÁî®ÂÜÖÁöÑÁ¨¨‰∏âÊñπÂ∫îÁî®ÔºåÂΩ¢Âºè‰∏çÈôê‰∫é Web App„ÄÅÂÖ¨‰ºóÂè∑ Web ÁΩëÈ°µ„ÄÅÂ∞èÁ®ãÂ∫èÁ≠âÁ≠â</li>\n<li>ÊéàÊùÉÊúçÂä°Âô®ÔºàAuthorization ServerÔºâÔºöËøôÈáåÊåáÂæÆ‰ø°ÂºÄÂèëÂπ≥Âè∞ÁöÑÊéàÊùÉÊúçÂä°</li>\n<li>ËµÑÊ∫êÊúçÂä°Âô®ÔºàResource ServerÔºâÔºöÁî®‰∫éÂ≠òÂÇ®„ÄÅËé∑ÂèñÁî®Êà∑ËµÑÊ∫êÔºåËøôÈáåÊåáÁöÑÊòØÂæÆ‰ø°ÂºÄÊîæÂπ≥Âè∞ÁöÑÊúçÂä°Âô®</li>\n</ul>\n<h3 id=\"ÊéàÊùÉÁ†ÅÊ®°Âºè\"><a href=\"#ÊéàÊùÉÁ†ÅÊ®°Âºè\" class=\"headerlink\" title=\"ÊéàÊùÉÁ†ÅÊ®°Âºè\"></a>ÊéàÊùÉÁ†ÅÊ®°Âºè</h3><p>ÊéàÊùÉÁ†ÅÊ®°ÂºèÊòØ OAuth 2.0 ÁõÆÂâçÊúÄÂÆâÂÖ®ÊúÄÂ§çÊùÇÁöÑÊéàÊùÉÊµÅÁ®ã„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-authorization-code-grant.jpg\" alt=\"ÊéàÊùÉÁ†ÅÊ®°Âºè\"></p>\n<p>ÊéàÊùÉÁ†ÅÊ®°ÂºèÁöÑÊéàÊùÉÊµÅÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜÔºö</p>\n<ol>\n<li>Client SideÔºöÁî®Êà∑+ÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´ØÁöÑ‰∫§‰∫í</li>\n<li>Server SideÔºöÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í</li>\n<li>Check Access Token‚ÄôÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í + ËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í</li>\n</ol>\n<p>Êï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÂÆ¢Êà∑Á´ØÊç¢ÂèñÊéàÊùÉÁ†ÅÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÊéàÊùÉÁ†ÅÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</p>\n<blockquote>\n<p>ÂâçÊèêÊù°‰ª∂Ôºö</p>\n<ul>\n<li>Á¨¨‰∏âÊñπÂÆ¢Êà∑Á´ØÈúÄË¶ÅÊèêÂâç‰∏éËµÑÊ∫êÊã•ÊúâÊñπÔºàÂêåÊó∂‰πüÊòØÊéàÊùÉÊâÄÊúâÊñπÔºâÂçèÂïÜÂÆ¢Êà∑Á´Ø IDÔºàclient_idÔºâ‰ª•ÂèäÂÆ¢Êà∑Á´ØÂØÜÈí•Ôºàclient_secretÔºâ</li>\n<li>‰∏äËø∞ÊµÅÁ®ãÊöÇÊú™Â∞Ü <code>scope</code>„ÄÅ<code>state</code> Á≠â‰æùËµñÂÖ∑‰ΩìÊ°ÜÊû∂ÁöÑÂÜÖÂÆπÂÜôËøõÊù•ÔºåËøôÈáåÂèØ‰ª•ÂèÇËÄÉ Spring Security OAuth2 ÁöÑÂÆûÁé∞</li>\n</ul>\n</blockquote>\n<p><strong>Client Server ÂÆ¢Êà∑Á´ØÊç¢ÂèñÊéàÊùÉÁ†Å</strong></p>\n<p>Ëøô‰∏™ÂÆ¢Êà∑Á´ØÂèØ‰ª•ÊòØÊµèËßàÂô®</p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÂ∞Ü <code>client_id + client_secret + ÊéàÊùÉÊ®°ÂºèÊ†áËØÜÔºàgrant_typeÔºâ+ ÂõûË∞ÉÂú∞ÂùÄÔºàredirect_uriÔºâ</code> ÊãºÊé•Êàê URL ËÆøÈóÆÊéàÊùÉÊúçÂä°Âô®</li>\n<li>ÊéàÊùÉÊúçÂä°Á´ØËøîÂõûÁôªÂΩïÁïåÈù¢ÔºåË¶ÅÊ±Ç <code>Áî®Êà∑ÁôªÂΩï</code>ÔºàÊ≠§Êó∂Áî®Êà∑Êèê‰∫§ÁöÑË¥¶Âè∑ÂØÜÁ†ÅÁ≠âÁõ¥Êé•ÂèëÈÄÅÂà∞ÊéàÊùÉÊúçÂä°Á´ØÔºåËøõË°åÊ†°È™åÔºâ</li>\n<li>ÊéàÊùÉÊúçÂä°Á´ØËøîÂõûÊéàÊùÉÂÆ°ÊâπÁïåÈù¢Ôºå<code>Áî®Êà∑ÊéàÊùÉ</code> ÂÆåÊàê</li>\n<li>ÊéàÊùÉÊúçÂä°Á´Ø <code>ËøîÂõûÊéàÊùÉÁ†ÅÂà∞ÂõûË∞ÉÂú∞ÂùÄ</code></li>\n</ol>\n<p><strong>Server Side ÂÆ¢Êà∑Á´Ø‰ΩøÁî®ÊéàÊùÉÁ†ÅÊç¢Âèñ Token</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÊé•Êî∂Âà∞ÊéàÊùÉÁ†ÅÔºåÂπ∂‰ΩøÁî® <code>ÊéàÊùÉÁ†Å + client_id + client_secret</code> ËÆøÈóÆÊéàÊùÉÊúçÂä°Á´ØÈ¢ÅÂèë Token ‰ª§Áâå</li>\n<li>ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™åÈÄöËøáÔºåÈ¢ÅÂèë Token ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø</li>\n<li>ÂÆ¢Êà∑Á´Ø‰øùÂ≠ò Token Âà∞Â≠òÂÇ®Âô®</li>\n</ol>\n<p><strong>Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥Â∏¶‰∏ä TokenÔºåËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê</li>\n</ol>\n<p>ÁßªÂä®Â∫îÁî®ÂæÆ‰ø°ÁôªÂΩïÊòØÂü∫‰∫é OAuth2.0 ÂçèËÆÆÊ†áÂáÜÊûÑÂª∫ÁöÑÂæÆ‰ø° OAuth2.0 ÊéàÊùÉÁôªÂΩïÁ≥ªÁªüÔºåÂú®ÂæÆ‰ø°ÂºÄÊîæÂπ≥Âè∞Ê≥®ÂÜåÂºÄÂèëËÄÖË¥¶Âè∑ÔºåÂπ∂Êã•ÊúâÂ∑≤ÂÆ°Ê†∏ÈÄöËøáÁöÑÁßªÂä®Â∫îÁî®ÔºåÂπ∂Ëé∑ÂæóÁõ∏Â∫îÁöÑ AppID Âíå AppSecretÔºåÁî≥ËØ∑ÂæÆ‰ø°ÁôªÂΩï‰∏îÈÄöËøáÂÆ°Ê†∏ÂêéÔºåÂèØÂºÄÂßãÊé•ÂÖ•ÊµÅÁ®ã„ÄÇ</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1. Á¨¨‰∏âÊñπÂèëËµ∑ÂæÆ‰ø°ÊéàÊùÉÁôªÂΩïËØ∑Ê±ÇÔºåÂæÆ‰ø°Áî®Êà∑ÂÖÅËÆ∏ÊéàÊùÉÁ¨¨‰∏âÊñπÂ∫îÁî®ÂêéÔºåÂæÆ‰ø°‰ºöÊãâËµ∑Â∫îÁî®ÊàñÈáçÂÆöÂêëÂà∞Á¨¨‰∏âÊñπÁΩëÁ´ôÔºåÂπ∂‰∏îÂ∏¶‰∏äÊéàÊùÉ‰∏¥Êó∂Á•®ÊçÆ code ÂèÇÊï∞</span><br><span class=\"line\">2. ÈÄöËøá code ÂèÇÊï∞Âä†‰∏ä AppId Âíå AppSecret Á≠âÔºåÈÄöËøá API Êç¢Âèñ access_token</span><br><span class=\"line\">3. ÈÄöËøá access_token ËøõË°åÊé•Âè£Ë∞ÉÁî®ÔºåËé∑ÂèñÁî®Êà∑Âü∫Êú¨Êï∞ÊçÆËµÑÊ∫êÊàñÂ∏ÆÂä©Áî®Êà∑ÂÆûÁé∞Âü∫Êú¨Êìç‰Ωú</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://img.mrsingsing.com/authentication-wx-oauth2-access-token.png\" alt=\"ÂæÆ‰ø° OAuth2.0 Ëé∑Âèñ access_token Êó∂Â∫èÂõæ\"></p>\n<p>ËØ¶ÊÉÖÂèØ‰ª•ÂèÇÈòÖ <a href=\"https://developers.weixin.qq.com/doc/oplatform/Mobile_App/WeChat_Login/Development_Guide.html\" target=\"_blank\" rel=\"noopener\">ÂæÆ‰ø°ÁôªÂΩïÂäüËÉΩ - ÁßªÂä®Â∫îÁî®ÂæÆ‰ø°ÁôªÂΩïÂºÄÂèëÊåáÂçó</a>ÔºåËøôÈáåÁöÑÂÆûÁé∞Â∞±ÊòØÊéàÊùÉÁ†ÅÊ®°Âºè„ÄÇ</p>\n<h3 id=\"ÈöêÂºèÊéàÊùÉÊ®°Âºè\"><a href=\"#ÈöêÂºèÊéàÊùÉÊ®°Âºè\" class=\"headerlink\" title=\"ÈöêÂºèÊéàÊùÉÊ®°Âºè\"></a>ÈöêÂºèÊéàÊùÉÊ®°Âºè</h3><p><img src=\"https://img.mrsingsing.com/authentication-implicit-grant.jpg\" alt=\"ÈöêÂºèÊéàÊùÉÊ®°ÂºèÊµÅÁ®ãÂõæ\"></p>\n<p>ÈöêÂºèÊéàÊùÉÊ®°ÂºèÂ§ßËá¥ÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö</p>\n<ol>\n<li>Client SideÔºöÁî®Êà∑+ÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´ØÁöÑ‰∫§‰∫í</li>\n<li>Check Access TokenÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í + ËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í</li>\n</ol>\n<p>Êï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÂÆ¢Êà∑Á´ØËÆ©Áî®Êà∑ÁôªÂΩïÊéàÊùÉÊúçÂä°Á´ØÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</p>\n<p><strong>Client Side ÂÆ¢Êà∑Á´ØËÆ©Áî®Êà∑ÁôªÂΩïÊéàÊùÉÊúçÂä°Á´ØÊç¢ Token</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÔºàÊµèËßàÂô®ÊàñÂçïÈ°µÂ∫îÁî®ÔºâÂ∞Ü <code>client_id + ÊéàÊùÉÊ®°ÂºèÊ†áËØÜÔºàgrant_typeÔºâ+ ÂõûË∞ÉÂú∞ÂùÄÔºàredirect_urlÔºâ</code> ÊãºÊàê URL ËÆøÈóÆÊéàÊùÉÊúçÂä°Á´Ø</li>\n<li>ÊéàÊùÉÊúçÂä°Á´ØË∑≥ËΩ¨Áî®Êà∑ÁôªÂΩïÁïåÈù¢ÔºåÁî®Êà∑ÁôªÂΩï</li>\n<li>Áî®Êà∑ÊéàÊùÉ</li>\n<li>ÊéàÊùÉÊúçÂä°Á´Ø <code>ËÆøÈóÆÂõûË∞ÉÂú∞ÂùÄ</code> ËøîÂõû Token ÁªôÂÆ¢Êà∑Á´Ø</li>\n</ol>\n<p><strong>Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥ÈôÑÂ∏¶ Token ËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê</li>\n</ol>\n<h3 id=\"ÂØÜÁ†ÅÊ®°Âºè\"><a href=\"#ÂØÜÁ†ÅÊ®°Âºè\" class=\"headerlink\" title=\"ÂØÜÁ†ÅÊ®°Âºè\"></a>ÂØÜÁ†ÅÊ®°Âºè</h3><p><img src=\"https://img.mrsingsing.com/authentication-resource-owner-password-credentials-grant.jpg\" alt=\"ÂØÜÁ†ÅÊ®°ÂºèÊµÅÁ®ãÂõæ\"></p>\n<p>ÂØÜÁ†ÅÊ®°ÂºèÁöÑÊéàÊùÉÊµÅÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö</p>\n<ol>\n<li>Client SideÔºöÁî®Êà∑‰∏éÂÆ¢Êà∑Á´ØÁöÑ‰∫§‰∫íÔºåÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´ØÁöÑ‰∫§‰∫í</li>\n<li>Check Access Token‚ÄôÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í + ËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í</li>\n</ol>\n<p>Êï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÁî®Êà∑Âú®ÂÆ¢Êà∑Á´ØÊèê‰∫§Ë¥¶Âè∑ÂØÜÁ†ÅÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</p>\n<p><strong>Client Server Áî®Êà∑Âú®ÂÆ¢Êà∑Á´ØÊèê‰∫§Ë¥¶Âè∑ÂØÜÁ†ÅÊç¢Âèñ Token</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØË¶ÅÊ±ÇÁî®Êà∑ÁôªÂΩï</li>\n<li>Áî®Êà∑ËæìÂÖ•ÂØÜÁ†ÅÔºåÂÆ¢Êà∑Á´ØÂ∞ÜË°®Âçï‰∏≠Ê∑ªÂä†ÂÆ¢Êà∑Á´ØÁöÑ <code>client_id + client_secret</code> ÂèëÈÄÅÁªôÊéàÊùÉÊúçÂä°Á´ØÈ¢ÅÂèë Token ‰ª§Áâå</li>\n<li>ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™åÁî®Êà∑Âêç„ÄÅÁî®Êà∑ÂØÜÁ†Å„ÄÅ<code>client_id</code> Âíå <code>client_secret</code>ÔºåÂùáÈÄöËøáÂêéËøîÂõû Token ÁªôÂÆ¢Êà∑Á´Ø</li>\n<li>ÂÆ¢Êà∑Á´Ø‰øùÂ≠ò Token</li>\n</ol>\n<p><strong>Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥Â∏¶‰∏ä TokenÔºåËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê</li>\n</ol>\n<h3 id=\"ÂÆ¢Êà∑Á´ØÊ®°Âºè\"><a href=\"#ÂÆ¢Êà∑Á´ØÊ®°Âºè\" class=\"headerlink\" title=\"ÂÆ¢Êà∑Á´ØÊ®°Âºè\"></a>ÂÆ¢Êà∑Á´ØÊ®°Âºè</h3><p><img src=\"https://img.mrsingsing.com/authentication-client-credentials-grant.jpg\" alt=\"ÂÆ¢Êà∑Á´ØÊ®°ÂºèÊµÅÁ®ãÂõæ\"></p>\n<p>ÂÆ¢Êà∑Á´ØÊ®°ÂºèÁöÑÊéàÊùÉÊµÅÁ®ãÂèØ‰ª•ÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºö</p>\n<ol>\n<li>Server SideÔºöÂÆ¢Êà∑Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í</li>\n<li>Check Access Token‚ÄôÔºöÂÆ¢Êà∑Á´Ø‰∏éËµÑÊ∫êÊúçÂä°Á´ØÔºåËµÑÊ∫êÊúçÂä°Á´Ø‰∏éÊéàÊùÉÊúçÂä°Á´Ø‰πãÈó¥ÁöÑ‰∫§‰∫í</li>\n</ol>\n<p>Êï¥‰∏™ÊµÅÁ®ãÂ∞±ÊòØÔºöÂÆ¢Êà∑Á´Ø‰ΩøÁî®Ëá™Â∑±ÁöÑÊ†áËØÜÊç¢Âèñ TokenÔºåÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</p>\n<p><strong>Client Server ÂÆ¢Êà∑Á´Ø‰ΩøÁî®Ëá™Â∑±ÁöÑÊ†áËØÜÊç¢Âèñ Token</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´Ø‰ΩøÁî® <code>client_id + client_secret + ÊéàÊùÉÊ®°ÂºèÊ†áËØÜ</code> ÂèëÈÄÅÁªôÊéàÊùÉÊúçÂä°Á´ØÈ¢ÅÂèë Token ‰ª§Áâå</li>\n<li>ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™åÈÄöËøáÂêéËøîÂõû Token ÁªôÂÆ¢Êà∑Á´Ø</li>\n<li>ÂÆ¢Êà∑Á´Ø‰øùÂ≠ò Token</li>\n</ol>\n<p><strong>Check Access Token ÂÆ¢Êà∑Á´Ø‰ΩøÁî® Token ËÆøÈóÆËµÑÊ∫ê</strong></p>\n<ol>\n<li>ÂÆ¢Êà∑Á´ØÂú®ËØ∑Ê±ÇÂ§¥Â∏¶‰∏ä TokenÔºåËÆøÈóÆËµÑÊ∫êÊúçÂä°Á´Ø</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂÖàË∞ÉÁî®Ê†°È™å Token ÁöÑÊñπÊ≥ïÔºàÂèØ‰ª•ÊòØËøúÁ®ãË∞ÉÁî®ÊéàÊùÉÊúçÂä°Á´ØÊ†°È™å TokenÔºå‰πüÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÊéàÊùÉÂ≠òÂÇ®Âô®ÊâãÂä®Ê†°È™åÔºâ</li>\n<li>ËµÑÊ∫êÊúçÂä°Á´ØÊ†°È™åÊàêÂäüÔºåËøîÂõûËµÑÊ∫ê</li>\n</ol>\n<h3 id=\"ÊéàÊùÉÊ®°ÂºèÈÄâÂûã\"><a href=\"#ÊéàÊùÉÊ®°ÂºèÈÄâÂûã\" class=\"headerlink\" title=\"ÊéàÊùÉÊ®°ÂºèÈÄâÂûã\"></a>ÊéàÊùÉÊ®°ÂºèÈÄâÂûã</h3><p>ËÄÉËôëÂà∞ÊéàÊùÉÂú∫ÊôØÁöÑÂ§öÊ†∑ÊÄßÔºåÂèØ‰ª•ÂèÇËÄÉ‰ª•‰∏ã‰∏§ÁßçÈÄâÂûãÊñπÂºèÔºö</p>\n<ul>\n<li>ÊåâÊéàÊùÉÈúÄË¶ÅÁöÑÂ§öÁ´ØÊÉÖÂÜµ</li>\n<li>ÊåâÂÆ¢Êà∑Á´ØÁ±ªÂûã‰∏éÊâÄÊúâËÄÖ</li>\n</ul>\n<p>ÊåâÊéàÊùÉÈúÄË¶ÅÁöÑÂ§öÁ´ØÊÉÖÂÜµÔºö</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:left\">Ê®°Âºè</th>\n<th style=\"text-align:left\">ÈúÄË¶ÅÂâçÁ´Ø</th>\n<th style=\"text-align:left\">ÈúÄË¶ÅÂêéÁ´Ø</th>\n<th style=\"text-align:left\">ÈúÄË¶ÅÁî®Êà∑ÂìçÂ∫î</th>\n<th style=\"text-align:left\">ÈúÄË¶ÅÂÆ¢Êà∑Á´ØÂØÜÈí•</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">ÊéàÊùÉÁ†ÅÊ®°Âºè Authorization Code</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úì</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ÈöêÂºèÊéàÊùÉÊ®°Âºè Implicit Grant</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úó</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úó</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ÂØÜÁ†ÅÊéàÊùÉÊ®°Âºè Password Grant</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úì</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ÂÆ¢Êà∑Á´ØÊéàÊùÉÊ®°Âºè Client Credentials</td>\n<td style=\"text-align:left\">‚úó</td>\n<td style=\"text-align:left\">‚úì</td>\n<td style=\"text-align:left\">‚úó</td>\n<td style=\"text-align:left\">‚úì</td>\n</tr>\n</tbody>\n</table>\n<p>ÊåâÁÖßÂÆ¢Êà∑Á´ØÁ±ªÂûã‰∏éËÆøÈóÆ‰ª§ÁâåÊâÄÊúâËÄÖÂàÜÁ±ªÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-oauth2-mode-selection.jpg\" alt=\"OAuth2.0 Ê®°ÂºèÈÄâÂûã\"></p>\n<h2 id=\"ËÅîÂêàÁôªÂΩï\"><a href=\"#ËÅîÂêàÁôªÂΩï\" class=\"headerlink\" title=\"ËÅîÂêàÁôªÂΩï\"></a>ËÅîÂêàÁôªÂΩï</h2><p>ËÅîÂêàÁôªÂΩïÊåáÂêåÊó∂ÂåÖÂê´Â§öÁßçÂá≠ËØÅÊ†°È™åÁöÑÁôªÂΩïÊúçÂä°ÔºåÂêåÊó∂Ôºå‰πüÂèØ‰ª•ÁêÜËß£‰∏∫‰ΩøÁî®Á¨¨‰∏âÊñπÂá≠ËØÅËøõË°åÊ†°È™åÁöÑÁôªÂΩïÊúçÂä°„ÄÇËøô‰∏™Ê¶ÇÂøµÊúâÁÇπÂÉè OAuth2.0 ÁöÑËÆ§ËØÅÊñπÂºè„ÄÇ</p>\n<p>ÊúÄÁªèÂÖ∏ÁöÑËé´Ëøá‰∫é APP ÂÜÖÂµå H5 ÁöÑ‰ΩøÁî®Âú∫ÊôØÔºåÂΩìÁî®Êà∑‰ªé APP ËøõÂÖ•ÂÜÖÂµåÁöÑ H5 Êó∂ÔºåÊàë‰ª¨Â∏åÊúõ APP ÂÜÖÂ∑≤ÁôªÂΩïÁöÑÁî®Êà∑ËÉΩÂ§üËÆøÈóÆÂà∞ H5 ÂÜÖÂèóÈôêÁöÑËµÑÊ∫êÔºåËÄåÊú™ÁôªÂΩïÁöÑÁî®Êà∑ÂàôÈúÄË¶ÅÁôªÂΩïÂêéËÆøÈóÆ„ÄÇ</p>\n<p>ËøôÈáåÊÄùË∑Ø‰∏ªË¶ÅÊúâ‰∏§ÁßçÔºå‰∏ÄÁßçÊòØÂéüÁîüË∑≥ËΩ¨ÂÜÖÂµå H5 È°µÈù¢Êó∂ÔºåÂ∞ÜÁôªÂΩïÊÄÅ Token ÈôÑÂä†Âú® URL ÂèÇÊï∞‰∏äÔºåÂè¶‰∏ÄÁßçÂàôÊòØÂÜÖÂµå H5 ‰∏ªÂä®ÈÄöËøá‰∏éÂéüÁîüÂÆ¢Êà∑Á´ØÂà∂ÂÆöÁöÑÂçèËÆÆËé∑ÂèñÂ∫îÁî®ÂÜÖÁöÑÁôªÂΩïÁä∂ÊÄÅ„ÄÇ</p>\n<h2 id=\"Êâ´Á†ÅÁôªÂΩï\"><a href=\"#Êâ´Á†ÅÁôªÂΩï\" class=\"headerlink\" title=\"Êâ´Á†ÅÁôªÂΩï\"></a>Êâ´Á†ÅÁôªÂΩï</h2><p>‰∫åÁª¥Á†Å‰πüÁß∞‰∏∫‰∫åÁª¥Êù°Á†ÅÔºåÊòØÊåáÂú®‰∏ÄÁª¥Êù°Á†ÅÁöÑÂü∫Á°Ä‰∏äÊâ©Â±ïÂá∫Âè¶‰∏ÄÁª¥ÂÖ∑ÊúâÂèØËØªÊÄßÁöÑÊù°Á†ÅÔºå‰ΩøÁî®ÈªëÁôΩÁü©ÂΩ¢ÂõæÊ°àË°®Á§∫‰∫åËøõÂà∂Êï∞ÊçÆÔºåË¢´ËÆæÂ§áÊâ´ÊèèÂêéÂèØËé∑ÂèñÂÖ∂‰∏≠ÊâÄÂåÖÂê´ÁöÑ‰ø°ÊÅØ„ÄÇ‰∏ÄÁª¥Êù°Á†ÅÁöÑÂÆΩÂ∫¶ËÆ∞ËΩΩÁùÄÊï∞ÊçÆÔºåËÄåÂÖ∂ÈïøÂ∫¶Ê≤°ÊúâËÆ∞ËΩΩÊï∞ÊçÆ„ÄÇ‰∫åÁª¥Á†ÅÁöÑÈïøÂ∫¶„ÄÅÂÆΩÂ∫¶ÂùáËÆ∞ËΩΩÁùÄÊï∞ÊçÆ„ÄÇ‰∫åÁª¥Á†ÅÊúâ‰∏ÄÁª¥Êù°Á†ÅÊ≤°ÊúâÁöÑ <strong>ÂÆö‰ΩçÁÇπ*- Âíå </strong>ÂÆπÈîôÊú∫Âà∂**„ÄÇÂÆπÈîôÊú∫Âà∂Âú®Âç≥‰ΩøÊ≤°ÊúâËØÜÂà´Âà∞ÂÖ®ÈÉ®ÁöÑÊù°Á†Å„ÄÅÊàñÊòØËØ¥Êù°Á†ÅÊúâÊ±°ÊçüÊó∂Ôºå‰πüÂèØ‰ª•Ê≠£Á°ÆÂú∞ËøòÂéüÊù°Á†Å‰∏äÁöÑ‰ø°ÊÅØ„ÄÇ</p>\n<p>Êâ´Á†ÅÁôªÂΩïÈÄöÂ∏∏ËßÅ‰∫éÁßªÂä®Á´Ø APP ‰∏≠ÔºåÂü∫Êú¨Êìç‰ΩúÊµÅÁ®ãÊòØËÆ©Â∑≤ÁôªÂΩïÁî®Êà∑‰∏ªÂä®Êâ´Êèè‰∫åÁª¥Á†ÅÔºå‰ª•‰Ωø PC Á´ØÁöÑÂêåÊ¨æÂ∫îÁî®Âæó‰ª•Âø´ÈÄüÁôªÂΩïÁöÑÊñπÂºèÔºåÂ∏∏ËßÅÁöÑÂÖ∑Â§áÊâ´Á†ÅÁôªÂΩïÁöÑÂ∫îÁî®ÊúâÂæÆ‰ø°„ÄÅÈíâÈíâ„ÄÅÊîØ‰ªòÂÆùÁ≠â„ÄÇ</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-scan-qrcode-login-workflow.jpg\" alt=\"Êâ´Á†ÅÁôªÂΩïÊµÅÁ®ãÂõæ\"></p>\n<p>Êâ´Á†ÅÁôªÂΩïÂèØ‰ª•ÂàÜ‰∏∫‰∏â‰∏™Èò∂ÊÆµÔºöÂæÖÊâ´Á†Å„ÄÅÂ∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§ÂíåÂ∑≤Á°ÆËÆ§„ÄÇ</p>\n<h3 id=\"ÂæÖÊâ´Á†ÅÈò∂ÊÆµ\"><a href=\"#ÂæÖÊâ´Á†ÅÈò∂ÊÆµ\" class=\"headerlink\" title=\"ÂæÖÊâ´Á†ÅÈò∂ÊÆµ\"></a>ÂæÖÊâ´Á†ÅÈò∂ÊÆµ</h3><p><strong>ÂæÖÊâ´Á†ÅÈò∂ÊÆµ</strong>Âç≥‰∏äËø∞ÊµÅÁ®ãÂõæ‰∏≠ 1~5 ÁöÑÈò∂ÊÆµÔºå‰∫¶Âç≥ÁîüÊàê‰∫åÁª¥Á†ÅÈò∂ÊÆµÔºåËøô‰∏™Èò∂ÊÆµ‰∏éÁßªÂä®Á´ØÊ≤°ÊúâÂÖ≥Á≥ªÔºå‰∏ªË¶ÅÊòØ PC Á´Ø‰∏éÊúçÂä°Á´ØËøõË°å‰∫§‰∫íÁöÑËøáÁ®ã„ÄÇ</p>\n<p>È¶ñÂÖà PC Á´ØÊê∫Â∏¶ËÆæÂ§á‰ø°ÊÅØÂêëÊúçÂä°Á´ØÂèëËµ∑‰∫ÜÁîüÊàê‰∫åÁª¥Á†ÅËØ∑Ê±ÇÔºåÊúçÂä°Á´ØÊé•Êî∂Âà∞ËØ∑Ê±ÇÂêéÁîüÊàê <code>UUID</code> ‰Ωú‰∏∫‰∫åÁª¥Á†Å IDÔºåÂπ∂Â∞Ü UUID ‰∏é <code>PC Á´ØÁöÑËÆæÂ§á‰ø°ÊÅØ</code> ÂÖ≥ËÅîËµ∑Êù•Â≠òÂÇ®Âú® Redis ÊúçÂä°Âô®‰∏≠ÔºåÁÑ∂ÂêéËøîÂõûÁªô PC Á´Ø„ÄÇ</p>\n<p>ÂΩì PC Á´ØÊî∂Âà∞‰∫åÁª¥Á†Å ID ‰πãÂêéÔºåÂ∞Ü‰∫åÁª¥Á†Å ID ‰ª• <code>‰∫åÁª¥Á†ÅÁöÑÂΩ¢Âºè</code> Â±ïÁ§∫ÔºåÁ≠âÂæÖÁßªÂä®Á´ØÊâ´Á†Å„ÄÇÊ≠§Êó∂ PC Á´ØÂºÄÂßãËΩÆËØ¢Êü•ËØ¢‰∫åÁª¥Á†ÅÁä∂ÊÄÅÔºåÁõ¥Âà∞ÁôªÂΩïÊàêÂäü„ÄÇÂΩìÁÑ∂Èô§‰∫Ü‰ΩøÁî®ËΩÆËØ¢Êü•ËØ¢Ôºå‰πüËÉΩ‰ΩøÁî® WebSocket ÂÆûÁé∞Êü•ËØ¢/Êé®ÈÄÅ‰∫åÁª¥Á†ÅÁä∂ÊÄÅÁöÑÈúÄÊ±Ç„ÄÇÂ¶ÇÊûúÁßªÂä®Á´ØÊú™Êâ´ÊèèÔºåÈÇ£‰πà‰∏ÄÊÆµÊó∂Èó¥Âêé‰∫åÁª¥Á†Å‰ºöËá™Âä®Â§±Êïà„ÄÇ</p>\n<h3 id=\"Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ\"><a href=\"#Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ\" class=\"headerlink\" title=\"Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ\"></a>Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ</h3><p><strong>Â∑≤Êâ´Á†ÅÂæÖÁ°ÆËÆ§Èò∂ÊÆµ</strong>‰∫¶Âç≥ÊµÅÁ®ãÂõæ‰∏≠ÁöÑ 6~10 ÁöÑÈò∂ÊÆµÔºåÂú® PC Á´ØÁôªÂΩïÂæÆ‰ø°Êó∂ÔºåÊâãÊú∫Êâ´Á†ÅÂêéÔºåPC Á´ØÁöÑ‰∫åÁª¥Á†Å‰ºöÊòæÁ§∫‰∏∫Â∑≤Êâ´Á†ÅÔºåÂπ∂ÊèêÁ§∫ÈúÄË¶ÅÂú®ÊâãÊú∫‰∏äÁ°ÆËÆ§ÔºåËøô‰∏™Èò∂ÊÆµÊòØÁßªÂä®Á´Ø‰∏éÊúçÂä°Á´Ø‰∫§‰∫íÁöÑËøáÁ®ã„ÄÇ</p>\n<p>ÁßªÂä®Á´ØÊâ´Êèè‰∫åÁª¥Á†ÅÂêéÔºå‰ºöËá™Âä®Ëé∑ÂèñÂà∞‰∫åÁª¥Á†Å IDÔºåÂπ∂Â∞ÜÁßªÂä®Á´ØÁôªÂΩïÁöÑ‰ø°ÊÅØÂá≠ËØÅÔºàTokenÔºâÂíå‰∫åÁª¥Á†Å ID ‰Ωú‰∏∫ÂèÇÊï∞ÂèëÈÄÅÁªôÊúçÂä°Á´ØÔºåÊ≠§Êó∂ÊâãÊú∫ÂøÖÈ°ªÊòØÂ∑≤ÁôªÂΩïÔºà‰ΩøÁî®Êâ´ÊèèÁôªÂΩïÁöÑÂâçÊèêÊòØÁßªÂä®Á´ØÁöÑÂ∫îÁî®‰∏∫Â∑≤ÁôªÂΩïÁä∂ÊÄÅÔºåËøôÊ†∑ÊâçÂèØ‰ª•ÂÖ±‰∫´ÁôªÂΩïÊÄÅÔºâ„ÄÇ</p>\n<p>ÊúçÂä°Á´ØÊé•ÂèóËØ∑Ê±ÇÂêéÔºå‰ºöÂ∞Ü <code>Token ‰∏é‰∫åÁª¥Á†Å ID</code> ÂÖ≥ËÅîÔºå‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂÖ≥ËÅîÂë¢ÔºüÂõ†‰∏∫ÔºåÂΩìÊàë‰ª¨Âú®‰ΩøÁî®ÂæÆ‰ø°Êó∂ÔºåÁßªÂä®Á´ØÈÄÄÂá∫Êó∂ÔºåPC Á´Ø‰πüÂ∫îËØ•Èöè‰πãÈÄÄÂá∫ÁôªÂΩïÔºåËøô‰∏™ÂÖ≥ËÅîÂ∞±Ëµ∑Âà∞Ëøô‰∏™‰ΩúÁî®„ÄÇÁÑ∂Âêé‰ºöÁîüÊàê‰∏Ä‰∏™‰∏ÄÊ¨°ÊÄß TokenÔºåËøô‰∏™ Token ‰ºöËøîÂõûÁªôÁßªÂä®Á´ØÔºå‰∏ÄÊ¨°ÊÄß Token Áî®‰ΩúÁ°ÆËÆ§Êó∂ÁöÑÂá≠ËØÅ„ÄÇ</p>\n<p>PC Á´ØËΩÆËØ¢Âà∞‰∫åÁª¥Á†ÅÁöÑÁä∂ÊÄÅÂ∑≤ÁªèÂèëÁîüÂèòÂåñÔºå‰ºöÂ∞Ü PC Á´ØÁöÑ‰∫åÁª¥Á†ÅÊõ¥Êñ∞‰∏∫Â∑≤Êâ´ÊèèÔºåËØ∑Á°ÆËÆ§„ÄÇ</p>\n<h3 id=\"Â∑≤Á°ÆËÆ§Èò∂ÊÆµ\"><a href=\"#Â∑≤Á°ÆËÆ§Èò∂ÊÆµ\" class=\"headerlink\" title=\"Â∑≤Á°ÆËÆ§Èò∂ÊÆµ\"></a>Â∑≤Á°ÆËÆ§Èò∂ÊÆµ</h3><p><strong>Â∑≤Á°ÆËÆ§Èò∂ÊÆµ</strong>‰∏∫ÊµÅÁ®ãÂõæ‰∏≠ÁöÑÊ≠•È™§ 11~15ÔºåËøôÊòØÊâ´Á†ÅÁôªÂΩïÁöÑÊúÄÂêéÈò∂ÊÆµÔºåÁî®Êà∑Á°ÆËÆ§ÁôªÂΩïÔºåÁßªÂä®Á´ØÊê∫Â∏¶‰∏ä‰∏ÄÊ≠•‰∏≠Ëé∑ÂèñÁöÑ <code>‰∏¥Êó∂ Token</code> ÂèëÈÄÅÁªôÊúçÂä°Á´ØÊ†°È™å„ÄÇÊúçÂä°Á´ØÊ†°È™åÂÆåÊàêÂêéÔºå‰ºöÊõ¥Êñ∞‰∫åÁª¥Á†ÅÁä∂ÊÄÅÔºåÂπ∂‰∏îÁªô PC Á´ØÁîüÊàê‰∏Ä‰∏™ <code>Ê≠£ÂºèÁöÑ Token</code>ÔºåÂêéÁª≠ PC Á´ØÂ∞±ÊòØÊåÅÊúâËøô‰∏™ Token ËÆøÈóÆÊúçÂä°Á´Ø„ÄÇ</p>\n<p>PC Á´ØÁöÑÂÆöÊó∂Âô®ÔºåËΩÆËØ¢Âà∞‰∫åÁª¥Á†ÅÁä∂ÊÄÅ‰∏∫Â∑≤ÁôªÂΩïÁä∂ÊÄÅÔºåÂπ∂‰∏î‰ºöËé∑ÂèñÂà∞‰∫ÜÁîüÊàêÁöÑ TokenÔºåÂÆåÊàêÁôªÂΩïÔºåÂêéÁª≠ËÆøÈóÆÈÉΩÂü∫‰∫é Token ÂÆåÊàê„ÄÇ</p>\n<p>Âú®ÊúçÂä°Á´Ø‰ºöË∑üÁßªÂä®Á´Ø‰∏ÄÊ†∑ÔºåÁª¥Êä§ÁùÄ Token Ë∑ü‰∫åÁª¥Á†Å„ÄÅPC ËÆæÂ§á‰ø°ÊÅØ„ÄÅË¥¶Âè∑Á≠â‰ø°ÊÅØ„ÄÇ</p>\n<h2 id=\"‰∏ÄÈîÆÁôªÂΩï\"><a href=\"#‰∏ÄÈîÆÁôªÂΩï\" class=\"headerlink\" title=\"‰∏ÄÈîÆÁôªÂΩï\"></a>‰∏ÄÈîÆÁôªÂΩï</h2><p>ÊúÄ‰º†ÁªüÁöÑÁôªÂΩïÊñπÂºèËé´Ëøá‰∫éÊèê‰æõË¥¶Âè∑ÂØÜÁ†ÅÊ†°È™åÔºå‰ΩÜËøôÊØ´Êó†ÁñëÈóÆÈúÄË¶ÅÊ∂àËÄóÁî®Êà∑ÁöÑËÆ∞ÂøÜÊàêÊú¨„ÄÇÈöèÁùÄÊó†Á∫ø‰∫íËÅîÁöÑÂèëÂ±ï‰ª•ÂèäÊâãÊú∫Âç°ÂÆûÂêçÂà∂ÁöÑÊé®ÂπøÔºåÊâãÊú∫Âè∑‰ø®ÁÑ∂Â∑≤Êàê‰∏∫ÁâπÂà´ÁöÑË∫´‰ªΩËØÅÊòéÔºå‰∏éË¥¶Âè∑ÂØÜÁ†ÅÁõ∏ÊØîÔºåÊâãÊú∫Âè∑ÂèØ‰ª•Êõ¥Â•ΩÂú∞È™åËØÅÁî®Êà∑ÁöÑË∫´‰ªΩÔºåÈò≤Ê≠¢ÊÅ∂ÊÑèÊ≥®ÂÜå„ÄÇ</p>\n<p>‰ΩÜÊòØÊâãÊú∫Âè∑Ê≥®ÂÜåËøòÊòØÈúÄË¶Å‰∏ÄÁ≥ªÂàóÁπÅÁêêÁöÑÊìç‰ΩúÔºöËæìÂÖ•ÊâãÊú∫Âè∑„ÄÅÁ≠âÂæÖÁü≠‰ø°È™åËØÅÁ†Å„ÄÅËæìÂÖ•È™åËØÅÁ†Å„ÄÅÁÇπÂáªÁôªÂΩï„ÄÇÊï¥‰∏™ÊµÅÁ®ãÂ∞ëËØ¥‰∫åÂçÅÁßíÔºåËÄå‰∏îÂ¶ÇÊûúÊî∂‰∏çÂà∞Áü≠‰ø°Ôºå‰πüÂ∞±ÁôªÂΩïË°•‰∫ÜÔºåËøôÁ±ªÈóÆÈ¢òÊúâÂèØËÉΩÂØºËá¥ÊΩúÂú®ÁöÑÁî®Êà∑ÊµÅÂ§±„ÄÇ</p>\n<p>Áü≠‰ø°È™åËØÅÁ†ÅÁöÑ‰ΩúÁî®Â∞±ÊòØËØÅÊòéÂΩìÂâçÊìç‰ΩúÈ°µÈù¢ÁöÑÁî®Êà∑‰∏éËæìÂÖ•ÊâãÊú∫Âè∑ÁöÑÁî®Êà∑‰∏∫Áõ∏ÂêåÁöÑ‰∫∫ÔºåÈÇ£‰πàÂÆûÈôÖ‰∏äÂè™Ë¶ÅÊàë‰ª¨ËÉΩÂ§üËé∑ÂèñÂà∞ÂΩìÂâçÊâãÊú∫ÁöÑÊâãÊú∫Âè∑Âπ∂‰∏éËæìÂÖ•ÁöÑÊâãÊú∫Âè∑ÂØπÊØîÂåπÈÖçÂêé‰æøËÉΩËææÂà∞Ê†°È™åÁöÑÂäüËÉΩ„ÄÇ‰ΩÜÊòØÔºåÊó†ËÆ∫ÊòØÂéüÁîü APP ËøòÊòØ H5 ÁΩëÈ°µÈÉΩÊòØ‰∏çÂÖ∑Â§áÁõ¥Êé•Ëé∑ÂèñÁî®Êà∑ÊâãÊú∫Âè∑ÁöÑÂäüËÉΩÁöÑÔºåËÄåËøôÁßçÈúÄÊ±ÇËøêËê•ÂïÜËÉΩÂ§üÈÄöËøáÊâãÊú∫ SIM Âç°ÁöÑÊµÅÈáèÊï∞ÊçÆÊü•ËØ¢„ÄÇÈöèÁùÄËøêËê•ÂïÜÂºÄÊîæ‰∫ÜÁõ∏ÂÖ≥ÁöÑÊúçÂä°ÔºåÊàë‰ª¨ËÉΩÂ§üÊé•ÂÖ•ËøêËê•ÂïÜÊèê‰æõÁöÑ SDK Âπ∂‰ªòË¥π‰ΩøÁî®Áõ∏ÂÖ≥ÁöÑÊúçÂä°„ÄÇ</p>\n<p>‰∏ãÂõæ‰∏∫‰∏ÄÈîÆÁôªÂΩïÁöÑÊµÅÁ®ãÂõæÔºö</p>\n<p><img src=\"https://img.mrsingsing.com/authentication-one-click-login-workflow.png\" alt=\"‰∏ÄÈîÆÁôªÂΩïÊµÅÁ®ãÂõæ\"></p>\n<p>‰∏ªË¶ÅÊ≠•È™§Ôºö</p>\n<ol>\n<li>SDK ÂàùÂßãÂåñÔºöË∞ÉÁî® SDK ÊñπÊ≥ïÔºå‰º†ÂÖ•Âπ≥Âè∞ÈÖçÁΩÆÁöÑ AppKey Âíå AppSecret</li>\n<li>Âî§Ëµ∑ÊéàÊùÉÈ°µÔºöË∞ÉÁî® SDK Âî§Ëµ∑ÊéàÊùÉÊé•Âè£ÔºåSDK ‰ºöÂÖàÂêëËøêËê•ÂïÜÂèëËµ∑Ëé∑ÂèñÊâãÊú∫Âè∑Êé©Á†ÅÁöÑËØ∑Ê±ÇÔºåËØ∑Ê±ÇÊàêÂäüÂêéË∑≥Âà∞ÊéàÊùÉÈ°µ„ÄÇÊéàÊùÉÈ°µ‰ºöÊòæÁ§∫ÊâãÊú∫Âè∑Êé©Á†Å‰ª•ÂèäËøêËê•ÂïÜÂçèËÆÆÁªôÁî®Êà∑Á°ÆËÆ§„ÄÇ</li>\n<li>ÂêåÊÑèÊéàÊùÉÂπ∂ÁôªÂΩïÔºöÁî®Êà∑ÂêåÊÑèÁõ∏ÂÖ≥ÂçèËÆÆÔºåÁÇπÂáªÊéàÊùÉÈ°µÈù¢ÁöÑÁôªÂΩïÊåâÈíÆÔºåSDK ‰ºöËØ∑Ê±ÇÊú¨Ê¨°ÂèñÂè∑ÁöÑ TokenÔºåËØ∑Ê±ÇÊàêÂäüÂêéÂ∞Ü Token ËøîÂõûÁªôÂÆ¢Êà∑Á´Ø</li>\n<li>ÂèñÂè∑ÔºöÂ∞ÜËé∑ÂèñÂà∞ÁöÑ Token ÂèëÈÄÅÂà∞Ëá™Â∑±ÁöÑÊúçÂä°Âô®ÔºåÁî±ÊúçÂä°Á´ØÊê∫Â∏¶ Token Ë∞ÉÁî®ËøêËê•ÂïÜ‰∏ÄÈîÆÁôªÂΩïÁöÑÊé•Âè£ÔºåË∞ÉÁî®ÈôàÂ∑•Â∞±ËøîÂõûÊâãÊú∫Âè∑Á†Å„ÄÇÊúçÂä°Á´ØÁî®ÊâãÊú∫Âè∑ËøõË°åÁôªÂΩïÊàñÊ≥®ÂÜåÊìç‰ΩúÔºåËøîÂõûÊìç‰ΩúÁªìÊûúÁªôÂÆ¢Êà∑Á´ØÔºåÂÆåÊàê‰∏ÄÈîÆÁôªÂΩï„ÄÇ</li>\n</ol>\n<p>Áî±‰∫éÂõΩÂÜÖ‰∏âÂ§ßËøêËê•ÂïÜÂêÑËá™ÊúâÁã¨Á´ãÁöÑ SDKÔºåÊâÄ‰ª•‰ºöÂØºËá¥ÂÖºÂÆπÊñπÈù¢ÁöÑÂ∑•‰Ωú‰ºöÁâπÂà´ÁπÅÁêê„ÄÇÂ¶ÇÊûúË¶ÅÈááÁî®‰∏ÄÈîÆÁôªÂΩïÁöÑÊñπÊ°àÔºå‰∏çÂ¶®ÈááÁî®Á¨¨‰∏âÊñπÊèê‰æõ‰∫ÜÂè∑Á†ÅËÆ§ËØÅÊúçÂä°Ôºå‰∏ãÂàóÂá†ÂÆ∂‰æõÂ∫îÂïÜÈÉΩÊã•ÊúâÊâãÊú∫Âè∑Á†ÅËÆ§ËØÅËÉΩÂäõÔºö</p>\n<ul>\n<li><a href=\"https://help.aliyun.com/product/75010.html\" target=\"_blank\" rel=\"noopener\">ÈòøÈáå - Âè∑Á†ÅËÆ§ËØÅÊúçÂä°</a></li>\n<li><a href=\"http://shanyan.253.com/\" target=\"_blank\" rel=\"noopener\">ÂàõËìù - Èó™È™å</a></li>\n<li><a href=\"https://www.jiguang.cn/identify\" target=\"_blank\" rel=\"noopener\">ÊûÅÂÖâ - ÊûÅÂÖâËÆ§ËØÅ</a></li>\n<li><a href=\"https://www.mob.com/mobService/secverify\" target=\"_blank\" rel=\"noopener\">mob - ÁßíÈ™å</a></li>\n</ul>\n<p>Âú®ËÆ§ËØÅËøáÁ®ã‰∏≠ÔºåÈúÄË¶ÅÁî®Êà∑ÊâìÂºÄËúÇÁ™ùÁΩëÁªúÔºåÂ¶ÇÊûúÊâãÊú∫ËÆæÂ§áÊ≤°ÊúâÊèíÂÖ• SIM Âç°„ÄÅÊàñËÄÖÂÖ≥Èó≠ËúÇÁ™ùÁΩëÁªúÁöÑÊÉÖÂÜµ‰∏ãÔºåÊòØÊó†Ê≥ïÂÆåÊàêËÆ§ËØÅÁöÑ„ÄÇÊâÄ‰ª•Â∞±ÁÆóÊé•ÂÖ•‰∏ÄÈîÆÁôªÂΩïÔºåËøòÊòØË¶ÅÂÖºÂÆπ‰º†ÁªüÁöÑÁôªÂΩïÊñπÂºèÔºåÂÖÅËÆ∏Áî®Êà∑Âú®Â§±Ë¥•ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ªçËÉΩÊ≠£Â∏∏ÂÆåÊàêÁôªÂΩïÊµÅÁ®ã„ÄÇ</p>\n<h2 id=\"ÊÄªÁªì\"><a href=\"#ÊÄªÁªì\" class=\"headerlink\" title=\"ÊÄªÁªì\"></a>ÊÄªÁªì</h2><p>Èâ¥ÊùÉÊéàÊùÉÊòØËÆ°ÁÆóÊú∫È¢ÜÂüüÊó†Ê≥ïË∫≤ÈÅøÁöÑÊäÄÊúØËÆÆÈ¢òÔºåËÆ§ËØÅ„ÄÅÊéàÊùÉ„ÄÅÈâ¥ÊùÉÂíåÊùÉÈôêÊéßÂà∂ÊòØÂõ¥ÁªïËøô‰∏™ËÆÆÈ¢òÁöÑÂá†‰∏™ÂÖ≥ÈîÆÊ¶ÇÂøµÔºöËÆ§ËØÅÔºàIdentificationÔºâÊòØÊåáÊ†πÊçÆÂ£∞ÊòéËÄÖÊèê‰æõÁöÑËµÑÊñôÔºåÁ°ÆËÆ§Â£∞ÊòéËÄÖË∫´‰ªΩÔºõÊéàÊùÉÔºàAuthorizationÔºâÂàôÊòØËµÑÊ∫êÊâÄÊúâËÄÖÂßîÊ¥æÊâßË°åËÄÖÔºåËµã‰∫àÊâßË°åËÄÖÊåáÂÆöËåÉÂõ¥ÁöÑËµÑÊ∫êÊìç‰ΩúÊùÉÈôêÔºå‰ª•‰æøÊâßË°åËÄÖ‰ª£ÁêÜÊâßË°åÂØπËµÑÊ∫êÁöÑÁõ∏ÂÖ≥Êìç‰ΩúÔºõÈâ¥ÊùÉÔºàAuthenticationÔºâÊåáÁöÑÂØπÂ£∞ÊòéËÄÖÊâÄÂ£∞ÊòéÁöÑÁúüÂÆûÊÄßËøõË°åÊ†°È™å„ÄÇ‰ªéÊéàÊùÉËßíÂ∫¶Âá∫ÂèëÔºå‰ºöÊõ¥Âä†ÂÆπÊòìÁêÜËß£Èâ¥ÊùÉ„ÄÇÊéàÊùÉÂíåÈâ¥ÊùÉÊòØ‰∏§‰∏™‰∏ä‰∏ãÊ∏∏Áõ∏ÂåπÈÖçÁöÑÂÖ≥Á≥ªÔºåÂÖàÊéàÊùÉÔºåÂêéÈâ¥ÊùÉ„ÄÇ</p>\n<ul>\n<li>Authorization ÂÜ≥ÂÆö‰Ω†ÊòØÂê¶ÊúâÊùÉÈôêÂéªËé∑ÂèñËµÑÊ∫ê</li>\n<li>Authentication Ê†°È™å‰Ω†ËØ¥‰Ω†ÊòØË∞Å</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ÊéàÊùÉ -&gt; Èâ¥ÊùÉ -&gt; ÊùÉÈôêÊéßÂà∂</span><br></pre></td></tr></table></figure>\n<p>Ëä±‰∫Ü‰∏ÄÂë®Êó∂Èó¥Â∞ÜÁôªÂΩïÈâ¥ÊùÉÊéàÊùÉÊñπÈù¢ÁöÑÁü•ËØÜÊÄªÁªì‰∫Ü‰∏ÄÁï™ÔºåÁ°ÆËÆ§ÂØπÂêÑÁßçÊñπÊ°àÁöÑÂÆûÊñΩÁªÜËäÇÔºå‰ª•ÂèäËÆæËÆ°ÂéüÁêÜ„ÄÅÊñπÊ°à‰ºòÂä£ÈÉΩÊúâ‰∫ÜÊõ¥Ê∑±‰∏ÄÂ±ÇÁöÑ‰∫ÜËß£ÔºåÂú®Â≠¶‰π†ÁöÑËøáÁ®ã‰∏≠‰∏çÂÖç‰ºöËÅîÊÉ≥Âà∞Êó†ËÆ∫ÊòØÁîüÊ¥ª‰∏≠ÂêÑÁßçÁ±ª‰ººÁöÑÂú∫ÊôØÔºå‰πü‰ºöÊÉ≥Âà∞ËÆ°ÁÆóÊú∫È¢ÜÂüü‰∏≠ËØ∏Â¶Ç Linux Á≥ªÁªü„ÄÅÊï∞ÊçÆÂ∫ìÁ≠âÊùÉÈôêÊéßÂà∂Áõ∏ÂÖ≥Êú∫Âà∂„ÄÇËøôÊòØ‰∏™ËûçÊ±áË¥ØÈÄöÁöÑÂ≠¶‰π†ËøáÁ®ãÔºåÂèëÁé∞ËøôÁßçÈíàÂØπÊüê‰∏™ËÆÆÈ¢òÁöÑ‰ΩìÁ≥ªÂºèÊï¥ÁêÜÔºåÂØπÂâçÁ´ØÊäÄÊúØ‰ΩìÁ≥ª‰∏≠ÂêÑ‰∏™Áã¨Á´ãÁöÑÁÇπËøûÈÄöËµ∑Âà∞‰∫Ü‰∏çÈîôÁöÑÊïàÊûú„ÄÇ</p>\n<hr>\n<p><strong>ÂèÇËÄÉËµÑÊñôÔºö</strong></p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Basic_access_authentication\" target=\"_blank\" rel=\"noopener\">üìñ WikipediaÔºöBasic Access Authentication</a></li>\n<li><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Authentication\" target=\"_blank\" rel=\"noopener\">üìñ HTTP Ë∫´‰ªΩÈ™åËØÅ Authentication</a></li>\n<li><a href=\"https://tools.ietf.org/html/rfc7519\" target=\"_blank\" rel=\"noopener\">üìñ RFC 7019 - JSON Web TokenÔºàJWTÔºâ</a></li>\n<li><a href=\"https://apereo.github.io/cas/4.2.x/index.html\" target=\"_blank\" rel=\"noopener\">üìñ CAS ÂÆòÊñπÊñáÊ°£</a></li>\n<li><a href=\"https://juejin.im/entry/5ac175baf265da239e4e3999\" target=\"_blank\" rel=\"noopener\">üìù ‰∏ÄÊñáËØªÊáÇ HTTP Basic Ë∫´‰ªΩËÆ§ËØÅ</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/43527568\" target=\"_blank\" rel=\"noopener\">üìù ‰Ω†Âú®Áî® JWT ‰ª£Êõø SessionÔºü</a></li>\n<li><a href=\"https://juejin.im/post/5cefad23e51d4510774a87f4#heading-4\" target=\"_blank\" rel=\"noopener\">üìù Áî®Êà∑ËÆ§ËØÅÔºöÂü∫‰∫é JWT Âíå Session ÁöÑÂå∫Âà´Âíå‰ºòÁº∫ÁÇπ</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/85873228\" target=\"_blank\" rel=\"noopener\">üìù JWT Ë∫´‰ªΩËÆ§ËØÅ‰ºòÁº∫ÁÇπÂàÜÊûê‰ª•ÂèäÂ∏∏ËßÅÈóÆÈ¢òËß£ÂÜ≥ÊñπÊ°à</a></li>\n<li><a href=\"https://juejin.im/post/5a002b536fb9a045132a1727\" target=\"_blank\" rel=\"noopener\">üìù ÂâçÁ´ØÈúÄË¶Å‰∫ÜËß£ÁöÑ SSO ‰∏é CAS Áü•ËØÜ</a></li>\n<li><a href=\"https://juejin.im/post/5b51f39b5188251a9f24a264\" target=\"_blank\" rel=\"noopener\">üìù ‰∏çÂä°Ê≠£‰∏öÁöÑÂâçÁ´Ø‰πã SSOÔºàÂçïÁÇπÁôªÂΩïÔºâÂÆûË∑µ</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/102898335\" target=\"_blank\" rel=\"noopener\">üìù Èù¢ËØïÈ¢òÔºöÁªôÊàëËØ¥‰∏Ä‰∏ã‰Ω†È°πÁõÆ‰∏≠ÁöÑÂçïÁÇπÁôªÂΩïÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑ</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/60376970\" target=\"_blank\" rel=\"noopener\">üìù ÂçïÁÇπÁôªÂΩïÁ≥ªÁªü</a></li>\n<li><a href=\"https://www.cnblogs.com/ywlaker/p/6113927.html\" target=\"_blank\" rel=\"noopener\">üìù ÂçïÁÇπÁôªÂΩïÂéüÁêÜ‰∏éÁÆÄÂçïÂÆûÁé∞</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/92263756\" target=\"_blank\" rel=\"noopener\">üìù ÂçïÁÇπÁôªÂΩï LDAP ÂçèËÆÆ</a></li>\n<li><a href=\"https://www.zhihu.com/question/21387523\" target=\"_blank\" rel=\"noopener\">üìù ‰ø°‰ªªÁôªÂΩï‰∏éËÅîÂêàÁôªÂΩïÊúâ‰ªÄ‰πàÂ∑ÆÂºÇÔºü</a></li>\n<li><a href=\"https://juejin.im/entry/5a93506e6fb9a0634c268da8\" target=\"_blank\" rel=\"noopener\">üìù OAuth2.0 Ê∑±ÂÖ•‰∫ÜËß£Ôºö‰ª•ÂæÆ‰ø°ÂºÄÂèëÂπ≥Âè∞Áªü‰∏ÄÁôªÂΩï‰∏∫‰æã</a></li>\n<li><a href=\"https://www.cnblogs.com/hellxz/p/oauth2_process.html\" target=\"_blank\" rel=\"noopener\">üìù OAuth 2.0 Ê¶ÇÂøµÂèäÊéàÊùÉÊµÅÁ®ãÊ¢≥ÁêÜ</a></li>\n<li><a href=\"https://juejin.im/post/5d15d3336fb9a07efb69994f\" target=\"_blank\" rel=\"noopener\">üìù ËÆ∫ H5 ÂµåÂÖ• APP ÁöÑËÅîÂêàÁôªÂΩïÁöÑËß£ÂÜ≥ÊñπÊ°à</a></li>\n<li><a href=\"https://juejin.im/post/5e83e716e51d4546c27bb559\" target=\"_blank\" rel=\"noopener\">üìù ËÅä‰∏ÄËÅä‰∫åÁª¥Á†ÅÊâ´ÊèèÁôªÂΩïÂéüÁêÜ</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/gA0JQp4j2ym9qOyQkC3qkA\" target=\"_blank\" rel=\"noopener\">üìù ÈòøÈáåÈù¢ËØïÂÆòÔºöÂàÜÂà´ËØ¥ËØ¥ÂæÆ‰ø°ÂíåÊ∑òÂÆùÊâ´Á†ÅÁôªÂΩïËÉåÂêéÁöÑÂÆûÁé∞ÂéüÁêÜ</a></li>\n<li><a href=\"https://juejin.im/post/5d197adff265da1bb31c4fa9\" target=\"_blank\" rel=\"noopener\">üìù Áî®Êà∑‰∏ÄÈîÆÁôªÂΩïÔºåÂ¶Ç‰ΩïÂÆûÁé∞</a></li>\n<li><a href=\"https://learnku.com/articles/30704\" target=\"_blank\" rel=\"noopener\">üìù ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏ãÁöÑÈâ¥ÊùÉÔºåÊÄé‰πàÂÅöÊõ¥‰ºòÈõÖÔºü</a></li>\n<li><a href=\"http://www.hyhblog.cn/2018/04/25/user_login_auth_terms/\" target=\"_blank\" rel=\"noopener\">üìù ËÆ§ËØÅ„ÄÅÊéàÊùÉ„ÄÅÈâ¥ÊùÉÂíåÊùÉÈôêÊéßÂà∂</a></li>\n</ul>"}],"PostAsset":[],"PostCategory":[],"PostTag":[],"Tag":[]}}